function mX(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function $p(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ER={exports:{}},B1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q4;function gX(){if(q4)return B1;q4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return B1.Fragment=e,B1.jsx=t,B1.jsxs=t,B1}var W4;function yX(){return W4||(W4=1,ER.exports=gX()),ER.exports}var Z=yX(),TR={exports:{}},Cn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $4;function vX(){if($4)return Cn;$4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=y&&Y[y]||Y["@@iterator"],typeof Y=="function"?Y:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function b(Y,le,pe){this.props=Y,this.context=le,this.refs=E,this.updater=pe||_}b.prototype.isReactComponent={},b.prototype.setState=function(Y,le){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,le,"setState")},b.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function w(){}w.prototype=b.prototype;function A(Y,le,pe){this.props=Y,this.context=le,this.refs=E,this.updater=pe||_}var C=A.prototype=new w;C.constructor=A,S(C,b.prototype),C.isPureReactComponent=!0;var D=Array.isArray;function L(){}var P={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function I(Y,le,pe){var ue=pe.ref;return{$$typeof:n,type:Y,key:le,ref:ue!==void 0?ue:null,props:pe}}function N(Y,le){return I(Y.type,le,Y.props)}function F(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function z(Y){var le={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(pe){return le[pe]})}var V=/\/+/g;function K(Y,le){return typeof Y=="object"&&Y!==null&&Y.key!=null?z(""+Y.key):le.toString(36)}function ee(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(L,L):(Y.status="pending",Y.then(function(le){Y.status==="pending"&&(Y.status="fulfilled",Y.value=le)},function(le){Y.status==="pending"&&(Y.status="rejected",Y.reason=le)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function q(Y,le,pe,ue,ie){var he=typeof Y;(he==="undefined"||he==="boolean")&&(Y=null);var ye=!1;if(Y===null)ye=!0;else switch(he){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(Y.$$typeof){case n:case e:ye=!0;break;case h:return ye=Y._init,q(ye(Y._payload),le,pe,ue,ie)}}if(ye)return ie=ie(Y),ye=ue===""?"."+K(Y,0):ue,D(ie)?(pe="",ye!=null&&(pe=ye.replace(V,"$&/")+"/"),q(ie,le,pe,"",function(Ge){return Ge})):ie!=null&&(F(ie)&&(ie=N(ie,pe+(ie.key==null||Y&&Y.key===ie.key?"":(""+ie.key).replace(V,"$&/")+"/")+ye)),le.push(ie)),1;ye=0;var Ve=ue===""?".":ue+":";if(D(Y))for(var Xe=0;Xe<Y.length;Xe++)ue=Y[Xe],he=Ve+K(ue,Xe),ye+=q(ue,le,pe,he,ie);else if(Xe=v(Y),typeof Xe=="function")for(Y=Xe.call(Y),Xe=0;!(ue=Y.next()).done;)ue=ue.value,he=Ve+K(ue,Xe++),ye+=q(ue,le,pe,he,ie);else if(he==="object"){if(typeof Y.then=="function")return q(ee(Y),le,pe,ue,ie);throw le=String(Y),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return ye}function $(Y,le,pe){if(Y==null)return Y;var ue=[],ie=0;return q(Y,ue,"","",function(he){return le.call(pe,he,ie++)}),ue}function Q(Y){if(Y._status===-1){var le=Y._result;le=le(),le.then(function(pe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=pe)},function(pe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=pe)}),Y._status===-1&&(Y._status=0,Y._result=le)}if(Y._status===1)return Y._result.default;throw Y._result}var re=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},de={map:$,forEach:function(Y,le,pe){$(Y,function(){le.apply(this,arguments)},pe)},count:function(Y){var le=0;return $(Y,function(){le++}),le},toArray:function(Y){return $(Y,function(le){return le})||[]},only:function(Y){if(!F(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Cn.Activity=p,Cn.Children=de,Cn.Component=b,Cn.Fragment=t,Cn.Profiler=r,Cn.PureComponent=A,Cn.StrictMode=i,Cn.Suspense=c,Cn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Cn.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return P.H.useMemoCache(Y)}},Cn.cache=function(Y){return function(){return Y.apply(null,arguments)}},Cn.cacheSignal=function(){return null},Cn.cloneElement=function(Y,le,pe){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var ue=S({},Y.props),ie=Y.key;if(le!=null)for(he in le.key!==void 0&&(ie=""+le.key),le)!U.call(le,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&le.ref===void 0||(ue[he]=le[he]);var he=arguments.length-2;if(he===1)ue.children=pe;else if(1<he){for(var ye=Array(he),Ve=0;Ve<he;Ve++)ye[Ve]=arguments[Ve+2];ue.children=ye}return I(Y.type,ie,ue)},Cn.createContext=function(Y){return Y={$$typeof:a,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},Cn.createElement=function(Y,le,pe){var ue,ie={},he=null;if(le!=null)for(ue in le.key!==void 0&&(he=""+le.key),le)U.call(le,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ie[ue]=le[ue]);var ye=arguments.length-2;if(ye===1)ie.children=pe;else if(1<ye){for(var Ve=Array(ye),Xe=0;Xe<ye;Xe++)Ve[Xe]=arguments[Xe+2];ie.children=Ve}if(Y&&Y.defaultProps)for(ue in ye=Y.defaultProps,ye)ie[ue]===void 0&&(ie[ue]=ye[ue]);return I(Y,he,ie)},Cn.createRef=function(){return{current:null}},Cn.forwardRef=function(Y){return{$$typeof:o,render:Y}},Cn.isValidElement=F,Cn.lazy=function(Y){return{$$typeof:h,_payload:{_status:-1,_result:Y},_init:Q}},Cn.memo=function(Y,le){return{$$typeof:u,type:Y,compare:le===void 0?null:le}},Cn.startTransition=function(Y){var le=P.T,pe={};P.T=pe;try{var ue=Y(),ie=P.S;ie!==null&&ie(pe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(L,re)}catch(he){re(he)}finally{le!==null&&pe.types!==null&&(le.types=pe.types),P.T=le}},Cn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Cn.use=function(Y){return P.H.use(Y)},Cn.useActionState=function(Y,le,pe){return P.H.useActionState(Y,le,pe)},Cn.useCallback=function(Y,le){return P.H.useCallback(Y,le)},Cn.useContext=function(Y){return P.H.useContext(Y)},Cn.useDebugValue=function(){},Cn.useDeferredValue=function(Y,le){return P.H.useDeferredValue(Y,le)},Cn.useEffect=function(Y,le){return P.H.useEffect(Y,le)},Cn.useEffectEvent=function(Y){return P.H.useEffectEvent(Y)},Cn.useId=function(){return P.H.useId()},Cn.useImperativeHandle=function(Y,le,pe){return P.H.useImperativeHandle(Y,le,pe)},Cn.useInsertionEffect=function(Y,le){return P.H.useInsertionEffect(Y,le)},Cn.useLayoutEffect=function(Y,le){return P.H.useLayoutEffect(Y,le)},Cn.useMemo=function(Y,le){return P.H.useMemo(Y,le)},Cn.useOptimistic=function(Y,le){return P.H.useOptimistic(Y,le)},Cn.useReducer=function(Y,le,pe){return P.H.useReducer(Y,le,pe)},Cn.useRef=function(Y){return P.H.useRef(Y)},Cn.useState=function(Y){return P.H.useState(Y)},Cn.useSyncExternalStore=function(Y,le,pe){return P.H.useSyncExternalStore(Y,le,pe)},Cn.useTransition=function(){return P.H.useTransition()},Cn.version="19.2.3",Cn}var X4;function s_(){return X4||(X4=1,TR.exports=vX()),TR.exports}var H=s_();const ar=$p(H),nI=mX({__proto__:null,default:ar},[H]);var wR={exports:{}},F1={},CR={exports:{}},AR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y4;function _X(){return Y4||(Y4=1,(function(n){function e(q,$){var Q=q.length;q.push($);e:for(;0<Q;){var re=Q-1>>>1,de=q[re];if(0<r(de,$))q[re]=$,q[Q]=de,Q=re;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var $=q[0],Q=q.pop();if(Q!==$){q[0]=Q;e:for(var re=0,de=q.length,Y=de>>>1;re<Y;){var le=2*(re+1)-1,pe=q[le],ue=le+1,ie=q[ue];if(0>r(pe,Q))ue<de&&0>r(ie,pe)?(q[re]=ie,q[ue]=Q,re=ue):(q[re]=pe,q[le]=Q,re=le);else if(ue<de&&0>r(ie,Q))q[re]=ie,q[ue]=Q,re=ue;else break e}}return $}function r(q,$){var Q=q.sortIndex-$.sortIndex;return Q!==0?Q:q.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var c=[],u=[],h=1,p=null,y=3,v=!1,_=!1,S=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(q){for(var $=t(u);$!==null;){if($.callback===null)i(u);else if($.startTime<=q)i(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=t(u)}}function D(q){if(S=!1,C(q),!_)if(t(c)!==null)_=!0,L||(L=!0,z());else{var $=t(u);$!==null&&ee(D,$.startTime-q)}}var L=!1,P=-1,U=5,I=-1;function N(){return E?!0:!(n.unstable_now()-I<U)}function F(){if(E=!1,L){var q=n.unstable_now();I=q;var $=!0;try{e:{_=!1,S&&(S=!1,w(P),P=-1),v=!0;var Q=y;try{t:{for(C(q),p=t(c);p!==null&&!(p.expirationTime>q&&N());){var re=p.callback;if(typeof re=="function"){p.callback=null,y=p.priorityLevel;var de=re(p.expirationTime<=q);if(q=n.unstable_now(),typeof de=="function"){p.callback=de,C(q),$=!0;break t}p===t(c)&&i(c),C(q)}else i(c);p=t(c)}if(p!==null)$=!0;else{var Y=t(u);Y!==null&&ee(D,Y.startTime-q),$=!1}}break e}finally{p=null,y=Q,v=!1}$=void 0}}finally{$?z():L=!1}}}var z;if(typeof A=="function")z=function(){A(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=F,z=function(){K.postMessage(null)}}else z=function(){b(F,0)};function ee(q,$){P=b(function(){q(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(q){switch(y){case 1:case 2:case 3:var $=3;break;default:$=y}var Q=y;y=$;try{return q()}finally{y=Q}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=y;y=q;try{return $()}finally{y=Q}},n.unstable_scheduleCallback=function(q,$,Q){var re=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?re+Q:re):Q=re,q){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Q+de,q={id:h++,callback:$,priorityLevel:q,startTime:Q,expirationTime:de,sortIndex:-1},Q>re?(q.sortIndex=Q,e(u,q),t(c)===null&&q===t(u)&&(S?(w(P),P=-1):S=!0,ee(D,Q-re))):(q.sortIndex=de,e(c,q),_||v||(_=!0,L||(L=!0,z()))),q},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(q){var $=y;return function(){var Q=y;y=$;try{return q.apply(this,arguments)}finally{y=Q}}}})(AR)),AR}var K4;function bX(){return K4||(K4=1,CR.exports=_X()),CR.exports}var MR={exports:{}},Va={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z4;function xX(){if(Z4)return Va;Z4=1;var n=s_();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,u,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:c,containerInfo:u,implementation:h}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Va.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Va.createPortal=function(c,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(c,u,null,h)},Va.flushSync=function(c){var u=a.T,h=i.p;try{if(a.T=null,i.p=2,c)return c()}finally{a.T=u,i.p=h,i.d.f()}},Va.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(c,u))},Va.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Va.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var h=u.as,p=o(h,u.crossOrigin),y=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?i.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:v}):h==="script"&&i.d.X(c,{crossOrigin:p,integrity:y,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Va.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=o(u.as,u.crossOrigin);i.d.M(c,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(c)},Va.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,p=o(h,u.crossOrigin);i.d.L(c,h,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Va.preloadModule=function(c,u){if(typeof c=="string")if(u){var h=o(u.as,u.crossOrigin);i.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(c)},Va.requestFormReset=function(c){i.d.r(c)},Va.unstable_batchedUpdates=function(c,u){return c(u)},Va.useFormState=function(c,u,h){return a.H.useFormState(c,u,h)},Va.useFormStatus=function(){return a.H.useHostTransitionStatus()},Va.version="19.2.3",Va}var Q4;function OF(){if(Q4)return MR.exports;Q4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),MR.exports=xX(),MR.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J4;function SX(){if(J4)return F1;J4=1;var n=bX(),e=s_(),t=OF();function i(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var f=l,g=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(g=f.return),l=f.return;while(l)}return f.tag===3?g:null}function a(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function o(l){if(l.tag===31){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function c(l){if(s(l)!==l)throw Error(i(188))}function u(l){var f=l.alternate;if(!f){if(f=s(l),f===null)throw Error(i(188));return f!==l?null:l}for(var g=l,x=f;;){var R=g.return;if(R===null)break;var k=R.alternate;if(k===null){if(x=R.return,x!==null){g=x;continue}break}if(R.child===k.child){for(k=R.child;k;){if(k===g)return c(R),l;if(k===x)return c(R),f;k=k.sibling}throw Error(i(188))}if(g.return!==x.return)g=R,x=k;else{for(var W=!1,ne=R.child;ne;){if(ne===g){W=!0,g=R,x=k;break}if(ne===x){W=!0,x=R,g=k;break}ne=ne.sibling}if(!W){for(ne=k.child;ne;){if(ne===g){W=!0,g=k,x=R;break}if(ne===x){W=!0,x=k,g=R;break}ne=ne.sibling}if(!W)throw Error(i(189))}}if(g.alternate!==x)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?l:f}function h(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=h(l),f!==null)return f;l=l.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function z(l){return l===null||typeof l!="object"?null:(l=F&&l[F]||l["@@iterator"],typeof l=="function"?l:null)}var V=Symbol.for("react.client.reference");function K(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===V?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case S:return"Fragment";case b:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case L:return"SuspenseList";case I:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case _:return"Portal";case A:return l.displayName||"Context";case w:return(l._context.displayName||"Context")+".Consumer";case C:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case P:return f=l.displayName||null,f!==null?f:K(l.type)||"Memo";case U:f=l._payload,l=l._init;try{return K(l(f))}catch{}}return null}var ee=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},re=[],de=-1;function Y(l){return{current:l}}function le(l){0>de||(l.current=re[de],re[de]=null,de--)}function pe(l,f){de++,re[de]=l.current,l.current=f}var ue=Y(null),ie=Y(null),he=Y(null),ye=Y(null);function Ve(l,f){switch(pe(he,f),pe(ie,l),pe(ue,null),f.nodeType){case 9:case 11:l=(l=f.documentElement)&&(l=l.namespaceURI)?p4(l):0;break;default:if(l=f.tagName,f=f.namespaceURI)f=p4(f),l=m4(f,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}le(ue),pe(ue,l)}function Xe(){le(ue),le(ie),le(he)}function Ge(l){l.memoizedState!==null&&pe(ye,l);var f=ue.current,g=m4(f,l.type);f!==g&&(pe(ie,l),pe(ue,g))}function rt(l){ie.current===l&&(le(ue),le(ie)),ye.current===l&&(le(ye),L1._currentValue=Q)}var lt,pt;function te(l){if(lt===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);lt=f&&f[1]||"",pt=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lt+l+pt}var Oe=!1;function Be(l,f){if(!l||Oe)return"";Oe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(f){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(We){var ke=We}Reflect.construct(l,[],tt)}else{try{tt.call()}catch(We){ke=We}l.call(tt.prototype)}}else{try{throw Error()}catch(We){ke=We}(tt=l())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(We){if(We&&ke&&typeof We.stack=="string")return[We.stack,ke.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=x.DetermineComponentFrameRoot(),W=k[0],ne=k[1];if(W&&ne){var ge=W.split(`
`),Pe=ne.split(`
`);for(R=x=0;x<ge.length&&!ge[x].includes("DetermineComponentFrameRoot");)x++;for(;R<Pe.length&&!Pe[R].includes("DetermineComponentFrameRoot");)R++;if(x===ge.length||R===Pe.length)for(x=ge.length-1,R=Pe.length-1;1<=x&&0<=R&&ge[x]!==Pe[R];)R--;for(;1<=x&&0<=R;x--,R--)if(ge[x]!==Pe[R]){if(x!==1||R!==1)do if(x--,R--,0>R||ge[x]!==Pe[R]){var Ye=`
`+ge[x].replace(" at new "," at ");return l.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",l.displayName)),Ye}while(1<=x&&0<=R);break}}}finally{Oe=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?te(g):""}function Ne(l,f){switch(l.tag){case 26:case 27:case 5:return te(l.type);case 16:return te("Lazy");case 13:return l.child!==f&&f!==null?te("Suspense Fallback"):te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return Be(l.type,!1);case 11:return Be(l.type.render,!1);case 1:return Be(l.type,!0);case 31:return te("Activity");default:return""}}function Me(l){try{var f="",g=null;do f+=Ne(l,g),g=l,l=l.return;while(l);return f}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var ut=Object.prototype.hasOwnProperty,qe=n.unstable_scheduleCallback,ae=n.unstable_cancelCallback,J=n.unstable_shouldYield,Se=n.unstable_requestPaint,Ae=n.unstable_now,Ze=n.unstable_getCurrentPriorityLevel,Re=n.unstable_ImmediatePriority,ct=n.unstable_UserBlockingPriority,ft=n.unstable_NormalPriority,Dt=n.unstable_LowPriority,kt=n.unstable_IdlePriority,$e=n.log,dt=n.unstable_setDisableYieldValue,wt=null,At=null;function vt(l){if(typeof $e=="function"&&dt(l),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(wt,l)}catch{}}var jt=Math.clz32?Math.clz32:ve,ot=Math.log,Lt=Math.LN2;function ve(l){return l>>>=0,l===0?32:31-(ot(l)/Lt|0)|0}var gt=256,Fe=262144,Qe=4194304;function xt(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function _t(l,f,g){var x=l.pendingLanes;if(x===0)return 0;var R=0,k=l.suspendedLanes,W=l.pingedLanes;l=l.warmLanes;var ne=x&134217727;return ne!==0?(x=ne&~k,x!==0?R=xt(x):(W&=ne,W!==0?R=xt(W):g||(g=ne&~l,g!==0&&(R=xt(g))))):(ne=x&~k,ne!==0?R=xt(ne):W!==0?R=xt(W):g||(g=x&~l,g!==0&&(R=xt(g)))),R===0?0:f!==0&&f!==R&&(f&k)===0&&(k=R&-R,g=f&-f,k>=g||k===32&&(g&4194048)!==0)?f:R}function Qt(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function $n(l,f){switch(l){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zt(){var l=Qe;return Qe<<=1,(Qe&62914560)===0&&(Qe=4194304),l}function Jt(l){for(var f=[],g=0;31>g;g++)f.push(l);return f}function St(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Mt(l,f,g,x,R,k){var W=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var ne=l.entanglements,ge=l.expirationTimes,Pe=l.hiddenUpdates;for(g=W&~g;0<g;){var Ye=31-jt(g),tt=1<<Ye;ne[Ye]=0,ge[Ye]=-1;var ke=Pe[Ye];if(ke!==null)for(Pe[Ye]=null,Ye=0;Ye<ke.length;Ye++){var We=ke[Ye];We!==null&&(We.lane&=-536870913)}g&=~tt}x!==0&&kn(l,x,0),k!==0&&R===0&&l.tag!==0&&(l.suspendedLanes|=k&~(W&~f))}function kn(l,f,g){l.pendingLanes|=f,l.suspendedLanes&=~f;var x=31-jt(f);l.entangledLanes|=f,l.entanglements[x]=l.entanglements[x]|1073741824|g&261930}function _n(l,f){var g=l.entangledLanes|=f;for(l=l.entanglements;g;){var x=31-jt(g),R=1<<x;R&f|l[x]&f&&(l[x]|=f),g&=~R}}function zn(l,f){var g=f&-f;return g=(g&42)!==0?1:Li(g),(g&(l.suspendedLanes|f))!==0?0:g}function Li(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Rs(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function $i(){var l=$.p;return l!==0?l:(l=window.event,l===void 0?32:z4(l.type))}function Hr(l,f){var g=$.p;try{return $.p=l,f()}finally{$.p=g}}var jr=Math.random().toString(36).slice(2),yn="__reactFiber$"+jr,fr="__reactProps$"+jr,aa="__reactContainer$"+jr,ll="__reactEvents$"+jr,io="__reactListeners$"+jr,ad="__reactHandles$"+jr,Pc="__reactResources$"+jr,ro="__reactMarker$"+jr;function cl(l){delete l[yn],delete l[fr],delete l[ll],delete l[io],delete l[ad]}function se(l){var f=l[yn];if(f)return f;for(var g=l.parentNode;g;){if(f=g[aa]||g[yn]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(l=S4(l);l!==null;){if(g=l[yn])return g;l=S4(l)}return f}l=g,g=l.parentNode}return null}function _e(l){if(l=l[yn]||l[aa]){var f=l.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return l}return null}function Le(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l.stateNode;throw Error(i(33))}function De(l){var f=l[Pc];return f||(f=l[Pc]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function xe(l){l[ro]=!0}var st=new Set,Tt={};function Ct(l,f){Ot(l,f),Ot(l+"Capture",f)}function Ot(l,f){for(Tt[l]=f,l=0;l<f.length;l++)st.add(f[l])}var sn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),en={},Gt={};function Bn(l){return ut.call(Gt,l)?!0:ut.call(en,l)?!1:sn.test(l)?Gt[l]=!0:(en[l]=!0,!1)}function Ln(l,f,g){if(Bn(f))if(g===null)l.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(f);return;case"boolean":var x=f.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){l.removeAttribute(f);return}}l.setAttribute(f,""+g)}}function bi(l,f,g){if(g===null)l.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttribute(f,""+g)}}function Wn(l,f,g,x){if(x===null)l.removeAttribute(g);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(f,g,""+x)}}function un(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Xt(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function hr(l,f,g){var x=Object.getOwnPropertyDescriptor(l.constructor.prototype,f);if(!l.hasOwnProperty(f)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var R=x.get,k=x.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return R.call(this)},set:function(W){g=""+W,k.call(this,W)}}),Object.defineProperty(l,f,{enumerable:x.enumerable}),{getValue:function(){return g},setValue:function(W){g=""+W},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function Gn(l){if(!l._valueTracker){var f=Xt(l)?"checked":"value";l._valueTracker=hr(l,f,""+l[f])}}function ms(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var g=f.getValue(),x="";return l&&(x=Xt(l)?l.checked?"true":"false":l.value),l=x,l!==g?(f.setValue(l),!0):!1}function oa(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var nr=/[\n"\\]/g;function Ai(l){return l.replace(nr,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function ei(l,f,g,x,R,k,W,ne){l.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?l.type=W:l.removeAttribute("type"),f!=null?W==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+un(f)):l.value!==""+un(f)&&(l.value=""+un(f)):W!=="submit"&&W!=="reset"||l.removeAttribute("value"),f!=null?Gr(l,W,un(f)):g!=null?Gr(l,W,un(g)):x!=null&&l.removeAttribute("value"),R==null&&k!=null&&(l.defaultChecked=!!k),R!=null&&(l.checked=R&&typeof R!="function"&&typeof R!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?l.name=""+un(ne):l.removeAttribute("name")}function Er(l,f,g,x,R,k,W,ne){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(l.type=k),f!=null||g!=null){if(!(k!=="submit"&&k!=="reset"||f!=null)){Gn(l);return}g=g!=null?""+un(g):"",f=f!=null?""+un(f):g,ne||f===l.value||(l.value=f),l.defaultValue=f}x=x??R,x=typeof x!="function"&&typeof x!="symbol"&&!!x,l.checked=ne?l.checked:!!x,l.defaultChecked=!!x,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(l.name=W),Gn(l)}function Gr(l,f,g){f==="number"&&oa(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function hn(l,f,g,x){if(l=l.options,f){f={};for(var R=0;R<g.length;R++)f["$"+g[R]]=!0;for(g=0;g<l.length;g++)R=f.hasOwnProperty("$"+l[g].value),l[g].selected!==R&&(l[g].selected=R),R&&x&&(l[g].defaultSelected=!0)}else{for(g=""+un(g),f=null,R=0;R<l.length;R++){if(l[R].value===g){l[R].selected=!0,x&&(l[R].defaultSelected=!0);return}f!==null||l[R].disabled||(f=l[R])}f!==null&&(f.selected=!0)}}function or(l,f,g){if(f!=null&&(f=""+un(f),f!==l.value&&(l.value=f),g==null)){l.defaultValue!==f&&(l.defaultValue=f);return}l.defaultValue=g!=null?""+un(g):""}function Os(l,f,g,x){if(f==null){if(x!=null){if(g!=null)throw Error(i(92));if(ee(x)){if(1<x.length)throw Error(i(93));x=x[0]}g=x}g==null&&(g=""),f=g}g=un(f),l.defaultValue=g,x=l.textContent,x===g&&x!==""&&x!==null&&(l.value=x),Gn(l)}function Tr(l,f){if(f){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=f;return}}l.textContent=f}var od=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(l,f,g){var x=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?x?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="":x?l.setProperty(f,g):typeof g!="number"||g===0||od.has(f)?f==="float"?l.cssFloat=g:l[f]=(""+g).trim():l[f]=g+"px"}function nm(l,f,g){if(f!=null&&typeof f!="object")throw Error(i(62));if(l=l.style,g!=null){for(var x in g)!g.hasOwnProperty(x)||f!=null&&f.hasOwnProperty(x)||(x.indexOf("--")===0?l.setProperty(x,""):x==="float"?l.cssFloat="":l[x]="");for(var R in f)x=f[R],f.hasOwnProperty(R)&&g[R]!==x&&Eu(l,R,x)}else for(var k in f)f.hasOwnProperty(k)&&Eu(l,k,f[k])}function Uf(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),py=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ul(l){return py.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function is(){}var Tu=null;function kf(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Vl=null,la=null;function im(l){var f=_e(l);if(f&&(l=f.stateNode)){var g=l[fr]||null;e:switch(l=f.stateNode,f.type){case"input":if(ei(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Ai(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var x=g[f];if(x!==l&&x.form===l.form){var R=x[fr]||null;if(!R)throw Error(i(90));ei(x,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(f=0;f<g.length;f++)x=g[f],x.form===l.form&&ms(x)}break e;case"textarea":or(l,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&hn(l,!!g.multiple,f,!1)}}}var ld=!1;function rm(l,f,g){if(ld)return l(f,g);ld=!0;try{var x=l(f);return x}finally{if(ld=!1,(Vl!==null||la!==null)&&(oe(),Vl&&(f=Vl,l=la,la=Vl=null,im(f),l)))for(f=0;f<l.length;f++)im(l[f])}}function Fs(l,f){var g=l.stateNode;if(g===null)return null;var x=g[fr]||null;if(x===null)return null;g=x[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(i(231,f,typeof g));return g}var No=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cd=!1;if(No)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){cd=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{cd=!1}var so=null,zf=null,Ma=null;function jl(){if(Ma)return Ma;var l,f=zf,g=f.length,x,R="value"in so?so.value:so.textContent,k=R.length;for(l=0;l<g&&f[l]===R[l];l++);var W=g-l;for(x=1;x<=W&&f[g-x]===R[k-x];x++);return Ma=R.slice(l,1<x?1-x:void 0)}function Gl(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function Dc(){return!0}function Vi(){return!1}function gs(l){function f(g,x,R,k,W){this._reactName=g,this._targetInst=R,this.type=x,this.nativeEvent=k,this.target=W,this.currentTarget=null;for(var ne in l)l.hasOwnProperty(ne)&&(g=l[ne],this[ne]=g?g(k):k[ne]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Dc:Vi,this.isPropagationStopped=Vi,this}return p(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),f}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=gs(ql),Ra=p({},ql,{view:0,detail:0}),Bf=gs(Ra),Nc,Cu,Vs,Au=p({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Vs&&(Vs&&l.type==="mousemove"?(Nc=l.screenX-Vs.screenX,Cu=l.screenY-Vs.screenY):Cu=Nc=0,Vs=l),Nc)},movementY:function(l){return"movementY"in l?l.movementY:Cu}}),my=gs(Au),lr=p({},Au,{dataTransfer:0}),sm=gs(lr),ud=p({},Ra,{relatedTarget:0}),Lc=gs(ud),am=p({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),Ff=gs(am),Vf=p({},ql,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),fd=gs(Vf),Mu=p({},ql,{data:0}),hd=gs(Mu),om={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lm(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=jf[l])?!!f[l]:!1}function Wl(){return lm}var dd=p({},Ra,{key:function(l){if(l.key){var f=om[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=Gl(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Hf[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(l){return l.type==="keypress"?Gl(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Gl(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),pd=gs(dd),$l=p({},Au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=gs($l),cm=p({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),Lo=gs(cm),md=p({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),gd=gs(md),Hs=p({},Au,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),fl=gs(Hs),Uo=p({},ql,{newState:0,oldState:0}),Xl=gs(Uo),M=[9,13,27,32],j=No&&"CompositionEvent"in window,X=null;No&&"documentMode"in document&&(X=document.documentMode);var ce=No&&"TextEvent"in window&&!X,Ee=No&&(!j||X&&8<X&&11>=X),je=" ",Et=!1;function fi(l,f){switch(l){case"keyup":return M.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ir(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var On=!1;function wr(l,f){switch(l){case"compositionend":return ir(f);case"keypress":return f.which!==32?null:(Et=!0,je);case"textInput":return l=f.data,l===je&&Et?null:l;default:return null}}function rs(l,f){if(On)return l==="compositionend"||!j&&fi(l,f)?(l=jl(),Ma=zf=so=null,On=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Ee&&f.locale!=="ko"?null:f.data;default:return null}}var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ca(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!qr[l.type]:f==="textarea"}function Uc(l,f,g,x){Vl?la?la.push(x):la=[x]:Vl=x,f=BE(f,"onChange"),0<f.length&&(g=new wu("onChange","change",null,g,x),l.push({event:g,listeners:f}))}var Yl=null,yd=null;function O_(l){l4(l,0)}function vd(l){var f=Le(l);if(ms(f))return l}function I_(l,f){if(l==="change")return f}var um=!1;if(No){var qf;if(No){var Xi="oninput"in document;if(!Xi){var YS=document.createElement("div");YS.setAttribute("oninput","return;"),Xi=typeof YS.oninput=="function"}qf=Xi}else qf=!1;um=qf&&(!document.documentMode||9<document.documentMode)}function KS(){Yl&&(Yl.detachEvent("onpropertychange",P_),yd=Yl=null)}function P_(l){if(l.propertyName==="value"&&vd(yd)){var f=[];Uc(f,yd,l,kf(l)),rm(O_,f)}}function fm(l,f,g){l==="focusin"?(KS(),Yl=f,yd=g,Yl.attachEvent("onpropertychange",P_)):l==="focusout"&&KS()}function Ru(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return vd(yd)}function ZS(l,f){if(l==="click")return vd(f)}function QS(l,f){if(l==="input"||l==="change")return vd(f)}function Wf(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var Yi=typeof Object.is=="function"?Object.is:Wf;function _d(l,f){if(Yi(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var g=Object.keys(l),x=Object.keys(f);if(g.length!==x.length)return!1;for(x=0;x<g.length;x++){var R=g[x];if(!ut.call(f,R)||!Yi(l[R],f[R]))return!1}return!0}function D_(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function N_(l,f){var g=D_(l);l=0;for(var x;g;){if(g.nodeType===3){if(x=l+g.textContent.length,l<=f&&x>=f)return{node:g,offset:f-l};l=x}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=D_(g)}}function gy(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?gy(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function yy(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var f=oa(l.document);f instanceof l.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)l=f.contentWindow;else break;f=oa(l.document)}return f}function bd(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}var JS=No&&"documentMode"in document&&11>=document.documentMode,xd=null,vy=null,Sd=null,ao=!1;function _y(l,f,g){var x=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;ao||xd==null||xd!==oa(x)||(x=xd,"selectionStart"in x&&bd(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Sd&&_d(Sd,x)||(Sd=x,x=BE(vy,"onSelect"),0<x.length&&(f=new wu("onSelect","select",null,f,g),l.push({event:f,listeners:x}),f.target=xd)))}function Ou(l,f){var g={};return g[l.toLowerCase()]=f.toLowerCase(),g["Webkit"+l]="webkit"+f,g["Moz"+l]="moz"+f,g}var Ed={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionrun:Ou("Transition","TransitionRun"),transitionstart:Ou("Transition","TransitionStart"),transitioncancel:Ou("Transition","TransitionCancel"),transitionend:Ou("Transition","TransitionEnd")},hm={},ua={};No&&(ua=document.createElement("div").style,"AnimationEvent"in window||(delete Ed.animationend.animation,delete Ed.animationiteration.animation,delete Ed.animationstart.animation),"TransitionEvent"in window||delete Ed.transitionend.transition);function Iu(l){if(hm[l])return hm[l];if(!Ed[l])return l;var f=Ed[l],g;for(g in f)if(f.hasOwnProperty(g)&&g in ua)return hm[l]=f[g];return l}var Oa=Iu("animationend"),L_=Iu("animationiteration"),Kl=Iu("animationstart"),Td=Iu("transitionrun"),Pu=Iu("transitionstart"),U_=Iu("transitioncancel"),by=Iu("transitionend"),kc=new Map,xy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xy.push("scrollEnd");function js(l,f){kc.set(l,f),Ct(f,[l])}var Du=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},ys=[],$f=0,Sy=0;function Nu(){for(var l=$f,f=Sy=$f=0;f<l;){var g=ys[f];ys[f++]=null;var x=ys[f];ys[f++]=null;var R=ys[f];ys[f++]=null;var k=ys[f];if(ys[f++]=null,x!==null&&R!==null){var W=x.pending;W===null?R.next=R:(R.next=W.next,W.next=R),x.pending=R}k!==0&&Ey(g,R,k)}}function dm(l,f,g,x){ys[$f++]=l,ys[$f++]=f,ys[$f++]=g,ys[$f++]=x,Sy|=x,l.lanes|=x,l=l.alternate,l!==null&&(l.lanes|=x)}function wd(l,f,g,x){return dm(l,f,g,x),Cd(l)}function Lu(l,f){return dm(l,null,null,f),Cd(l)}function Ey(l,f,g){l.lanes|=g;var x=l.alternate;x!==null&&(x.lanes|=g);for(var R=!1,k=l.return;k!==null;)k.childLanes|=g,x=k.alternate,x!==null&&(x.childLanes|=g),k.tag===22&&(l=k.stateNode,l===null||l._visibility&1||(R=!0)),l=k,k=k.return;return l.tag===3?(k=l.stateNode,R&&f!==null&&(R=31-jt(g),l=k.hiddenUpdates,x=l[R],x===null?l[R]=[f]:x.push(f),f.lane=g|536870912),k):null}function Cd(l){if(50<uh)throw uh=0,fh=null,Error(i(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}var Uu={};function eE(l,f,g,x){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(l,f,g,x){return new eE(l,f,g,x)}function ha(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Zl(l,f){var g=l.alternate;return g===null?(g=fa(l.tag,f,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=f,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,f=l.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function Gs(l,f){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,f=g.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function pm(l,f,g,x,R,k){var W=0;if(x=l,typeof l=="function")ha(l)&&(W=1);else if(typeof l=="string")W=iX(l,g,ue.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case I:return l=fa(31,g,f,R),l.elementType=I,l.lanes=k,l;case S:return zc(g.children,R,k,f);case E:W=8,R|=24;break;case b:return l=fa(12,g,f,R|2),l.elementType=b,l.lanes=k,l;case D:return l=fa(13,g,f,R),l.elementType=D,l.lanes=k,l;case L:return l=fa(19,g,f,R),l.elementType=L,l.lanes=k,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case A:W=10;break e;case w:W=9;break e;case C:W=11;break e;case P:W=14;break e;case U:W=16,x=null;break e}W=29,g=Error(i(130,l===null?"null":typeof l,"")),x=null}return f=fa(W,g,f,R),f.elementType=l,f.type=x,f.lanes=k,f}function zc(l,f,g,x){return l=fa(7,l,x,f),l.lanes=g,l}function Ty(l,f,g){return l=fa(6,l,null,f),l.lanes=g,l}function tE(l){var f=fa(18,null,null,0);return f.stateNode=l,f}function hl(l,f,g){return f=fa(4,l.children!==null?l.children:[],l.key,f),f.lanes=g,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}var k_=new WeakMap;function Ia(l,f){if(typeof l=="object"&&l!==null){var g=k_.get(l);return g!==void 0?g:(f={value:l,source:f,stack:Me(f)},k_.set(l,f),f)}return{value:l,source:f,stack:Me(f)}}var dl=[],Xf=0,mm=null,Ad=0,oo=[],Pa=0,Ql=null,Jl=1,ec="";function Bc(l,f){dl[Xf++]=Ad,dl[Xf++]=mm,mm=l,Ad=f}function z_(l,f,g){oo[Pa++]=Jl,oo[Pa++]=ec,oo[Pa++]=Ql,Ql=l;var x=Jl;l=ec;var R=32-jt(x)-1;x&=~(1<<R),g+=1;var k=32-jt(f)+R;if(30<k){var W=R-R%5;k=(x&(1<<W)-1).toString(32),x>>=W,R-=W,Jl=1<<32-jt(f)+R|g<<R|x,ec=k+l}else Jl=1<<k|g<<R|x,ec=l}function wy(l){l.return!==null&&(Bc(l,1),z_(l,1,0))}function ku(l){for(;l===mm;)mm=dl[--Xf],dl[Xf]=null,Ad=dl[--Xf],dl[Xf]=null;for(;l===Ql;)Ql=oo[--Pa],oo[Pa]=null,ec=oo[--Pa],oo[Pa]=null,Jl=oo[--Pa],oo[Pa]=null}function gm(l,f){oo[Pa++]=Jl,oo[Pa++]=ec,oo[Pa++]=Ql,Jl=f.id,ec=f.overflow,Ql=l}var vs=null,Hi=null,Zn=!1,Fc=null,_s=!1,Cy=Error(i(519));function Xn(l){var f=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ym(Ia(f,l)),Cy}function Ay(l){var f=l.stateNode,g=l.type,x=l.memoizedProps;switch(f[yn]=l,f[fr]=x,g){case"dialog":Qn("cancel",f),Qn("close",f);break;case"iframe":case"object":case"embed":Qn("load",f);break;case"video":case"audio":for(g=0;g<O1.length;g++)Qn(O1[g],f);break;case"source":Qn("error",f);break;case"img":case"image":case"link":Qn("error",f),Qn("load",f);break;case"details":Qn("toggle",f);break;case"input":Qn("invalid",f),Er(f,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":Qn("invalid",f);break;case"textarea":Qn("invalid",f),Os(f,x.value,x.defaultValue,x.children)}g=x.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||x.suppressHydrationWarning===!0||h4(f.textContent,g)?(x.popover!=null&&(Qn("beforetoggle",f),Qn("toggle",f)),x.onScroll!=null&&Qn("scroll",f),x.onScrollEnd!=null&&Qn("scrollend",f),x.onClick!=null&&(f.onclick=is),f=!0):f=!1,f||Xn(l,!0)}function nE(l){for(vs=l.return;vs;)switch(vs.tag){case 5:case 31:case 13:_s=!1;return;case 27:case 3:_s=!0;return;default:vs=vs.return}}function Yf(l){if(l!==vs)return!1;if(!Zn)return nE(l),Zn=!0,!1;var f=l.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||lR(l.type,l.memoizedProps)),g=!g),g&&Hi&&Xn(l),nE(l),f===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));Hi=x4(l)}else if(f===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));Hi=x4(l)}else f===27?(f=Hi,Wd(l.type)?(l=dR,dR=null,Hi=l):Hi=f):Hi=vs?fc(l.stateNode.nextSibling):null;return!0}function Kf(){Hi=vs=null,Zn=!1}function B_(){var l=Fc;return l!==null&&(Ks===null?Ks=l:Ks.push.apply(Ks,l),Fc=null),l}function ym(l){Fc===null?Fc=[l]:Fc.push(l)}var F_=Y(null),Vc=null,qs=null;function Hc(l,f,g){pe(F_,f._currentValue),f._currentValue=g}function ko(l){l._currentValue=F_.current,le(F_)}function jc(l,f,g){for(;l!==null;){var x=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,x!==null&&(x.childLanes|=f)):x!==null&&(x.childLanes&f)!==f&&(x.childLanes|=f),l===g)break;l=l.return}}function My(l,f,g,x){var R=l.child;for(R!==null&&(R.return=l);R!==null;){var k=R.dependencies;if(k!==null){var W=R.child;k=k.firstContext;e:for(;k!==null;){var ne=k;k=R;for(var ge=0;ge<f.length;ge++)if(ne.context===f[ge]){k.lanes|=g,ne=k.alternate,ne!==null&&(ne.lanes|=g),jc(k.return,g,l),x||(W=null);break e}k=ne.next}}else if(R.tag===18){if(W=R.return,W===null)throw Error(i(341));W.lanes|=g,k=W.alternate,k!==null&&(k.lanes|=g),jc(W,g,l),W=null}else W=R.child;if(W!==null)W.return=R;else for(W=R;W!==null;){if(W===l){W=null;break}if(R=W.sibling,R!==null){R.return=W.return,W=R;break}W=W.return}R=W}}function zu(l,f,g,x){l=null;for(var R=f,k=!1;R!==null;){if(!k){if((R.flags&524288)!==0)k=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var W=R.alternate;if(W===null)throw Error(i(387));if(W=W.memoizedProps,W!==null){var ne=R.type;Yi(R.pendingProps.value,W.value)||(l!==null?l.push(ne):l=[ne])}}else if(R===ye.current){if(W=R.alternate,W===null)throw Error(i(387));W.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(l!==null?l.push(L1):l=[L1])}R=R.return}l!==null&&My(f,l,g,x),f.flags|=262144}function Md(l){for(l=l.firstContext;l!==null;){if(!Yi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Zf(l){Vc=l,qs=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function bs(l){return V_(Vc,l)}function vm(l,f){return Vc===null&&Zf(l),V_(l,f)}function V_(l,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},qs===null){if(l===null)throw Error(i(308));qs=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else qs=qs.next=f;return g}var iE=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(g,x){l.push(x)}};this.abort=function(){f.aborted=!0,l.forEach(function(g){return g()})}},rE=n.unstable_scheduleCallback,H_=n.unstable_NormalPriority,Yt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function j_(){return{controller:new iE,data:new Map,refCount:0}}function Is(l){l.refCount--,l.refCount===0&&rE(H_,function(){l.controller.abort()})}var Qf=null,G_=0,Gc=0,pl=null;function Rd(l,f){if(Qf===null){var g=Qf=[];G_=0,Gc=JM(),pl={status:"pending",value:void 0,then:function(x){g.push(x)}}}return G_++,f.then(q_,q_),f}function q_(){if(--G_===0&&Qf!==null){pl!==null&&(pl.status="fulfilled");var l=Qf;Qf=null,Gc=0,pl=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function W_(l,f){var g=[],x={status:"pending",value:null,reason:null,then:function(R){g.push(R)}};return l.then(function(){x.status="fulfilled",x.value=f;for(var R=0;R<g.length;R++)(0,g[R])(f)},function(R){for(x.status="rejected",x.reason=R,R=0;R<g.length;R++)(0,g[R])(void 0)}),x}var sE=q.S;q.S=function(l,f){jd=Ae(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&Rd(l,f),sE!==null&&sE(l,f)};var Bu=Y(null);function tc(){var l=Bu.current;return l!==null?l:Si.pooledCache}function Od(l,f){f===null?pe(Bu,Bu.current):pe(Bu,f.pool)}function Ry(){var l=tc();return l===null?null:{parent:Yt._currentValue,pool:l}}var Fu=Error(i(460)),_m=Error(i(474)),ml=Error(i(542)),bm={then:function(){}};function aE(l){return l=l.status,l==="fulfilled"||l==="rejected"}function $_(l,f,g){switch(g=l[g],g===void 0?l.push(f):g!==f&&(f.then(is,is),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,X_(l),l;default:if(typeof f.status=="string")f.then(is,is);else{if(l=Si,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=f,l.status="pending",l.then(function(x){if(f.status==="pending"){var R=f;R.status="fulfilled",R.value=x}},function(x){if(f.status==="pending"){var R=f;R.status="rejected",R.reason=x}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,X_(l),l}throw rn=f,Fu}}function Jf(l){try{var f=l._init;return f(l._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(rn=g,Fu):g}}var rn=null;function Oy(){if(rn===null)throw Error(i(459));var l=rn;return rn=null,l}function X_(l){if(l===Fu||l===ml)throw Error(i(483))}var Vu=null,Hu=0;function Iy(l){var f=Hu;return Hu+=1,Vu===null&&(Vu=[]),$_(Vu,l,f)}function xm(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function Sm(l,f){throw f.$$typeof===y?Error(i(525)):(l=Object.prototype.toString.call(f),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function Id(l){function f(we,be){if(l){var Ie=we.deletions;Ie===null?(we.deletions=[be],we.flags|=16):Ie.push(be)}}function g(we,be){if(!l)return null;for(;be!==null;)f(we,be),be=be.sibling;return null}function x(we){for(var be=new Map;we!==null;)we.key!==null?be.set(we.key,we):be.set(we.index,we),we=we.sibling;return be}function R(we,be){return we=Zl(we,be),we.index=0,we.sibling=null,we}function k(we,be,Ie){return we.index=Ie,l?(Ie=we.alternate,Ie!==null?(Ie=Ie.index,Ie<be?(we.flags|=67108866,be):Ie):(we.flags|=67108866,be)):(we.flags|=1048576,be)}function W(we){return l&&we.alternate===null&&(we.flags|=67108866),we}function ne(we,be,Ie,et){return be===null||be.tag!==6?(be=Ty(Ie,we.mode,et),be.return=we,be):(be=R(be,Ie),be.return=we,be)}function ge(we,be,Ie,et){var tn=Ie.type;return tn===S?Ye(we,be,Ie.props.children,et,Ie.key):be!==null&&(be.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===U&&Jf(tn)===be.type)?(be=R(be,Ie.props),xm(be,Ie),be.return=we,be):(be=pm(Ie.type,Ie.key,Ie.props,null,we.mode,et),xm(be,Ie),be.return=we,be)}function Pe(we,be,Ie,et){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ie.containerInfo||be.stateNode.implementation!==Ie.implementation?(be=hl(Ie,we.mode,et),be.return=we,be):(be=R(be,Ie.children||[]),be.return=we,be)}function Ye(we,be,Ie,et,tn){return be===null||be.tag!==7?(be=zc(Ie,we.mode,et,tn),be.return=we,be):(be=R(be,Ie),be.return=we,be)}function tt(we,be,Ie){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Ty(""+be,we.mode,Ie),be.return=we,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case v:return Ie=pm(be.type,be.key,be.props,null,we.mode,Ie),xm(Ie,be),Ie.return=we,Ie;case _:return be=hl(be,we.mode,Ie),be.return=we,be;case U:return be=Jf(be),tt(we,be,Ie)}if(ee(be)||z(be))return be=zc(be,we.mode,Ie,null),be.return=we,be;if(typeof be.then=="function")return tt(we,Iy(be),Ie);if(be.$$typeof===A)return tt(we,vm(we,be),Ie);Sm(we,be)}return null}function ke(we,be,Ie,et){var tn=be!==null?be.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return tn!==null?null:ne(we,be,""+Ie,et);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case v:return Ie.key===tn?ge(we,be,Ie,et):null;case _:return Ie.key===tn?Pe(we,be,Ie,et):null;case U:return Ie=Jf(Ie),ke(we,be,Ie,et)}if(ee(Ie)||z(Ie))return tn!==null?null:Ye(we,be,Ie,et,null);if(typeof Ie.then=="function")return ke(we,be,Iy(Ie),et);if(Ie.$$typeof===A)return ke(we,be,vm(we,Ie),et);Sm(we,Ie)}return null}function We(we,be,Ie,et,tn){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return we=we.get(Ie)||null,ne(be,we,""+et,tn);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case v:return we=we.get(et.key===null?Ie:et.key)||null,ge(be,we,et,tn);case _:return we=we.get(et.key===null?Ie:et.key)||null,Pe(be,we,et,tn);case U:return et=Jf(et),We(we,be,Ie,et,tn)}if(ee(et)||z(et))return we=we.get(Ie)||null,Ye(be,we,et,tn,null);if(typeof et.then=="function")return We(we,be,Ie,Iy(et),tn);if(et.$$typeof===A)return We(we,be,Ie,vm(be,et),tn);Sm(be,et)}return null}function Vt(we,be,Ie,et){for(var tn=null,Ti=null,qt=be,Vn=be=0,ii=null;qt!==null&&Vn<Ie.length;Vn++){qt.index>Vn?(ii=qt,qt=null):ii=qt.sibling;var wi=ke(we,qt,Ie[Vn],et);if(wi===null){qt===null&&(qt=ii);break}l&&qt&&wi.alternate===null&&f(we,qt),be=k(wi,be,Vn),Ti===null?tn=wi:Ti.sibling=wi,Ti=wi,qt=ii}if(Vn===Ie.length)return g(we,qt),Zn&&Bc(we,Vn),tn;if(qt===null){for(;Vn<Ie.length;Vn++)qt=tt(we,Ie[Vn],et),qt!==null&&(be=k(qt,be,Vn),Ti===null?tn=qt:Ti.sibling=qt,Ti=qt);return Zn&&Bc(we,Vn),tn}for(qt=x(qt);Vn<Ie.length;Vn++)ii=We(qt,we,Vn,Ie[Vn],et),ii!==null&&(l&&ii.alternate!==null&&qt.delete(ii.key===null?Vn:ii.key),be=k(ii,be,Vn),Ti===null?tn=ii:Ti.sibling=ii,Ti=ii);return l&&qt.forEach(function(Zd){return f(we,Zd)}),Zn&&Bc(we,Vn),tn}function fn(we,be,Ie,et){if(Ie==null)throw Error(i(151));for(var tn=null,Ti=null,qt=be,Vn=be=0,ii=null,wi=Ie.next();qt!==null&&!wi.done;Vn++,wi=Ie.next()){qt.index>Vn?(ii=qt,qt=null):ii=qt.sibling;var Zd=ke(we,qt,wi.value,et);if(Zd===null){qt===null&&(qt=ii);break}l&&qt&&Zd.alternate===null&&f(we,qt),be=k(Zd,be,Vn),Ti===null?tn=Zd:Ti.sibling=Zd,Ti=Zd,qt=ii}if(wi.done)return g(we,qt),Zn&&Bc(we,Vn),tn;if(qt===null){for(;!wi.done;Vn++,wi=Ie.next())wi=tt(we,wi.value,et),wi!==null&&(be=k(wi,be,Vn),Ti===null?tn=wi:Ti.sibling=wi,Ti=wi);return Zn&&Bc(we,Vn),tn}for(qt=x(qt);!wi.done;Vn++,wi=Ie.next())wi=We(qt,we,Vn,wi.value,et),wi!==null&&(l&&wi.alternate!==null&&qt.delete(wi.key===null?Vn:wi.key),be=k(wi,be,Vn),Ti===null?tn=wi:Ti.sibling=wi,Ti=wi);return l&&qt.forEach(function(pX){return f(we,pX)}),Zn&&Bc(we,Vn),tn}function qi(we,be,Ie,et){if(typeof Ie=="object"&&Ie!==null&&Ie.type===S&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case v:e:{for(var tn=Ie.key;be!==null;){if(be.key===tn){if(tn=Ie.type,tn===S){if(be.tag===7){g(we,be.sibling),et=R(be,Ie.props.children),et.return=we,we=et;break e}}else if(be.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===U&&Jf(tn)===be.type){g(we,be.sibling),et=R(be,Ie.props),xm(et,Ie),et.return=we,we=et;break e}g(we,be);break}else f(we,be);be=be.sibling}Ie.type===S?(et=zc(Ie.props.children,we.mode,et,Ie.key),et.return=we,we=et):(et=pm(Ie.type,Ie.key,Ie.props,null,we.mode,et),xm(et,Ie),et.return=we,we=et)}return W(we);case _:e:{for(tn=Ie.key;be!==null;){if(be.key===tn)if(be.tag===4&&be.stateNode.containerInfo===Ie.containerInfo&&be.stateNode.implementation===Ie.implementation){g(we,be.sibling),et=R(be,Ie.children||[]),et.return=we,we=et;break e}else{g(we,be);break}else f(we,be);be=be.sibling}et=hl(Ie,we.mode,et),et.return=we,we=et}return W(we);case U:return Ie=Jf(Ie),qi(we,be,Ie,et)}if(ee(Ie))return Vt(we,be,Ie,et);if(z(Ie)){if(tn=z(Ie),typeof tn!="function")throw Error(i(150));return Ie=tn.call(Ie),fn(we,be,Ie,et)}if(typeof Ie.then=="function")return qi(we,be,Iy(Ie),et);if(Ie.$$typeof===A)return qi(we,be,vm(we,Ie),et);Sm(we,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,be!==null&&be.tag===6?(g(we,be.sibling),et=R(be,Ie),et.return=we,we=et):(g(we,be),et=Ty(Ie,we.mode,et),et.return=we,we=et),W(we)):g(we,be)}return function(we,be,Ie,et){try{Hu=0;var tn=qi(we,be,Ie,et);return Vu=null,tn}catch(qt){if(qt===Fu||qt===ml)throw qt;var Ti=fa(29,qt,null,we.mode);return Ti.lanes=et,Ti.return=we,Ti}finally{}}}var eh=Id(!0),oE=Id(!1),ju=!1;function Y_(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function K_(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function nc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function qc(l,f,g){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(ti&2)!==0){var R=x.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),x.pending=f,f=Cd(l),Ey(l,null,g),f}return dm(l,x,f,g),Cd(l)}function Gu(l,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var x=f.lanes;x&=l.pendingLanes,g|=x,f.lanes=g,_n(l,g)}}function Py(l,f){var g=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,g===x)){var R=null,k=null;if(g=g.firstBaseUpdate,g!==null){do{var W={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};k===null?R=k=W:k=k.next=W,g=g.next}while(g!==null);k===null?R=k=f:k=k.next=f}else R=k=f;g={baseState:x.baseState,firstBaseUpdate:R,lastBaseUpdate:k,shared:x.shared,callbacks:x.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=f:l.next=f,g.lastBaseUpdate=f}var Z_=!1;function Em(){if(Z_){var l=pl;if(l!==null)throw l}}function th(l,f,g,x){Z_=!1;var R=l.updateQueue;ju=!1;var k=R.firstBaseUpdate,W=R.lastBaseUpdate,ne=R.shared.pending;if(ne!==null){R.shared.pending=null;var ge=ne,Pe=ge.next;ge.next=null,W===null?k=Pe:W.next=Pe,W=ge;var Ye=l.alternate;Ye!==null&&(Ye=Ye.updateQueue,ne=Ye.lastBaseUpdate,ne!==W&&(ne===null?Ye.firstBaseUpdate=Pe:ne.next=Pe,Ye.lastBaseUpdate=ge))}if(k!==null){var tt=R.baseState;W=0,Ye=Pe=ge=null,ne=k;do{var ke=ne.lane&-536870913,We=ke!==ne.lane;if(We?(Yn&ke)===ke:(x&ke)===ke){ke!==0&&ke===Gc&&(Z_=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var Vt=l,fn=ne;ke=f;var qi=g;switch(fn.tag){case 1:if(Vt=fn.payload,typeof Vt=="function"){tt=Vt.call(qi,tt,ke);break e}tt=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=fn.payload,ke=typeof Vt=="function"?Vt.call(qi,tt,ke):Vt,ke==null)break e;tt=p({},tt,ke);break e;case 2:ju=!0}}ke=ne.callback,ke!==null&&(l.flags|=64,We&&(l.flags|=8192),We=R.callbacks,We===null?R.callbacks=[ke]:We.push(ke))}else We={lane:ke,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Ye===null?(Pe=Ye=We,ge=tt):Ye=Ye.next=We,W|=ke;if(ne=ne.next,ne===null){if(ne=R.shared.pending,ne===null)break;We=ne,ne=We.next,We.next=null,R.lastBaseUpdate=We,R.shared.pending=null}}while(!0);Ye===null&&(ge=tt),R.baseState=ge,R.firstBaseUpdate=Pe,R.lastBaseUpdate=Ye,k===null&&(R.shared.lanes=0),_o|=W,l.lanes=W,l.memoizedState=tt}}function ic(l,f){if(typeof l!="function")throw Error(i(191,l));l.call(f)}function Ps(l,f){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)ic(g[l],f)}var lo=Y(null),da=Y(0);function Q_(l,f){l=Or,pe(da,l),pe(lo,f),Or=l|f.baseLanes}function J_(){pe(da,Or),pe(lo,lo.current)}function Ws(){Or=da.current,le(lo),le(da)}var ss=Y(null),zo=null;function qu(l){var f=l.alternate;pe(dr,dr.current&1),pe(ss,l),zo===null&&(f===null||lo.current!==null||f.memoizedState!==null)&&(zo=l)}function e1(l){pe(dr,dr.current),pe(ss,l),zo===null&&(zo=l)}function lE(l){l.tag===22?(pe(dr,dr.current),pe(ss,l),zo===null&&(zo=l)):Wc()}function Wc(){pe(dr,dr.current),pe(ss,ss.current)}function co(l){le(ss),zo===l&&(zo=null),le(dr)}var dr=Y(0);function Dy(l){for(var f=l;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||fR(g)||hR(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Da=0,dn=null,Ii=null,Wr=null,Ny=!1,rc=!1,nh=!1,Ly=0,Tm=0,sc=null,jM=0;function pr(){throw Error(i(321))}function t1(l,f){if(f===null)return!1;for(var g=0;g<f.length&&g<l.length;g++)if(!Yi(l[g],f[g]))return!1;return!0}function n1(l,f,g,x,R,k){return Da=k,dn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,q.H=l===null||l.memoizedState===null?ME:Nd,nh=!1,k=g(x,R),nh=!1,rc&&(k=uE(f,g,x,R)),cE(l),k}function cE(l){q.H=Rm;var f=Ii!==null&&Ii.next!==null;if(Da=0,Wr=Ii=dn=null,Ny=!1,Tm=0,sc=null,f)throw Error(i(300));l===null||Ki||(l=l.dependencies,l!==null&&Md(l)&&(Ki=!0))}function uE(l,f,g,x){dn=l;var R=0;do{if(rc&&(sc=null),Tm=0,rc=!1,25<=R)throw Error(i(301));if(R+=1,Wr=Ii=null,l.updateQueue!=null){var k=l.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}q.H=Om,k=f(g,x)}while(rc);return k}function GM(){var l=q.H,f=l.useState()[0];return f=typeof f.then=="function"?Cm(f):f,l=l.useState()[0],(Ii!==null?Ii.memoizedState:null)!==l&&(dn.flags|=1024),f}function i1(){var l=Ly!==0;return Ly=0,l}function r1(l,f,g){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~g}function s1(l){if(Ny){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Ny=!1}Da=0,Wr=Ii=dn=null,rc=!1,Tm=Ly=0,sc=null}function pa(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?dn.memoizedState=Wr=l:Wr=Wr.next=l,Wr}function Cr(){if(Ii===null){var l=dn.alternate;l=l!==null?l.memoizedState:null}else l=Ii.next;var f=Wr===null?dn.memoizedState:Wr.next;if(f!==null)Wr=f,Ii=l;else{if(l===null)throw dn.alternate===null?Error(i(467)):Error(i(310));Ii=l,l={memoizedState:Ii.memoizedState,baseState:Ii.baseState,baseQueue:Ii.baseQueue,queue:Ii.queue,next:null},Wr===null?dn.memoizedState=Wr=l:Wr=Wr.next=l}return Wr}function wm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cm(l){var f=Tm;return Tm+=1,sc===null&&(sc=[]),l=$_(sc,l,f),f=dn,(Wr===null?f.memoizedState:Wr.next)===null&&(f=f.alternate,q.H=f===null||f.memoizedState===null?ME:Nd),l}function Uy(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Cm(l);if(l.$$typeof===A)return bs(l)}throw Error(i(438,String(l)))}function a1(l){var f=null,g=dn.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var x=dn.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(f={data:x.data.map(function(R){return R.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=wm(),dn.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(l),x=0;x<l;x++)g[x]=N;return f.index++,g}function $c(l,f){return typeof f=="function"?f(l):f}function ky(l){var f=Cr();return o1(f,Ii,l)}function o1(l,f,g){var x=l.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=g;var R=l.baseQueue,k=x.pending;if(k!==null){if(R!==null){var W=R.next;R.next=k.next,k.next=W}f.baseQueue=R=k,x.pending=null}if(k=l.baseState,R===null)l.memoizedState=k;else{f=R.next;var ne=W=null,ge=null,Pe=f,Ye=!1;do{var tt=Pe.lane&-536870913;if(tt!==Pe.lane?(Yn&tt)===tt:(Da&tt)===tt){var ke=Pe.revertLane;if(ke===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),tt===Gc&&(Ye=!0);else if((Da&ke)===ke){Pe=Pe.next,ke===Gc&&(Ye=!0);continue}else tt={lane:0,revertLane:Pe.revertLane,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},ge===null?(ne=ge=tt,W=k):ge=ge.next=tt,dn.lanes|=ke,_o|=ke;tt=Pe.action,nh&&g(k,tt),k=Pe.hasEagerState?Pe.eagerState:g(k,tt)}else ke={lane:tt,revertLane:Pe.revertLane,gesture:Pe.gesture,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},ge===null?(ne=ge=ke,W=k):ge=ge.next=ke,dn.lanes|=tt,_o|=tt;Pe=Pe.next}while(Pe!==null&&Pe!==f);if(ge===null?W=k:ge.next=ne,!Yi(k,l.memoizedState)&&(Ki=!0,Ye&&(g=pl,g!==null)))throw g;l.memoizedState=k,l.baseState=W,l.baseQueue=ge,x.lastRenderedState=k}return R===null&&(x.lanes=0),[l.memoizedState,x.dispatch]}function zy(l){var f=Cr(),g=f.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=l;var x=g.dispatch,R=g.pending,k=f.memoizedState;if(R!==null){g.pending=null;var W=R=R.next;do k=l(k,W.action),W=W.next;while(W!==R);Yi(k,f.memoizedState)||(Ki=!0),f.memoizedState=k,f.baseQueue===null&&(f.baseState=k),g.lastRenderedState=k}return[k,x]}function l1(l,f,g){var x=dn,R=Cr(),k=Zn;if(k){if(g===void 0)throw Error(i(407));g=g()}else g=f();var W=!Yi((Ii||R).memoizedState,g);if(W&&(R.memoizedState=g,Ki=!0),R=R.queue,d1(u1.bind(null,x,R,l),[l]),R.getSnapshot!==f||W||Wr!==null&&Wr.memoizedState.tag&1){if(x.flags|=2048,Pd(9,{destroy:void 0},c1.bind(null,x,R,g,f),null),Si===null)throw Error(i(349));k||(Da&127)!==0||fE(x,f,g)}return g}function fE(l,f,g){l.flags|=16384,l={getSnapshot:f,value:g},f=dn.updateQueue,f===null?(f=wm(),dn.updateQueue=f,f.stores=[l]):(g=f.stores,g===null?f.stores=[l]:g.push(l))}function c1(l,f,g,x){f.value=g,f.getSnapshot=x,f1(f)&&By(l)}function u1(l,f,g){return g(function(){f1(f)&&By(l)})}function f1(l){var f=l.getSnapshot;l=l.value;try{var g=f();return!Yi(l,g)}catch{return!0}}function By(l){var f=Lu(l,2);f!==null&&m(f,l,2)}function Am(l){var f=pa();if(typeof l=="function"){var g=l;if(l=g(),nh){vt(!0);try{g()}finally{vt(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:l},f}function hE(l,f,g,x){return l.baseState=g,o1(l,Ii,typeof x=="function"?x:$c)}function qM(l,f,g,x,R){if(Xc(l))throw Error(i(485));if(l=f.action,l!==null){var k={payload:R,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){k.listeners.push(W)}};q.T!==null?g(!0):k.isTransition=!1,x(k),g=f.pending,g===null?(k.next=f.pending=k,dE(f,k)):(k.next=g.next,f.pending=g.next=k)}}function dE(l,f){var g=f.action,x=f.payload,R=l.state;if(f.isTransition){var k=q.T,W={};q.T=W;try{var ne=g(R,x),ge=q.S;ge!==null&&ge(W,ne),pE(l,f,ne)}catch(Pe){Fy(l,f,Pe)}finally{k!==null&&W.types!==null&&(k.types=W.types),q.T=k}}else try{k=g(R,x),pE(l,f,k)}catch(Pe){Fy(l,f,Pe)}}function pE(l,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(x){h1(l,f,x)},function(x){return Fy(l,f,x)}):h1(l,f,g)}function h1(l,f,g){f.status="fulfilled",f.value=g,mE(f),l.state=g,f=l.pending,f!==null&&(g=f.next,g===f?l.pending=null:(g=g.next,f.next=g,dE(l,g)))}function Fy(l,f,g){var x=l.pending;if(l.pending=null,x!==null){x=x.next;do f.status="rejected",f.reason=g,mE(f),f=f.next;while(f!==x)}l.action=null}function mE(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function gE(l,f){return f}function yE(l,f){if(Zn){var g=Si.formState;if(g!==null){e:{var x=dn;if(Zn){if(Hi){t:{for(var R=Hi,k=_s;R.nodeType!==8;){if(!k){R=null;break t}if(R=fc(R.nextSibling),R===null){R=null;break t}}k=R.data,R=k==="F!"||k==="F"?R:null}if(R){Hi=fc(R.nextSibling),x=R.data==="F!";break e}}Xn(x)}x=!1}x&&(f=g[0])}}return g=pa(),g.memoizedState=g.baseState=f,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gE,lastRenderedState:f},g.queue=x,g=AE.bind(null,dn,x),x.dispatch=g,x=Am(!1),k=Mm.bind(null,dn,!1,x.queue),x=pa(),R={state:f,dispatch:null,action:l,pending:null},x.queue=R,g=qM.bind(null,dn,R,k,g),R.dispatch=g,x.memoizedState=l,[f,g,!1]}function vE(l){var f=Cr();return _E(f,Ii,l)}function _E(l,f,g){if(f=o1(l,f,gE)[0],l=ky($c)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var x=Cm(f)}catch(W){throw W===Fu?ml:W}else x=f;f=Cr();var R=f.queue,k=R.dispatch;return g!==f.memoizedState&&(dn.flags|=2048,Pd(9,{destroy:void 0},WM.bind(null,R,g),null)),[x,k,l]}function WM(l,f){l.action=f}function bE(l){var f=Cr(),g=Ii;if(g!==null)return _E(f,g,l);Cr(),f=f.memoizedState,g=Cr();var x=g.queue.dispatch;return g.memoizedState=l,[f,x,!1]}function Pd(l,f,g,x){return l={tag:l,create:g,deps:x,inst:f,next:null},f=dn.updateQueue,f===null&&(f=wm(),dn.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=l.next=l:(x=g.next,g.next=l,l.next=x,f.lastEffect=l),l}function xE(){return Cr().memoizedState}function Vy(l,f,g,x){var R=pa();dn.flags|=l,R.memoizedState=Pd(1|f,{destroy:void 0},g,x===void 0?null:x)}function Hy(l,f,g,x){var R=Cr();x=x===void 0?null:x;var k=R.memoizedState.inst;Ii!==null&&x!==null&&t1(x,Ii.memoizedState.deps)?R.memoizedState=Pd(f,k,g,x):(dn.flags|=l,R.memoizedState=Pd(1|f,k,g,x))}function SE(l,f){Vy(8390656,8,l,f)}function d1(l,f){Hy(2048,8,l,f)}function EE(l){dn.flags|=4;var f=dn.updateQueue;if(f===null)f=wm(),dn.updateQueue=f,f.events=[l];else{var g=f.events;g===null?f.events=[l]:g.push(l)}}function TE(l){var f=Cr().memoizedState;return EE({ref:f,nextImpl:l}),function(){if((ti&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}function wE(l,f){return Hy(4,2,l,f)}function uo(l,f){return Hy(4,4,l,f)}function p1(l,f){if(typeof f=="function"){l=l();var g=f(l);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function jy(l,f,g){g=g!=null?g.concat([l]):null,Hy(4,4,p1.bind(null,f,l),g)}function Gy(){}function m1(l,f){var g=Cr();f=f===void 0?null:f;var x=g.memoizedState;return f!==null&&t1(f,x[1])?x[0]:(g.memoizedState=[l,f],l)}function g1(l,f){var g=Cr();f=f===void 0?null:f;var x=g.memoizedState;if(f!==null&&t1(f,x[1]))return x[0];if(x=l(),nh){vt(!0);try{l()}finally{vt(!1)}}return g.memoizedState=[x,f],x}function y1(l,f,g){return g===void 0||(Da&1073741824)!==0&&(Yn&261930)===0?l.memoizedState=f:(l.memoizedState=g,l=d(),dn.lanes|=l,_o|=l,g)}function v1(l,f,g,x){return Yi(g,f)?g:lo.current!==null?(l=y1(l,g,x),Yi(l,f)||(Ki=!0),l):(Da&42)===0||(Da&1073741824)!==0&&(Yn&261930)===0?(Ki=!0,l.memoizedState=g):(l=d(),dn.lanes|=l,_o|=l,f)}function _1(l,f,g,x,R){var k=$.p;$.p=k!==0&&8>k?k:8;var W=q.T,ne={};q.T=ne,Mm(l,!1,f,g);try{var ge=R(),Pe=q.S;if(Pe!==null&&Pe(ne,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ye=W_(ge,x);Dd(l,f,Ye,ga(l))}else Dd(l,f,x,ga(l))}catch(tt){Dd(l,f,{then:function(){},status:"rejected",reason:tt},ga())}finally{$.p=k,W!==null&&ne.types!==null&&(W.types=ne.types),q.T=W}}function $M(){}function b1(l,f,g,x){if(l.tag!==5)throw Error(i(476));var R=CE(l).queue;_1(l,R,f,Q,g===null?$M:function(){return x1(l),g(x)})}function CE(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:Q},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:g},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function x1(l){var f=CE(l);f.next===null&&(f=l.alternate.memoizedState),Dd(l,f.next.queue,{},ga())}function S1(){return bs(L1)}function Ds(){return Cr().memoizedState}function E1(){return Cr().memoizedState}function XM(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var g=ga();l=nc(g);var x=qc(f,l,g);x!==null&&(m(x,f,g),Gu(x,f,g)),f={cache:j_()},l.payload=f;return}f=f.return}}function YM(l,f,g){var x=ga();g={lane:x,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Xc(l)?ih(f,g):(g=wd(l,f,g,x),g!==null&&(m(g,l,x),Na(g,f,x)))}function AE(l,f,g){var x=ga();Dd(l,f,g,x)}function Dd(l,f,g,x){var R={lane:x,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(Xc(l))ih(f,R);else{var k=l.alternate;if(l.lanes===0&&(k===null||k.lanes===0)&&(k=f.lastRenderedReducer,k!==null))try{var W=f.lastRenderedState,ne=k(W,g);if(R.hasEagerState=!0,R.eagerState=ne,Yi(ne,W))return dm(l,f,R,0),Si===null&&Nu(),!1}catch{}finally{}if(g=wd(l,f,R,x),g!==null)return m(g,l,x),Na(g,f,x),!0}return!1}function Mm(l,f,g,x){if(x={lane:2,revertLane:JM(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Xc(l)){if(f)throw Error(i(479))}else f=wd(l,g,x,2),f!==null&&m(f,l,2)}function Xc(l){var f=l.alternate;return l===dn||f!==null&&f===dn}function ih(l,f){rc=Ny=!0;var g=l.pending;g===null?f.next=f:(f.next=g.next,g.next=f),l.pending=f}function Na(l,f,g){if((g&4194048)!==0){var x=f.lanes;x&=l.pendingLanes,g|=x,f.lanes=g,_n(l,g)}}var Rm={readContext:bs,use:Uy,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useLayoutEffect:pr,useInsertionEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useSyncExternalStore:pr,useId:pr,useHostTransitionStatus:pr,useFormState:pr,useActionState:pr,useOptimistic:pr,useMemoCache:pr,useCacheRefresh:pr};Rm.useEffectEvent=pr;var ME={readContext:bs,use:Uy,useCallback:function(l,f){return pa().memoizedState=[l,f===void 0?null:f],l},useContext:bs,useEffect:SE,useImperativeHandle:function(l,f,g){g=g!=null?g.concat([l]):null,Vy(4194308,4,p1.bind(null,f,l),g)},useLayoutEffect:function(l,f){return Vy(4194308,4,l,f)},useInsertionEffect:function(l,f){Vy(4,2,l,f)},useMemo:function(l,f){var g=pa();f=f===void 0?null:f;var x=l();if(nh){vt(!0);try{l()}finally{vt(!1)}}return g.memoizedState=[x,f],x},useReducer:function(l,f,g){var x=pa();if(g!==void 0){var R=g(f);if(nh){vt(!0);try{g(f)}finally{vt(!1)}}}else R=f;return x.memoizedState=x.baseState=R,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:R},x.queue=l,l=l.dispatch=YM.bind(null,dn,l),[x.memoizedState,l]},useRef:function(l){var f=pa();return l={current:l},f.memoizedState=l},useState:function(l){l=Am(l);var f=l.queue,g=AE.bind(null,dn,f);return f.dispatch=g,[l.memoizedState,g]},useDebugValue:Gy,useDeferredValue:function(l,f){var g=pa();return y1(g,l,f)},useTransition:function(){var l=Am(!1);return l=_1.bind(null,dn,l.queue,!0,!1),pa().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,g){var x=dn,R=pa();if(Zn){if(g===void 0)throw Error(i(407));g=g()}else{if(g=f(),Si===null)throw Error(i(349));(Yn&127)!==0||fE(x,f,g)}R.memoizedState=g;var k={value:g,getSnapshot:f};return R.queue=k,SE(u1.bind(null,x,k,l),[l]),x.flags|=2048,Pd(9,{destroy:void 0},c1.bind(null,x,k,g,f),null),g},useId:function(){var l=pa(),f=Si.identifierPrefix;if(Zn){var g=ec,x=Jl;g=(x&~(1<<32-jt(x)-1)).toString(32)+g,f="_"+f+"R_"+g,g=Ly++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=jM++,f="_"+f+"r_"+g.toString(32)+"_";return l.memoizedState=f},useHostTransitionStatus:S1,useFormState:yE,useActionState:yE,useOptimistic:function(l){var f=pa();f.memoizedState=f.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=Mm.bind(null,dn,!0,g),g.dispatch=f,[l,f]},useMemoCache:a1,useCacheRefresh:function(){return pa().memoizedState=XM.bind(null,dn)},useEffectEvent:function(l){var f=pa(),g={impl:l};return f.memoizedState=g,function(){if((ti&2)!==0)throw Error(i(440));return g.impl.apply(void 0,arguments)}}},Nd={readContext:bs,use:Uy,useCallback:m1,useContext:bs,useEffect:d1,useImperativeHandle:jy,useInsertionEffect:wE,useLayoutEffect:uo,useMemo:g1,useReducer:ky,useRef:xE,useState:function(){return ky($c)},useDebugValue:Gy,useDeferredValue:function(l,f){var g=Cr();return v1(g,Ii.memoizedState,l,f)},useTransition:function(){var l=ky($c)[0],f=Cr().memoizedState;return[typeof l=="boolean"?l:Cm(l),f]},useSyncExternalStore:l1,useId:Ds,useHostTransitionStatus:S1,useFormState:vE,useActionState:vE,useOptimistic:function(l,f){var g=Cr();return hE(g,Ii,l,f)},useMemoCache:a1,useCacheRefresh:E1};Nd.useEffectEvent=TE;var Om={readContext:bs,use:Uy,useCallback:m1,useContext:bs,useEffect:d1,useImperativeHandle:jy,useInsertionEffect:wE,useLayoutEffect:uo,useMemo:g1,useReducer:zy,useRef:xE,useState:function(){return zy($c)},useDebugValue:Gy,useDeferredValue:function(l,f){var g=Cr();return Ii===null?y1(g,l,f):v1(g,Ii.memoizedState,l,f)},useTransition:function(){var l=zy($c)[0],f=Cr().memoizedState;return[typeof l=="boolean"?l:Cm(l),f]},useSyncExternalStore:l1,useId:Ds,useHostTransitionStatus:S1,useFormState:bE,useActionState:bE,useOptimistic:function(l,f){var g=Cr();return Ii!==null?hE(g,Ii,l,f):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:a1,useCacheRefresh:E1};Om.useEffectEvent=TE;function Ld(l,f,g,x){f=l.memoizedState,g=g(x,f),g=g==null?f:p({},f,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var Im={enqueueSetState:function(l,f,g){l=l._reactInternals;var x=ga(),R=nc(x);R.payload=f,g!=null&&(R.callback=g),f=qc(l,R,x),f!==null&&(m(f,l,x),Gu(f,l,x))},enqueueReplaceState:function(l,f,g){l=l._reactInternals;var x=ga(),R=nc(x);R.tag=1,R.payload=f,g!=null&&(R.callback=g),f=qc(l,R,x),f!==null&&(m(f,l,x),Gu(f,l,x))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var g=ga(),x=nc(g);x.tag=2,f!=null&&(x.callback=f),f=qc(l,x,g),f!==null&&(m(f,l,g),Gu(f,l,g))}};function RE(l,f,g,x,R,k,W){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,k,W):f.prototype&&f.prototype.isPureReactComponent?!_d(g,x)||!_d(R,k):!0}function OE(l,f,g,x){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,x),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,x),f.state!==l&&Im.enqueueReplaceState(f,f.state,null)}function Ns(l,f){var g=f;if("ref"in f){g={};for(var x in f)x!=="ref"&&(g[x]=f[x])}if(l=l.defaultProps){g===f&&(g=p({},g));for(var R in l)g[R]===void 0&&(g[R]=l[R])}return g}function T1(l){Du(l)}function IE(l){console.error(l)}function qy(l){Du(l)}function Wy(l,f){try{var g=l.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(x){setTimeout(function(){throw x})}}function PE(l,f,g){try{var x=l.onCaughtError;x(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function w1(l,f,g){return g=nc(g),g.tag=3,g.payload={element:null},g.callback=function(){Wy(l,f)},g}function Ud(l){return l=nc(l),l.tag=3,l}function La(l,f,g,x){var R=g.type.getDerivedStateFromError;if(typeof R=="function"){var k=x.value;l.payload=function(){return R(k)},l.callback=function(){PE(f,g,x)}}var W=g.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(l.callback=function(){PE(f,g,x),typeof R!="function"&&(uc===null?uc=new Set([this]):uc.add(this));var ne=x.stack;this.componentDidCatch(x.value,{componentStack:ne!==null?ne:""})})}function fo(l,f,g,x,R){if(g.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(f=g.alternate,f!==null&&zu(f,g,R,!0),g=ss.current,g!==null){switch(g.tag){case 31:case 13:return zo===null?bn():g.alternate===null&&Ei===0&&(Ei=3),g.flags&=-257,g.flags|=65536,g.lanes=R,x===bm?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([x]):f.add(x),KM(l,x,R)),!1;case 22:return g.flags|=65536,x===bm?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([x])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([x]):g.add(x)),KM(l,x,R)),!1}throw Error(i(435,g.tag))}return KM(l,x,R),bn(),!1}if(Zn)return f=ss.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=R,x!==Cy&&(l=Error(i(422),{cause:x}),ym(Ia(l,g)))):(x!==Cy&&(f=Error(i(423),{cause:x}),ym(Ia(f,g))),l=l.current.alternate,l.flags|=65536,R&=-R,l.lanes|=R,x=Ia(x,g),R=w1(l.stateNode,x,R),Py(l,R),Ei!==4&&(Ei=2)),!1;var k=Error(i(520),{cause:x});if(k=Ia(k,g),bl===null?bl=[k]:bl.push(k),Ei!==4&&(Ei=2),f===null)return!0;x=Ia(x,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,l=R&-R,g.lanes|=l,l=w1(g.stateNode,x,l),Py(g,l),!1;case 1:if(f=g.type,k=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(uc===null||!uc.has(k))))return g.flags|=65536,R&=-R,g.lanes|=R,R=Ud(R),La(R,l,g,x),Py(g,R),!1}g=g.return}while(g!==null);return!1}var $y=Error(i(461)),Ki=!1;function mr(l,f,g,x){f.child=l===null?oE(f,null,g,x):eh(f,l.child,g,x)}function Pm(l,f,g,x,R){g=g.render;var k=f.ref;if("ref"in x){var W={};for(var ne in x)ne!=="ref"&&(W[ne]=x[ne])}else W=x;return Zf(f),x=n1(l,f,g,W,k,R),ne=i1(),l!==null&&!Ki?(r1(l,f,R),vl(l,f,R)):(Zn&&ne&&wy(f),f.flags|=1,mr(l,f,x,R),f.child)}function Dm(l,f,g,x,R){if(l===null){var k=g.type;return typeof k=="function"&&!ha(k)&&k.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=k,ho(l,f,k,x,R)):(l=pm(g.type,null,x,f,f.mode,R),l.ref=f.ref,l.return=f,f.child=l)}if(k=l.child,!$u(l,R)){var W=k.memoizedProps;if(g=g.compare,g=g!==null?g:_d,g(W,x)&&l.ref===f.ref)return vl(l,f,R)}return f.flags|=1,l=Zl(k,x),l.ref=f.ref,l.return=f,f.child=l}function ho(l,f,g,x,R){if(l!==null){var k=l.memoizedProps;if(_d(k,x)&&l.ref===f.ref)if(Ki=!1,f.pendingProps=x=k,$u(l,R))(l.flags&131072)!==0&&(Ki=!0);else return f.lanes=l.lanes,vl(l,f,R)}return kd(l,f,g,x,R)}function po(l,f,g,x){var R=x.children,k=l!==null?l.memoizedState:null;if(l===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((f.flags&128)!==0){if(k=k!==null?k.baseLanes|g:g,l!==null){for(x=f.child=l.child,R=0;x!==null;)R=R|x.lanes|x.childLanes,x=x.sibling;x=R&~k}else x=0,f.child=null;return ac(l,f,k,g,x)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&Od(f,k!==null?k.cachePool:null),k!==null?Q_(f,k):J_(),lE(f);else return x=f.lanes=536870912,ac(l,f,k!==null?k.baseLanes|g:g,g,x)}else k!==null?(Od(f,k.cachePool),Q_(f,k),Wc(),f.memoizedState=null):(l!==null&&Od(f,null),J_(),Wc());return mr(l,f,R,g),f.child}function gl(l,f){return l!==null&&l.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function ac(l,f,g,x,R){var k=tc();return k=k===null?null:{parent:Yt._currentValue,pool:k},f.memoizedState={baseLanes:g,cachePool:k},l!==null&&Od(f,null),J_(),lE(f),l!==null&&zu(l,f,x,!0),f.childLanes=R,null}function Bo(l,f){return f=zd({mode:f.mode,children:f.children},l.mode),f.ref=l.ref,l.child=f,f.return=l,f}function xs(l,f,g){return eh(f,l.child,null,g),l=Bo(f,f.pendingProps),l.flags|=2,co(f),f.memoizedState=null,l}function Nm(l,f,g){var x=f.pendingProps,R=(f.flags&128)!==0;if(f.flags&=-129,l===null){if(Zn){if(x.mode==="hidden")return l=Bo(f,x),f.lanes=536870912,gl(null,l);if(e1(f),(l=Hi)?(l=b4(l,_s),l=l!==null&&l.data==="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:Ql!==null?{id:Jl,overflow:ec}:null,retryLane:536870912,hydrationErrors:null},g=tE(l),g.return=f,f.child=g,vs=f,Hi=null)):l=null,l===null)throw Xn(f);return f.lanes=536870912,null}return Bo(f,x)}var k=l.memoizedState;if(k!==null){var W=k.dehydrated;if(e1(f),R)if(f.flags&256)f.flags&=-257,f=xs(l,f,g);else if(f.memoizedState!==null)f.child=l.child,f.flags|=128,f=null;else throw Error(i(558));else if(Ki||zu(l,f,g,!1),R=(g&l.childLanes)!==0,Ki||R){if(x=Si,x!==null&&(W=zn(x,g),W!==0&&W!==k.retryLane))throw k.retryLane=W,Lu(l,W),m(x,l,W),$y;bn(),f=xs(l,f,g)}else l=k.treeContext,Hi=fc(W.nextSibling),vs=f,Zn=!0,Fc=null,_s=!1,l!==null&&gm(f,l),f=Bo(f,x),f.flags|=4096;return f}return l=Zl(l.child,{mode:x.mode,children:x.children}),l.ref=f.ref,f.child=l,l.return=f,l}function yl(l,f){var g=f.ref;if(g===null)l!==null&&l.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(l===null||l.ref!==g)&&(f.flags|=4194816)}}function kd(l,f,g,x,R){return Zf(f),g=n1(l,f,g,x,void 0,R),x=i1(),l!==null&&!Ki?(r1(l,f,R),vl(l,f,R)):(Zn&&x&&wy(f),f.flags|=1,mr(l,f,g,R),f.child)}function $s(l,f,g,x,R,k){return Zf(f),f.updateQueue=null,g=uE(f,x,g,R),cE(l),x=i1(),l!==null&&!Ki?(r1(l,f,k),vl(l,f,k)):(Zn&&x&&wy(f),f.flags|=1,mr(l,f,g,k),f.child)}function Ls(l,f,g,x,R){if(Zf(f),f.stateNode===null){var k=Uu,W=g.contextType;typeof W=="object"&&W!==null&&(k=bs(W)),k=new g(x,k),f.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Im,f.stateNode=k,k._reactInternals=f,k=f.stateNode,k.props=x,k.state=f.memoizedState,k.refs={},Y_(f),W=g.contextType,k.context=typeof W=="object"&&W!==null?bs(W):Uu,k.state=f.memoizedState,W=g.getDerivedStateFromProps,typeof W=="function"&&(Ld(f,g,W,x),k.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(W=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),W!==k.state&&Im.enqueueReplaceState(k,k.state,null),th(f,x,k,R),Em(),k.state=f.memoizedState),typeof k.componentDidMount=="function"&&(f.flags|=4194308),x=!0}else if(l===null){k=f.stateNode;var ne=f.memoizedProps,ge=Ns(g,ne);k.props=ge;var Pe=k.context,Ye=g.contextType;W=Uu,typeof Ye=="object"&&Ye!==null&&(W=bs(Ye));var tt=g.getDerivedStateFromProps;Ye=typeof tt=="function"||typeof k.getSnapshotBeforeUpdate=="function",ne=f.pendingProps!==ne,Ye||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ne||Pe!==W)&&OE(f,k,x,W),ju=!1;var ke=f.memoizedState;k.state=ke,th(f,x,k,R),Em(),Pe=f.memoizedState,ne||ke!==Pe||ju?(typeof tt=="function"&&(Ld(f,g,tt,x),Pe=f.memoizedState),(ge=ju||RE(f,g,ge,x,ke,Pe,W))?(Ye||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(f.flags|=4194308)):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=x,f.memoizedState=Pe),k.props=x,k.state=Pe,k.context=W,x=ge):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),x=!1)}else{k=f.stateNode,K_(l,f),W=f.memoizedProps,Ye=Ns(g,W),k.props=Ye,tt=f.pendingProps,ke=k.context,Pe=g.contextType,ge=Uu,typeof Pe=="object"&&Pe!==null&&(ge=bs(Pe)),ne=g.getDerivedStateFromProps,(Pe=typeof ne=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(W!==tt||ke!==ge)&&OE(f,k,x,ge),ju=!1,ke=f.memoizedState,k.state=ke,th(f,x,k,R),Em();var We=f.memoizedState;W!==tt||ke!==We||ju||l!==null&&l.dependencies!==null&&Md(l.dependencies)?(typeof ne=="function"&&(Ld(f,g,ne,x),We=f.memoizedState),(Ye=ju||RE(f,g,Ye,x,ke,We,ge)||l!==null&&l.dependencies!==null&&Md(l.dependencies))?(Pe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(x,We,ge),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(x,We,ge)),typeof k.componentDidUpdate=="function"&&(f.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof k.componentDidUpdate!="function"||W===l.memoizedProps&&ke===l.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||W===l.memoizedProps&&ke===l.memoizedState||(f.flags|=1024),f.memoizedProps=x,f.memoizedState=We),k.props=x,k.state=We,k.context=ge,x=Ye):(typeof k.componentDidUpdate!="function"||W===l.memoizedProps&&ke===l.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||W===l.memoizedProps&&ke===l.memoizedState||(f.flags|=1024),x=!1)}return k=x,yl(l,f),x=(f.flags&128)!==0,k||x?(k=f.stateNode,g=x&&typeof g.getDerivedStateFromError!="function"?null:k.render(),f.flags|=1,l!==null&&x?(f.child=eh(f,l.child,null,R),f.child=eh(f,null,g,R)):mr(l,f,g,R),f.memoizedState=k.state,l=f.child):l=vl(l,f,R),l}function si(l,f,g,x){return Kf(),f.flags|=256,mr(l,f,g,x),f.child}var mo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fo(l){return{baseLanes:l,cachePool:Ry()}}function Lm(l,f,g){return l=l!==null?l.childLanes&~g:0,f&&(l|=ni),l}function go(l,f,g){var x=f.pendingProps,R=!1,k=(f.flags&128)!==0,W;if((W=k)||(W=l!==null&&l.memoizedState===null?!1:(dr.current&2)!==0),W&&(R=!0,f.flags&=-129),W=(f.flags&32)!==0,f.flags&=-33,l===null){if(Zn){if(R?qu(f):Wc(),(l=Hi)?(l=b4(l,_s),l=l!==null&&l.data!=="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:Ql!==null?{id:Jl,overflow:ec}:null,retryLane:536870912,hydrationErrors:null},g=tE(l),g.return=f,f.child=g,vs=f,Hi=null)):l=null,l===null)throw Xn(f);return hR(l)?f.lanes=32:f.lanes=536870912,null}var ne=x.children;return x=x.fallback,R?(Wc(),R=f.mode,ne=zd({mode:"hidden",children:ne},R),x=zc(x,R,g,null),ne.return=f,x.return=f,ne.sibling=x,f.child=ne,x=f.child,x.memoizedState=Fo(g),x.childLanes=Lm(l,W,g),f.memoizedState=mo,gl(null,x)):(qu(f),Wu(f,ne))}var ge=l.memoizedState;if(ge!==null&&(ne=ge.dehydrated,ne!==null)){if(k)f.flags&256?(qu(f),f.flags&=-257,f=Bd(l,f,g)):f.memoizedState!==null?(Wc(),f.child=l.child,f.flags|=128,f=null):(Wc(),ne=x.fallback,R=f.mode,x=zd({mode:"visible",children:x.children},R),ne=zc(ne,R,g,null),ne.flags|=2,x.return=f,ne.return=f,x.sibling=ne,f.child=x,eh(f,l.child,null,g),x=f.child,x.memoizedState=Fo(g),x.childLanes=Lm(l,W,g),f.memoizedState=mo,f=gl(null,x));else if(qu(f),hR(ne)){if(W=ne.nextSibling&&ne.nextSibling.dataset,W)var Pe=W.dgst;W=Pe,x=Error(i(419)),x.stack="",x.digest=W,ym({value:x,source:null,stack:null}),f=Bd(l,f,g)}else if(Ki||zu(l,f,g,!1),W=(g&l.childLanes)!==0,Ki||W){if(W=Si,W!==null&&(x=zn(W,g),x!==0&&x!==ge.retryLane))throw ge.retryLane=x,Lu(l,x),m(W,l,x),$y;fR(ne)||bn(),f=Bd(l,f,g)}else fR(ne)?(f.flags|=192,f.child=l.child,f=null):(l=ge.treeContext,Hi=fc(ne.nextSibling),vs=f,Zn=!0,Fc=null,_s=!1,l!==null&&gm(f,l),f=Wu(f,x.children),f.flags|=4096);return f}return R?(Wc(),ne=x.fallback,R=f.mode,ge=l.child,Pe=ge.sibling,x=Zl(ge,{mode:"hidden",children:x.children}),x.subtreeFlags=ge.subtreeFlags&65011712,Pe!==null?ne=Zl(Pe,ne):(ne=zc(ne,R,g,null),ne.flags|=2),ne.return=f,x.return=f,x.sibling=ne,f.child=x,gl(null,x),x=f.child,ne=l.child.memoizedState,ne===null?ne=Fo(g):(R=ne.cachePool,R!==null?(ge=Yt._currentValue,R=R.parent!==ge?{parent:ge,pool:ge}:R):R=Ry(),ne={baseLanes:ne.baseLanes|g,cachePool:R}),x.memoizedState=ne,x.childLanes=Lm(l,W,g),f.memoizedState=mo,gl(l.child,x)):(qu(f),g=l.child,l=g.sibling,g=Zl(g,{mode:"visible",children:x.children}),g.return=f,g.sibling=null,l!==null&&(W=f.deletions,W===null?(f.deletions=[l],f.flags|=16):W.push(l)),f.child=g,f.memoizedState=null,g)}function Wu(l,f){return f=zd({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function zd(l,f){return l=fa(22,l,null,f),l.lanes=0,l}function Bd(l,f,g){return eh(f,l.child,null,g),l=Wu(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function rh(l,f,g){l.lanes|=f;var x=l.alternate;x!==null&&(x.lanes|=f),jc(l.return,f,g)}function Um(l,f,g,x,R,k){var W=l.memoizedState;W===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:x,tail:g,tailMode:R,treeForkCount:k}:(W.isBackwards=f,W.rendering=null,W.renderingStartTime=0,W.last=x,W.tail=g,W.tailMode=R,W.treeForkCount=k)}function km(l,f,g){var x=f.pendingProps,R=x.revealOrder,k=x.tail;x=x.children;var W=dr.current,ne=(W&2)!==0;if(ne?(W=W&1|2,f.flags|=128):W&=1,pe(dr,W),mr(l,f,x,g),x=Zn?Ad:0,!ne&&l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&rh(l,g,f);else if(l.tag===19)rh(l,g,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(R){case"forwards":for(g=f.child,R=null;g!==null;)l=g.alternate,l!==null&&Dy(l)===null&&(R=g),g=g.sibling;g=R,g===null?(R=f.child,f.child=null):(R=g.sibling,g.sibling=null),Um(f,!1,R,g,k,x);break;case"backwards":case"unstable_legacy-backwards":for(g=null,R=f.child,f.child=null;R!==null;){if(l=R.alternate,l!==null&&Dy(l)===null){f.child=R;break}l=R.sibling,R.sibling=g,g=R,R=l}Um(f,!0,g,null,k,x);break;case"together":Um(f,!1,null,null,void 0,x);break;default:f.memoizedState=null}return f.child}function vl(l,f,g){if(l!==null&&(f.dependencies=l.dependencies),_o|=f.lanes,(g&f.childLanes)===0)if(l!==null){if(zu(l,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(i(153));if(f.child!==null){for(l=f.child,g=Zl(l,l.pendingProps),f.child=g,g.return=f;l.sibling!==null;)l=l.sibling,g=g.sibling=Zl(l,l.pendingProps),g.return=f;g.sibling=null}return f.child}function $u(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&Md(l)))}function zm(l,f,g){switch(f.tag){case 3:Ve(f,f.stateNode.containerInfo),Hc(f,Yt,l.memoizedState.cache),Kf();break;case 27:case 5:Ge(f);break;case 4:Ve(f,f.stateNode.containerInfo);break;case 10:Hc(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,e1(f),null;break;case 13:var x=f.memoizedState;if(x!==null)return x.dehydrated!==null?(qu(f),f.flags|=128,null):(g&f.child.childLanes)!==0?go(l,f,g):(qu(f),l=vl(l,f,g),l!==null?l.sibling:null);qu(f);break;case 19:var R=(l.flags&128)!==0;if(x=(g&f.childLanes)!==0,x||(zu(l,f,g,!1),x=(g&f.childLanes)!==0),R){if(x)return km(l,f,g);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),pe(dr,dr.current),x)break;return null;case 22:return f.lanes=0,po(l,f,g,f.pendingProps);case 24:Hc(f,Yt,l.memoizedState.cache)}return vl(l,f,g)}function Xy(l,f,g){if(l!==null)if(l.memoizedProps!==f.pendingProps)Ki=!0;else{if(!$u(l,g)&&(f.flags&128)===0)return Ki=!1,zm(l,f,g);Ki=(l.flags&131072)!==0}else Ki=!1,Zn&&(f.flags&1048576)!==0&&z_(f,Ad,f.index);switch(f.lanes=0,f.tag){case 16:e:{var x=f.pendingProps;if(l=Jf(f.elementType),f.type=l,typeof l=="function")ha(l)?(x=Ns(l,x),f.tag=1,f=Ls(null,f,l,x,g)):(f.tag=0,f=kd(null,f,l,x,g));else{if(l!=null){var R=l.$$typeof;if(R===C){f.tag=11,f=Pm(null,f,l,x,g);break e}else if(R===P){f.tag=14,f=Dm(null,f,l,x,g);break e}}throw f=K(l)||l,Error(i(306,f,""))}}return f;case 0:return kd(l,f,f.type,f.pendingProps,g);case 1:return x=f.type,R=Ns(x,f.pendingProps),Ls(l,f,x,R,g);case 3:e:{if(Ve(f,f.stateNode.containerInfo),l===null)throw Error(i(387));x=f.pendingProps;var k=f.memoizedState;R=k.element,K_(l,f),th(f,x,null,g);var W=f.memoizedState;if(x=W.cache,Hc(f,Yt,x),x!==k.cache&&My(f,[Yt],g,!0),Em(),x=W.element,k.isDehydrated)if(k={element:x,isDehydrated:!1,cache:W.cache},f.updateQueue.baseState=k,f.memoizedState=k,f.flags&256){f=si(l,f,x,g);break e}else if(x!==R){R=Ia(Error(i(424)),f),ym(R),f=si(l,f,x,g);break e}else{switch(l=f.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Hi=fc(l.firstChild),vs=f,Zn=!0,Fc=null,_s=!0,g=oE(f,null,x,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Kf(),x===R){f=vl(l,f,g);break e}mr(l,f,x,g)}f=f.child}return f;case 26:return yl(l,f),l===null?(g=C4(f.type,null,f.pendingProps,null))?f.memoizedState=g:Zn||(g=f.type,l=f.pendingProps,x=FE(he.current).createElement(g),x[yn]=f,x[fr]=l,ya(x,g,l),xe(x),f.stateNode=x):f.memoizedState=C4(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:return Ge(f),l===null&&Zn&&(x=f.stateNode=E4(f.type,f.pendingProps,he.current),vs=f,_s=!0,R=Hi,Wd(f.type)?(dR=R,Hi=fc(x.firstChild)):Hi=R),mr(l,f,f.pendingProps.children,g),yl(l,f),l===null&&(f.flags|=4194304),f.child;case 5:return l===null&&Zn&&((R=x=Hi)&&(x=G$(x,f.type,f.pendingProps,_s),x!==null?(f.stateNode=x,vs=f,Hi=fc(x.firstChild),_s=!1,R=!0):R=!1),R||Xn(f)),Ge(f),R=f.type,k=f.pendingProps,W=l!==null?l.memoizedProps:null,x=k.children,lR(R,k)?x=null:W!==null&&lR(R,W)&&(f.flags|=32),f.memoizedState!==null&&(R=n1(l,f,GM,null,null,g),L1._currentValue=R),yl(l,f),mr(l,f,x,g),f.child;case 6:return l===null&&Zn&&((l=g=Hi)&&(g=q$(g,f.pendingProps,_s),g!==null?(f.stateNode=g,vs=f,Hi=null,l=!0):l=!1),l||Xn(f)),null;case 13:return go(l,f,g);case 4:return Ve(f,f.stateNode.containerInfo),x=f.pendingProps,l===null?f.child=eh(f,null,x,g):mr(l,f,x,g),f.child;case 11:return Pm(l,f,f.type,f.pendingProps,g);case 7:return mr(l,f,f.pendingProps,g),f.child;case 8:return mr(l,f,f.pendingProps.children,g),f.child;case 12:return mr(l,f,f.pendingProps.children,g),f.child;case 10:return x=f.pendingProps,Hc(f,f.type,x.value),mr(l,f,x.children,g),f.child;case 9:return R=f.type._context,x=f.pendingProps.children,Zf(f),R=bs(R),x=x(R),f.flags|=1,mr(l,f,x,g),f.child;case 14:return Dm(l,f,f.type,f.pendingProps,g);case 15:return ho(l,f,f.type,f.pendingProps,g);case 19:return km(l,f,g);case 31:return Nm(l,f,g);case 22:return po(l,f,g,f.pendingProps);case 24:return Zf(f),x=bs(Yt),l===null?(R=tc(),R===null&&(R=Si,k=j_(),R.pooledCache=k,k.refCount++,k!==null&&(R.pooledCacheLanes|=g),R=k),f.memoizedState={parent:x,cache:R},Y_(f),Hc(f,Yt,R)):((l.lanes&g)!==0&&(K_(l,f),th(f,null,null,g),Em()),R=l.memoizedState,k=f.memoizedState,R.parent!==x?(R={parent:x,cache:x},f.memoizedState=R,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=R),Hc(f,Yt,x)):(x=k.cache,Hc(f,Yt,x),x!==R.cache&&My(f,[Yt],g,!0))),mr(l,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}function Ua(l){l.flags|=4}function Xu(l,f,g,x,R){if((f=(l.mode&32)!==0)&&(f=!1),f){if(l.flags|=16777216,(R&335544128)===R)if(l.stateNode.complete)l.flags|=8192;else if(bt())l.flags|=8192;else throw rn=bm,_m}else l.flags&=-16777217}function Yc(l,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!I4(f))if(bt())l.flags|=8192;else throw rn=bm,_m}function Fd(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?zt():536870912,l.lanes|=f,bo|=f)}function Bm(l,f){if(!Zn)switch(l.tailMode){case"hidden":f=l.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var x=null;g!==null;)g.alternate!==null&&(x=g),g=g.sibling;x===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function Mi(l){var f=l.alternate!==null&&l.alternate.child===l.child,g=0,x=0;if(f)for(var R=l.child;R!==null;)g|=R.lanes|R.childLanes,x|=R.subtreeFlags&65011712,x|=R.flags&65011712,R.return=l,R=R.sibling;else for(R=l.child;R!==null;)g|=R.lanes|R.childLanes,x|=R.subtreeFlags,x|=R.flags,R.return=l,R=R.sibling;return l.subtreeFlags|=x,l.childLanes=g,f}function C1(l,f,g){var x=f.pendingProps;switch(ku(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(f),null;case 1:return Mi(f),null;case 3:return g=f.stateNode,x=null,l!==null&&(x=l.memoizedState.cache),f.memoizedState.cache!==x&&(f.flags|=2048),ko(Yt),Xe(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Yf(f)?Ua(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,B_())),Mi(f),null;case 26:var R=f.type,k=f.memoizedState;return l===null?(Ua(f),k!==null?(Mi(f),Yc(f,k)):(Mi(f),Xu(f,R,null,x,g))):k?k!==l.memoizedState?(Ua(f),Mi(f),Yc(f,k)):(Mi(f),f.flags&=-16777217):(l=l.memoizedProps,l!==x&&Ua(f),Mi(f),Xu(f,R,l,x,g)),null;case 27:if(rt(f),g=he.current,R=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==x&&Ua(f);else{if(!x){if(f.stateNode===null)throw Error(i(166));return Mi(f),null}l=ue.current,Yf(f)?Ay(f):(l=E4(R,x,g),f.stateNode=l,Ua(f))}return Mi(f),null;case 5:if(rt(f),R=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==x&&Ua(f);else{if(!x){if(f.stateNode===null)throw Error(i(166));return Mi(f),null}if(k=ue.current,Yf(f))Ay(f);else{var W=FE(he.current);switch(k){case 1:k=W.createElementNS("http://www.w3.org/2000/svg",R);break;case 2:k=W.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;default:switch(R){case"svg":k=W.createElementNS("http://www.w3.org/2000/svg",R);break;case"math":k=W.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;case"script":k=W.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof x.is=="string"?W.createElement("select",{is:x.is}):W.createElement("select"),x.multiple?k.multiple=!0:x.size&&(k.size=x.size);break;default:k=typeof x.is=="string"?W.createElement(R,{is:x.is}):W.createElement(R)}}k[yn]=f,k[fr]=x;e:for(W=f.child;W!==null;){if(W.tag===5||W.tag===6)k.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===f)break e;for(;W.sibling===null;){if(W.return===null||W.return===f)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}f.stateNode=k;e:switch(ya(k,R,x),R){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&Ua(f)}}return Mi(f),Xu(f,f.type,l===null?null:l.memoizedProps,f.pendingProps,g),null;case 6:if(l&&f.stateNode!=null)l.memoizedProps!==x&&Ua(f);else{if(typeof x!="string"&&f.stateNode===null)throw Error(i(166));if(l=he.current,Yf(f)){if(l=f.stateNode,g=f.memoizedProps,x=null,R=vs,R!==null)switch(R.tag){case 27:case 5:x=R.memoizedProps}l[yn]=f,l=!!(l.nodeValue===g||x!==null&&x.suppressHydrationWarning===!0||h4(l.nodeValue,g)),l||Xn(f,!0)}else l=FE(l).createTextNode(x),l[yn]=f,f.stateNode=l}return Mi(f),null;case 31:if(g=f.memoizedState,l===null||l.memoizedState!==null){if(x=Yf(f),g!==null){if(l===null){if(!x)throw Error(i(318));if(l=f.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(557));l[yn]=f}else Kf(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Mi(f),l=!1}else g=B_(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=g),l=!0;if(!l)return f.flags&256?(co(f),f):(co(f),null);if((f.flags&128)!==0)throw Error(i(558))}return Mi(f),null;case 13:if(x=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(R=Yf(f),x!==null&&x.dehydrated!==null){if(l===null){if(!R)throw Error(i(318));if(R=f.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(i(317));R[yn]=f}else Kf(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Mi(f),R=!1}else R=B_(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=R),R=!0;if(!R)return f.flags&256?(co(f),f):(co(f),null)}return co(f),(f.flags&128)!==0?(f.lanes=g,f):(g=x!==null,l=l!==null&&l.memoizedState!==null,g&&(x=f.child,R=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(R=x.alternate.memoizedState.cachePool.pool),k=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(k=x.memoizedState.cachePool.pool),k!==R&&(x.flags|=2048)),g!==l&&g&&(f.child.flags|=8192),Fd(f,f.updateQueue),Mi(f),null);case 4:return Xe(),l===null&&iR(f.stateNode.containerInfo),Mi(f),null;case 10:return ko(f.type),Mi(f),null;case 19:if(le(dr),x=f.memoizedState,x===null)return Mi(f),null;if(R=(f.flags&128)!==0,k=x.rendering,k===null)if(R)Bm(x,!1);else{if(Ei!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(k=Dy(l),k!==null){for(f.flags|=128,Bm(x,!1),l=k.updateQueue,f.updateQueue=l,Fd(f,l),f.subtreeFlags=0,l=g,g=f.child;g!==null;)Gs(g,l),g=g.sibling;return pe(dr,dr.current&1|2),Zn&&Bc(f,x.treeForkCount),f.child}l=l.sibling}x.tail!==null&&Ae()>xo&&(f.flags|=128,R=!0,Bm(x,!1),f.lanes=4194304)}else{if(!R)if(l=Dy(k),l!==null){if(f.flags|=128,R=!0,l=l.updateQueue,f.updateQueue=l,Fd(f,l),Bm(x,!0),x.tail===null&&x.tailMode==="hidden"&&!k.alternate&&!Zn)return Mi(f),null}else 2*Ae()-x.renderingStartTime>xo&&g!==536870912&&(f.flags|=128,R=!0,Bm(x,!1),f.lanes=4194304);x.isBackwards?(k.sibling=f.child,f.child=k):(l=x.last,l!==null?l.sibling=k:f.child=k,x.last=k)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Ae(),l.sibling=null,g=dr.current,pe(dr,R?g&1|2:g&1),Zn&&Bc(f,x.treeForkCount),l):(Mi(f),null);case 22:case 23:return co(f),Ws(),x=f.memoizedState!==null,l!==null?l.memoizedState!==null!==x&&(f.flags|=8192):x&&(f.flags|=8192),x?(g&536870912)!==0&&(f.flags&128)===0&&(Mi(f),f.subtreeFlags&6&&(f.flags|=8192)):Mi(f),g=f.updateQueue,g!==null&&Fd(f,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),x=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==g&&(f.flags|=2048),l!==null&&le(Bu),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),ko(Yt),Mi(f),null;case 25:return null;case 30:return null}throw Error(i(156,f.tag))}function Yy(l,f){switch(ku(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return ko(Yt),Xe(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return rt(f),null;case 31:if(f.memoizedState!==null){if(co(f),f.alternate===null)throw Error(i(340));Kf()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 13:if(co(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(i(340));Kf()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return le(dr),null;case 4:return Xe(),null;case 10:return ko(f.type),null;case 22:case 23:return co(f),Ws(),l!==null&&le(Bu),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return ko(Yt),null;case 25:return null;default:return null}}function sh(l,f){switch(ku(f),f.tag){case 3:ko(Yt),Xe();break;case 26:case 27:case 5:rt(f);break;case 4:Xe();break;case 31:f.memoizedState!==null&&co(f);break;case 13:co(f);break;case 19:le(dr);break;case 10:ko(f.type);break;case 22:case 23:co(f),Ws(),l!==null&&le(Bu);break;case 24:ko(Yt)}}function oc(l,f){try{var g=f.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var R=x.next;g=R;do{if((g.tag&l)===l){x=void 0;var k=g.create,W=g.inst;x=k(),W.destroy=x}g=g.next}while(g!==R)}}catch(ne){Ui(f,f.return,ne)}}function Vo(l,f,g){try{var x=f.updateQueue,R=x!==null?x.lastEffect:null;if(R!==null){var k=R.next;x=k;do{if((x.tag&l)===l){var W=x.inst,ne=W.destroy;if(ne!==void 0){W.destroy=void 0,R=f;var ge=g,Pe=ne;try{Pe()}catch(Ye){Ui(R,ge,Ye)}}}x=x.next}while(x!==k)}}catch(Ye){Ui(f,f.return,Ye)}}function Yu(l){var f=l.updateQueue;if(f!==null){var g=l.stateNode;try{Ps(f,g)}catch(x){Ui(l,l.return,x)}}}function A1(l,f,g){g.props=Ns(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(x){Ui(l,f,x)}}function lc(l,f){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var x=l.stateNode;break;case 30:x=l.stateNode;break;default:x=l.stateNode}typeof g=="function"?l.refCleanup=g(x):g.current=x}}catch(R){Ui(l,f,R)}}function yo(l,f){var g=l.ref,x=l.refCleanup;if(g!==null)if(typeof x=="function")try{x()}catch(R){Ui(l,f,R)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(R){Ui(l,f,R)}else g.current=null}function vo(l){var f=l.type,g=l.memoizedProps,x=l.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&x.focus();break e;case"img":g.src?x.src=g.src:g.srcSet&&(x.srcset=g.srcSet)}}catch(R){Ui(l,l.return,R)}}function Ho(l,f,g){try{var x=l.stateNode;z$(x,l.type,g,f),x[fr]=f}catch(R){Ui(l,l.return,R)}}function $r(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Wd(l.type)||l.tag===4}function cc(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||$r(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Wd(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function In(l,f,g){var x=l.tag;if(x===5||x===6)l=l.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(l,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(l),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=is));else if(x!==4&&(x===27&&Wd(l.type)&&(g=l.stateNode,f=null),l=l.child,l!==null))for(In(l,f,g),l=l.sibling;l!==null;)In(l,f,g),l=l.sibling}function yi(l,f,g){var x=l.tag;if(x===5||x===6)l=l.stateNode,f?g.insertBefore(l,f):g.appendChild(l);else if(x!==4&&(x===27&&Wd(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(yi(l,f,g),l=l.sibling;l!==null;)yi(l,f,g),l=l.sibling}function Ar(l){var f=l.stateNode,g=l.memoizedProps;try{for(var x=l.type,R=f.attributes;R.length;)f.removeAttributeNode(R[0]);ya(f,x,g),f[yn]=l,f[fr]=g}catch(k){Ui(l,l.return,k)}}var jo=!1,Zi=!1,Kc=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,gr=null;function Vd(l,f){if(l=l.containerInfo,aR=$E,l=yy(l),bd(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var x=g.getSelection&&g.getSelection();if(x&&x.rangeCount!==0){g=x.anchorNode;var R=x.anchorOffset,k=x.focusNode;x=x.focusOffset;try{g.nodeType,k.nodeType}catch{g=null;break e}var W=0,ne=-1,ge=-1,Pe=0,Ye=0,tt=l,ke=null;t:for(;;){for(var We;tt!==g||R!==0&&tt.nodeType!==3||(ne=W+R),tt!==k||x!==0&&tt.nodeType!==3||(ge=W+x),tt.nodeType===3&&(W+=tt.nodeValue.length),(We=tt.firstChild)!==null;)ke=tt,tt=We;for(;;){if(tt===l)break t;if(ke===g&&++Pe===R&&(ne=W),ke===k&&++Ye===x&&(ge=W),(We=tt.nextSibling)!==null)break;tt=ke,ke=tt.parentNode}tt=We}g=ne===-1||ge===-1?null:{start:ne,end:ge}}else g=null}g=g||{start:0,end:0}}else g=null;for(oR={focusedElem:l,selectionRange:g},$E=!1,gr=f;gr!==null;)if(f=gr,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,gr=l;else for(;gr!==null;){switch(f=gr,k=f.alternate,l=f.flags,f.tag){case 0:if((l&4)!==0&&(l=f.updateQueue,l=l!==null?l.events:null,l!==null))for(g=0;g<l.length;g++)R=l[g],R.ref.impl=R.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&k!==null){l=void 0,g=f,R=k.memoizedProps,k=k.memoizedState,x=g.stateNode;try{var Vt=Ns(g.type,R);l=x.getSnapshotBeforeUpdate(Vt,k),x.__reactInternalSnapshotBeforeUpdate=l}catch(fn){Ui(g,g.return,fn)}}break;case 3:if((l&1024)!==0){if(l=f.stateNode.containerInfo,g=l.nodeType,g===9)uR(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":uR(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=f.sibling,l!==null){l.return=f.return,gr=l;break}gr=f.return}}function DE(l,f,g){var x=g.flags;switch(g.tag){case 0:case 11:case 15:Zc(l,g),x&4&&oc(5,g);break;case 1:if(Zc(l,g),x&4)if(l=g.stateNode,f===null)try{l.componentDidMount()}catch(W){Ui(g,g.return,W)}else{var R=Ns(g.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(R,f,l.__reactInternalSnapshotBeforeUpdate)}catch(W){Ui(g,g.return,W)}}x&64&&Yu(g),x&512&&lc(g,g.return);break;case 3:if(Zc(l,g),x&64&&(l=g.updateQueue,l!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{Ps(l,f)}catch(W){Ui(g,g.return,W)}}break;case 27:f===null&&x&4&&Ar(g);case 26:case 5:Zc(l,g),f===null&&x&4&&vo(g),x&512&&lc(g,g.return);break;case 12:Zc(l,g);break;case 31:Zc(l,g),x&4&&Zy(l,g);break;case 13:Zc(l,g),x&4&&M1(l,g),x&64&&(l=g.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(g=C$.bind(null,g),W$(l,g))));break;case 22:if(x=g.memoizedState!==null||jo,!x){f=f!==null&&f.memoizedState!==null||Zi,R=jo;var k=Zi;jo=x,(Zi=f)&&!k?xi(l,g,(g.subtreeFlags&8772)!==0):Zc(l,g),jo=R,Zi=k}break;case 30:break;default:Zc(l,g)}}function Ky(l){var f=l.alternate;f!==null&&(l.alternate=null,Ky(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&cl(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var ai=null,Xr=!1;function Xs(l,f,g){for(g=g.child;g!==null;)Ku(l,f,g),g=g.sibling}function Ku(l,f,g){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(wt,g)}catch{}switch(g.tag){case 26:Zi||yo(g,f),Xs(l,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Zi||yo(g,f);var x=ai,R=Xr;Wd(g.type)&&(ai=g.stateNode,Xr=!1),Xs(l,f,g),P1(g.stateNode),ai=x,Xr=R;break;case 5:Zi||yo(g,f);case 6:if(x=ai,R=Xr,ai=null,Xs(l,f,g),ai=x,Xr=R,ai!==null)if(Xr)try{(ai.nodeType===9?ai.body:ai.nodeName==="HTML"?ai.ownerDocument.body:ai).removeChild(g.stateNode)}catch(k){Ui(g,f,k)}else try{ai.removeChild(g.stateNode)}catch(k){Ui(g,f,k)}break;case 18:ai!==null&&(Xr?(l=ai,v4(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,g.stateNode),lv(l)):v4(ai,g.stateNode));break;case 4:x=ai,R=Xr,ai=g.stateNode.containerInfo,Xr=!0,Xs(l,f,g),ai=x,Xr=R;break;case 0:case 11:case 14:case 15:Vo(2,g,f),Zi||Vo(4,g,f),Xs(l,f,g);break;case 1:Zi||(yo(g,f),x=g.stateNode,typeof x.componentWillUnmount=="function"&&A1(g,f,x)),Xs(l,f,g);break;case 21:Xs(l,f,g);break;case 22:Zi=(x=Zi)||g.memoizedState!==null,Xs(l,f,g),Zi=x;break;default:Xs(l,f,g)}}function Zy(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{lv(l)}catch(g){Ui(f,f.return,g)}}}function M1(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{lv(l)}catch(g){Ui(f,f.return,g)}}function NE(l){switch(l.tag){case 31:case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new Fm),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new Fm),f;default:throw Error(i(435,l.tag))}}function Mr(l,f){var g=NE(l);f.forEach(function(x){if(!g.has(x)){g.add(x);var R=A$.bind(null,l,x);x.then(R,R)}})}function Ys(l,f){var g=f.deletions;if(g!==null)for(var x=0;x<g.length;x++){var R=g[x],k=l,W=f,ne=W;e:for(;ne!==null;){switch(ne.tag){case 27:if(Wd(ne.type)){ai=ne.stateNode,Xr=!1;break e}break;case 5:ai=ne.stateNode,Xr=!1;break e;case 3:case 4:ai=ne.stateNode.containerInfo,Xr=!0;break e}ne=ne.return}if(ai===null)throw Error(i(160));Ku(k,W,R),ai=null,Xr=!1,k=R.alternate,k!==null&&(k.return=null),R.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)Zu(f,l),f=f.sibling}var ka=null;function Zu(l,f){var g=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ys(f,l),yr(l),x&4&&(Vo(3,l,l.return),oc(3,l),Vo(5,l,l.return));break;case 1:Ys(f,l),yr(l),x&512&&(Zi||g===null||yo(g,g.return)),x&64&&jo&&(l=l.updateQueue,l!==null&&(x=l.callbacks,x!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?x:g.concat(x))));break;case 26:var R=ka;if(Ys(f,l),yr(l),x&512&&(Zi||g===null||yo(g,g.return)),x&4){var k=g!==null?g.memoizedState:null;if(x=l.memoizedState,g===null)if(x===null)if(l.stateNode===null){e:{x=l.type,g=l.memoizedProps,R=R.ownerDocument||R;t:switch(x){case"title":k=R.getElementsByTagName("title")[0],(!k||k[ro]||k[yn]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=R.createElement(x),R.head.insertBefore(k,R.querySelector("head > title"))),ya(k,x,g),k[yn]=l,xe(k),x=k;break e;case"link":var W=R4("link","href",R).get(x+(g.href||""));if(W){for(var ne=0;ne<W.length;ne++)if(k=W[ne],k.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&k.getAttribute("rel")===(g.rel==null?null:g.rel)&&k.getAttribute("title")===(g.title==null?null:g.title)&&k.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){W.splice(ne,1);break t}}k=R.createElement(x),ya(k,x,g),R.head.appendChild(k);break;case"meta":if(W=R4("meta","content",R).get(x+(g.content||""))){for(ne=0;ne<W.length;ne++)if(k=W[ne],k.getAttribute("content")===(g.content==null?null:""+g.content)&&k.getAttribute("name")===(g.name==null?null:g.name)&&k.getAttribute("property")===(g.property==null?null:g.property)&&k.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&k.getAttribute("charset")===(g.charSet==null?null:g.charSet)){W.splice(ne,1);break t}}k=R.createElement(x),ya(k,x,g),R.head.appendChild(k);break;default:throw Error(i(468,x))}k[yn]=l,xe(k),x=k}l.stateNode=x}else O4(R,l.type,l.stateNode);else l.stateNode=M4(R,x,l.memoizedProps);else k!==x?(k===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):k.count--,x===null?O4(R,l.type,l.stateNode):M4(R,x,l.memoizedProps)):x===null&&l.stateNode!==null&&Ho(l,l.memoizedProps,g.memoizedProps)}break;case 27:Ys(f,l),yr(l),x&512&&(Zi||g===null||yo(g,g.return)),g!==null&&x&4&&Ho(l,l.memoizedProps,g.memoizedProps);break;case 5:if(Ys(f,l),yr(l),x&512&&(Zi||g===null||yo(g,g.return)),l.flags&32){R=l.stateNode;try{Tr(R,"")}catch(Vt){Ui(l,l.return,Vt)}}x&4&&l.stateNode!=null&&(R=l.memoizedProps,Ho(l,R,g!==null?g.memoizedProps:R)),x&1024&&(Kc=!0);break;case 6:if(Ys(f,l),yr(l),x&4){if(l.stateNode===null)throw Error(i(162));x=l.memoizedProps,g=l.stateNode;try{g.nodeValue=x}catch(Vt){Ui(l,l.return,Vt)}}break;case 3:if(jE=null,R=ka,ka=VE(f.containerInfo),Ys(f,l),ka=R,yr(l),x&4&&g!==null&&g.memoizedState.isDehydrated)try{lv(f.containerInfo)}catch(Vt){Ui(l,l.return,Vt)}Kc&&(Kc=!1,LE(l));break;case 4:x=ka,ka=VE(l.stateNode.containerInfo),Ys(f,l),yr(l),ka=x;break;case 12:Ys(f,l),yr(l);break;case 31:Ys(f,l),yr(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,Mr(l,x)));break;case 13:Ys(f,l),yr(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(eu=Ae()),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,Mr(l,x)));break;case 22:R=l.memoizedState!==null;var ge=g!==null&&g.memoizedState!==null,Pe=jo,Ye=Zi;if(jo=Pe||R,Zi=Ye||ge,Ys(f,l),Zi=Ye,jo=Pe,yr(l),x&8192)e:for(f=l.stateNode,f._visibility=R?f._visibility&-2:f._visibility|1,R&&(g===null||ge||jo||Zi||ah(l)),g=null,f=l;;){if(f.tag===5||f.tag===26){if(g===null){ge=g=f;try{if(k=ge.stateNode,R)W=k.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{ne=ge.stateNode;var tt=ge.memoizedProps.style,ke=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;ne.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(Vt){Ui(ge,ge.return,Vt)}}}else if(f.tag===6){if(g===null){ge=f;try{ge.stateNode.nodeValue=R?"":ge.memoizedProps}catch(Vt){Ui(ge,ge.return,Vt)}}}else if(f.tag===18){if(g===null){ge=f;try{var We=ge.stateNode;R?_4(We,!0):_4(ge.stateNode,!1)}catch(Vt){Ui(ge,ge.return,Vt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}x&4&&(x=l.updateQueue,x!==null&&(g=x.retryQueue,g!==null&&(x.retryQueue=null,Mr(l,g))));break;case 19:Ys(f,l),yr(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,Mr(l,x)));break;case 30:break;case 21:break;default:Ys(f,l),yr(l)}}function yr(l){var f=l.flags;if(f&2){try{for(var g,x=l.return;x!==null;){if($r(x)){g=x;break}x=x.return}if(g==null)throw Error(i(160));switch(g.tag){case 27:var R=g.stateNode,k=cc(l);yi(l,k,R);break;case 5:var W=g.stateNode;g.flags&32&&(Tr(W,""),g.flags&=-33);var ne=cc(l);yi(l,ne,W);break;case 3:case 4:var ge=g.stateNode.containerInfo,Pe=cc(l);In(l,Pe,ge);break;default:throw Error(i(161))}}catch(Ye){Ui(l,l.return,Ye)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function LE(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;LE(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),l=l.sibling}}function Zc(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)DE(l,f.alternate,f),f=f.sibling}function ah(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:Vo(4,f,f.return),ah(f);break;case 1:yo(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&A1(f,f.return,g),ah(f);break;case 27:P1(f.stateNode);case 26:case 5:yo(f,f.return),ah(f);break;case 22:f.memoizedState===null&&ah(f);break;case 30:ah(f);break;default:ah(f)}l=l.sibling}}function xi(l,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var x=f.alternate,R=l,k=f,W=k.flags;switch(k.tag){case 0:case 11:case 15:xi(R,k,g),oc(4,k);break;case 1:if(xi(R,k,g),x=k,R=x.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Pe){Ui(x,x.return,Pe)}if(x=k,R=x.updateQueue,R!==null){var ne=x.stateNode;try{var ge=R.shared.hiddenCallbacks;if(ge!==null)for(R.shared.hiddenCallbacks=null,R=0;R<ge.length;R++)ic(ge[R],ne)}catch(Pe){Ui(x,x.return,Pe)}}g&&W&64&&Yu(k),lc(k,k.return);break;case 27:Ar(k);case 26:case 5:xi(R,k,g),g&&x===null&&W&4&&vo(k),lc(k,k.return);break;case 12:xi(R,k,g);break;case 31:xi(R,k,g),g&&W&4&&Zy(R,k);break;case 13:xi(R,k,g),g&&W&4&&M1(R,k);break;case 22:k.memoizedState===null&&xi(R,k,g),lc(k,k.return);break;case 30:break;default:xi(R,k,g)}f=f.sibling}}function Qy(l,f){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&Is(g))}function Qc(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&Is(l))}function as(l,f,g,x){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)cr(l,f,g,x),f=f.sibling}function cr(l,f,g,x){var R=f.flags;switch(f.tag){case 0:case 11:case 15:as(l,f,g,x),R&2048&&oc(9,f);break;case 1:as(l,f,g,x);break;case 3:as(l,f,g,x),R&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&Is(l)));break;case 12:if(R&2048){as(l,f,g,x),l=f.stateNode;try{var k=f.memoizedProps,W=k.id,ne=k.onPostCommit;typeof ne=="function"&&ne(W,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ge){Ui(f,f.return,ge)}}else as(l,f,g,x);break;case 31:as(l,f,g,x);break;case 13:as(l,f,g,x);break;case 23:break;case 22:k=f.stateNode,W=f.alternate,f.memoizedState!==null?k._visibility&2?as(l,f,g,x):Hd(l,f):k._visibility&2?as(l,f,g,x):(k._visibility|=2,Qu(l,f,g,x,(f.subtreeFlags&10256)!==0||!1)),R&2048&&Qy(W,f);break;case 24:as(l,f,g,x),R&2048&&Qc(f.alternate,f);break;default:as(l,f,g,x)}}function Qu(l,f,g,x,R){for(R=R&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var k=l,W=f,ne=g,ge=x,Pe=W.flags;switch(W.tag){case 0:case 11:case 15:Qu(k,W,ne,ge,R),oc(8,W);break;case 23:break;case 22:var Ye=W.stateNode;W.memoizedState!==null?Ye._visibility&2?Qu(k,W,ne,ge,R):Hd(k,W):(Ye._visibility|=2,Qu(k,W,ne,ge,R)),R&&Pe&2048&&Qy(W.alternate,W);break;case 24:Qu(k,W,ne,ge,R),R&&Pe&2048&&Qc(W.alternate,W);break;default:Qu(k,W,ne,ge,R)}f=f.sibling}}function Hd(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=l,x=f,R=x.flags;switch(x.tag){case 22:Hd(g,x),R&2048&&Qy(x.alternate,x);break;case 24:Hd(g,x),R&2048&&Qc(x.alternate,x);break;default:Hd(g,x)}f=f.sibling}}var vr=8192;function oh(l,f,g){if(l.subtreeFlags&vr)for(l=l.child;l!==null;)Rr(l,f,g),l=l.sibling}function Rr(l,f,g){switch(l.tag){case 26:oh(l,f,g),l.flags&vr&&l.memoizedState!==null&&rX(g,ka,l.memoizedState,l.memoizedProps);break;case 5:oh(l,f,g);break;case 3:case 4:var x=ka;ka=VE(l.stateNode.containerInfo),oh(l,f,g),ka=x;break;case 22:l.memoizedState===null&&(x=l.alternate,x!==null&&x.memoizedState!==null?(x=vr,vr=16777216,oh(l,f,g),vr=x):oh(l,f,g));break;default:oh(l,f,g)}}function za(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function ma(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var x=f[g];gr=x,Vm(x,l)}za(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)lh(l),l=l.sibling}function lh(l){switch(l.tag){case 0:case 11:case 15:ma(l),l.flags&2048&&Vo(9,l,l.return);break;case 3:ma(l);break;case 12:ma(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&2&&(l.return===null||l.return.tag!==13)?(f._visibility&=-3,Jy(l)):ma(l);break;default:ma(l)}}function Jy(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var x=f[g];gr=x,Vm(x,l)}za(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:Vo(8,f,f.return),Jy(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,Jy(f));break;default:Jy(f)}l=l.sibling}}function Vm(l,f){for(;gr!==null;){var g=gr;switch(g.tag){case 0:case 11:case 15:Vo(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var x=g.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Is(g.memoizedState.cache)}if(x=g.child,x!==null)x.return=g,gr=x;else e:for(g=l;gr!==null;){x=gr;var R=x.sibling,k=x.return;if(Ky(x),x===g){gr=null;break e}if(R!==null){R.return=k,gr=R;break e}gr=k}}}var ev={getCacheForType:function(l){var f=bs(Yt),g=f.data.get(l);return g===void 0&&(g=l(),f.data.set(l,g)),g},cacheSignal:function(){return bs(Yt).controller.signal}},tv=typeof WeakMap=="function"?WeakMap:Map,ti=0,Si=null,Pn=null,Yn=0,Kt=0,qn=null,Tn=!1,Fn=!1,Pi=!1,Or=0,Ei=0,_o=0,Jc=0,_l=0,ni=0,bo=0,bl=null,Ks=null,Ba=!1,eu=0,jd=0,xo=1/0,Gd=null,uc=null,ur=0,xl=null,So=null,Go=0,tu=0,ch=null,nv=null,uh=0,fh=null;function ga(){return(ti&2)!==0&&Yn!==0?Yn&-Yn:q.T!==null?JM():$i()}function d(){if(ni===0)if((Yn&536870912)===0||Zn){var l=Fe;Fe<<=1,(Fe&3932160)===0&&(Fe=262144),ni=l}else ni=536870912;return l=ss.current,l!==null&&(l.flags|=32),ni}function m(l,f,g){(l===Si&&(Kt===2||Kt===9)||l.cancelPendingCommit!==null)&&(Ce(l,0),G(l,Yn,ni,!1)),St(l,g),((ti&2)===0||l!==Si)&&(l===Si&&((ti&2)===0&&(Jc|=g),Ei===4&&G(l,Yn,ni,!1)),Ju(l))}function T(l,f,g){if((ti&6)!==0)throw Error(i(327));var x=!g&&(f&127)===0&&(f&l.expiredLanes)===0||Qt(l,f),R=x?hh(l,f):Fa(l,f,!0),k=x;do{if(R===0){Fn&&!x&&G(l,f,0,!1);break}else{if(g=l.current.alternate,k&&!B(g)){R=Fa(l,f,!1),k=!1;continue}if(R===2){if(k=f,l.errorRecoveryDisabledLanes&k)var W=0;else W=l.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){f=W;e:{var ne=l;R=bl;var ge=ne.current.memoizedState.isDehydrated;if(ge&&(Ce(ne,W).flags|=256),W=Fa(ne,W,!1),W!==2){if(Pi&&!ge){ne.errorRecoveryDisabledLanes|=k,Jc|=k,R=4;break e}k=Ks,Ks=R,k!==null&&(Ks===null?Ks=k:Ks.push.apply(Ks,k))}R=W}if(k=!1,R!==2)continue}}if(R===1){Ce(l,0),G(l,f,0,!0);break}e:{switch(x=l,k=R,k){case 0:case 1:throw Error(i(345));case 4:if((f&4194048)!==f)break;case 6:G(x,f,ni,!Tn);break e;case 2:Ks=null;break;case 3:case 5:break;default:throw Error(i(329))}if((f&62914560)===f&&(R=eu+300-Ae(),10<R)){if(G(x,f,ni,!Tn),_t(x,0,!0)!==0)break e;Go=f,x.timeoutHandle=g4(O.bind(null,x,g,Ks,Gd,Ba,f,ni,Jc,bo,Tn,k,"Throttled",-0,0),R);break e}O(x,g,Ks,Gd,Ba,f,ni,Jc,bo,Tn,k,null,-0,0)}}break}while(!0);Ju(l)}function O(l,f,g,x,R,k,W,ne,ge,Pe,Ye,tt,ke,We){if(l.timeoutHandle=-1,tt=f.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:is},Rr(f,k,tt);var Vt=(k&62914560)===k?eu-Ae():(k&4194048)===k?jd-Ae():0;if(Vt=sX(tt,Vt),Vt!==null){Go=k,l.cancelPendingCommit=Vt(pn.bind(null,l,f,k,g,x,R,W,ne,ge,Ye,tt,null,ke,We)),G(l,k,W,!Pe);return}}pn(l,f,k,g,x,R,W,ne,ge)}function B(l){for(var f=l;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var x=0;x<g.length;x++){var R=g[x],k=R.getSnapshot;R=R.value;try{if(!Yi(k(),R))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function G(l,f,g,x){f&=~_l,f&=~Jc,l.suspendedLanes|=f,l.pingedLanes&=~f,x&&(l.warmLanes|=f),x=l.expirationTimes;for(var R=f;0<R;){var k=31-jt(R),W=1<<k;x[k]=-1,R&=~W}g!==0&&kn(l,g,f)}function oe(){return(ti&6)===0?(R1(0),!1):!0}function me(){if(Pn!==null){if(Kt===0)var l=Pn.return;else l=Pn,qs=Vc=null,s1(l),Vu=null,Hu=0,l=Pn;for(;l!==null;)sh(l.alternate,l),l=l.return;Pn=null}}function Ce(l,f){var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,V$(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),Go=0,me(),Si=l,Pn=g=Zl(l.current,null),Yn=f,Kt=0,qn=null,Tn=!1,Fn=Qt(l,f),Pi=!1,bo=ni=_l=Jc=_o=Ei=0,Ks=bl=null,Ba=!1,(f&8)!==0&&(f|=f&32);var x=l.entangledLanes;if(x!==0)for(l=l.entanglements,x&=f;0<x;){var R=31-jt(x),k=1<<R;f|=l[R],x&=~k}return Or=f,Nu(),g}function Je(l,f){dn=null,q.H=Rm,f===Fu||f===ml?(f=Oy(),Kt=3):f===_m?(f=Oy(),Kt=4):Kt=f===$y?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,qn=f,Pn===null&&(Ei=1,Wy(l,Ia(f,l.current)))}function bt(){var l=ss.current;return l===null?!0:(Yn&4194048)===Yn?zo===null:(Yn&62914560)===Yn||(Yn&536870912)!==0?l===zo:!1}function It(){var l=q.H;return q.H=Rm,l===null?Rm:l}function Nt(){var l=q.A;return q.A=ev,l}function bn(){Ei=4,Tn||(Yn&4194048)!==Yn&&ss.current!==null||(Fn=!0),(_o&134217727)===0&&(Jc&134217727)===0||Si===null||G(Si,Yn,ni,!1)}function Fa(l,f,g){var x=ti;ti|=2;var R=It(),k=Nt();(Si!==l||Yn!==f)&&(Gd=null,Ce(l,f)),f=!1;var W=Ei;e:do try{if(Kt!==0&&Pn!==null){var ne=Pn,ge=qn;switch(Kt){case 8:me(),W=6;break e;case 3:case 2:case 9:case 6:ss.current===null&&(f=!0);var Pe=Kt;if(Kt=0,qn=null,ht(l,ne,ge,Pe),g&&Fn){W=0;break e}break;default:Pe=Kt,Kt=0,qn=null,ht(l,ne,ge,Pe)}}Hm(),W=Ei;break}catch(Ye){Je(l,Ye)}while(!0);return f&&l.shellSuspendCounter++,qs=Vc=null,ti=x,q.H=R,q.A=k,Pn===null&&(Si=null,Yn=0,Nu()),W}function Hm(){for(;Pn!==null;)Te(Pn)}function hh(l,f){var g=ti;ti|=2;var x=It(),R=Nt();Si!==l||Yn!==f?(Gd=null,xo=Ae()+500,Ce(l,f)):Fn=Qt(l,f);e:do try{if(Kt!==0&&Pn!==null){f=Pn;var k=qn;t:switch(Kt){case 1:Kt=0,qn=null,ht(l,f,k,1);break;case 2:case 9:if(aE(k)){Kt=0,qn=null,He(f);break}f=function(){Kt!==2&&Kt!==9||Si!==l||(Kt=7),Ju(l)},k.then(f,f);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:aE(k)?(Kt=0,qn=null,He(f)):(Kt=0,qn=null,ht(l,f,k,7));break;case 5:var W=null;switch(Pn.tag){case 26:W=Pn.memoizedState;case 5:case 27:var ne=Pn;if(W?I4(W):ne.stateNode.complete){Kt=0,qn=null;var ge=ne.sibling;if(ge!==null)Pn=ge;else{var Pe=ne.return;Pe!==null?(Pn=Pe,Wt(Pe)):Pn=null}break t}}Kt=0,qn=null,ht(l,f,k,5);break;case 6:Kt=0,qn=null,ht(l,f,k,6);break;case 8:me(),Ei=6;break e;default:throw Error(i(462))}}Ue();break}catch(Ye){Je(l,Ye)}while(!0);return qs=Vc=null,q.H=x,q.A=R,ti=g,Pn!==null?0:(Si=null,Yn=0,Nu(),Ei)}function Ue(){for(;Pn!==null&&!J();)Te(Pn)}function Te(l){var f=Xy(l.alternate,l,Or);l.memoizedProps=l.pendingProps,f===null?Wt(l):Pn=f}function He(l){var f=l,g=f.alternate;switch(f.tag){case 15:case 0:f=$s(g,f,f.pendingProps,f.type,void 0,Yn);break;case 11:f=$s(g,f,f.pendingProps,f.type.render,f.ref,Yn);break;case 5:s1(f);default:sh(g,f),f=Pn=Gs(f,Or),f=Xy(g,f,Or)}l.memoizedProps=l.pendingProps,f===null?Wt(l):Pn=f}function ht(l,f,g,x){qs=Vc=null,s1(f),Vu=null,Hu=0;var R=f.return;try{if(fo(l,R,f,g,Yn)){Ei=1,Wy(l,Ia(g,l.current)),Pn=null;return}}catch(k){if(R!==null)throw Pn=R,k;Ei=1,Wy(l,Ia(g,l.current)),Pn=null;return}f.flags&32768?(Zn||x===1?l=!0:Fn||(Yn&536870912)!==0?l=!1:(Tn=l=!0,(x===2||x===9||x===3||x===6)&&(x=ss.current,x!==null&&x.tag===13&&(x.flags|=16384))),ji(f,l)):Wt(f)}function Wt(l){var f=l;do{if((f.flags&32768)!==0){ji(f,Tn);return}l=f.return;var g=C1(f.alternate,f,Or);if(g!==null){Pn=g;return}if(f=f.sibling,f!==null){Pn=f;return}Pn=f=l}while(f!==null);Ei===0&&(Ei=5)}function ji(l,f){do{var g=Yy(l.alternate,l);if(g!==null){g.flags&=32767,Pn=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(l=l.sibling,l!==null)){Pn=l;return}Pn=l=g}while(l!==null);Ei=6,Pn=null}function pn(l,f,g,x,R,k,W,ne,ge){l.cancelPendingCommit=null;do iv();while(ur!==0);if((ti&6)!==0)throw Error(i(327));if(f!==null){if(f===l.current)throw Error(i(177));if(k=f.lanes|f.childLanes,k|=Sy,Mt(l,g,k,W,ne,ge),l===Si&&(Pn=Si=null,Yn=0),So=f,xl=l,Go=g,tu=k,ch=R,nv=x,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,M$(ft,function(){return JL(),null})):(l.callbackNode=null,l.callbackPriority=0),x=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||x){x=q.T,q.T=null,R=$.p,$.p=2,W=ti,ti|=4;try{Vd(l,f,g)}finally{ti=W,$.p=R,q.T=x}}ur=1,oi(),os(),li()}}function oi(){if(ur===1){ur=0;var l=xl,f=So,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=q.T,q.T=null;var x=$.p;$.p=2;var R=ti;ti|=4;try{Zu(f,l);var k=oR,W=yy(l.containerInfo),ne=k.focusedElem,ge=k.selectionRange;if(W!==ne&&ne&&ne.ownerDocument&&gy(ne.ownerDocument.documentElement,ne)){if(ge!==null&&bd(ne)){var Pe=ge.start,Ye=ge.end;if(Ye===void 0&&(Ye=Pe),"selectionStart"in ne)ne.selectionStart=Pe,ne.selectionEnd=Math.min(Ye,ne.value.length);else{var tt=ne.ownerDocument||document,ke=tt&&tt.defaultView||window;if(ke.getSelection){var We=ke.getSelection(),Vt=ne.textContent.length,fn=Math.min(ge.start,Vt),qi=ge.end===void 0?fn:Math.min(ge.end,Vt);!We.extend&&fn>qi&&(W=qi,qi=fn,fn=W);var we=N_(ne,fn),be=N_(ne,qi);if(we&&be&&(We.rangeCount!==1||We.anchorNode!==we.node||We.anchorOffset!==we.offset||We.focusNode!==be.node||We.focusOffset!==be.offset)){var Ie=tt.createRange();Ie.setStart(we.node,we.offset),We.removeAllRanges(),fn>qi?(We.addRange(Ie),We.extend(be.node,be.offset)):(Ie.setEnd(be.node,be.offset),We.addRange(Ie))}}}}for(tt=[],We=ne;We=We.parentNode;)We.nodeType===1&&tt.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<tt.length;ne++){var et=tt[ne];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}$E=!!aR,oR=aR=null}finally{ti=R,$.p=x,q.T=g}}l.current=f,ur=2}}function os(){if(ur===2){ur=0;var l=xl,f=So,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=q.T,q.T=null;var x=$.p;$.p=2;var R=ti;ti|=4;try{DE(l,f.alternate,f)}finally{ti=R,$.p=x,q.T=g}}ur=3}}function li(){if(ur===4||ur===3){ur=0,Se();var l=xl,f=So,g=Go,x=nv;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?ur=5:(ur=0,So=xl=null,nu(l,l.pendingLanes));var R=l.pendingLanes;if(R===0&&(uc=null),Rs(g),f=f.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(wt,f,void 0,(f.current.flags&128)===128)}catch{}if(x!==null){f=q.T,R=$.p,$.p=2,q.T=null;try{for(var k=l.onRecoverableError,W=0;W<x.length;W++){var ne=x[W];k(ne.value,{componentStack:ne.stack})}}finally{q.T=f,$.p=R}}(Go&3)!==0&&iv(),Ju(l),R=l.pendingLanes,(g&261930)!==0&&(R&42)!==0?l===fh?uh++:(uh=0,fh=l):uh=0,R1(0)}}function nu(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,Is(f)))}function iv(){return oi(),os(),li(),JL()}function JL(){if(ur!==5)return!1;var l=xl,f=tu;tu=0;var g=Rs(Go),x=q.T,R=$.p;try{$.p=32>g?32:g,q.T=null,g=ch,ch=null;var k=xl,W=Go;if(ur=0,So=xl=null,Go=0,(ti&6)!==0)throw Error(i(331));var ne=ti;if(ti|=4,lh(k.current),cr(k,k.current,W,g),ti=ne,R1(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(wt,k)}catch{}return!0}finally{$.p=R,q.T=x,nu(l,f)}}function e4(l,f,g){f=Ia(g,f),f=w1(l.stateNode,f,2),l=qc(l,f,2),l!==null&&(St(l,2),Ju(l))}function Ui(l,f,g){if(l.tag===3)e4(l,l,g);else for(;f!==null;){if(f.tag===3){e4(f,l,g);break}else if(f.tag===1){var x=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(uc===null||!uc.has(x))){l=Ia(g,l),g=Ud(2),x=qc(f,g,2),x!==null&&(La(g,x,f,l),St(x,2),Ju(x));break}}f=f.return}}function KM(l,f,g){var x=l.pingCache;if(x===null){x=l.pingCache=new tv;var R=new Set;x.set(f,R)}else R=x.get(f),R===void 0&&(R=new Set,x.set(f,R));R.has(g)||(Pi=!0,R.add(g),l=w$.bind(null,l,f,g),f.then(l,l))}function w$(l,f,g){var x=l.pingCache;x!==null&&x.delete(f),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,Si===l&&(Yn&g)===g&&(Ei===4||Ei===3&&(Yn&62914560)===Yn&&300>Ae()-eu?(ti&2)===0&&Ce(l,0):_l|=g,bo===Yn&&(bo=0)),Ju(l)}function t4(l,f){f===0&&(f=zt()),l=Lu(l,f),l!==null&&(St(l,f),Ju(l))}function C$(l){var f=l.memoizedState,g=0;f!==null&&(g=f.retryLane),t4(l,g)}function A$(l,f){var g=0;switch(l.tag){case 31:case 13:var x=l.stateNode,R=l.memoizedState;R!==null&&(g=R.retryLane);break;case 19:x=l.stateNode;break;case 22:x=l.stateNode._retryCache;break;default:throw Error(i(314))}x!==null&&x.delete(f),t4(l,g)}function M$(l,f){return qe(l,f)}var UE=null,rv=null,ZM=!1,kE=!1,QM=!1,qd=0;function Ju(l){l!==rv&&l.next===null&&(rv===null?UE=rv=l:rv=rv.next=l),kE=!0,ZM||(ZM=!0,O$())}function R1(l,f){if(!QM&&kE){QM=!0;do for(var g=!1,x=UE;x!==null;){if(l!==0){var R=x.pendingLanes;if(R===0)var k=0;else{var W=x.suspendedLanes,ne=x.pingedLanes;k=(1<<31-jt(42|l)+1)-1,k&=R&~(W&~ne),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(g=!0,s4(x,k))}else k=Yn,k=_t(x,x===Si?k:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(k&3)===0||Qt(x,k)||(g=!0,s4(x,k));x=x.next}while(g);QM=!1}}function R$(){n4()}function n4(){kE=ZM=!1;var l=0;qd!==0&&F$()&&(l=qd);for(var f=Ae(),g=null,x=UE;x!==null;){var R=x.next,k=i4(x,f);k===0?(x.next=null,g===null?UE=R:g.next=R,R===null&&(rv=g)):(g=x,(l!==0||(k&3)!==0)&&(kE=!0)),x=R}ur!==0&&ur!==5||R1(l),qd!==0&&(qd=0)}function i4(l,f){for(var g=l.suspendedLanes,x=l.pingedLanes,R=l.expirationTimes,k=l.pendingLanes&-62914561;0<k;){var W=31-jt(k),ne=1<<W,ge=R[W];ge===-1?((ne&g)===0||(ne&x)!==0)&&(R[W]=$n(ne,f)):ge<=f&&(l.expiredLanes|=ne),k&=~ne}if(f=Si,g=Yn,g=_t(l,l===f?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x=l.callbackNode,g===0||l===f&&(Kt===2||Kt===9)||l.cancelPendingCommit!==null)return x!==null&&x!==null&&ae(x),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||Qt(l,g)){if(f=g&-g,f===l.callbackPriority)return f;switch(x!==null&&ae(x),Rs(g)){case 2:case 8:g=ct;break;case 32:g=ft;break;case 268435456:g=kt;break;default:g=ft}return x=r4.bind(null,l),g=qe(g,x),l.callbackPriority=f,l.callbackNode=g,f}return x!==null&&x!==null&&ae(x),l.callbackPriority=2,l.callbackNode=null,2}function r4(l,f){if(ur!==0&&ur!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(iv()&&l.callbackNode!==g)return null;var x=Yn;return x=_t(l,l===Si?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x===0?null:(T(l,x,f),i4(l,Ae()),l.callbackNode!=null&&l.callbackNode===g?r4.bind(null,l):null)}function s4(l,f){if(iv())return null;T(l,f,!0)}function O$(){H$(function(){(ti&6)!==0?qe(Re,R$):n4()})}function JM(){if(qd===0){var l=Gc;l===0&&(l=gt,gt<<=1,(gt&261888)===0&&(gt=256)),qd=l}return qd}function a4(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:ul(""+l)}function o4(l,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,l.id&&g.setAttribute("form",l.id),f.parentNode.insertBefore(g,f),l=new FormData(l),g.parentNode.removeChild(g),l}function I$(l,f,g,x,R){if(f==="submit"&&g&&g.stateNode===R){var k=a4((R[fr]||null).action),W=x.submitter;W&&(f=(f=W[fr]||null)?a4(f.formAction):W.getAttribute("formAction"),f!==null&&(k=f,W=null));var ne=new wu("action","action",null,x,R);l.push({event:ne,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(qd!==0){var ge=W?o4(R,W):new FormData(R);b1(g,{pending:!0,data:ge,method:R.method,action:k},null,ge)}}else typeof k=="function"&&(ne.preventDefault(),ge=W?o4(R,W):new FormData(R),b1(g,{pending:!0,data:ge,method:R.method,action:k},k,ge))},currentTarget:R}]})}}for(var eR=0;eR<xy.length;eR++){var tR=xy[eR],P$=tR.toLowerCase(),D$=tR[0].toUpperCase()+tR.slice(1);js(P$,"on"+D$)}js(Oa,"onAnimationEnd"),js(L_,"onAnimationIteration"),js(Kl,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(Td,"onTransitionRun"),js(Pu,"onTransitionStart"),js(U_,"onTransitionCancel"),js(by,"onTransitionEnd"),Ot("onMouseEnter",["mouseout","mouseover"]),Ot("onMouseLeave",["mouseout","mouseover"]),Ot("onPointerEnter",["pointerout","pointerover"]),Ot("onPointerLeave",["pointerout","pointerover"]),Ct("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ct("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ct("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ct("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ct("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ct("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var O1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(O1));function l4(l,f){f=(f&4)!==0;for(var g=0;g<l.length;g++){var x=l[g],R=x.event;x=x.listeners;e:{var k=void 0;if(f)for(var W=x.length-1;0<=W;W--){var ne=x[W],ge=ne.instance,Pe=ne.currentTarget;if(ne=ne.listener,ge!==k&&R.isPropagationStopped())break e;k=ne,R.currentTarget=Pe;try{k(R)}catch(Ye){Du(Ye)}R.currentTarget=null,k=ge}else for(W=0;W<x.length;W++){if(ne=x[W],ge=ne.instance,Pe=ne.currentTarget,ne=ne.listener,ge!==k&&R.isPropagationStopped())break e;k=ne,R.currentTarget=Pe;try{k(R)}catch(Ye){Du(Ye)}R.currentTarget=null,k=ge}}}}function Qn(l,f){var g=f[ll];g===void 0&&(g=f[ll]=new Set);var x=l+"__bubble";g.has(x)||(c4(f,l,2,!1),g.add(x))}function nR(l,f,g){var x=0;f&&(x|=4),c4(g,l,x,f)}var zE="_reactListening"+Math.random().toString(36).slice(2);function iR(l){if(!l[zE]){l[zE]=!0,st.forEach(function(g){g!=="selectionchange"&&(N$.has(g)||nR(g,!1,l),nR(g,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[zE]||(f[zE]=!0,nR("selectionchange",!1,f))}}function c4(l,f,g,x){switch(z4(f)){case 2:var R=lX;break;case 8:R=cX;break;default:R=vR}g=R.bind(null,f,g,l),R=void 0,!cd||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(R=!0),x?R!==void 0?l.addEventListener(f,g,{capture:!0,passive:R}):l.addEventListener(f,g,!0):R!==void 0?l.addEventListener(f,g,{passive:R}):l.addEventListener(f,g,!1)}function rR(l,f,g,x,R){var k=x;if((f&1)===0&&(f&2)===0&&x!==null)e:for(;;){if(x===null)return;var W=x.tag;if(W===3||W===4){var ne=x.stateNode.containerInfo;if(ne===R)break;if(W===4)for(W=x.return;W!==null;){var ge=W.tag;if((ge===3||ge===4)&&W.stateNode.containerInfo===R)return;W=W.return}for(;ne!==null;){if(W=se(ne),W===null)return;if(ge=W.tag,ge===5||ge===6||ge===26||ge===27){x=k=W;continue e}ne=ne.parentNode}}x=x.return}rm(function(){var Pe=k,Ye=kf(g),tt=[];e:{var ke=kc.get(l);if(ke!==void 0){var We=wu,Vt=l;switch(l){case"keypress":if(Gl(g)===0)break e;case"keydown":case"keyup":We=pd;break;case"focusin":Vt="focus",We=Lc;break;case"focusout":Vt="blur",We=Lc;break;case"beforeblur":case"afterblur":We=Lc;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=my;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=Lo;break;case Oa:case L_:case Kl:We=Ff;break;case by:We=gd;break;case"scroll":case"scrollend":We=Bf;break;case"wheel":We=fl;break;case"copy":case"cut":case"paste":We=fd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=Gf;break;case"toggle":case"beforetoggle":We=Xl}var fn=(f&4)!==0,qi=!fn&&(l==="scroll"||l==="scrollend"),we=fn?ke!==null?ke+"Capture":null:ke;fn=[];for(var be=Pe,Ie;be!==null;){var et=be;if(Ie=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||Ie===null||we===null||(et=Fs(be,we),et!=null&&fn.push(I1(be,et,Ie))),qi)break;be=be.return}0<fn.length&&(ke=new We(ke,Vt,null,g,Ye),tt.push({event:ke,listeners:fn}))}}if((f&7)===0){e:{if(ke=l==="mouseover"||l==="pointerover",We=l==="mouseout"||l==="pointerout",ke&&g!==Tu&&(Vt=g.relatedTarget||g.fromElement)&&(se(Vt)||Vt[aa]))break e;if((We||ke)&&(ke=Ye.window===Ye?Ye:(ke=Ye.ownerDocument)?ke.defaultView||ke.parentWindow:window,We?(Vt=g.relatedTarget||g.toElement,We=Pe,Vt=Vt?se(Vt):null,Vt!==null&&(qi=s(Vt),fn=Vt.tag,Vt!==qi||fn!==5&&fn!==27&&fn!==6)&&(Vt=null)):(We=null,Vt=Pe),We!==Vt)){if(fn=my,et="onMouseLeave",we="onMouseEnter",be="mouse",(l==="pointerout"||l==="pointerover")&&(fn=Gf,et="onPointerLeave",we="onPointerEnter",be="pointer"),qi=We==null?ke:Le(We),Ie=Vt==null?ke:Le(Vt),ke=new fn(et,be+"leave",We,g,Ye),ke.target=qi,ke.relatedTarget=Ie,et=null,se(Ye)===Pe&&(fn=new fn(we,be+"enter",Vt,g,Ye),fn.target=Ie,fn.relatedTarget=qi,et=fn),qi=et,We&&Vt)t:{for(fn=L$,we=We,be=Vt,Ie=0,et=we;et;et=fn(et))Ie++;et=0;for(var tn=be;tn;tn=fn(tn))et++;for(;0<Ie-et;)we=fn(we),Ie--;for(;0<et-Ie;)be=fn(be),et--;for(;Ie--;){if(we===be||be!==null&&we===be.alternate){fn=we;break t}we=fn(we),be=fn(be)}fn=null}else fn=null;We!==null&&u4(tt,ke,We,fn,!1),Vt!==null&&qi!==null&&u4(tt,qi,Vt,fn,!0)}}e:{if(ke=Pe?Le(Pe):window,We=ke.nodeName&&ke.nodeName.toLowerCase(),We==="select"||We==="input"&&ke.type==="file")var Ti=I_;else if(ca(ke))if(um)Ti=QS;else{Ti=Ru;var qt=fm}else We=ke.nodeName,!We||We.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Pe&&Uf(Pe.elementType)&&(Ti=I_):Ti=ZS;if(Ti&&(Ti=Ti(l,Pe))){Uc(tt,Ti,g,Ye);break e}qt&&qt(l,ke,Pe),l==="focusout"&&Pe&&ke.type==="number"&&Pe.memoizedProps.value!=null&&Gr(ke,"number",ke.value)}switch(qt=Pe?Le(Pe):window,l){case"focusin":(ca(qt)||qt.contentEditable==="true")&&(xd=qt,vy=Pe,Sd=null);break;case"focusout":Sd=vy=xd=null;break;case"mousedown":ao=!0;break;case"contextmenu":case"mouseup":case"dragend":ao=!1,_y(tt,g,Ye);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":_y(tt,g,Ye)}var Vn;if(j)e:{switch(l){case"compositionstart":var ii="onCompositionStart";break e;case"compositionend":ii="onCompositionEnd";break e;case"compositionupdate":ii="onCompositionUpdate";break e}ii=void 0}else On?fi(l,g)&&(ii="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(ii="onCompositionStart");ii&&(Ee&&g.locale!=="ko"&&(On||ii!=="onCompositionStart"?ii==="onCompositionEnd"&&On&&(Vn=jl()):(so=Ye,zf="value"in so?so.value:so.textContent,On=!0)),qt=BE(Pe,ii),0<qt.length&&(ii=new hd(ii,l,null,g,Ye),tt.push({event:ii,listeners:qt}),Vn?ii.data=Vn:(Vn=ir(g),Vn!==null&&(ii.data=Vn)))),(Vn=ce?wr(l,g):rs(l,g))&&(ii=BE(Pe,"onBeforeInput"),0<ii.length&&(qt=new hd("onBeforeInput","beforeinput",null,g,Ye),tt.push({event:qt,listeners:ii}),qt.data=Vn)),I$(tt,l,Pe,g,Ye)}l4(tt,f)})}function I1(l,f,g){return{instance:l,listener:f,currentTarget:g}}function BE(l,f){for(var g=f+"Capture",x=[];l!==null;){var R=l,k=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||k===null||(R=Fs(l,g),R!=null&&x.unshift(I1(l,R,k)),R=Fs(l,f),R!=null&&x.push(I1(l,R,k))),l.tag===3)return x;l=l.return}return[]}function L$(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function u4(l,f,g,x,R){for(var k=f._reactName,W=[];g!==null&&g!==x;){var ne=g,ge=ne.alternate,Pe=ne.stateNode;if(ne=ne.tag,ge!==null&&ge===x)break;ne!==5&&ne!==26&&ne!==27||Pe===null||(ge=Pe,R?(Pe=Fs(g,k),Pe!=null&&W.unshift(I1(g,Pe,ge))):R||(Pe=Fs(g,k),Pe!=null&&W.push(I1(g,Pe,ge)))),g=g.return}W.length!==0&&l.push({event:f,listeners:W})}var U$=/\r\n?/g,k$=/\u0000|\uFFFD/g;function f4(l){return(typeof l=="string"?l:""+l).replace(U$,`
`).replace(k$,"")}function h4(l,f){return f=f4(f),f4(l)===f}function Gi(l,f,g,x,R,k){switch(g){case"children":typeof x=="string"?f==="body"||f==="textarea"&&x===""||Tr(l,x):(typeof x=="number"||typeof x=="bigint")&&f!=="body"&&Tr(l,""+x);break;case"className":bi(l,"class",x);break;case"tabIndex":bi(l,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(l,g,x);break;case"style":nm(l,x,k);break;case"data":if(f!=="object"){bi(l,"data",x);break}case"src":case"href":if(x===""&&(f!=="a"||g!=="href")){l.removeAttribute(g);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(g);break}x=ul(""+x),l.setAttribute(g,x);break;case"action":case"formAction":if(typeof x=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(g==="formAction"?(f!=="input"&&Gi(l,f,"name",R.name,R,null),Gi(l,f,"formEncType",R.formEncType,R,null),Gi(l,f,"formMethod",R.formMethod,R,null),Gi(l,f,"formTarget",R.formTarget,R,null)):(Gi(l,f,"encType",R.encType,R,null),Gi(l,f,"method",R.method,R,null),Gi(l,f,"target",R.target,R,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(g);break}x=ul(""+x),l.setAttribute(g,x);break;case"onClick":x!=null&&(l.onclick=is);break;case"onScroll":x!=null&&Qn("scroll",l);break;case"onScrollEnd":x!=null&&Qn("scrollend",l);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(g=x.__html,g!=null){if(R.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"multiple":l.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":l.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){l.removeAttribute("xlink:href");break}g=ul(""+x),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(g,""+x):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":x===!0?l.setAttribute(g,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(g,x):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?l.setAttribute(g,x):l.removeAttribute(g);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?l.removeAttribute(g):l.setAttribute(g,x);break;case"popover":Qn("beforetoggle",l),Qn("toggle",l),Ln(l,"popover",x);break;case"xlinkActuate":Wn(l,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Wn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Wn(l,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Wn(l,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Wn(l,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Wn(l,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Wn(l,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Wn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Wn(l,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Ln(l,"is",x);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=dy.get(g)||g,Ln(l,g,x))}}function sR(l,f,g,x,R,k){switch(g){case"style":nm(l,x,k);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(g=x.__html,g!=null){if(R.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"children":typeof x=="string"?Tr(l,x):(typeof x=="number"||typeof x=="bigint")&&Tr(l,""+x);break;case"onScroll":x!=null&&Qn("scroll",l);break;case"onScrollEnd":x!=null&&Qn("scrollend",l);break;case"onClick":x!=null&&(l.onclick=is);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tt.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(R=g.endsWith("Capture"),f=g.slice(2,R?g.length-7:void 0),k=l[fr]||null,k=k!=null?k[g]:null,typeof k=="function"&&l.removeEventListener(f,k,R),typeof x=="function")){typeof k!="function"&&k!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(f,x,R);break e}g in l?l[g]=x:x===!0?l.setAttribute(g,""):Ln(l,g,x)}}}function ya(l,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qn("error",l),Qn("load",l);var x=!1,R=!1,k;for(k in g)if(g.hasOwnProperty(k)){var W=g[k];if(W!=null)switch(k){case"src":x=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:Gi(l,f,k,W,g,null)}}R&&Gi(l,f,"srcSet",g.srcSet,g,null),x&&Gi(l,f,"src",g.src,g,null);return;case"input":Qn("invalid",l);var ne=k=W=R=null,ge=null,Pe=null;for(x in g)if(g.hasOwnProperty(x)){var Ye=g[x];if(Ye!=null)switch(x){case"name":R=Ye;break;case"type":W=Ye;break;case"checked":ge=Ye;break;case"defaultChecked":Pe=Ye;break;case"value":k=Ye;break;case"defaultValue":ne=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(i(137,f));break;default:Gi(l,f,x,Ye,g,null)}}Er(l,k,ne,ge,Pe,W,R,!1);return;case"select":Qn("invalid",l),x=W=k=null;for(R in g)if(g.hasOwnProperty(R)&&(ne=g[R],ne!=null))switch(R){case"value":k=ne;break;case"defaultValue":W=ne;break;case"multiple":x=ne;default:Gi(l,f,R,ne,g,null)}f=k,g=W,l.multiple=!!x,f!=null?hn(l,!!x,f,!1):g!=null&&hn(l,!!x,g,!0);return;case"textarea":Qn("invalid",l),k=R=x=null;for(W in g)if(g.hasOwnProperty(W)&&(ne=g[W],ne!=null))switch(W){case"value":x=ne;break;case"defaultValue":R=ne;break;case"children":k=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(91));break;default:Gi(l,f,W,ne,g,null)}Os(l,x,R,k);return;case"option":for(ge in g)if(g.hasOwnProperty(ge)&&(x=g[ge],x!=null))switch(ge){case"selected":l.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Gi(l,f,ge,x,g,null)}return;case"dialog":Qn("beforetoggle",l),Qn("toggle",l),Qn("cancel",l),Qn("close",l);break;case"iframe":case"object":Qn("load",l);break;case"video":case"audio":for(x=0;x<O1.length;x++)Qn(O1[x],l);break;case"image":Qn("error",l),Qn("load",l);break;case"details":Qn("toggle",l);break;case"embed":case"source":case"link":Qn("error",l),Qn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in g)if(g.hasOwnProperty(Pe)&&(x=g[Pe],x!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:Gi(l,f,Pe,x,g,null)}return;default:if(Uf(f)){for(Ye in g)g.hasOwnProperty(Ye)&&(x=g[Ye],x!==void 0&&sR(l,f,Ye,x,g,void 0));return}}for(ne in g)g.hasOwnProperty(ne)&&(x=g[ne],x!=null&&Gi(l,f,ne,x,g,null))}function z$(l,f,g,x){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,k=null,W=null,ne=null,ge=null,Pe=null,Ye=null;for(We in g){var tt=g[We];if(g.hasOwnProperty(We)&&tt!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":ge=tt;default:x.hasOwnProperty(We)||Gi(l,f,We,null,x,tt)}}for(var ke in x){var We=x[ke];if(tt=g[ke],x.hasOwnProperty(ke)&&(We!=null||tt!=null))switch(ke){case"type":k=We;break;case"name":R=We;break;case"checked":Pe=We;break;case"defaultChecked":Ye=We;break;case"value":W=We;break;case"defaultValue":ne=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(i(137,f));break;default:We!==tt&&Gi(l,f,ke,We,x,tt)}}ei(l,W,ne,ge,Pe,Ye,k,R);return;case"select":We=W=ne=ke=null;for(k in g)if(ge=g[k],g.hasOwnProperty(k)&&ge!=null)switch(k){case"value":break;case"multiple":We=ge;default:x.hasOwnProperty(k)||Gi(l,f,k,null,x,ge)}for(R in x)if(k=x[R],ge=g[R],x.hasOwnProperty(R)&&(k!=null||ge!=null))switch(R){case"value":ke=k;break;case"defaultValue":ne=k;break;case"multiple":W=k;default:k!==ge&&Gi(l,f,R,k,x,ge)}f=ne,g=W,x=We,ke!=null?hn(l,!!g,ke,!1):!!x!=!!g&&(f!=null?hn(l,!!g,f,!0):hn(l,!!g,g?[]:"",!1));return;case"textarea":We=ke=null;for(ne in g)if(R=g[ne],g.hasOwnProperty(ne)&&R!=null&&!x.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:Gi(l,f,ne,null,x,R)}for(W in x)if(R=x[W],k=g[W],x.hasOwnProperty(W)&&(R!=null||k!=null))switch(W){case"value":ke=R;break;case"defaultValue":We=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:R!==k&&Gi(l,f,W,R,x,k)}or(l,ke,We);return;case"option":for(var Vt in g)if(ke=g[Vt],g.hasOwnProperty(Vt)&&ke!=null&&!x.hasOwnProperty(Vt))switch(Vt){case"selected":l.selected=!1;break;default:Gi(l,f,Vt,null,x,ke)}for(ge in x)if(ke=x[ge],We=g[ge],x.hasOwnProperty(ge)&&ke!==We&&(ke!=null||We!=null))switch(ge){case"selected":l.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:Gi(l,f,ge,ke,x,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fn in g)ke=g[fn],g.hasOwnProperty(fn)&&ke!=null&&!x.hasOwnProperty(fn)&&Gi(l,f,fn,null,x,ke);for(Pe in x)if(ke=x[Pe],We=g[Pe],x.hasOwnProperty(Pe)&&ke!==We&&(ke!=null||We!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(i(137,f));break;default:Gi(l,f,Pe,ke,x,We)}return;default:if(Uf(f)){for(var qi in g)ke=g[qi],g.hasOwnProperty(qi)&&ke!==void 0&&!x.hasOwnProperty(qi)&&sR(l,f,qi,void 0,x,ke);for(Ye in x)ke=x[Ye],We=g[Ye],!x.hasOwnProperty(Ye)||ke===We||ke===void 0&&We===void 0||sR(l,f,Ye,ke,x,We);return}}for(var we in g)ke=g[we],g.hasOwnProperty(we)&&ke!=null&&!x.hasOwnProperty(we)&&Gi(l,f,we,null,x,ke);for(tt in x)ke=x[tt],We=g[tt],!x.hasOwnProperty(tt)||ke===We||ke==null&&We==null||Gi(l,f,tt,ke,x,We)}function d4(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B$(){if(typeof performance.getEntriesByType=="function"){for(var l=0,f=0,g=performance.getEntriesByType("resource"),x=0;x<g.length;x++){var R=g[x],k=R.transferSize,W=R.initiatorType,ne=R.duration;if(k&&ne&&d4(W)){for(W=0,ne=R.responseEnd,x+=1;x<g.length;x++){var ge=g[x],Pe=ge.startTime;if(Pe>ne)break;var Ye=ge.transferSize,tt=ge.initiatorType;Ye&&d4(tt)&&(ge=ge.responseEnd,W+=Ye*(ge<ne?1:(ne-Pe)/(ge-Pe)))}if(--x,f+=8*(k+W)/(R.duration/1e3),l++,10<l)break}}if(0<l)return f/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var aR=null,oR=null;function FE(l){return l.nodeType===9?l:l.ownerDocument}function p4(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m4(l,f){if(l===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&f==="foreignObject"?0:l}function lR(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var cR=null;function F$(){var l=window.event;return l&&l.type==="popstate"?l===cR?!1:(cR=l,!0):(cR=null,!1)}var g4=typeof setTimeout=="function"?setTimeout:void 0,V$=typeof clearTimeout=="function"?clearTimeout:void 0,y4=typeof Promise=="function"?Promise:void 0,H$=typeof queueMicrotask=="function"?queueMicrotask:typeof y4<"u"?function(l){return y4.resolve(null).then(l).catch(j$)}:g4;function j$(l){setTimeout(function(){throw l})}function Wd(l){return l==="head"}function v4(l,f){var g=f,x=0;do{var R=g.nextSibling;if(l.removeChild(g),R&&R.nodeType===8)if(g=R.data,g==="/$"||g==="/&"){if(x===0){l.removeChild(R),lv(f);return}x--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")x++;else if(g==="html")P1(l.ownerDocument.documentElement);else if(g==="head"){g=l.ownerDocument.head,P1(g);for(var k=g.firstChild;k;){var W=k.nextSibling,ne=k.nodeName;k[ro]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&k.rel.toLowerCase()==="stylesheet"||g.removeChild(k),k=W}}else g==="body"&&P1(l.ownerDocument.body);g=R}while(g);lv(f)}function _4(l,f){var g=l;l=0;do{var x=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),x&&x.nodeType===8)if(g=x.data,g==="/$"){if(l===0)break;l--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||l++;g=x}while(g)}function uR(l){var f=l.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":uR(g),cl(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function G$(l,f,g,x){for(;l.nodeType===1;){var R=g;if(l.nodeName.toLowerCase()!==f.toLowerCase()){if(!x&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(x){if(!l[ro])switch(f){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(k=l.getAttribute("rel"),k==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(k!==R.rel||l.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||l.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||l.getAttribute("title")!==(R.title==null?null:R.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(k=l.getAttribute("src"),(k!==(R.src==null?null:R.src)||l.getAttribute("type")!==(R.type==null?null:R.type)||l.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&k&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(f==="input"&&l.type==="hidden"){var k=R.name==null?null:""+R.name;if(R.type==="hidden"&&l.getAttribute("name")===k)return l}else return l;if(l=fc(l.nextSibling),l===null)break}return null}function q$(l,f,g){if(f==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=fc(l.nextSibling),l===null))return null;return l}function b4(l,f){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=fc(l.nextSibling),l===null))return null;return l}function fR(l){return l.data==="$?"||l.data==="$~"}function hR(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function W$(l,f){var g=l.ownerDocument;if(l.data==="$~")l._reactRetry=f;else if(l.data!=="$?"||g.readyState!=="loading")f();else{var x=function(){f(),g.removeEventListener("DOMContentLoaded",x)};g.addEventListener("DOMContentLoaded",x),l._reactRetry=x}}function fc(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return l}var dR=null;function x4(l){l=l.nextSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"||g==="/&"){if(f===0)return fc(l.nextSibling);f--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||f++}l=l.nextSibling}return null}function S4(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(f===0)return l;f--}else g!=="/$"&&g!=="/&"||f++}l=l.previousSibling}return null}function E4(l,f,g){switch(f=FE(g),l){case"html":if(l=f.documentElement,!l)throw Error(i(452));return l;case"head":if(l=f.head,!l)throw Error(i(453));return l;case"body":if(l=f.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}function P1(l){for(var f=l.attributes;f.length;)l.removeAttributeNode(f[0]);cl(l)}var hc=new Map,T4=new Set;function VE(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var dh=$.d;$.d={f:$$,r:X$,D:Y$,C:K$,L:Z$,m:Q$,X:eX,S:J$,M:tX};function $$(){var l=dh.f(),f=oe();return l||f}function X$(l){var f=_e(l);f!==null&&f.tag===5&&f.type==="form"?x1(f):dh.r(l)}var sv=typeof document>"u"?null:document;function w4(l,f,g){var x=sv;if(x&&typeof f=="string"&&f){var R=Ai(f);R='link[rel="'+l+'"][href="'+R+'"]',typeof g=="string"&&(R+='[crossorigin="'+g+'"]'),T4.has(R)||(T4.add(R),l={rel:l,crossOrigin:g,href:f},x.querySelector(R)===null&&(f=x.createElement("link"),ya(f,"link",l),xe(f),x.head.appendChild(f)))}}function Y$(l){dh.D(l),w4("dns-prefetch",l,null)}function K$(l,f){dh.C(l,f),w4("preconnect",l,f)}function Z$(l,f,g){dh.L(l,f,g);var x=sv;if(x&&l&&f){var R='link[rel="preload"][as="'+Ai(f)+'"]';f==="image"&&g&&g.imageSrcSet?(R+='[imagesrcset="'+Ai(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(R+='[imagesizes="'+Ai(g.imageSizes)+'"]')):R+='[href="'+Ai(l)+'"]';var k=R;switch(f){case"style":k=av(l);break;case"script":k=ov(l)}hc.has(k)||(l=p({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:l,as:f},g),hc.set(k,l),x.querySelector(R)!==null||f==="style"&&x.querySelector(D1(k))||f==="script"&&x.querySelector(N1(k))||(f=x.createElement("link"),ya(f,"link",l),xe(f),x.head.appendChild(f)))}}function Q$(l,f){dh.m(l,f);var g=sv;if(g&&l){var x=f&&typeof f.as=="string"?f.as:"script",R='link[rel="modulepreload"][as="'+Ai(x)+'"][href="'+Ai(l)+'"]',k=R;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=ov(l)}if(!hc.has(k)&&(l=p({rel:"modulepreload",href:l},f),hc.set(k,l),g.querySelector(R)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(N1(k)))return}x=g.createElement("link"),ya(x,"link",l),xe(x),g.head.appendChild(x)}}}function J$(l,f,g){dh.S(l,f,g);var x=sv;if(x&&l){var R=De(x).hoistableStyles,k=av(l);f=f||"default";var W=R.get(k);if(!W){var ne={loading:0,preload:null};if(W=x.querySelector(D1(k)))ne.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":f},g),(g=hc.get(k))&&pR(l,g);var ge=W=x.createElement("link");xe(ge),ya(ge,"link",l),ge._p=new Promise(function(Pe,Ye){ge.onload=Pe,ge.onerror=Ye}),ge.addEventListener("load",function(){ne.loading|=1}),ge.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,HE(W,f,x)}W={type:"stylesheet",instance:W,count:1,state:ne},R.set(k,W)}}}function eX(l,f){dh.X(l,f);var g=sv;if(g&&l){var x=De(g).hoistableScripts,R=ov(l),k=x.get(R);k||(k=g.querySelector(N1(R)),k||(l=p({src:l,async:!0},f),(f=hc.get(R))&&mR(l,f),k=g.createElement("script"),xe(k),ya(k,"link",l),g.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},x.set(R,k))}}function tX(l,f){dh.M(l,f);var g=sv;if(g&&l){var x=De(g).hoistableScripts,R=ov(l),k=x.get(R);k||(k=g.querySelector(N1(R)),k||(l=p({src:l,async:!0,type:"module"},f),(f=hc.get(R))&&mR(l,f),k=g.createElement("script"),xe(k),ya(k,"link",l),g.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},x.set(R,k))}}function C4(l,f,g,x){var R=(R=he.current)?VE(R):null;if(!R)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=av(g.href),g=De(R).hoistableStyles,x=g.get(f),x||(x={type:"style",instance:null,count:0,state:null},g.set(f,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=av(g.href);var k=De(R).hoistableStyles,W=k.get(l);if(W||(R=R.ownerDocument||R,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(l,W),(k=R.querySelector(D1(l)))&&!k._p&&(W.instance=k,W.state.loading=5),hc.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},hc.set(l,g),k||nX(R,l,g,W.state))),f&&x===null)throw Error(i(528,""));return W}if(f&&x!==null)throw Error(i(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=ov(g),g=De(R).hoistableScripts,x=g.get(f),x||(x={type:"script",instance:null,count:0,state:null},g.set(f,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function av(l){return'href="'+Ai(l)+'"'}function D1(l){return'link[rel="stylesheet"]['+l+"]"}function A4(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function nX(l,f,g,x){l.querySelector('link[rel="preload"][as="style"]['+f+"]")?x.loading=1:(f=l.createElement("link"),x.preload=f,f.addEventListener("load",function(){return x.loading|=1}),f.addEventListener("error",function(){return x.loading|=2}),ya(f,"link",g),xe(f),l.head.appendChild(f))}function ov(l){return'[src="'+Ai(l)+'"]'}function N1(l){return"script[async]"+l}function M4(l,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var x=l.querySelector('style[data-href~="'+Ai(g.href)+'"]');if(x)return f.instance=x,xe(x),x;var R=p({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return x=(l.ownerDocument||l).createElement("style"),xe(x),ya(x,"style",R),HE(x,g.precedence,l),f.instance=x;case"stylesheet":R=av(g.href);var k=l.querySelector(D1(R));if(k)return f.state.loading|=4,f.instance=k,xe(k),k;x=A4(g),(R=hc.get(R))&&pR(x,R),k=(l.ownerDocument||l).createElement("link"),xe(k);var W=k;return W._p=new Promise(function(ne,ge){W.onload=ne,W.onerror=ge}),ya(k,"link",x),f.state.loading|=4,HE(k,g.precedence,l),f.instance=k;case"script":return k=ov(g.src),(R=l.querySelector(N1(k)))?(f.instance=R,xe(R),R):(x=g,(R=hc.get(k))&&(x=p({},g),mR(x,R)),l=l.ownerDocument||l,R=l.createElement("script"),xe(R),ya(R,"link",x),l.head.appendChild(R),f.instance=R);case"void":return null;default:throw Error(i(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(x=f.instance,f.state.loading|=4,HE(x,g.precedence,l));return f.instance}function HE(l,f,g){for(var x=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=x.length?x[x.length-1]:null,k=R,W=0;W<x.length;W++){var ne=x[W];if(ne.dataset.precedence===f)k=ne;else if(k!==R)break}k?k.parentNode.insertBefore(l,k.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(l,f.firstChild))}function pR(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.title==null&&(l.title=f.title)}function mR(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.integrity==null&&(l.integrity=f.integrity)}var jE=null;function R4(l,f,g){if(jE===null){var x=new Map,R=jE=new Map;R.set(g,x)}else R=jE,x=R.get(g),x||(x=new Map,R.set(g,x));if(x.has(l))return x;for(x.set(l,null),g=g.getElementsByTagName(l),R=0;R<g.length;R++){var k=g[R];if(!(k[ro]||k[yn]||l==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var W=k.getAttribute(f)||"";W=l+W;var ne=x.get(W);ne?ne.push(k):x.set(W,[k])}}return x}function O4(l,f,g){l=l.ownerDocument||l,l.head.insertBefore(g,f==="title"?l.querySelector("head > title"):null)}function iX(l,f,g){if(g===1||f.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return l=f.disabled,typeof f.precedence=="string"&&l==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function I4(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function rX(l,f,g,x){if(g.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var R=av(x.href),k=f.querySelector(D1(R));if(k){f=k._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(l.count++,l=GE.bind(l),f.then(l,l)),g.state.loading|=4,g.instance=k,xe(k);return}k=f.ownerDocument||f,x=A4(x),(R=hc.get(R))&&pR(x,R),k=k.createElement("link"),xe(k);var W=k;W._p=new Promise(function(ne,ge){W.onload=ne,W.onerror=ge}),ya(k,"link",x),g.instance=k}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(l.count++,g=GE.bind(l),f.addEventListener("load",g),f.addEventListener("error",g))}}var gR=0;function sX(l,f){return l.stylesheets&&l.count===0&&WE(l,l.stylesheets),0<l.count||0<l.imgCount?function(g){var x=setTimeout(function(){if(l.stylesheets&&WE(l,l.stylesheets),l.unsuspend){var k=l.unsuspend;l.unsuspend=null,k()}},6e4+f);0<l.imgBytes&&gR===0&&(gR=62500*B$());var R=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&WE(l,l.stylesheets),l.unsuspend)){var k=l.unsuspend;l.unsuspend=null,k()}},(l.imgBytes>gR?50:800)+f);return l.unsuspend=g,function(){l.unsuspend=null,clearTimeout(x),clearTimeout(R)}}:null}function GE(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)WE(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var qE=null;function WE(l,f){l.stylesheets=null,l.unsuspend!==null&&(l.count++,qE=new Map,f.forEach(aX,l),qE=null,GE.call(l))}function aX(l,f){if(!(f.state.loading&4)){var g=qE.get(l);if(g)var x=g.get(null);else{g=new Map,qE.set(l,g);for(var R=l.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<R.length;k++){var W=R[k];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(g.set(W.dataset.precedence,W),x=W)}x&&g.set(null,x)}R=f.instance,W=R.getAttribute("data-precedence"),k=g.get(W)||x,k===x&&g.set(null,R),g.set(W,R),this.count++,x=GE.bind(this),R.addEventListener("load",x),R.addEventListener("error",x),k?k.parentNode.insertBefore(R,k.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(R,l.firstChild)),f.state.loading|=4}}var L1={$$typeof:A,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function oX(l,f,g,x,R,k,W,ne,ge){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jt(0),this.hiddenUpdates=Jt(null),this.identifierPrefix=x,this.onUncaughtError=R,this.onCaughtError=k,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function P4(l,f,g,x,R,k,W,ne,ge,Pe,Ye,tt){return l=new oX(l,f,g,W,ge,Pe,Ye,tt,ne),f=1,k===!0&&(f|=24),k=fa(3,null,null,f),l.current=k,k.stateNode=l,f=j_(),f.refCount++,l.pooledCache=f,f.refCount++,k.memoizedState={element:x,isDehydrated:g,cache:f},Y_(k),l}function D4(l){return l?(l=Uu,l):Uu}function N4(l,f,g,x,R,k){R=D4(R),x.context===null?x.context=R:x.pendingContext=R,x=nc(f),x.payload={element:g},k=k===void 0?null:k,k!==null&&(x.callback=k),g=qc(l,x,f),g!==null&&(m(g,l,f),Gu(g,l,f))}function L4(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<f?g:f}}function yR(l,f){L4(l,f),(l=l.alternate)&&L4(l,f)}function U4(l){if(l.tag===13||l.tag===31){var f=Lu(l,67108864);f!==null&&m(f,l,67108864),yR(l,67108864)}}function k4(l){if(l.tag===13||l.tag===31){var f=ga();f=Li(f);var g=Lu(l,f);g!==null&&m(g,l,f),yR(l,f)}}var $E=!0;function lX(l,f,g,x){var R=q.T;q.T=null;var k=$.p;try{$.p=2,vR(l,f,g,x)}finally{$.p=k,q.T=R}}function cX(l,f,g,x){var R=q.T;q.T=null;var k=$.p;try{$.p=8,vR(l,f,g,x)}finally{$.p=k,q.T=R}}function vR(l,f,g,x){if($E){var R=_R(x);if(R===null)rR(l,f,x,XE,g),B4(l,x);else if(fX(R,l,f,g,x))x.stopPropagation();else if(B4(l,x),f&4&&-1<uX.indexOf(l)){for(;R!==null;){var k=_e(R);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var W=xt(k.pendingLanes);if(W!==0){var ne=k;for(ne.pendingLanes|=2,ne.entangledLanes|=2;W;){var ge=1<<31-jt(W);ne.entanglements[1]|=ge,W&=~ge}Ju(k),(ti&6)===0&&(xo=Ae()+500,R1(0))}}break;case 31:case 13:ne=Lu(k,2),ne!==null&&m(ne,k,2),oe(),yR(k,2)}if(k=_R(x),k===null&&rR(l,f,x,XE,g),k===R)break;R=k}R!==null&&x.stopPropagation()}else rR(l,f,x,null,g)}}function _R(l){return l=kf(l),bR(l)}var XE=null;function bR(l){if(XE=null,l=se(l),l!==null){var f=s(l);if(f===null)l=null;else{var g=f.tag;if(g===13){if(l=a(f),l!==null)return l;l=null}else if(g===31){if(l=o(f),l!==null)return l;l=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null)}}return XE=l,null}function z4(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case Re:return 2;case ct:return 8;case ft:case Dt:return 32;case kt:return 268435456;default:return 32}default:return 32}}var xR=!1,$d=null,Xd=null,Yd=null,U1=new Map,k1=new Map,Kd=[],uX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B4(l,f){switch(l){case"focusin":case"focusout":$d=null;break;case"dragenter":case"dragleave":Xd=null;break;case"mouseover":case"mouseout":Yd=null;break;case"pointerover":case"pointerout":U1.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":k1.delete(f.pointerId)}}function z1(l,f,g,x,R,k){return l===null||l.nativeEvent!==k?(l={blockedOn:f,domEventName:g,eventSystemFlags:x,nativeEvent:k,targetContainers:[R]},f!==null&&(f=_e(f),f!==null&&U4(f)),l):(l.eventSystemFlags|=x,f=l.targetContainers,R!==null&&f.indexOf(R)===-1&&f.push(R),l)}function fX(l,f,g,x,R){switch(f){case"focusin":return $d=z1($d,l,f,g,x,R),!0;case"dragenter":return Xd=z1(Xd,l,f,g,x,R),!0;case"mouseover":return Yd=z1(Yd,l,f,g,x,R),!0;case"pointerover":var k=R.pointerId;return U1.set(k,z1(U1.get(k)||null,l,f,g,x,R)),!0;case"gotpointercapture":return k=R.pointerId,k1.set(k,z1(k1.get(k)||null,l,f,g,x,R)),!0}return!1}function F4(l){var f=se(l.target);if(f!==null){var g=s(f);if(g!==null){if(f=g.tag,f===13){if(f=a(g),f!==null){l.blockedOn=f,Hr(l.priority,function(){k4(g)});return}}else if(f===31){if(f=o(g),f!==null){l.blockedOn=f,Hr(l.priority,function(){k4(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function YE(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var g=_R(l.nativeEvent);if(g===null){g=l.nativeEvent;var x=new g.constructor(g.type,g);Tu=x,g.target.dispatchEvent(x),Tu=null}else return f=_e(g),f!==null&&U4(f),l.blockedOn=g,!1;f.shift()}return!0}function V4(l,f,g){YE(l)&&g.delete(f)}function hX(){xR=!1,$d!==null&&YE($d)&&($d=null),Xd!==null&&YE(Xd)&&(Xd=null),Yd!==null&&YE(Yd)&&(Yd=null),U1.forEach(V4),k1.forEach(V4)}function KE(l,f){l.blockedOn===f&&(l.blockedOn=null,xR||(xR=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hX)))}var ZE=null;function H4(l){ZE!==l&&(ZE=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ZE===l&&(ZE=null);for(var f=0;f<l.length;f+=3){var g=l[f],x=l[f+1],R=l[f+2];if(typeof x!="function"){if(bR(x||g)===null)continue;break}var k=_e(g);k!==null&&(l.splice(f,3),f-=3,b1(k,{pending:!0,data:R,method:g.method,action:x},x,R))}}))}function lv(l){function f(ge){return KE(ge,l)}$d!==null&&KE($d,l),Xd!==null&&KE(Xd,l),Yd!==null&&KE(Yd,l),U1.forEach(f),k1.forEach(f);for(var g=0;g<Kd.length;g++){var x=Kd[g];x.blockedOn===l&&(x.blockedOn=null)}for(;0<Kd.length&&(g=Kd[0],g.blockedOn===null);)F4(g),g.blockedOn===null&&Kd.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(x=0;x<g.length;x+=3){var R=g[x],k=g[x+1],W=R[fr]||null;if(typeof k=="function")W||H4(g);else if(W){var ne=null;if(k&&k.hasAttribute("formAction")){if(R=k,W=k[fr]||null)ne=W.formAction;else if(bR(R)!==null)continue}else ne=W.action;typeof ne=="function"?g[x+1]=ne:(g.splice(x,3),x-=3),H4(g)}}}function j4(){function l(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(W){return R=W})},focusReset:"manual",scroll:"manual"})}function f(){R!==null&&(R(),R=null),x||setTimeout(g,20)}function g(){if(!x&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,R=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(g,100),function(){x=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),R!==null&&(R(),R=null)}}}function SR(l){this._internalRoot=l}QE.prototype.render=SR.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(i(409));var g=f.current,x=ga();N4(g,x,l,f,null,null)},QE.prototype.unmount=SR.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;N4(l.current,2,null,l,null,null),oe(),f[aa]=null}};function QE(l){this._internalRoot=l}QE.prototype.unstable_scheduleHydration=function(l){if(l){var f=$i();l={blockedOn:null,target:l,priority:f};for(var g=0;g<Kd.length&&f!==0&&f<Kd[g].priority;g++);Kd.splice(g,0,l),g===0&&F4(l)}};var G4=e.version;if(G4!=="19.2.3")throw Error(i(527,G4,"19.2.3"));$.findDOMNode=function(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=u(f),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var dX={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var JE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!JE.isDisabled&&JE.supportsFiber)try{wt=JE.inject(dX),At=JE}catch{}}return F1.createRoot=function(l,f){if(!r(l))throw Error(i(299));var g=!1,x="",R=T1,k=IE,W=qy;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(R=f.onUncaughtError),f.onCaughtError!==void 0&&(k=f.onCaughtError),f.onRecoverableError!==void 0&&(W=f.onRecoverableError)),f=P4(l,1,!1,null,null,g,x,null,R,k,W,j4),l[aa]=f.current,iR(l),new SR(f)},F1.hydrateRoot=function(l,f,g){if(!r(l))throw Error(i(299));var x=!1,R="",k=T1,W=IE,ne=qy,ge=null;return g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(R=g.identifierPrefix),g.onUncaughtError!==void 0&&(k=g.onUncaughtError),g.onCaughtError!==void 0&&(W=g.onCaughtError),g.onRecoverableError!==void 0&&(ne=g.onRecoverableError),g.formState!==void 0&&(ge=g.formState)),f=P4(l,1,!0,f,g??null,x,R,ge,k,W,ne,j4),f.context=D4(null),g=f.current,x=ga(),x=Li(x),R=nc(x),R.callback=null,qc(g,R,x),g=x,f.current.lanes=g,St(f,g),Ju(f),l[aa]=f.current,iR(l),new QE(f)},F1.version="19.2.3",F1}var eU;function EX(){if(eU)return wR.exports;eU=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wR.exports=SX(),wR.exports}var TX=EX();/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tU="popstate";function wX(n={}){function e(i,r){let{pathname:s,search:a,hash:o}=i.location;return iI("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:_x(r)}return AX(e,t,null,n)}function zr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mu(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CX(){return Math.random().toString(36).substring(2,10)}function nU(n,e){return{usr:n.state,key:n.key,idx:e}}function iI(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?a_(e):e,state:t,key:e&&e.key||i||CX()}}function _x({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function a_(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function AX(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o="POP",c=null,u=h();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function h(){return(a.state||{idx:null}).idx}function p(){o="POP";let E=h(),b=E==null?null:E-u;u=E,c&&c({action:o,location:S.location,delta:b})}function y(E,b){o="PUSH";let w=iI(S.location,E,b);u=h()+1;let A=nU(w,u),C=S.createHref(w);try{a.pushState(A,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(C)}s&&c&&c({action:o,location:S.location,delta:1})}function v(E,b){o="REPLACE";let w=iI(S.location,E,b);u=h();let A=nU(w,u),C=S.createHref(w);a.replaceState(A,"",C),s&&c&&c({action:o,location:S.location,delta:0})}function _(E){return MX(E)}let S={get action(){return o},get location(){return n(r,a)},listen(E){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(tU,p),c=E,()=>{r.removeEventListener(tU,p),c=null}},createHref(E){return e(r,E)},createURL:_,encodeLocation(E){let b=_(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:y,replace:v,go(E){return a.go(E)}};return S}function MX(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),zr(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:_x(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function IF(n,e,t="/"){return RX(n,e,t,!1)}function RX(n,e,t,i){let r=typeof e=="string"?a_(e):e,s=Hh(r.pathname||"/",t);if(s==null)return null;let a=PF(n);OX(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=VX(s);o=BX(a[c],u,i)}return o}function PF(n,e=[],t=[],i="",r=!1){let s=(a,o,c=r,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&c)return;zr(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let p=kh([i,h.relativePath]),y=t.concat(h);a.children&&a.children.length>0&&(zr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),PF(a.children,e,y,p,c)),!(a.path==null&&!a.index)&&e.push({path:p,score:kX(p,a.index),routesMeta:y})};return n.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))s(a,o);else for(let c of DF(a.path))s(a,o,!0,c)}),e}function DF(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=DF(i.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),r&&o.push(...a),o.map(c=>n.startsWith("/")&&c===""?"/":c)}function OX(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:zX(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var IX=/^:[\w-]+$/,PX=3,DX=2,NX=1,LX=10,UX=-2,iU=n=>n==="*";function kX(n,e){let t=n.split("/"),i=t.length;return t.some(iU)&&(i+=UX),e&&(i+=DX),t.filter(r=>!iU(r)).reduce((r,s)=>r+(IX.test(s)?PX:s===""?NX:LX),i)}function zX(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function BX(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let c=i[o],u=o===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=v2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),y=c.route;if(!p&&u&&t&&!i[i.length-1].route.index&&(p=v2({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:kh([s,p.pathname]),pathnameBase:qX(kh([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=kh([s,p.pathnameBase]))}return a}function v2(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=FX(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,{paramName:h,isOptional:p},y)=>{if(h==="*"){let _=o[y]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=o[y];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function FX(n,e=!1,t=!0){mu(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(i.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function VX(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mu(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Hh(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var NF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HX=n=>NF.test(n);function jX(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?a_(n):n,s;if(t)if(HX(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),mu(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=rU(t.substring(1),"/"):s=rU(t,e)}else s=e;return{pathname:s,search:WX(i),hash:$X(r)}}function rU(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function RR(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GX(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function LF(n){let e=GX(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function UF(n,e,t,i=!1){let r;typeof n=="string"?r=a_(n):(r={...n},zr(!r.pathname||!r.pathname.includes("?"),RR("?","pathname","search",r)),zr(!r.pathname||!r.pathname.includes("#"),RR("#","pathname","hash",r)),zr(!r.search||!r.search.includes("#"),RR("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let p=e.length-1;if(!i&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),p-=1;r.pathname=y.join("/")}o=p>=0?e[p]:"/"}let c=jX(r,o),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var kh=n=>n.join("/").replace(/\/\/+/g,"/"),qX=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),WX=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$X=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,XX=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function YX(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function KX(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var kF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zF(n,e){let t=n;if(typeof t!="string"||!NF.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,r=!1;if(kF)try{let s=new URL(window.location.href),a=t.startsWith("//")?new URL(s.protocol+t):new URL(t),o=Hh(a.pathname,e);a.origin===s.origin&&o!=null?t=o+a.search+a.hash:r=!0}catch{mu(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BF=["POST","PUT","PATCH","DELETE"];new Set(BF);var ZX=["GET",...BF];new Set(ZX);var o_=H.createContext(null);o_.displayName="DataRouter";var rA=H.createContext(null);rA.displayName="DataRouterState";var QX=H.createContext(!1),FF=H.createContext({isTransitioning:!1});FF.displayName="ViewTransition";var JX=H.createContext(new Map);JX.displayName="Fetchers";var eY=H.createContext(null);eY.displayName="Await";var Mc=H.createContext(null);Mc.displayName="Navigation";var fS=H.createContext(null);fS.displayName="Location";var id=H.createContext({outlet:null,matches:[],isDataRoute:!1});id.displayName="Route";var oD=H.createContext(null);oD.displayName="RouteError";var VF="REACT_ROUTER_ERROR",tY="REDIRECT",nY="ROUTE_ERROR_RESPONSE";function iY(n){if(n.startsWith(`${VF}:${tY}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function rY(n){if(n.startsWith(`${VF}:${nY}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new XX(e.status,e.statusText,e.data)}catch{}}function sY(n,{relative:e}={}){zr(hS(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=H.useContext(Mc),{hash:r,pathname:s,search:a}=dS(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:kh([t,s])),i.createHref({pathname:o,search:a,hash:r})}function hS(){return H.useContext(fS)!=null}function iy(){return zr(hS(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(fS).location}var HF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jF(n){H.useContext(Mc).static||H.useLayoutEffect(n)}function GF(){let{isDataRoute:n}=H.useContext(id);return n?vY():aY()}function aY(){zr(hS(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(o_),{basename:e,navigator:t}=H.useContext(Mc),{matches:i}=H.useContext(id),{pathname:r}=iy(),s=JSON.stringify(LF(i)),a=H.useRef(!1);return jF(()=>{a.current=!0}),H.useCallback((c,u={})=>{if(mu(a.current,HF),!a.current)return;if(typeof c=="number"){t.go(c);return}let h=UF(c,JSON.parse(s),r,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:kh([e,h.pathname])),(u.replace?t.replace:t.push)(h,u.state,u)},[e,t,s,r,n])}H.createContext(null);function dS(n,{relative:e}={}){let{matches:t}=H.useContext(id),{pathname:i}=iy(),r=JSON.stringify(LF(t));return H.useMemo(()=>UF(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function oY(n,e){return qF(n,e)}function qF(n,e,t,i,r){zr(hS(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=H.useContext(Mc),{matches:a}=H.useContext(id),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",p=o&&o.route;{let w=p&&p.path||"";$F(u,!p||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let y=iy(),v;if(e){let w=typeof e=="string"?a_(e):e;zr(h==="/"||w.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${w.pathname}" was given in the \`location\` prop.`),v=w}else v=y;let _=v.pathname||"/",S=_;if(h!=="/"){let w=h.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(w.length).join("/")}let E=IF(n,{pathname:S});mu(p||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),mu(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=hY(E&&E.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:kh([h,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:kh([h,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),a,t,i,r);return e&&b?H.createElement(fS.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},b):b}function lY(){let n=yY(),e=YX(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:s},"ErrorBoundary")," or"," ",H.createElement("code",{style:s},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:r},t):null,a)}var cY=H.createElement(lY,null),WF=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=rY(n.digest);t&&(n=t)}let e=n!==void 0?H.createElement(id.Provider,{value:this.props.routeContext},H.createElement(oD.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?H.createElement(uY,{error:n},e):e}};WF.contextType=QX;var OR=new WeakMap;function uY({children:n,error:e}){let{basename:t}=H.useContext(Mc);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=iY(e.digest);if(i){let r=OR.get(e);if(r)throw r;let s=zF(i.location,t);if(kF&&!OR.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw OR.set(e,a),a}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return n}function fY({routeContext:n,match:e,children:t}){let i=H.useContext(o_);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(id.Provider,{value:n},t)}function hY(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t?.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);zr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let o=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:y,errors:v}=t,_=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){o=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=t&&i?(h,p)=>{i(h,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:KX(t.matches),errorInfo:p})}:void 0;return s.reduceRight((h,p,y)=>{let v,_=!1,S=null,E=null;t&&(v=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||cY,o&&(c<0&&y===0?($F("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):c===y&&(_=!0,E=p.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,y+1)),w=()=>{let A;return v?A=S:_?A=E:p.route.Component?A=H.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=h,H.createElement(fY,{match:p,routeContext:{outlet:h,matches:b,isDataRoute:t!=null},children:A})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?H.createElement(WF,{location:t.location,revalidation:t.revalidation,component:S,error:v,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:u}):w()},null)}function lD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dY(n){let e=H.useContext(o_);return zr(e,lD(n)),e}function pY(n){let e=H.useContext(rA);return zr(e,lD(n)),e}function mY(n){let e=H.useContext(id);return zr(e,lD(n)),e}function cD(n){let e=mY(n),t=e.matches[e.matches.length-1];return zr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function gY(){return cD("useRouteId")}function yY(){let n=H.useContext(oD),e=pY("useRouteError"),t=cD("useRouteError");return n!==void 0?n:e.errors?.[t]}function vY(){let{router:n}=dY("useNavigate"),e=cD("useNavigate"),t=H.useRef(!1);return jF(()=>{t.current=!0}),H.useCallback(async(r,s={})=>{mu(t.current,HF),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var sU={};function $F(n,e,t){!e&&!sU[n]&&(sU[n]=!0,mu(!1,t))}H.memo(_Y);function _Y({routes:n,future:e,state:t,onError:i}){return qF(n,void 0,t,i,e)}function XF(n){zr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bY({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){zr(!hS(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),c=H.useMemo(()=>({basename:o,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[o,r,s,a]);typeof t=="string"&&(t=a_(t));let{pathname:u="/",search:h="",hash:p="",state:y=null,key:v="default"}=t,_=H.useMemo(()=>{let S=Hh(u,o);return S==null?null:{location:{pathname:S,search:h,hash:p,state:y,key:v},navigationType:i}},[o,u,h,p,y,v,i]);return mu(_!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:H.createElement(Mc.Provider,{value:c},H.createElement(fS.Provider,{children:e,value:_}))}function xY({children:n,location:e}){return oY(rI(n),e)}function rI(n,e=[]){let t=[];return H.Children.forEach(n,(i,r)=>{if(!H.isValidElement(i))return;let s=[...e,r];if(i.type===H.Fragment){t.push.apply(t,rI(i.props.children,s));return}zr(i.type===XF,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=rI(i.props.children,s)),t.push(a)}),t}var Hw="get",jw="application/x-www-form-urlencoded";function sA(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function SY(n){return sA(n)&&n.tagName.toLowerCase()==="button"}function EY(n){return sA(n)&&n.tagName.toLowerCase()==="form"}function TY(n){return sA(n)&&n.tagName.toLowerCase()==="input"}function wY(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function CY(n,e){return n.button===0&&(!e||e==="_self")&&!wY(n)}var eT=null;function AY(){if(eT===null)try{new FormData(document.createElement("form"),0),eT=!1}catch{eT=!0}return eT}var MY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function IR(n){return n!=null&&!MY.has(n)?(mu(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jw}"`),null):n}function RY(n,e){let t,i,r,s,a;if(EY(n)){let o=n.getAttribute("action");i=o?Hh(o,e):null,t=n.getAttribute("method")||Hw,r=IR(n.getAttribute("enctype"))||jw,s=new FormData(n)}else if(SY(n)||TY(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||o.getAttribute("action");if(i=c?Hh(c,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||Hw,r=IR(n.getAttribute("formenctype"))||IR(o.getAttribute("enctype"))||jw,s=new FormData(o,n),!AY()){let{name:u,type:h,value:p}=n;if(h==="image"){let y=u?`${u}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else u&&s.append(u,p)}}else{if(sA(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hw,i=null,r=jw,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uD(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function OY(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Hh(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function IY(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PY(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function DY(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await IY(s,t);return a.links?a.links():[]}return[]}));return kY(i.flat(1).filter(PY).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function aU(n,e,t,i,r,s){let a=(c,u)=>t[u]?c.route.id!==t[u].route.id:!0,o=(c,u)=>t[u].pathname!==c.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==c.params["*"];return s==="assets"?e.filter((c,u)=>a(c,u)||o(c,u)):s==="data"?e.filter((c,u)=>{let h=i.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(a(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function NY(n,e,{includeHydrateFallback:t}={}){return LY(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function LY(n){return[...new Set(n)]}function UY(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function kY(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(UY(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function YF(){let n=H.useContext(o_);return uD(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function zY(){let n=H.useContext(rA);return uD(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var fD=H.createContext(void 0);fD.displayName="FrameworkContext";function KF(){let n=H.useContext(fD);return uD(n,"You must render this element inside a <HydratedRouter> element"),n}function BY(n,e){let t=H.useContext(fD),[i,r]=H.useState(!1),[s,a]=H.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:p}=e,y=H.useRef(null);H.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let S=b=>{b.forEach(w=>{a(w.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[n]),H.useEffect(()=>{if(i){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[i]);let v=()=>{r(!0)},_=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,y,{}]:[s,y,{onFocus:V1(o,v),onBlur:V1(c,_),onMouseEnter:V1(u,v),onMouseLeave:V1(h,_),onTouchStart:V1(p,v)}]:[!1,y,{}]}function V1(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function FY({page:n,...e}){let{router:t}=YF(),i=H.useMemo(()=>IF(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?H.createElement(HY,{page:n,matches:i,...e}):null}function VY(n){let{manifest:e,routeModules:t}=KF(),[i,r]=H.useState([]);return H.useEffect(()=>{let s=!1;return DY(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function HY({page:n,matches:e,...t}){let i=iy(),{manifest:r,routeModules:s}=KF(),{basename:a}=YF(),{loaderData:o,matches:c}=zY(),u=H.useMemo(()=>aU(n,e,c,r,i,"data"),[n,e,c,r,i]),h=H.useMemo(()=>aU(n,e,c,r,i,"assets"),[n,e,c,r,i]),p=H.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,S=!1;if(e.forEach(b=>{let w=r.routes[b.route.id];!w||!w.hasLoader||(!u.some(A=>A.route.id===b.route.id)&&b.route.id in o&&s[b.route.id]?.shouldRevalidate||w.hasClientLoader?S=!0:_.add(b.route.id))}),_.size===0)return[];let E=OY(n,a,"data");return S&&_.size>0&&E.searchParams.set("_routes",e.filter(b=>_.has(b.route.id)).map(b=>b.route.id).join(",")),[E.pathname+E.search]},[a,o,i,r,u,e,n,s]),y=H.useMemo(()=>NY(h,r),[h,r]),v=VY(h);return H.createElement(H.Fragment,null,p.map(_=>H.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>H.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),v.map(({key:_,link:S})=>H.createElement("link",{key:_,nonce:t.nonce,...S})))}function jY(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var GY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GY&&(window.__reactRouterVersion="7.11.0")}catch{}function qY({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=H.useRef();r.current==null&&(r.current=wX({window:i,v5Compat:!0}));let s=r.current,[a,o]=H.useState({action:s.action,location:s.location}),c=H.useCallback(u=>{t===!1?o(u):H.startTransition(()=>o(u))},[t]);return H.useLayoutEffect(()=>s.listen(c),[s,c]),H.createElement(bY,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t})}var ZF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QF=H.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:o,target:c,to:u,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:y,...v},_){let{basename:S,unstable_useTransitions:E}=H.useContext(Mc),b=typeof u=="string"&&ZF.test(u),w=zF(u,S);u=w.to;let A=sY(u,{relative:r}),[C,D,L]=BY(i,v),P=YY(u,{replace:a,state:o,target:c,preventScrollReset:h,relative:r,viewTransition:p,unstable_defaultShouldRevalidate:y,unstable_useTransitions:E});function U(N){e&&e(N),N.defaultPrevented||P(N)}let I=H.createElement("a",{...v,...L,href:w.absoluteURL||A,onClick:w.isExternal||s?e:U,ref:jY(_,D),target:c,"data-discover":!b&&t==="render"?"true":void 0});return C&&!b?H.createElement(H.Fragment,null,I,H.createElement(FY,{page:A})):I});QF.displayName="Link";var WY=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:o,children:c,...u},h){let p=dS(a,{relative:u.relative}),y=iy(),v=H.useContext(rA),{navigator:_,basename:S}=H.useContext(Mc),E=v!=null&&eK(p)&&o===!0,b=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,w=y.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(w=w.toLowerCase(),A=A?A.toLowerCase():null,b=b.toLowerCase()),A&&S&&(A=Hh(A,S)||A);const C=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let D=w===b||!r&&w.startsWith(b)&&w.charAt(C)==="/",L=A!=null&&(A===b||!r&&A.startsWith(b)&&A.charAt(b.length)==="/"),P={isActive:D,isPending:L,isTransitioning:E},U=D?e:void 0,I;typeof i=="function"?I=i(P):I=[i,D?"active":null,L?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(P):s;return H.createElement(QF,{...u,"aria-current":U,className:I,ref:h,style:N,to:a,viewTransition:o},typeof c=="function"?c(P):c)});WY.displayName="NavLink";var $Y=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=Hw,action:o,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:y,...v},_)=>{let{unstable_useTransitions:S}=H.useContext(Mc),E=QY(),b=JY(o,{relative:u}),w=a.toLowerCase()==="get"?"get":"post",A=typeof o=="string"&&ZF.test(o),C=D=>{if(c&&c(D),D.defaultPrevented)return;D.preventDefault();let L=D.nativeEvent.submitter,P=L?.getAttribute("formmethod")||a,U=()=>E(L||D.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:r,state:s,relative:u,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:y});S&&t!==!1?H.startTransition(()=>U()):U()};return H.createElement("form",{ref:_,method:w,action:b,onSubmit:i?c:C,...v,"data-discover":!A&&n==="render"?"true":void 0})});$Y.displayName="Form";function XY(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JF(n){let e=H.useContext(o_);return zr(e,XY(n)),e}function YY(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}={}){let u=GF(),h=iy(),p=dS(n,{relative:s});return H.useCallback(y=>{if(CY(y,e)){y.preventDefault();let v=t!==void 0?t:_x(h)===_x(p),_=()=>u(n,{replace:v,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:o});c?H.startTransition(()=>_()):_()}},[h,u,p,t,i,e,n,r,s,a,o,c])}var KY=0,ZY=()=>`__${String(++KY)}__`;function QY(){let{router:n}=JF("useSubmit"),{basename:e}=H.useContext(Mc),t=gY(),i=n.fetch,r=n.navigate;return H.useCallback(async(s,a={})=>{let{action:o,method:c,encType:u,formData:h,body:p}=RY(s,e);if(a.navigate===!1){let y=a.fetcherKey||ZY();await i(y,t,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await r(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,t])}function JY(n,{relative:e}={}){let{basename:t}=H.useContext(Mc),i=H.useContext(id);zr(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...dS(n||".",{relative:e})},a=iy();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),c=o.getAll("index");if(c.some(h=>h==="")){o.delete("index"),c.filter(p=>p).forEach(p=>o.append("index",p));let h=o.toString();s.search=h?`?${h}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:kh([t,s.pathname])),_x(s)}function eK(n,{relative:e}={}){let t=H.useContext(FF);zr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=JF("useViewTransitionState"),r=dS(n,{relative:e});if(!t.isTransitioning)return!1;let s=Hh(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=Hh(t.nextLocation.pathname,i)||t.nextLocation.pathname;return v2(r.pathname,a)!=null||v2(r.pathname,s)!=null}var eV=OF();const tT=$p(eV);var sI=function(n,e){return sI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},sI(n,e)};function tK(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sI(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Qs=function(){return Qs=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Qs.apply(this,arguments)};function oU(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function jm(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(h){try{u(i.next(h))}catch(p){a(p)}}function c(h){try{u(i.throw(h))}catch(p){a(p)}}function u(h){h.done?s(h.value):r(h.value).then(o,c)}u((i=i.apply(n,e||[])).next())})}function Gm(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(h){return c([u,h])}}function c(u){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(t=0)),t;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(h){u=[6,h],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function nK(n,e,t){for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}function uf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}var bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hD(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function dD(n,e){return n(e={exports:{}},e.exports),e.exports}var dg=dD((function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function i(){var r=this;this.locked=new Map,this.addToLocked=function(s,a){var o=r.locked.get(s);o===void 0?a===void 0?r.locked.set(s,[]):r.locked.set(s,[a]):a!==void 0&&(o.unshift(a),r.locked.set(s,o))},this.isLocked=function(s){return r.locked.has(s)},this.lock=function(s){return new Promise((function(a,o){r.isLocked(s)?r.addToLocked(s,a):(r.addToLocked(s),a())}))},this.unlock=function(s){var a=r.locked.get(s);if(a!==void 0&&a.length!==0){var o=a.pop();r.locked.set(s,a),o!==void 0&&setTimeout(o,0)}else r.locked.delete(s)}}return i.getInstance=function(){return i.instance===void 0&&(i.instance=new i),i.instance},i})();e.default=function(){return t.getInstance()}}));hD(dg);var iK=hD(dD((function(n,e){var t=bg&&bg.__awaiter||function(h,p,y,v){return new(y||(y=Promise))((function(_,S){function E(A){try{w(v.next(A))}catch(C){S(C)}}function b(A){try{w(v.throw(A))}catch(C){S(C)}}function w(A){A.done?_(A.value):new y((function(C){C(A.value)})).then(E,b)}w((v=v.apply(h,p||[])).next())}))},i=bg&&bg.__generator||function(h,p){var y,v,_,S,E={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return S={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function b(w){return function(A){return(function(C){if(y)throw new TypeError("Generator is already executing.");for(;E;)try{if(y=1,v&&(_=2&C[0]?v.return:C[0]?v.throw||((_=v.return)&&_.call(v),0):v.next)&&!(_=_.call(v,C[1])).done)return _;switch(v=0,_&&(C=[2&C[0],_.value]),C[0]){case 0:case 1:_=C;break;case 4:return E.label++,{value:C[1],done:!1};case 5:E.label++,v=C[1],C=[0];continue;case 7:C=E.ops.pop(),E.trys.pop();continue;default:if(_=E.trys,!((_=_.length>0&&_[_.length-1])||C[0]!==6&&C[0]!==2)){E=0;continue}if(C[0]===3&&(!_||C[1]>_[0]&&C[1]<_[3])){E.label=C[1];break}if(C[0]===6&&E.label<_[1]){E.label=_[1],_=C;break}if(_&&E.label<_[2]){E.label=_[2],E.ops.push(C);break}_[2]&&E.ops.pop(),E.trys.pop();continue}C=p.call(h,E)}catch(D){C=[6,D],v=0}finally{y=_=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}})([w,A])}}},r=bg;Object.defineProperty(e,"__esModule",{value:!0});var s="browser-tabs-lock-key",a={key:function(h){return t(r,void 0,void 0,(function(){return i(this,(function(p){throw new Error("Unsupported")}))}))},getItem:function(h){return t(r,void 0,void 0,(function(){return i(this,(function(p){throw new Error("Unsupported")}))}))},clear:function(){return t(r,void 0,void 0,(function(){return i(this,(function(h){return[2,window.localStorage.clear()]}))}))},removeItem:function(h){return t(r,void 0,void 0,(function(){return i(this,(function(p){throw new Error("Unsupported")}))}))},setItem:function(h,p){return t(r,void 0,void 0,(function(){return i(this,(function(y){throw new Error("Unsupported")}))}))},keySync:function(h){return window.localStorage.key(h)},getItemSync:function(h){return window.localStorage.getItem(h)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(h){return window.localStorage.removeItem(h)},setItemSync:function(h,p){return window.localStorage.setItem(h,p)}};function o(h){return new Promise((function(p){return setTimeout(p,h)}))}function c(h){for(var p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",y="",v=0;v<h;v++)y+=p[Math.floor(Math.random()*p.length)];return y}var u=(function(){function h(p){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=p,h.waiters===void 0&&(h.waiters=[])}return h.prototype.acquireLock=function(p,y){return y===void 0&&(y=5e3),t(this,void 0,void 0,(function(){var v,_,S,E,b,w,A;return i(this,(function(C){switch(C.label){case 0:v=Date.now()+c(4),_=Date.now()+y,S=s+"-"+p,E=this.storageHandler===void 0?a:this.storageHandler,C.label=1;case 1:return Date.now()<_?[4,o(30)]:[3,8];case 2:return C.sent(),E.getItemSync(S)!==null?[3,5]:(b=this.id+"-"+p+"-"+v,[4,o(Math.floor(25*Math.random()))]);case 3:return C.sent(),E.setItemSync(S,JSON.stringify({id:this.id,iat:v,timeoutKey:b,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return C.sent(),(w=E.getItemSync(S))!==null&&(A=JSON.parse(w)).id===this.id&&A.iat===v?(this.acquiredIatSet.add(v),this.refreshLockWhileAcquired(S,v),[2,!0]):[3,7];case 5:return h.lockCorrector(this.storageHandler===void 0?a:this.storageHandler),[4,this.waitForSomethingToChange(_)];case 6:C.sent(),C.label=7;case 7:return v=Date.now()+c(4),[3,1];case 8:return[2,!1]}}))}))},h.prototype.refreshLockWhileAcquired=function(p,y){return t(this,void 0,void 0,(function(){var v=this;return i(this,(function(_){return setTimeout((function(){return t(v,void 0,void 0,(function(){var S,E,b;return i(this,(function(w){switch(w.label){case 0:return[4,dg.default().lock(y)];case 1:return w.sent(),this.acquiredIatSet.has(y)?(S=this.storageHandler===void 0?a:this.storageHandler,(E=S.getItemSync(p))===null?(dg.default().unlock(y),[2]):((b=JSON.parse(E)).timeRefreshed=Date.now(),S.setItemSync(p,JSON.stringify(b)),dg.default().unlock(y),this.refreshLockWhileAcquired(p,y),[2])):(dg.default().unlock(y),[2])}}))}))}),1e3),[2]}))}))},h.prototype.waitForSomethingToChange=function(p){return t(this,void 0,void 0,(function(){return i(this,(function(y){switch(y.label){case 0:return[4,new Promise((function(v){var _=!1,S=Date.now(),E=!1;function b(){if(E||(window.removeEventListener("storage",b),h.removeFromWaiting(b),clearTimeout(w),E=!0),!_){_=!0;var A=50-(Date.now()-S);A>0?setTimeout(v,A):v(null)}}window.addEventListener("storage",b),h.addToWaiting(b);var w=setTimeout(b,Math.max(0,p-Date.now()))}))];case 1:return y.sent(),[2]}}))}))},h.addToWaiting=function(p){this.removeFromWaiting(p),h.waiters!==void 0&&h.waiters.push(p)},h.removeFromWaiting=function(p){h.waiters!==void 0&&(h.waiters=h.waiters.filter((function(y){return y!==p})))},h.notifyWaiters=function(){h.waiters!==void 0&&h.waiters.slice().forEach((function(p){return p()}))},h.prototype.releaseLock=function(p){return t(this,void 0,void 0,(function(){return i(this,(function(y){switch(y.label){case 0:return[4,this.releaseLock__private__(p)];case 1:return[2,y.sent()]}}))}))},h.prototype.releaseLock__private__=function(p){return t(this,void 0,void 0,(function(){var y,v,_,S;return i(this,(function(E){switch(E.label){case 0:return y=this.storageHandler===void 0?a:this.storageHandler,v=s+"-"+p,(_=y.getItemSync(v))===null?[2]:(S=JSON.parse(_)).id!==this.id?[3,2]:[4,dg.default().lock(S.iat)];case 1:E.sent(),this.acquiredIatSet.delete(S.iat),y.removeItemSync(v),dg.default().unlock(S.iat),h.notifyWaiters(),E.label=2;case 2:return[2]}}))}))},h.lockCorrector=function(p){for(var y=Date.now()-5e3,v=p,_=[],S=0;;){var E=v.keySync(S);if(E===null)break;_.push(E),S++}for(var b=!1,w=0;w<_.length;w++){var A=_[w];if(A.includes(s)){var C=v.getItemSync(A);if(C!==null){var D=JSON.parse(C);(D.timeRefreshed===void 0&&D.timeAcquired<y||D.timeRefreshed!==void 0&&D.timeRefreshed<y)&&(v.removeItemSync(A),b=!0)}}}b&&h.notifyWaiters()},h.waiters=void 0,h})();e.default=u})));const rK={timeoutInSeconds:60},tV={name:"auth0-spa-js",version:"2.11.0"},nV=()=>Date.now();class Jr extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,Jr.prototype)}static fromPayload({error:e,error_description:t}){return new Jr(e,t)}}class pD extends Jr{constructor(e,t,i,r=null){super(e,t),this.state=i,this.appState=r,Object.setPrototypeOf(this,pD.prototype)}}let sK=class iV extends Jr{constructor(e,t,i,r,s=null){super(e,t),this.connection=i,this.state=r,this.appState=s,Object.setPrototypeOf(this,iV.prototype)}},aI=class rV extends Jr{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,rV.prototype)}},aK=class sV extends aI{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,sV.prototype)}},oK=class aV extends Jr{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,aV.prototype)}};class mD extends Jr{constructor(){super("popup_open","Unable to open a popup for loginWithPopup - window.open returned `null`"),Object.setPrototypeOf(this,mD.prototype)}}let lK=class oV extends Jr{constructor(e,t,i){super(e,t),this.mfa_token=i,Object.setPrototypeOf(this,oV.prototype)}},lV=class cV extends Jr{constructor(e,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${_2(e,["default"])}', scope: '${_2(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,cV.prototype)}};class gD extends Jr{constructor(e,t){super("missing_scopes",`Missing requested scopes after refresh (audience: '${_2(e,["default"])}', missing scope: '${_2(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,gD.prototype)}}let uV=class fV extends Jr{constructor(e){super("use_dpop_nonce","Server rejected DPoP proof: wrong nonce"),this.newDpopNonce=e,Object.setPrototypeOf(this,fV.prototype)}};function _2(n,e=[]){return n&&!e.includes(n)?n:""}const b2=()=>window.crypto,H1=()=>{const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(b2().getRandomValues(new Uint8Array(43))).forEach((t=>e+=n[t%n.length])),e},PR=n=>btoa(n),cK=[{key:"name",type:["string"]},{key:"version",type:["string","number"]},{key:"env",type:["object"]}],uK=n=>Object.keys(n).reduce(((e,t)=>{const i=cK.find((r=>r.key===t));return i&&i.type.includes(typeof n[t])&&(e[t]=n[t]),e}),{}),oI=n=>{var{clientId:e}=n,t=uf(n,["clientId"]);return new URLSearchParams((i=>Object.keys(i).filter((r=>i[r]!==void 0)).reduce(((r,s)=>Object.assign(Object.assign({},r),{[s]:i[s]})),{}))(Object.assign({client_id:e},t))).toString()},lU=async n=>await b2().subtle.digest({name:"SHA-256"},new TextEncoder().encode(n)),cU=n=>(e=>decodeURIComponent(atob(e).split("").map((t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2))).join("")))(n.replace(/_/g,"/").replace(/-/g,"+")),uU=n=>{const e=new Uint8Array(n);return(t=>{const i={"+":"-","/":"_","=":""};return t.replace(/[+/=]/g,(r=>i[r]))})(window.btoa(String.fromCharCode(...Array.from(e))))},fK=new TextEncoder,hK=new TextDecoder;function Vb(n){return typeof n=="string"?fK.encode(n):hK.decode(n)}function fU(n){if(typeof n.modulusLength!="number"||n.modulusLength<2048)throw new pK(`${n.name} modulusLength must be at least 2048 bits`)}async function dK(n,e,t){if(t.usages.includes("sign")===!1)throw new TypeError('private CryptoKey instances used for signing assertions must include "sign" in their "usages"');const i=`${Hb(Vb(JSON.stringify(n)))}.${Hb(Vb(JSON.stringify(e)))}`;return`${i}.${Hb(await crypto.subtle.sign((function(r){switch(r.algorithm.name){case"ECDSA":return{name:r.algorithm.name,hash:"SHA-256"};case"RSA-PSS":return fU(r.algorithm),{name:r.algorithm.name,saltLength:32};case"RSASSA-PKCS1-v1_5":return fU(r.algorithm),{name:r.algorithm.name};case"Ed25519":return{name:r.algorithm.name}}throw new Sg})(t),t,Vb(i)))}`}let lI;Uint8Array.prototype.toBase64?lI=n=>(n instanceof ArrayBuffer&&(n=new Uint8Array(n)),n.toBase64({alphabet:"base64url",omitPadding:!0})):lI=e=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));const t=[];for(let i=0;i<e.byteLength;i+=32768)t.push(String.fromCharCode.apply(null,e.subarray(i,i+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};function Hb(n){return lI(n)}class Sg extends Error{constructor(e){var t;super(e??"operation not supported"),this.name=this.constructor.name,(t=Error.captureStackTrace)===null||t===void 0||t.call(Error,this,this.constructor)}}class pK extends Error{constructor(e){var t;super(e),this.name=this.constructor.name,(t=Error.captureStackTrace)===null||t===void 0||t.call(Error,this,this.constructor)}}function mK(n){switch(n.algorithm.name){case"RSA-PSS":return(function(e){if(e.algorithm.hash.name==="SHA-256")return"PS256";throw new Sg("unsupported RsaHashedKeyAlgorithm hash name")})(n);case"RSASSA-PKCS1-v1_5":return(function(e){if(e.algorithm.hash.name==="SHA-256")return"RS256";throw new Sg("unsupported RsaHashedKeyAlgorithm hash name")})(n);case"ECDSA":return(function(e){if(e.algorithm.namedCurve==="P-256")return"ES256";throw new Sg("unsupported EcKeyAlgorithm namedCurve")})(n);case"Ed25519":return"Ed25519";default:throw new Sg("unsupported CryptoKey algorithm name")}}function hV(n){return n instanceof CryptoKey}function dV(n){return hV(n)&&n.type==="public"}async function gK(n,e,t,i,r,s){const a=n?.privateKey,o=n?.publicKey;if(!hV(c=a)||c.type!=="private")throw new TypeError('"keypair.privateKey" must be a private CryptoKey');var c;if(!dV(o))throw new TypeError('"keypair.publicKey" must be a public CryptoKey');if(o.extractable!==!0)throw new TypeError('"keypair.publicKey.extractable" must be true');if(typeof e!="string")throw new TypeError('"htu" must be a string');if(typeof t!="string")throw new TypeError('"htm" must be a string');if(i!==void 0&&typeof i!="string")throw new TypeError('"nonce" must be a string or undefined');if(r!==void 0&&typeof r!="string")throw new TypeError('"accessToken" must be a string or undefined');return dK({alg:mK(a),typ:"dpop+jwt",jwk:await pV(o)},Object.assign(Object.assign({},s),{iat:Math.floor(Date.now()/1e3),jti:crypto.randomUUID(),htm:t,nonce:i,htu:e,ath:r?Hb(await crypto.subtle.digest("SHA-256",Vb(r))):void 0}),a)}async function pV(n){const{kty:e,e:t,n:i,x:r,y:s,crv:a}=await crypto.subtle.exportKey("jwk",n);return{kty:e,crv:a,e:t,n:i,x:r,y:s}}const yK=["authorization_code","refresh_token","urn:ietf:params:oauth:grant-type:token-exchange"];function vK(){return(async function(n,e){var t;let i;if(n.length===0)throw new TypeError('"alg" must be a non-empty string');switch(n){case"PS256":i={name:"RSA-PSS",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"RS256":i={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"ES256":i={name:"ECDSA",namedCurve:"P-256"};break;case"Ed25519":i={name:"Ed25519"};break;default:throw new Sg}return crypto.subtle.generateKey(i,(t=e?.extractable)!==null&&t!==void 0&&t,["sign","verify"])})("ES256",{extractable:!1})}function _K(n){return(async function(e){if(!dV(e))throw new TypeError('"publicKey" must be a public CryptoKey');if(e.extractable!==!0)throw new TypeError('"publicKey.extractable" must be true');const t=await pV(e);let i;switch(t.kty){case"EC":i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};break;case"OKP":i={crv:t.crv,kty:t.kty,x:t.x};break;case"RSA":i={e:t.e,kty:t.kty,n:t.n};break;default:throw new Sg("unsupported JWK kty")}return Hb(await crypto.subtle.digest({name:"SHA-256"},Vb(JSON.stringify(i))))})(n.publicKey)}function bK({keyPair:n,url:e,method:t,nonce:i,accessToken:r}){const s=(function(a){const o=new URL(a);return o.search="",o.hash="",o.href})(e);return gK(n,s,t,i,r)}const xK=async(n,e)=>{const t=await fetch(n,e);return{ok:t.ok,json:await t.json(),headers:(i=t.headers,[...i].reduce(((r,[s,a])=>(r[s]=a,r)),{}))};var i},SK=async(n,e,t)=>{const i=new AbortController;let r;return e.signal=i.signal,Promise.race([xK(n,e),new Promise(((s,a)=>{r=setTimeout((()=>{i.abort(),a(new Error("Timeout when executing 'fetch'"))}),t)}))]).finally((()=>{clearTimeout(r)}))},EK=async(n,e,t,i,r,s,a,o)=>{return c={auth:{audience:e,scope:t},timeout:r,fetchUrl:n,fetchOptions:i,useFormData:a,useMrrt:o},u=s,new Promise((function(h,p){const y=new MessageChannel;y.port1.onmessage=function(v){v.data.error?p(new Error(v.data.error)):h(v.data),y.port1.close()},u.postMessage(c,[y.port2])}));var c,u},TK=async(n,e,t,i,r,s,a=1e4,o)=>r?EK(n,e,t,i,a,r,s,o):SK(n,i,a);async function mV(n,e,t,i,r,s,a,o,c,u){if(c){const A=await c.generateProof({url:n,method:r.method||"GET",nonce:await c.getNonce()});r.headers=Object.assign(Object.assign({},r.headers),{dpop:A})}let h,p=null;for(let A=0;A<3;A++)try{h=await TK(n,t,i,r,s,a,e,o),p=null;break}catch(C){p=C}if(p)throw p;const y=h.json,{error:v,error_description:_}=y,S=uf(y,["error","error_description"]),{headers:E,ok:b}=h;let w;if(c&&(w=E["dpop-nonce"],w&&await c.setNonce(w)),!b){const A=_||`HTTP error. Unable to fetch ${n}`;if(v==="mfa_required")throw new lK(v,A,S.mfa_token);if(v==="missing_refresh_token")throw new lV(t,i);if(v==="use_dpop_nonce"){if(!c||!w||u)throw new uV(w);return mV(n,e,t,i,r,s,a,o,c,!0)}throw new Jr(v||"request_error",A)}return S}async function wK(n,e){var{baseUrl:t,timeout:i,audience:r,scope:s,auth0Client:a,useFormData:o,useMrrt:c,dpop:u}=n,h=uf(n,["baseUrl","timeout","audience","scope","auth0Client","useFormData","useMrrt","dpop"]);const p=h.grant_type==="urn:ietf:params:oauth:grant-type:token-exchange",y=h.grant_type==="refresh_token"&&c,v=Object.assign(Object.assign(Object.assign(Object.assign({},h),p&&r&&{audience:r}),p&&s&&{scope:s}),y&&{audience:r,scope:s}),_=o?oI(v):JSON.stringify(v),S=(E=h.grant_type,yK.includes(E));var E;return await mV(`${t}/oauth/token`,i,r||"default",s,{method:"POST",body:_,headers:{"Content-Type":o?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(uK(a||tV)))}},e,o,c,S?u:void 0)}const Gw=(...n)=>{return(e=n.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e},nT=(n,e,t)=>{let i;return t&&(i=n[t]),i||(i=n.default),Gw(i,e)};class vc{constructor(e,t="@@auth0spajs@@",i){this.prefix=t,this.suffix=i,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[t,i,r,s]=e.split("::");return new vc({clientId:i,scope:s,audience:r},t)}static fromCacheEntry(e){const{scope:t,audience:i,client_id:r}=e;return new vc({scope:t,audience:i,clientId:r})}}class CK{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter((e=>e.startsWith("@@auth0spajs@@")))}}class gV{constructor(){this.enclosedCache=(function(){let e={};return{set(t,i){e[t]=i},get(t){const i=e[t];if(i)return i},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}})()}}class AK{constructor(e,t,i){this.cache=e,this.keyManifest=t,this.nowProvider=i||nV}async setIdToken(e,t,i){var r;const s=this.getIdTokenCacheKey(e);await this.cache.set(s,{id_token:t,decodedToken:i}),await((r=this.keyManifest)===null||r===void 0?void 0:r.add(s))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const i=await this.get(e);return!i||!i.id_token||!i.decodedToken?void 0:{id_token:i.id_token,decodedToken:i.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0,i=!1,r){var s;let a=await this.cache.get(e.toKey());if(!a){const u=await this.getCacheKeys();if(!u)return;const h=this.matchExistingCacheKey(e,u);if(h&&(a=await this.cache.get(h)),!h&&i&&r!=="cache-only")return this.getEntryWithRefreshToken(e,u)}if(!a)return;const o=await this.nowProvider(),c=Math.floor(o/1e3);return a.expiresAt-t<c?a.body.refresh_token?this.modifiedCachedEntry(a,e):(await this.cache.remove(e.toKey()),void await((s=this.keyManifest)===null||s===void 0?void 0:s.remove(e.toKey()))):a.body}async modifiedCachedEntry(e,t){return e.body={refresh_token:e.body.refresh_token,audience:e.body.audience,scope:e.body.scope},await this.cache.set(t.toKey(),e),{refresh_token:e.body.refresh_token,audience:e.body.audience,scope:e.body.scope}}async set(e){var t;const i=new vc({clientId:e.client_id,scope:e.scope,audience:e.audience}),r=await this.wrapCacheEntry(e);await this.cache.set(i.toKey(),r),await((t=this.keyManifest)===null||t===void 0?void 0:t.add(i.toKey()))}async remove(e,t,i){const r=new vc({clientId:e,scope:i,audience:t});await this.cache.remove(r.toKey())}async clear(e){var t;const i=await this.getCacheKeys();i&&(await i.filter((r=>!e||r.includes(e))).reduce((async(r,s)=>{await r,await this.cache.remove(s)}),Promise.resolve()),await((t=this.keyManifest)===null||t===void 0?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new vc({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,t){return t.filter((i=>{var r;const s=vc.fromKey(i),a=new Set(s.scope&&s.scope.split(" ")),o=((r=e.scope)===null||r===void 0?void 0:r.split(" "))||[],c=s.scope&&o.reduce(((u,h)=>u&&a.has(h)),!0);return s.prefix==="@@auth0spajs@@"&&s.clientId===e.clientId&&s.audience===e.audience&&c}))[0]}async getEntryWithRefreshToken(e,t){var i;for(const r of t){const s=vc.fromKey(r);if(s.prefix==="@@auth0spajs@@"&&s.clientId===e.clientId){const a=await this.cache.get(r);if(!((i=a?.body)===null||i===void 0)&&i.refresh_token)return this.modifiedCachedEntry(a,e)}}}async updateEntry(e,t){var i;const r=await this.getCacheKeys();if(r)for(const s of r){const a=await this.cache.get(s);if(((i=a?.body)===null||i===void 0?void 0:i.refresh_token)===e){const o=Object.assign(Object.assign({},a.body),{refresh_token:t});await this.set(o)}}}}class MK{constructor(e,t,i){this.storage=e,this.clientId=t,this.cookieDomain=i,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const j1=n=>typeof n=="number",RK=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],OK=n=>{if(!n.id_token)throw new Error("ID token is required but missing");const e=(s=>{const a=s.split("."),[o,c,u]=a;if(a.length!==3||!o||!c||!u)throw new Error("ID token could not be decoded");const h=JSON.parse(cU(c)),p={__raw:s},y={};return Object.keys(h).forEach((v=>{p[v]=h[v],RK.includes(v)||(y[v]=h[v])})),{encoded:{header:o,payload:c,signature:u},header:JSON.parse(cU(o)),claims:p,user:y}})(n.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==n.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${n.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(n.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==n.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${n.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==n.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but found "${e.claims.aud}"`);if(n.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==n.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${n.nonce}", found "${e.claims.nonce}"`)}if(n.max_age&&!j1(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!j1(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!j1(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const t=n.leeway||60,i=new Date(n.now||Date.now()),r=new Date(0);if(r.setUTCSeconds(e.claims.exp+t),i>r)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${i}) is after expiration time (${r})`);if(e.claims.nbf!=null&&j1(e.claims.nbf)){const s=new Date(0);if(s.setUTCSeconds(e.claims.nbf-t),i<s)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${i}) is before ${s}`)}if(e.claims.auth_time!=null&&j1(e.claims.auth_time)){const s=new Date(0);if(s.setUTCSeconds(parseInt(e.claims.auth_time)+n.max_age+t),i>s)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${i}) is after last auth at ${s}`)}if(n.organization){const s=n.organization.trim();if(s.startsWith("org_")){const a=s;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(a!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${a}", found "${e.claims.org_id}"`)}else{const a=s.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(a!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${a}", found "${e.claims.org_name}"`)}}return e};var Eg=dD((function(n,e){var t=bg&&bg.__assign||function(){return t=Object.assign||function(c){for(var u,h=1,p=arguments.length;h<p;h++)for(var y in u=arguments[h])Object.prototype.hasOwnProperty.call(u,y)&&(c[y]=u[y]);return c},t.apply(this,arguments)};function i(c,u){if(!u)return"";var h="; "+c;return u===!0?h:h+"="+u}function r(c,u,h){return encodeURIComponent(c).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(u).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+(function(p){if(typeof p.expires=="number"){var y=new Date;y.setMilliseconds(y.getMilliseconds()+864e5*p.expires),p.expires=y}return i("Expires",p.expires?p.expires.toUTCString():"")+i("Domain",p.domain)+i("Path",p.path)+i("Secure",p.secure)+i("SameSite",p.sameSite)})(h)}function s(c){for(var u={},h=c?c.split("; "):[],p=/(%[\dA-F]{2})+/gi,y=0;y<h.length;y++){var v=h[y].split("="),_=v.slice(1).join("=");_.charAt(0)==='"'&&(_=_.slice(1,-1));try{u[v[0].replace(p,decodeURIComponent)]=_.replace(p,decodeURIComponent)}catch{}}return u}function a(){return s(document.cookie)}function o(c,u,h){document.cookie=r(c,u,t({path:"/"},h))}e.__esModule=!0,e.encode=r,e.parse=s,e.getAll=a,e.get=function(c){return a()[c]},e.set=o,e.remove=function(c,u){o(c,"",t(t({},u),{expires:-1}))}}));hD(Eg),Eg.encode,Eg.parse,Eg.getAll;var IK=Eg.get,yV=Eg.set,vV=Eg.remove;const Xv={get(n){const e=IK(n);if(e!==void 0)return JSON.parse(e)},save(n,e,t){let i={};window.location.protocol==="https:"&&(i={secure:!0,sameSite:"none"}),t?.daysUntilExpire&&(i.expires=t.daysUntilExpire),t?.cookieDomain&&(i.domain=t.cookieDomain),yV(n,JSON.stringify(e),i)},remove(n,e){let t={};e?.cookieDomain&&(t.domain=e.cookieDomain),vV(n,t)}},PK={get(n){return Xv.get(n)||Xv.get(`_legacy_${n}`)},save(n,e,t){let i={};window.location.protocol==="https:"&&(i={secure:!0}),t?.daysUntilExpire&&(i.expires=t.daysUntilExpire),t?.cookieDomain&&(i.domain=t.cookieDomain),yV(`_legacy_${n}`,JSON.stringify(e),i),Xv.save(n,e,t)},remove(n,e){let t={};e?.cookieDomain&&(t.domain=e.cookieDomain),vV(n,t),Xv.remove(n,e),Xv.remove(`_legacy_${n}`,e)}},DK={get(n){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(n);return e!=null?JSON.parse(e):void 0},save(n,e){sessionStorage.setItem(n,JSON.stringify(e))},remove(n){sessionStorage.removeItem(n)}};var fp;(function(n){n.Code="code",n.ConnectCode="connect_code"})(fp||(fp={}));function NK(n,e,t){var i=e===void 0?null:e,r=(function(c,u){var h=atob(c);if(u){for(var p=new Uint8Array(h.length),y=0,v=h.length;y<v;++y)p[y]=h.charCodeAt(y);return String.fromCharCode.apply(null,new Uint16Array(p.buffer))}return h})(n,t!==void 0&&t),s=r.indexOf(`
`,10)+1,a=r.substring(s)+(i?"//# sourceMappingURL="+i:""),o=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(o)}var hU,dU,pU,DR,LK=(hU="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YSx1c2VNcnJ0OmZ9LHBvcnRzOltwXX0pPT57bGV0IGgsdSxsPXt9O2NvbnN0e2F1ZGllbmNlOmQsc2NvcGU6eX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2lmKHU9KChlLHQpPT5vW24oZSx0KV0pKGQseSksIXUmJmYpe2NvbnN0IGU9by5sYXRlc3RfcmVmcmVzaF90b2tlbix0PSgoZSx0KT0+e2NvbnN0IHI9T2JqZWN0LmtleXMobykuZmluZCgocj0+e2lmKCJsYXRlc3RfcmVmcmVzaF90b2tlbiIhPT1yKXtjb25zdCBzPSgoZSx0KT0+dC5zdGFydHNXaXRoKGAke2V9fGApKSh0LHIpLG89ci5zcGxpdCgifCIpWzFdLnNwbGl0KCIgIiksbj1lLnNwbGl0KCIgIikuZXZlcnkoKGU9Pm8uaW5jbHVkZXMoZSkpKTtyZXR1cm4gcyYmbn19KSk7cmV0dXJuISFyfSkoeSxkKTtlJiYhdCYmKHU9ZSl9aWYoIXUpdGhyb3cgbmV3IHQoZCx5KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpfWxldCBqLGs7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGo9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1qLnNpZ25hbCk7dHJ5e2s9YXdhaXQgUHJvbWlzZS5yYWNlKFsoXz1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsXykpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIHAucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFrKXJldHVybiBqJiZqLmFib3J0KCksdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO2c9ay5oZWFkZXJzLGw9Wy4uLmddLnJlZHVjZSgoKGUsW3Qscl0pPT4oZVt0XT1yLGUpKSx7fSksaD1hd2FpdCBrLmpzb24oKSxoLnJlZnJlc2hfdG9rZW4/KGYmJihvLmxhdGVzdF9yZWZyZXNoX3Rva2VuPWgucmVmcmVzaF90b2tlbixPPXUsYj1oLnJlZnJlc2hfdG9rZW4sT2JqZWN0LmVudHJpZXMobykuZm9yRWFjaCgoKFtlLHRdKT0+e3Q9PT1PJiYob1tlXT1iKX0pKSksKChlLHQscik9PntvW24odCxyKV09ZX0pKGgucmVmcmVzaF90b2tlbixkLHkpLGRlbGV0ZSBoLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KShkLHkpLHAucG9zdE1lc3NhZ2Uoe29rOmsub2ssanNvbjpoLGhlYWRlcnM6bH0pfWNhdGNoKGUpe3AucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yOmUuZXJyb3IsZXJyb3JfZGVzY3JpcHRpb246ZS5tZXNzYWdlfSxoZWFkZXJzOmx9KX12YXIgTyxiLGcsX30pKX0oKTsKCg==",dU=null,pU=!1,function(n){return DR=DR||NK(hU,dU,pU),new Worker(DR,n)});const NR={};class UK{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const i=new Set(((t=await this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);i.add(e),await this.cache.set(this.manifestKey,{keys:[...i]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const i=new Set(t.keys);return i.delete(e),i.size>0?await this.cache.set(this.manifestKey,{keys:[...i]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const kK={memory:()=>new gV().enclosedCache,localstorage:()=>new CK},mU=n=>kK[n],gU=n=>{const{openUrl:e,onRedirect:t}=n,i=uf(n,["openUrl","onRedirect"]);return Object.assign(Object.assign({},i),{openUrl:e===!1||e?e:t})},yU=(n,e)=>{const t=e?.split(" ")||[];return(n?.split(" ")||[]).every((i=>t.includes(i)))},qm={NONCE:"nonce",KEYPAIR:"keypair"};class zK{constructor(e){this.clientId=e}getVersion(){return 1}createDbHandle(){const e=window.indexedDB.open("auth0-spa-js",this.getVersion());return new Promise(((t,i)=>{e.onupgradeneeded=()=>Object.values(qm).forEach((r=>e.result.createObjectStore(r))),e.onerror=()=>i(e.error),e.onsuccess=()=>t(e.result)}))}async getDbHandle(){return this.dbHandle||(this.dbHandle=await this.createDbHandle()),this.dbHandle}async executeDbRequest(e,t,i){const r=i((await this.getDbHandle()).transaction(e,t).objectStore(e));return new Promise(((s,a)=>{r.onsuccess=()=>s(r.result),r.onerror=()=>a(r.error)}))}buildKey(e){const t=e?`_${e}`:"auth0";return`${this.clientId}::${t}`}setNonce(e,t){return this.save(qm.NONCE,this.buildKey(t),e)}setKeyPair(e){return this.save(qm.KEYPAIR,this.buildKey(),e)}async save(e,t,i){await this.executeDbRequest(e,"readwrite",(r=>r.put(i,t)))}findNonce(e){return this.find(qm.NONCE,this.buildKey(e))}findKeyPair(){return this.find(qm.KEYPAIR,this.buildKey())}find(e,t){return this.executeDbRequest(e,"readonly",(i=>i.get(t)))}async deleteBy(e,t){const i=await this.executeDbRequest(e,"readonly",(r=>r.getAllKeys()));i?.filter(t).map((r=>this.executeDbRequest(e,"readwrite",(s=>s.delete(r)))))}deleteByClientId(e,t){return this.deleteBy(e,(i=>typeof i=="string"&&i.startsWith(`${t}::`)))}clearNonces(){return this.deleteByClientId(qm.NONCE,this.clientId)}clearKeyPairs(){return this.deleteByClientId(qm.KEYPAIR,this.clientId)}}class BK{constructor(e){this.storage=new zK(e)}getNonce(e){return this.storage.findNonce(e)}setNonce(e,t){return this.storage.setNonce(e,t)}async getOrGenerateKeyPair(){let e=await this.storage.findKeyPair();return e||(e=await vK(),await this.storage.setKeyPair(e)),e}async generateProof(e){const t=await this.getOrGenerateKeyPair();return bK(Object.assign({keyPair:t},e))}async calculateThumbprint(){return _K(await this.getOrGenerateKeyPair())}async clear(){await Promise.all([this.storage.clearNonces(),this.storage.clearKeyPairs()])}}var e0;(function(n){n.Bearer="Bearer",n.DPoP="DPoP"})(e0||(e0={}));class FK{constructor(e,t){this.hooks=t,this.config=Object.assign(Object.assign({},e),{fetch:e.fetch||(typeof window>"u"?fetch:window.fetch.bind(window))})}isAbsoluteUrl(e){return/^(https?:)?\/\//i.test(e)}buildUrl(e,t){if(t){if(this.isAbsoluteUrl(t))return t;if(e)return`${e.replace(/\/?\/$/,"")}/${t.replace(/^\/+/,"")}`}throw new TypeError("`url` must be absolute or `baseUrl` non-empty.")}getAccessToken(e){return this.config.getAccessToken?this.config.getAccessToken(e):this.hooks.getAccessToken(e)}extractUrl(e){return typeof e=="string"?e:e instanceof URL?e.href:e.url}buildBaseRequest(e,t){if(!this.config.baseUrl)return new Request(e,t);const i=this.buildUrl(this.config.baseUrl,this.extractUrl(e)),r=e instanceof Request?new Request(i,e):i;return new Request(r,t)}setAuthorizationHeader(e,t,i=e0.Bearer){e.headers.set("authorization",`${i} ${t}`)}async setDpopProofHeader(e,t){if(!this.config.dpopNonceId)return;const i=await this.hooks.getDpopNonce(),r=await this.hooks.generateDpopProof({accessToken:t,method:e.method,nonce:i,url:e.url});e.headers.set("dpop",r)}async prepareRequest(e,t){const i=await this.getAccessToken(t);let r,s;typeof i=="string"?(r=this.config.dpopNonceId?e0.DPoP:e0.Bearer,s=i):(r=i.token_type,s=i.access_token),this.setAuthorizationHeader(e,s,r),r===e0.DPoP&&await this.setDpopProofHeader(e,s)}getHeader(e,t){return Array.isArray(e)?new Headers(e).get(t)||"":typeof e.get=="function"?e.get(t)||"":e[t]||""}hasUseDpopNonceError(e){if(e.status!==401)return!1;const t=this.getHeader(e.headers,"www-authenticate");return t.includes("invalid_dpop_nonce")||t.includes("use_dpop_nonce")}async handleResponse(e,t){const i=this.getHeader(e.headers,"dpop-nonce");if(i&&await this.hooks.setDpopNonce(i),!this.hasUseDpopNonceError(e))return e;if(!i||!t.onUseDpopNonceError)throw new uV(i);return t.onUseDpopNonceError()}async internalFetchWithAuth(e,t,i,r){const s=this.buildBaseRequest(e,t);await this.prepareRequest(s,r);const a=await this.config.fetch(s);return this.handleResponse(a,i)}fetchWithAuth(e,t,i){const r={onUseDpopNonceError:()=>this.internalFetchWithAuth(e,t,Object.assign(Object.assign({},r),{onUseDpopNonceError:void 0}),i)};return this.internalFetchWithAuth(e,t,r,i)}}class VK{constructor(e,t){this.myAccountFetcher=e,this.apiBase=t}async connectAccount(e){const t=await this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return this._handleResponse(t)}async completeAccount(e){const t=await this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/complete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return this._handleResponse(t)}async _handleResponse(e){let t;try{t=await e.text(),t=JSON.parse(t)}catch(i){throw new x2({type:"invalid_json",status:e.status,title:"Invalid JSON response",detail:t||String(i)})}if(e.ok)return t;throw new x2(t)}}class x2 extends Error{constructor({type:e,status:t,title:i,detail:r,validation_errors:s}){super(r),this.name="MyAccountApiError",this.type=e,this.status=t,this.title=i,this.detail=r,this.validation_errors=s,Object.setPrototypeOf(this,x2.prototype)}}const LR=new iK;class HK{constructor(e){let t,i;if(this.userCache=new gV().enclosedCache,this.activeLockKeys=new Set,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{const c=Array.from(this.activeLockKeys);for(const u of c)await LR.releaseLock(u);this.activeLockKeys.clear(),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!b2())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(b2().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)i=e.cache;else{if(t=e.cacheLocation||"memory",!mU(t))throw new Error(`Invalid cache location "${t}"`);i=mU(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?Xv:PK,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(c=>`auth0.${c}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const r=e.useCookiesForTransactions?this.cookieStorage:DK;var s;this.scope=((c,u,...h)=>{if(typeof c!="object")return{default:Gw(u,c,...h)};let p={default:Gw(u,...h)};return Object.keys(c).forEach((y=>{const v=c[y];p[y]=Gw(u,v,...h)})),p})(this.options.authorizationParams.scope,"openid",this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new MK(r,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||nV,this.cacheManager=new AK(i,i.allKeys?void 0:new UK(i,this.options.clientId),this.nowProvider),this.dpop=this.options.useDpop?new BK(this.options.clientId):void 0,this.domainUrl=(s=this.options.domain,/^https?:\/\//.test(s)?s:`https://${s}`),this.tokenIssuer=((c,u)=>c?c.startsWith("https://")?c:`https://${c}/`:`${u}/`)(this.options.issuer,this.domainUrl);const a=`${this.domainUrl}/me/`,o=this.createFetcher(Object.assign(Object.assign({},this.options.useDpop&&{dpopNonceId:"__auth0_my_account_api__"}),{getAccessToken:()=>this.getTokenSilently({authorizationParams:{scope:"create:me:connected_accounts",audience:a},detailedResponse:!0})}));this.myAccountApi=new VK(o,a),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new LK)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||tV)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${oI(e)}`)}async _verifyIdToken(e,t,i){const r=await this.nowProvider();return OK({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:i,leeway:this.options.leeway,max_age:(s=this.options.authorizationParams.max_age,typeof s!="string"?s:parseInt(s,10)||void 0),now:r});var s}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,i){var r;const s=PR(H1()),a=PR(H1()),o=H1(),c=await lU(o),u=uU(c),h=await((r=this.dpop)===null||r===void 0?void 0:r.calculateThumbprint()),p=((v,_,S,E,b,w,A,C,D)=>Object.assign(Object.assign(Object.assign({client_id:v.clientId},v.authorizationParams),S),{scope:nT(_,S.scope,S.audience),response_type:"code",response_mode:C||"query",state:E,nonce:b,redirect_uri:A||v.authorizationParams.redirect_uri,code_challenge:w,code_challenge_method:"S256",dpop_jkt:D}))(this.options,this.scope,e,s,a,u,e.redirect_uri||this.options.authorizationParams.redirect_uri||i,t?.response_mode,h),y=this._authorizeUrl(p);return{nonce:a,code_verifier:o,scope:p.scope,audience:p.audience||"default",redirect_uri:p.redirect_uri,state:s,url:y}}async loginWithPopup(e,t){var i;if(e=e||{},!(t=t||{}).popup&&(t.popup=(o=>{const c=window.screenX+(window.innerWidth-400)/2,u=window.screenY+(window.innerHeight-600)/2;return window.open(o,"auth0:authorize:popup",`left=${c},top=${u},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!t.popup))throw new mD;const r=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=r.url;const s=await(o=>new Promise(((c,u)=>{let h;const p=setInterval((()=>{o.popup&&o.popup.closed&&(clearInterval(p),clearTimeout(y),window.removeEventListener("message",h,!1),u(new oK(o.popup)))}),1e3),y=setTimeout((()=>{clearInterval(p),u(new aK(o.popup)),window.removeEventListener("message",h,!1)}),1e3*(o.timeoutInSeconds||60));h=function(v){if(v.data&&v.data.type==="authorization_response"){if(clearTimeout(y),clearInterval(p),window.removeEventListener("message",h,!1),o.popup.close(),v.data.response.error)return u(Jr.fromPayload(v.data.response));c(v.data.response)}},window.addEventListener("message",h)})))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(r.state!==s.state)throw new Jr("state_mismatch","Invalid state");const a=((i=e.authorizationParams)===null||i===void 0?void 0:i.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:r.audience,scope:r.scope,code_verifier:r.code_verifier,grant_type:"authorization_code",code:s.code,redirect_uri:r.redirect_uri},{nonceIn:r.nonce,organization:a})}async getUser(){var e;const t=await this._getIdTokenFromCache();return(e=t?.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return(e=t?.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var t;const i=gU(e),{openUrl:r,fragment:s,appState:a}=i,o=uf(i,["openUrl","fragment","appState"]),c=((t=o.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,u=await this._prepareAuthorizeUrl(o.authorizationParams||{}),{url:h}=u,p=uf(u,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},p),{appState:a,response_type:fp.Code}),c&&{organization:c}));const y=s?`${h}#${s}`:h;r?await r(y):window.location.assign(y)}async handleRedirectCallback(e=window.location.href){const t=e.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");const i=this.transactionManager.get();if(!i)throw new Jr("missing_transaction","Invalid state");this.transactionManager.remove();const r=(s=>{s.indexOf("#")>-1&&(s=s.substring(0,s.indexOf("#")));const a=new URLSearchParams(s);return{state:a.get("state"),code:a.get("code")||void 0,connect_code:a.get("connect_code")||void 0,error:a.get("error")||void 0,error_description:a.get("error_description")||void 0}})(t.join(""));return i.response_type===fp.ConnectCode?this._handleConnectAccountRedirectCallback(r,i):this._handleLoginRedirectCallback(r,i)}async _handleLoginRedirectCallback(e,t){const{code:i,state:r,error:s,error_description:a}=e;if(s)throw new pD(s,a||s,r,t.appState);if(!t.code_verifier||t.state&&t.state!==r)throw new Jr("state_mismatch","Invalid state");const o=t.organization,c=t.nonce,u=t.redirect_uri;return await this._requestToken(Object.assign({audience:t.audience,scope:t.scope,code_verifier:t.code_verifier,grant_type:"authorization_code",code:i},u?{redirect_uri:u}:{}),{nonceIn:c,organization:o}),{appState:t.appState,response_type:fp.Code}}async _handleConnectAccountRedirectCallback(e,t){const{connect_code:i,state:r,error:s,error_description:a}=e;if(s)throw new sK(s,a||s,t.connection,r,t.appState);if(!i)throw new Jr("missing_connect_code","Missing connect code");if(!(t.code_verifier&&t.state&&t.auth_session&&t.redirect_uri&&t.state===r))throw new Jr("state_mismatch","Invalid state");const o=await this.myAccountApi.completeAccount({auth_session:t.auth_session,connect_code:i,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier});return Object.assign(Object.assign({},o),{appState:t.appState,response_type:fp.ConnectCode})}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var t,i;const r=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:nT(this.scope,(t=e.authorizationParams)===null||t===void 0?void 0:t.scope,((i=e.authorizationParams)===null||i===void 0?void 0:i.audience)||this.options.authorizationParams.audience)})}),s=await((a,o)=>{let c=NR[o];return c||(c=a().finally((()=>{delete NR[o],c=null})),NR[o]=c),c})((()=>this._getTokenSilently(r)),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return e.detailedResponse?s:s?.access_token}async _getTokenSilently(e){const{cacheMode:t}=e,i=uf(e,["cacheMode"]);if(t!=="off"){const o=await this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId,cacheMode:t});if(o)return o}if(t==="cache-only")return;const r=(s=this.options.clientId,a=i.authorizationParams.audience||"default",`auth0.lock.getTokenSilently.${s}.${a}`);var s,a;if(!await(async(o,c=3)=>{for(let u=0;u<c;u++)if(await o())return!0;return!1})((()=>LR.acquireLock(r,5e3)),10))throw new aI;this.activeLockKeys.add(r),this.activeLockKeys.size===1&&window.addEventListener("pagehide",this._releaseLockOnPageHide);try{if(t!=="off"){const v=await this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId});if(v)return v}const o=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(i):await this._getTokenFromIFrame(i),{id_token:c,token_type:u,access_token:h,oauthTokenScope:p,expires_in:y}=o;return Object.assign(Object.assign({id_token:c,token_type:u,access_token:h},p?{scope:p}:null),{expires_in:y})}finally{await LR.releaseLock(r),this.activeLockKeys.delete(r),this.activeLockKeys.size===0&&window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}async getTokenWithPopup(e={},t={}){var i,r;const s=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:nT(this.scope,(i=e.authorizationParams)===null||i===void 0?void 0:i.scope,((r=e.authorizationParams)===null||r===void 0?void 0:r.audience)||this.options.authorizationParams.audience)})});return t=Object.assign(Object.assign({},rK),t),await this.loginWithPopup(s,t),(await this.cacheManager.get(new vc({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt)).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const t=e.logoutParams||{},{federated:i}=t,r=uf(t,["federated"]),s=i?"&federated":"";return this._url(`/v2/logout?${oI(Object.assign({clientId:e.clientId},r))}`)+s}async logout(e={}){var t;const i=gU(e),{openUrl:r}=i,s=uf(i,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@"),await((t=this.dpop)===null||t===void 0?void 0:t.clear());const a=this._buildLogoutUrl(s);r?await r(a):r!==!1&&window.location.assign(a)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),i=this.cookieStorage.get(this.orgHintCookieName);i&&!t.organization&&(t.organization=i);const{url:r,state:s,nonce:a,code_verifier:o,redirect_uri:c,scope:u,audience:h}=await this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Jr("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const p=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds;let y;try{y=new URL(this.domainUrl).origin}catch{y=this.domainUrl}const v=await((S,E,b=60)=>new Promise(((w,A)=>{const C=window.document.createElement("iframe");C.setAttribute("width","0"),C.setAttribute("height","0"),C.style.display="none";const D=()=>{window.document.body.contains(C)&&(window.document.body.removeChild(C),window.removeEventListener("message",L,!1))};let L;const P=setTimeout((()=>{A(new aI),D()}),1e3*b);L=function(U){if(U.origin!=E||!U.data||U.data.type!=="authorization_response")return;const I=U.source;I&&I.close(),U.data.response.error?A(Jr.fromPayload(U.data.response)):w(U.data.response),clearTimeout(P),window.removeEventListener("message",L,!1),setTimeout(D,2e3)},window.addEventListener("message",L,!1),window.document.body.appendChild(C),C.setAttribute("src",S)})))(r,y,p);if(s!==v.state)throw new Jr("state_mismatch","Invalid state");const _=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:o,code:v.code,grant_type:"authorization_code",redirect_uri:c,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:t.organization});return Object.assign(Object.assign({},_),{scope:u,oauthTokenScope:_.scope,audience:h})}catch(p){throw p.error==="login_required"&&this.logout({openUrl:!1}),p}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new vc({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt);if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new lV(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const i=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,r=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null,s=((h,p,y,v)=>{var _;if(h&&y&&v){if(p.audience!==y)return p.scope;const S=v.split(" "),E=((_=p.scope)===null||_===void 0?void 0:_.split(" "))||[],b=E.every((w=>S.includes(w)));return S.length>=E.length&&b?v:p.scope}return p.scope})(this.options.useMrrt,e.authorizationParams,t?.audience,t?.scope);try{const h=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:i}),r&&{timeout:r}),{scopesToRequest:s});if(h.refresh_token&&this.options.useMrrt&&t?.refresh_token&&await this.cacheManager.updateEntry(t.refresh_token,h.refresh_token),this.options.useMrrt&&(a=t?.audience,o=t?.scope,c=e.authorizationParams.audience,u=e.authorizationParams.scope,(a!==c||!yU(u,o))&&!yU(s,h.scope))){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);await this.cacheManager.remove(this.options.clientId,e.authorizationParams.audience,e.authorizationParams.scope);const p=((y,v)=>{const _=y?.split(" ")||[],S=v?.split(" ")||[];return _.filter((E=>S.indexOf(E)==-1)).join(",")})(s,h.scope);throw new gD(e.authorizationParams.audience||"default",p)}return Object.assign(Object.assign({},h),{scope:e.authorizationParams.scope,oauthTokenScope:h.scope,audience:e.authorizationParams.audience||"default"})}catch(h){if((h.message.indexOf("Missing Refresh Token")>-1||h.message&&h.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw h}var a,o,c,u}async _saveEntryInCache(e){const{id_token:t,decodedToken:i}=e,r=uf(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:i}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(r)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",t=this.scope[e],i=await this.cacheManager.getIdToken(new vc({clientId:this.options.clientId,audience:e,scope:t})),r=this.userCache.get("@@user@@");return i&&i.id_token===r?.id_token?r:(this.userCache.set("@@user@@",i),i)}async _getEntryFromCache({scope:e,audience:t,clientId:i,cacheMode:r}){const s=await this.cacheManager.get(new vc({scope:e,audience:t,clientId:i}),60,this.options.useMrrt,r);if(s&&s.access_token){const{token_type:a,access_token:o,oauthTokenScope:c,expires_in:u}=s,h=await this._getIdTokenFromCache();return h&&Object.assign(Object.assign({id_token:h.id_token,token_type:a||"Bearer",access_token:o},c?{scope:c}:null),{expires_in:u})}}async _requestToken(e,t){const{nonceIn:i,organization:r,scopesToRequest:s}=t||{},a=await wK(Object.assign(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs,useMrrt:this.options.useMrrt,dpop:this.dpop},e),{scope:s||e.scope}),this.worker),o=await this._verifyIdToken(a.id_token,i,r);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},a),{decodedToken:o,scope:e.scope,audience:e.audience||"default"}),a.scope?{oauthTokenScope:a.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(r||o.claims.org_id),Object.assign(Object.assign({},a),{decodedToken:o})}async exchangeToken(e){return this._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:e.subject_token,subject_token_type:e.subject_token_type,scope:nT(this.scope,e.scope,e.audience||this.options.authorizationParams.audience),audience:e.audience||this.options.authorizationParams.audience,organization:e.organization||this.options.authorizationParams.organization})}_assertDpop(e){if(!e)throw new Error("`useDpop` option must be enabled before using DPoP.")}getDpopNonce(e){return this._assertDpop(this.dpop),this.dpop.getNonce(e)}setDpopNonce(e,t){return this._assertDpop(this.dpop),this.dpop.setNonce(e,t)}generateDpopProof(e){return this._assertDpop(this.dpop),this.dpop.generateProof(e)}createFetcher(e={}){return new FK(e,{isDpopEnabled:()=>!!this.options.useDpop,getAccessToken:t=>{var i;return this.getTokenSilently({authorizationParams:{scope:(i=t?.scope)===null||i===void 0?void 0:i.join(" "),audience:t?.audience},detailedResponse:!0})},getDpopNonce:()=>this.getDpopNonce(e.dpopNonceId),setDpopNonce:t=>this.setDpopNonce(t,e.dpopNonceId),generateDpopProof:t=>this.generateDpopProof(t)})}async connectAccountWithRedirect(e){const{openUrl:t,appState:i,connection:r,scopes:s,authorization_params:a,redirectUri:o=this.options.authorizationParams.redirect_uri||window.location.origin}=e;if(!r)throw new Error("connection is required");const c=PR(H1()),u=H1(),h=await lU(u),p=uU(h),{connect_uri:y,connect_params:v,auth_session:_}=await this.myAccountApi.connectAccount({connection:r,scopes:s,redirect_uri:o,state:c,code_challenge:p,code_challenge_method:"S256",authorization_params:a});this.transactionManager.create({state:c,code_verifier:u,auth_session:_,redirect_uri:o,appState:i,connection:r,response_type:fp.ConnectCode});const S=new URL(y);S.searchParams.set("ticket",v.ticket),t?await t(S.toString()):window.location.assign(S)}}var _V={isAuthenticated:!1,isLoading:!0,error:void 0,user:void 0},Eo=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},jK=Qs(Qs({},_V),{buildAuthorizeUrl:Eo,buildLogoutUrl:Eo,getAccessTokenSilently:Eo,getAccessTokenWithPopup:Eo,getIdTokenClaims:Eo,exchangeToken:Eo,loginWithRedirect:Eo,loginWithPopup:Eo,connectAccountWithRedirect:Eo,logout:Eo,handleRedirectCallback:Eo,getDpopNonce:Eo,setDpopNonce:Eo,generateDpopProof:Eo,createFetcher:Eo}),bV=H.createContext(jK),vU=(function(n){tK(e,n);function e(t,i){var r=n.call(this,i??t)||this;return r.error=t,r.error_description=i,Object.setPrototypeOf(r,e.prototype),r}return e})(Error),GK=/[?&](?:connect_)?code=[^&]+/,qK=/[?&]state=[^&]+/,WK=/[?&]error=[^&]+/,$K=function(n){return n===void 0&&(n=window.location.search),(GK.test(n)||WK.test(n))&&qK.test(n)},xV=function(n){return function(e){if(e instanceof Error)return e;if(e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"){if("error_description"in e&&typeof e.error_description=="string"){var t=e;return new vU(t.error,t.error_description)}var i=e;return new vU(i.error)}return new Error(n)}},_U=xV("Login failed"),iT=xV("Get access token failed"),SV=function(n){var e,t;n?.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),n.authorizationParams=(e=n.authorizationParams)!==null&&e!==void 0?e:{},n.authorizationParams.redirect_uri=n.redirectUri,delete n.redirectUri),!((t=n?.authorizationParams)===null||t===void 0)&&t.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),n.authorizationParams.redirect_uri=n.authorizationParams.redirectUri,delete n.authorizationParams.redirectUri)},XK=function(n,e){switch(e.type){case"LOGIN_POPUP_STARTED":return Qs(Qs({},n),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return Qs(Qs({},n),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return n.user===e.user?n:Qs(Qs({},n),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return Qs(Qs({},n),{isAuthenticated:!1,user:void 0});case"ERROR":return Qs(Qs({},n),{isLoading:!1,error:e.error})}},YK=function(n){return SV(n),Qs(Qs({},n),{auth0Client:{name:"auth0-react",version:"2.11.0"}})},KK=function(n){var e;window.history.replaceState({},document.title,(e=n.returnTo)!==null&&e!==void 0?e:window.location.pathname)},ZK=function(n){var e=n.children,t=n.skipRedirectCallback,i=n.onRedirectCallback,r=i===void 0?KK:i,s=n.context,a=s===void 0?bV:s,o=oU(n,["children","skipRedirectCallback","onRedirectCallback","context"]),c=H.useState(function(){return new HK(YK(o))})[0],u=H.useReducer(XK,_V),h=u[0],p=u[1],y=H.useRef(!1),v=H.useCallback(function(z){return p({type:"ERROR",error:z}),z},[]);H.useEffect(function(){y.current||(y.current=!0,(function(){return jm(void 0,void 0,void 0,function(){var z,V,K,ee,q,$,Q;return Gm(this,function(re){switch(re.label){case 0:return re.trys.push([0,7,,8]),z=void 0,$K()&&!t?[4,c.handleRedirectCallback()]:[3,3];case 1:return V=re.sent(),K=V.appState,ee=K===void 0?{}:K,q=V.response_type,$=oU(V,["appState","response_type"]),[4,c.getUser()];case 2:return z=re.sent(),ee.response_type=q,q===fp.ConnectCode&&(ee.connectedAccount=$),r(ee,z),[3,6];case 3:return[4,c.checkSession()];case 4:return re.sent(),[4,c.getUser()];case 5:z=re.sent(),re.label=6;case 6:return p({type:"INITIALISED",user:z}),[3,8];case 7:return Q=re.sent(),v(_U(Q)),[3,8];case 8:return[2]}})})})())},[c,r,t,v]);var _=H.useCallback(function(z){return SV(z),c.loginWithRedirect(z)},[c]),S=H.useCallback(function(z,V){return jm(void 0,void 0,void 0,function(){var K,ee;return Gm(this,function(q){switch(q.label){case 0:p({type:"LOGIN_POPUP_STARTED"}),q.label=1;case 1:return q.trys.push([1,3,,4]),[4,c.loginWithPopup(z,V)];case 2:return q.sent(),[3,4];case 3:return K=q.sent(),v(_U(K)),[2];case 4:return[4,c.getUser()];case 5:return ee=q.sent(),p({type:"LOGIN_POPUP_COMPLETE",user:ee}),[2]}})})},[c,v]),E=H.useCallback(function(){for(var z=[],V=0;V<arguments.length;V++)z[V]=arguments[V];return jm(void 0,nK([],z),void 0,function(K){return K===void 0&&(K={}),Gm(this,function(ee){switch(ee.label){case 0:return[4,c.logout(K)];case 1:return ee.sent(),(K.openUrl||K.openUrl===!1)&&p({type:"LOGOUT"}),[2]}})})},[c]),b=H.useCallback(function(z){return jm(void 0,void 0,void 0,function(){var V,K,ee,q;return Gm(this,function($){switch($.label){case 0:return $.trys.push([0,2,3,5]),[4,c.getTokenSilently(z)];case 1:return V=$.sent(),[3,5];case 2:throw K=$.sent(),iT(K);case 3:return ee=p,q={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,c.getUser()];case 4:return ee.apply(void 0,[(q.user=$.sent(),q)]),[7];case 5:return[2,V]}})})},[c]),w=H.useCallback(function(z,V){return jm(void 0,void 0,void 0,function(){var K,ee,q,$;return Gm(this,function(Q){switch(Q.label){case 0:return Q.trys.push([0,2,3,5]),[4,c.getTokenWithPopup(z,V)];case 1:return K=Q.sent(),[3,5];case 2:throw ee=Q.sent(),iT(ee);case 3:return q=p,$={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,c.getUser()];case 4:return q.apply(void 0,[($.user=Q.sent(),$)]),[7];case 5:return[2,K]}})})},[c]),A=H.useCallback(function(z){return c.connectAccountWithRedirect(z)},[c]),C=H.useCallback(function(){return c.getIdTokenClaims()},[c]),D=H.useCallback(function(z){return jm(void 0,void 0,void 0,function(){var V,K,ee,q;return Gm(this,function($){switch($.label){case 0:return $.trys.push([0,2,3,5]),[4,c.exchangeToken(z)];case 1:return V=$.sent(),[3,5];case 2:throw K=$.sent(),iT(K);case 3:return ee=p,q={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,c.getUser()];case 4:return ee.apply(void 0,[(q.user=$.sent(),q)]),[7];case 5:return[2,V]}})})},[c]),L=H.useCallback(function(z){return jm(void 0,void 0,void 0,function(){var V,K,ee;return Gm(this,function(q){switch(q.label){case 0:return q.trys.push([0,2,3,5]),[4,c.handleRedirectCallback(z)];case 1:return[2,q.sent()];case 2:throw V=q.sent(),iT(V);case 3:return K=p,ee={type:"HANDLE_REDIRECT_COMPLETE"},[4,c.getUser()];case 4:return K.apply(void 0,[(ee.user=q.sent(),ee)]),[7];case 5:return[2]}})})},[c]),P=H.useCallback(function(z){return c.getDpopNonce(z)},[c]),U=H.useCallback(function(z,V){return c.setDpopNonce(z,V)},[c]),I=H.useCallback(function(z){return c.generateDpopProof(z)},[c]),N=H.useCallback(function(z){return c.createFetcher(z)},[c]),F=H.useMemo(function(){return Qs(Qs({},h),{getAccessTokenSilently:b,getAccessTokenWithPopup:w,getIdTokenClaims:C,exchangeToken:D,loginWithRedirect:_,loginWithPopup:S,connectAccountWithRedirect:A,logout:E,handleRedirectCallback:L,getDpopNonce:P,setDpopNonce:U,generateDpopProof:I,createFetcher:N})},[h,b,w,C,D,_,S,A,E,L,P,U,I,N]);return ar.createElement(a.Provider,{value:F},e)},QK=function(n){return n===void 0&&(n=bV),H.useContext(n)};const bU=n=>{let e;const t=new Set,i=(u,h)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const y=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(v=>v(e,y))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>c,subscribe:u=>(t.add(u),()=>t.delete(u))},c=e=n(i,r,o);return o},EV=(n=>n?bU(n):bU),JK=n=>n;function eZ(n,e=JK){const t=ar.useSyncExternalStore(n.subscribe,ar.useCallback(()=>e(n.getState()),[n,e]),ar.useCallback(()=>e(n.getInitialState()),[n,e]));return ar.useDebugValue(t),t}const xU=n=>{const e=EV(n),t=i=>eZ(e,i);return Object.assign(t,e),t},tZ=(n=>n?xU(n):xU);function S2(n="debug",...e){}const nZ=()=>{};var SU={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},iZ=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],a=n[t++],o=n[t++],c=((r&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},wV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,o=a?n[r+1]:0,c=r+2<n.length,u=c?n[r+2]:0,h=s>>2,p=(s&3)<<4|o>>4;let y=(o&15)<<2|u>>6,v=u&63;c||(v=64,a||(y=64)),i.push(t[h],t[p],t[y],t[v])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(TV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iZ(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],o=r<n.length?t[n.charAt(r)]:0;++r;const u=r<n.length?t[n.charAt(r)]:64;++r;const p=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||o==null||u==null||p==null)throw new rZ;const y=s<<2|o>>4;if(i.push(y),u!==64){const v=o<<4&240|u>>2;if(i.push(v),p!==64){const _=u<<6&192|p;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class rZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sZ=function(n){const e=TV(n);return wV.encodeByteArray(e,!0)},E2=function(n){return sZ(n).replace(/\./g,"")},CV=function(n){try{return wV.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oZ=()=>aZ().__FIREBASE_DEFAULTS__,lZ=()=>{if(typeof process>"u"||typeof SU>"u")return;const n=SU.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cZ=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&CV(n[1]);return e&&JSON.parse(e)},aA=()=>{try{return nZ()||oZ()||lZ()||cZ()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},AV=n=>{var e,t;return(t=(e=aA())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},uZ=n=>{const e=AV(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},MV=()=>{var n;return(n=aA())===null||n===void 0?void 0:n.config},RV=n=>{var e;return(e=aA())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OV(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hZ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[E2(JSON.stringify(t)),E2(JSON.stringify(a)),""].join(".")}const jb={};function dZ(){const n={prod:[],emulator:[]};for(const e of Object.keys(jb))jb[e]?n.emulator.push(e):n.prod.push(e);return n}function pZ(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let EU=!1;function IV(n,e){if(typeof window>"u"||typeof document>"u"||!l_(window.location.host)||jb[n]===e||jb[n]||EU)return;jb[n]=e;function t(y){return`__firebase__banner__${y}`}const i="__firebase__banner",s=dZ().prod.length>0;function a(){const y=document.getElementById(i);y&&y.remove()}function o(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function u(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{EU=!0,a()},y}function h(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=pZ(i),v=t("text"),_=document.getElementById(v)||document.createElement("span"),S=t("learnmore"),E=document.getElementById(S)||document.createElement("a"),b=t("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const A=y.element;o(A),h(E,S);const C=u();c(w,b),A.append(w,_,E,C),document.body.appendChild(A)}s?(_.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eo())}function gZ(){var n;const e=(n=aA())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yZ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vZ(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _Z(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bZ(){const n=eo();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xZ(){return!gZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SZ(){try{return typeof indexedDB=="object"}catch{return!1}}function EZ(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TZ="FirebaseError";class rd extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=TZ,Object.setPrototypeOf(this,rd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pS.prototype.create)}}class pS{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?wZ(s,i):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new rd(r,o,i)}}function wZ(n,e){return n.replace(CZ,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const CZ=/\{\$([^}]+)}/g;function AZ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gg(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],a=e[r];if(TU(s)&&TU(a)){if(!Gg(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function TU(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function MZ(n,e){const t=new RZ(n,e);return t.subscribe.bind(t)}class RZ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");OZ(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=UR),r.error===void 0&&(r.error=UR),r.complete===void 0&&(r.complete=UR);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OZ(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function UR(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(n){return n&&n._delegate?n._delegate:n}class qg{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IZ=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new fZ;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DZ(e))try{this.getOrInitializeService({instanceIdentifier:pg})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=pg){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pg){return this.instances.has(e)}getOptions(e=pg){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&a.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:PZ(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=pg){return this.component?this.component.multipleInstances?e:pg:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PZ(n){return n===pg?void 0:n}function DZ(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IZ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ri||(ri={}));const LZ={debug:ri.DEBUG,verbose:ri.VERBOSE,info:ri.INFO,warn:ri.WARN,error:ri.ERROR,silent:ri.SILENT},UZ=ri.INFO,kZ={[ri.DEBUG]:"log",[ri.VERBOSE]:"log",[ri.INFO]:"info",[ri.WARN]:"warn",[ri.ERROR]:"error"},zZ=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=kZ[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let yD=class{constructor(e){this.name=e,this._logLevel=UZ,this._logHandler=zZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ri))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ri.DEBUG,...e),this._logHandler(this,ri.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ri.VERBOSE,...e),this._logHandler(this,ri.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ri.INFO,...e),this._logHandler(this,ri.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ri.WARN,...e),this._logHandler(this,ri.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ri.ERROR,...e),this._logHandler(this,ri.ERROR,...e)}};const BZ=(n,e)=>e.some(t=>n instanceof t);let wU,CU;function FZ(){return wU||(wU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VZ(){return CU||(CU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PV=new WeakMap,cI=new WeakMap,DV=new WeakMap,kR=new WeakMap,vD=new WeakMap;function HZ(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Ep(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&PV.set(t,n)}).catch(()=>{}),vD.set(e,n),e}function jZ(n){if(cI.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});cI.set(n,e)}let uI={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cI.get(n);if(e==="objectStoreNames")return n.objectStoreNames||DV.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ep(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function GZ(n){uI=n(uI)}function qZ(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(zR(this),e,...t);return DV.set(i,e.sort?e.sort():[e]),Ep(i)}:VZ().includes(n)?function(...e){return n.apply(zR(this),e),Ep(PV.get(this))}:function(...e){return Ep(n.apply(zR(this),e))}}function WZ(n){return typeof n=="function"?qZ(n):(n instanceof IDBTransaction&&jZ(n),BZ(n,FZ())?new Proxy(n,uI):n)}function Ep(n){if(n instanceof IDBRequest)return HZ(n);if(kR.has(n))return kR.get(n);const e=WZ(n);return e!==n&&(kR.set(n,e),vD.set(e,n)),e}const zR=n=>vD.get(n);function $Z(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(n,e),o=Ep(a);return i&&a.addEventListener("upgradeneeded",c=>{i(Ep(a.result),c.oldVersion,c.newVersion,Ep(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const XZ=["get","getKey","getAll","getAllKeys","count"],YZ=["put","add","delete","clear"],BR=new Map;function AU(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(BR.get(e))return BR.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=YZ.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||XZ.includes(t)))return;const s=async function(a,...o){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),r&&c.done]))[0]};return BR.set(e,s),s}GZ(n=>({...n,get:(e,t,i)=>AU(e,t)||n.get(e,t,i),has:(e,t)=>!!AU(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ZZ(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function ZZ(n){const e=n.getComponent();return e?.type==="VERSION"}const fI="@firebase/app",MU="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new yD("@firebase/app"),QZ="@firebase/app-compat",JZ="@firebase/analytics-compat",eQ="@firebase/analytics",tQ="@firebase/app-check-compat",nQ="@firebase/app-check",iQ="@firebase/auth",rQ="@firebase/auth-compat",sQ="@firebase/database",aQ="@firebase/data-connect",oQ="@firebase/database-compat",lQ="@firebase/functions",cQ="@firebase/functions-compat",uQ="@firebase/installations",fQ="@firebase/installations-compat",hQ="@firebase/messaging",dQ="@firebase/messaging-compat",pQ="@firebase/performance",mQ="@firebase/performance-compat",gQ="@firebase/remote-config",yQ="@firebase/remote-config-compat",vQ="@firebase/storage",_Q="@firebase/storage-compat",bQ="@firebase/firestore",xQ="@firebase/ai",SQ="@firebase/firestore-compat",EQ="firebase",TQ="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="[DEFAULT]",wQ={[fI]:"fire-core",[QZ]:"fire-core-compat",[eQ]:"fire-analytics",[JZ]:"fire-analytics-compat",[nQ]:"fire-app-check",[tQ]:"fire-app-check-compat",[iQ]:"fire-auth",[rQ]:"fire-auth-compat",[sQ]:"fire-rtdb",[aQ]:"fire-data-connect",[oQ]:"fire-rtdb-compat",[lQ]:"fire-fn",[cQ]:"fire-fn-compat",[uQ]:"fire-iid",[fQ]:"fire-iid-compat",[hQ]:"fire-fcm",[dQ]:"fire-fcm-compat",[pQ]:"fire-perf",[mQ]:"fire-perf-compat",[gQ]:"fire-rc",[yQ]:"fire-rc-compat",[vQ]:"fire-gcs",[_Q]:"fire-gcs-compat",[bQ]:"fire-fst",[SQ]:"fire-fst-compat",[xQ]:"fire-vertex","fire-js":"fire-js",[EQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Map,CQ=new Map,dI=new Map;function RU(n,e){try{n.container.addComponent(e)}catch(t){jh.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function T0(n){const e=n.name;if(dI.has(e))return jh.debug(`There were multiple attempts to register component ${e}.`),!1;dI.set(e,n);for(const t of T2.values())RU(t,n);for(const t of CQ.values())RU(t,n);return!0}function _D(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function df(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tp=new pS("app","Firebase",AQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qg("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tp.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=TQ;function NV(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:hI,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Tp.create("bad-app-name",{appName:String(r)});if(t||(t=MV()),!t)throw Tp.create("no-options");const s=T2.get(r);if(s){if(Gg(t,s.options)&&Gg(i,s.config))return s;throw Tp.create("duplicate-app",{appName:r})}const a=new NZ(r);for(const c of dI.values())a.addComponent(c);const o=new MQ(t,i,a);return T2.set(r,o),o}function LV(n=hI){const e=T2.get(n);if(!e&&n===hI&&MV())return NV();if(!e)throw Tp.create("no-app",{appName:n});return e}function wp(n,e,t){var i;let r=(i=wQ[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jh.warn(o.join(" "));return}T0(new qg(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ="firebase-heartbeat-database",OQ=1,bx="firebase-heartbeat-store";let FR=null;function UV(){return FR||(FR=$Z(RQ,OQ,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bx)}catch(t){console.warn(t)}}}}).catch(n=>{throw Tp.create("idb-open",{originalErrorMessage:n.message})})),FR}async function IQ(n){try{const t=(await UV()).transaction(bx),i=await t.objectStore(bx).get(kV(n));return await t.done,i}catch(e){if(e instanceof rd)jh.warn(e.message);else{const t=Tp.create("idb-get",{originalErrorMessage:e?.message});jh.warn(t.message)}}}async function OU(n,e){try{const i=(await UV()).transaction(bx,"readwrite");await i.objectStore(bx).put(e,kV(n)),await i.done}catch(t){if(t instanceof rd)jh.warn(t.message);else{const i=Tp.create("idb-set",{originalErrorMessage:t?.message});jh.warn(i.message)}}}function kV(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ=1024,DQ=30;class NQ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new UQ(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IU();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>DQ){const a=kQ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){jh.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=IU(),{heartbeatsToSend:i,unsentEntries:r}=LQ(this._heartbeatsCache.heartbeats),s=E2(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return jh.warn(t),""}}}function IU(){return new Date().toISOString().substring(0,10)}function LQ(n,e=PQ){const t=[];let i=n.slice();for(const r of n){const s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),PU(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),PU(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class UQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SZ()?EZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await IQ(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return OU(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return OU(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function PU(n){return E2(JSON.stringify({version:2,heartbeats:n})).length}function kQ(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zQ(n){T0(new qg("platform-logger",e=>new KZ(e),"PRIVATE")),T0(new qg("heartbeat",e=>new NQ(e),"PRIVATE")),wp(fI,MU,n),wp(fI,MU,"esm2017"),wp("fire-js","")}zQ("");var DU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cp,zV;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,U){function I(){}I.prototype=U.prototype,P.D=U.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(N,F,z){for(var V=Array(arguments.length-2),K=2;K<arguments.length;K++)V[K-2]=arguments[K];return U.prototype[F].apply(N,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(P,U,I){I||(I=0);var N=Array(16);if(typeof U=="string")for(var F=0;16>F;++F)N[F]=U.charCodeAt(I++)|U.charCodeAt(I++)<<8|U.charCodeAt(I++)<<16|U.charCodeAt(I++)<<24;else for(F=0;16>F;++F)N[F]=U[I++]|U[I++]<<8|U[I++]<<16|U[I++]<<24;U=P.g[0],I=P.g[1],F=P.g[2];var z=P.g[3],V=U+(z^I&(F^z))+N[0]+3614090360&4294967295;U=I+(V<<7&4294967295|V>>>25),V=z+(F^U&(I^F))+N[1]+3905402710&4294967295,z=U+(V<<12&4294967295|V>>>20),V=F+(I^z&(U^I))+N[2]+606105819&4294967295,F=z+(V<<17&4294967295|V>>>15),V=I+(U^F&(z^U))+N[3]+3250441966&4294967295,I=F+(V<<22&4294967295|V>>>10),V=U+(z^I&(F^z))+N[4]+4118548399&4294967295,U=I+(V<<7&4294967295|V>>>25),V=z+(F^U&(I^F))+N[5]+1200080426&4294967295,z=U+(V<<12&4294967295|V>>>20),V=F+(I^z&(U^I))+N[6]+2821735955&4294967295,F=z+(V<<17&4294967295|V>>>15),V=I+(U^F&(z^U))+N[7]+4249261313&4294967295,I=F+(V<<22&4294967295|V>>>10),V=U+(z^I&(F^z))+N[8]+1770035416&4294967295,U=I+(V<<7&4294967295|V>>>25),V=z+(F^U&(I^F))+N[9]+2336552879&4294967295,z=U+(V<<12&4294967295|V>>>20),V=F+(I^z&(U^I))+N[10]+4294925233&4294967295,F=z+(V<<17&4294967295|V>>>15),V=I+(U^F&(z^U))+N[11]+2304563134&4294967295,I=F+(V<<22&4294967295|V>>>10),V=U+(z^I&(F^z))+N[12]+1804603682&4294967295,U=I+(V<<7&4294967295|V>>>25),V=z+(F^U&(I^F))+N[13]+4254626195&4294967295,z=U+(V<<12&4294967295|V>>>20),V=F+(I^z&(U^I))+N[14]+2792965006&4294967295,F=z+(V<<17&4294967295|V>>>15),V=I+(U^F&(z^U))+N[15]+1236535329&4294967295,I=F+(V<<22&4294967295|V>>>10),V=U+(F^z&(I^F))+N[1]+4129170786&4294967295,U=I+(V<<5&4294967295|V>>>27),V=z+(I^F&(U^I))+N[6]+3225465664&4294967295,z=U+(V<<9&4294967295|V>>>23),V=F+(U^I&(z^U))+N[11]+643717713&4294967295,F=z+(V<<14&4294967295|V>>>18),V=I+(z^U&(F^z))+N[0]+3921069994&4294967295,I=F+(V<<20&4294967295|V>>>12),V=U+(F^z&(I^F))+N[5]+3593408605&4294967295,U=I+(V<<5&4294967295|V>>>27),V=z+(I^F&(U^I))+N[10]+38016083&4294967295,z=U+(V<<9&4294967295|V>>>23),V=F+(U^I&(z^U))+N[15]+3634488961&4294967295,F=z+(V<<14&4294967295|V>>>18),V=I+(z^U&(F^z))+N[4]+3889429448&4294967295,I=F+(V<<20&4294967295|V>>>12),V=U+(F^z&(I^F))+N[9]+568446438&4294967295,U=I+(V<<5&4294967295|V>>>27),V=z+(I^F&(U^I))+N[14]+3275163606&4294967295,z=U+(V<<9&4294967295|V>>>23),V=F+(U^I&(z^U))+N[3]+4107603335&4294967295,F=z+(V<<14&4294967295|V>>>18),V=I+(z^U&(F^z))+N[8]+1163531501&4294967295,I=F+(V<<20&4294967295|V>>>12),V=U+(F^z&(I^F))+N[13]+2850285829&4294967295,U=I+(V<<5&4294967295|V>>>27),V=z+(I^F&(U^I))+N[2]+4243563512&4294967295,z=U+(V<<9&4294967295|V>>>23),V=F+(U^I&(z^U))+N[7]+1735328473&4294967295,F=z+(V<<14&4294967295|V>>>18),V=I+(z^U&(F^z))+N[12]+2368359562&4294967295,I=F+(V<<20&4294967295|V>>>12),V=U+(I^F^z)+N[5]+4294588738&4294967295,U=I+(V<<4&4294967295|V>>>28),V=z+(U^I^F)+N[8]+2272392833&4294967295,z=U+(V<<11&4294967295|V>>>21),V=F+(z^U^I)+N[11]+1839030562&4294967295,F=z+(V<<16&4294967295|V>>>16),V=I+(F^z^U)+N[14]+4259657740&4294967295,I=F+(V<<23&4294967295|V>>>9),V=U+(I^F^z)+N[1]+2763975236&4294967295,U=I+(V<<4&4294967295|V>>>28),V=z+(U^I^F)+N[4]+1272893353&4294967295,z=U+(V<<11&4294967295|V>>>21),V=F+(z^U^I)+N[7]+4139469664&4294967295,F=z+(V<<16&4294967295|V>>>16),V=I+(F^z^U)+N[10]+3200236656&4294967295,I=F+(V<<23&4294967295|V>>>9),V=U+(I^F^z)+N[13]+681279174&4294967295,U=I+(V<<4&4294967295|V>>>28),V=z+(U^I^F)+N[0]+3936430074&4294967295,z=U+(V<<11&4294967295|V>>>21),V=F+(z^U^I)+N[3]+3572445317&4294967295,F=z+(V<<16&4294967295|V>>>16),V=I+(F^z^U)+N[6]+76029189&4294967295,I=F+(V<<23&4294967295|V>>>9),V=U+(I^F^z)+N[9]+3654602809&4294967295,U=I+(V<<4&4294967295|V>>>28),V=z+(U^I^F)+N[12]+3873151461&4294967295,z=U+(V<<11&4294967295|V>>>21),V=F+(z^U^I)+N[15]+530742520&4294967295,F=z+(V<<16&4294967295|V>>>16),V=I+(F^z^U)+N[2]+3299628645&4294967295,I=F+(V<<23&4294967295|V>>>9),V=U+(F^(I|~z))+N[0]+4096336452&4294967295,U=I+(V<<6&4294967295|V>>>26),V=z+(I^(U|~F))+N[7]+1126891415&4294967295,z=U+(V<<10&4294967295|V>>>22),V=F+(U^(z|~I))+N[14]+2878612391&4294967295,F=z+(V<<15&4294967295|V>>>17),V=I+(z^(F|~U))+N[5]+4237533241&4294967295,I=F+(V<<21&4294967295|V>>>11),V=U+(F^(I|~z))+N[12]+1700485571&4294967295,U=I+(V<<6&4294967295|V>>>26),V=z+(I^(U|~F))+N[3]+2399980690&4294967295,z=U+(V<<10&4294967295|V>>>22),V=F+(U^(z|~I))+N[10]+4293915773&4294967295,F=z+(V<<15&4294967295|V>>>17),V=I+(z^(F|~U))+N[1]+2240044497&4294967295,I=F+(V<<21&4294967295|V>>>11),V=U+(F^(I|~z))+N[8]+1873313359&4294967295,U=I+(V<<6&4294967295|V>>>26),V=z+(I^(U|~F))+N[15]+4264355552&4294967295,z=U+(V<<10&4294967295|V>>>22),V=F+(U^(z|~I))+N[6]+2734768916&4294967295,F=z+(V<<15&4294967295|V>>>17),V=I+(z^(F|~U))+N[13]+1309151649&4294967295,I=F+(V<<21&4294967295|V>>>11),V=U+(F^(I|~z))+N[4]+4149444226&4294967295,U=I+(V<<6&4294967295|V>>>26),V=z+(I^(U|~F))+N[11]+3174756917&4294967295,z=U+(V<<10&4294967295|V>>>22),V=F+(U^(z|~I))+N[2]+718787259&4294967295,F=z+(V<<15&4294967295|V>>>17),V=I+(z^(F|~U))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+U&4294967295,P.g[1]=P.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,P.g[2]=P.g[2]+F&4294967295,P.g[3]=P.g[3]+z&4294967295}i.prototype.u=function(P,U){U===void 0&&(U=P.length);for(var I=U-this.blockSize,N=this.B,F=this.h,z=0;z<U;){if(F==0)for(;z<=I;)r(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<U;)if(N[F++]=P.charCodeAt(z++),F==this.blockSize){r(this,N),F=0;break}}else for(;z<U;)if(N[F++]=P[z++],F==this.blockSize){r(this,N),F=0;break}}this.h=F,this.o+=U},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var U=1;U<P.length-8;++U)P[U]=0;var I=8*this.o;for(U=P.length-8;U<P.length;++U)P[U]=I&255,I/=256;for(this.u(P),P=Array(16),U=I=0;4>U;++U)for(var N=0;32>N;N+=8)P[I++]=this.g[U]>>>N&255;return P};function s(P,U){var I=o;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=U(P)}function a(P,U){this.h=U;for(var I=[],N=!0,F=P.length-1;0<=F;F--){var z=P[F]|0;N&&z==U||(I[F]=z,N=!1)}this.g=I}var o={};function c(P){return-128<=P&&128>P?s(P,function(U){return new a([U|0],0>U?-1:0)}):new a([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return p;if(0>P)return E(u(-P));for(var U=[],I=1,N=0;P>=I;N++)U[N]=P/I|0,I*=4294967296;return new a(U,0)}function h(P,U){if(P.length==0)throw Error("number format error: empty string");if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(P.charAt(0)=="-")return E(h(P.substring(1),U));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(U,8)),N=p,F=0;F<P.length;F+=8){var z=Math.min(8,P.length-F),V=parseInt(P.substring(F,F+z),U);8>z?(z=u(Math.pow(U,z)),N=N.j(z).add(u(V))):(N=N.j(I),N=N.add(u(V)))}return N}var p=c(0),y=c(1),v=c(16777216);n=a.prototype,n.m=function(){if(S(this))return-E(this).m();for(var P=0,U=1,I=0;I<this.g.length;I++){var N=this.i(I);P+=(0<=N?N:4294967296+N)*U,U*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(_(this))return"0";if(S(this))return"-"+E(this).toString(P);for(var U=u(Math.pow(P,6)),I=this,N="";;){var F=C(I,U).g;I=b(I,F.j(U));var z=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=F,_(I))return z+N;for(;6>z.length;)z="0"+z;N=z+N}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function _(P){if(P.h!=0)return!1;for(var U=0;U<P.g.length;U++)if(P.g[U]!=0)return!1;return!0}function S(P){return P.h==-1}n.l=function(P){return P=b(this,P),S(P)?-1:_(P)?0:1};function E(P){for(var U=P.g.length,I=[],N=0;N<U;N++)I[N]=~P.g[N];return new a(I,~P.h).add(y)}n.abs=function(){return S(this)?E(this):this},n.add=function(P){for(var U=Math.max(this.g.length,P.g.length),I=[],N=0,F=0;F<=U;F++){var z=N+(this.i(F)&65535)+(P.i(F)&65535),V=(z>>>16)+(this.i(F)>>>16)+(P.i(F)>>>16);N=V>>>16,z&=65535,V&=65535,I[F]=V<<16|z}return new a(I,I[I.length-1]&-2147483648?-1:0)};function b(P,U){return P.add(E(U))}n.j=function(P){if(_(this)||_(P))return p;if(S(this))return S(P)?E(this).j(E(P)):E(E(this).j(P));if(S(P))return E(this.j(E(P)));if(0>this.l(v)&&0>P.l(v))return u(this.m()*P.m());for(var U=this.g.length+P.g.length,I=[],N=0;N<2*U;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var F=0;F<P.g.length;F++){var z=this.i(N)>>>16,V=this.i(N)&65535,K=P.i(F)>>>16,ee=P.i(F)&65535;I[2*N+2*F]+=V*ee,w(I,2*N+2*F),I[2*N+2*F+1]+=z*ee,w(I,2*N+2*F+1),I[2*N+2*F+1]+=V*K,w(I,2*N+2*F+1),I[2*N+2*F+2]+=z*K,w(I,2*N+2*F+2)}for(N=0;N<U;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=U;N<2*U;N++)I[N]=0;return new a(I,0)};function w(P,U){for(;(P[U]&65535)!=P[U];)P[U+1]+=P[U]>>>16,P[U]&=65535,U++}function A(P,U){this.g=P,this.h=U}function C(P,U){if(_(U))throw Error("division by zero");if(_(P))return new A(p,p);if(S(P))return U=C(E(P),U),new A(E(U.g),E(U.h));if(S(U))return U=C(P,E(U)),new A(E(U.g),U.h);if(30<P.g.length){if(S(P)||S(U))throw Error("slowDivide_ only works with positive integers.");for(var I=y,N=U;0>=N.l(P);)I=D(I),N=D(N);var F=L(I,1),z=L(N,1);for(N=L(N,2),I=L(I,2);!_(N);){var V=z.add(N);0>=V.l(P)&&(F=F.add(I),z=V),N=L(N,1),I=L(I,1)}return U=b(P,F.j(U)),new A(F,U)}for(F=p;0<=P.l(U);){for(I=Math.max(1,Math.floor(P.m()/U.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),z=u(I),V=z.j(U);S(V)||0<V.l(P);)I-=N,z=u(I),V=z.j(U);_(z)&&(z=y),F=F.add(z),P=b(P,V)}return new A(F,P)}n.A=function(P){return C(this,P).h},n.and=function(P){for(var U=Math.max(this.g.length,P.g.length),I=[],N=0;N<U;N++)I[N]=this.i(N)&P.i(N);return new a(I,this.h&P.h)},n.or=function(P){for(var U=Math.max(this.g.length,P.g.length),I=[],N=0;N<U;N++)I[N]=this.i(N)|P.i(N);return new a(I,this.h|P.h)},n.xor=function(P){for(var U=Math.max(this.g.length,P.g.length),I=[],N=0;N<U;N++)I[N]=this.i(N)^P.i(N);return new a(I,this.h^P.h)};function D(P){for(var U=P.g.length+1,I=[],N=0;N<U;N++)I[N]=P.i(N)<<1|P.i(N-1)>>>31;return new a(I,P.h)}function L(P,U){var I=U>>5;U%=32;for(var N=P.g.length-I,F=[],z=0;z<N;z++)F[z]=0<U?P.i(z+I)>>>U|P.i(z+I+1)<<32-U:P.i(z+I);return new a(F,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,zV=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,Cp=a}).apply(typeof DU<"u"?DU:typeof self<"u"?self:typeof window<"u"?window:{});var rT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BV,Tb,FV,qw,pI,VV,HV,jV;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(M,j,X){return M==Array.prototype||M==Object.prototype||(M[j]=X.value),M};function t(M){M=[typeof globalThis=="object"&&globalThis,M,typeof window=="object"&&window,typeof self=="object"&&self,typeof rT=="object"&&rT];for(var j=0;j<M.length;++j){var X=M[j];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var i=t(this);function r(M,j){if(j)e:{var X=i;M=M.split(".");for(var ce=0;ce<M.length-1;ce++){var Ee=M[ce];if(!(Ee in X))break e;X=X[Ee]}M=M[M.length-1],ce=X[M],j=j(ce),j!=ce&&j!=null&&e(X,M,{configurable:!0,writable:!0,value:j})}}function s(M,j){M instanceof String&&(M+="");var X=0,ce=!1,Ee={next:function(){if(!ce&&X<M.length){var je=X++;return{value:j(je,M[je]),done:!1}}return ce=!0,{done:!0,value:void 0}}};return Ee[Symbol.iterator]=function(){return Ee},Ee}r("Array.prototype.values",function(M){return M||function(){return s(this,function(j,X){return X})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(M){var j=typeof M;return j=j!="object"?j:M?Array.isArray(M)?"array":j:"null",j=="array"||j=="object"&&typeof M.length=="number"}function u(M){var j=typeof M;return j=="object"&&M!=null||j=="function"}function h(M,j,X){return M.call.apply(M.bind,arguments)}function p(M,j,X){if(!M)throw Error();if(2<arguments.length){var ce=Array.prototype.slice.call(arguments,2);return function(){var Ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ee,ce),M.apply(j,Ee)}}return function(){return M.apply(j,arguments)}}function y(M,j,X){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function v(M,j){var X=Array.prototype.slice.call(arguments,1);return function(){var ce=X.slice();return ce.push.apply(ce,arguments),M.apply(this,ce)}}function _(M,j){function X(){}X.prototype=j.prototype,M.aa=j.prototype,M.prototype=new X,M.prototype.constructor=M,M.Qb=function(ce,Ee,je){for(var Et=Array(arguments.length-2),fi=2;fi<arguments.length;fi++)Et[fi-2]=arguments[fi];return j.prototype[Ee].apply(ce,Et)}}function S(M){const j=M.length;if(0<j){const X=Array(j);for(let ce=0;ce<j;ce++)X[ce]=M[ce];return X}return[]}function E(M,j){for(let X=1;X<arguments.length;X++){const ce=arguments[X];if(c(ce)){const Ee=M.length||0,je=ce.length||0;M.length=Ee+je;for(let Et=0;Et<je;Et++)M[Ee+Et]=ce[Et]}else M.push(ce)}}class b{constructor(j,X){this.i=j,this.j=X,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function w(M){return/^[\s\xa0]*$/.test(M)}function A(){var M=o.navigator;return M&&(M=M.userAgent)?M:""}function C(M){return C[" "](M),M}C[" "]=function(){};var D=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function L(M,j,X){for(const ce in M)j.call(X,M[ce],ce,M)}function P(M,j){for(const X in M)j.call(void 0,M[X],X,M)}function U(M){const j={};for(const X in M)j[X]=M[X];return j}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(M,j){let X,ce;for(let Ee=1;Ee<arguments.length;Ee++){ce=arguments[Ee];for(X in ce)M[X]=ce[X];for(let je=0;je<I.length;je++)X=I[je],Object.prototype.hasOwnProperty.call(ce,X)&&(M[X]=ce[X])}}function F(M){var j=1;M=M.split(":");const X=[];for(;0<j&&M.length;)X.push(M.shift()),j--;return M.length&&X.push(M.join(":")),X}function z(M){o.setTimeout(()=>{throw M},0)}function V(){var M=re;let j=null;return M.g&&(j=M.g,M.g=M.g.next,M.g||(M.h=null),j.next=null),j}class K{constructor(){this.h=this.g=null}add(j,X){const ce=ee.get();ce.set(j,X),this.h?this.h.next=ce:this.g=ce,this.h=ce}}var ee=new b(()=>new q,M=>M.reset());class q{constructor(){this.next=this.g=this.h=null}set(j,X){this.h=j,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let $,Q=!1,re=new K,de=()=>{const M=o.Promise.resolve(void 0);$=()=>{M.then(Y)}};var Y=()=>{for(var M;M=V();){try{M.h.call(M.g)}catch(X){z(X)}var j=ee;j.j(M),100>j.h&&(j.h++,M.next=j.g,j.g=M)}Q=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(M,j){this.type=M,this.g=this.target=j,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ue=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var M=!1,j=Object.defineProperty({},"passive",{get:function(){M=!0}});try{const X=()=>{};o.addEventListener("test",X,j),o.removeEventListener("test",X,j)}catch{}return M})();function ie(M,j){if(pe.call(this,M?M.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,M){var X=this.type=M.type,ce=M.changedTouches&&M.changedTouches.length?M.changedTouches[0]:null;if(this.target=M.target||M.srcElement,this.g=j,j=M.relatedTarget){if(D){e:{try{C(j.nodeName);var Ee=!0;break e}catch{}Ee=!1}Ee||(j=null)}}else X=="mouseover"?j=M.fromElement:X=="mouseout"&&(j=M.toElement);this.relatedTarget=j,ce?(this.clientX=ce.clientX!==void 0?ce.clientX:ce.pageX,this.clientY=ce.clientY!==void 0?ce.clientY:ce.pageY,this.screenX=ce.screenX||0,this.screenY=ce.screenY||0):(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0),this.button=M.button,this.key=M.key||"",this.ctrlKey=M.ctrlKey,this.altKey=M.altKey,this.shiftKey=M.shiftKey,this.metaKey=M.metaKey,this.pointerId=M.pointerId||0,this.pointerType=typeof M.pointerType=="string"?M.pointerType:he[M.pointerType]||"",this.state=M.state,this.i=M,M.defaultPrevented&&ie.aa.h.call(this)}}_(ie,pe);var he={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var M=this.i;M.preventDefault?M.preventDefault():M.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Xe(M,j,X,ce,Ee){this.listener=M,this.proxy=null,this.src=j,this.type=X,this.capture=!!ce,this.ha=Ee,this.key=++Ve,this.da=this.fa=!1}function Ge(M){M.da=!0,M.listener=null,M.proxy=null,M.src=null,M.ha=null}function rt(M){this.src=M,this.g={},this.h=0}rt.prototype.add=function(M,j,X,ce,Ee){var je=M.toString();M=this.g[je],M||(M=this.g[je]=[],this.h++);var Et=pt(M,j,ce,Ee);return-1<Et?(j=M[Et],X||(j.fa=!1)):(j=new Xe(j,this.src,je,!!ce,Ee),j.fa=X,M.push(j)),j};function lt(M,j){var X=j.type;if(X in M.g){var ce=M.g[X],Ee=Array.prototype.indexOf.call(ce,j,void 0),je;(je=0<=Ee)&&Array.prototype.splice.call(ce,Ee,1),je&&(Ge(j),M.g[X].length==0&&(delete M.g[X],M.h--))}}function pt(M,j,X,ce){for(var Ee=0;Ee<M.length;++Ee){var je=M[Ee];if(!je.da&&je.listener==j&&je.capture==!!X&&je.ha==ce)return Ee}return-1}var te="closure_lm_"+(1e6*Math.random()|0),Oe={};function Be(M,j,X,ce,Ee){if(Array.isArray(j)){for(var je=0;je<j.length;je++)Be(M,j[je],X,ce,Ee);return null}return X=Ze(X),M&&M[ye]?M.K(j,X,u(ce)?!!ce.capture:!1,Ee):Ne(M,j,X,!1,ce,Ee)}function Ne(M,j,X,ce,Ee,je){if(!j)throw Error("Invalid event type");var Et=u(Ee)?!!Ee.capture:!!Ee,fi=Se(M);if(fi||(M[te]=fi=new rt(M)),X=fi.add(j,X,ce,Et,je),X.proxy)return X;if(ce=Me(),X.proxy=ce,ce.src=M,ce.listener=X,M.addEventListener)ue||(Ee=Et),Ee===void 0&&(Ee=!1),M.addEventListener(j.toString(),ce,Ee);else if(M.attachEvent)M.attachEvent(ae(j.toString()),ce);else if(M.addListener&&M.removeListener)M.addListener(ce);else throw Error("addEventListener and attachEvent are unavailable.");return X}function Me(){function M(X){return j.call(M.src,M.listener,X)}const j=J;return M}function ut(M,j,X,ce,Ee){if(Array.isArray(j))for(var je=0;je<j.length;je++)ut(M,j[je],X,ce,Ee);else ce=u(ce)?!!ce.capture:!!ce,X=Ze(X),M&&M[ye]?(M=M.i,j=String(j).toString(),j in M.g&&(je=M.g[j],X=pt(je,X,ce,Ee),-1<X&&(Ge(je[X]),Array.prototype.splice.call(je,X,1),je.length==0&&(delete M.g[j],M.h--)))):M&&(M=Se(M))&&(j=M.g[j.toString()],M=-1,j&&(M=pt(j,X,ce,Ee)),(X=-1<M?j[M]:null)&&qe(X))}function qe(M){if(typeof M!="number"&&M&&!M.da){var j=M.src;if(j&&j[ye])lt(j.i,M);else{var X=M.type,ce=M.proxy;j.removeEventListener?j.removeEventListener(X,ce,M.capture):j.detachEvent?j.detachEvent(ae(X),ce):j.addListener&&j.removeListener&&j.removeListener(ce),(X=Se(j))?(lt(X,M),X.h==0&&(X.src=null,j[te]=null)):Ge(M)}}}function ae(M){return M in Oe?Oe[M]:Oe[M]="on"+M}function J(M,j){if(M.da)M=!0;else{j=new ie(j,this);var X=M.listener,ce=M.ha||M.src;M.fa&&qe(M),M=X.call(ce,j)}return M}function Se(M){return M=M[te],M instanceof rt?M:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ze(M){return typeof M=="function"?M:(M[Ae]||(M[Ae]=function(j){return M.handleEvent(j)}),M[Ae])}function Re(){le.call(this),this.i=new rt(this),this.M=this,this.F=null}_(Re,le),Re.prototype[ye]=!0,Re.prototype.removeEventListener=function(M,j,X,ce){ut(this,M,j,X,ce)};function ct(M,j){var X,ce=M.F;if(ce)for(X=[];ce;ce=ce.F)X.push(ce);if(M=M.M,ce=j.type||j,typeof j=="string")j=new pe(j,M);else if(j instanceof pe)j.target=j.target||M;else{var Ee=j;j=new pe(ce,M),N(j,Ee)}if(Ee=!0,X)for(var je=X.length-1;0<=je;je--){var Et=j.g=X[je];Ee=ft(Et,ce,!0,j)&&Ee}if(Et=j.g=M,Ee=ft(Et,ce,!0,j)&&Ee,Ee=ft(Et,ce,!1,j)&&Ee,X)for(je=0;je<X.length;je++)Et=j.g=X[je],Ee=ft(Et,ce,!1,j)&&Ee}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var M=this.i,j;for(j in M.g){for(var X=M.g[j],ce=0;ce<X.length;ce++)Ge(X[ce]);delete M.g[j],M.h--}}this.F=null},Re.prototype.K=function(M,j,X,ce){return this.i.add(String(M),j,!1,X,ce)},Re.prototype.L=function(M,j,X,ce){return this.i.add(String(M),j,!0,X,ce)};function ft(M,j,X,ce){if(j=M.i.g[String(j)],!j)return!0;j=j.concat();for(var Ee=!0,je=0;je<j.length;++je){var Et=j[je];if(Et&&!Et.da&&Et.capture==X){var fi=Et.listener,ir=Et.ha||Et.src;Et.fa&&lt(M.i,Et),Ee=fi.call(ir,ce)!==!1&&Ee}}return Ee&&!ce.defaultPrevented}function Dt(M,j,X){if(typeof M=="function")X&&(M=y(M,X));else if(M&&typeof M.handleEvent=="function")M=y(M.handleEvent,M);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:o.setTimeout(M,j||0)}function kt(M){M.g=Dt(()=>{M.g=null,M.i&&(M.i=!1,kt(M))},M.l);const j=M.h;M.h=null,M.m.apply(null,j)}class $e extends le{constructor(j,X){super(),this.m=j,this.l=X,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dt(M){le.call(this),this.h=M,this.g={}}_(dt,le);var wt=[];function At(M){L(M.g,function(j,X){this.g.hasOwnProperty(X)&&qe(j)},M),M.g={}}dt.prototype.N=function(){dt.aa.N.call(this),At(this)},dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vt=o.JSON.stringify,jt=o.JSON.parse,ot=class{stringify(M){return o.JSON.stringify(M,void 0)}parse(M){return o.JSON.parse(M,void 0)}};function Lt(){}Lt.prototype.h=null;function ve(M){return M.h||(M.h=M.i())}function gt(){}var Fe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qe(){pe.call(this,"d")}_(Qe,pe);function xt(){pe.call(this,"c")}_(xt,pe);var _t={},Qt=null;function $n(){return Qt=Qt||new Re}_t.La="serverreachability";function zt(M){pe.call(this,_t.La,M)}_(zt,pe);function Jt(M){const j=$n();ct(j,new zt(j))}_t.STAT_EVENT="statevent";function St(M,j){pe.call(this,_t.STAT_EVENT,M),this.stat=j}_(St,pe);function Mt(M){const j=$n();ct(j,new St(j,M))}_t.Ma="timingevent";function kn(M,j){pe.call(this,_t.Ma,M),this.size=j}_(kn,pe);function _n(M,j){if(typeof M!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){M()},j)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function Li(M,j,X,ce,Ee,je){M.info(function(){if(M.g)if(je)for(var Et="",fi=je.split("&"),ir=0;ir<fi.length;ir++){var On=fi[ir].split("=");if(1<On.length){var wr=On[0];On=On[1];var rs=wr.split("_");Et=2<=rs.length&&rs[1]=="type"?Et+(wr+"="+On+"&"):Et+(wr+"=redacted&")}}else Et=null;else Et=je;return"XMLHTTP REQ ("+ce+") [attempt "+Ee+"]: "+j+`
`+X+`
`+Et})}function Rs(M,j,X,ce,Ee,je,Et){M.info(function(){return"XMLHTTP RESP ("+ce+") [ attempt "+Ee+"]: "+j+`
`+X+`
`+je+" "+Et})}function $i(M,j,X,ce){M.info(function(){return"XMLHTTP TEXT ("+j+"): "+jr(M,X)+(ce?" "+ce:"")})}function Hr(M,j){M.info(function(){return"TIMEOUT: "+j})}zn.prototype.info=function(){};function jr(M,j){if(!M.g)return j;if(!j)return null;try{var X=JSON.parse(j);if(X){for(M=0;M<X.length;M++)if(Array.isArray(X[M])){var ce=X[M];if(!(2>ce.length)){var Ee=ce[1];if(Array.isArray(Ee)&&!(1>Ee.length)){var je=Ee[0];if(je!="noop"&&je!="stop"&&je!="close")for(var Et=1;Et<Ee.length;Et++)Ee[Et]=""}}}}return vt(X)}catch{return j}}var yn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},aa;function ll(){}_(ll,Lt),ll.prototype.g=function(){return new XMLHttpRequest},ll.prototype.i=function(){return{}},aa=new ll;function io(M,j,X,ce){this.j=M,this.i=j,this.l=X,this.R=ce||1,this.U=new dt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ad}function ad(){this.i=null,this.g="",this.h=!1}var Pc={},ro={};function cl(M,j,X){M.L=1,M.v=or(Ai(j)),M.m=X,M.P=!0,se(M,null)}function se(M,j){M.F=Date.now(),De(M),M.A=Ai(M.v);var X=M.A,ce=M.R;Array.isArray(ce)||(ce=[String(ce)]),Vl(X.i,"t",ce),M.C=0,X=M.j.J,M.h=new ad,M.g=Lo(M.j,X?j:null,!M.m),0<M.O&&(M.M=new $e(y(M.Y,M,M.g),M.O)),j=M.U,X=M.g,ce=M.ca;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&(wt[0]=Ee.toString()),Ee=wt);for(var je=0;je<Ee.length;je++){var Et=Be(X,Ee[je],ce||j.handleEvent,!1,j.h||j);if(!Et)break;j.g[Et.key]=Et}j=M.H?U(M.H):{},M.m?(M.u||(M.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",M.g.ea(M.A,M.u,M.m,j)):(M.u="GET",M.g.ea(M.A,M.u,null,j)),Jt(),Li(M.i,M.u,M.A,M.l,M.R,M.m)}io.prototype.ca=function(M){M=M.target;const j=this.M;j&&Vs(M)==3?j.j():this.Y(M)},io.prototype.Y=function(M){try{if(M==this.g)e:{const rs=Vs(this.g);var j=this.g.Ba();const qr=this.g.Z();if(!(3>rs)&&(rs!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||rs!=4||j==7||(j==8||0>=qr?Jt(3):Jt(2)),st(this);var X=this.g.Z();this.X=X;t:if(_e(this)){var ce=Au(this.g);M="";var Ee=ce.length,je=Vs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ct(this),Tt(this);var Et="";break t}this.h.i=new o.TextDecoder}for(j=0;j<Ee;j++)this.h.h=!0,M+=this.h.i.decode(ce[j],{stream:!(je&&j==Ee-1)});ce.length=0,this.h.g+=M,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=X==200,Rs(this.i,this.u,this.A,this.l,this.R,rs,X),this.o){if(this.T&&!this.K){t:{if(this.g){var fi,ir=this.g;if((fi=ir.g?ir.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(fi)){var On=fi;break t}}On=null}if(X=On)$i(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ot(this,X);else{this.o=!1,this.s=3,Mt(12),Ct(this),Tt(this);break e}}if(this.P){X=!0;let ca;for(;!this.J&&this.C<Et.length;)if(ca=Le(this,Et),ca==ro){rs==4&&(this.s=4,Mt(14),X=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(ca==Pc){this.s=4,Mt(15),$i(this.i,this.l,Et,"[Invalid Chunk]"),X=!1;break}else $i(this.i,this.l,ca,null),Ot(this,ca);if(_e(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rs!=4||Et.length!=0||this.h.h||(this.s=1,Mt(16),X=!1),this.o=this.o&&X,!X)$i(this.i,this.l,Et,"[Invalid Chunked Response]"),Ct(this),Tt(this);else if(0<Et.length&&!this.W){this.W=!0;var wr=this.j;wr.g==this&&wr.ba&&!wr.M&&(wr.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),jf(wr),wr.M=!0,Mt(11))}}else $i(this.i,this.l,Et,null),Ot(this,Et);rs==4&&Ct(this),this.o&&!this.J&&(rs==4?dd(this.j,this):(this.o=!1,De(this)))}else my(this.g),X==400&&0<Et.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Ct(this),Tt(this)}}}catch{}finally{}};function _e(M){return M.g?M.u=="GET"&&M.L!=2&&M.j.Ca:!1}function Le(M,j){var X=M.C,ce=j.indexOf(`
`,X);return ce==-1?ro:(X=Number(j.substring(X,ce)),isNaN(X)?Pc:(ce+=1,ce+X>j.length?ro:(j=j.slice(ce,ce+X),M.C=ce+X,j)))}io.prototype.cancel=function(){this.J=!0,Ct(this)};function De(M){M.S=Date.now()+M.I,xe(M,M.I)}function xe(M,j){if(M.B!=null)throw Error("WatchDog timer not null");M.B=_n(y(M.ba,M),j)}function st(M){M.B&&(o.clearTimeout(M.B),M.B=null)}io.prototype.ba=function(){this.B=null;const M=Date.now();0<=M-this.S?(Hr(this.i,this.A),this.L!=2&&(Jt(),Mt(17)),Ct(this),this.s=2,Tt(this)):xe(this,this.S-M)};function Tt(M){M.j.G==0||M.J||dd(M.j,M)}function Ct(M){st(M);var j=M.M;j&&typeof j.ma=="function"&&j.ma(),M.M=null,At(M.U),M.g&&(j=M.g,M.g=null,j.abort(),j.ma())}function Ot(M,j){try{var X=M.j;if(X.G!=0&&(X.g==M||Ln(X.h,M))){if(!M.K&&Ln(X.h,M)&&X.G==3){try{var ce=X.Da.g.parse(j)}catch{ce=null}if(Array.isArray(ce)&&ce.length==3){var Ee=ce;if(Ee[0]==0){e:if(!X.u){if(X.g)if(X.g.F+3e3<M.F)Wl(X),Lc(X);else break e;Hf(X),Mt(18)}}else X.za=Ee[1],0<X.za-X.T&&37500>Ee[2]&&X.F&&X.v==0&&!X.C&&(X.C=_n(y(X.Za,X),6e3));if(1>=Bn(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else $l(X,11)}else if((M.K||X.g==M)&&Wl(X),!w(j))for(Ee=X.Da.g.parse(j),j=0;j<Ee.length;j++){let On=Ee[j];if(X.T=On[0],On=On[1],X.G==2)if(On[0]=="c"){X.K=On[1],X.ia=On[2];const wr=On[3];wr!=null&&(X.la=wr,X.j.info("VER="+X.la));const rs=On[4];rs!=null&&(X.Aa=rs,X.j.info("SVER="+X.Aa));const qr=On[5];qr!=null&&typeof qr=="number"&&0<qr&&(ce=1.5*qr,X.L=ce,X.j.info("backChannelRequestTimeoutMs_="+ce)),ce=X;const ca=M.g;if(ca){const Uc=ca.g?ca.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uc){var je=ce.h;je.g||Uc.indexOf("spdy")==-1&&Uc.indexOf("quic")==-1&&Uc.indexOf("h2")==-1||(je.j=je.l,je.g=new Set,je.h&&(bi(je,je.h),je.h=null))}if(ce.D){const Yl=ca.g?ca.g.getResponseHeader("X-HTTP-Session-Id"):null;Yl&&(ce.ya=Yl,hn(ce.I,ce.D,Yl))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-M.F,X.j.info("Handshake RTT: "+X.R+"ms")),ce=X;var Et=M;if(ce.qa=cm(ce,ce.J?ce.ia:null,ce.W),Et.K){Wn(ce.h,Et);var fi=Et,ir=ce.L;ir&&(fi.I=ir),fi.B&&(st(fi),De(fi)),ce.g=Et}else om(ce);0<X.i.length&&Ff(X)}else On[0]!="stop"&&On[0]!="close"||$l(X,7);else X.G==3&&(On[0]=="stop"||On[0]=="close"?On[0]=="stop"?$l(X,7):ud(X):On[0]!="noop"&&X.l&&X.l.ta(On),X.v=0)}}Jt(4)}catch{}}var sn=class{constructor(M,j){this.g=M,this.map=j}};function en(M){this.l=M||10,o.PerformanceNavigationTiming?(M=o.performance.getEntriesByType("navigation"),M=0<M.length&&(M[0].nextHopProtocol=="hq"||M[0].nextHopProtocol=="h2")):M=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=M?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(M){return M.h?!0:M.g?M.g.size>=M.j:!1}function Bn(M){return M.h?1:M.g?M.g.size:0}function Ln(M,j){return M.h?M.h==j:M.g?M.g.has(j):!1}function bi(M,j){M.g?M.g.add(j):M.h=j}function Wn(M,j){M.h&&M.h==j?M.h=null:M.g&&M.g.has(j)&&M.g.delete(j)}en.prototype.cancel=function(){if(this.i=un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const M of this.g.values())M.cancel();this.g.clear()}};function un(M){if(M.h!=null)return M.i.concat(M.h.D);if(M.g!=null&&M.g.size!==0){let j=M.i;for(const X of M.g.values())j=j.concat(X.D);return j}return S(M.i)}function Xt(M){if(M.V&&typeof M.V=="function")return M.V();if(typeof Map<"u"&&M instanceof Map||typeof Set<"u"&&M instanceof Set)return Array.from(M.values());if(typeof M=="string")return M.split("");if(c(M)){for(var j=[],X=M.length,ce=0;ce<X;ce++)j.push(M[ce]);return j}j=[],X=0;for(ce in M)j[X++]=M[ce];return j}function hr(M){if(M.na&&typeof M.na=="function")return M.na();if(!M.V||typeof M.V!="function"){if(typeof Map<"u"&&M instanceof Map)return Array.from(M.keys());if(!(typeof Set<"u"&&M instanceof Set)){if(c(M)||typeof M=="string"){var j=[];M=M.length;for(var X=0;X<M;X++)j.push(X);return j}j=[],X=0;for(const ce in M)j[X++]=ce;return j}}}function Gn(M,j){if(M.forEach&&typeof M.forEach=="function")M.forEach(j,void 0);else if(c(M)||typeof M=="string")Array.prototype.forEach.call(M,j,void 0);else for(var X=hr(M),ce=Xt(M),Ee=ce.length,je=0;je<Ee;je++)j.call(void 0,ce[je],X&&X[je],M)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(M,j){if(M){M=M.split("&");for(var X=0;X<M.length;X++){var ce=M[X].indexOf("="),Ee=null;if(0<=ce){var je=M[X].substring(0,ce);Ee=M[X].substring(ce+1)}else je=M[X];j(je,Ee?decodeURIComponent(Ee.replace(/\+/g," ")):"")}}}function nr(M){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,M instanceof nr){this.h=M.h,ei(this,M.j),this.o=M.o,this.g=M.g,Er(this,M.s),this.l=M.l;var j=M.i,X=new ul;X.i=j.i,j.g&&(X.g=new Map(j.g),X.h=j.h),Gr(this,X),this.m=M.m}else M&&(j=String(M).match(ms))?(this.h=!1,ei(this,j[1]||"",!0),this.o=Os(j[2]||""),this.g=Os(j[3]||"",!0),Er(this,j[4]),this.l=Os(j[5]||"",!0),Gr(this,j[6]||"",!0),this.m=Os(j[7]||"")):(this.h=!1,this.i=new ul(null,this.h))}nr.prototype.toString=function(){var M=[],j=this.j;j&&M.push(Tr(j,Eu,!0),":");var X=this.g;return(X||j=="file")&&(M.push("//"),(j=this.o)&&M.push(Tr(j,Eu,!0),"@"),M.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.s,X!=null&&M.push(":",String(X))),(X=this.l)&&(this.g&&X.charAt(0)!="/"&&M.push("/"),M.push(Tr(X,X.charAt(0)=="/"?Uf:nm,!0))),(X=this.i.toString())&&M.push("?",X),(X=this.m)&&M.push("#",Tr(X,py)),M.join("")};function Ai(M){return new nr(M)}function ei(M,j,X){M.j=X?Os(j,!0):j,M.j&&(M.j=M.j.replace(/:$/,""))}function Er(M,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);M.s=j}else M.s=null}function Gr(M,j,X){j instanceof ul?(M.i=j,im(M.i,M.h)):(X||(j=Tr(j,dy)),M.i=new ul(j,M.h))}function hn(M,j,X){M.i.set(j,X)}function or(M){return hn(M,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),M}function Os(M,j){return M?j?decodeURI(M.replace(/%25/g,"%2525")):decodeURIComponent(M):""}function Tr(M,j,X){return typeof M=="string"?(M=encodeURI(M).replace(j,od),X&&(M=M.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M):null}function od(M){return M=M.charCodeAt(0),"%"+(M>>4&15).toString(16)+(M&15).toString(16)}var Eu=/[#\/\?@]/g,nm=/[#\?:]/g,Uf=/[#\?]/g,dy=/[#\?@]/g,py=/#/g;function ul(M,j){this.h=this.g=null,this.i=M||null,this.j=!!j}function is(M){M.g||(M.g=new Map,M.h=0,M.i&&oa(M.i,function(j,X){M.add(decodeURIComponent(j.replace(/\+/g," ")),X)}))}n=ul.prototype,n.add=function(M,j){is(this),this.i=null,M=la(this,M);var X=this.g.get(M);return X||this.g.set(M,X=[]),X.push(j),this.h+=1,this};function Tu(M,j){is(M),j=la(M,j),M.g.has(j)&&(M.i=null,M.h-=M.g.get(j).length,M.g.delete(j))}function kf(M,j){return is(M),j=la(M,j),M.g.has(j)}n.forEach=function(M,j){is(this),this.g.forEach(function(X,ce){X.forEach(function(Ee){M.call(j,Ee,ce,this)},this)},this)},n.na=function(){is(this);const M=Array.from(this.g.values()),j=Array.from(this.g.keys()),X=[];for(let ce=0;ce<j.length;ce++){const Ee=M[ce];for(let je=0;je<Ee.length;je++)X.push(j[ce])}return X},n.V=function(M){is(this);let j=[];if(typeof M=="string")kf(this,M)&&(j=j.concat(this.g.get(la(this,M))));else{M=Array.from(this.g.values());for(let X=0;X<M.length;X++)j=j.concat(M[X])}return j},n.set=function(M,j){return is(this),this.i=null,M=la(this,M),kf(this,M)&&(this.h-=this.g.get(M).length),this.g.set(M,[j]),this.h+=1,this},n.get=function(M,j){return M?(M=this.V(M),0<M.length?String(M[0]):j):j};function Vl(M,j,X){Tu(M,j),0<X.length&&(M.i=null,M.g.set(la(M,j),S(X)),M.h+=X.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const M=[],j=Array.from(this.g.keys());for(var X=0;X<j.length;X++){var ce=j[X];const je=encodeURIComponent(String(ce)),Et=this.V(ce);for(ce=0;ce<Et.length;ce++){var Ee=je;Et[ce]!==""&&(Ee+="="+encodeURIComponent(String(Et[ce]))),M.push(Ee)}}return this.i=M.join("&")};function la(M,j){return j=String(j),M.j&&(j=j.toLowerCase()),j}function im(M,j){j&&!M.j&&(is(M),M.i=null,M.g.forEach(function(X,ce){var Ee=ce.toLowerCase();ce!=Ee&&(Tu(this,ce),Vl(this,Ee,X))},M)),M.j=j}function ld(M,j){const X=new zn;if(o.Image){const ce=new Image;ce.onload=v(Fs,X,"TestLoadImage: loaded",!0,j,ce),ce.onerror=v(Fs,X,"TestLoadImage: error",!1,j,ce),ce.onabort=v(Fs,X,"TestLoadImage: abort",!1,j,ce),ce.ontimeout=v(Fs,X,"TestLoadImage: timeout",!1,j,ce),o.setTimeout(function(){ce.ontimeout&&ce.ontimeout()},1e4),ce.src=M}else j(!1)}function rm(M,j){const X=new zn,ce=new AbortController,Ee=setTimeout(()=>{ce.abort(),Fs(X,"TestPingServer: timeout",!1,j)},1e4);fetch(M,{signal:ce.signal}).then(je=>{clearTimeout(Ee),je.ok?Fs(X,"TestPingServer: ok",!0,j):Fs(X,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(Ee),Fs(X,"TestPingServer: error",!1,j)})}function Fs(M,j,X,ce,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),ce(X)}catch{}}function No(){this.g=new ot}function cd(M,j,X){const ce=X||"";try{Gn(M,function(Ee,je){let Et=Ee;u(Ee)&&(Et=vt(Ee)),j.push(ce+je+"="+encodeURIComponent(Et))})}catch(Ee){throw j.push(ce+"type="+encodeURIComponent("_badmap")),Ee}}function Hl(M){this.l=M.Ub||null,this.j=M.eb||!1}_(Hl,Lt),Hl.prototype.g=function(){return new so(this.l,this.j)},Hl.prototype.i=(function(M){return function(){return M}})({});function so(M,j){Re.call(this),this.D=M,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(so,Re),n=so.prototype,n.open=function(M,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=M,this.A=j,this.readyState=1,jl(this)},n.send=function(M){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};M&&(j.body=M),(this.D||o).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ma(this)),this.readyState=0},n.Sa=function(M){if(this.g&&(this.l=M,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=M.headers,this.readyState=2,jl(this)),this.g&&(this.readyState=3,jl(this),this.g)))if(this.responseType==="arraybuffer")M.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in M){if(this.j=M.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zf(this)}else M.text().then(this.Ra.bind(this),this.ga.bind(this))};function zf(M){M.j.read().then(M.Pa.bind(M)).catch(M.ga.bind(M))}n.Pa=function(M){if(this.g){if(this.o&&M.value)this.response.push(M.value);else if(!this.o){var j=M.value?M.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!M.done}))&&(this.response=this.responseText+=j)}M.done?Ma(this):jl(this),this.readyState==3&&zf(this)}},n.Ra=function(M){this.g&&(this.response=this.responseText=M,Ma(this))},n.Qa=function(M){this.g&&(this.response=M,Ma(this))},n.ga=function(){this.g&&Ma(this)};function Ma(M){M.readyState=4,M.l=null,M.j=null,M.v=null,jl(M)}n.setRequestHeader=function(M,j){this.u.append(M,j)},n.getResponseHeader=function(M){return this.h&&this.h.get(M.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const M=[],j=this.h.entries();for(var X=j.next();!X.done;)X=X.value,M.push(X[0]+": "+X[1]),X=j.next();return M.join(`\r
`)};function jl(M){M.onreadystatechange&&M.onreadystatechange.call(M)}Object.defineProperty(so.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(M){this.m=M?"include":"same-origin"}});function Gl(M){let j="";return L(M,function(X,ce){j+=ce,j+=":",j+=X,j+=`\r
`}),j}function Dc(M,j,X){e:{for(ce in X){var ce=!1;break e}ce=!0}ce||(X=Gl(X),typeof M=="string"?X!=null&&encodeURIComponent(String(X)):hn(M,j,X))}function Vi(M){Re.call(this),this.headers=new Map,this.o=M||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Vi,Re);var gs=/^https?$/i,ql=["POST","PUT"];n=Vi.prototype,n.Ha=function(M){this.J=M},n.ea=function(M,j,X,ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+M);j=j?j.toUpperCase():"GET",this.D=M,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():aa.g(),this.v=this.o?ve(this.o):ve(aa),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(j,String(M),!0),this.B=!1}catch(je){wu(this,je);return}if(M=X||"",X=new Map(this.headers),ce)if(Object.getPrototypeOf(ce)===Object.prototype)for(var Ee in ce)X.set(Ee,ce[Ee]);else if(typeof ce.keys=="function"&&typeof ce.get=="function")for(const je of ce.keys())X.set(je,ce.get(je));else throw Error("Unknown input type for opt_headers: "+String(ce));ce=Array.from(X.keys()).find(je=>je.toLowerCase()=="content-type"),Ee=o.FormData&&M instanceof o.FormData,!(0<=Array.prototype.indexOf.call(ql,j,void 0))||ce||Ee||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[je,Et]of X)this.g.setRequestHeader(je,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cu(this),this.u=!0,this.g.send(M),this.u=!1}catch(je){wu(this,je)}};function wu(M,j){M.h=!1,M.g&&(M.j=!0,M.g.abort(),M.j=!1),M.l=j,M.m=5,Ra(M),Nc(M)}function Ra(M){M.A||(M.A=!0,ct(M,"complete"),ct(M,"error"))}n.abort=function(M){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=M||7,ct(this,"complete"),ct(this,"abort"),Nc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nc(this,!0)),Vi.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Bf(this):this.bb())},n.bb=function(){Bf(this)};function Bf(M){if(M.h&&typeof a<"u"&&(!M.v[1]||Vs(M)!=4||M.Z()!=2)){if(M.u&&Vs(M)==4)Dt(M.Ea,0,M);else if(ct(M,"readystatechange"),Vs(M)==4){M.h=!1;try{const Et=M.Z();e:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var X;if(!(X=j)){var ce;if(ce=Et===0){var Ee=String(M.D).match(ms)[1]||null;!Ee&&o.self&&o.self.location&&(Ee=o.self.location.protocol.slice(0,-1)),ce=!gs.test(Ee?Ee.toLowerCase():"")}X=ce}if(X)ct(M,"complete"),ct(M,"success");else{M.m=6;try{var je=2<Vs(M)?M.g.statusText:""}catch{je=""}M.l=je+" ["+M.Z()+"]",Ra(M)}}finally{Nc(M)}}}}function Nc(M,j){if(M.g){Cu(M);const X=M.g,ce=M.v[0]?()=>{}:null;M.g=null,M.v=null,j||ct(M,"ready");try{X.onreadystatechange=ce}catch{}}}function Cu(M){M.I&&(o.clearTimeout(M.I),M.I=null)}n.isActive=function(){return!!this.g};function Vs(M){return M.g?M.g.readyState:0}n.Z=function(){try{return 2<Vs(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(M){if(this.g){var j=this.g.responseText;return M&&j.indexOf(M)==0&&(j=j.substring(M.length)),jt(j)}};function Au(M){try{if(!M.g)return null;if("response"in M.g)return M.g.response;switch(M.H){case"":case"text":return M.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in M.g)return M.g.mozResponseArrayBuffer}return null}catch{return null}}function my(M){const j={};M=(M.g&&2<=Vs(M)&&M.g.getAllResponseHeaders()||"").split(`\r
`);for(let ce=0;ce<M.length;ce++){if(w(M[ce]))continue;var X=F(M[ce]);const Ee=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const je=j[Ee]||[];j[Ee]=je,je.push(X)}P(j,function(ce){return ce.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(M,j,X){return X&&X.internalChannelParams&&X.internalChannelParams[M]||j}function sm(M){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,M),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,M),this.cb=lr("retryDelaySeedMs",1e4,M),this.Wa=lr("forwardChannelMaxRetries",2,M),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,M),this.pa=M&&M.xmlHttpFactory||void 0,this.Xa=M&&M.Tb||void 0,this.Ca=M&&M.useFetchStreams||!1,this.L=void 0,this.J=M&&M.supportsCrossDomainXhr||!1,this.K="",this.h=new en(M&&M.concurrentRequestLimit),this.Da=new No,this.P=M&&M.fastHandshake||!1,this.O=M&&M.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=M&&M.Rb||!1,M&&M.xa&&this.j.xa(),M&&M.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&M&&M.detectBufferingProxy||!1,this.ja=void 0,M&&M.longPollingTimeout&&0<M.longPollingTimeout&&(this.ja=M.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=sm.prototype,n.la=8,n.G=1,n.connect=function(M,j,X,ce){Mt(0),this.W=M,this.H=j||{},X&&ce!==void 0&&(this.H.OSID=X,this.H.OAID=ce),this.F=this.X,this.I=cm(this,null,this.W),Ff(this)};function ud(M){if(am(M),M.G==3){var j=M.U++,X=Ai(M.I);if(hn(X,"SID",M.K),hn(X,"RID",j),hn(X,"TYPE","terminate"),Mu(M,X),j=new io(M,M.j,j),j.L=2,j.v=or(Ai(X)),X=!1,o.navigator&&o.navigator.sendBeacon)try{X=o.navigator.sendBeacon(j.v.toString(),"")}catch{}!X&&o.Image&&(new Image().src=j.v,X=!0),X||(j.g=Lo(j.j,null),j.g.ea(j.v)),j.F=Date.now(),De(j)}Gf(M)}function Lc(M){M.g&&(jf(M),M.g.cancel(),M.g=null)}function am(M){Lc(M),M.u&&(o.clearTimeout(M.u),M.u=null),Wl(M),M.h.cancel(),M.s&&(typeof M.s=="number"&&o.clearTimeout(M.s),M.s=null)}function Ff(M){if(!Gt(M.h)&&!M.s){M.s=!0;var j=M.Ga;$||de(),Q||($(),Q=!0),re.add(j,M),M.B=0}}function Vf(M,j){return Bn(M.h)>=M.h.j-(M.s?1:0)?!1:M.s?(M.i=j.D.concat(M.i),!0):M.G==1||M.G==2||M.B>=(M.Va?0:M.Wa)?!1:(M.s=_n(y(M.Ga,M,j),pd(M,M.B)),M.B++,!0)}n.Ga=function(M){if(this.s)if(this.s=null,this.G==1){if(!M){this.U=Math.floor(1e5*Math.random()),M=this.U++;const Ee=new io(this,this.j,M);let je=this.o;if(this.S&&(je?(je=U(je),N(je,this.S)):je=this.S),this.m!==null||this.O||(Ee.H=je,je=null),this.P)e:{for(var j=0,X=0;X<this.i.length;X++){t:{var ce=this.i[X];if("__data__"in ce.map&&(ce=ce.map.__data__,typeof ce=="string")){ce=ce.length;break t}ce=void 0}if(ce===void 0)break;if(j+=ce,4096<j){j=X;break e}if(j===4096||X===this.i.length-1){j=X+1;break e}}j=1e3}else j=1e3;j=hd(this,Ee,j),X=Ai(this.I),hn(X,"RID",M),hn(X,"CVER",22),this.D&&hn(X,"X-HTTP-Session-Id",this.D),Mu(this,X),je&&(this.O?j="headers="+encodeURIComponent(String(Gl(je)))+"&"+j:this.m&&Dc(X,this.m,je)),bi(this.h,Ee),this.Ua&&hn(X,"TYPE","init"),this.P?(hn(X,"$req",j),hn(X,"SID","null"),Ee.T=!0,cl(Ee,X,null)):cl(Ee,X,j),this.G=2}}else this.G==3&&(M?fd(this,M):this.i.length==0||Gt(this.h)||fd(this))};function fd(M,j){var X;j?X=j.l:X=M.U++;const ce=Ai(M.I);hn(ce,"SID",M.K),hn(ce,"RID",X),hn(ce,"AID",M.T),Mu(M,ce),M.m&&M.o&&Dc(ce,M.m,M.o),X=new io(M,M.j,X,M.B+1),M.m===null&&(X.H=M.o),j&&(M.i=j.D.concat(M.i)),j=hd(M,X,1e3),X.I=Math.round(.5*M.wa)+Math.round(.5*M.wa*Math.random()),bi(M.h,X),cl(X,ce,j)}function Mu(M,j){M.H&&L(M.H,function(X,ce){hn(j,ce,X)}),M.l&&Gn({},function(X,ce){hn(j,ce,X)})}function hd(M,j,X){X=Math.min(M.i.length,X);var ce=M.l?y(M.l.Na,M.l,M):null;e:{var Ee=M.i;let je=-1;for(;;){const Et=["count="+X];je==-1?0<X?(je=Ee[0].g,Et.push("ofs="+je)):je=0:Et.push("ofs="+je);let fi=!0;for(let ir=0;ir<X;ir++){let On=Ee[ir].g;const wr=Ee[ir].map;if(On-=je,0>On)je=Math.max(0,Ee[ir].g-100),fi=!1;else try{cd(wr,Et,"req"+On+"_")}catch{ce&&ce(wr)}}if(fi){ce=Et.join("&");break e}}}return M=M.i.splice(0,X),j.D=M,ce}function om(M){if(!M.g&&!M.u){M.Y=1;var j=M.Fa;$||de(),Q||($(),Q=!0),re.add(j,M),M.v=0}}function Hf(M){return M.g||M.u||3<=M.v?!1:(M.Y++,M.u=_n(y(M.Fa,M),pd(M,M.v)),M.v++,!0)}n.Fa=function(){if(this.u=null,lm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var M=2*this.R;this.j.info("BP detection timer enabled: "+M),this.A=_n(y(this.ab,this),M)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Lc(this),lm(this))};function jf(M){M.A!=null&&(o.clearTimeout(M.A),M.A=null)}function lm(M){M.g=new io(M,M.j,"rpc",M.Y),M.m===null&&(M.g.H=M.o),M.g.O=0;var j=Ai(M.qa);hn(j,"RID","rpc"),hn(j,"SID",M.K),hn(j,"AID",M.T),hn(j,"CI",M.F?"0":"1"),!M.F&&M.ja&&hn(j,"TO",M.ja),hn(j,"TYPE","xmlhttp"),Mu(M,j),M.m&&M.o&&Dc(j,M.m,M.o),M.L&&(M.g.I=M.L);var X=M.g;M=M.ia,X.L=1,X.v=or(Ai(j)),X.m=null,X.P=!0,se(X,M)}n.Za=function(){this.C!=null&&(this.C=null,Lc(this),Hf(this),Mt(19))};function Wl(M){M.C!=null&&(o.clearTimeout(M.C),M.C=null)}function dd(M,j){var X=null;if(M.g==j){Wl(M),jf(M),M.g=null;var ce=2}else if(Ln(M.h,j))X=j.D,Wn(M.h,j),ce=1;else return;if(M.G!=0){if(j.o)if(ce==1){X=j.m?j.m.length:0,j=Date.now()-j.F;var Ee=M.B;ce=$n(),ct(ce,new kn(ce,X)),Ff(M)}else om(M);else if(Ee=j.s,Ee==3||Ee==0&&0<j.X||!(ce==1&&Vf(M,j)||ce==2&&Hf(M)))switch(X&&0<X.length&&(j=M.h,j.i=j.i.concat(X)),Ee){case 1:$l(M,5);break;case 4:$l(M,10);break;case 3:$l(M,6);break;default:$l(M,2)}}}function pd(M,j){let X=M.Ta+Math.floor(Math.random()*M.cb);return M.isActive()||(X*=2),X*j}function $l(M,j){if(M.j.info("Error code "+j),j==2){var X=y(M.fb,M),ce=M.Xa;const Ee=!ce;ce=new nr(ce||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ei(ce,"https"),or(ce),Ee?ld(ce.toString(),X):rm(ce.toString(),X)}else Mt(2);M.G=0,M.l&&M.l.sa(j),Gf(M),am(M)}n.fb=function(M){M?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Gf(M){if(M.G=0,M.ka=[],M.l){const j=un(M.h);(j.length!=0||M.i.length!=0)&&(E(M.ka,j),E(M.ka,M.i),M.h.i.length=0,S(M.i),M.i.length=0),M.l.ra()}}function cm(M,j,X){var ce=X instanceof nr?Ai(X):new nr(X);if(ce.g!="")j&&(ce.g=j+"."+ce.g),Er(ce,ce.s);else{var Ee=o.location;ce=Ee.protocol,j=j?j+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;var je=new nr(null);ce&&ei(je,ce),j&&(je.g=j),Ee&&Er(je,Ee),X&&(je.l=X),ce=je}return X=M.D,j=M.ya,X&&j&&hn(ce,X,j),hn(ce,"VER",M.la),Mu(M,ce),ce}function Lo(M,j,X){if(j&&!M.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=M.Ca&&!M.pa?new Vi(new Hl({eb:X})):new Vi(M.pa),j.Ha(M.J),j}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function md(){}n=md.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function gd(){}gd.prototype.g=function(M,j){return new Hs(M,j)};function Hs(M,j){Re.call(this),this.g=new sm(j),this.l=M,this.h=j&&j.messageUrlParams||null,M=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(M?M["X-Client-Protocol"]="webchannel":M={"X-Client-Protocol":"webchannel"}),this.g.o=M,M=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(M?M["X-WebChannel-Content-Type"]=j.messageContentType:M={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(M?M["X-WebChannel-Client-Profile"]=j.va:M={"X-WebChannel-Client-Profile":j.va}),this.g.S=M,(M=j&&j.Sb)&&!w(M)&&(this.g.m=M),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!w(j)&&(this.g.D=j,M=this.h,M!==null&&j in M&&(M=this.h,j in M&&delete M[j])),this.j=new Xl(this)}_(Hs,Re),Hs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hs.prototype.close=function(){ud(this.g)},Hs.prototype.o=function(M){var j=this.g;if(typeof M=="string"){var X={};X.__data__=M,M=X}else this.u&&(X={},X.__data__=vt(M),M=X);j.i.push(new sn(j.Ya++,M)),j.G==3&&Ff(j)},Hs.prototype.N=function(){this.g.l=null,delete this.j,ud(this.g),delete this.g,Hs.aa.N.call(this)};function fl(M){Qe.call(this),M.__headers__&&(this.headers=M.__headers__,this.statusCode=M.__status__,delete M.__headers__,delete M.__status__);var j=M.__sm__;if(j){e:{for(const X in j){M=X;break e}M=void 0}(this.i=M)&&(M=this.i,j=j!==null&&M in j?j[M]:void 0),this.data=j}else this.data=M}_(fl,Qe);function Uo(){xt.call(this),this.status=1}_(Uo,xt);function Xl(M){this.g=M}_(Xl,md),Xl.prototype.ua=function(){ct(this.g,"a")},Xl.prototype.ta=function(M){ct(this.g,new fl(M))},Xl.prototype.sa=function(M){ct(this.g,new Uo)},Xl.prototype.ra=function(){ct(this.g,"b")},gd.prototype.createWebChannel=gd.prototype.g,Hs.prototype.send=Hs.prototype.o,Hs.prototype.open=Hs.prototype.m,Hs.prototype.close=Hs.prototype.close,jV=function(){return new gd},HV=function(){return $n()},VV=_t,pI={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yn.NO_ERROR=0,yn.TIMEOUT=8,yn.HTTP_ERROR=6,qw=yn,fr.COMPLETE="complete",FV=fr,gt.EventType=Fe,Fe.OPEN="a",Fe.CLOSE="b",Fe.ERROR="c",Fe.MESSAGE="d",Re.prototype.listen=Re.prototype.K,Tb=gt,Vi.prototype.listenOnce=Vi.prototype.L,Vi.prototype.getLastError=Vi.prototype.Ka,Vi.prototype.getLastErrorCode=Vi.prototype.Ba,Vi.prototype.getStatus=Vi.prototype.Z,Vi.prototype.getResponseJson=Vi.prototype.Oa,Vi.prototype.getResponseText=Vi.prototype.oa,Vi.prototype.send=Vi.prototype.ea,Vi.prototype.setWithCredentials=Vi.prototype.Ha,BV=Vi}).apply(typeof rT<"u"?rT:typeof self<"u"?self:typeof window<"u"?window:{});const NU="@firebase/firestore",LU="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xa.UNAUTHENTICATED=new Xa(null),Xa.GOOGLE_CREDENTIALS=new Xa("google-credentials-uid"),Xa.FIRST_PARTY=new Xa("first-party-uid"),Xa.MOCK_USER=new Xa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u_="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=new yD("@firebase/firestore");function Yv(){return Wg.logLevel}function Ft(n,...e){if(Wg.logLevel<=ri.DEBUG){const t=e.map(bD);Wg.debug(`Firestore (${u_}): ${n}`,...t)}}function Gh(n,...e){if(Wg.logLevel<=ri.ERROR){const t=e.map(bD);Wg.error(`Firestore (${u_}): ${n}`,...t)}}function Pp(n,...e){if(Wg.logLevel<=ri.WARN){const t=e.map(bD);Wg.warn(`Firestore (${u_}): ${n}`,...t)}}function bD(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,GV(n,i,t)}function GV(n,e,t){let i=`FIRESTORE (${u_}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Gh(i),new Error(i)}function Br(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||GV(e,r,i)}function gi(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bt extends rd{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xa.UNAUTHENTICATED)))}shutdown(){}}class FQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class VQ{constructor(e){this.t=e,this.currentUser=Xa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Br(this.o===void 0,42304);let i=this.i;const r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new Ap;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ap,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await r(this.currentUser)}))},o=c=>{Ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>o(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ap)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Br(typeof i.accessToken=="string",31837,{l:i}),new qV(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Br(e===null||typeof e=="string",2055,{h:e}),new Xa(e)}}class HQ{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Xa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jQ{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new HQ(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Xa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class UU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GQ{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,df(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Br(this.o===void 0,3512);const i=s=>{s.error!=null&&Ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Ft("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>i(s)))};const r=s=>{Ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>r(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new UU(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Br(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new UU(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=qQ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}}function Kn(n,e){return n<e?-1:n>e?1:0}function mI(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Kn(i,r);{const s=WV(),a=WQ(s.encode(kU(n,t)),s.encode(kU(e,t)));return a!==0?a:Kn(i,r)}}t+=i>65535?2:1}return Kn(n.length,e.length)}function kU(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function WQ(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Kn(n[t],e[t]);return Kn(n.length,e.length)}function w0(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="__name__";class lf{constructor(e,t,i){t===void 0?t=0:t>e.length&&Rn(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Rn(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return lf.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lf?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=lf.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return Kn(e.length,t.length)}static compareSegments(e,t){const i=lf.isNumericId(e),r=lf.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?lf.extractNumericId(e).compare(lf.extractNumericId(t)):mI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cp.fromString(e.substring(4,e.length-2))}}class sr extends lf{construct(e,t,i){return new sr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Bt(mt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new sr(t)}static emptyPath(){return new sr([])}}const $Q=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ka extends lf{construct(e,t,i){return new Ka(e,t,i)}static isValidIdentifier(e){return $Q.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ka.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zU}static keyField(){return new Ka([zU])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Bt(mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const o=e[r];if(o==="\\"){if(r+1===e.length)throw new Bt(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Bt(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else o==="`"?(a=!a,r++):o!=="."||a?(i+=o,r++):(s(),r++)}if(s(),a)throw new Bt(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ka(t)}static emptyPath(){return new Ka([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.path=e}static fromPath(e){return new nn(sr.fromString(e))}static fromName(e){return new nn(sr.fromString(e).popFirst(5))}static empty(){return new nn(sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&sr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return sr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nn(new sr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(n,e,t){if(!t)throw new Bt(mt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function XQ(n,e,t,i){if(e===!0&&i===!0)throw new Bt(mt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function BU(n){if(!nn.isDocumentKey(n))throw new Bt(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FU(n){if(nn.isDocumentKey(n))throw new Bt(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XV(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function oA(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Rn(12329,{type:typeof n})}function xx(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Bt(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=oA(n);throw new Bt(mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n,e){const t={typeString:n};return e&&(t.value=e),t}function gS(n,e){if(!XV(n))throw new Bt(mt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const a=n[i];if(r&&typeof a!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${i}' field to equal '${s.value}'`;break}}if(t)throw new Bt(mt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=-62135596800,HU=1e6;class xr{static now(){return xr.fromMillis(Date.now())}static fromDate(e){return xr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*HU);return new xr(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<VU)throw new Bt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HU}_compareTo(e){return this.seconds===e.seconds?Kn(this.nanoseconds,e.nanoseconds):Kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gS(e,xr._jsonSchema))return new xr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xr._jsonSchemaVersion="firestore/timestamp/1.0",xr._jsonSchema={type:Ms("string",xr._jsonSchemaVersion),seconds:Ms("number"),nanoseconds:Ms("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{static fromTimestamp(e){return new An(e)}static min(){return new An(new xr(0,0))}static max(){return new An(new xr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=-1;function YQ(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=An.fromTimestamp(i===1e9?new xr(t+1,0):new xr(t,i));return new Dp(r,nn.empty(),e)}function KQ(n){return new Dp(n.readTime,n.key,Sx)}class Dp{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Dp(An.min(),nn.empty(),Sx)}static max(){return new Dp(An.max(),nn.empty(),Sx)}}function ZQ(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=nn.comparator(n.documentKey,e.documentKey),t!==0?t:Kn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(n){if(n.code!==mt.FAILED_PRECONDITION||n.message!==QQ)throw n;Ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Rn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nt(((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof nt?t:nt.resolve(t)}catch(t){return nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.reject(t)}static resolve(e){return new nt(((t,i)=>{t(e)}))}static reject(e){return new nt(((t,i)=>{i(e)}))}static waitFor(e){return new nt(((t,i)=>{let r=0,s=0,a=!1;e.forEach((o=>{++r,o.next((()=>{++s,a&&s===r&&t()}),(c=>i(c)))})),a=!0,s===r&&t()}))}static or(e){let t=nt.resolve(!1);for(const i of e)t=t.next((r=>r?nt.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,s)=>{i.push(t.call(this,r,s))})),this.waitFor(i)}static mapArray(e,t){return new nt(((i,r)=>{const s=e.length,a=new Array(s);let o=0;for(let c=0;c<s;c++){const u=c;t(e[u]).next((h=>{a[u]=h,++o,o===s&&i(a)}),(h=>r(h)))}}))}static doWhile(e,t){return new nt(((i,r)=>{const s=()=>{e()===!0?t().next((()=>{s()}),r):i()};s()}))}}function eJ(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function f_(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}cA.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tJ=-1;function uA(n){return n==null}function w2(n){return n===0&&1/n==-1/0}function nJ(n){return typeof n=="number"&&Number.isInteger(n)&&!w2(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV="";function iJ(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jU(e)),e=rJ(n.get(t),e);return jU(e)}function rJ(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="";break;case YV:t+="";break;default:t+=s}}return t}function jU(n){return n+YV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function h_(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,t){this.comparator=e,this.root=t||_a.EMPTY}insert(e,t){return new ds(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_a.BLACK,null,null))}remove(e){return new ds(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_a.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sT(this.root,e,this.comparator,!1)}getReverseIterator(){return new sT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sT(this.root,e,this.comparator,!0)}}class sT{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _a{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??_a.RED,this.left=r??_a.EMPTY,this.right=s??_a.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new _a(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _a.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return _a.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_a.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Rn(27949);return e+(this.isRed()?0:1)}}_a.EMPTY=null,_a.RED=!0,_a.BLACK=!1;_a.EMPTY=new class{constructor(){this.size=0}get key(){throw Rn(57766)}get value(){throw Rn(16141)}get color(){throw Rn(16727)}get left(){throw Rn(29726)}get right(){throw Rn(36894)}copy(e,t,i,r,s){return this}insert(e,t,i){return new _a(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.comparator=e,this.data=new ds(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qU(this.data.getIterator())}getIteratorFrom(e){return new qU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof ks)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ks(this.comparator);return t.data=e,t}}class qU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this.fields=e,e.sort(Ka.comparator)}static empty(){return new yp([])}unionWith(e){let t=new ks(Ka.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new yp(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return w0(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ZV("Invalid base64 string: "+s):s}})(e);return new Ca(t)}static fromUint8Array(e){const t=(function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s})(e);return new Ca(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ca.EMPTY_BYTE_STRING=new Ca("");const sJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Np(n){if(Br(!!n,39018),typeof n=="string"){let e=0;const t=sJ.exec(n);if(Br(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:us(n.seconds),nanos:us(n.nanos)}}function us(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Lp(n){return typeof n=="string"?Ca.fromBase64String(n):Ca.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="server_timestamp",JV="__type__",e8="__previous_value__",t8="__local_write_time__";function SD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[JV])===null||t===void 0?void 0:t.stringValue)===QV}function fA(n){const e=n.mapValue.fields[e8];return SD(e)?fA(e):e}function Ex(n){const e=Np(n.mapValue.fields[t8].timestampValue);return new xr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aJ{constructor(e,t,i,r,s,a,o,c,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const C2="(default)";class Tx{constructor(e,t){this.projectId=e,this.database=t||C2}static empty(){return new Tx("","")}get isDefaultDatabase(){return this.database===C2}isEqual(e){return e instanceof Tx&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8="__type__",oJ="__max__",aT={mapValue:{}},i8="__vector__",A2="value";function Up(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?SD(n)?4:cJ(n)?9007199254740991:lJ(n)?10:11:Rn(28295,{value:n})}function Of(n,e){if(n===e)return!0;const t=Up(n);if(t!==Up(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ex(n).isEqual(Ex(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Np(r.timestampValue),o=Np(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,s){return Lp(r.bytesValue).isEqual(Lp(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,s){return us(r.geoPointValue.latitude)===us(s.geoPointValue.latitude)&&us(r.geoPointValue.longitude)===us(s.geoPointValue.longitude)})(n,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return us(r.integerValue)===us(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=us(r.doubleValue),o=us(s.doubleValue);return a===o?w2(a)===w2(o):isNaN(a)&&isNaN(o)}return!1})(n,e);case 9:return w0(n.arrayValue.values||[],e.arrayValue.values||[],Of);case 10:case 11:return(function(r,s){const a=r.mapValue.fields||{},o=s.mapValue.fields||{};if(GU(a)!==GU(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!Of(a[c],o[c])))return!1;return!0})(n,e);default:return Rn(52216,{left:n})}}function wx(n,e){return(n.values||[]).find((t=>Of(t,e)))!==void 0}function C0(n,e){if(n===e)return 0;const t=Up(n),i=Up(e);if(t!==i)return Kn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kn(n.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=us(s.integerValue||s.doubleValue),c=us(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1})(n,e);case 3:return WU(n.timestampValue,e.timestampValue);case 4:return WU(Ex(n),Ex(e));case 5:return mI(n.stringValue,e.stringValue);case 6:return(function(s,a){const o=Lp(s),c=Lp(a);return o.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),c=a.split("/");for(let u=0;u<o.length&&u<c.length;u++){const h=Kn(o[u],c[u]);if(h!==0)return h}return Kn(o.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=Kn(us(s.latitude),us(a.latitude));return o!==0?o:Kn(us(s.longitude),us(a.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return $U(n.arrayValue,e.arrayValue);case 10:return(function(s,a){var o,c,u,h;const p=s.fields||{},y=a.fields||{},v=(o=p[A2])===null||o===void 0?void 0:o.arrayValue,_=(c=y[A2])===null||c===void 0?void 0:c.arrayValue,S=Kn(((u=v?.values)===null||u===void 0?void 0:u.length)||0,((h=_?.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:$U(v,_)})(n.mapValue,e.mapValue);case 11:return(function(s,a){if(s===aT.mapValue&&a===aT.mapValue)return 0;if(s===aT.mapValue)return 1;if(a===aT.mapValue)return-1;const o=s.fields||{},c=Object.keys(o),u=a.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const y=mI(c[p],h[p]);if(y!==0)return y;const v=C0(o[c[p]],u[h[p]]);if(v!==0)return v}return Kn(c.length,h.length)})(n.mapValue,e.mapValue);default:throw Rn(23264,{le:t})}}function WU(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Kn(n,e);const t=Np(n),i=Np(e),r=Kn(t.seconds,i.seconds);return r!==0?r:Kn(t.nanos,i.nanos)}function $U(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=C0(t[r],i[r]);if(s)return s}return Kn(t.length,i.length)}function A0(n){return gI(n)}function gI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Np(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Lp(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return nn.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=gI(s);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${gI(t.fields[a])}`;return r+"}"})(n.mapValue):Rn(61005,{value:n})}function Ww(n){switch(Up(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fA(n);return e?16+Ww(e):16;case 5:return 2*n.stringValue.length;case 6:return Lp(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,s)=>r+Ww(s)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return h_(i.fields,((s,a)=>{r+=s.length+Ww(a)})),r})(n.mapValue);default:throw Rn(13486,{value:n})}}function XU(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yI(n){return!!n&&"integerValue"in n}function ED(n){return!!n&&"arrayValue"in n}function YU(n){return!!n&&"nullValue"in n}function KU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function VR(n){return!!n&&"mapValue"in n}function lJ(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[n8])===null||t===void 0?void 0:t.stringValue)===i8}function Gb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return h_(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Gb(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cJ(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===oJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.value=e}static empty(){return new pf({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!VR(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gb(t)}setAll(e){let t=Ka.emptyPath(),i={},r=[];e.forEach(((a,o)=>{if(!t.isImmediateParentOf(o)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=o.popLast()}a?i[o.lastSegment()]=Gb(a):r.push(o.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());VR(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Of(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];VR(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){h_(t,((r,s)=>e[r]=s));for(const r of i)delete e[r]}clone(){return new pf(Gb(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t,i,r,s,a,o){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ya(e,0,An.min(),An.min(),An.min(),pf.empty(),0)}static newFoundDocument(e,t,i,r){return new Ya(e,1,t,An.min(),i,r,0)}static newNoDocument(e,t){return new Ya(e,2,t,An.min(),An.min(),pf.empty(),0)}static newUnknownDocument(e,t){return new Ya(e,3,t,An.min(),An.min(),pf.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(An.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=An.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ya&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ya(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t){this.position=e,this.inclusive=t}}function ZU(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(s.field.isKeyField()?i=nn.comparator(nn.fromName(a.referenceValue),t.key):i=C0(a,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function QU(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Of(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,t="asc"){this.field=e,this.dir=t}}function uJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{}class As extends r8{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new hJ(e,t,i):t==="array-contains"?new mJ(e,i):t==="in"?new gJ(e,i):t==="not-in"?new yJ(e,i):t==="array-contains-any"?new vJ(e,i):new As(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new dJ(e,i):new pJ(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(C0(t,this.value)):t!==null&&Up(this.value)===Up(t)&&this.matchesComparison(C0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Rn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yu extends r8{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new yu(e,t)}matches(e){return s8(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function s8(n){return n.op==="and"}function a8(n){return fJ(n)&&s8(n)}function fJ(n){for(const e of n.filters)if(e instanceof yu)return!1;return!0}function vI(n){if(n instanceof As)return n.field.canonicalString()+n.op.toString()+A0(n.value);if(a8(n))return n.filters.map((e=>vI(e))).join(",");{const e=n.filters.map((t=>vI(t))).join(",");return`${n.op}(${e})`}}function o8(n,e){return n instanceof As?(function(i,r){return r instanceof As&&i.op===r.op&&i.field.isEqual(r.field)&&Of(i.value,r.value)})(n,e):n instanceof yu?(function(i,r){return r instanceof yu&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((s,a,o)=>s&&o8(a,r.filters[o])),!0):!1})(n,e):void Rn(19439)}function l8(n){return n instanceof As?(function(t){return`${t.field.canonicalString()} ${t.op} ${A0(t.value)}`})(n):n instanceof yu?(function(t){return t.op.toString()+" {"+t.getFilters().map(l8).join(" ,")+"}"})(n):"Filter"}class hJ extends As{constructor(e,t,i){super(e,t,i),this.key=nn.fromName(i.referenceValue)}matches(e){const t=nn.comparator(e.key,this.key);return this.matchesComparison(t)}}class dJ extends As{constructor(e,t){super(e,"in",t),this.keys=c8("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class pJ extends As{constructor(e,t){super(e,"not-in",t),this.keys=c8("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function c8(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>nn.fromName(i.referenceValue)))}class mJ extends As{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ED(t)&&wx(t.arrayValue,this.value)}}class gJ extends As{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wx(this.value.arrayValue,t)}}class yJ extends As{constructor(e,t){super(e,"not-in",t)}matches(e){if(wx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wx(this.value.arrayValue,t)}}class vJ extends As{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ED(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>wx(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e,t=null,i=[],r=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=o,this.Pe=null}}function JU(n,e=null,t=[],i=[],r=null,s=null,a=null){return new _J(n,e,t,i,r,s,a)}function TD(n){const e=gi(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>vI(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(s){return s.field.canonicalString()+s.dir})(i))).join(","),uA(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>A0(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>A0(i))).join(",")),e.Pe=t}return e.Pe}function wD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uJ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!o8(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!QU(n.startAt,e.startAt)&&QU(n.endAt,e.endAt)}function _I(n){return nn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,t=null,i=[],r=[],s=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function bJ(n,e,t,i,r,s,a,o){return new yS(n,e,t,i,r,s,a,o)}function CD(n){return new yS(n)}function e5(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function u8(n){return n.collectionGroup!==null}function qb(n){const e=gi(n);if(e.Te===null){e.Te=[];const t=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new ks(Ka.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(o=o.add(u.field))}))})),o})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new R2(s,i))})),t.has(Ka.keyField().canonicalString())||e.Te.push(new R2(Ka.keyField(),i))}return e.Te}function xf(n){const e=gi(n);return e.Ie||(e.Ie=xJ(e,qb(n))),e.Ie}function xJ(n,e){if(n.limitType==="F")return JU(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const s=r.dir==="desc"?"asc":"desc";return new R2(r.field,s)}));const t=n.endAt?new M2(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new M2(n.startAt.position,n.startAt.inclusive):null;return JU(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function bI(n,e){const t=n.filters.concat([e]);return new yS(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function xI(n,e,t){return new yS(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hA(n,e){return wD(xf(n),xf(e))&&n.limitType===e.limitType}function f8(n){return`${TD(xf(n))}|lt:${n.limitType}`}function Kv(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>l8(r))).join(", ")}]`),uA(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>A0(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>A0(r))).join(",")),`Target(${i})`})(xf(n))}; limitType=${n.limitType})`}function dA(n,e){return e.isFoundDocument()&&(function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):nn.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)})(n,e)&&(function(i,r){for(const s of qb(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(a,o,c){const u=ZU(a,o,c);return a.inclusive?u<=0:u<0})(i.startAt,qb(i),r)||i.endAt&&!(function(a,o,c){const u=ZU(a,o,c);return a.inclusive?u>=0:u>0})(i.endAt,qb(i),r))})(n,e)}function SJ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function h8(n){return(e,t)=>{let i=!1;for(const r of qb(n)){const s=EJ(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function EJ(n,e,t){const i=n.field.isKeyField()?nn.comparator(e.key,t.key):(function(s,a,o){const c=a.data.field(s),u=o.data.field(s);return c!==null&&u!==null?C0(c,u):Rn(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Rn(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){h_(this.inner,((t,i)=>{for(const[r,s]of i)e(r,s)}))}isEmpty(){return KV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TJ=new ds(nn.comparator);function kp(){return TJ}const d8=new ds(nn.comparator);function wb(...n){let e=d8;for(const t of n)e=e.insert(t.key,t);return e}function wJ(n){let e=d8;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Tg(){return Wb()}function p8(){return Wb()}function Wb(){return new ry((n=>n.toString()),((n,e)=>n.isEqual(e)))}const CJ=new ks(nn.comparator);function _i(...n){let e=CJ;for(const t of n)e=e.add(t);return e}const AJ=new ks(Kn);function MJ(){return AJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:w2(e)?"-0":e}}function m8(n){return{integerValue:""+n}}function RJ(n,e){return nJ(e)?m8(e):AD(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this._=void 0}}function OJ(n,e,t){return n instanceof SI?(function(r,s){const a={fields:{[JV]:{stringValue:QV},[t8]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&SD(s)&&(s=fA(s)),s&&(a.fields[e8]=s),{mapValue:a}})(t,e):n instanceof O2?g8(n,e):n instanceof I2?y8(n,e):(function(r,s){const a=PJ(r,s),o=t5(a)+t5(r.Ee);return yI(a)&&yI(r.Ee)?m8(o):AD(r.serializer,o)})(n,e)}function IJ(n,e,t){return n instanceof O2?g8(n,e):n instanceof I2?y8(n,e):t}function PJ(n,e){return n instanceof EI?(function(i){return yI(i)||(function(s){return!!s&&"doubleValue"in s})(i)})(e)?e:{integerValue:0}:null}class SI extends pA{}class O2 extends pA{constructor(e){super(),this.elements=e}}function g8(n,e){const t=v8(e);for(const i of n.elements)t.some((r=>Of(r,i)))||t.push(i);return{arrayValue:{values:t}}}class I2 extends pA{constructor(e){super(),this.elements=e}}function y8(n,e){let t=v8(e);for(const i of n.elements)t=t.filter((r=>!Of(r,i)));return{arrayValue:{values:t}}}class EI extends pA{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function t5(n){return us(n.integerValue||n.doubleValue)}function v8(n){return ED(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function DJ(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof O2&&r instanceof O2||i instanceof I2&&r instanceof I2?w0(i.elements,r.elements,Of):i instanceof EI&&r instanceof EI?Of(i.Ee,r.Ee):i instanceof SI&&r instanceof SI})(n.transform,e.transform)}class Pg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pg}static exists(e){return new Pg(void 0,e)}static updateTime(e){return new Pg(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $w(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class MD{}function _8(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new LJ(n.key,Pg.none()):new RD(n.key,n.data,Pg.none());{const t=n.data,i=pf.empty();let r=new ks(Ka.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new mA(n.key,i,new yp(r.toArray()),Pg.none())}}function NJ(n,e,t){n instanceof RD?(function(r,s,a){const o=r.value.clone(),c=i5(r.fieldTransforms,s,a.transformResults);o.setAll(c),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(n,e,t):n instanceof mA?(function(r,s,a){if(!$w(r.precondition,s))return void s.convertToUnknownDocument(a.version);const o=i5(r.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(b8(r)),c.setAll(o),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(n,e,t):(function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function $b(n,e,t,i){return n instanceof RD?(function(s,a,o,c){if(!$w(s.precondition,a))return o;const u=s.value.clone(),h=r5(s.fieldTransforms,c,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null})(n,e,t,i):n instanceof mA?(function(s,a,o,c){if(!$w(s.precondition,a))return o;const u=r5(s.fieldTransforms,c,a),h=a.data;return h.setAll(b8(s)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(n,e,t,i):(function(s,a,o){return $w(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(n,e,t)}function n5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&w0(i,r,((s,a)=>DJ(s,a)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class RD extends MD{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class mA extends MD{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function b8(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function i5(n,e,t){const i=new Map;Br(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,o=e.data.field(s.field);i.set(s.field,IJ(a,o,t[r]))}return i}function r5(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,OJ(s,a,e))}return i}class LJ extends MD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&NJ(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=$b(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=$b(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=p8();return this.mutations.forEach((r=>{const s=e.get(r.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=t.has(r.key)?null:o;const c=_8(a,o);c!==null&&i.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(An.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),_i())}isEqual(e){return this.batchId===e.batchId&&w0(this.mutations,e.mutations,((t,i)=>n5(t,i)))&&w0(this.baseMutations,e.baseMutations,((t,i)=>n5(t,i)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Es,hi;function x8(n){if(n===void 0)return Gh("GRPC error has no .code"),mt.UNKNOWN;switch(n){case Es.OK:return mt.OK;case Es.CANCELLED:return mt.CANCELLED;case Es.UNKNOWN:return mt.UNKNOWN;case Es.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case Es.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case Es.INTERNAL:return mt.INTERNAL;case Es.UNAVAILABLE:return mt.UNAVAILABLE;case Es.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case Es.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case Es.NOT_FOUND:return mt.NOT_FOUND;case Es.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case Es.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case Es.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case Es.ABORTED:return mt.ABORTED;case Es.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case Es.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case Es.DATA_LOSS:return mt.DATA_LOSS;default:return Rn(39323,{code:n})}}(hi=Es||(Es={}))[hi.OK=0]="OK",hi[hi.CANCELLED=1]="CANCELLED",hi[hi.UNKNOWN=2]="UNKNOWN",hi[hi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hi[hi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hi[hi.NOT_FOUND=5]="NOT_FOUND",hi[hi.ALREADY_EXISTS=6]="ALREADY_EXISTS",hi[hi.PERMISSION_DENIED=7]="PERMISSION_DENIED",hi[hi.UNAUTHENTICATED=16]="UNAUTHENTICATED",hi[hi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hi[hi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hi[hi.ABORTED=10]="ABORTED",hi[hi.OUT_OF_RANGE=11]="OUT_OF_RANGE",hi[hi.UNIMPLEMENTED=12]="UNIMPLEMENTED",hi[hi.INTERNAL=13]="INTERNAL",hi[hi.UNAVAILABLE=14]="UNAVAILABLE",hi[hi.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BJ=new Cp([4294967295,4294967295],0);function s5(n){const e=WV().encode(n),t=new zV;return t.update(e),new Uint8Array(t.digest())}function a5(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Cp([t,i],0),new Cp([r,s],0)]}class OD{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Cb(`Invalid padding: ${t}`);if(i<0)throw new Cb(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Cb(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Cb(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Cp.fromNumber(this.fe)}pe(e,t,i){let r=e.add(t.multiply(Cp.fromNumber(i)));return r.compare(BJ)===1&&(r=new Cp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=s5(e),[i,r]=a5(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);if(!this.ye(a))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new OD(s,r,t);return i.forEach((o=>a.insert(o))),a}insert(e){if(this.fe===0)return;const t=s5(e),[i,r]=a5(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);this.we(a)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Cb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,vS.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new gA(An.min(),r,new ds(Kn),kp(),_i())}}class vS{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new vS(i,t,_i(),_i(),_i())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t,i,r){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=r}}class S8{constructor(e,t){this.targetId=e,this.De=t}}class E8{constructor(e,t,i=Ca.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class o5{constructor(){this.ve=0,this.Ce=l5(),this.Fe=Ca.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=_i(),t=_i(),i=_i();return this.Ce.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Rn(38017,{changeType:s})}})),new vS(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=l5()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Br(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class FJ{constructor(e){this.We=e,this.Ge=new Map,this.ze=kp(),this.je=oT(),this.Je=oT(),this.He=new ds(Kn)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:Rn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((i,r)=>{this.nt(r)&&t(r)}))}it(e){const t=e.targetId,i=e.De.count,r=this.st(t);if(r){const s=r.target;if(_I(s))if(i===0){const a=new nn(s.path);this.Xe(t,a,Ya.newNoDocument(a,An.min()))}else Br(i===1,20013,{expectedCount:i});else{const a=this.ot(t);if(a!==i){const o=this._t(e),c=o?this.ut(o,e,a):1;if(c!==0){this.rt(t);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let a,o;try{a=Lp(i).toUint8Array()}catch(c){if(c instanceof ZV)return Pp("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new OD(a,r,s)}catch(c){return Pp(c instanceof Cb?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.fe===0?null:o}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let r=0;return i.forEach((s=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,s,null),r++)})),r}Pt(e){const t=new Map;this.Ge.forEach(((s,a)=>{const o=this.st(a);if(o){if(s.current&&_I(o.target)){const c=new nn(o.target.path);this.Tt(c).has(a)||this.It(a,c)||this.Xe(a,c,Ya.newNoDocument(c,e))}s.Ne&&(t.set(a,s.Le()),s.ke())}}));let i=_i();this.Je.forEach(((s,a)=>{let o=!0;a.forEachWhile((c=>{const u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(i=i.add(s))})),this.ze.forEach(((s,a)=>a.setReadTime(e)));const r=new gA(e,t,this.He,this.ze,i);return this.ze=kp(),this.je=oT(),this.Je=oT(),this.He=new ds(Kn),r}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new o5,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ks(Kn),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ks(Kn),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Ft("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new o5),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function oT(){return new ds(nn.comparator)}function l5(){return new ds(nn.comparator)}const VJ={asc:"ASCENDING",desc:"DESCENDING"},HJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jJ={and:"AND",or:"OR"};class GJ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function TI(n,e){return n.useProto3Json||uA(e)?e:{value:e}}function wI(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T8(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function u0(n){return Br(!!n,49232),An.fromTimestamp((function(t){const i=Np(t);return new xr(i.seconds,i.nanos)})(n))}function w8(n,e){return CI(n,e).canonicalString()}function CI(n,e){const t=(function(r){return new sr(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function C8(n){const e=sr.fromString(n);return Br(I8(e),10190,{key:e.toString()}),e}function HR(n,e){const t=C8(e);if(t.get(1)!==n.databaseId.projectId)throw new Bt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Bt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nn(M8(t))}function A8(n,e){return w8(n.databaseId,e)}function qJ(n){const e=C8(n);return e.length===4?sr.emptyPath():M8(e)}function c5(n){return new sr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function M8(n){return Br(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function WJ(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Rn(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=(function(u,h){return u.useProto3Json?(Br(h===void 0||typeof h=="string",58123),Ca.fromBase64String(h||"")):(Br(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ca.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(u){const h=u.code===void 0?mt.UNKNOWN:x8(u.code);return new Bt(h,u.message||"")})(a);t=new E8(i,r,s,o||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=HR(n,i.document.name),s=u0(i.document.updateTime),a=i.document.createTime?u0(i.document.createTime):An.min(),o=new pf({mapValue:{fields:i.document.fields}}),c=Ya.newFoundDocument(r,s,a,o),u=i.targetIds||[],h=i.removedTargetIds||[];t=new Xw(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=HR(n,i.document),s=i.readTime?u0(i.readTime):An.min(),a=Ya.newNoDocument(r,s),o=i.removedTargetIds||[];t=new Xw([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=HR(n,i.document),s=i.removedTargetIds||[];t=new Xw([],s,r,null)}else{if(!("filter"in e))return Rn(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new zJ(r,s),o=i.targetId;t=new S8(o,a)}}return t}function $J(n,e){return{documents:[A8(n,e.path)]}}function XJ(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=A8(n,r);const s=(function(u){if(u.length!==0)return O8(yu.create(u,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const a=(function(u){if(u.length!==0)return u.map((h=>(function(y){return{field:Zv(y.field),direction:ZJ(y.dir)}})(h)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=TI(n,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{Vt:t,parent:r}}function YJ(n){let e=qJ(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Br(i===1,65062);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=(function(p){const y=R8(p);return y instanceof yu&&a8(y)?y.getFilters():[y]})(t.where));let a=[];t.orderBy&&(a=(function(p){return p.map((y=>(function(_){return new R2(Qv(_.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(y)))})(t.orderBy));let o=null;t.limit&&(o=(function(p){let y;return y=typeof p=="object"?p.value:p,uA(y)?null:y})(t.limit));let c=null;t.startAt&&(c=(function(p){const y=!!p.before,v=p.values||[];return new M2(v,y)})(t.startAt));let u=null;return t.endAt&&(u=(function(p){const y=!p.before,v=p.values||[];return new M2(v,y)})(t.endAt)),bJ(e,r,a,s,o,"F",c,u)}function KJ(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rn(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function R8(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Qv(t.unaryFilter.field);return As.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Qv(t.unaryFilter.field);return As.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qv(t.unaryFilter.field);return As.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Qv(t.unaryFilter.field);return As.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rn(61313);default:return Rn(60726)}})(n):n.fieldFilter!==void 0?(function(t){return As.create(Qv(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rn(58110);default:return Rn(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return yu.create(t.compositeFilter.filters.map((i=>R8(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Rn(1026)}})(t.compositeFilter.op))})(n):Rn(30097,{filter:n})}function ZJ(n){return VJ[n]}function QJ(n){return HJ[n]}function JJ(n){return jJ[n]}function Zv(n){return{fieldPath:n.canonicalString()}}function Qv(n){return Ka.fromServerFormat(n.fieldPath)}function O8(n){return n instanceof As?(function(t){if(t.op==="=="){if(KU(t.value))return{unaryFilter:{field:Zv(t.field),op:"IS_NAN"}};if(YU(t.value))return{unaryFilter:{field:Zv(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(KU(t.value))return{unaryFilter:{field:Zv(t.field),op:"IS_NOT_NAN"}};if(YU(t.value))return{unaryFilter:{field:Zv(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zv(t.field),op:QJ(t.op),value:t.value}}})(n):n instanceof yu?(function(t){const i=t.getFilters().map((r=>O8(r)));return i.length===1?i[0]:{compositeFilter:{op:JJ(t.op),filters:i}}})(n):Rn(54877,{filter:n})}function I8(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t,i,r,s=An.min(),a=An.min(),o=Ca.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new vp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee{constructor(e){this.gt=e}}function tee(n){const e=YJ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xI(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(){this.Dn=new iee}addToCollectionParentIndex(e,t){return this.Dn.add(t),nt.resolve()}getCollectionParents(e,t){return nt.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return nt.resolve()}deleteFieldIndex(e,t){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,t){return nt.resolve()}getDocumentsMatchingTarget(e,t){return nt.resolve(null)}getIndexType(e,t){return nt.resolve(0)}getFieldIndexes(e,t){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,t){return nt.resolve(Dp.min())}getMinOffsetFromCollectionGroup(e,t){return nt.resolve(Dp.min())}updateCollectionGroup(e,t,i){return nt.resolve()}updateIndexEntries(e,t){return nt.resolve()}}class iee{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ks(sr.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ks(sr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P8=41943040;class Xo{static withCacheSize(e){return new Xo(e,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo.DEFAULT_COLLECTION_PERCENTILE=10,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xo.DEFAULT=new Xo(P8,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xo.DISABLED=new Xo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new M0(0)}static ur(){return new M0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="LruGarbageCollector",ree=1048576;function h5([n,e],[t,i]){const r=Kn(n,t);return r===0?Kn(e,i):r}class see{constructor(e){this.Tr=e,this.buffer=new ks(h5),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();h5(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aee{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ft(f5,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){f_(t)?Ft(f5,"Ignoring IndexedDB error during garbage collection: ",t):await lA(t)}await this.Rr(3e5)}))}}class oee{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return nt.resolve(cA.ue);const i=new see(t);return this.Vr.forEachTarget(e,(r=>i.Er(r.sequenceNumber))).next((()=>this.Vr.gr(e,(r=>i.Er(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(u5)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u5):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,r,s,a,o,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(e,r)))).next((p=>(i=p,o=Date.now(),this.removeTargets(e,i,t)))).next((p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,i)))).next((p=>(u=Date.now(),Yv()<=ri.DEBUG&&Ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${r} in `+(o-a)+`ms
	Removed ${s} targets in `+(c-o)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p}))))}}function lee(n,e){return new oee(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(){this.changes=new ry((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ya.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?nt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uee{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&$b(i.mutation,r,yp.empty(),xr.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,_i()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=_i()){const r=Tg();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((s=>{let a=wb();return s.forEach(((o,c)=>{a=a.insert(o,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const i=Tg();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,_i())))}populateOverlays(e,t,i){const r=[];return i.forEach((s=>{t.has(s)||r.push(s)})),this.documentOverlayCache.getOverlays(e,r).next((s=>{s.forEach(((a,o)=>{t.set(a,o)}))}))}computeViews(e,t,i,r){let s=kp();const a=Wb(),o=(function(){return Wb()})();return t.forEach(((c,u)=>{const h=i.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof mA)?s=s.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),$b(h.mutation,u,h.mutation.getFieldMask(),xr.now())):a.set(u.key,yp.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((u,h)=>a.set(u,h))),t.forEach(((u,h)=>{var p;return o.set(u,new uee(h,(p=a.get(u))!==null&&p!==void 0?p:null))})),o)))}recalculateAndSaveOverlays(e,t){const i=Wb();let r=new ds(((a,o)=>a-o)),s=_i();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const o of a)o.keys().forEach((c=>{const u=t.get(c);if(u===null)return;let h=i.get(c)||yp.empty();h=o.applyToLocalView(u,h),i.set(c,h);const p=(r.get(o.batchId)||_i()).add(c);r=r.insert(o.batchId,p)}))})).next((()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,h=c.value,p=p8();h.forEach((y=>{if(!s.has(y)){const v=_8(t.get(y),i.get(y));v!==null&&p.set(y,v),s=s.add(y)}})),a.push(this.documentOverlayCache.saveOverlays(e,u,p))}return nt.waitFor(a)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return(function(a){return nn.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):u8(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):nt.resolve(Tg());let o=Sx,c=s;return a.next((u=>nt.forEach(u,((h,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(h)?nt.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{c=c.insert(h,y)}))))).next((()=>this.populateOverlays(e,u,s))).next((()=>this.computeViews(e,c,u,_i()))).next((h=>({batchId:o,changes:wJ(h)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nn(t)).next((i=>{let r=wb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let a=wb();return this.indexManager.getCollectionParents(e,s).next((o=>nt.forEach(o,(c=>{const u=(function(p,y){return new yS(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next((h=>{h.forEach(((p,y)=>{a=a.insert(p,y)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r)))).next((a=>{s.forEach(((c,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Ya.newInvalidDocument(h)))}));let o=wb();return a.forEach(((c,u)=>{const h=s.get(c);h!==void 0&&$b(h.mutation,u,yp.empty(),xr.now()),dA(t,u)&&(o=o.insert(c,u))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return nt.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:u0(r.createTime)}})(t)),nt.resolve()}getNamedQuery(e,t){return nt.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(r){return{name:r.name,query:tee(r.bundledQuery),readTime:u0(r.readTime)}})(t)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee{constructor(){this.overlays=new ds(nn.comparator),this.kr=new Map}getOverlay(e,t){return nt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Tg();return nt.forEach(t,(r=>this.getOverlay(e,r).next((s=>{s!==null&&i.set(r,s)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,s)=>{this.wt(e,t,s)})),nt.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach((s=>this.overlays=this.overlays.remove(s))),this.kr.delete(i)),nt.resolve()}getOverlaysForCollection(e,t,i){const r=Tg(),s=t.length+1,a=new nn(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return nt.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ds(((u,h)=>u-h));const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let h=s.get(u.largestBatchId);h===null&&(h=Tg(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const o=Tg(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,h)=>o.set(u,h))),!(o.size()>=r)););return nt.resolve(o)}wt(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new kJ(t,i));let s=this.kr.get(t);s===void 0&&(s=_i(),this.kr.set(t,s)),this.kr.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(){this.sessionToken=Ca.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.qr=new ks(Js.Qr),this.$r=new ks(Js.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new Js(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new Js(e,t))}Gr(e,t){e.forEach((i=>this.removeReference(i,t)))}zr(e){const t=new nn(new sr([])),i=new Js(t,e),r=new Js(t,e+1),s=[];return this.$r.forEachInRange([i,r],(a=>{this.Wr(a),s.push(a.key)})),s}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new nn(new sr([])),i=new Js(t,e),r=new Js(t,e+1);let s=_i();return this.$r.forEachInRange([i,r],(a=>{s=s.add(a.key)})),s}containsKey(e){const t=new Js(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Js{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return nn.comparator(e.key,t.key)||Kn(e.Hr,t.Hr)}static Ur(e,t){return Kn(e.Hr,t.Hr)||nn.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ks(Js.Qr)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new UJ(s,t,i,r);this.mutationQueue.push(a);for(const o of r)this.Yr=this.Yr.add(new Js(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return nt.resolve(a)}lookupMutationBatch(e,t){return nt.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Xr(i),s=r<0?0:r;return nt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?tJ:this.er-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Js(t,0),r=new Js(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([i,r],(a=>{const o=this.Zr(a.Hr);s.push(o)})),nt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ks(Kn);return t.forEach((r=>{const s=new Js(r,0),a=new Js(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],(o=>{i=i.add(o.Hr)}))})),nt.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;nn.isDocumentKey(s)||(s=s.child(""));const a=new Js(new nn(s),0);let o=new ks(Kn);return this.Yr.forEachWhile((c=>{const u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(o=o.add(c.Hr)),!0)}),a),nt.resolve(this.ei(o))}ei(e){const t=[];return e.forEach((i=>{const r=this.Zr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){Br(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return nt.forEach(t.mutations,(r=>{const s=new Js(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Yr=i}))}rr(e){}containsKey(e,t){const i=new Js(t,0),r=this.Yr.firstAfterOrEqual(i);return nt.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e){this.ni=e,this.docs=(function(){return new ds(nn.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return nt.resolve(i?i.document.mutableCopy():Ya.newInvalidDocument(t))}getEntries(e,t){let i=kp();return t.forEach((r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ya.newInvalidDocument(r))})),nt.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=kp();const a=t.path,o=new nn(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||ZQ(KQ(h),i)<=0||(r.has(h.key)||dA(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return nt.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Rn(9500)}ri(e,t){return nt.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new yee(this)}getSize(e){return nt.resolve(this.size)}}class yee extends cee{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(i)})),nt.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vee{constructor(e){this.persistence=e,this.ii=new ry((t=>TD(t)),wD),this.lastRemoteSnapshotVersion=An.min(),this.highestTargetId=0,this.si=0,this.oi=new ID,this.targetCount=0,this._i=M0.ar()}forEachTarget(e,t){return this.ii.forEach(((i,r)=>t(r))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),nt.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new M0(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,nt.resolve()}updateTargetData(e,t){return this.hr(t),nt.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.ii.forEach(((a,o)=>{o.sequenceNumber<=t&&i.get(o.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),nt.waitFor(s).next((()=>r))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return nt.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),nt.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((a=>{s.push(r.markPotentiallyOrphaned(e,a))})),nt.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),nt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return nt.resolve(i)}containsKey(e,t){return nt.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,t){this.ai={},this.overlays={},this.ui=new cA(0),this.ci=!1,this.ci=!0,this.li=new pee,this.referenceDelegate=e(this),this.hi=new vee(this),this.indexManager=new nee,this.remoteDocumentCache=(function(r){return new gee(r)})((i=>this.referenceDelegate.Pi(i))),this.serializer=new eee(t),this.Ti=new hee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dee,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new mee(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){Ft("MemoryPersistence","Starting transaction:",e);const r=new _ee(this.ui.next());return this.referenceDelegate.Ii(),i(r).next((s=>this.referenceDelegate.di(r).next((()=>s)))).toPromise().then((s=>(r.raiseOnCommittedEvent(),s)))}Ei(e,t){return nt.or(Object.values(this.ai).map((i=>()=>i.containsKey(e,t))))}}class _ee extends JQ{constructor(e){super(),this.currentSequenceNumber=e}}class PD{constructor(e){this.persistence=e,this.Ai=new ID,this.Ri=null}static Vi(e){return new PD(e)}get mi(){if(this.Ri)return this.Ri;throw Rn(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),nt.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),nt.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),nt.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((r=>this.mi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((s=>this.mi.add(s.toString())))})).next((()=>i.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.mi,(i=>{const r=nn.fromPath(i);return this.fi(e,r).next((s=>{s||t.removeEntry(r,An.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return nt.or([()=>nt.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class P2{constructor(e,t){this.persistence=e,this.gi=new ry((i=>iJ(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=lee(this,t)}static Vi(e,t){return new P2(e,t)}Ii(){}di(e){return nt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}yr(e){let t=0;return this.gr(e,(i=>{t++})).next((()=>t))}gr(e,t){return nt.forEach(this.gi,((i,r)=>this.Sr(e,i,r).next((s=>s?nt.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(e,(a=>this.Sr(e,a,t).next((o=>{o||(i++,s.removeEntry(a,An.min()))})))).next((()=>s.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),nt.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),nt.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),nt.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),nt.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ww(e.data.value)),t}Sr(e,t,i){return nt.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.gi.get(t);return nt.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=r}static Es(e,t){let i=_i(),r=_i();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new DD(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bee{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xee{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return xZ()?8:eJ(eo())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.ps(e,t).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ys(e,t,r,i).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new bee;return this.ws(e,t,a).next((o=>{if(s.result=o,this.Rs)return this.Ss(e,t,a,o.size)}))})).next((()=>s.result))}Ss(e,t,i,r){return i.documentReadCount<this.Vs?(Yv()<=ri.DEBUG&&Ft("QueryEngine","SDK will not create cache indexes for query:",Kv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(Yv()<=ri.DEBUG&&Ft("QueryEngine","Query:",Kv(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Yv()<=ri.DEBUG&&Ft("QueryEngine","The SDK decides to create cache indexes for query:",Kv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xf(t))):nt.resolve())}ps(e,t){if(e5(t))return nt.resolve(null);let i=xf(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=xI(t,null,"F"),i=xf(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((s=>{const a=_i(...s);return this.gs.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,i).next((c=>{const u=this.bs(t,o);return this.Ds(t,u,a,c.readTime)?this.ps(e,xI(t,null,"F")):this.vs(e,u,t,c)}))))})))))}ys(e,t,i,r){return e5(t)||r.isEqual(An.min())?nt.resolve(null):this.gs.getDocuments(e,i).next((s=>{const a=this.bs(t,s);return this.Ds(t,a,i,r)?nt.resolve(null):(Yv()<=ri.DEBUG&&Ft("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Kv(t)),this.vs(e,a,t,YQ(r,Sx)).next((o=>o)))}))}bs(e,t){let i=new ks(h8(e));return t.forEach(((r,s)=>{dA(e,s)&&(i=i.add(s))})),i}Ds(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(e,t,i){return Yv()<=ri.DEBUG&&Ft("QueryEngine","Using full collection scan to execute query:",Kv(t)),this.gs.getDocumentsMatchingQuery(e,t,Dp.min(),i)}vs(e,t,i,r){return this.gs.getDocumentsMatchingQuery(e,i,r).next((s=>(t.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="LocalStore",See=3e8;class Eee{constructor(e,t,i,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new ds(Kn),this.Ms=new ry((s=>TD(s)),wD),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fee(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function Tee(n,e,t,i){return new Eee(n,e,t,i)}async function N8(n,e){const t=gi(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((s=>(r=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(i)))).next((s=>{const a=[],o=[];let c=_i();for(const u of r){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next((u=>({Bs:u,removedBatchIds:a,addedBatchIds:o})))}))}))}function L8(n){const e=gi(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function wee(n,e){const t=gi(n),i=e.snapshotVersion;let r=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=t.Os.newChangeBuffer({trackRemovals:!0});r=t.Fs;const o=[];e.targetChanges.forEach(((h,p)=>{const y=r.get(p);if(!y)return;o.push(t.hi.removeMatchingKeys(s,h.removedDocuments,p).next((()=>t.hi.addMatchingKeys(s,h.addedDocuments,p))));let v=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Ca.EMPTY_BYTE_STRING,An.min()).withLastLimboFreeSnapshotVersion(An.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(p,v),(function(S,E,b){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=See?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0})(y,v,h)&&o.push(t.hi.updateTargetData(s,v))}));let c=kp(),u=_i();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))})),o.push(Cee(s,a,e.documentUpdates).next((h=>{c=h.Ls,u=h.ks}))),!i.isEqual(An.min())){const h=t.hi.getLastRemoteSnapshotVersion(s).next((p=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,i)));o.push(h)}return nt.waitFor(o).next((()=>a.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,c,u))).next((()=>c))})).then((s=>(t.Fs=r,s)))}function Cee(n,e,t){let i=_i(),r=_i();return t.forEach((s=>i=i.add(s))),e.getEntries(n,i).next((s=>{let a=kp();return t.forEach(((o,c)=>{const u=s.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(o)),c.isNoDocument()&&c.version.isEqual(An.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):Ft(ND,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)})),{Ls:a,ks:r}}))}function Aee(n,e){const t=gi(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.hi.getTargetData(i,e).next((s=>s?(r=s,nt.resolve(r)):t.hi.allocateTargetId(i).next((a=>(r=new vp(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i}))}async function AI(n,e,t){const i=gi(n),r=i.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,(a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!f_(a))throw a;Ft(ND,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(r.target)}function d5(n,e,t){const i=gi(n);let r=An.min(),s=_i();return i.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,u,h){const p=gi(c),y=p.Ms.get(h);return y!==void 0?nt.resolve(p.Fs.get(y)):p.hi.getTargetData(u,h)})(i,a,xf(e)).next((o=>{if(o)return r=o.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(a,o.targetId).next((c=>{s=c}))})).next((()=>i.Cs.getDocumentsMatchingQuery(a,e,t?r:An.min(),t?s:_i()))).next((o=>(Mee(i,SJ(e),o),{documents:o,qs:s})))))}function Mee(n,e,t){let i=n.xs.get(e)||An.min();t.forEach(((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)})),n.xs.set(e,i)}class p5{constructor(){this.activeTargetIds=MJ()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ree{constructor(){this.Fo=new p5,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new p5,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oee{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="ConnectivityMonitor";class g5{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ft(m5,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ft(m5,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lT=null;function MI(){return lT===null?lT=(function(){return 268435456+Math.round(2147483648*Math.random())})():lT++,"0x"+lT.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="RestConnection",Iee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pee{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===C2?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,t,i,r,s){const a=MI(),o=this.Go(e,t.toUriEncodedString());Ft(jR,`Sending RPC '${e}' ${a}:`,o,i);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,r,s);const{host:u}=new URL(o),h=l_(u);return this.jo(e,o,c,i,h).then((p=>(Ft(jR,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw Pp(jR,`RPC '${e}' ${a} failed with error: `,p,"url: ",o,"request:",i),p}))}Jo(e,t,i,r,s,a){return this.Wo(e,t,i,r,s)}zo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+u_})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,s)=>e[s]=r)),i&&i.headers.forEach(((r,s)=>e[s]=r))}Go(e,t){const i=Iee[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="WebChannelConnection";class Nee extends Pee{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,r,s){const a=MI();return new Promise(((o,c)=>{const u=new BV;u.setWithCredentials(!0),u.listenOnce(FV.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case qw.NO_ERROR:const p=u.getResponseJson();Ft(Ha,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),o(p);break;case qw.TIMEOUT:Ft(Ha,`RPC '${e}' ${a} timed out`),c(new Bt(mt.DEADLINE_EXCEEDED,"Request time out"));break;case qw.HTTP_ERROR:const y=u.getStatus();if(Ft(Ha,`RPC '${e}' ${a} failed with status:`,y,"response text:",u.getResponseText()),y>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v?.error;if(_&&_.status&&_.message){const S=(function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(w)>=0?w:mt.UNKNOWN})(_.status);c(new Bt(S,_.message))}else c(new Bt(mt.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Bt(mt.UNAVAILABLE,"Connection failed."));break;default:Rn(9055,{c_:e,streamId:a,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{Ft(Ha,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(r);Ft(Ha,`RPC '${e}' ${a} sending request:`,r),u.send(t,"POST",h,i,15)}))}P_(e,t,i){const r=MI(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=jV(),o=HV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const h=s.join("");Ft(Ha,`Creating RPC '${e}' stream ${r}: ${h}`,c);const p=a.createWebChannel(h,c);this.T_(p);let y=!1,v=!1;const _=new Dee({Ho:E=>{v?Ft(Ha,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(y||(Ft(Ha,`Opening RPC '${e}' stream ${r} transport.`),p.open(),y=!0),Ft(Ha,`RPC '${e}' stream ${r} sending:`,E),p.send(E))},Yo:()=>p.close()}),S=(E,b,w)=>{E.listen(b,(A=>{try{w(A)}catch(C){setTimeout((()=>{throw C}),0)}}))};return S(p,Tb.EventType.OPEN,(()=>{v||(Ft(Ha,`RPC '${e}' stream ${r} transport opened.`),_.s_())})),S(p,Tb.EventType.CLOSE,(()=>{v||(v=!0,Ft(Ha,`RPC '${e}' stream ${r} transport closed`),_.__(),this.I_(p))})),S(p,Tb.EventType.ERROR,(E=>{v||(v=!0,Pp(Ha,`RPC '${e}' stream ${r} transport errored. Name:`,E.name,"Message:",E.message),_.__(new Bt(mt.UNAVAILABLE,"The operation could not be completed")))})),S(p,Tb.EventType.MESSAGE,(E=>{var b;if(!v){const w=E.data[0];Br(!!w,16349);const A=w,C=A?.error||((b=A[0])===null||b===void 0?void 0:b.error);if(C){Ft(Ha,`RPC '${e}' stream ${r} received error:`,C);const D=C.status;let L=(function(I){const N=Es[I];if(N!==void 0)return x8(N)})(D),P=C.message;L===void 0&&(L=mt.INTERNAL,P="Unknown error status: "+D+" with message "+C.message),v=!0,_.__(new Bt(L,P)),p.close()}else Ft(Ha,`RPC '${e}' stream ${r} received:`,w),_.a_(w)}})),S(o,VV.STAT_EVENT,(E=>{E.stat===pI.PROXY?Ft(Ha,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===pI.NOPROXY&&Ft(Ha,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{_.o_()}),0),_}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function GR(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(n){return new GJ(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-i);r>0&&Ft("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="PersistentStream";class Lee{constructor(e,t,i,r,s,a,o,c){this.Fi=e,this.w_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new U8(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===mt.RESOURCE_EXHAUSTED?(Gh(t.toString()),Gh("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===mt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.b_===t&&this.W_(i,r)}),(i=>{e((()=>{const r=new Bt(mt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)}))}))}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.e_((()=>{i((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((r=>{i((()=>this.G_(r)))})),this.stream.onMessage((r=>{i((()=>++this.C_==1?this.j_(r):this.onNext(r)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Ft(y5,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(Ft(y5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Uee extends Lee{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=WJ(this.serializer,e),i=(function(s){if(!("targetChange"in s))return An.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?An.min():a.readTime?u0(a.readTime):An.min()})(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=c5(this.serializer),t.addTarget=(function(s,a){let o;const c=a.target;if(o=_I(c)?{documents:$J(s,c)}:{query:XJ(s,c).Vt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=T8(s,a.resumeToken);const u=TI(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(An.min())>0){o.readTime=wI(s,a.snapshotVersion.toTimestamp());const u=TI(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o})(this.serializer,e);const i=KJ(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=c5(this.serializer),t.removeTarget=e,this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kee{}class zee extends kee{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new Bt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Wo(e,CI(t,i),r,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Bt(mt.UNKNOWN,s.toString())}))}Jo(e,t,i,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Jo(e,CI(t,i),r,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Bt(mt.UNKNOWN,a.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class Bee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Gh(t),this._a=!1):Ft("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="RemoteStore";class Fee{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo((a=>{i.enqueueAndForget((async()=>{bS(this)&&(Ft(R0,"Restarting streams for network reachability change."),await(async function(c){const u=gi(c);u.Ia.add(4),await _S(u),u.Aa.set("Unknown"),u.Ia.delete(4),await vA(u)})(this))}))})),this.Aa=new Bee(i,r)}}async function vA(n){if(bS(n))for(const e of n.da)await e(!0)}async function _S(n){for(const e of n.da)await e(!1)}function k8(n,e){const t=gi(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),zD(t)?kD(t):d_(t).x_()&&UD(t,e))}function LD(n,e){const t=gi(n),i=d_(t);t.Ta.delete(e),i.x_()&&z8(t,e),t.Ta.size===0&&(i.x_()?i.B_():bS(t)&&t.Aa.set("Unknown"))}function UD(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(An.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}d_(n).H_(e)}function z8(n,e){n.Ra.$e(e),d_(n).Y_(e)}function kD(n){n.Ra=new FJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),d_(n).start(),n.Aa.aa()}function zD(n){return bS(n)&&!d_(n).M_()&&n.Ta.size>0}function bS(n){return gi(n).Ia.size===0}function B8(n){n.Ra=void 0}async function Vee(n){n.Aa.set("Online")}async function Hee(n){n.Ta.forEach(((e,t)=>{UD(n,e)}))}async function jee(n,e){B8(n),zD(n)?(n.Aa.la(e),kD(n)):n.Aa.set("Unknown")}async function Gee(n,e,t){if(n.Aa.set("Online"),e instanceof E8&&e.state===2&&e.cause)try{await(async function(r,s){const a=s.cause;for(const o of s.targetIds)r.Ta.has(o)&&(await r.remoteSyncer.rejectListen(o,a),r.Ta.delete(o),r.Ra.removeTarget(o))})(n,e)}catch(i){Ft(R0,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await v5(n,i)}else if(e instanceof Xw?n.Ra.Ye(e):e instanceof S8?n.Ra.it(e):n.Ra.et(e),!t.isEqual(An.min()))try{const i=await L8(n.localStore);t.compareTo(i)>=0&&await(function(s,a){const o=s.Ra.Pt(a);return o.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.Ta.get(u);h&&s.Ta.set(u,h.withResumeToken(c.resumeToken,a))}})),o.targetMismatches.forEach(((c,u)=>{const h=s.Ta.get(c);if(!h)return;s.Ta.set(c,h.withResumeToken(Ca.EMPTY_BYTE_STRING,h.snapshotVersion)),z8(s,c);const p=new vp(h.target,c,u,h.sequenceNumber);UD(s,p)})),s.remoteSyncer.applyRemoteEvent(o)})(n,t)}catch(i){Ft(R0,"Failed to raise snapshot:",i),await v5(n,i)}}async function v5(n,e,t){if(!f_(e))throw e;n.Ia.add(1),await _S(n),n.Aa.set("Offline"),t||(t=()=>L8(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ft(R0,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await vA(n)}))}async function _5(n,e){const t=gi(n);t.asyncQueue.verifyOperationInProgress(),Ft(R0,"RemoteStore received new credentials");const i=bS(t);t.Ia.add(3),await _S(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await vA(t)}async function qee(n,e){const t=gi(n);e?(t.Ia.delete(2),await vA(t)):e||(t.Ia.add(2),await _S(t),t.Aa.set("Unknown"))}function d_(n){return n.Va||(n.Va=(function(t,i,r){const s=gi(t);return s.ia(),new Uee(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(n.datastore,n.asyncQueue,{Zo:Vee.bind(null,n),e_:Hee.bind(null,n),n_:jee.bind(null,n),J_:Gee.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),zD(n)?kD(n):n.Aa.set("Unknown")):(await n.Va.stop(),B8(n))}))),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ap,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,o=new BD(e,t,a,r,s);return o.start(i),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Bt(mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F8(n,e){if(Gh("AsyncQueue",`${e}: ${n}`),f_(n))return new Bt(mt.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{static emptySet(e){return new f0(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||nn.comparator(t.key,i.key):(t,i)=>nn.comparator(t.key,i.key),this.keyedMap=wb(),this.sortedSet=new ds(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof f0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new f0;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.fa=new ds(nn.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Rn(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,i)=>{e.push(i)})),e}}class O0{constructor(e,t,i,r,s,a,o,c,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,s){const a=[];return t.forEach((o=>{a.push({type:0,doc:o})})),new O0(e,t,f0.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class $ee{constructor(){this.queries=x5(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const r=gi(t),s=r.queries;r.queries=x5(),s.forEach(((a,o)=>{for(const c of o.wa)c.onError(i)}))})(this,new Bt(mt.ABORTED,"Firestore shutting down"))}}function x5(){return new ry((n=>f8(n)),hA)}async function V8(n,e){const t=gi(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.Sa()&&e.ba()&&(i=2):(s=new Wee,i=e.ba()?0:1);try{switch(i){case 0:s.ya=await t.onListen(r,!0);break;case 1:s.ya=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(a){const o=F8(a,`Initialization of query '${Kv(e.query)}' failed`);return void e.onError(o)}t.queries.set(r,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&FD(t)}async function H8(n,e){const t=gi(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?r=e.ba()?0:1:!s.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Xee(n,e){const t=gi(n);let i=!1;for(const r of e){const s=r.query,a=t.queries.get(s);if(a){for(const o of a.wa)o.Ca(r)&&(i=!0);a.ya=r}}i&&FD(t)}function Yee(n,e,t){const i=gi(n),r=i.queries.get(e);if(r)for(const s of r.wa)s.onError(t);i.queries.delete(e)}function FD(n){n.Da.forEach((e=>{e.next()}))}var RI,S5;(S5=RI||(RI={})).Fa="default",S5.Cache="cache";class j8{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new O0(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=O0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==RI.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e){this.key=e}}class q8{constructor(e){this.key=e}}class Kee{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=_i(),this.mutatedKeys=_i(),this.Xa=h8(e),this.eu=new f0(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new b5,r=t?t.eu:this.eu;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((h,p)=>{const y=r.get(h),v=dA(this.query,p)?p:null,_=!!y&&this.mutatedKeys.has(y.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;y&&v?y.data.isEqual(v.data)?_!==S&&(i.track({type:3,doc:v}),E=!0):this.iu(y,v)||(i.track({type:2,doc:v}),E=!0,(c&&this.Xa(v,c)>0||u&&this.Xa(v,u)<0)&&(o=!0)):!y&&v?(i.track({type:0,doc:v}),E=!0):y&&!v&&(i.track({type:1,doc:y}),E=!0,(c||u)&&(o=!0)),E&&(v?(a=a.add(v),s=S?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{eu:a,ru:i,Ds:o,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort(((h,p)=>(function(v,_){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rn(20277,{At:E})}};return S(v)-S(_)})(h.type,p.type)||this.Xa(h.doc,p.doc))),this.su(i),r=r!=null&&r;const o=t&&!r?this.ou():[],c=this.Za.size===0&&this.current&&!r?1:0,u=c!==this.Ya;return this.Ya=c,a.length!==0||u?{snapshot:new O0(this.query,e.eu,s,a,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new b5,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=_i(),this.eu.forEach((i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))}));const t=[];return e.forEach((i=>{this.Za.has(i)||t.push(new q8(i))})),this.Za.forEach((i=>{e.has(i)||t.push(new G8(i))})),t}uu(e){this.Ha=e.qs,this.Za=_i();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return O0.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const VD="SyncEngine";class Zee{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Qee{constructor(e){this.key=e,this.lu=!1}}class Jee{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new ry((o=>f8(o)),hA),this.Tu=new Map,this.Iu=new Set,this.du=new ds(nn.comparator),this.Eu=new Map,this.Au=new ID,this.Ru={},this.Vu=new Map,this.mu=M0.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function ete(n,e,t=!0){const i=K8(n);let r;const s=i.Pu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.cu()):r=await W8(i,e,t,!0),r}async function tte(n,e){const t=K8(n);await W8(t,e,!0,!1)}async function W8(n,e,t,i){const r=await Aee(n.localStore,xf(e)),s=r.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let o;return i&&(o=await nte(n,e,s,a==="current",r.resumeToken)),n.isPrimaryClient&&t&&k8(n.remoteStore,r),o}async function nte(n,e,t,i,r){n.gu=(p,y,v)=>(async function(S,E,b,w){let A=E.view.nu(b);A.Ds&&(A=await d5(S.localStore,E.query,!1).then((({documents:P})=>E.view.nu(P,A))));const C=w&&w.targetChanges.get(E.targetId),D=w&&w.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(A,S.isPrimaryClient,C,D);return T5(S,E.targetId,L._u),L.snapshot})(n,p,y,v);const s=await d5(n.localStore,e,!0),a=new Kee(e,s.qs),o=a.nu(s.documents),c=vS.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=a.applyChanges(o,n.isPrimaryClient,c);T5(n,t,u._u);const h=new Zee(e,t,a);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot}async function ite(n,e,t){const i=gi(n),r=i.Pu.get(e),s=i.Tu.get(r.targetId);if(s.length>1)return i.Tu.set(r.targetId,s.filter((a=>!hA(a,e)))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await AI(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&LD(i.remoteStore,r.targetId),OI(i,r.targetId)})).catch(lA)):(OI(i,r.targetId),await AI(i.localStore,r.targetId,!0))}async function rte(n,e){const t=gi(n),i=t.Pu.get(e),r=t.Tu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),LD(t.remoteStore,i.targetId))}async function $8(n,e){const t=gi(n);try{const i=await wee(t.localStore,e);e.targetChanges.forEach(((r,s)=>{const a=t.Eu.get(s);a&&(Br(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.lu=!0:r.modifiedDocuments.size>0?Br(a.lu,14607):r.removedDocuments.size>0&&(Br(a.lu,42227),a.lu=!1))})),await Y8(t,i,e)}catch(i){await lA(i)}}function E5(n,e,t){const i=gi(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Pu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&r.push(o.snapshot)})),(function(a,o){const c=gi(a);c.onlineState=o;let u=!1;c.queries.forEach(((h,p)=>{for(const y of p.wa)y.va(o)&&(u=!0)})),u&&FD(c)})(i.eventManager,e),r.length&&i.hu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function ste(n,e,t){const i=gi(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Eu.get(e),s=r&&r.key;if(s){let a=new ds(nn.comparator);a=a.insert(s,Ya.newNoDocument(s,An.min()));const o=_i().add(s),c=new gA(An.min(),new Map,new ds(Kn),a,o);await $8(i,c),i.du=i.du.remove(s),i.Eu.delete(e),HD(i)}else await AI(i.localStore,e,!1).then((()=>OI(i,e,t))).catch(lA)}function OI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((i=>{n.Au.containsKey(i)||X8(n,i)}))}function X8(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(LD(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),HD(n))}function T5(n,e,t){for(const i of t)i instanceof G8?(n.Au.addReference(i.key,e),ate(n,i)):i instanceof q8?(Ft(VD,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||X8(n,i.key)):Rn(19791,{yu:i})}function ate(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(Ft(VD,"New document in limbo: "+t),n.Iu.add(i),HD(n))}function HD(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new nn(sr.fromString(e)),i=n.mu.next();n.Eu.set(i,new Qee(t)),n.du=n.du.insert(t,i),k8(n.remoteStore,new vp(xf(CD(t.path)),i,"TargetPurposeLimboResolution",cA.ue))}}async function Y8(n,e,t){const i=gi(n),r=[],s=[],a=[];i.Pu.isEmpty()||(i.Pu.forEach(((o,c)=>{a.push(i.gu(c,e,t).then((u=>{var h;if((u||t)&&i.isPrimaryClient){const p=u?!u.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){r.push(u);const p=DD.Es(c.targetId,u);s.push(p)}})))})),await Promise.all(a),i.hu.J_(r),await(async function(c,u){const h=gi(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>nt.forEach(u,(y=>nt.forEach(y.Is,(v=>h.persistence.referenceDelegate.addReference(p,y.targetId,v))).next((()=>nt.forEach(y.ds,(v=>h.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))))))}catch(p){if(!f_(p))throw p;Ft(ND,"Failed to update sequence numbers: "+p)}for(const p of u){const y=p.targetId;if(!p.fromCache){const v=h.Fs.get(y),_=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(_);h.Fs=h.Fs.insert(y,S)}}})(i.localStore,s))}async function ote(n,e){const t=gi(n);if(!t.currentUser.isEqual(e)){Ft(VD,"User change. New user:",e.toKey());const i=await N8(t.localStore,e);t.currentUser=e,(function(s,a){s.Vu.forEach((o=>{o.forEach((c=>{c.reject(new Bt(mt.CANCELLED,a))}))})),s.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Y8(t,i.Bs)}}function lte(n,e){const t=gi(n),i=t.Eu.get(e);if(i&&i.lu)return _i().add(i.key);{let r=_i();const s=t.Tu.get(e);if(!s)return r;for(const a of s){const o=t.Pu.get(a);r=r.unionWith(o.view.tu)}return r}}function K8(n){const e=gi(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ste.bind(null,e),e.hu.J_=Xee.bind(null,e.eventManager),e.hu.pu=Yee.bind(null,e.eventManager),e}class D2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yA(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Tee(this.persistence,new xee,e.initialUser,this.serializer)}Du(e){return new D8(PD.Vi,this.serializer)}bu(e){return new Ree}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}D2.provider={build:()=>new D2};class cte extends D2{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Br(this.persistence.referenceDelegate instanceof P2,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new aee(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Xo.withCacheSize(this.cacheSizeBytes):Xo.DEFAULT;return new D8((i=>P2.Vi(i,t)),this.serializer)}}class II{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>E5(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ote.bind(null,this.syncEngine),await qee(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $ee})()}createDatastore(e){const t=yA(e.databaseInfo.databaseId),i=(function(s){return new Nee(s)})(e.databaseInfo);return(function(s,a,o,c){return new zee(s,a,o,c)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,s,a,o){return new Fee(i,r,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(t=>E5(this.syncEngine,t,0)),(function(){return g5.C()?new g5:new Oee})())}createSyncEngine(e,t){return(function(r,s,a,o,c,u,h){const p=new Jee(r,s,a,o,c,u);return h&&(p.fu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(r){const s=gi(r);Ft(R0,"RemoteStore shutting down."),s.Ia.add(5),await _S(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}II.provider={build:()=>new II};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Gh("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="FirestoreClient";class ute{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Xa.UNAUTHENTICATED,this.clientId=xD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,(async a=>{Ft(zp,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(i,(a=>(Ft(zp,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ap;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=F8(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function qR(n,e){n.asyncQueue.verifyOperationInProgress(),Ft(zp,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await N8(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>{Pp("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{Ft("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((r=>{Pp("Terminating Firestore due to IndexedDb database deletion failed",r)}))})),n._offlineComponents=e}async function w5(n,e){n.asyncQueue.verifyOperationInProgress();const t=await fte(n);Ft(zp,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>_5(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>_5(e.remoteStore,r))),n._onlineComponents=e}async function fte(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ft(zp,"Using user provided OfflineComponentProvider");try{await qR(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===mt.FAILED_PRECONDITION||r.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;Pp("Error using user provided cache. Falling back to memory cache: "+t),await qR(n,new D2)}}else Ft(zp,"Using default OfflineComponentProvider"),await qR(n,new cte(void 0));return n._offlineComponents}async function hte(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ft(zp,"Using user provided OnlineComponentProvider"),await w5(n,n._uninitializedComponentsProvider._online)):(Ft(zp,"Using default OnlineComponentProvider"),await w5(n,new II))),n._onlineComponents}async function Q8(n){const e=await hte(n),t=e.eventManager;return t.onListen=ete.bind(null,e.syncEngine),t.onUnlisten=ite.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tte.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rte.bind(null,e.syncEngine),t}function dte(n,e,t={}){const i=new Ap;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,c,u){const h=new Z8({next:y=>{h.Ou(),a.enqueueAndForget((()=>H8(s,p)));const v=y.docs.has(o);!v&&y.fromCache?u.reject(new Bt(mt.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&c&&c.source==="server"?u.reject(new Bt(mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new j8(CD(o.path),h,{includeMetadataChanges:!0,ka:!0});return V8(s,p)})(await Q8(n),n.asyncQueue,e,t,i))),i.promise}function pte(n,e,t={}){const i=new Ap;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,c,u){const h=new Z8({next:y=>{h.Ou(),a.enqueueAndForget((()=>H8(s,p))),y.fromCache&&c.source==="server"?u.reject(new Bt(mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new j8(o,h,{includeMetadataChanges:!0,ka:!0});return V8(s,p)})(await Q8(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7="firestore.googleapis.com",A5=!0;class M5{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Bt(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=e7,this.ssl=A5}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:A5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ree)throw new Bt(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J8((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Bt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Bt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Bt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _A{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Bt(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Bt(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new BQ;switch(i.type){case"firstParty":return new jQ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Bt(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=C5.get(t);i&&(Ft("ComponentProvider","Removing Datastore"),C5.delete(t),i.terminate())})(this),Promise.resolve()}}function mte(n,e,t,i={}){var r;n=xx(n,_A);const s=l_(e),a=n._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s&&(OV(`https://${c}`),IV("Firestore",!0)),a.host!==e7&&a.host!==c&&Pp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:s,emulatorOptions:i});if(!Gg(u,o)&&(n._setSettings(u),i.mockUserToken)){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=Xa.MOCK_USER;else{h=hZ(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Bt(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xa(y)}n._authCredentials=new FQ(new qV(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new p_(this.firestore,e,this._query)}}class Us{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Us(this.firestore,e,this._key)}toJSON(){return{type:Us._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(gS(t,Us._jsonSchema))return new Us(e,i||null,new nn(sr.fromString(t.referencePath)))}}Us._jsonSchemaVersion="firestore/documentReference/1.0",Us._jsonSchema={type:Ms("string",Us._jsonSchemaVersion),referencePath:Ms("string")};class Mp extends p_{constructor(e,t,i){super(e,t,CD(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Us(this.firestore,null,new nn(e))}withConverter(e){return new Mp(this.firestore,e,this._path)}}function I0(n,e,...t){if(n=gu(n),$V("collection","path",e),n instanceof _A){const i=sr.fromString(e,...t);return FU(i),new Mp(n,null,i)}{if(!(n instanceof Us||n instanceof Mp))throw new Bt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sr.fromString(e,...t));return FU(i),new Mp(n.firestore,null,i)}}function gte(n,e,...t){if(n=gu(n),arguments.length===1&&(e=xD.newId()),$V("doc","path",e),n instanceof _A){const i=sr.fromString(e,...t);return BU(i),new Us(n,null,new nn(i))}{if(!(n instanceof Us||n instanceof Mp))throw new Bt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sr.fromString(e,...t));return BU(i),new Us(n.firestore,n instanceof Mp?n.converter:null,new nn(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5="AsyncQueue";class O5{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new U8(this,"async_queue_retry"),this.oc=()=>{const i=GR();i&&Ft(R5,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=GR();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=GR();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Ap;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!f_(e))throw e;Ft(R5,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((i=>{throw this.tc=i,this.nc=!1,Gh("INTERNAL UNHANDLED ERROR: ",I5(i)),i})).then((i=>(this.nc=!1,i))))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=BD.createAndSchedule(this,e,t,i,(s=>this.lc(s)));return this.ec.push(r),r}ac(){this.tc&&Rn(47125,{hc:I5(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function I5(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class jD extends _A{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new O5,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O5(e),this._firestoreClient=void 0,await e}}}function yte(n,e){const t=typeof n=="object"?n:LV(),i=typeof n=="string"?n:C2,r=_D(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=uZ("firestore");s&&mte(r,...s)}return r}function t7(n){if(n._terminated)throw new Bt(mt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vte(n),n._firestoreClient}function vte(n){var e,t,i;const r=n._freezeSettings(),s=(function(o,c,u,h){return new aJ(o,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,J8(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new ute(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _c(Ca.fromBase64String(e))}catch(t){throw new Bt(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _c(Ca.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_c._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gS(e,_c._jsonSchema))return _c.fromBase64String(e.bytes)}}_c._jsonSchemaVersion="firestore/bytes/1.0",_c._jsonSchema={type:Ms("string",_c._jsonSchemaVersion),bytes:Ms("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Bt(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ka(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bt(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bt(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Kn(this._lat,e._lat)||Kn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sf._jsonSchemaVersion}}static fromJSON(e){if(gS(e,Sf._jsonSchema))return new Sf(e.latitude,e.longitude)}}Sf._jsonSchemaVersion="firestore/geoPoint/1.0",Sf._jsonSchema={type:Ms("string",Sf._jsonSchemaVersion),latitude:Ms("number"),longitude:Ms("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ef._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gS(e,Ef._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ef(e.vectorValues);throw new Bt(mt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ef._jsonSchemaVersion="firestore/vectorValue/1.0",Ef._jsonSchema={type:Ms("string",Ef._jsonSchemaVersion),vectorValues:Ms("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _te=/^__.*__$/;function r7(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rn(40011,{Ec:n})}}class GD{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new GD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.fc(e),r}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return PI(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(r7(this.Ec)&&_te.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class bte{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||yA(e)}Dc(e,t,i,r=!1){return new GD({Ec:e,methodName:t,bc:i,path:Ka.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xte(n){const e=n._freezeSettings(),t=yA(n._databaseId);return new bte(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ste(n,e,t,i=!1){return qD(t,n.Dc(i?4:3,e))}function qD(n,e){if(s7(n=gu(n)))return Tte("Unsupported field value:",e,n),Ete(n,e);if(n instanceof i7)return(function(i,r){if(!r7(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(i,r){const s=[];let a=0;for(const o of i){let c=qD(o,r.yc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}})(n,e)}return(function(i,r){if((i=gu(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return RJ(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=xr.fromDate(i);return{timestampValue:wI(r.serializer,s)}}if(i instanceof xr){const s=new xr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:wI(r.serializer,s)}}if(i instanceof Sf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof _c)return{bytesValue:T8(r.serializer,i._byteString)};if(i instanceof Us){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:w8(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Ef)return(function(a,o){return{mapValue:{fields:{[n8]:{stringValue:i8},[A2]:{arrayValue:{values:a.toArray().map((u=>{if(typeof u!="number")throw o.wc("VectorValues must only contain numeric values.");return AD(o.serializer,u)}))}}}}}})(i,r);throw r.wc(`Unsupported field value: ${oA(i)}`)})(n,e)}function Ete(n,e){const t={};return KV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):h_(n,((i,r)=>{const s=qD(r,e.Vc(i));s!=null&&(t[i]=s)})),{mapValue:{fields:t}}}function s7(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xr||n instanceof Sf||n instanceof _c||n instanceof Us||n instanceof i7||n instanceof Ef)}function Tte(n,e,t){if(!s7(t)||!XV(t)){const i=oA(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}const wte=new RegExp("[~\\*/\\[\\]]");function Cte(n,e,t){if(e.search(wte)>=0)throw PI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new n7(...e.split("."))._internalPath}catch{throw PI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function PI(n,e,t,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${i}`),a&&(c+=` in document ${r}`),c+=")"),new Bt(mt.INVALID_ARGUMENT,o+n+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Us(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ate(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(WD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Ate extends a7{data(){return super.data()}}function WD(n,e){return typeof e=="string"?Cte(n,e):e instanceof n7?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mte(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Bt(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $D{}class Rte extends $D{}function P5(n,e,...t){let i=[];e instanceof $D&&i.push(e),i=i.concat(t),(function(s){const a=s.filter((c=>c instanceof XD)).length,o=s.filter((c=>c instanceof bA)).length;if(a>1||a>0&&o>0)throw new Bt(mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class bA extends Rte{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new bA(e,t,i)}_apply(e){const t=this._parse(e);return o7(e._query,t),new p_(e.firestore,e.converter,bI(e._query,t))}_parse(e){const t=xte(e.firestore);return(function(s,a,o,c,u,h,p){let y;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Bt(mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){L5(p,h);const _=[];for(const S of p)_.push(N5(c,s,S));y={arrayValue:{values:_}}}else y=N5(c,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||L5(p,h),y=Ste(o,a,p,h==="in"||h==="not-in");return As.create(u,h,y)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function D5(n,e,t){const i=e,r=WD("where",n);return bA._create(r,i,t)}class XD extends $D{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new XD(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:yu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,s){let a=r;const o=s.getFlattenedFilters();for(const c of o)o7(a,c),a=bI(a,c)})(e._query,t),new p_(e.firestore,e.converter,bI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function N5(n,e,t){if(typeof(t=gu(t))=="string"){if(t==="")throw new Bt(mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!u8(e)&&t.indexOf("/")!==-1)throw new Bt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(sr.fromString(t));if(!nn.isDocumentKey(i))throw new Bt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return XU(n,new nn(i))}if(t instanceof Us)return XU(n,t._key);throw new Bt(mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oA(t)}.`)}function L5(n,e){if(!Array.isArray(n)||n.length===0)throw new Bt(mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o7(n,e){const t=(function(r,s){for(const a of r)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Bt(mt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Bt(mt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Ote{convertValue(e,t="none"){switch(Up(e)){case 0:return null;case 1:return e.booleanValue;case 2:return us(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Rn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return h_(e,((r,s)=>{i[r]=this.convertValue(s,t)})),i}convertVectorValue(e){var t,i,r;const s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[A2].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map((a=>us(a.doubleValue)));return new Ef(s)}convertGeoPoint(e){return new Sf(us(e.latitude),us(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=fA(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ex(e));default:return null}}convertTimestamp(e){const t=Np(e);return new xr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=sr.fromString(e);Br(I8(i),9688,{name:e});const r=new Tx(i.get(1),i.get(3)),s=new nn(i.popFirst(5));return r.isEqual(t)||Gh(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Ab{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dg extends a7{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(WD("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Bt(mt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Dg._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Dg._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dg._jsonSchema={type:Ms("string",Dg._jsonSchemaVersion),bundleSource:Ms("string","DocumentSnapshot"),bundleName:Ms("string"),bundle:Ms("string")};class Yw extends Dg{data(e={}){return super.data(e)}}class h0{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ab(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Yw(this._firestore,this._userDataWriter,i.key,i,new Ab(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Bt(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map((o=>{const c=new Yw(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ab(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const c=new Yw(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ab(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,h=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:Ite(o.type),doc:c,oldIndex:u,newIndex:h}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Bt(mt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=h0._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xD.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ite(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rn(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pte(n){n=xx(n,Us);const e=xx(n.firestore,jD);return dte(t7(e),n._key).then((t=>Dte(e,n,t)))}h0._jsonSchemaVersion="firestore/querySnapshot/1.0",h0._jsonSchema={type:Ms("string",h0._jsonSchemaVersion),bundleSource:Ms("string","QuerySnapshot"),bundleName:Ms("string"),bundle:Ms("string")};class l7 extends Ote{constructor(e){super(),this.firestore=e}convertBytes(e){return new _c(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Us(this.firestore,null,t)}}function Cx(n){n=xx(n,p_);const e=xx(n.firestore,jD),t=t7(e),i=new l7(e);return Mte(n._query),pte(t,n._query).then((r=>new h0(e,i,n,r)))}function Dte(n,e,t){const i=t.docs.get(e._key),r=new l7(n);return new Dg(n,r,e._key,i,new Ab(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){u_=r})(c_),T0(new qg("firestore",((i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),o=new jD(new VQ(i.getProvider("auth-internal")),new GQ(a,i.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Bt(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tx(u.options.projectId,h)})(a,r),a);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),wp(NU,LU,e),wp(NU,LU,"esm2017")})();var Nte="firebase",Lte="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wp(Nte,Lte,"app");function YD(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function c7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ute=c7,u7=new pS("auth","Firebase",c7());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new yD("@firebase/auth");function kte(n,...e){N2.logLevel<=ri.WARN&&N2.warn(`Auth (${c_}): ${n}`,...e)}function Kw(n,...e){N2.logLevel<=ri.ERROR&&N2.error(`Auth (${c_}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n,...e){throw KD(n,...e)}function Tf(n,...e){return KD(n,...e)}function f7(n,e,t){const i=Object.assign(Object.assign({},Ute()),{[e]:t});return new pS("auth","Firebase",i).create(e,{appName:n.name})}function Ng(n){return f7(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KD(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return u7.create(n,...e)}function En(n,e,...t){if(!n)throw KD(e,...t)}function Ph(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Kw(e),new Error(e)}function Wh(n,e){n||Ph(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function zte(){return U5()==="http:"||U5()==="https:"}function U5(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bte(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zte()||vZ()||"connection"in navigator)?navigator.onLine:!0}function Fte(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wh(t>e,"Short delay should be less than long delay!"),this.isMobile=mZ()||_Z()}get(){return Bte()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(n,e){Wh(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ph("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ph("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ph("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hte=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jte=new xS(3e4,6e4);function QD(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function m_(n,e,t,i,r={}){return d7(n,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const o=mS(Object.assign({key:n.config.apiKey},a)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:c},s);return yZ()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&l_(n.emulatorConfig.host)&&(u.credentials="include"),h7.fetch()(await p7(n,n.config.apiHost,t,o),u)})}async function d7(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Vte),e);try{const r=new qte(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw cT(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw cT(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw cT(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw cT(n,"user-disabled",a);const h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw f7(n,h,u);qh(n,h)}}catch(r){if(r instanceof rd)throw r;qh(n,"network-request-failed",{message:String(r)})}}async function Gte(n,e,t,i,r={}){const s=await m_(n,e,t,i,r);return"mfaPendingCredential"in s&&qh(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function p7(n,e,t,i){const r=`${e}${t}?${i}`,s=n,a=s.config.emulator?ZD(n.config,r):`${n.config.apiScheme}://${r}`;return Hte.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class qte{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Tf(this.auth,"network-request-failed")),jte.get())})}}function cT(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Tf(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wte(n,e){return m_(n,"POST","/v1/accounts:delete",e)}async function L2(n,e){return m_(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $te(n,e=!1){const t=gu(n),i=await t.getIdToken(e),r=JD(i);En(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s?.sign_in_provider;return{claims:r,token:i,authTime:Xb(WR(r.auth_time)),issuedAtTime:Xb(WR(r.iat)),expirationTime:Xb(WR(r.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function WR(n){return Number(n)*1e3}function JD(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Kw("JWT malformed, contained fewer than 3 sections"),null;try{const r=CV(t);return r?JSON.parse(r):(Kw("Failed to decode base64 JWT payload"),null)}catch(r){return Kw("Caught error parsing JWT payload as JSON",r?.toString()),null}}function k5(n){const e=JD(n);return En(e,"internal-error"),En(typeof e.exp<"u","internal-error"),En(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof rd&&Xte(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Xte({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xb(this.lastLoginAt),this.creationTime=Xb(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Ax(n,L2(t,{idToken:i}));En(r?.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?m7(s.providerUserInfo):[],o=Zte(n.providerData,a),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!o?.length,h=c?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new NI(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function Kte(n){const e=gu(n);await U2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zte(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function m7(n){return n.map(e=>{var{providerId:t}=e,i=YD(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qte(n,e){const t=await d7(n,{},async()=>{const i=mS({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,a=await p7(n,r,"/v1/token",`key=${s}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:i};return n.emulatorConfig&&l_(n.emulatorConfig.host)&&(c.credentials="include"),h7.fetch()(a,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Jte(n,e){return m_(n,"POST","/v2/accounts:revokeToken",QD(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){En(e.idToken,"internal-error"),En(typeof e.idToken<"u","internal-error"),En(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){En(e.length!==0,"internal-error");const t=k5(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(En(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await Qte(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,a=new d0;return i&&(En(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(En(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(En(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new d0,this.toJSON())}_performRefresh(){return Ph("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(n,e){En(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class hu{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=YD(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new NI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ax(this,this.stsTokenManager.getToken(this.auth,e));return En(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $te(this,e)}reload(){return Kte(this)}_assign(e){this!==e&&(En(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){En(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await U2(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(df(this.auth.app))return Promise.reject(Ng(this.auth));const e=await this.getIdToken();return await Ax(this,Wte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,a,o,c,u,h;const p=(i=t.displayName)!==null&&i!==void 0?i:void 0,y=(r=t.email)!==null&&r!==void 0?r:void 0,v=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,_=(a=t.photoURL)!==null&&a!==void 0?a:void 0,S=(o=t.tenantId)!==null&&o!==void 0?o:void 0,E=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,b=(u=t.createdAt)!==null&&u!==void 0?u:void 0,w=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:A,emailVerified:C,isAnonymous:D,providerData:L,stsTokenManager:P}=t;En(A&&P,e,"internal-error");const U=d0.fromJSON(this.name,P);En(typeof A=="string",e,"internal-error"),Qd(p,e.name),Qd(y,e.name),En(typeof C=="boolean",e,"internal-error"),En(typeof D=="boolean",e,"internal-error"),Qd(v,e.name),Qd(_,e.name),Qd(S,e.name),Qd(E,e.name),Qd(b,e.name),Qd(w,e.name);const I=new hu({uid:A,auth:e,email:y,emailVerified:C,displayName:p,isAnonymous:D,photoURL:_,phoneNumber:v,tenantId:S,stsTokenManager:U,createdAt:b,lastLoginAt:w});return L&&Array.isArray(L)&&(I.providerData=L.map(N=>Object.assign({},N))),E&&(I._redirectEventId=E),I}static async _fromIdTokenResponse(e,t,i=!1){const r=new d0;r.updateFromServerResponse(t);const s=new hu({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await U2(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];En(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?m7(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!s?.length,o=new d0;o.updateFromIdToken(i);const c=new hu({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new NI(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=new Map;function Dh(n){Wh(n instanceof Function,"Expected a class definition");let e=z5.get(n);return e?(Wh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,z5.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}g7.type="NONE";const B5=g7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n,e,t){return`firebase:${n}:${e}:${t}`}class p0{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Zw(this.userKey,r.apiKey,s),this.fullPersistenceKey=Zw("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await L2(this.auth,{idToken:e}).catch(()=>{});return t?hu._fromGetAccountInfoResponse(this.auth,t,e):null}return hu._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new p0(Dh(B5),e,i);const r=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||Dh(B5);const a=Zw(i,e.config.apiKey,e.name);let o=null;for(const u of t)try{const h=await u._get(a);if(h){let p;if(typeof h=="string"){const y=await L2(e,{idToken:h}).catch(()=>{});if(!y)break;p=await hu._fromGetAccountInfoResponse(e,y,h)}else p=hu._fromJSON(e,h);u!==s&&(o=p),s=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new p0(s,e,i):(s=c[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new p0(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S7(e))return"Blackberry";if(E7(e))return"Webos";if(v7(e))return"Safari";if((e.includes("chrome/")||_7(e))&&!e.includes("edge/"))return"Chrome";if(x7(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function y7(n=eo()){return/firefox\//i.test(n)}function v7(n=eo()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _7(n=eo()){return/crios\//i.test(n)}function b7(n=eo()){return/iemobile/i.test(n)}function x7(n=eo()){return/android/i.test(n)}function S7(n=eo()){return/blackberry/i.test(n)}function E7(n=eo()){return/webos/i.test(n)}function eN(n=eo()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ene(n=eo()){var e;return eN(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tne(){return bZ()&&document.documentMode===10}function T7(n=eo()){return eN(n)||x7(n)||E7(n)||S7(n)||/windows phone/i.test(n)||b7(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(n,e=[]){let t;switch(n){case"Browser":t=F5(eo());break;case"Worker":t=`${F5(eo())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${c_}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((a,o)=>{try{const c=e(s);a(c)}catch(c){o(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ine(n,e={}){return m_(n,"GET","/v2/passwordPolicy",QD(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rne=6;class sne{constructor(e){var t,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:rne,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,a,o;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),c}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ane{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V5(this),this.idTokenSubscription=new V5(this),this.beforeStateQueue=new nne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Dh(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await p0.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await L2(this,{idToken:e}),i=await hu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(df(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===o)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return En(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await U2(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Fte()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(df(this.app))return Promise.reject(Ng(this));const t=e?gu(e):null;return t&&En(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&En(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return df(this.app)?Promise.reject(Ng(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return df(this.app)?Promise.reject(Ng(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dh(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ine(this),t=new sne(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pS("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Jte(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Dh(e)||this._popupRedirectResolver;En(t,this,"argument-error"),this.redirectPersistenceManager=await p0.create(this,[Dh(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(En(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,i,r);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return En(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(df(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&kte(`Error while retrieving App Check token: ${t.error}`),t?.token}}function tN(n){return gu(n)}class V5{constructor(e){this.auth=e,this.observer=null,this.addObserver=MZ(t=>this.observer=t)}get next(){return En(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nN={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function one(n){nN=n}function lne(n){return nN.loadJS(n)}function cne(){return nN.gapiScript}function une(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fne(n,e){const t=_D(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(Gg(s,e??{}))return r;qh(r,"already-initialized")}return t.initialize({options:e})}function hne(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Dh);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function dne(n,e,t){const i=tN(n);En(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=C7(e),{host:a,port:o}=pne(e),c=o===null?"":`:${o}`,u={url:`${s}//${a}${c}/`},h=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){En(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),En(Gg(u,i.config.emulator)&&Gg(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,l_(a)?(OV(`${s}//${a}${c}`),IV("Auth",!0)):mne()}function C7(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pne(n){const e=C7(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:H5(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:H5(a)}}}function H5(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function mne(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ph("not implemented")}_getIdTokenResponse(e){return Ph("not implemented")}_linkToIdToken(e,t){return Ph("not implemented")}_getReauthenticationResolver(e){return Ph("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m0(n,e){return Gte(n,"POST","/v1/accounts:signInWithIdp",QD(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gne="http://localhost";class $g extends A7{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $g(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qh("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=YD(t,["providerId","signInMethod"]);if(!i||!r)return null;const a=new $g(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return m0(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,m0(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,m0(e,t)}buildRequest(){const e={requestUri:gne,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mS(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends M7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends SS{constructor(){super("facebook.com")}static credential(e){return $g._fromParams({providerId:hp.PROVIDER_ID,signInMethod:hp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hp.credentialFromTaggedObject(e)}static credentialFromError(e){return hp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hp.credential(e.oauthAccessToken)}catch{return null}}}hp.FACEBOOK_SIGN_IN_METHOD="facebook.com";hp.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends SS{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $g._fromParams({providerId:Rh.PROVIDER_ID,signInMethod:Rh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rh.credentialFromTaggedObject(e)}static credentialFromError(e){return Rh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Rh.credential(t,i)}catch{return null}}}Rh.GOOGLE_SIGN_IN_METHOD="google.com";Rh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends SS{constructor(){super("github.com")}static credential(e){return $g._fromParams({providerId:dp.PROVIDER_ID,signInMethod:dp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dp.credentialFromTaggedObject(e)}static credentialFromError(e){return dp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dp.credential(e.oauthAccessToken)}catch{return null}}}dp.GITHUB_SIGN_IN_METHOD="github.com";dp.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends SS{constructor(){super("twitter.com")}static credential(e,t){return $g._fromParams({providerId:pp.PROVIDER_ID,signInMethod:pp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pp.credentialFromTaggedObject(e)}static credentialFromError(e){return pp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return pp.credential(t,i)}catch{return null}}}pp.TWITTER_SIGN_IN_METHOD="twitter.com";pp.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await hu._fromIdTokenResponse(e,i,r),a=j5(i);return new P0({user:s,providerId:a,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=j5(i);return new P0({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function j5(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2 extends rd{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,k2.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new k2(e,t,i,r)}}function R7(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?k2._fromErrorAndOperation(n,s,e,i):s})}async function yne(n,e,t=!1){const i=await Ax(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return P0._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vne(n,e,t=!1){const{auth:i}=n;if(df(i.app))return Promise.reject(Ng(i));const r="reauthenticate";try{const s=await Ax(n,R7(i,r,e,n),t);En(s.idToken,i,"internal-error");const a=JD(s.idToken);En(a,i,"internal-error");const{sub:o}=a;return En(n.uid===o,i,"user-mismatch"),P0._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&qh(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _ne(n,e,t=!1){if(df(n.app))return Promise.reject(Ng(n));const i="signIn",r=await R7(n,i,e),s=await P0._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}function bne(n,e,t,i){return gu(n).onIdTokenChanged(e,t,i)}function xne(n,e,t){return gu(n).beforeAuthStateChanged(e,t)}const z2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(z2,"1"),this.storage.removeItem(z2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sne=1e3,Ene=10;class I7 extends O7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!t&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);tne()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Ene):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Sne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}I7.type="LOCAL";const Tne=I7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7 extends O7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}P7.type="SESSION";const D7=P7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wne(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new xA(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(a).map(async u=>u(t.origin,s)),c=await wne(o);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((o,c)=>{const u=iN("",20);r.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const y=p;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(y.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(){return window}function Ane(n){wf().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(){return typeof wf().WorkerGlobalScope<"u"&&typeof wf().importScripts=="function"}async function Mne(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rne(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function One(){return N7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7="firebaseLocalStorageDb",Ine=1,B2="firebaseLocalStorage",U7="fbase_key";class ES{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function SA(n,e){return n.transaction([B2],e?"readwrite":"readonly").objectStore(B2)}function Pne(){const n=indexedDB.deleteDatabase(L7);return new ES(n).toPromise()}function LI(){const n=indexedDB.open(L7,Ine);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(B2,{keyPath:U7})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(B2)?e(i):(i.close(),await Pne(),e(await LI()))})})}async function G5(n,e,t){const i=SA(n,!0).put({[U7]:e,value:t});return new ES(i).toPromise()}async function Dne(n,e){const t=SA(n,!1).get(e),i=await new ES(t).toPromise();return i===void 0?null:i.value}function q5(n,e){const t=SA(n,!0).delete(e);return new ES(t).toPromise()}const Nne=800,Lne=3;class k7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await LI(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Lne)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xA._getInstance(One()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Mne(),!this.activeServiceWorker)return;this.sender=new Cne(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await LI();return await G5(e,z2,"1"),await q5(e,z2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>G5(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Dne(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>q5(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=SA(r,!1).getAll();return new ES(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k7.type="LOCAL";const Une=k7;new xS(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kne(n,e){return e?Dh(e):(En(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN extends A7{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return m0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return m0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return m0(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zne(n){return _ne(n.auth,new rN(n),n.bypassAuthState)}function Bne(n){const{auth:e,user:t}=n;return En(t,e,"internal-error"),vne(t,new rN(n),n.bypassAuthState)}async function Fne(n){const{auth:e,user:t}=n;return En(t,e,"internal-error"),yne(t,new rN(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zne;case"linkViaPopup":case"linkViaRedirect":return Fne;case"reauthViaPopup":case"reauthViaRedirect":return Bne;default:qh(this.auth,"internal-error")}}resolve(e){Wh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vne=new xS(2e3,1e4);class t0 extends z7{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,t0.currentPopupAction&&t0.currentPopupAction.cancel(),t0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return En(e,this.auth,"internal-error"),e}async onExecution(){Wh(this.filter.length===1,"Popup operations only handle one event");const e=iN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tf(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t0.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tf(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Vne.get())};e()}}t0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hne="pendingRedirect",Qw=new Map;class jne extends z7{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Qw.get(this.auth._key());if(!e){try{const i=await Gne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Qw.set(this.auth._key(),e)}return this.bypassAuthState||Qw.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gne(n,e){const t=$ne(e),i=Wne(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function qne(n,e){Qw.set(n._key(),e)}function Wne(n){return Dh(n._redirectPersistence)}function $ne(n){return Zw(Hne,n.config.apiKey,n.name)}async function Xne(n,e,t=!1){if(df(n.app))return Promise.reject(Ng(n));const i=tN(n),r=kne(i,e),a=await new jne(i,r,t).execute();return a&&!t&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yne=600*1e3;class Kne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zne(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!B7(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Tf(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Yne&&this.cachedEventUids.clear(),this.cachedEventUids.has(W5(e))}saveEventToCache(e){this.cachedEventUids.add(W5(e)),this.lastProcessedEventTime=Date.now()}}function W5(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function B7({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Zne(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B7(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qne(n,e={}){return m_(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eie=/^https?/;async function tie(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Qne(n);for(const t of e)try{if(nie(t))return}catch{}qh(n,"unauthorized-domain")}function nie(n){const e=DI(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!eie.test(t))return!1;if(Jne.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iie=new xS(3e4,6e4);function $5(){const n=wf().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function rie(n){return new Promise((e,t)=>{var i,r,s;function a(){$5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$5(),t(Tf(n,"network-request-failed"))},timeout:iie.get()})}if(!((r=(i=wf().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=wf().gapi)===null||s===void 0)&&s.load)a();else{const o=une("iframefcb");return wf()[o]=()=>{gapi.load?a():t(Tf(n,"network-request-failed"))},lne(`${cne()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw Jw=null,e})}let Jw=null;function sie(n){return Jw=Jw||rie(n),Jw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aie=new xS(5e3,15e3),oie="__/auth/iframe",lie="emulator/auth/iframe",cie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fie(n){const e=n.config;En(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ZD(e,lie):`https://${n.config.authDomain}/${oie}`,i={apiKey:e.apiKey,appName:n.name,v:c_},r=uie.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${mS(i).slice(1)}`}async function hie(n){const e=await sie(n),t=wf().gapi;return En(t,n,"internal-error"),e.open({where:document.body,url:fie(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cie,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Tf(n,"network-request-failed"),o=wf().setTimeout(()=>{s(a)},aie.get());function c(){wf().clearTimeout(o),r(i)}i.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const die={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pie=500,mie=600,gie="_blank",yie="http://localhost";class X5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vie(n,e,t,i=pie,r=mie){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const c=Object.assign(Object.assign({},die),{width:i.toString(),height:r.toString(),top:s,left:a}),u=eo().toLowerCase();t&&(o=_7(u)?gie:t),y7(u)&&(e=e||yie,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[v,_])=>`${y}${v}=${_},`,"");if(ene(u)&&o!=="_self")return _ie(e||"",o),new X5(null);const p=window.open(e||"",o,h);En(p,n,"popup-blocked");try{p.focus()}catch{}return new X5(p)}function _ie(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bie="__/auth/handler",xie="emulator/auth/handler",Sie=encodeURIComponent("fac");async function Y5(n,e,t,i,r,s){En(n.config.authDomain,n,"auth-domain-config-required"),En(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:c_,eventId:r};if(e instanceof M7){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",AZ(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof SS){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}n.tenantId&&(a.tid=n.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const c=await n._getAppCheckToken(),u=c?`#${Sie}=${encodeURIComponent(c)}`:"";return`${Eie(n)}?${mS(o).slice(1)}${u}`}function Eie({config:n}){return n.emulator?ZD(n,xie):`https://${n.authDomain}/${bie}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="webStorageSupport";class Tie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D7,this._completeRedirectFn=Xne,this._overrideRedirectResult=qne}async _openPopup(e,t,i,r){var s;Wh((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Y5(e,t,i,DI(),r);return vie(e,a,iN())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await Y5(e,t,i,DI(),r);return Ane(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Wh(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await hie(e),i=new Kne(e);return t.register("authEvent",r=>(En(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($R,{type:$R},r=>{var s;const a=(s=r?.[0])===null||s===void 0?void 0:s[$R];a!==void 0&&t(!!a),qh(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tie(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return T7()||v7()||eN()}}const wie=Tie;var K5="@firebase/auth",Z5="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){En(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aie(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mie(n){T0(new qg("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;En(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w7(n)},u=new ane(i,r,s,c);return hne(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),T0(new qg("auth-internal",e=>{const t=tN(e.getProvider("auth").getImmediate());return(i=>new Cie(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wp(K5,Z5,Aie(n)),wp(K5,Z5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rie=300,Oie=RV("authIdTokenMaxAge")||Rie;let Q5=null;const Iie=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Oie)return;const r=t?.token;Q5!==r&&(Q5=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Pie(n=LV()){const e=_D(n,"auth");if(e.isInitialized())return e.getImmediate();const t=fne(n,{popupRedirectResolver:wie,persistence:[Une,Tne,D7]}),i=RV("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=Iie(s.toString());xne(t,a,()=>a(t.currentUser)),bne(t,o=>a(o))}}const r=AV("auth");return r&&dne(t,`http://${r}`),t}function Die(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}one({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Tf("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Die().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mie("Browser");const Nie={apiKey:"AIzaSyD6drh2aoyblA6iwk80Ko26FHK2HK_cNmk",authDomain:"black-triangle-bjj.firebaseapp.com",projectId:"black-triangle-bjj",storageBucket:"black-triangle-bjj.firebasestorage.app",messagingSenderId:"128924794161",appId:"1:128924794161:web:7968a2a259fbc8899cc410",measurementId:"G-LBWF7DFVF5"},F7=NV(Nie),Xg=yte(F7);Pie(F7);new Rh;function Ch(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function V7(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Pl={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},D0={duration:.5,overwrite:!1,delay:0},sN,Sa,Sr,bc=1e8,Ji=1/bc,UI=Math.PI*2,Lie=UI/4,Uie=0,H7=Math.sqrt,kie=Math.cos,zie=Math.sin,sa=function(e){return typeof e=="string"},es=function(e){return typeof e=="function"},$h=function(e){return typeof e=="number"},aN=function(e){return typeof e>"u"},If=function(e){return typeof e=="object"},Qo=function(e){return e!==!1},oN=function(){return typeof window<"u"},uT=function(e){return es(e)||sa(e)},j7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ja=Array.isArray,Bie=/random\([^)]+\)/g,Fie=/,\s*/g,J5=/(?:-?\.?\d|\.)+/gi,G7=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,n0=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,XR=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,q7=/[+-]=-?[.\d]+/,Vie=/[^,'"\[\]\s]+/gi,Hie=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Nr,cf,kI,lN,Ul={},F2={},W7,$7=function(e){return(F2=N0(e,Ul))&&rl},cN=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Mx=function(e,t){return!t&&console.warn(e)},X7=function(e,t){return e&&(Ul[e]=t)&&F2&&(F2[e]=t)||Ul},Rx=function(){return 0},jie={suppressEvents:!0,isStart:!0,kill:!1},e2={suppressEvents:!0,kill:!1},Gie={suppressEvents:!0},uN={},Rp=[],zI={},Y7,Al={},YR={},ek=30,t2=[],fN="",hN=function(e){var t=e[0],i,r;if(If(t)||es(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=t2.length;r--&&!t2[r].targetTest(t););i=t2[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new _H(e[r],i)))||e.splice(r,1);return e},Lg=function(e){return e._gsap||hN(xc(e))[0]._gsap},K7=function(e,t,i){return(i=e[t])&&es(i)?e[t]():aN(i)&&e.getAttribute&&e.getAttribute(t)||i},Jo=function(e,t){return(e=e.split(",")).forEach(t)||e},fs=function(e){return Math.round(e*1e5)/1e5||0},Dr=function(e){return Math.round(e*1e7)/1e7||0},g0=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},qie=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},V2=function(){var e=Rp.length,t=Rp.slice(0),i,r;for(zI={},Rp.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},dN=function(e){return!!(e._initted||e._startAt||e.add)},Z7=function(e,t,i,r){Rp.length&&!Sa&&V2(),e.render(t,i,!!(Sa&&t<0&&dN(e))),Rp.length&&!Sa&&V2()},Q7=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Vie).length<2?t:sa(e)?e.trim():e},J7=function(e){return e},kl=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},Wie=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},N0=function(e,t){for(var i in t)e[i]=t[i];return e},tk=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=If(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},H2=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},Yb=function(e){var t=e.parent||Nr,i=e.keyframes?Wie(Ja(e.keyframes)):kl;if(Qo(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},$ie=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},eH=function(e,t,i,r,s){var a=e[r],o;if(s)for(o=t[s];a&&a[s]>o;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},EA=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=t._prev,a=t._next;s?s._next=a:e[i]===t&&(e[i]=a),a?a._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},Bp=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ug=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},Xie=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},BI=function(e,t,i,r){return e._startAt&&(Sa?e._startAt.revert(e2):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Yie=function n(e){return!e||e._ts&&n(e.parent)},nk=function(e){return e._repeat?L0(e._tTime,e=e.duration()+e._rDelay)*e:0},L0=function(e,t){var i=Math.floor(e=Dr(e/t));return e&&i===e?i-1:i},j2=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},TA=function(e){return e._end=Dr(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ji)||0))},wA=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Dr(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),TA(e),i._dirty||Ug(i,e)),e},tH=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=j2(e.rawTime(),t),(!t._dur||TS(0,t.totalDuration(),i)-t._tTime>Ji)&&t.render(i,!0)),Ug(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-Ji}},mf=function(e,t,i,r){return t.parent&&Bp(t),t._start=Dr(($h(i)?i:i||e!==Nr?mc(e,i,t):e._time)+t._delay),t._end=Dr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),eH(e,t,"_first","_last",e._sort?"_start":0),FI(t)||(e._recent=t),r||tH(e,t),e._ts<0&&wA(e,e._tTime),e},nH=function(e,t){return(Ul.ScrollTrigger||cN("scrollTrigger",t))&&Ul.ScrollTrigger.create(t,e)},iH=function(e,t,i,r,s){if(mN(e,t,s),!e._initted)return 1;if(!i&&e._pt&&!Sa&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Y7!==Ml.frame)return Rp.push(e),e._lazy=[s,r],1},Kie=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},FI=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Zie=function(e,t,i,r){var s=e.ratio,a=t<0||!t&&(!e._start&&Kie(e)&&!(!e._initted&&FI(e))||(e._ts<0||e._dp._ts<0)&&!FI(e))?0:1,o=e._rDelay,c=0,u,h,p;if(o&&e._repeat&&(c=TS(0,e._tDur,t),h=L0(c,o),e._yoyo&&h&1&&(a=1-a),h!==L0(e._tTime,o)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||Sa||r||e._zTime===Ji||!t&&e._zTime){if(!e._initted&&iH(e,t,r,i,c))return;for(p=e._zTime,e._zTime=t||(i?Ji:0),i||(i=t&&!p),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,u=e._pt;u;)u.r(a,u.d),u=u._next;t<0&&BI(e,t,i,!0),e._onUpdate&&!i&&Ol(e,"onUpdate"),c&&e._repeat&&!i&&e.parent&&Ol(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&Bp(e,1),!i&&!Sa&&(Ol(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Qie=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},U0=function(e,t,i,r){var s=e._repeat,a=Dr(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:Dr(a*(s+1)+e._rDelay*s):a,o>0&&!r&&wA(e,e._tTime=e._tDur*o),e.parent&&TA(e),i||Ug(e.parent,e),e},ik=function(e){return e instanceof Co?Ug(e):U0(e,e._dur)},Jie={_start:0,endTime:Rx,totalDuration:Rx},mc=function n(e,t,i){var r=e.labels,s=e._recent||Jie,a=e.duration()>=bc?s.endTime(!1):e._dur,o,c,u;return sa(t)&&(isNaN(t)||t in r)?(c=t.charAt(0),u=t.substr(-1)==="%",o=t.indexOf("="),c==="<"||c===">"?(o>=0&&(t=t.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(o<0?s:i).totalDuration()/100:1)):o<0?(t in r||(r[t]=a),r[t]):(c=parseFloat(t.charAt(o-1)+t.substr(o+1)),u&&i&&(c=c/100*(Ja(i)?i[0]:i).totalDuration()),o>1?n(e,t.substr(0,o-1),i)+c:a+c)):t==null?a:+t},Kb=function(e,t,i){var r=$h(t[1]),s=(r?2:1)+(e<2?0:1),a=t[s],o,c;if(r&&(a.duration=t[1]),a.parent=i,e){for(o=a,c=i;c&&!("immediateRender"in o);)o=c.vars.defaults||{},c=Qo(c.vars.inherit)&&c.parent;a.immediateRender=Qo(o.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new Ts(t[0],a,t[s+1])},Xp=function(e,t){return e||e===0?t(e):t},TS=function(e,t,i){return i<e?e:i>t?t:i},Za=function(e,t){return!sa(e)||!(t=Hie.exec(e))?"":t[1]},ere=function(e,t,i){return Xp(i,function(r){return TS(e,t,r)})},VI=[].slice,rH=function(e,t){return e&&If(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&If(e[0]))&&!e.nodeType&&e!==cf},tre=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var s;return sa(r)&&!t||rH(r,1)?(s=i).push.apply(s,xc(r)):i.push(r)})||i},xc=function(e,t,i){return Sr&&!t&&Sr.selector?Sr.selector(e):sa(e)&&!i&&(kI||!k0())?VI.call((t||lN).querySelectorAll(e),0):Ja(e)?tre(e,i):rH(e)?VI.call(e,0):e?[e]:[]},HI=function(e){return e=xc(e)[0]||Mx("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return xc(t,i.querySelectorAll?i:i===e?Mx("Invalid scope")||lN.createElement("div"):e)}},sH=function(e){return e.sort(function(){return .5-Math.random()})},aH=function(e){if(es(e))return e;var t=If(e)?e:{each:e},i=kg(t.ease),r=t.from||0,s=parseFloat(t.base)||0,a={},o=r>0&&r<1,c=isNaN(r)||o,u=t.axis,h=r,p=r;return sa(r)?h=p={center:.5,edges:.5,end:1}[r]||0:!o&&c&&(h=r[0],p=r[1]),function(y,v,_){var S=(_||t).length,E=a[S],b,w,A,C,D,L,P,U,I;if(!E){if(I=t.grid==="auto"?0:(t.grid||[1,bc])[1],!I){for(P=-bc;P<(P=_[I++].getBoundingClientRect().left)&&I<S;);I<S&&I--}for(E=a[S]=[],b=c?Math.min(I,S)*h-.5:r%I,w=I===bc?0:c?S*p/I-.5:r/I|0,P=0,U=bc,L=0;L<S;L++)A=L%I-b,C=w-(L/I|0),E[L]=D=u?Math.abs(u==="y"?C:A):H7(A*A+C*C),D>P&&(P=D),D<U&&(U=D);r==="random"&&sH(E),E.max=P-U,E.min=U,E.v=S=(parseFloat(t.amount)||parseFloat(t.each)*(I>S?S-1:u?u==="y"?S/I:I:Math.max(I,S/I))||0)*(r==="edges"?-1:1),E.b=S<0?s-S:s,E.u=Za(t.amount||t.each)||0,i=i&&S<0?gH(i):i}return S=(E[y]-E.min)/E.max||0,Dr(E.b+(i?i(S):S)*E.v)+E.u}},jI=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Dr(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+($h(i)?0:Za(i))}},oH=function(e,t){var i=Ja(e),r,s;return!i&&If(e)&&(r=i=e.radius||bc,e.values?(e=xc(e.values),(s=!$h(e[0]))&&(r*=r)):e=jI(e.increment)),Xp(t,i?es(e)?function(a){return s=e(a),Math.abs(s-a)<=r?s:a}:function(a){for(var o=parseFloat(s?a.x:a),c=parseFloat(s?a.y:0),u=bc,h=0,p=e.length,y,v;p--;)s?(y=e[p].x-o,v=e[p].y-c,y=y*y+v*v):y=Math.abs(e[p]-o),y<u&&(u=y,h=p);return h=!r||u<=r?e[h]:a,s||h===a||$h(a)?h:h+Za(a)}:jI(e))},lH=function(e,t,i,r){return Xp(Ja(e)?!t:i===!0?!!(i=0):!r,function(){return Ja(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},nre=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,a){return a(s)},r)}},ire=function(e,t){return function(i){return e(parseFloat(i))+(t||Za(i))}},rre=function(e,t,i){return uH(e,t,0,1,i)},cH=function(e,t,i){return Xp(i,function(r){return e[~~t(r)]})},sre=function n(e,t,i){var r=t-e;return Ja(e)?cH(e,n(0,e.length),t):Xp(i,function(s){return(r+(s-e)%r)%r+e})},are=function n(e,t,i){var r=t-e,s=r*2;return Ja(e)?cH(e,n(0,e.length-1),t):Xp(i,function(a){return a=(s+(a-e)%s)%s||0,e+(a>r?s-a:a)})},Ox=function(e){return e.replace(Bie,function(t){var i=t.indexOf("[")+1,r=t.substring(i||7,i?t.indexOf("]"):t.length-1).split(Fie);return lH(i?r:+r[0],i?0:+r[1],+r[2]||1e-5)})},uH=function(e,t,i,r,s){var a=t-e,o=r-i;return Xp(s,function(c){return i+((c-e)/a*o||0)})},ore=function n(e,t,i,r){var s=isNaN(e+t)?0:function(v){return(1-v)*e+v*t};if(!s){var a=sa(e),o={},c,u,h,p,y;if(i===!0&&(r=1)&&(i=null),a)e={p:e},t={p:t};else if(Ja(e)&&!Ja(t)){for(h=[],p=e.length,y=p-2,u=1;u<p;u++)h.push(n(e[u-1],e[u]));p--,s=function(_){_*=p;var S=Math.min(y,~~_);return h[S](_-S)},i=t}else r||(e=N0(Ja(e)?[]:{},e));if(!h){for(c in t)pN.call(o,e,c,"get",t[c]);s=function(_){return vN(_,o)||(a?e.p:e)}}}return Xp(i,s)},rk=function(e,t,i){var r=e.labels,s=bc,a,o,c;for(a in r)o=r[a]-t,o<0==!!i&&o&&s>(o=Math.abs(o))&&(c=a,s=o);return c},Ol=function(e,t,i){var r=e.vars,s=r[t],a=Sr,o=e._ctx,c,u,h;if(s)return c=r[t+"Params"],u=r.callbackScope||e,i&&Rp.length&&V2(),o&&(Sr=o),h=c?s.apply(u,c):s.call(u),Sr=a,h},Mb=function(e){return Bp(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Sa),e.progress()<1&&Ol(e,"onInterrupt"),e},i0,fH=[],hH=function(e){if(e)if(e=!e.name&&e.default||e,oN()||e.headless){var t=e.name,i=es(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:Rx,render:vN,add:pN,kill:Ere,modifier:Sre,rawVars:0},a={targetTest:0,get:0,getSetter:yN,aliases:{},register:0};if(k0(),e!==r){if(Al[t])return;kl(r,kl(H2(e,s),a)),N0(r.prototype,N0(s,H2(e,a))),Al[r.prop=t]=r,e.targetTest&&(t2.push(r),uN[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}X7(t,r),e.register&&e.register(rl,r,el)}else fH.push(e)},Qi=255,Rb={aqua:[0,Qi,Qi],lime:[0,Qi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Qi],navy:[0,0,128],white:[Qi,Qi,Qi],olive:[128,128,0],yellow:[Qi,Qi,0],orange:[Qi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Qi,0,0],pink:[Qi,192,203],cyan:[0,Qi,Qi],transparent:[Qi,Qi,Qi,0]},KR=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*Qi+.5|0},dH=function(e,t,i){var r=e?$h(e)?[e>>16,e>>8&Qi,e&Qi]:0:Rb.black,s,a,o,c,u,h,p,y,v,_;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Rb[e])r=Rb[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+s+s+a+a+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&Qi,r&Qi,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&Qi,e&Qi]}else if(e.substr(0,3)==="hsl"){if(r=_=e.match(J5),!t)c=+r[0]%360/360,u=+r[1]/100,h=+r[2]/100,a=h<=.5?h*(u+1):h+u-h*u,s=h*2-a,r.length>3&&(r[3]*=1),r[0]=KR(c+1/3,s,a),r[1]=KR(c,s,a),r[2]=KR(c-1/3,s,a);else if(~e.indexOf("="))return r=e.match(G7),i&&r.length<4&&(r[3]=1),r}else r=e.match(J5)||Rb.transparent;r=r.map(Number)}return t&&!_&&(s=r[0]/Qi,a=r[1]/Qi,o=r[2]/Qi,p=Math.max(s,a,o),y=Math.min(s,a,o),h=(p+y)/2,p===y?c=u=0:(v=p-y,u=h>.5?v/(2-p-y):v/(p+y),c=p===s?(a-o)/v+(a<o?6:0):p===a?(o-s)/v+2:(s-a)/v+4,c*=60),r[0]=~~(c+.5),r[1]=~~(u*100+.5),r[2]=~~(h*100+.5)),i&&r.length<4&&(r[3]=1),r},pH=function(e){var t=[],i=[],r=-1;return e.split(Op).forEach(function(s){var a=s.match(n0)||[];t.push.apply(t,a),i.push(r+=a.length+1)}),t.c=i,t},sk=function(e,t,i){var r="",s=(e+r).match(Op),a=t?"hsla(":"rgba(",o=0,c,u,h,p;if(!s)return e;if(s=s.map(function(y){return(y=dH(y,t,1))&&a+(t?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),i&&(h=pH(e),c=i.c,c.join(r)!==h.c.join(r)))for(u=e.replace(Op,"1").split(n0),p=u.length-1;o<p;o++)r+=u[o]+(~c.indexOf(o)?s.shift()||a+"0,0,0,0)":(h.length?h:s.length?s:i).shift());if(!u)for(u=e.split(Op),p=u.length-1;o<p;o++)r+=u[o]+s[o];return r+u[p]},Op=(function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Rb)n+="|"+e+"\\b";return new RegExp(n+")","gi")})(),lre=/hsl[a]?\(/,mH=function(e){var t=e.join(" "),i;if(Op.lastIndex=0,Op.test(t))return i=lre.test(t),e[1]=sk(e[1],i),e[0]=sk(e[0],i,pH(e[1])),!0},Ix,Ml=(function(){var n=Date.now,e=500,t=33,i=n(),r=i,s=1e3/240,a=s,o=[],c,u,h,p,y,v,_=function S(E){var b=n()-r,w=E===!0,A,C,D,L;if((b>e||b<0)&&(i+=b-t),r+=b,D=r-i,A=D-a,(A>0||w)&&(L=++p.frame,y=D-p.time*1e3,p.time=D=D/1e3,a+=A+(A>=s?4:s-A),C=1),w||(c=u(S)),C)for(v=0;v<o.length;v++)o[v](D,y,L,E)};return p={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(E){return y/(1e3/(E||60))},wake:function(){W7&&(!kI&&oN()&&(cf=kI=window,lN=cf.document||{},Ul.gsap=rl,(cf.gsapVersions||(cf.gsapVersions=[])).push(rl.version),$7(F2||cf.GreenSockGlobals||!cf.gsap&&cf||{}),fH.forEach(hH)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&p.sleep(),u=h||function(E){return setTimeout(E,a-p.time*1e3+1|0)},Ix=1,_(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(c),Ix=0,u=Rx},lagSmoothing:function(E,b){e=E||1/0,t=Math.min(b||33,e)},fps:function(E){s=1e3/(E||240),a=p.time*1e3+s},add:function(E,b,w){var A=b?function(C,D,L,P){E(C,D,L,P),p.remove(A)}:E;return p.remove(E),o[w?"unshift":"push"](A),k0(),A},remove:function(E,b){~(b=o.indexOf(E))&&o.splice(b,1)&&v>=b&&v--},_listeners:o},p})(),k0=function(){return!Ix&&Ml.wake()},ui={},cre=/^[\d.\-M][\d.\-,\s]/,ure=/["']/g,fre=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,a=i.length,o,c,u;s<a;s++)c=i[s],o=s!==a-1?c.lastIndexOf(","):c.length,u=c.substr(0,o),t[r]=isNaN(u)?u.replace(ure,"").trim():+u,r=c.substr(o+1).trim();return t},hre=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},dre=function(e){var t=(e+"").split("("),i=ui[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[fre(t[1])]:hre(e).split(",").map(Q7)):ui._CE&&cre.test(e)?ui._CE("",e):i},gH=function(e){return function(t){return 1-e(1-t)}},yH=function n(e,t){for(var i=e._first,r;i;)i instanceof Co?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},kg=function(e,t){return e&&(es(e)?e:ui[e]||dre(e))||t},sy=function(e,t,i,r){i===void 0&&(i=function(c){return 1-t(1-c)}),r===void 0&&(r=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var s={easeIn:t,easeOut:i,easeInOut:r},a;return Jo(e,function(o){ui[o]=Ul[o]=s,ui[a=o.toLowerCase()]=i;for(var c in s)ui[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=ui[o+"."+c]=s[c]}),s},vH=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},ZR=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),a=s/UI*(Math.asin(1/r)||0),o=function(h){return h===1?1:r*Math.pow(2,-10*h)*zie((h-a)*s)+1},c=e==="out"?o:e==="in"?function(u){return 1-o(1-u)}:vH(o);return s=UI/s,c.config=function(u,h){return n(e,u,h)},c},QR=function n(e,t){t===void 0&&(t=1.70158);var i=function(a){return a?--a*a*((t+1)*a+t)+1:0},r=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:vH(i);return r.config=function(s){return n(e,s)},r};Jo("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;sy(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});ui.Linear.easeNone=ui.none=ui.Linear.easeIn;sy("Elastic",ZR("in"),ZR("out"),ZR());(function(n,e){var t=1/e,i=2*t,r=2.5*t,s=function(o){return o<t?n*o*o:o<i?n*Math.pow(o-1.5/e,2)+.75:o<r?n*(o-=2.25/e)*o+.9375:n*Math.pow(o-2.625/e,2)+.984375};sy("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);sy("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});sy("Circ",function(n){return-(H7(1-n*n)-1)});sy("Sine",function(n){return n===1?1:-kie(n*Lie)+1});sy("Back",QR("in"),QR("out"),QR());ui.SteppedEase=ui.steps=Ul.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0,a=1-Ji;return function(o){return((r*TS(0,a,o)|0)+s)*i}}};D0.ease=ui["quad.out"];Jo("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return fN+=n+","+n+"Params,"});var _H=function(e,t){this.id=Uie++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:K7,this.set=t?t.getSetter:yN},Px=(function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,U0(this,+t.duration,1,1),this.data=t.data,Sr&&(this._ctx=Sr,Sr.data.push(this)),Ix||Ml.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,U0(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(k0(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(wA(this,i),!s._dp||s.parent||tH(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&mf(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Ji||!this._initted&&this._dur&&i||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),Z7(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+nk(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+nk(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?L0(this._tTime,s)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-Ji?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?j2(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Ji?0:this._rts,this.totalTime(TS(-Math.abs(this._delay),this.totalDuration(),s),r!==!1),TA(this),Xie(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(k0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ji&&(this._tTime-=Ji)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=Dr(i);var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&mf(r,this,this._start-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Qo(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?j2(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=Gie);var r=Sa;return Sa=i,dN(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Sa=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,ik(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,ik(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(mc(this,i),Qo(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Qo(r)),this._dur||(this._zTime=-Ji),this},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Ji:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ji,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-Ji)},e.eventCallback=function(i,r,s){var a=this.vars;return arguments.length>1?(r?(a[i]=r,s&&(a[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete a[i],this):a[i]},e.then=function(i){var r=this,s=r._prom;return new Promise(function(a){var o=es(i)?i:J7,c=function(){var h=r.then;r.then=null,s&&s(),es(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=h),a(o),r.then=h};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?c():r._prom=c})},e.kill=function(){Mb(this)},n})();kl(Px.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ji,_prom:0,_ps:!1,_rts:1});var Co=(function(n){V7(e,n);function e(i,r){var s;return i===void 0&&(i={}),s=n.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=Qo(i.sortChildren),Nr&&mf(i.parent||Nr,Ch(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&nH(Ch(s),i.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,a){return Kb(0,arguments,this),this},t.from=function(r,s,a){return Kb(1,arguments,this),this},t.fromTo=function(r,s,a,o){return Kb(2,arguments,this),this},t.set=function(r,s,a){return s.duration=0,s.parent=this,Yb(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Ts(r,s,mc(this,a),1),this},t.call=function(r,s,a){return mf(this,Ts.delayedCall(0,r,s),a)},t.staggerTo=function(r,s,a,o,c,u,h){return a.duration=s,a.stagger=a.stagger||o,a.onComplete=u,a.onCompleteParams=h,a.parent=this,new Ts(r,a,mc(this,c)),this},t.staggerFrom=function(r,s,a,o,c,u,h){return a.runBackwards=1,Yb(a).immediateRender=Qo(a.immediateRender),this.staggerTo(r,s,a,o,c,u,h)},t.staggerFromTo=function(r,s,a,o,c,u,h,p){return o.startAt=a,Yb(o).immediateRender=Qo(o.immediateRender),this.staggerTo(r,s,o,c,u,h,p)},t.render=function(r,s,a){var o=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,h=r<=0?0:Dr(r),p=this._zTime<0!=r<0&&(this._initted||!u),y,v,_,S,E,b,w,A,C,D,L,P;if(this!==Nr&&h>c&&r>=0&&(h=c),h!==this._tTime||a||p){if(o!==this._time&&u&&(h+=this._time-o,r+=this._time-o),y=h,C=this._start,A=this._ts,b=!A,p&&(u||(o=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(L=this._yoyo,E=u+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(E*100+r,s,a);if(y=Dr(h%E),h===c?(S=this._repeat,y=u):(D=Dr(h/E),S=~~D,S&&S===D&&(y=u,S--),y>u&&(y=u)),D=L0(this._tTime,E),!o&&this._tTime&&D!==S&&this._tTime-D*E-this._dur<=0&&(D=S),L&&S&1&&(y=u-y,P=1),S!==D&&!this._lock){var U=L&&D&1,I=U===(L&&S&1);if(S<D&&(U=!U),o=U?0:h%u?u:h,this._lock=1,this.render(o||(P?0:Dr(S*E)),s,!u)._lock=0,this._tTime=h,!s&&this.parent&&Ol(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1,D=S),o&&o!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,I&&(this._lock=2,o=U?u:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;yH(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=Qie(this,Dr(o),Dr(y)),w&&(h-=y-(y=w._start))),this._tTime=h,this._time=y,this._act=!A,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&h&&u&&!s&&!D&&(Ol(this,"onStart"),this._tTime!==h))return this;if(y>=o&&r>=0)for(v=this._first;v;){if(_=v._next,(v._act||y>=v._start)&&v._ts&&w!==v){if(v.parent!==this)return this.render(r,s,a);if(v.render(v._ts>0?(y-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(y-v._start)*v._ts,s,a),y!==this._time||!this._ts&&!b){w=0,_&&(h+=this._zTime=-Ji);break}}v=_}else{v=this._last;for(var N=r<0?r:y;v;){if(_=v._prev,(v._act||N<=v._end)&&v._ts&&w!==v){if(v.parent!==this)return this.render(r,s,a);if(v.render(v._ts>0?(N-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(N-v._start)*v._ts,s,a||Sa&&dN(v)),y!==this._time||!this._ts&&!b){w=0,_&&(h+=this._zTime=N?-Ji:Ji);break}}v=_}}if(w&&!s&&(this.pause(),w.render(y>=o?0:-Ji)._zTime=y>=o?1:-1,this._ts))return this._start=C,TA(this),this.render(r,s,a);this._onUpdate&&!s&&Ol(this,"onUpdate",!0),(h===c&&this._tTime>=this.totalDuration()||!h&&o)&&(C===this._start||Math.abs(A)!==Math.abs(this._ts))&&(this._lock||((r||!u)&&(h===c&&this._ts>0||!h&&this._ts<0)&&Bp(this,1),!s&&!(r<0&&!o)&&(h||o||!c)&&(Ol(this,h===c&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var a=this;if($h(s)||(s=mc(this,s,r)),!(r instanceof Px)){if(Ja(r))return r.forEach(function(o){return a.add(o,s)}),this;if(sa(r))return this.addLabel(r,s);if(es(r))r=Ts.delayedCall(0,r);else return this}return this!==r?mf(this,r,s):this},t.getChildren=function(r,s,a,o){r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),o===void 0&&(o=-bc);for(var c=[],u=this._first;u;)u._start>=o&&(u instanceof Ts?s&&c.push(u):(a&&c.push(u),r&&c.push.apply(c,u.getChildren(!0,s,a)))),u=u._next;return c},t.getById=function(r){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===r)return s[a]},t.remove=function(r){return sa(r)?this.removeLabel(r):es(r)?this.killTweensOf(r):(r.parent===this&&EA(this,r),r===this._recent&&(this._recent=this._last),Ug(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Dr(Ml.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=mc(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,a){var o=Ts.delayedCall(0,s||Rx,a);return o.data="isPause",this._hasPause=1,mf(this,o,mc(this,r))},t.removePause=function(r){var s=this._first;for(r=mc(this,r);s;)s._start===r&&s.data==="isPause"&&Bp(s),s=s._next},t.killTweensOf=function(r,s,a){for(var o=this.getTweensOf(r,a),c=o.length;c--;)_p!==o[c]&&o[c].kill(r,s);return this},t.getTweensOf=function(r,s){for(var a=[],o=xc(r),c=this._first,u=$h(s),h;c;)c instanceof Ts?qie(c._targets,o)&&(u?(!_p||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&a.push(c):(h=c.getTweensOf(o,s)).length&&a.push.apply(a,h),c=c._next;return a},t.tweenTo=function(r,s){s=s||{};var a=this,o=mc(a,r),c=s,u=c.startAt,h=c.onStart,p=c.onStartParams,y=c.immediateRender,v,_=Ts.to(a,kl({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:s.duration||Math.abs((o-(u&&"time"in u?u.time:a._time))/a.timeScale())||Ji,onStart:function(){if(a.pause(),!v){var E=s.duration||Math.abs((o-(u&&"time"in u?u.time:a._time))/a.timeScale());_._dur!==E&&U0(_,E,0,1).render(_._time,!0,!0),v=1}h&&h.apply(_,p||[])}},s));return y?_.render(0):_},t.tweenFromTo=function(r,s,a){return this.tweenTo(s,kl({startAt:{time:mc(this,r)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),rk(this,mc(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),rk(this,mc(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Ji)},t.shiftChildren=function(r,s,a){a===void 0&&(a=0);var o=this._first,c=this.labels,u;for(r=Dr(r);o;)o._start>=a&&(o._start+=r,o._end+=r),o=o._next;if(s)for(u in c)c[u]>=a&&(c[u]+=r);return Ug(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Ug(this)},t.totalDuration=function(r){var s=0,a=this,o=a._last,c=bc,u,h,p;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(p=a.parent;o;)u=o._prev,o._dirty&&o.totalDuration(),h=o._start,h>c&&a._sort&&o._ts&&!a._lock?(a._lock=1,mf(a,o,h-o._delay,1)._lock=0):c=h,h<0&&o._ts&&(s-=h,(!p&&!a._dp||p&&p.smoothChildTiming)&&(a._start+=Dr(h/a._ts),a._time-=h,a._tTime-=h),a.shiftChildren(-h,!1,-1/0),c=0),o._end>s&&o._ts&&(s=o._end),o=u;U0(a,a===Nr&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if(Nr._ts&&(Z7(Nr,j2(r,Nr)),Y7=Ml.frame),Ml.frame>=ek){ek+=Pl.autoSleep||120;var s=Nr._first;if((!s||!s._ts)&&Pl.autoSleep&&Ml._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Ml.sleep()}}},e})(Px);kl(Co.prototype,{_lock:0,_hasPause:0,_forcing:0});var pre=function(e,t,i,r,s,a,o){var c=new el(this._pt,e,t,0,1,wH,null,s),u=0,h=0,p,y,v,_,S,E,b,w;for(c.b=i,c.e=r,i+="",r+="",(b=~r.indexOf("random("))&&(r=Ox(r)),a&&(w=[i,r],a(w,e,t),i=w[0],r=w[1]),y=i.match(XR)||[];p=XR.exec(r);)_=p[0],S=r.substring(u,p.index),v?v=(v+1)%5:S.substr(-5)==="rgba("&&(v=1),_!==y[h++]&&(E=parseFloat(y[h-1])||0,c._pt={_next:c._pt,p:S||h===1?S:",",s:E,c:_.charAt(1)==="="?g0(E,_)-E:parseFloat(_)-E,m:v&&v<4?Math.round:0},u=XR.lastIndex);return c.c=u<r.length?r.substring(u,r.length):"",c.fp=o,(q7.test(r)||b)&&(c.e=0),this._pt=c,c},pN=function(e,t,i,r,s,a,o,c,u,h){es(r)&&(r=r(s||0,e,a));var p=e[t],y=i!=="get"?i:es(p)?u?e[t.indexOf("set")||!es(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():p,v=es(p)?u?_re:EH:gN,_;if(sa(r)&&(~r.indexOf("random(")&&(r=Ox(r)),r.charAt(1)==="="&&(_=g0(y,r)+(Za(y)||0),(_||_===0)&&(r=_))),!h||y!==r||GI)return!isNaN(y*r)&&r!==""?(_=new el(this._pt,e,t,+y||0,r-(y||0),typeof p=="boolean"?xre:TH,0,v),u&&(_.fp=u),o&&_.modifier(o,this,e),this._pt=_):(!p&&!(t in e)&&cN(t,r),pre.call(this,e,t,y,r,v,c||Pl.stringFilter,u))},mre=function(e,t,i,r,s){if(es(e)&&(e=Zb(e,s,t,i,r)),!If(e)||e.style&&e.nodeType||Ja(e)||j7(e))return sa(e)?Zb(e,s,t,i,r):e;var a={},o;for(o in e)a[o]=Zb(e[o],s,t,i,r);return a},bH=function(e,t,i,r,s,a){var o,c,u,h;if(Al[e]&&(o=new Al[e]).init(s,o.rawVars?t[e]:mre(t[e],r,s,a,i),i,r,a)!==!1&&(i._pt=c=new el(i._pt,s,e,0,1,o.render,o,0,o.priority),i!==i0))for(u=i._ptLookup[i._targets.indexOf(s)],h=o._props.length;h--;)u[o._props[h]]=c;return o},_p,GI,mN=function n(e,t,i){var r=e.vars,s=r.ease,a=r.startAt,o=r.immediateRender,c=r.lazy,u=r.onUpdate,h=r.runBackwards,p=r.yoyoEase,y=r.keyframes,v=r.autoRevert,_=e._dur,S=e._startAt,E=e._targets,b=e.parent,w=b&&b.data==="nested"?b.vars.targets:E,A=e._overwrite==="auto"&&!sN,C=e.timeline,D,L,P,U,I,N,F,z,V,K,ee,q,$;if(C&&(!y||!s)&&(s="none"),e._ease=kg(s,D0.ease),e._yEase=p?gH(kg(p===!0?s:p,D0.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!C&&!!r.runBackwards,!C||y&&!r.stagger){if(z=E[0]?Lg(E[0]).harness:0,q=z&&r[z.prop],D=H2(r,uN),S&&(S._zTime<0&&S.progress(1),t<0&&h&&o&&!v?S.render(-1,!0):S.revert(h&&_?e2:jie),S._lazy=0),a){if(Bp(e._startAt=Ts.set(E,kl({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!S&&Qo(c),startAt:null,delay:0,onUpdate:u&&function(){return Ol(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Sa||!o&&!v)&&e._startAt.revert(e2),o&&_&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(h&&_&&!S){if(t&&(o=!1),P=kl({overwrite:!1,data:"isFromStart",lazy:o&&!S&&Qo(c),immediateRender:o,stagger:0,parent:b},D),q&&(P[z.prop]=q),Bp(e._startAt=Ts.set(E,P)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Sa?e._startAt.revert(e2):e._startAt.render(-1,!0)),e._zTime=t,!o)n(e._startAt,Ji,Ji);else if(!t)return}for(e._pt=e._ptCache=0,c=_&&Qo(c)||c&&!_,L=0;L<E.length;L++){if(I=E[L],F=I._gsap||hN(E)[L]._gsap,e._ptLookup[L]=K={},zI[F.id]&&Rp.length&&V2(),ee=w===E?L:w.indexOf(I),z&&(V=new z).init(I,q||D,e,ee,w)!==!1&&(e._pt=U=new el(e._pt,I,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(Q){K[Q]=U}),V.priority&&(N=1)),!z||q)for(P in D)Al[P]&&(V=bH(P,D,e,ee,I,w))?V.priority&&(N=1):K[P]=U=pN.call(e,I,P,"get",D[P],ee,w,0,r.stringFilter);e._op&&e._op[L]&&e.kill(I,e._op[L]),A&&e._pt&&(_p=e,Nr.killTweensOf(I,K,e.globalTime(t)),$=!e.parent,_p=0),e._pt&&c&&(zI[F.id]=1)}N&&CH(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!$,y&&t<=0&&C.render(bc,!0,!0)},gre=function(e,t,i,r,s,a,o,c){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],h,p,y,v;if(!u)for(u=e._ptCache[t]=[],y=e._ptLookup,v=e._targets.length;v--;){if(h=y[v][t],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==t&&h.fp!==t;)h=h._next;if(!h)return GI=1,e.vars[t]="+=0",mN(e,o),GI=0,c?Mx(t+" not eligible for reset"):1;u.push(h)}for(v=u.length;v--;)p=u[v],h=p._pt||p,h.s=(r||r===0)&&!s?r:h.s+(r||0)+a*h.c,h.c=i-h.s,p.e&&(p.e=fs(i)+Za(p.e)),p.b&&(p.b=h.s+Za(p.b))},yre=function(e,t){var i=e[0]?Lg(e[0]).harness:0,r=i&&i.aliases,s,a,o,c;if(!r)return t;s=N0({},t);for(a in r)if(a in s)for(c=r[a].split(","),o=c.length;o--;)s[c[o]]=s[a];return s},vre=function(e,t,i,r){var s=t.ease||r||"power1.inOut",a,o;if(Ja(t))o=i[e]||(i[e]=[]),t.forEach(function(c,u){return o.push({t:u/(t.length-1)*100,v:c,e:s})});else for(a in t)o=i[a]||(i[a]=[]),a==="ease"||o.push({t:parseFloat(e),v:t[a],e:s})},Zb=function(e,t,i,r,s){return es(e)?e.call(t,i,r,s):sa(e)&&~e.indexOf("random(")?Ox(e):e},xH=fN+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",SH={};Jo(xH+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return SH[n]=1});var Ts=(function(n){V7(e,n);function e(i,r,s,a){var o;typeof r=="number"&&(s.duration=r,r=s,s=null),o=n.call(this,a?r:Yb(r))||this;var c=o.vars,u=c.duration,h=c.delay,p=c.immediateRender,y=c.stagger,v=c.overwrite,_=c.keyframes,S=c.defaults,E=c.scrollTrigger,b=c.yoyoEase,w=r.parent||Nr,A=(Ja(i)||j7(i)?$h(i[0]):"length"in r)?[i]:xc(i),C,D,L,P,U,I,N,F;if(o._targets=A.length?hN(A):Mx("GSAP target "+i+" not found. https://gsap.com",!Pl.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=v,_||y||uT(u)||uT(h)){if(r=o.vars,C=o.timeline=new Co({data:"nested",defaults:S||{},targets:w&&w.data==="nested"?w.vars.targets:A}),C.kill(),C.parent=C._dp=Ch(o),C._start=0,y||uT(u)||uT(h)){if(P=A.length,N=y&&aH(y),If(y))for(U in y)~xH.indexOf(U)&&(F||(F={}),F[U]=y[U]);for(D=0;D<P;D++)L=H2(r,SH),L.stagger=0,b&&(L.yoyoEase=b),F&&N0(L,F),I=A[D],L.duration=+Zb(u,Ch(o),D,I,A),L.delay=(+Zb(h,Ch(o),D,I,A)||0)-o._delay,!y&&P===1&&L.delay&&(o._delay=h=L.delay,o._start+=h,L.delay=0),C.to(I,L,N?N(D,I,A):0),C._ease=ui.none;C.duration()?u=h=0:o.timeline=0}else if(_){Yb(kl(C.vars.defaults,{ease:"none"})),C._ease=kg(_.ease||r.ease||"none");var z=0,V,K,ee;if(Ja(_))_.forEach(function(q){return C.to(A,q,">")}),C.duration();else{L={};for(U in _)U==="ease"||U==="easeEach"||vre(U,_[U],L,_.easeEach);for(U in L)for(V=L[U].sort(function(q,$){return q.t-$.t}),z=0,D=0;D<V.length;D++)K=V[D],ee={ease:K.e,duration:(K.t-(D?V[D-1].t:0))/100*u},ee[U]=K.v,C.to(A,ee,z),z+=ee.duration;C.duration()<u&&C.to({},{duration:u-C.duration()})}}u||o.duration(u=C.duration())}else o.timeline=0;return v===!0&&!sN&&(_p=Ch(o),Nr.killTweensOf(A),_p=0),mf(w,Ch(o),s),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(p||!u&&!_&&o._start===Dr(w._time)&&Qo(p)&&Yie(Ch(o))&&w.data!=="nested")&&(o._tTime=-Ji,o.render(Math.max(0,-h)||0)),E&&nH(Ch(o),E),o}var t=e.prototype;return t.render=function(r,s,a){var o=this._time,c=this._tDur,u=this._dur,h=r<0,p=r>c-Ji&&!h?c:r<Ji?0:r,y,v,_,S,E,b,w,A,C;if(!u)Zie(this,r,s,a);else if(p!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(y=p,A=this.timeline,this._repeat){if(S=u+this._rDelay,this._repeat<-1&&h)return this.totalTime(S*100+r,s,a);if(y=Dr(p%S),p===c?(_=this._repeat,y=u):(E=Dr(p/S),_=~~E,_&&_===E?(y=u,_--):y>u&&(y=u)),b=this._yoyo&&_&1,b&&(C=this._yEase,y=u-y),E=L0(this._tTime,S),y===o&&!a&&this._initted&&_===E)return this._tTime=p,this;_!==E&&(A&&this._yEase&&yH(A,b),this.vars.repeatRefresh&&!b&&!this._lock&&y!==S&&this._initted&&(this._lock=a=1,this.render(Dr(S*_),!0).invalidate()._lock=0))}if(!this._initted){if(iH(this,h?r:y,a,s,p))return this._tTime=0,this;if(o!==this._time&&!(a&&this.vars.repeatRefresh&&_!==E))return this;if(u!==this._dur)return this.render(r,s,a)}if(this._tTime=p,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(C||this._ease)(y/u),this._from&&(this.ratio=w=1-w),!o&&p&&!s&&!E&&(Ol(this,"onStart"),this._tTime!==p))return this;for(v=this._pt;v;)v.r(w,v.d),v=v._next;A&&A.render(r<0?r:A._dur*A._ease(y/this._dur),s,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(h&&BI(this,r,s,a),Ol(this,"onUpdate")),this._repeat&&_!==E&&this.vars.onRepeat&&!s&&this.parent&&Ol(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(h&&!this._onUpdate&&BI(this,r,!0,!0),(r||!u)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Bp(this,1),!s&&!(h&&!o)&&(p||o||b)&&(Ol(this,p===c?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,a,o,c){Ix||Ml.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||mN(this,u),h=this._ease(u/this._dur),gre(this,r,s,a,o,h,u,c)?this.resetTo(r,s,a,o,1):(wA(this,0),this.parent||eH(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Mb(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Sa),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,_p&&_p.vars.overwrite!==!0)._first||Mb(this),this.parent&&a!==this.timeline.totalDuration()&&U0(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,c=r?xc(r):o,u=this._ptLookup,h=this._pt,p,y,v,_,S,E,b;if((!s||s==="all")&&$ie(o,c))return s==="all"&&(this._pt=0),Mb(this);for(p=this._op=this._op||[],s!=="all"&&(sa(s)&&(S={},Jo(s,function(w){return S[w]=1}),s=S),s=yre(o,s)),b=o.length;b--;)if(~c.indexOf(o[b])){y=u[b],s==="all"?(p[b]=s,_=y,v={}):(v=p[b]=p[b]||{},_=s);for(S in _)E=y&&y[S],E&&((!("kill"in E.d)||E.d.kill(S)===!0)&&EA(this,E,"_pt"),delete y[S]),v!=="all"&&(v[S]=1)}return this._initted&&!this._pt&&h&&Mb(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return Kb(1,arguments)},e.delayedCall=function(r,s,a,o){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(r,s,a){return Kb(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,a){return Nr.killTweensOf(r,s,a)},e})(Px);kl(Ts.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Jo("staggerTo,staggerFrom,staggerFromTo",function(n){Ts[n]=function(){var e=new Co,t=VI.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var gN=function(e,t,i){return e[t]=i},EH=function(e,t,i){return e[t](i)},_re=function(e,t,i,r){return e[t](r.fp,i)},bre=function(e,t,i){return e.setAttribute(t,i)},yN=function(e,t){return es(e[t])?EH:aN(e[t])&&e.setAttribute?bre:gN},TH=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},xre=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},wH=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},vN=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},Sre=function(e,t,i,r){for(var s=this._pt,a;s;)a=s._next,s.p===r&&s.modifier(e,t,i),s=a},Ere=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?EA(this,t,"_pt"):t.dep||(i=1),t=r;return!i},Tre=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},CH=function(e){for(var t=e._pt,i,r,s,a;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:a)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:a=t,t=i}e._pt=s},el=(function(){function n(t,i,r,s,a,o,c,u,h){this.t=i,this.s=s,this.c=a,this.p=r,this.r=o||TH,this.d=c||this,this.set=u||gN,this.pr=h||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=Tre,this.m=i,this.mt=s,this.tween=r},n})();Jo(fN+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return uN[n]=1});Ul.TweenMax=Ul.TweenLite=Ts;Ul.TimelineLite=Ul.TimelineMax=Co;Nr=new Co({sortChildren:!1,defaults:D0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Pl.stringFilter=mH;var zg=[],n2={},wre=[],ak=0,Cre=0,JR=function(e){return(n2[e]||wre).map(function(t){return t()})},qI=function(){var e=Date.now(),t=[];e-ak>2&&(JR("matchMediaInit"),zg.forEach(function(i){var r=i.queries,s=i.conditions,a,o,c,u;for(o in r)a=cf.matchMedia(r[o]).matches,a&&(c=1),a!==s[o]&&(s[o]=a,u=1);u&&(i.revert(),c&&t.push(i))}),JR("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),ak=e,JR("matchMedia"))},AH=(function(){function n(t,i){this.selector=i&&HI(i),this.data=[],this._r=[],this.isReverted=!1,this.id=Cre++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,s){es(i)&&(s=r,r=i,i=es);var a=this,o=function(){var u=Sr,h=a.selector,p;return u&&u!==a&&u.data.push(a),s&&(a.selector=HI(s)),Sr=a,p=r.apply(a,arguments),es(p)&&a._r.push(p),Sr=u,a.selector=h,a.isReverted=!1,p};return a.last=o,i===es?o(a,function(c){return a.add(null,c)}):i?a[i]=o:o},e.ignore=function(i){var r=Sr;Sr=null,i(this),Sr=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof Ts&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i?(function(){for(var o=s.getTweens(),c=s.data.length,u;c--;)u=s.data[c],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(h){return o.splice(o.indexOf(h),1)}));for(o.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,p){return p.g-h.g||-1/0}).forEach(function(h){return h.t.revert(i)}),c=s.data.length;c--;)u=s.data[c],u instanceof Co?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Ts)&&u.revert&&u.revert(i);s._r.forEach(function(h){return h(i,s)}),s.isReverted=!0})():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),r)for(var a=zg.length;a--;)zg[a].id===this.id&&zg.splice(a,1)},e.revert=function(i){this.kill(i||{})},n})(),Are=(function(){function n(t){this.contexts=[],this.scope=t,Sr&&Sr.data.push(this)}var e=n.prototype;return e.add=function(i,r,s){If(i)||(i={matches:i});var a=new AH(0,s||this.scope),o=a.conditions={},c,u,h;Sr&&!a.selector&&(a.selector=Sr.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=i;for(u in i)u==="all"?h=1:(c=cf.matchMedia(i[u]),c&&(zg.indexOf(a)<0&&zg.push(a),(o[u]=c.matches)&&(h=1),c.addListener?c.addListener(qI):c.addEventListener("change",qI)));return h&&r(a,function(p){return a.add(null,p)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n})(),G2={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return hH(r)})},timeline:function(e){return new Co(e)},getTweensOf:function(e,t){return Nr.getTweensOf(e,t)},getProperty:function(e,t,i,r){sa(e)&&(e=xc(e)[0]);var s=Lg(e||{}).get,a=i?J7:Q7;return i==="native"&&(i=""),e&&(t?a((Al[t]&&Al[t].get||s)(e,t,i,r)):function(o,c,u){return a((Al[o]&&Al[o].get||s)(e,o,c,u))})},quickSetter:function(e,t,i){if(e=xc(e),e.length>1){var r=e.map(function(h){return rl.quickSetter(h,t,i)}),s=r.length;return function(h){for(var p=s;p--;)r[p](h)}}e=e[0]||{};var a=Al[t],o=Lg(e),c=o.harness&&(o.harness.aliases||{})[t]||t,u=a?function(h){var p=new a;i0._pt=0,p.init(e,i?h+i:h,i0,0,[e]),p.render(1,p),i0._pt&&vN(1,i0)}:o.set(e,c);return a?u:function(h){return u(e,c,i?h+i:h,o,1)}},quickTo:function(e,t,i){var r,s=rl.to(e,kl((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),i||{})),a=function(c,u,h){return s.resetTo(t,c,u,h)};return a.tween=s,a},isTweening:function(e){return Nr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=kg(e.ease,D0.ease)),tk(D0,e||{})},config:function(e){return tk(Pl,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,s=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!Al[o]&&!Ul[o]&&Mx(t+" effect requires "+o+" plugin.")}),YR[t]=function(o,c,u){return i(xc(o),kl(c||{},s),u)},a&&(Co.prototype[t]=function(o,c,u){return this.add(YR[t](o,If(c)?c:(u=c)&&{},this),u)})},registerEase:function(e,t){ui[e]=kg(t)},parseEase:function(e,t){return arguments.length?kg(e,t):ui},getById:function(e){return Nr.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new Co(e),r,s;for(i.smoothChildTiming=Qo(e.smoothChildTiming),Nr.remove(i),i._dp=0,i._time=i._tTime=Nr._time,r=Nr._first;r;)s=r._next,(t||!(!r._dur&&r instanceof Ts&&r.vars.onComplete===r._targets[0]))&&mf(i,r,r._start-r._delay),r=s;return mf(Nr,i,0),i},context:function(e,t){return e?new AH(e,t):Sr},matchMedia:function(e){return new Are(e)},matchMediaRefresh:function(){return zg.forEach(function(e){var t=e.conditions,i,r;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||qI()},addEventListener:function(e,t){var i=n2[e]||(n2[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=n2[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:sre,wrapYoyo:are,distribute:aH,random:lH,snap:oH,normalize:rre,getUnit:Za,clamp:ere,splitColor:dH,toArray:xc,selector:HI,mapRange:uH,pipe:nre,unitize:ire,interpolate:ore,shuffle:sH},install:$7,effects:YR,ticker:Ml,updateRoot:Co.updateRoot,plugins:Al,globalTimeline:Nr,core:{PropTween:el,globals:X7,Tween:Ts,Timeline:Co,Animation:Px,getCache:Lg,_removeLinkedListItem:EA,reverting:function(){return Sa},context:function(e){return e&&Sr&&(Sr.data.push(e),e._ctx=Sr),Sr},suppressOverwrites:function(e){return sN=e}}};Jo("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return G2[n]=Ts[n]});Ml.add(Co.updateRoot);i0=G2.to({},{duration:0});var Mre=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},Rre=function(e,t){var i=e._targets,r,s,a;for(r in t)for(s=i.length;s--;)a=e._ptLookup[s][r],a&&(a=a.d)&&(a._pt&&(a=Mre(a,r)),a&&a.modifier&&a.modifier(t[r],e,i[s],r))},eO=function(e,t){return{name:e,headless:1,rawVars:1,init:function(r,s,a){a._onInit=function(o){var c,u;if(sa(s)&&(c={},Jo(s,function(h){return c[h]=1}),s=c),t){c={};for(u in s)c[u]=t(s[u]);s=c}Rre(o,s)}}}},rl=G2.registerPlugin({name:"attr",init:function(e,t,i,r,s){var a,o,c;this.tween=i;for(a in t)c=e.getAttribute(a)||"",o=this.add(e,"setAttribute",(c||0)+"",t[a],r,s,0,0,a),o.op=a,o.b=c,this._props.push(a)},render:function(e,t){for(var i=t._pt;i;)Sa?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},eO("roundProps",jI),eO("modifiers"),eO("snap",oH))||G2;Ts.version=Co.version=rl.version="3.14.2";W7=1;oN()&&k0();ui.Power0;ui.Power1;ui.Power2;ui.Power3;ui.Power4;ui.Linear;ui.Quad;ui.Cubic;ui.Quart;ui.Quint;ui.Strong;ui.Elastic;ui.Back;ui.SteppedEase;ui.Bounce;ui.Sine;ui.Expo;ui.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ok,bp,y0,_N,wg,lk,bN,Ore=function(){return typeof window<"u"},Xh={},mg=180/Math.PI,v0=Math.PI/180,cv=Math.atan2,ck=1e8,xN=/([A-Z])/g,Ire=/(left|right|width|margin|padding|x)/i,Pre=/[\s,\(]\S/,vf={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},WI=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Dre=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Nre=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Lre=function(e,t){return t.set(t.t,t.p,e===1?t.e:e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Ure=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},MH=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},RH=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},kre=function(e,t,i){return e.style[t]=i},zre=function(e,t,i){return e.style.setProperty(t,i)},Bre=function(e,t,i){return e._gsap[t]=i},Fre=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},Vre=function(e,t,i,r,s){var a=e._gsap;a.scaleX=a.scaleY=i,a.renderTransform(s,a)},Hre=function(e,t,i,r,s){var a=e._gsap;a[t]=i,a.renderTransform(s,a)},Ur="transform",tl=Ur+"Origin",jre=function n(e,t){var i=this,r=this.target,s=r.style,a=r._gsap;if(e in Xh&&s){if(this.tfm=this.tfm||{},e!=="transform")e=vf[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=Ah(r,o)}):this.tfm[e]=a.x?a[e]:Ah(r,e),e===tl&&(this.tfm.zOrigin=a.zOrigin);else return vf.transform.split(",").forEach(function(o){return n.call(i,o,t)});if(this.props.indexOf(Ur)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(tl,t,"")),e=Ur}(s||t)&&this.props.push(e,t,s[e])},OH=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Gre=function(){var e=this.props,t=this.target,i=t.style,r=t._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(xN,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=bN(),(!s||!s.isStart)&&!i[Ur]&&(OH(i),r.zOrigin&&i[tl]&&(i[tl]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},IH=function(e,t){var i={target:e,props:[],revert:Gre,save:jre};return e._gsap||rl.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return i.save(r)}),i},PH,$I=function(e,t){var i=bp.createElementNS?bp.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):bp.createElement(e);return i&&i.style?i:bp.createElement(e)},Il=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(xN,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,z0(t)||t,1)||""},uk="O,Moz,ms,Ms,Webkit".split(","),z0=function(e,t,i){var r=t||wg,s=r.style,a=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(uk[a]+e in s););return a<0?null:(a===3?"ms":a>=0?uk[a]:"")+e},XI=function(){Ore()&&window.document&&(ok=window,bp=ok.document,y0=bp.documentElement,wg=$I("div")||{style:{}},$I("div"),Ur=z0(Ur),tl=Ur+"Origin",wg.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",PH=!!z0("perspective"),bN=rl.core.reverting,_N=1)},fk=function(e){var t=e.ownerSVGElement,i=$I("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",i.appendChild(r),y0.appendChild(i);try{s=r.getBBox()}catch{}return i.removeChild(r),y0.removeChild(i),s},hk=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},DH=function(e){var t,i;try{t=e.getBBox()}catch{t=fk(e),i=1}return t&&(t.width||t.height)||i||(t=fk(e)),t&&!t.width&&!t.x&&!t.y?{x:+hk(e,["x","cx","x1"])||0,y:+hk(e,["y","cy","y1"])||0,width:0,height:0}:t},NH=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&DH(e))},Fp=function(e,t){if(t){var i=e.style,r;t in Xh&&t!==tl&&(t=Ur),i.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(r==="--"?t:t.replace(xN,"-$1").toLowerCase())):i.removeAttribute(t)}},xp=function(e,t,i,r,s,a){var o=new el(e._pt,t,i,0,1,a?RH:MH);return e._pt=o,o.b=r,o.e=s,e._props.push(i),o},dk={deg:1,rad:1,turn:1},qre={grid:1,flex:1},Vp=function n(e,t,i,r){var s=parseFloat(i)||0,a=(i+"").trim().substr((s+"").length)||"px",o=wg.style,c=Ire.test(t),u=e.tagName.toLowerCase()==="svg",h=(u?"client":"offset")+(c?"Width":"Height"),p=100,y=r==="px",v=r==="%",_,S,E,b;if(r===a||!s||dk[r]||dk[a])return s;if(a!=="px"&&!y&&(s=n(e,t,i,"px")),b=e.getCTM&&NH(e),(v||a==="%")&&(Xh[t]||~t.indexOf("adius")))return _=b?e.getBBox()[c?"width":"height"]:e[h],fs(v?s/_*p:s/100*_);if(o[c?"width":"height"]=p+(y?a:r),S=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!u?e:e.parentNode,b&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===bp||!S.appendChild)&&(S=bp.body),E=S._gsap,E&&v&&E.width&&c&&E.time===Ml.time&&!E.uncache)return fs(s/E.width*p);if(v&&(t==="height"||t==="width")){var w=e.style[t];e.style[t]=p+r,_=e[h],w?e.style[t]=w:Fp(e,t)}else(v||a==="%")&&!qre[Il(S,"display")]&&(o.position=Il(e,"position")),S===e&&(o.position="static"),S.appendChild(wg),_=wg[h],S.removeChild(wg),o.position="absolute";return c&&v&&(E=Lg(S),E.time=Ml.time,E.width=S[h]),fs(y?_*s/p:_&&s?p/_*s:0)},Ah=function(e,t,i,r){var s;return _N||XI(),t in vf&&t!=="transform"&&(t=vf[t],~t.indexOf(",")&&(t=t.split(",")[0])),Xh[t]&&t!=="transform"?(s=Nx(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:W2(Il(e,tl))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=q2[t]&&q2[t](e,t,i)||Il(e,t)||K7(e,t)||(t==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?Vp(e,t,s,i)+i:s},Wre=function(e,t,i,r){if(!i||i==="none"){var s=z0(t,e,1),a=s&&Il(e,s,1);a&&a!==i?(t=s,i=a):t==="borderColor"&&(i=Il(e,"borderTopColor"))}var o=new el(this._pt,e.style,t,0,1,wH),c=0,u=0,h,p,y,v,_,S,E,b,w,A,C,D;if(o.b=i,o.e=r,i+="",r+="",r.substring(0,6)==="var(--"&&(r=Il(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(S=e.style[t],e.style[t]=r,r=Il(e,t)||r,S?e.style[t]=S:Fp(e,t)),h=[i,r],mH(h),i=h[0],r=h[1],y=i.match(n0)||[],D=r.match(n0)||[],D.length){for(;p=n0.exec(r);)E=p[0],w=r.substring(c,p.index),_?_=(_+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(_=1),E!==(S=y[u++]||"")&&(v=parseFloat(S)||0,C=S.substr((v+"").length),E.charAt(1)==="="&&(E=g0(v,E)+C),b=parseFloat(E),A=E.substr((b+"").length),c=n0.lastIndex-A.length,A||(A=A||Pl.units[t]||C,c===r.length&&(r+=A,o.e+=A)),C!==A&&(v=Vp(e,t,S,A)||0),o._pt={_next:o._pt,p:w||u===1?w:",",s:v,c:b-v,m:_&&_<4||t==="zIndex"?Math.round:0});o.c=c<r.length?r.substring(c,r.length):""}else o.r=t==="display"&&r==="none"?RH:MH;return q7.test(r)&&(o.e=0),this._pt=o,o},pk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},$re=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=pk[i]||i,t[1]=pk[r]||r,t.join(" ")},Xre=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,s=t.u,a=i._gsap,o,c,u;if(s==="all"||s===!0)r.cssText="",c=1;else for(s=s.split(","),u=s.length;--u>-1;)o=s[u],Xh[o]&&(c=1,o=o==="transformOrigin"?tl:Ur),Fp(i,o);c&&(Fp(i,Ur),a&&(a.svg&&i.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",Nx(i,1),a.uncache=1,OH(r)))}},q2={clearProps:function(e,t,i,r,s){if(s.data!=="isFromStart"){var a=e._pt=new el(e._pt,t,i,0,0,Xre);return a.u=r,a.pr=-10,a.tween=s,e._props.push(i),1}}},Dx=[1,0,0,1,0,0],LH={},UH=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},mk=function(e){var t=Il(e,Ur);return UH(t)?Dx:t.substr(7).match(G7).map(fs)},SN=function(e,t){var i=e._gsap||Lg(e),r=e.style,s=mk(e),a,o,c,u;return i.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?Dx:s):(s===Dx&&!e.offsetParent&&e!==y0&&!i.svg&&(c=r.display,r.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,o=e.nextElementSibling,y0.appendChild(e)),s=mk(e),c?r.display=c:Fp(e,"display"),u&&(o?a.insertBefore(e,o):a?a.appendChild(e):y0.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},YI=function(e,t,i,r,s,a){var o=e._gsap,c=s||SN(e,!0),u=o.xOrigin||0,h=o.yOrigin||0,p=o.xOffset||0,y=o.yOffset||0,v=c[0],_=c[1],S=c[2],E=c[3],b=c[4],w=c[5],A=t.split(" "),C=parseFloat(A[0])||0,D=parseFloat(A[1])||0,L,P,U,I;i?c!==Dx&&(P=v*E-_*S)&&(U=C*(E/P)+D*(-S/P)+(S*w-E*b)/P,I=C*(-_/P)+D*(v/P)-(v*w-_*b)/P,C=U,D=I):(L=DH(e),C=L.x+(~A[0].indexOf("%")?C/100*L.width:C),D=L.y+(~(A[1]||A[0]).indexOf("%")?D/100*L.height:D)),r||r!==!1&&o.smooth?(b=C-u,w=D-h,o.xOffset=p+(b*v+w*S)-b,o.yOffset=y+(b*_+w*E)-w):o.xOffset=o.yOffset=0,o.xOrigin=C,o.yOrigin=D,o.smooth=!!r,o.origin=t,o.originIsAbsolute=!!i,e.style[tl]="0px 0px",a&&(xp(a,o,"xOrigin",u,C),xp(a,o,"yOrigin",h,D),xp(a,o,"xOffset",p,o.xOffset),xp(a,o,"yOffset",y,o.yOffset)),e.setAttribute("data-svg-origin",C+" "+D)},Nx=function(e,t){var i=e._gsap||new _H(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,s=i.scaleX<0,a="px",o="deg",c=getComputedStyle(e),u=Il(e,tl)||"0",h,p,y,v,_,S,E,b,w,A,C,D,L,P,U,I,N,F,z,V,K,ee,q,$,Q,re,de,Y,le,pe,ue,ie;return h=p=y=S=E=b=w=A=C=0,v=_=1,i.svg=!!(e.getCTM&&NH(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(r[Ur]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Ur]!=="none"?c[Ur]:"")),r.scale=r.rotate=r.translate="none"),P=SN(e,i.svg),i.svg&&(i.uncache?(Q=e.getBBox(),u=i.xOrigin-Q.x+"px "+(i.yOrigin-Q.y)+"px",$=""):$=!t&&e.getAttribute("data-svg-origin"),YI(e,$||u,!!$||i.originIsAbsolute,i.smooth!==!1,P)),D=i.xOrigin||0,L=i.yOrigin||0,P!==Dx&&(F=P[0],z=P[1],V=P[2],K=P[3],h=ee=P[4],p=q=P[5],P.length===6?(v=Math.sqrt(F*F+z*z),_=Math.sqrt(K*K+V*V),S=F||z?cv(z,F)*mg:0,w=V||K?cv(V,K)*mg+S:0,w&&(_*=Math.abs(Math.cos(w*v0))),i.svg&&(h-=D-(D*F+L*V),p-=L-(D*z+L*K))):(ie=P[6],pe=P[7],de=P[8],Y=P[9],le=P[10],ue=P[11],h=P[12],p=P[13],y=P[14],U=cv(ie,le),E=U*mg,U&&(I=Math.cos(-U),N=Math.sin(-U),$=ee*I+de*N,Q=q*I+Y*N,re=ie*I+le*N,de=ee*-N+de*I,Y=q*-N+Y*I,le=ie*-N+le*I,ue=pe*-N+ue*I,ee=$,q=Q,ie=re),U=cv(-V,le),b=U*mg,U&&(I=Math.cos(-U),N=Math.sin(-U),$=F*I-de*N,Q=z*I-Y*N,re=V*I-le*N,ue=K*N+ue*I,F=$,z=Q,V=re),U=cv(z,F),S=U*mg,U&&(I=Math.cos(U),N=Math.sin(U),$=F*I+z*N,Q=ee*I+q*N,z=z*I-F*N,q=q*I-ee*N,F=$,ee=Q),E&&Math.abs(E)+Math.abs(S)>359.9&&(E=S=0,b=180-b),v=fs(Math.sqrt(F*F+z*z+V*V)),_=fs(Math.sqrt(q*q+ie*ie)),U=cv(ee,q),w=Math.abs(U)>2e-4?U*mg:0,C=ue?1/(ue<0?-ue:ue):0),i.svg&&($=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!UH(Il(e,Ur)),$&&e.setAttribute("transform",$))),Math.abs(w)>90&&Math.abs(w)<270&&(s?(v*=-1,w+=S<=0?180:-180,S+=S<=0?180:-180):(_*=-1,w+=w<=0?180:-180)),t=t||i.uncache,i.x=h-((i.xPercent=h&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+a,i.y=p-((i.yPercent=p&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+a,i.z=y+a,i.scaleX=fs(v),i.scaleY=fs(_),i.rotation=fs(S)+o,i.rotationX=fs(E)+o,i.rotationY=fs(b)+o,i.skewX=w+o,i.skewY=A+o,i.transformPerspective=C+a,(i.zOrigin=parseFloat(u.split(" ")[2])||!t&&i.zOrigin||0)&&(r[tl]=W2(u)),i.xOffset=i.yOffset=0,i.force3D=Pl.force3D,i.renderTransform=i.svg?Kre:PH?kH:Yre,i.uncache=0,i},W2=function(e){return(e=e.split(" "))[0]+" "+e[1]},tO=function(e,t,i){var r=Za(t);return fs(parseFloat(t)+parseFloat(Vp(e,"x",i+"px",r)))+r},Yre=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,kH(e,t)},Wm="0deg",G1="0px",$m=") ",kH=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,c=i.z,u=i.rotation,h=i.rotationY,p=i.rotationX,y=i.skewX,v=i.skewY,_=i.scaleX,S=i.scaleY,E=i.transformPerspective,b=i.force3D,w=i.target,A=i.zOrigin,C="",D=b==="auto"&&e&&e!==1||b===!0;if(A&&(p!==Wm||h!==Wm)){var L=parseFloat(h)*v0,P=Math.sin(L),U=Math.cos(L),I;L=parseFloat(p)*v0,I=Math.cos(L),a=tO(w,a,P*I*-A),o=tO(w,o,-Math.sin(L)*-A),c=tO(w,c,U*I*-A+A)}E!==G1&&(C+="perspective("+E+$m),(r||s)&&(C+="translate("+r+"%, "+s+"%) "),(D||a!==G1||o!==G1||c!==G1)&&(C+=c!==G1||D?"translate3d("+a+", "+o+", "+c+") ":"translate("+a+", "+o+$m),u!==Wm&&(C+="rotate("+u+$m),h!==Wm&&(C+="rotateY("+h+$m),p!==Wm&&(C+="rotateX("+p+$m),(y!==Wm||v!==Wm)&&(C+="skew("+y+", "+v+$m),(_!==1||S!==1)&&(C+="scale("+_+", "+S+$m),w.style[Ur]=C||"translate(0, 0)"},Kre=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,c=i.rotation,u=i.skewX,h=i.skewY,p=i.scaleX,y=i.scaleY,v=i.target,_=i.xOrigin,S=i.yOrigin,E=i.xOffset,b=i.yOffset,w=i.forceCSS,A=parseFloat(a),C=parseFloat(o),D,L,P,U,I;c=parseFloat(c),u=parseFloat(u),h=parseFloat(h),h&&(h=parseFloat(h),u+=h,c+=h),c||u?(c*=v0,u*=v0,D=Math.cos(c)*p,L=Math.sin(c)*p,P=Math.sin(c-u)*-y,U=Math.cos(c-u)*y,u&&(h*=v0,I=Math.tan(u-h),I=Math.sqrt(1+I*I),P*=I,U*=I,h&&(I=Math.tan(h),I=Math.sqrt(1+I*I),D*=I,L*=I)),D=fs(D),L=fs(L),P=fs(P),U=fs(U)):(D=p,U=y,L=P=0),(A&&!~(a+"").indexOf("px")||C&&!~(o+"").indexOf("px"))&&(A=Vp(v,"x",a,"px"),C=Vp(v,"y",o,"px")),(_||S||E||b)&&(A=fs(A+_-(_*D+S*P)+E),C=fs(C+S-(_*L+S*U)+b)),(r||s)&&(I=v.getBBox(),A=fs(A+r/100*I.width),C=fs(C+s/100*I.height)),I="matrix("+D+","+L+","+P+","+U+","+A+","+C+")",v.setAttribute("transform",I),w&&(v.style[Ur]=I)},Zre=function(e,t,i,r,s){var a=360,o=sa(s),c=parseFloat(s)*(o&&~s.indexOf("rad")?mg:1),u=c-r,h=r+u+"deg",p,y;return o&&(p=s.split("_")[1],p==="short"&&(u%=a,u!==u%(a/2)&&(u+=u<0?a:-a)),p==="cw"&&u<0?u=(u+a*ck)%a-~~(u/a)*a:p==="ccw"&&u>0&&(u=(u-a*ck)%a-~~(u/a)*a)),e._pt=y=new el(e._pt,t,i,r,u,Dre),y.e=h,y.u="deg",e._props.push(i),y},gk=function(e,t){for(var i in t)e[i]=t[i];return e},Qre=function(e,t,i){var r=gk({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=i.style,o,c,u,h,p,y,v,_;r.svg?(u=i.getAttribute("transform"),i.setAttribute("transform",""),a[Ur]=t,o=Nx(i,1),Fp(i,Ur),i.setAttribute("transform",u)):(u=getComputedStyle(i)[Ur],a[Ur]=t,o=Nx(i,1),a[Ur]=u);for(c in Xh)u=r[c],h=o[c],u!==h&&s.indexOf(c)<0&&(v=Za(u),_=Za(h),p=v!==_?Vp(i,c,u,_):parseFloat(u),y=parseFloat(h),e._pt=new el(e._pt,o,c,p,y-p,WI),e._pt.u=_||0,e._props.push(c));gk(o,r)};Jo("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",a=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(o){return e<2?n+o:"border"+o+n});q2[e>1?"border"+n:n]=function(o,c,u,h,p){var y,v;if(arguments.length<4)return y=a.map(function(_){return Ah(o,_,u)}),v=y.join(" "),v.split(y[0]).length===5?y[0]:v;y=(h+"").split(" "),v={},a.forEach(function(_,S){return v[_]=y[S]=y[S]||y[(S-1)/2|0]}),o.init(c,v,p)}});var zH={name:"css",register:XI,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var a=this._props,o=e.style,c=i.vars.startAt,u,h,p,y,v,_,S,E,b,w,A,C,D,L,P,U,I;_N||XI(),this.styles=this.styles||IH(e),U=this.styles.props,this.tween=i;for(S in t)if(S!=="autoRound"&&(h=t[S],!(Al[S]&&bH(S,t,i,r,e,s)))){if(v=typeof h,_=q2[S],v==="function"&&(h=h.call(i,r,e,s),v=typeof h),v==="string"&&~h.indexOf("random(")&&(h=Ox(h)),_)_(this,e,S,h,i)&&(P=1);else if(S.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(S)+"").trim(),h+="",Op.lastIndex=0,Op.test(u)||(E=Za(u),b=Za(h),b?E!==b&&(u=Vp(e,S,u,b)+b):E&&(h+=E)),this.add(o,"setProperty",u,h,r,s,0,0,S),a.push(S),U.push(S,0,o[S]);else if(v!=="undefined"){if(c&&S in c?(u=typeof c[S]=="function"?c[S].call(i,r,e,s):c[S],sa(u)&&~u.indexOf("random(")&&(u=Ox(u)),Za(u+"")||u==="auto"||(u+=Pl.units[S]||Za(Ah(e,S))||""),(u+"").charAt(1)==="="&&(u=Ah(e,S))):u=Ah(e,S),y=parseFloat(u),w=v==="string"&&h.charAt(1)==="="&&h.substr(0,2),w&&(h=h.substr(2)),p=parseFloat(h),S in vf&&(S==="autoAlpha"&&(y===1&&Ah(e,"visibility")==="hidden"&&p&&(y=0),U.push("visibility",0,o.visibility),xp(this,o,"visibility",y?"inherit":"hidden",p?"inherit":"hidden",!p)),S!=="scale"&&S!=="transform"&&(S=vf[S],~S.indexOf(",")&&(S=S.split(",")[0]))),A=S in Xh,A){if(this.styles.save(S),I=h,v==="string"&&h.substring(0,6)==="var(--"){if(h=Il(e,h.substring(4,h.indexOf(")"))),h.substring(0,5)==="calc("){var N=e.style.perspective;e.style.perspective=h,h=Il(e,"perspective"),N?e.style.perspective=N:Fp(e,"perspective")}p=parseFloat(h)}if(C||(D=e._gsap,D.renderTransform&&!t.parseTransform||Nx(e,t.parseTransform),L=t.smoothOrigin!==!1&&D.smooth,C=this._pt=new el(this._pt,o,Ur,0,1,D.renderTransform,D,0,-1),C.dep=1),S==="scale")this._pt=new el(this._pt,D,"scaleY",D.scaleY,(w?g0(D.scaleY,w+p):p)-D.scaleY||0,WI),this._pt.u=0,a.push("scaleY",S),S+="X";else if(S==="transformOrigin"){U.push(tl,0,o[tl]),h=$re(h),D.svg?YI(e,h,0,L,0,this):(b=parseFloat(h.split(" ")[2])||0,b!==D.zOrigin&&xp(this,D,"zOrigin",D.zOrigin,b),xp(this,o,S,W2(u),W2(h)));continue}else if(S==="svgOrigin"){YI(e,h,1,L,0,this);continue}else if(S in LH){Zre(this,D,S,y,w?g0(y,w+h):h);continue}else if(S==="smoothOrigin"){xp(this,D,"smooth",D.smooth,h);continue}else if(S==="force3D"){D[S]=h;continue}else if(S==="transform"){Qre(this,h,e);continue}}else S in o||(S=z0(S)||S);if(A||(p||p===0)&&(y||y===0)&&!Pre.test(h)&&S in o)E=(u+"").substr((y+"").length),p||(p=0),b=Za(h)||(S in Pl.units?Pl.units[S]:E),E!==b&&(y=Vp(e,S,u,b)),this._pt=new el(this._pt,A?D:o,S,y,(w?g0(y,w+p):p)-y,!A&&(b==="px"||S==="zIndex")&&t.autoRound!==!1?Ure:WI),this._pt.u=b||0,A&&I!==h?(this._pt.b=u,this._pt.e=I,this._pt.r=Lre):E!==b&&b!=="%"&&(this._pt.b=u,this._pt.r=Nre);else if(S in o)Wre.call(this,e,S,u,w?w+h:h);else if(S in e)this.add(e,S,u||e[S],w?w+h:h,r,s);else if(S!=="parseTransform"){cN(S,h);continue}A||(S in o?U.push(S,0,o[S]):typeof e[S]=="function"?U.push(S,2,e[S]()):U.push(S,1,u||e[S])),a.push(S)}}P&&CH(this)},render:function(e,t){if(t.tween._time||!bN())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Ah,aliases:vf,getSetter:function(e,t,i){var r=vf[t];return r&&r.indexOf(",")<0&&(t=r),t in Xh&&t!==tl&&(e._gsap.x||Ah(e,"x"))?i&&lk===i?t==="scale"?Fre:Bre:(lk=i||{})&&(t==="scale"?Vre:Hre):e.style&&!aN(e.style[t])?kre:~t.indexOf("-")?zre:yN(e,t)},core:{_removeProperty:Fp,_getMatrix:SN}};rl.utils.checkPrefix=z0;rl.core.getStyleSaver=IH;(function(n,e,t,i){var r=Jo(n+","+e+","+t,function(s){Xh[s]=1});Jo(e,function(s){Pl.units[s]="deg",LH[s]=1}),vf[r[13]]=n+","+e,Jo(i,function(s){var a=s.split(":");vf[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Jo("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Pl.units[n]="px"});rl.registerPlugin(zH);var CA=rl.registerPlugin(zH)||rl;CA.core.Tween;/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const AA="176",Jre={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ese={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},BH=0,KI=1,FH=2,tse=3,VH=0,MA=1,Qb=2,cu=3,Yh=0,Oo=1,gf=2,zh=0,Bg=1,ZI=2,QI=3,JI=4,HH=5,mp=100,jH=101,GH=102,qH=103,WH=104,$H=200,XH=201,YH=202,KH=203,$2=204,X2=205,ZH=206,QH=207,JH=208,ej=209,tj=210,nj=211,ij=212,rj=213,sj=214,Y2=0,K2=1,Z2=2,Yg=3,Q2=4,J2=5,eC=6,tC=7,wS=0,aj=1,oj=2,Cf=0,lj=1,cj=2,uj=3,EN=4,fj=5,hj=6,dj=7,eP="attached",pj="detached",RA=300,Kh=301,Hp=302,Lx=303,Ux=304,g_=306,kx=1e3,Sc=1001,zx=1002,Ea=1003,TN=1004,nse=1004,r0=1005,ise=1005,hs=1006,Jb=1007,rse=1007,_f=1008,sse=1008,wc=1009,wN=1010,CN=1011,B0=1012,OA=1013,Zh=1014,Ro=1015,ay=1016,IA=1017,PA=1018,F0=1020,AN=35902,MN=1021,RN=1022,Qa=1023,V0=1026,H0=1027,DA=1028,CS=1029,ON=1030,NA=1031,ase=1032,LA=1033,ex=33776,tx=33777,nx=33778,ix=33779,nC=35840,iC=35841,rC=35842,sC=35843,aC=36196,oC=37492,lC=37496,cC=37808,uC=37809,fC=37810,hC=37811,dC=37812,pC=37813,mC=37814,gC=37815,yC=37816,vC=37817,_C=37818,bC=37819,xC=37820,SC=37821,rx=36492,EC=36494,TC=36495,IN=36283,wC=36284,CC=36285,AC=36286,mj=2200,gj=2201,yj=2202,Bx=2300,MC=2301,i2=2302,Cg=2400,Ag=2401,Fx=2402,UA=2500,PN=2501,ose=0,lse=1,cse=2,vj=3200,_j=3201,use=3202,fse=3203,Yp=0,bj=1,Oh="",ba="srgb",jp="srgb-linear",Vx="linear",Bi="srgb",hse=0,gg=7680,dse=7681,pse=7682,mse=7683,gse=34055,yse=34056,vse=5386,_se=512,bse=513,xse=514,Sse=515,Ese=516,Tse=517,wse=518,tP=519,xj=512,Sj=513,Ej=514,DN=515,Tj=516,wj=517,Cj=518,Aj=519,Hx=35044,Cse=35048,Ase=35040,Mse=35045,Rse=35049,Ose=35041,Ise=35046,Pse=35050,Dse=35042,Nse="100",nP="300 es",Ec=2e3,jx=2001,Lse={COMPUTE:"compute",RENDER:"render"},Use={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},kse={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let Nf=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const ja=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let yk=1234567;const Fg=Math.PI/180,j0=180/Math.PI;function Dl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ja[n&255]+ja[n>>8&255]+ja[n>>16&255]+ja[n>>24&255]+"-"+ja[e&255]+ja[e>>8&255]+"-"+ja[e>>16&15|64]+ja[e>>24&255]+"-"+ja[t&63|128]+ja[t>>8&255]+"-"+ja[t>>16&255]+ja[t>>24&255]+ja[i&255]+ja[i>>8&255]+ja[i>>16&255]+ja[i>>24&255]).toLowerCase()}function Mn(n,e,t){return Math.max(e,Math.min(t,n))}function NN(n,e){return(n%e+e)%e}function zse(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function Bse(n,e,t){return n!==e?(t-n)/(e-n):0}function sx(n,e,t){return(1-t)*n+t*e}function Fse(n,e,t,i){return sx(n,e,1-Math.exp(-t*i))}function Vse(n,e=1){return e-Math.abs(NN(n,e*2)-e)}function Hse(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function jse(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Gse(n,e){return n+Math.floor(Math.random()*(e-n+1))}function qse(n,e){return n+Math.random()*(e-n)}function Wse(n){return n*(.5-Math.random())}function $se(n){n!==void 0&&(yk=n);let e=yk+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Xse(n){return n*Fg}function Yse(n){return n*j0}function Kse(n){return(n&n-1)===0&&n!==0}function Zse(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Qse(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Jse(n,e,t,i,r){const s=Math.cos,a=Math.sin,o=s(t/2),c=a(t/2),u=s((e+i)/2),h=a((e+i)/2),p=s((e-i)/2),y=a((e-i)/2),v=s((i-e)/2),_=a((i-e)/2);switch(r){case"XYX":n.set(o*h,c*p,c*y,o*u);break;case"YZY":n.set(c*y,o*h,c*p,o*u);break;case"ZXZ":n.set(c*p,c*y,o*h,o*u);break;case"XZX":n.set(o*h,c*_,c*v,o*u);break;case"YXY":n.set(c*v,o*h,c*_,o*u);break;case"ZYZ":n.set(c*_,c*v,o*h,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ao(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Un(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Mj={DEG2RAD:Fg,RAD2DEG:j0,generateUUID:Dl,clamp:Mn,euclideanModulo:NN,mapLinear:zse,inverseLerp:Bse,lerp:sx,damp:Fse,pingpong:Vse,smoothstep:Hse,smootherstep:jse,randInt:Gse,randFloat:qse,randFloatSpread:Wse,seededRandom:$se,degToRad:Xse,radToDeg:Yse,isPowerOfTwo:Kse,ceilPowerOfTwo:Zse,floorPowerOfTwo:Qse,setQuaternionFromProperEuler:Jse,normalize:Un,denormalize:Ao};class it{constructor(e=0,t=0){it.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Mn(this.x,e.x,t.x),this.y=Mn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Mn(this.x,e,t),this.y=Mn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Mn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Mn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Dn{constructor(e,t,i,r,s,a,o,c,u){Dn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,c,u)}set(e,t,i,r,s,a,o,c,u){const h=this.elements;return h[0]=e,h[1]=r,h[2]=o,h[3]=t,h[4]=s,h[5]=c,h[6]=i,h[7]=a,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],c=i[6],u=i[1],h=i[4],p=i[7],y=i[2],v=i[5],_=i[8],S=r[0],E=r[3],b=r[6],w=r[1],A=r[4],C=r[7],D=r[2],L=r[5],P=r[8];return s[0]=a*S+o*w+c*D,s[3]=a*E+o*A+c*L,s[6]=a*b+o*C+c*P,s[1]=u*S+h*w+p*D,s[4]=u*E+h*A+p*L,s[7]=u*b+h*C+p*P,s[2]=y*S+v*w+_*D,s[5]=y*E+v*A+_*L,s[8]=y*b+v*C+_*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],h=e[8];return t*a*h-t*o*u-i*s*h+i*o*c+r*s*u-r*a*c}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],h=e[8],p=h*a-o*u,y=o*c-h*s,v=u*s-a*c,_=t*p+i*y+r*v;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/_;return e[0]=p*S,e[1]=(r*u-h*i)*S,e[2]=(o*i-r*a)*S,e[3]=y*S,e[4]=(h*t-r*c)*S,e[5]=(r*s-o*t)*S,e[6]=v*S,e[7]=(i*c-u*t)*S,e[8]=(a*t-i*s)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){const c=Math.cos(s),u=Math.sin(s);return this.set(i*c,i*u,-i*(c*a+u*o)+a+e,-r*u,r*c,-r*(-u*a+c*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(nO.makeScale(e,t)),this}rotate(e){return this.premultiply(nO.makeRotation(-e)),this}translate(e,t){return this.premultiply(nO.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const nO=new Dn;function Rj(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const eae={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function s0(n,e){return new eae[n](e)}function Gx(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Oj(){const n=Gx("canvas");return n.style.display="block",n}const vk={};function r2(n){n in vk||(vk[n]=!0,console.warn(n))}function tae(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function nae(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function iae(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const _k=new Dn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),bk=new Dn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function rae(){const n={enabled:!0,workingColorSpace:jp,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Bi&&(r.r=Bh(r.r),r.g=Bh(r.g),r.b=Bh(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Bi&&(r.r=_0(r.r),r.g=_0(r.g),r.b=_0(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Oh?Vx:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[jp]:{primaries:e,whitePoint:i,transfer:Vx,toXYZ:_k,fromXYZ:bk,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ba},outputColorSpaceConfig:{drawingBufferColorSpace:ba}},[ba]:{primaries:e,whitePoint:i,transfer:Bi,toXYZ:_k,fromXYZ:bk,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ba}}}),n}const ci=rae();function Bh(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function _0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let uv;class Ij{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{uv===void 0&&(uv=Gx("canvas")),uv.width=e.width,uv.height=e.height;const r=uv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=uv}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Gx("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=Bh(s[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Bh(t[i]/255)*255):t[i]=Bh(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let sae=0;class Sp{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:sae++}),this.uuid=Dl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(iO(r[a].image)):s.push(iO(r[a]))}else s=iO(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function iO(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Ij.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let aae=0;class ns extends Nf{constructor(e=ns.DEFAULT_IMAGE,t=ns.DEFAULT_MAPPING,i=Sc,r=Sc,s=hs,a=_f,o=Qa,c=wc,u=ns.DEFAULT_ANISOTROPY,h=Oh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:aae++}),this.uuid=Dl(),this.name="",this.source=new Sp(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=c,this.offset=new it(0,0),this.repeat=new it(1,1),this.center=new it(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==RA)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case kx:e.x=e.x-Math.floor(e.x);break;case Sc:e.x=e.x<0?0:1;break;case zx:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case kx:e.y=e.y-Math.floor(e.y);break;case Sc:e.y=e.y<0?0:1;break;case zx:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ns.DEFAULT_IMAGE=null;ns.DEFAULT_MAPPING=RA;ns.DEFAULT_ANISOTROPY=1;class pi{constructor(e=0,t=0,i=0,r=1){pi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const c=e.elements,u=c[0],h=c[4],p=c[8],y=c[1],v=c[5],_=c[9],S=c[2],E=c[6],b=c[10];if(Math.abs(h-y)<.01&&Math.abs(p-S)<.01&&Math.abs(_-E)<.01){if(Math.abs(h+y)<.1&&Math.abs(p+S)<.1&&Math.abs(_+E)<.1&&Math.abs(u+v+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(u+1)/2,C=(v+1)/2,D=(b+1)/2,L=(h+y)/4,P=(p+S)/4,U=(_+E)/4;return A>C&&A>D?A<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(A),r=L/i,s=P/i):C>D?C<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(C),i=L/r,s=U/r):D<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(D),i=P/s,r=U/s),this.set(i,r,s,t),this}let w=Math.sqrt((E-_)*(E-_)+(p-S)*(p-S)+(y-h)*(y-h));return Math.abs(w)<.001&&(w=1),this.x=(E-_)/w,this.y=(p-S)/w,this.z=(y-h)/w,this.w=Math.acos((u+v+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Mn(this.x,e.x,t.x),this.y=Mn(this.y,e.y,t.y),this.z=Mn(this.z,e.z,t.z),this.w=Mn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Mn(this.x,e,t),this.y=Mn(this.y,e,t),this.z=Mn(this.z,e,t),this.w=Mn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Mn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class kA extends Nf{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth?i.depth:1,this.scissor=new pi(0,0,e,t),this.scissorTest=!1,this.viewport=new pi(0,0,e,t);const r={width:e,height:t,depth:this.depth};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:hs,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},i);const s=new ns(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const a=i.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new Sp(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class vu extends kA{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class AS extends ns{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ea,this.minFilter=Ea,this.wrapR=Sc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class oae extends vu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new AS(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class zA extends ns{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ea,this.minFilter=Ea,this.wrapR=Sc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class lae extends vu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new zA(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Ta{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,o){let c=i[r+0],u=i[r+1],h=i[r+2],p=i[r+3];const y=s[a+0],v=s[a+1],_=s[a+2],S=s[a+3];if(o===0){e[t+0]=c,e[t+1]=u,e[t+2]=h,e[t+3]=p;return}if(o===1){e[t+0]=y,e[t+1]=v,e[t+2]=_,e[t+3]=S;return}if(p!==S||c!==y||u!==v||h!==_){let E=1-o;const b=c*y+u*v+h*_+p*S,w=b>=0?1:-1,A=1-b*b;if(A>Number.EPSILON){const D=Math.sqrt(A),L=Math.atan2(D,b*w);E=Math.sin(E*L)/D,o=Math.sin(o*L)/D}const C=o*w;if(c=c*E+y*C,u=u*E+v*C,h=h*E+_*C,p=p*E+S*C,E===1-o){const D=1/Math.sqrt(c*c+u*u+h*h+p*p);c*=D,u*=D,h*=D,p*=D}}e[t]=c,e[t+1]=u,e[t+2]=h,e[t+3]=p}static multiplyQuaternionsFlat(e,t,i,r,s,a){const o=i[r],c=i[r+1],u=i[r+2],h=i[r+3],p=s[a],y=s[a+1],v=s[a+2],_=s[a+3];return e[t]=o*_+h*p+c*v-u*y,e[t+1]=c*_+h*y+u*p-o*v,e[t+2]=u*_+h*v+o*y-c*p,e[t+3]=h*_-o*p-c*y-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,c=Math.sin,u=o(i/2),h=o(r/2),p=o(s/2),y=c(i/2),v=c(r/2),_=c(s/2);switch(a){case"XYZ":this._x=y*h*p+u*v*_,this._y=u*v*p-y*h*_,this._z=u*h*_+y*v*p,this._w=u*h*p-y*v*_;break;case"YXZ":this._x=y*h*p+u*v*_,this._y=u*v*p-y*h*_,this._z=u*h*_-y*v*p,this._w=u*h*p+y*v*_;break;case"ZXY":this._x=y*h*p-u*v*_,this._y=u*v*p+y*h*_,this._z=u*h*_+y*v*p,this._w=u*h*p-y*v*_;break;case"ZYX":this._x=y*h*p-u*v*_,this._y=u*v*p+y*h*_,this._z=u*h*_-y*v*p,this._w=u*h*p+y*v*_;break;case"YZX":this._x=y*h*p+u*v*_,this._y=u*v*p+y*h*_,this._z=u*h*_-y*v*p,this._w=u*h*p-y*v*_;break;case"XZY":this._x=y*h*p-u*v*_,this._y=u*v*p-y*h*_,this._z=u*h*_+y*v*p,this._w=u*h*p+y*v*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],c=t[9],u=t[2],h=t[6],p=t[10],y=i+o+p;if(y>0){const v=.5/Math.sqrt(y+1);this._w=.25/v,this._x=(h-c)*v,this._y=(s-u)*v,this._z=(a-r)*v}else if(i>o&&i>p){const v=2*Math.sqrt(1+i-o-p);this._w=(h-c)/v,this._x=.25*v,this._y=(r+a)/v,this._z=(s+u)/v}else if(o>p){const v=2*Math.sqrt(1+o-i-p);this._w=(s-u)/v,this._x=(r+a)/v,this._y=.25*v,this._z=(c+h)/v}else{const v=2*Math.sqrt(1+p-i-o);this._w=(a-r)/v,this._x=(s+u)/v,this._y=(c+h)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Mn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,c=t._y,u=t._z,h=t._w;return this._x=i*h+a*o+r*u-s*c,this._y=r*h+a*c+s*o-i*u,this._z=s*h+a*u+i*c-r*o,this._w=a*h-i*o-r*c-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const c=1-o*o;if(c<=Number.EPSILON){const v=1-t;return this._w=v*a+t*this._w,this._x=v*i+t*this._x,this._y=v*r+t*this._y,this._z=v*s+t*this._z,this.normalize(),this}const u=Math.sqrt(c),h=Math.atan2(u,o),p=Math.sin((1-t)*h)/u,y=Math.sin(t*h)/u;return this._w=a*p+this._w*y,this._x=i*p+this._x*y,this._y=r*p+this._y*y,this._z=s*p+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class fe{constructor(e=0,t=0,i=0){fe.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(xk.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(xk.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,c=e.w,u=2*(a*r-o*i),h=2*(o*t-s*r),p=2*(s*i-a*t);return this.x=t+c*u+a*p-o*h,this.y=i+c*h+o*u-s*p,this.z=r+c*p+s*h-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Mn(this.x,e.x,t.x),this.y=Mn(this.y,e.y,t.y),this.z=Mn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Mn(this.x,e,t),this.y=Mn(this.y,e,t),this.z=Mn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Mn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,c=t.z;return this.x=r*c-s*o,this.y=s*a-i*c,this.z=i*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return rO.copy(this).projectOnVector(e),this.sub(rO)}reflect(e){return this.sub(rO.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Mn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const rO=new fe,xk=new Ta;class na{constructor(e=new fe(1/0,1/0,1/0),t=new fe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(iu.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(iu.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=iu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,iu):iu.fromBufferAttribute(s,a),iu.applyMatrix4(e.matrixWorld),this.expandByPoint(iu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),fT.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),fT.copy(i.boundingBox)),fT.applyMatrix4(e.matrixWorld),this.union(fT)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,iu),iu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(q1),hT.subVectors(this.max,q1),fv.subVectors(e.a,q1),hv.subVectors(e.b,q1),dv.subVectors(e.c,q1),Jd.subVectors(hv,fv),ep.subVectors(dv,hv),Xm.subVectors(fv,dv);let t=[0,-Jd.z,Jd.y,0,-ep.z,ep.y,0,-Xm.z,Xm.y,Jd.z,0,-Jd.x,ep.z,0,-ep.x,Xm.z,0,-Xm.x,-Jd.y,Jd.x,0,-ep.y,ep.x,0,-Xm.y,Xm.x,0];return!sO(t,fv,hv,dv,hT)||(t=[1,0,0,0,1,0,0,0,1],!sO(t,fv,hv,dv,hT))?!1:(dT.crossVectors(Jd,ep),t=[dT.x,dT.y,dT.z],sO(t,fv,hv,dv,hT))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,iu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(iu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ph[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ph[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ph[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ph[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ph[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ph[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ph[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ph[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ph),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ph=[new fe,new fe,new fe,new fe,new fe,new fe,new fe,new fe],iu=new fe,fT=new na,fv=new fe,hv=new fe,dv=new fe,Jd=new fe,ep=new fe,Xm=new fe,q1=new fe,hT=new fe,dT=new fe,Ym=new fe;function sO(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){Ym.fromArray(n,s);const o=r.x*Math.abs(Ym.x)+r.y*Math.abs(Ym.y)+r.z*Math.abs(Ym.z),c=e.dot(Ym),u=t.dot(Ym),h=i.dot(Ym);if(Math.max(-Math.max(c,u,h),Math.min(c,u,h))>o)return!1}return!0}const cae=new na,W1=new fe,aO=new fe;class ia{constructor(e=new fe,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):cae.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;W1.subVectors(e,this.center);const t=W1.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(W1,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(aO.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(W1.copy(e.center).add(aO)),this.expandByPoint(W1.copy(e.center).sub(aO))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const mh=new fe,oO=new fe,pT=new fe,tp=new fe,lO=new fe,mT=new fe,cO=new fe;class y_{constructor(e=new fe,t=new fe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,mh)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=mh.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(mh.copy(this.origin).addScaledVector(this.direction,t),mh.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){oO.copy(e).add(t).multiplyScalar(.5),pT.copy(t).sub(e).normalize(),tp.copy(this.origin).sub(oO);const s=e.distanceTo(t)*.5,a=-this.direction.dot(pT),o=tp.dot(this.direction),c=-tp.dot(pT),u=tp.lengthSq(),h=Math.abs(1-a*a);let p,y,v,_;if(h>0)if(p=a*c-o,y=a*o-c,_=s*h,p>=0)if(y>=-_)if(y<=_){const S=1/h;p*=S,y*=S,v=p*(p+a*y+2*o)+y*(a*p+y+2*c)+u}else y=s,p=Math.max(0,-(a*y+o)),v=-p*p+y*(y+2*c)+u;else y=-s,p=Math.max(0,-(a*y+o)),v=-p*p+y*(y+2*c)+u;else y<=-_?(p=Math.max(0,-(-a*s+o)),y=p>0?-s:Math.min(Math.max(-s,-c),s),v=-p*p+y*(y+2*c)+u):y<=_?(p=0,y=Math.min(Math.max(-s,-c),s),v=y*(y+2*c)+u):(p=Math.max(0,-(a*s+o)),y=p>0?s:Math.min(Math.max(-s,-c),s),v=-p*p+y*(y+2*c)+u);else y=a>0?-s:s,p=Math.max(0,-(a*y+o)),v=-p*p+y*(y+2*c)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,p),r&&r.copy(oO).addScaledVector(pT,y),v}intersectSphere(e,t){mh.subVectors(e.center,this.origin);const i=mh.dot(this.direction),r=mh.dot(mh)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,c=i+a;return c<0?null:o<0?this.at(c,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,c;const u=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,y=this.origin;return u>=0?(i=(e.min.x-y.x)*u,r=(e.max.x-y.x)*u):(i=(e.max.x-y.x)*u,r=(e.min.x-y.x)*u),h>=0?(s=(e.min.y-y.y)*h,a=(e.max.y-y.y)*h):(s=(e.max.y-y.y)*h,a=(e.min.y-y.y)*h),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),p>=0?(o=(e.min.z-y.z)*p,c=(e.max.z-y.z)*p):(o=(e.max.z-y.z)*p,c=(e.min.z-y.z)*p),i>c||o>r)||((o>i||i!==i)&&(i=o),(c<r||r!==r)&&(r=c),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,mh)!==null}intersectTriangle(e,t,i,r,s){lO.subVectors(t,e),mT.subVectors(i,e),cO.crossVectors(lO,mT);let a=this.direction.dot(cO),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;tp.subVectors(this.origin,e);const c=o*this.direction.dot(mT.crossVectors(tp,mT));if(c<0)return null;const u=o*this.direction.dot(lO.cross(tp));if(u<0||c+u>a)return null;const h=-o*tp.dot(cO);return h<0?null:this.at(h/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class an{constructor(e,t,i,r,s,a,o,c,u,h,p,y,v,_,S,E){an.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,c,u,h,p,y,v,_,S,E)}set(e,t,i,r,s,a,o,c,u,h,p,y,v,_,S,E){const b=this.elements;return b[0]=e,b[4]=t,b[8]=i,b[12]=r,b[1]=s,b[5]=a,b[9]=o,b[13]=c,b[2]=u,b[6]=h,b[10]=p,b[14]=y,b[3]=v,b[7]=_,b[11]=S,b[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new an().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/pv.setFromMatrixColumn(e,0).length(),s=1/pv.setFromMatrixColumn(e,1).length(),a=1/pv.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),c=Math.cos(r),u=Math.sin(r),h=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const y=a*h,v=a*p,_=o*h,S=o*p;t[0]=c*h,t[4]=-c*p,t[8]=u,t[1]=v+_*u,t[5]=y-S*u,t[9]=-o*c,t[2]=S-y*u,t[6]=_+v*u,t[10]=a*c}else if(e.order==="YXZ"){const y=c*h,v=c*p,_=u*h,S=u*p;t[0]=y+S*o,t[4]=_*o-v,t[8]=a*u,t[1]=a*p,t[5]=a*h,t[9]=-o,t[2]=v*o-_,t[6]=S+y*o,t[10]=a*c}else if(e.order==="ZXY"){const y=c*h,v=c*p,_=u*h,S=u*p;t[0]=y-S*o,t[4]=-a*p,t[8]=_+v*o,t[1]=v+_*o,t[5]=a*h,t[9]=S-y*o,t[2]=-a*u,t[6]=o,t[10]=a*c}else if(e.order==="ZYX"){const y=a*h,v=a*p,_=o*h,S=o*p;t[0]=c*h,t[4]=_*u-v,t[8]=y*u+S,t[1]=c*p,t[5]=S*u+y,t[9]=v*u-_,t[2]=-u,t[6]=o*c,t[10]=a*c}else if(e.order==="YZX"){const y=a*c,v=a*u,_=o*c,S=o*u;t[0]=c*h,t[4]=S-y*p,t[8]=_*p+v,t[1]=p,t[5]=a*h,t[9]=-o*h,t[2]=-u*h,t[6]=v*p+_,t[10]=y-S*p}else if(e.order==="XZY"){const y=a*c,v=a*u,_=o*c,S=o*u;t[0]=c*h,t[4]=-p,t[8]=u*h,t[1]=y*p+S,t[5]=a*h,t[9]=v*p-_,t[2]=_*p-v,t[6]=o*h,t[10]=S*p+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(uae,e,fae)}lookAt(e,t,i){const r=this.elements;return Sl.subVectors(e,t),Sl.lengthSq()===0&&(Sl.z=1),Sl.normalize(),np.crossVectors(i,Sl),np.lengthSq()===0&&(Math.abs(i.z)===1?Sl.x+=1e-4:Sl.z+=1e-4,Sl.normalize(),np.crossVectors(i,Sl)),np.normalize(),gT.crossVectors(Sl,np),r[0]=np.x,r[4]=gT.x,r[8]=Sl.x,r[1]=np.y,r[5]=gT.y,r[9]=Sl.y,r[2]=np.z,r[6]=gT.z,r[10]=Sl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],c=i[8],u=i[12],h=i[1],p=i[5],y=i[9],v=i[13],_=i[2],S=i[6],E=i[10],b=i[14],w=i[3],A=i[7],C=i[11],D=i[15],L=r[0],P=r[4],U=r[8],I=r[12],N=r[1],F=r[5],z=r[9],V=r[13],K=r[2],ee=r[6],q=r[10],$=r[14],Q=r[3],re=r[7],de=r[11],Y=r[15];return s[0]=a*L+o*N+c*K+u*Q,s[4]=a*P+o*F+c*ee+u*re,s[8]=a*U+o*z+c*q+u*de,s[12]=a*I+o*V+c*$+u*Y,s[1]=h*L+p*N+y*K+v*Q,s[5]=h*P+p*F+y*ee+v*re,s[9]=h*U+p*z+y*q+v*de,s[13]=h*I+p*V+y*$+v*Y,s[2]=_*L+S*N+E*K+b*Q,s[6]=_*P+S*F+E*ee+b*re,s[10]=_*U+S*z+E*q+b*de,s[14]=_*I+S*V+E*$+b*Y,s[3]=w*L+A*N+C*K+D*Q,s[7]=w*P+A*F+C*ee+D*re,s[11]=w*U+A*z+C*q+D*de,s[15]=w*I+A*V+C*$+D*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],c=e[9],u=e[13],h=e[2],p=e[6],y=e[10],v=e[14],_=e[3],S=e[7],E=e[11],b=e[15];return _*(+s*c*p-r*u*p-s*o*y+i*u*y+r*o*v-i*c*v)+S*(+t*c*v-t*u*y+s*a*y-r*a*v+r*u*h-s*c*h)+E*(+t*u*p-t*o*v-s*a*p+i*a*v+s*o*h-i*u*h)+b*(-r*o*h-t*c*p+t*o*y+r*a*p-i*a*y+i*c*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],h=e[8],p=e[9],y=e[10],v=e[11],_=e[12],S=e[13],E=e[14],b=e[15],w=p*E*u-S*y*u+S*c*v-o*E*v-p*c*b+o*y*b,A=_*y*u-h*E*u-_*c*v+a*E*v+h*c*b-a*y*b,C=h*S*u-_*p*u+_*o*v-a*S*v-h*o*b+a*p*b,D=_*p*c-h*S*c-_*o*y+a*S*y+h*o*E-a*p*E,L=t*w+i*A+r*C+s*D;if(L===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/L;return e[0]=w*P,e[1]=(S*y*s-p*E*s-S*r*v+i*E*v+p*r*b-i*y*b)*P,e[2]=(o*E*s-S*c*s+S*r*u-i*E*u-o*r*b+i*c*b)*P,e[3]=(p*c*s-o*y*s-p*r*u+i*y*u+o*r*v-i*c*v)*P,e[4]=A*P,e[5]=(h*E*s-_*y*s+_*r*v-t*E*v-h*r*b+t*y*b)*P,e[6]=(_*c*s-a*E*s-_*r*u+t*E*u+a*r*b-t*c*b)*P,e[7]=(a*y*s-h*c*s+h*r*u-t*y*u-a*r*v+t*c*v)*P,e[8]=C*P,e[9]=(_*p*s-h*S*s-_*i*v+t*S*v+h*i*b-t*p*b)*P,e[10]=(a*S*s-_*o*s+_*i*u-t*S*u-a*i*b+t*o*b)*P,e[11]=(h*o*s-a*p*s-h*i*u+t*p*u+a*i*v-t*o*v)*P,e[12]=D*P,e[13]=(h*S*r-_*p*r+_*i*y-t*S*y-h*i*E+t*p*E)*P,e[14]=(_*o*r-a*S*r-_*i*c+t*S*c+a*i*E-t*o*E)*P,e[15]=(a*p*r-h*o*r+h*i*c-t*p*c-a*i*y+t*o*y)*P,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,c=e.z,u=s*a,h=s*o;return this.set(u*a+i,u*o-r*c,u*c+r*o,0,u*o+r*c,h*o+i,h*c-r*a,0,u*c-r*o,h*c+r*a,s*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,o=t._z,c=t._w,u=s+s,h=a+a,p=o+o,y=s*u,v=s*h,_=s*p,S=a*h,E=a*p,b=o*p,w=c*u,A=c*h,C=c*p,D=i.x,L=i.y,P=i.z;return r[0]=(1-(S+b))*D,r[1]=(v+C)*D,r[2]=(_-A)*D,r[3]=0,r[4]=(v-C)*L,r[5]=(1-(y+b))*L,r[6]=(E+w)*L,r[7]=0,r[8]=(_+A)*P,r[9]=(E-w)*P,r[10]=(1-(y+S))*P,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=pv.set(r[0],r[1],r[2]).length();const a=pv.set(r[4],r[5],r[6]).length(),o=pv.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],ru.copy(this);const u=1/s,h=1/a,p=1/o;return ru.elements[0]*=u,ru.elements[1]*=u,ru.elements[2]*=u,ru.elements[4]*=h,ru.elements[5]*=h,ru.elements[6]*=h,ru.elements[8]*=p,ru.elements[9]*=p,ru.elements[10]*=p,t.setFromRotationMatrix(ru),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a,o=Ec){const c=this.elements,u=2*s/(t-e),h=2*s/(i-r),p=(t+e)/(t-e),y=(i+r)/(i-r);let v,_;if(o===Ec)v=-(a+s)/(a-s),_=-2*a*s/(a-s);else if(o===jx)v=-a/(a-s),_=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=p,c[12]=0,c[1]=0,c[5]=h,c[9]=y,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=_,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,i,r,s,a,o=Ec){const c=this.elements,u=1/(t-e),h=1/(i-r),p=1/(a-s),y=(t+e)*u,v=(i+r)*h;let _,S;if(o===Ec)_=(a+s)*p,S=-2*p;else if(o===jx)_=s*p,S=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-y,c[1]=0,c[5]=2*h,c[9]=0,c[13]=-v,c[2]=0,c[6]=0,c[10]=S,c[14]=-_,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const pv=new fe,ru=new an,uae=new fe(0,0,0),fae=new fe(1,1,1),np=new fe,gT=new fe,Sl=new fe,Sk=new an,Ek=new Ta;class zl{constructor(e=0,t=0,i=0,r=zl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],c=r[1],u=r[5],h=r[9],p=r[2],y=r[6],v=r[10];switch(t){case"XYZ":this._y=Math.asin(Mn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,v),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(y,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Mn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(o,v),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(Mn(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-Mn(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(y,v),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Mn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(o,v));break;case"XZY":this._z=Math.asin(-Mn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(y,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-h,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return Sk.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Sk,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Ek.setFromEuler(this),this.setFromQuaternion(Ek,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}zl.DEFAULT_ORDER="XYZ";class G0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let hae=0;const Tk=new fe,mv=new Ta,gh=new an,yT=new fe,$1=new fe,dae=new fe,pae=new Ta,wk=new fe(1,0,0),Ck=new fe(0,1,0),Ak=new fe(0,0,1),Mk={type:"added"},mae={type:"removed"},gv={type:"childadded",child:null},uO={type:"childremoved",child:null};class mi extends Nf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:hae++}),this.uuid=Dl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=mi.DEFAULT_UP.clone();const e=new fe,t=new zl,i=new Ta,r=new fe(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new an},normalMatrix:{value:new Dn}}),this.matrix=new an,this.matrixWorld=new an,this.matrixAutoUpdate=mi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=mi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new G0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return mv.setFromAxisAngle(e,t),this.quaternion.multiply(mv),this}rotateOnWorldAxis(e,t){return mv.setFromAxisAngle(e,t),this.quaternion.premultiply(mv),this}rotateX(e){return this.rotateOnAxis(wk,e)}rotateY(e){return this.rotateOnAxis(Ck,e)}rotateZ(e){return this.rotateOnAxis(Ak,e)}translateOnAxis(e,t){return Tk.copy(e).applyQuaternion(this.quaternion),this.position.add(Tk.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(wk,e)}translateY(e){return this.translateOnAxis(Ck,e)}translateZ(e){return this.translateOnAxis(Ak,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(gh.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?yT.copy(e):yT.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),$1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?gh.lookAt($1,yT,this.up):gh.lookAt(yT,$1,this.up),this.quaternion.setFromRotationMatrix(gh),r&&(gh.extractRotation(r.matrixWorld),mv.setFromRotationMatrix(gh),this.quaternion.premultiply(mv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Mk),gv.child=e,this.dispatchEvent(gv),gv.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(mae),uO.child=e,this.dispatchEvent(uO),uO.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),gh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),gh.multiply(e.parent.matrixWorld)),e.applyMatrix4(gh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Mk),gv.child=e,this.dispatchEvent(gv),gv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($1,e,dae),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($1,pae,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?{min:o.boundingBox.min.toArray(),max:o.boundingBox.max.toArray()}:void 0,boundingSphere:o.boundingSphere?{radius:o.boundingSphere.radius,center:o.boundingSphere.center.toArray()}:void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function s(o,c){return o[c.uuid]===void 0&&(o[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const c=o.shapes;if(Array.isArray(c))for(let u=0,h=c.length;u<h;u++){const p=c[u];s(e.shapes,p)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let c=0,u=this.material.length;c<u;c++)o.push(s(e.materials,this.material[c]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const c=this.animations[o];r.animations.push(s(e.animations,c))}}if(t){const o=a(e.geometries),c=a(e.materials),u=a(e.textures),h=a(e.images),p=a(e.shapes),y=a(e.skeletons),v=a(e.animations),_=a(e.nodes);o.length>0&&(i.geometries=o),c.length>0&&(i.materials=c),u.length>0&&(i.textures=u),h.length>0&&(i.images=h),p.length>0&&(i.shapes=p),y.length>0&&(i.skeletons=y),v.length>0&&(i.animations=v),_.length>0&&(i.nodes=_)}return i.object=r,i;function a(o){const c=[];for(const u in o){const h=o[u];delete h.metadata,c.push(h)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}mi.DEFAULT_UP=new fe(0,1,0);mi.DEFAULT_MATRIX_AUTO_UPDATE=!0;mi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const su=new fe,yh=new fe,fO=new fe,vh=new fe,yv=new fe,vv=new fe,Rk=new fe,hO=new fe,dO=new fe,pO=new fe,mO=new pi,gO=new pi,yO=new pi;class Zo{constructor(e=new fe,t=new fe,i=new fe){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),su.subVectors(e,t),r.cross(su);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){su.subVectors(r,t),yh.subVectors(i,t),fO.subVectors(e,t);const a=su.dot(su),o=su.dot(yh),c=su.dot(fO),u=yh.dot(yh),h=yh.dot(fO),p=a*u-o*o;if(p===0)return s.set(0,0,0),null;const y=1/p,v=(u*c-o*h)*y,_=(a*h-o*c)*y;return s.set(1-v-_,_,v)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,vh)===null?!1:vh.x>=0&&vh.y>=0&&vh.x+vh.y<=1}static getInterpolation(e,t,i,r,s,a,o,c){return this.getBarycoord(e,t,i,r,vh)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(s,vh.x),c.addScaledVector(a,vh.y),c.addScaledVector(o,vh.z),c)}static getInterpolatedAttribute(e,t,i,r,s,a){return mO.setScalar(0),gO.setScalar(0),yO.setScalar(0),mO.fromBufferAttribute(e,t),gO.fromBufferAttribute(e,i),yO.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(mO,s.x),a.addScaledVector(gO,s.y),a.addScaledVector(yO,s.z),a}static isFrontFacing(e,t,i,r){return su.subVectors(i,t),yh.subVectors(e,t),su.cross(yh).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return su.subVectors(this.c,this.b),yh.subVectors(this.a,this.b),su.cross(yh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Zo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Zo.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return Zo.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Zo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Zo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,o;yv.subVectors(r,i),vv.subVectors(s,i),hO.subVectors(e,i);const c=yv.dot(hO),u=vv.dot(hO);if(c<=0&&u<=0)return t.copy(i);dO.subVectors(e,r);const h=yv.dot(dO),p=vv.dot(dO);if(h>=0&&p<=h)return t.copy(r);const y=c*p-h*u;if(y<=0&&c>=0&&h<=0)return a=c/(c-h),t.copy(i).addScaledVector(yv,a);pO.subVectors(e,s);const v=yv.dot(pO),_=vv.dot(pO);if(_>=0&&v<=_)return t.copy(s);const S=v*u-c*_;if(S<=0&&u>=0&&_<=0)return o=u/(u-_),t.copy(i).addScaledVector(vv,o);const E=h*_-v*p;if(E<=0&&p-h>=0&&v-_>=0)return Rk.subVectors(s,r),o=(p-h)/(p-h+(v-_)),t.copy(r).addScaledVector(Rk,o);const b=1/(E+S+y);return a=S*b,o=y*b,t.copy(i).addScaledVector(yv,a).addScaledVector(vv,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Pj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ip={h:0,s:0,l:0},vT={h:0,s:0,l:0};function vO(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ut{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ba){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ci.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=ci.workingColorSpace){return this.r=e,this.g=t,this.b=i,ci.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=ci.workingColorSpace){if(e=NN(e,1),t=Mn(t,0,1),i=Mn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=vO(a,s,e+1/3),this.g=vO(a,s,e),this.b=vO(a,s,e-1/3)}return ci.toWorkingColorSpace(this,r),this}setStyle(e,t=ba){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ba){const i=Pj[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Bh(e.r),this.g=Bh(e.g),this.b=Bh(e.b),this}copyLinearToSRGB(e){return this.r=_0(e.r),this.g=_0(e.g),this.b=_0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ba){return ci.fromWorkingColorSpace(Ga.copy(this),e),Math.round(Mn(Ga.r*255,0,255))*65536+Math.round(Mn(Ga.g*255,0,255))*256+Math.round(Mn(Ga.b*255,0,255))}getHexString(e=ba){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ci.workingColorSpace){ci.fromWorkingColorSpace(Ga.copy(this),t);const i=Ga.r,r=Ga.g,s=Ga.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let c,u;const h=(o+a)/2;if(o===a)c=0,u=0;else{const p=a-o;switch(u=h<=.5?p/(a+o):p/(2-a-o),a){case i:c=(r-s)/p+(r<s?6:0);break;case r:c=(s-i)/p+2;break;case s:c=(i-r)/p+4;break}c/=6}return e.h=c,e.s=u,e.l=h,e}getRGB(e,t=ci.workingColorSpace){return ci.fromWorkingColorSpace(Ga.copy(this),t),e.r=Ga.r,e.g=Ga.g,e.b=Ga.b,e}getStyle(e=ba){ci.fromWorkingColorSpace(Ga.copy(this),e);const t=Ga.r,i=Ga.g,r=Ga.b;return e!==ba?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(ip),this.setHSL(ip.h+e,ip.s+t,ip.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(ip),e.getHSL(vT);const i=sx(ip.h,vT.h,t),r=sx(ip.s,vT.s,t),s=sx(ip.l,vT.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ga=new Ut;Ut.NAMES=Pj;let gae=0;class to extends Nf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:gae++}),this.uuid=Dl(),this.name="",this.type="Material",this.blending=Bg,this.side=Yh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=$2,this.blendDst=X2,this.blendEquation=mp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ut(0,0,0),this.blendAlpha=0,this.depthFunc=Yg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=tP,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=gg,this.stencilZFail=gg,this.stencilZPass=gg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Bg&&(i.blending=this.blending),this.side!==Yh&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==$2&&(i.blendSrc=this.blendSrc),this.blendDst!==X2&&(i.blendDst=this.blendDst),this.blendEquation!==mp&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Yg&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==tP&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==gg&&(i.stencilFail=this.stencilFail),this.stencilZFail!==gg&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==gg&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const o in s){const c=s[o];delete c.metadata,a.push(c)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Kp extends to{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zl,this.combine=wS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ih=yae();function yae(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){const u=c-127;u<-27?(i[c]=0,i[c|256]=32768,r[c]=24,r[c|256]=24):u<-14?(i[c]=1024>>-u-14,i[c|256]=1024>>-u-14|32768,r[c]=-u-1,r[c|256]=-u-1):u<=15?(i[c]=u+15<<10,i[c|256]=u+15<<10|32768,r[c]=13,r[c|256]=13):u<128?(i[c]=31744,i[c|256]=64512,r[c]=24,r[c|256]=24):(i[c]=31744,i[c|256]=64512,r[c]=13,r[c|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let c=1;c<1024;++c){let u=c<<13,h=0;for(;(u&8388608)===0;)u<<=1,h-=8388608;u&=-8388609,h+=947912704,s[c]=u|h}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)a[c]=c<<23;a[31]=1199570944,a[32]=2147483648;for(let c=33;c<63;++c)a[c]=2147483648+(c-32<<23);a[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(o[c]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:o}}function $o(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Mn(n,-65504,65504),Ih.floatView[0]=n;const e=Ih.uint32View[0],t=e>>23&511;return Ih.baseTable[t]+((e&8388607)>>Ih.shiftTable[t])}function Ob(n){const e=n>>10;return Ih.uint32View[0]=Ih.mantissaTable[Ih.offsetTable[e]+(n&1023)]+Ih.exponentTable[e],Ih.floatView[0]}class vae{static toHalfFloat(e){return $o(e)}static fromHalfFloat(e){return Ob(e)}}const Ss=new fe,_T=new it;let _ae=0;class Fi{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:_ae++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Hx,this.updateRanges=[],this.gpuType=Ro,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)_T.fromBufferAttribute(this,t),_T.applyMatrix3(e),this.setXY(t,_T.x,_T.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Ss.fromBufferAttribute(this,t),Ss.applyMatrix3(e),this.setXYZ(t,Ss.x,Ss.y,Ss.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Ss.fromBufferAttribute(this,t),Ss.applyMatrix4(e),this.setXYZ(t,Ss.x,Ss.y,Ss.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ss.fromBufferAttribute(this,t),Ss.applyNormalMatrix(e),this.setXYZ(t,Ss.x,Ss.y,Ss.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ss.fromBufferAttribute(this,t),Ss.transformDirection(e),this.setXYZ(t,Ss.x,Ss.y,Ss.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Ao(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Un(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ao(t,this.array)),t}setX(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ao(t,this.array)),t}setY(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ao(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ao(t,this.array)),t}setW(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array),s=Un(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Hx&&(e.usage=this.usage),e}}class bae extends Fi{constructor(e,t,i){super(new Int8Array(e),t,i)}}class xae extends Fi{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Sae extends Fi{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Eae extends Fi{constructor(e,t,i){super(new Int16Array(e),t,i)}}class LN extends Fi{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Tae extends Fi{constructor(e,t,i){super(new Int32Array(e),t,i)}}class UN extends Fi{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class wae extends Fi{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Ob(this.array[e*this.itemSize]);return this.normalized&&(t=Ao(t,this.array)),t}setX(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize]=$o(t),this}getY(e){let t=Ob(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ao(t,this.array)),t}setY(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+1]=$o(t),this}getZ(e){let t=Ob(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ao(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+2]=$o(t),this}getW(e){let t=Ob(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ao(t,this.array)),t}setW(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+3]=$o(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array)),this.array[e+0]=$o(t),this.array[e+1]=$o(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array)),this.array[e+0]=$o(t),this.array[e+1]=$o(i),this.array[e+2]=$o(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array),s=Un(s,this.array)),this.array[e+0]=$o(t),this.array[e+1]=$o(i),this.array[e+2]=$o(r),this.array[e+3]=$o(s),this}}class Ht extends Fi{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Cae=0;const dc=new an,_O=new mi,_v=new fe,El=new na,X1=new na,Zs=new fe;class Nn extends Nf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Cae++}),this.uuid=Dl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Rj(e)?UN:LN)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Dn().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return dc.makeRotationFromQuaternion(e),this.applyMatrix4(dc),this}rotateX(e){return dc.makeRotationX(e),this.applyMatrix4(dc),this}rotateY(e){return dc.makeRotationY(e),this.applyMatrix4(dc),this}rotateZ(e){return dc.makeRotationZ(e),this.applyMatrix4(dc),this}translate(e,t,i){return dc.makeTranslation(e,t,i),this.applyMatrix4(dc),this}scale(e,t,i){return dc.makeScale(e,t,i),this.applyMatrix4(dc),this}lookAt(e){return _O.lookAt(e),_O.updateMatrix(),this.applyMatrix4(_O.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_v).negate(),this.translate(_v.x,_v.y,_v.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Ht(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new na);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new fe(-1/0,-1/0,-1/0),new fe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];El.setFromBufferAttribute(s),this.morphTargetsRelative?(Zs.addVectors(this.boundingBox.min,El.min),this.boundingBox.expandByPoint(Zs),Zs.addVectors(this.boundingBox.max,El.max),this.boundingBox.expandByPoint(Zs)):(this.boundingBox.expandByPoint(El.min),this.boundingBox.expandByPoint(El.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ia);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new fe,1/0);return}if(e){const i=this.boundingSphere.center;if(El.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];X1.setFromBufferAttribute(o),this.morphTargetsRelative?(Zs.addVectors(El.min,X1.min),El.expandByPoint(Zs),Zs.addVectors(El.max,X1.max),El.expandByPoint(Zs)):(El.expandByPoint(X1.min),El.expandByPoint(X1.max))}El.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)Zs.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Zs));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],c=this.morphTargetsRelative;for(let u=0,h=o.count;u<h;u++)Zs.fromBufferAttribute(o,u),c&&(_v.fromBufferAttribute(e,u),Zs.add(_v)),r=Math.max(r,i.distanceToSquared(Zs))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Fi(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),o=[],c=[];for(let U=0;U<i.count;U++)o[U]=new fe,c[U]=new fe;const u=new fe,h=new fe,p=new fe,y=new it,v=new it,_=new it,S=new fe,E=new fe;function b(U,I,N){u.fromBufferAttribute(i,U),h.fromBufferAttribute(i,I),p.fromBufferAttribute(i,N),y.fromBufferAttribute(s,U),v.fromBufferAttribute(s,I),_.fromBufferAttribute(s,N),h.sub(u),p.sub(u),v.sub(y),_.sub(y);const F=1/(v.x*_.y-_.x*v.y);isFinite(F)&&(S.copy(h).multiplyScalar(_.y).addScaledVector(p,-v.y).multiplyScalar(F),E.copy(p).multiplyScalar(v.x).addScaledVector(h,-_.x).multiplyScalar(F),o[U].add(S),o[I].add(S),o[N].add(S),c[U].add(E),c[I].add(E),c[N].add(E))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let U=0,I=w.length;U<I;++U){const N=w[U],F=N.start,z=N.count;for(let V=F,K=F+z;V<K;V+=3)b(e.getX(V+0),e.getX(V+1),e.getX(V+2))}const A=new fe,C=new fe,D=new fe,L=new fe;function P(U){D.fromBufferAttribute(r,U),L.copy(D);const I=o[U];A.copy(I),A.sub(D.multiplyScalar(D.dot(I))).normalize(),C.crossVectors(L,I);const F=C.dot(c[U])<0?-1:1;a.setXYZW(U,A.x,A.y,A.z,F)}for(let U=0,I=w.length;U<I;++U){const N=w[U],F=N.start,z=N.count;for(let V=F,K=F+z;V<K;V+=3)P(e.getX(V+0)),P(e.getX(V+1)),P(e.getX(V+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Fi(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,v=i.count;y<v;y++)i.setXYZ(y,0,0,0);const r=new fe,s=new fe,a=new fe,o=new fe,c=new fe,u=new fe,h=new fe,p=new fe;if(e)for(let y=0,v=e.count;y<v;y+=3){const _=e.getX(y+0),S=e.getX(y+1),E=e.getX(y+2);r.fromBufferAttribute(t,_),s.fromBufferAttribute(t,S),a.fromBufferAttribute(t,E),h.subVectors(a,s),p.subVectors(r,s),h.cross(p),o.fromBufferAttribute(i,_),c.fromBufferAttribute(i,S),u.fromBufferAttribute(i,E),o.add(h),c.add(h),u.add(h),i.setXYZ(_,o.x,o.y,o.z),i.setXYZ(S,c.x,c.y,c.z),i.setXYZ(E,u.x,u.y,u.z)}else for(let y=0,v=t.count;y<v;y+=3)r.fromBufferAttribute(t,y+0),s.fromBufferAttribute(t,y+1),a.fromBufferAttribute(t,y+2),h.subVectors(a,s),p.subVectors(r,s),h.cross(p),i.setXYZ(y+0,h.x,h.y,h.z),i.setXYZ(y+1,h.x,h.y,h.z),i.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Zs.fromBufferAttribute(e,t),Zs.normalize(),e.setXYZ(t,Zs.x,Zs.y,Zs.z)}toNonIndexed(){function e(o,c){const u=o.array,h=o.itemSize,p=o.normalized,y=new u.constructor(c.length*h);let v=0,_=0;for(let S=0,E=c.length;S<E;S++){o.isInterleavedBufferAttribute?v=c[S]*o.data.stride+o.offset:v=c[S]*h;for(let b=0;b<h;b++)y[_++]=u[v++]}return new Fi(y,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Nn,i=this.index.array,r=this.attributes;for(const o in r){const c=r[o],u=e(c,i);t.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const c=[],u=s[o];for(let h=0,p=u.length;h<p;h++){const y=u[h],v=e(y,i);c.push(v)}t.morphAttributes[o]=c}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,c=a.length;o<c;o++){const u=a[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const c in i){const u=i[c];e.data.attributes[c]=u.toJSON(e.data)}const r={};let s=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],h=[];for(let p=0,y=u.length;p<y;p++){const v=u[p];h.push(v.toJSON(e.data))}h.length>0&&(r[c]=h,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const u in r){const h=r[u];this.setAttribute(u,h.clone(t))}const s=e.morphAttributes;for(const u in s){const h=[],p=s[u];for(let y=0,v=p.length;y<v;y++)h.push(p[y].clone(t));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,h=a.length;u<h;u++){const p=a[u];this.addGroup(p.start,p.count,p.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ok=new an,Km=new y_,bT=new ia,Ik=new fe,xT=new fe,ST=new fe,ET=new fe,bO=new fe,TT=new fe,Pk=new fe,wT=new fe;class ts extends mi{constructor(e=new Nn,t=new Kp){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){TT.set(0,0,0);for(let c=0,u=s.length;c<u;c++){const h=o[c],p=s[c];h!==0&&(bO.fromBufferAttribute(p,e),a?TT.addScaledVector(bO,h):TT.addScaledVector(bO.sub(t),h))}t.add(TT)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),bT.copy(i.boundingSphere),bT.applyMatrix4(s),Km.copy(e.ray).recast(e.near),!(bT.containsPoint(Km.origin)===!1&&(Km.intersectSphere(bT,Ik)===null||Km.origin.distanceToSquared(Ik)>(e.far-e.near)**2))&&(Ok.copy(s).invert(),Km.copy(e.ray).applyMatrix4(Ok),!(i.boundingBox!==null&&Km.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Km)))}_computeIntersections(e,t,i){let r;const s=this.geometry,a=this.material,o=s.index,c=s.attributes.position,u=s.attributes.uv,h=s.attributes.uv1,p=s.attributes.normal,y=s.groups,v=s.drawRange;if(o!==null)if(Array.isArray(a))for(let _=0,S=y.length;_<S;_++){const E=y[_],b=a[E.materialIndex],w=Math.max(E.start,v.start),A=Math.min(o.count,Math.min(E.start+E.count,v.start+v.count));for(let C=w,D=A;C<D;C+=3){const L=o.getX(C),P=o.getX(C+1),U=o.getX(C+2);r=CT(this,b,e,i,u,h,p,L,P,U),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const _=Math.max(0,v.start),S=Math.min(o.count,v.start+v.count);for(let E=_,b=S;E<b;E+=3){const w=o.getX(E),A=o.getX(E+1),C=o.getX(E+2);r=CT(this,a,e,i,u,h,p,w,A,C),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}else if(c!==void 0)if(Array.isArray(a))for(let _=0,S=y.length;_<S;_++){const E=y[_],b=a[E.materialIndex],w=Math.max(E.start,v.start),A=Math.min(c.count,Math.min(E.start+E.count,v.start+v.count));for(let C=w,D=A;C<D;C+=3){const L=C,P=C+1,U=C+2;r=CT(this,b,e,i,u,h,p,L,P,U),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const _=Math.max(0,v.start),S=Math.min(c.count,v.start+v.count);for(let E=_,b=S;E<b;E+=3){const w=E,A=E+1,C=E+2;r=CT(this,a,e,i,u,h,p,w,A,C),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}}}function Aae(n,e,t,i,r,s,a,o){let c;if(e.side===Oo?c=i.intersectTriangle(a,s,r,!0,o):c=i.intersectTriangle(r,s,a,e.side===Yh,o),c===null)return null;wT.copy(o),wT.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(wT);return u<t.near||u>t.far?null:{distance:u,point:wT.clone(),object:n}}function CT(n,e,t,i,r,s,a,o,c,u){n.getVertexPosition(o,xT),n.getVertexPosition(c,ST),n.getVertexPosition(u,ET);const h=Aae(n,e,t,i,xT,ST,ET,Pk);if(h){const p=new fe;Zo.getBarycoord(Pk,xT,ST,ET,p),r&&(h.uv=Zo.getInterpolatedAttribute(r,o,c,u,p,new it)),s&&(h.uv1=Zo.getInterpolatedAttribute(s,o,c,u,p,new it)),a&&(h.normal=Zo.getInterpolatedAttribute(a,o,c,u,p,new fe),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const y={a:o,b:c,c:u,normal:new fe,materialIndex:0};Zo.getNormal(xT,ST,ET,y.normal),h.face=y,h.barycoord=p}return h}class oy extends Nn{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const c=[],u=[],h=[],p=[];let y=0,v=0;_("z","y","x",-1,-1,i,t,e,a,s,0),_("z","y","x",1,-1,i,t,-e,a,s,1),_("x","z","y",1,1,e,i,t,r,a,2),_("x","z","y",1,-1,e,i,-t,r,a,3),_("x","y","z",1,-1,e,t,i,r,s,4),_("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(c),this.setAttribute("position",new Ht(u,3)),this.setAttribute("normal",new Ht(h,3)),this.setAttribute("uv",new Ht(p,2));function _(S,E,b,w,A,C,D,L,P,U,I){const N=C/P,F=D/U,z=C/2,V=D/2,K=L/2,ee=P+1,q=U+1;let $=0,Q=0;const re=new fe;for(let de=0;de<q;de++){const Y=de*F-V;for(let le=0;le<ee;le++){const pe=le*N-z;re[S]=pe*w,re[E]=Y*A,re[b]=K,u.push(re.x,re.y,re.z),re[S]=0,re[E]=0,re[b]=L>0?1:-1,h.push(re.x,re.y,re.z),p.push(le/P),p.push(1-de/U),$+=1}}for(let de=0;de<U;de++)for(let Y=0;Y<P;Y++){const le=y+Y+ee*de,pe=y+Y+ee*(de+1),ue=y+(Y+1)+ee*(de+1),ie=y+(Y+1)+ee*de;c.push(le,pe,ie),c.push(pe,ue,ie),Q+=6}o.addGroup(v,Q,I),v+=Q,y+=$}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oy(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function q0(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function wo(n){const e={};for(let t=0;t<n.length;t++){const i=q0(n[t]);for(const r in i)e[r]=i[r]}return e}function Mae(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Dj(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ci.workingColorSpace}const Nj={clone:q0,merge:wo};var Rae=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Oae=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class _u extends to{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Rae,this.fragmentShader=Oae,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=q0(e.uniforms),this.uniformsGroups=Mae(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class BA extends mi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new an,this.projectionMatrix=new an,this.projectionMatrixInverse=new an,this.coordinateSystem=Ec}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const rp=new fe,Dk=new it,Nk=new it;class ea extends BA{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=j0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Fg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return j0*2*Math.atan(Math.tan(Fg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){rp.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(rp.x,rp.y).multiplyScalar(-e/rp.z),rp.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(rp.x,rp.y).multiplyScalar(-e/rp.z)}getViewSize(e,t){return this.getViewBounds(e,Dk,Nk),t.subVectors(Nk,Dk)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Fg*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,u=a.fullHeight;s+=a.offsetX*r/c,t-=a.offsetY*i/u,r*=a.width/c,i*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const bv=-90,xv=1;class Lj extends mi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new ea(bv,xv,e,t);r.layers=this.layers,this.add(r);const s=new ea(bv,xv,e,t);s.layers=this.layers,this.add(s);const a=new ea(bv,xv,e,t);a.layers=this.layers,this.add(a);const o=new ea(bv,xv,e,t);o.layers=this.layers,this.add(o);const c=new ea(bv,xv,e,t);c.layers=this.layers,this.add(c);const u=new ea(bv,xv,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,a,o,c]=t;for(const u of t)this.remove(u);if(e===Ec)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===jx)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,c,u,h]=this.children,p=e.getRenderTarget(),y=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const S=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,a),e.setRenderTarget(i,2,r),e.render(t,o),e.setRenderTarget(i,3,r),e.render(t,c),e.setRenderTarget(i,4,r),e.render(t,u),i.texture.generateMipmaps=S,e.setRenderTarget(i,5,r),e.render(t,h),e.setRenderTarget(p,y,v),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class MS extends ns{constructor(e=[],t=Kh,i,r,s,a,o,c,u,h){super(e,t,i,r,s,a,o,c,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Uj extends vu{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new MS(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:hs}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new oy(5,5,5),s=new _u({name:"CubemapFromEquirect",uniforms:q0(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Oo,blending:zh});s.uniforms.tEquirect.value=t;const a=new ts(r,s),o=t.minFilter;return t.minFilter===_f&&(t.minFilter=hs),new Lj(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}class Nh extends mi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Iae={type:"move"};class s2{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Nh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Nh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new fe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new fe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Nh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new fe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new fe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const o=this._targetRay,c=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const S of e.hand.values()){const E=t.getJointPose(S,i),b=this._getHandJoint(u,S);E!==null&&(b.matrix.fromArray(E.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=E.radius),b.visible=E!==null}const h=u.joints["index-finger-tip"],p=u.joints["thumb-tip"],y=h.position.distanceTo(p.position),v=.02,_=.005;u.inputState.pinching&&y>v+_?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&y<=v-_&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Iae)))}return o!==null&&(o.visible=r!==null),c!==null&&(c.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Nh;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class FA{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ut(e),this.density=t}clone(){return new FA(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class VA{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ut(e),this.near=t,this.far=i}clone(){return new VA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class HA extends mi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new zl,this.environmentIntensity=1,this.environmentRotation=new zl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class jA{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Hx,this.updateRanges=[],this.version=0,this.uuid=Dl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Dl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Dl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const To=new fe;class Kg{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)To.fromBufferAttribute(this,t),To.applyMatrix4(e),this.setXYZ(t,To.x,To.y,To.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)To.fromBufferAttribute(this,t),To.applyNormalMatrix(e),this.setXYZ(t,To.x,To.y,To.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)To.fromBufferAttribute(this,t),To.transformDirection(e),this.setXYZ(t,To.x,To.y,To.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Ao(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Un(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Un(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Un(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Un(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Un(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ao(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ao(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ao(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ao(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array),s=Un(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Fi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Kg(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class GA extends to{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Sv;const Y1=new fe,Ev=new fe,Tv=new fe,wv=new it,K1=new it,kj=new an,AT=new fe,Z1=new fe,MT=new fe,Lk=new it,xO=new it,Uk=new it;class kN extends mi{constructor(e=new GA){if(super(),this.isSprite=!0,this.type="Sprite",Sv===void 0){Sv=new Nn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new jA(t,5);Sv.setIndex([0,1,2,0,2,3]),Sv.setAttribute("position",new Kg(i,3,0,!1)),Sv.setAttribute("uv",new Kg(i,2,3,!1))}this.geometry=Sv,this.material=e,this.center=new it(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ev.setFromMatrixScale(this.matrixWorld),kj.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Tv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ev.multiplyScalar(-Tv.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;RT(AT.set(-.5,-.5,0),Tv,a,Ev,r,s),RT(Z1.set(.5,-.5,0),Tv,a,Ev,r,s),RT(MT.set(.5,.5,0),Tv,a,Ev,r,s),Lk.set(0,0),xO.set(1,0),Uk.set(1,1);let o=e.ray.intersectTriangle(AT,Z1,MT,!1,Y1);if(o===null&&(RT(Z1.set(-.5,.5,0),Tv,a,Ev,r,s),xO.set(0,1),o=e.ray.intersectTriangle(AT,MT,Z1,!1,Y1),o===null))return;const c=e.ray.origin.distanceTo(Y1);c<e.near||c>e.far||t.push({distance:c,point:Y1.clone(),uv:Zo.getInterpolation(Y1,AT,Z1,MT,Lk,xO,Uk,new it),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function RT(n,e,t,i,r,s){wv.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(K1.x=s*wv.x-r*wv.y,K1.y=r*wv.x+s*wv.y):K1.copy(wv),n.copy(e),n.x+=K1.x,n.y+=K1.y,n.applyMatrix4(kj)}const OT=new fe,kk=new fe;class zj extends mi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){OT.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(OT);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){OT.setFromMatrixPosition(e.matrixWorld),kk.setFromMatrixPosition(this.matrixWorld);const i=OT.distanceTo(kk)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),i>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const zk=new fe,Bk=new pi,Fk=new pi,Pae=new fe,Vk=new an,IT=new fe,SO=new ia,Hk=new an,EO=new y_;class Bj extends ts{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=eP,this.bindMatrix=new an,this.bindMatrixInverse=new an,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new na),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,IT),this.boundingBox.expandByPoint(IT)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ia),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,IT),this.boundingSphere.expandByPoint(IT)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),SO.copy(this.boundingSphere),SO.applyMatrix4(r),e.ray.intersectsSphere(SO)!==!1&&(Hk.copy(r).invert(),EO.copy(e.ray).applyMatrix4(Hk),!(this.boundingBox!==null&&EO.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,EO)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new pi,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===eP?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===pj?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;Bk.fromBufferAttribute(r.attributes.skinIndex,e),Fk.fromBufferAttribute(r.attributes.skinWeight,e),zk.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=Fk.getComponent(s);if(a!==0){const o=Bk.getComponent(s);Vk.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(Pae.copy(zk).applyMatrix4(Vk),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class zN extends mi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Af extends ns{constructor(e=null,t=1,i=1,r,s,a,o,c,u=Ea,h=Ea,p,y){super(null,a,o,c,u,h,r,s,p,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const jk=new an,Dae=new an;class qA{constructor(e=[],t=[]){this.uuid=Dl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new an)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new an;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:Dae;jk.multiplyMatrices(o,t[s]),jk.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new qA(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Af(t,e,e,Qa,Ro);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new zN),this.bones.push(a),this.boneInverses.push(new an().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class W0 extends Fi{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Cv=new an,Gk=new an,PT=[],qk=new na,Nae=new an,Q1=new ts,J1=new ia;class Fj extends ts{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new W0(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Nae)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new na),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Cv),qk.copy(e.boundingBox).applyMatrix4(Cv),this.boundingBox.union(qk)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new ia),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Cv),J1.copy(e.boundingSphere).applyMatrix4(Cv),this.boundingSphere.union(J1)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,a=e*s+1;for(let o=0;o<i.length;o++)i[o]=r[a+o]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Q1.geometry=this.geometry,Q1.material=this.material,Q1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),J1.copy(this.boundingSphere),J1.applyMatrix4(i),e.ray.intersectsSphere(J1)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Cv),Gk.multiplyMatrices(i,Cv),Q1.matrixWorld=Gk,Q1.raycast(e,PT);for(let a=0,o=PT.length;a<o;a++){const c=PT[a];c.instanceId=s,c.object=this,t.push(c)}PT.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new W0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Af(new Float32Array(r*this.count),r,this.count,DA,Ro));const s=this.morphTexture.source.data.data;let a=0;for(let u=0;u<i.length;u++)a+=i[u];const o=this.geometry.morphTargetsRelative?1:1-a,c=r*e;s[c]=o,s.set(i,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const TO=new fe,Lae=new fe,Uae=new Dn;class cp{constructor(e=new fe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=TO.subVectors(i,t).cross(Lae.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(TO),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Uae.getNormalMatrix(e),r=this.coplanarPoint(TO).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Zm=new ia,DT=new fe;class v_{constructor(e=new cp,t=new cp,i=new cp,r=new cp,s=new cp,a=new cp){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Ec){const i=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],c=r[3],u=r[4],h=r[5],p=r[6],y=r[7],v=r[8],_=r[9],S=r[10],E=r[11],b=r[12],w=r[13],A=r[14],C=r[15];if(i[0].setComponents(c-s,y-u,E-v,C-b).normalize(),i[1].setComponents(c+s,y+u,E+v,C+b).normalize(),i[2].setComponents(c+a,y+h,E+_,C+w).normalize(),i[3].setComponents(c-a,y-h,E-_,C-w).normalize(),i[4].setComponents(c-o,y-p,E-S,C-A).normalize(),t===Ec)i[5].setComponents(c+o,y+p,E+S,C+A).normalize();else if(t===jx)i[5].setComponents(o,p,S,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Zm.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Zm.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Zm)}intersectsSprite(e){return Zm.center.set(0,0,0),Zm.radius=.7071067811865476,Zm.applyMatrix4(e.matrixWorld),this.intersectsSphere(Zm)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(DT.x=r.normal.x>0?e.max.x:e.min.x,DT.y=r.normal.y>0?e.max.y:e.min.y,DT.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(DT)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const ef=new an,tf=new v_;class WA{constructor(){this.coordinateSystem=Ec}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ef.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),tf.setFromProjectionMatrix(ef,this.coordinateSystem),tf.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ef.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),tf.setFromProjectionMatrix(ef,this.coordinateSystem),tf.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ef.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),tf.setFromProjectionMatrix(ef,this.coordinateSystem),tf.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ef.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),tf.setFromProjectionMatrix(ef,this.coordinateSystem),tf.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ef.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),tf.setFromProjectionMatrix(ef,this.coordinateSystem),tf.containsPoint(e))return!0}return!1}clone(){return new WA}}function wO(n,e){return n-e}function kae(n,e){return n.z-e.z}function zae(n,e){return e.z-n.z}class Bae{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const qo=new an,Fae=new Ut(1,1,1),Wk=new v_,Vae=new WA,NT=new na,Qm=new ia,eb=new fe,$k=new fe,Hae=new fe,CO=new Bae,qa=new ts,LT=[];function jae(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let a=0;a<i;a++)e.setComponent(s+t,a,n.getComponent(s,a))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Jm(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class Vj extends ts{constructor(e,t,i=t*2,r){super(new Nn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Af(t,e,e,Qa,Ro);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Af(t,e,e,CS,Zh);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Af(t,e,e,Qa,Ro);i.colorSpace=ci.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:c,normalized:u}=a,h=new o.constructor(i*c),p=new Fi(h,c,u);t.setAttribute(s,p)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Fi(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new na);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,qo),this.getBoundingBoxAt(s,NT).applyMatrix4(qo),e.union(NT)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ia);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,qo),this.getBoundingSphereAt(s,Qm).applyMatrix4(qo),e.union(Qm)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(wO),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;qo.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(Fae.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?a.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(wO),c=this._availableGeometryIds.shift(),s[c]=r):(c=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(c,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,c}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const c=o.vertexStart,u=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const h in i.attributes){const p=t.getAttribute(h),y=i.getAttribute(h);jae(p,y,c);const v=p.itemSize;for(let _=p.count,S=u;_<S;_++){const E=c+_;for(let b=0;b<v;b++)y.setComponent(E,b,0)}y.needsUpdate=!0,y.addUpdateRange(c*v,u*v)}if(r){const h=o.indexStart,p=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let y=0;y<a.count;y++)s.setX(h+y,c+a.getX(y));for(let y=a.count,v=p;y<v;y++)s.setX(h+y,c);s.needsUpdate=!0,s.addUpdateRange(h,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((a,o)=>o).sort((a,o)=>i[a].vertexStart-i[o].vertexStart),s=this.geometry;for(let a=0,o=i.length;a<o;a++){const c=r[a],u=i[c];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==t){const{indexStart:h,vertexStart:p,reservedIndexCount:y}=u,v=s.index,_=v.array,S=e-p;for(let E=h;E<h+y;E++)_[E]=_[E]+S;v.array.copyWithin(t,h,h+y),v.addUpdateRange(t,y),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:h,reservedVertexCount:p}=u,y=s.attributes;for(const v in y){const _=y[v],{array:S,itemSize:E}=_;S.copyWithin(e*E,h*E,(h+p)*E),_.addUpdateRange(e*E,p*E)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new na,a=i.index,o=i.attributes.position;for(let c=r.start,u=r.start+r.count;c<u;c++){let h=c;a&&(h=a.getX(h)),s.expandByPoint(eb.fromBufferAttribute(o,h))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new ia;this.getBoundingBoxAt(e,NT),NT.getCenter(s.center);const a=i.index,o=i.attributes.position;let c=0;for(let u=r.start,h=r.start+r.count;u<h;u++){let p=u;a&&(p=a.getX(p)),eb.fromBufferAttribute(o,p),c=Math.max(c,s.center.distanceToSquared(eb))}s.radius=Math.sqrt(c),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(wO);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);Jm(this._multiDrawCounts,r),Jm(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,c=this._colorsTexture;a.dispose(),this._initIndirectTexture(),Jm(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),Jm(o.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),Jm(c.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(c=>c.indexStart+c.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Nn,this._initializeGeometry(s));const a=this.geometry;s.index&&Jm(s.index.array,a.index.array);for(const o in s.attributes)Jm(s.attributes[o].array,a.attributes[o].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,a=this.geometry;qa.material=this.material,qa.geometry.index=a.index,qa.geometry.attributes=a.attributes,qa.geometry.boundingBox===null&&(qa.geometry.boundingBox=new na),qa.geometry.boundingSphere===null&&(qa.geometry.boundingSphere=new ia);for(let o=0,c=i.length;o<c;o++){if(!i[o].visible||!i[o].active)continue;const u=i[o].geometryIndex,h=r[u];qa.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(o,qa.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,qa.geometry.boundingBox),this.getBoundingSphereAt(u,qa.geometry.boundingSphere),qa.raycast(e,LT);for(let p=0,y=LT.length;p<y;p++){const v=LT[p];v.object=this,v.batchId=o,t.push(v)}LT.length=0}qa.material=null,qa.geometry.index=null,qa.geometry.attributes={},qa.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,c=this._instanceInfo,u=this._multiDrawStarts,h=this._multiDrawCounts,p=this._geometryInfo,y=this.perObjectFrustumCulled,v=this._indirectTexture,_=v.image.data,S=i.isArrayCamera?Vae:Wk;y&&!i.isArrayCamera&&(qo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),Wk.setFromProjectionMatrix(qo,e.coordinateSystem));let E=0;if(this.sortObjects){qo.copy(this.matrixWorld).invert(),eb.setFromMatrixPosition(i.matrixWorld).applyMatrix4(qo),$k.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(qo);for(let A=0,C=c.length;A<C;A++)if(c[A].visible&&c[A].active){const D=c[A].geometryIndex;this.getMatrixAt(A,qo),this.getBoundingSphereAt(D,Qm).applyMatrix4(qo);let L=!1;if(y&&(L=!S.intersectsSphere(Qm,i)),!L){const P=p[D],U=Hae.subVectors(Qm.center,eb).dot($k);CO.push(P.start,P.count,U,A)}}const b=CO.list,w=this.customSort;w===null?b.sort(s.transparent?zae:kae):w.call(this,b,i);for(let A=0,C=b.length;A<C;A++){const D=b[A];u[E]=D.start*o,h[E]=D.count,_[E]=D.index,E++}CO.reset()}else for(let b=0,w=c.length;b<w;b++)if(c[b].visible&&c[b].active){const A=c[b].geometryIndex;let C=!1;if(y&&(this.getMatrixAt(b,qo),this.getBoundingSphereAt(A,Qm).applyMatrix4(qo),C=!S.intersectsSphere(Qm,i)),!C){const D=p[A];u[E]=D.start*o,h[E]=D.count,_[E]=b,E++}}v.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,a){this.onBeforeRender(e,null,r,s,a)}}class no extends to{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ut(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const RC=new fe,OC=new fe,Xk=new an,tb=new y_,UT=new ia,AO=new fe,Yk=new fe;class Qh extends mi{constructor(e=new Nn,t=new no){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)RC.fromBufferAttribute(t,r-1),OC.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=RC.distanceTo(OC);e.setAttribute("lineDistance",new Ht(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),UT.copy(i.boundingSphere),UT.applyMatrix4(r),UT.radius+=s,e.ray.intersectsSphere(UT)===!1)return;Xk.copy(r).invert(),tb.copy(e.ray).applyMatrix4(Xk);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=this.isLineSegments?2:1,h=i.index,y=i.attributes.position;if(h!==null){const v=Math.max(0,a.start),_=Math.min(h.count,a.start+a.count);for(let S=v,E=_-1;S<E;S+=u){const b=h.getX(S),w=h.getX(S+1),A=kT(this,e,tb,c,b,w,S);A&&t.push(A)}if(this.isLineLoop){const S=h.getX(_-1),E=h.getX(v),b=kT(this,e,tb,c,S,E,_-1);b&&t.push(b)}}else{const v=Math.max(0,a.start),_=Math.min(y.count,a.start+a.count);for(let S=v,E=_-1;S<E;S+=u){const b=kT(this,e,tb,c,S,S+1,S);b&&t.push(b)}if(this.isLineLoop){const S=kT(this,e,tb,c,_-1,v,_-1);S&&t.push(S)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function kT(n,e,t,i,r,s,a){const o=n.geometry.attributes.position;if(RC.fromBufferAttribute(o,r),OC.fromBufferAttribute(o,s),t.distanceSqToSegment(RC,OC,AO,Yk)>i)return;AO.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(AO);if(!(u<e.near||u>e.far))return{distance:u,point:Yk.clone().applyMatrix4(n.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:n}}const Kk=new fe,Zk=new fe;class Lf extends Qh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)Kk.fromBufferAttribute(t,r),Zk.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Kk.distanceTo(Zk);e.setAttribute("lineDistance",new Ht(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Hj extends Qh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class BN extends to{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ut(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Qk=new an,iP=new y_,zT=new ia,BT=new fe;class jj extends mi{constructor(e=new Nn,t=new BN){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),zT.copy(i.boundingSphere),zT.applyMatrix4(r),zT.radius+=s,e.ray.intersectsSphere(zT)===!1)return;Qk.copy(r).invert(),iP.copy(e.ray).applyMatrix4(Qk);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=i.index,p=i.attributes.position;if(u!==null){const y=Math.max(0,a.start),v=Math.min(u.count,a.start+a.count);for(let _=y,S=v;_<S;_++){const E=u.getX(_);BT.fromBufferAttribute(p,E),Jk(BT,E,c,r,e,t,this)}}else{const y=Math.max(0,a.start),v=Math.min(p.count,a.start+a.count);for(let _=y,S=v;_<S;_++)BT.fromBufferAttribute(p,_),Jk(BT,_,c,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function Jk(n,e,t,i,r,s,a){const o=iP.distanceSqToPoint(n);if(o<t){const c=new fe;iP.closestPointToPoint(n,c),c.applyMatrix4(i);const u=r.ray.origin.distanceTo(c);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(o),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class Gj extends ns{constructor(e,t,i,r,s=hs,a=hs,o,c,u){super(e,t,i,r,s,a,o,c,u),this.isVideoTexture=!0,this.generateMipmaps=!1;const h=this;function p(){h.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Gae extends Gj{constructor(e,t,i,r,s,a,o,c){super({},e,t,i,r,s,a,o,c),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class qae extends ns{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Ea,this.minFilter=Ea,this.generateMipmaps=!1,this.needsUpdate=!0}}class $A extends ns{constructor(e,t,i,r,s,a,o,c,u,h,p,y){super(null,a,o,c,u,h,r,s,p,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Wae extends $A{constructor(e,t,i,r,s,a){super(e,t,i,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Sc,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class $ae extends $A{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Kh),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class FN extends ns{constructor(e,t,i,r,s,a,o,c,u){super(e,t,i,r,s,a,o,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class RS extends ns{constructor(e,t,i=Zh,r,s,a,o=Ea,c=Ea,u,h=V0){if(h!==V0&&h!==H0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,s,a,o,c,h,i,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Sp(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Xae extends RS{constructor(e=1,t=1,i=1){super(e,t),this.isDepthArrayTexture=!0,this.image={width:e,height:t,depth:i},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class XA extends Nn{constructor(e=1,t=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:s},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const a=[],o=[],c=[],u=[],h=t/2,p=Math.PI/2*e,y=t,v=2*p+y,_=i*2+s,S=r+1,E=new fe,b=new fe;for(let w=0;w<=_;w++){let A=0,C=0,D=0,L=0;if(w<=i){const I=w/i,N=I*Math.PI/2;C=-h-e*Math.cos(N),D=e*Math.sin(N),L=-e*Math.cos(N),A=I*p}else if(w<=i+s){const I=(w-i)/s;C=-h+I*t,D=e,L=0,A=p+I*y}else{const I=(w-i-s)/i,N=I*Math.PI/2;C=h+e*Math.sin(N),D=e*Math.cos(N),L=e*Math.sin(N),A=p+y+I*p}const P=Math.max(0,Math.min(1,A/v));let U=0;w===0?U=.5/r:w===_&&(U=-.5/r);for(let I=0;I<=r;I++){const N=I/r,F=N*Math.PI*2,z=Math.sin(F),V=Math.cos(F);b.x=-D*V,b.y=C,b.z=D*z,o.push(b.x,b.y,b.z),E.set(-D*V,L,D*z),E.normalize(),c.push(E.x,E.y,E.z),u.push(N+U,P)}if(w>0){const I=(w-1)*S;for(let N=0;N<r;N++){const F=I+N,z=I+N+1,V=w*S+N,K=w*S+N+1;a.push(F,z,V),a.push(z,K,V)}}}this.setIndex(a),this.setAttribute("position",new Ht(o,3)),this.setAttribute("normal",new Ht(c,3)),this.setAttribute("uv",new Ht(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new XA(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class YA extends Nn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],a=[],o=[],c=[],u=new fe,h=new it;a.push(0,0,0),o.push(0,0,1),c.push(.5,.5);for(let p=0,y=3;p<=t;p++,y+=3){const v=i+p/t*r;u.x=e*Math.cos(v),u.y=e*Math.sin(v),a.push(u.x,u.y,u.z),o.push(0,0,1),h.x=(a[y]/e+1)/2,h.y=(a[y+1]/e+1)/2,c.push(h.x,h.y)}for(let p=1;p<=t;p++)s.push(p,p+1,0);this.setIndex(s),this.setAttribute("position",new Ht(a,3)),this.setAttribute("normal",new Ht(o,3)),this.setAttribute("uv",new Ht(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new YA(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class __ extends Nn{constructor(e=1,t=1,i=1,r=32,s=1,a=!1,o=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:c};const u=this;r=Math.floor(r),s=Math.floor(s);const h=[],p=[],y=[],v=[];let _=0;const S=[],E=i/2;let b=0;w(),a===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(h),this.setAttribute("position",new Ht(p,3)),this.setAttribute("normal",new Ht(y,3)),this.setAttribute("uv",new Ht(v,2));function w(){const C=new fe,D=new fe;let L=0;const P=(t-e)/i;for(let U=0;U<=s;U++){const I=[],N=U/s,F=N*(t-e)+e;for(let z=0;z<=r;z++){const V=z/r,K=V*c+o,ee=Math.sin(K),q=Math.cos(K);D.x=F*ee,D.y=-N*i+E,D.z=F*q,p.push(D.x,D.y,D.z),C.set(ee,P,q).normalize(),y.push(C.x,C.y,C.z),v.push(V,1-N),I.push(_++)}S.push(I)}for(let U=0;U<r;U++)for(let I=0;I<s;I++){const N=S[I][U],F=S[I+1][U],z=S[I+1][U+1],V=S[I][U+1];(e>0||I!==0)&&(h.push(N,F,V),L+=3),(t>0||I!==s-1)&&(h.push(F,z,V),L+=3)}u.addGroup(b,L,0),b+=L}function A(C){const D=_,L=new it,P=new fe;let U=0;const I=C===!0?e:t,N=C===!0?1:-1;for(let z=1;z<=r;z++)p.push(0,E*N,0),y.push(0,N,0),v.push(.5,.5),_++;const F=_;for(let z=0;z<=r;z++){const K=z/r*c+o,ee=Math.cos(K),q=Math.sin(K);P.x=I*q,P.y=E*N,P.z=I*ee,p.push(P.x,P.y,P.z),y.push(0,N,0),L.x=ee*.5+.5,L.y=q*.5*N+.5,v.push(L.x,L.y),_++}for(let z=0;z<r;z++){const V=D+z,K=F+z;C===!0?h.push(K,K+1,V):h.push(K+1,K,V),U+=3}u.addGroup(b,U,C===!0?1:2),b+=U}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new __(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class b_ extends __{constructor(e=1,t=1,i=32,r=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,i,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new b_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Zp extends Nn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],a=[];o(r),u(i),h(),this.setAttribute("position",new Ht(s,3)),this.setAttribute("normal",new Ht(s.slice(),3)),this.setAttribute("uv",new Ht(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(w){const A=new fe,C=new fe,D=new fe;for(let L=0;L<t.length;L+=3)v(t[L+0],A),v(t[L+1],C),v(t[L+2],D),c(A,C,D,w)}function c(w,A,C,D){const L=D+1,P=[];for(let U=0;U<=L;U++){P[U]=[];const I=w.clone().lerp(C,U/L),N=A.clone().lerp(C,U/L),F=L-U;for(let z=0;z<=F;z++)z===0&&U===L?P[U][z]=I:P[U][z]=I.clone().lerp(N,z/F)}for(let U=0;U<L;U++)for(let I=0;I<2*(L-U)-1;I++){const N=Math.floor(I/2);I%2===0?(y(P[U][N+1]),y(P[U+1][N]),y(P[U][N])):(y(P[U][N+1]),y(P[U+1][N+1]),y(P[U+1][N]))}}function u(w){const A=new fe;for(let C=0;C<s.length;C+=3)A.x=s[C+0],A.y=s[C+1],A.z=s[C+2],A.normalize().multiplyScalar(w),s[C+0]=A.x,s[C+1]=A.y,s[C+2]=A.z}function h(){const w=new fe;for(let A=0;A<s.length;A+=3){w.x=s[A+0],w.y=s[A+1],w.z=s[A+2];const C=E(w)/2/Math.PI+.5,D=b(w)/Math.PI+.5;a.push(C,1-D)}_(),p()}function p(){for(let w=0;w<a.length;w+=6){const A=a[w+0],C=a[w+2],D=a[w+4],L=Math.max(A,C,D),P=Math.min(A,C,D);L>.9&&P<.1&&(A<.2&&(a[w+0]+=1),C<.2&&(a[w+2]+=1),D<.2&&(a[w+4]+=1))}}function y(w){s.push(w.x,w.y,w.z)}function v(w,A){const C=w*3;A.x=e[C+0],A.y=e[C+1],A.z=e[C+2]}function _(){const w=new fe,A=new fe,C=new fe,D=new fe,L=new it,P=new it,U=new it;for(let I=0,N=0;I<s.length;I+=9,N+=6){w.set(s[I+0],s[I+1],s[I+2]),A.set(s[I+3],s[I+4],s[I+5]),C.set(s[I+6],s[I+7],s[I+8]),L.set(a[N+0],a[N+1]),P.set(a[N+2],a[N+3]),U.set(a[N+4],a[N+5]),D.copy(w).add(A).add(C).divideScalar(3);const F=E(D);S(L,N+0,w,F),S(P,N+2,A,F),S(U,N+4,C,F)}}function S(w,A,C,D){D<0&&w.x===1&&(a[A]=w.x-1),C.x===0&&C.z===0&&(a[A]=D/2/Math.PI+.5)}function E(w){return Math.atan2(w.z,-w.x)}function b(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zp(e.vertices,e.indices,e.radius,e.details)}}class KA extends Zp{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new KA(e.radius,e.detail)}}const FT=new fe,VT=new fe,MO=new fe,HT=new Zo;class qj extends Nn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Fg*t),a=e.getIndex(),o=e.getAttribute("position"),c=a?a.count:o.count,u=[0,0,0],h=["a","b","c"],p=new Array(3),y={},v=[];for(let _=0;_<c;_+=3){a?(u[0]=a.getX(_),u[1]=a.getX(_+1),u[2]=a.getX(_+2)):(u[0]=_,u[1]=_+1,u[2]=_+2);const{a:S,b:E,c:b}=HT;if(S.fromBufferAttribute(o,u[0]),E.fromBufferAttribute(o,u[1]),b.fromBufferAttribute(o,u[2]),HT.getNormal(MO),p[0]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,p[1]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,p[2]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let w=0;w<3;w++){const A=(w+1)%3,C=p[w],D=p[A],L=HT[h[w]],P=HT[h[A]],U=`${C}_${D}`,I=`${D}_${C}`;I in y&&y[I]?(MO.dot(y[I].normal)<=s&&(v.push(L.x,L.y,L.z),v.push(P.x,P.y,P.z)),y[I]=null):U in y||(y[U]={index0:u[w],index1:u[A],normal:MO.clone()})}}for(const _ in y)if(y[_]){const{index0:S,index1:E}=y[_];FT.fromBufferAttribute(o,S),VT.fromBufferAttribute(o,E),v.push(FT.x,FT.y,FT.z),v.push(VT.x,VT.y,VT.z)}this.setAttribute("position",new Ht(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Su{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const s=i.length;let a;t?a=t:a=e*i[s-1];let o=0,c=s-1,u;for(;o<=c;)if(r=Math.floor(o+(c-o)/2),u=i[r]-a,u<0)o=r+1;else if(u>0)c=r-1;else{c=r;break}if(r=c,i[r]===a)return r/(s-1);const h=i[r],y=i[r+1]-h,v=(a-h)/y;return(r+v)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),c=t||(a.isVector2?new it:new fe);return c.copy(o).sub(a).normalize(),c}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new fe,r=[],s=[],a=[],o=new fe,c=new an;for(let v=0;v<=e;v++){const _=v/e;r[v]=this.getTangentAt(_,new fe)}s[0]=new fe,a[0]=new fe;let u=Number.MAX_VALUE;const h=Math.abs(r[0].x),p=Math.abs(r[0].y),y=Math.abs(r[0].z);h<=u&&(u=h,i.set(1,0,0)),p<=u&&(u=p,i.set(0,1,0)),y<=u&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),a[v]=a[v-1].clone(),o.crossVectors(r[v-1],r[v]),o.length()>Number.EPSILON){o.normalize();const _=Math.acos(Mn(r[v-1].dot(r[v]),-1,1));s[v].applyMatrix4(c.makeRotationAxis(o,_))}a[v].crossVectors(r[v],s[v])}if(t===!0){let v=Math.acos(Mn(s[0].dot(s[e]),-1,1));v/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(v=-v);for(let _=1;_<=e;_++)s[_].applyMatrix4(c.makeRotationAxis(r[_],v*_)),a[_].crossVectors(r[_],s[_])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ZA extends Su{constructor(e=0,t=0,i=1,r=1,s=0,a=Math.PI*2,o=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=c}getPoint(e,t=new it){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const o=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),y=c-this.aX,v=u-this.aY;c=y*h-v*p+this.aX,u=y*p+v*h+this.aY}return i.set(c,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Wj extends ZA{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function VN(){let n=0,e=0,t=0,i=0;function r(s,a,o,c){n=s,e=o,t=-3*s+3*a-2*o-c,i=2*s-2*a+o+c}return{initCatmullRom:function(s,a,o,c,u){r(a,o,u*(o-s),u*(c-a))},initNonuniformCatmullRom:function(s,a,o,c,u,h,p){let y=(a-s)/u-(o-s)/(u+h)+(o-a)/h,v=(o-a)/h-(c-a)/(h+p)+(c-o)/p;y*=h,v*=h,r(a,o,y,v)},calc:function(s){const a=s*s,o=a*s;return n+e*s+t*a+i*o}}}const jT=new fe,RO=new VN,OO=new VN,IO=new VN;class $j extends Su{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new fe){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),c=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:c===0&&o===s-1&&(o=s-2,c=1);let u,h;this.closed||o>0?u=r[(o-1)%s]:(jT.subVectors(r[0],r[1]).add(r[0]),u=jT);const p=r[o%s],y=r[(o+1)%s];if(this.closed||o+2<s?h=r[(o+2)%s]:(jT.subVectors(r[s-1],r[s-2]).add(r[s-1]),h=jT),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let _=Math.pow(u.distanceToSquared(p),v),S=Math.pow(p.distanceToSquared(y),v),E=Math.pow(y.distanceToSquared(h),v);S<1e-4&&(S=1),_<1e-4&&(_=S),E<1e-4&&(E=S),RO.initNonuniformCatmullRom(u.x,p.x,y.x,h.x,_,S,E),OO.initNonuniformCatmullRom(u.y,p.y,y.y,h.y,_,S,E),IO.initNonuniformCatmullRom(u.z,p.z,y.z,h.z,_,S,E)}else this.curveType==="catmullrom"&&(RO.initCatmullRom(u.x,p.x,y.x,h.x,this.tension),OO.initCatmullRom(u.y,p.y,y.y,h.y,this.tension),IO.initCatmullRom(u.z,p.z,y.z,h.z,this.tension));return i.set(RO.calc(c),OO.calc(c),IO.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new fe().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function ez(n,e,t,i,r){const s=(i-e)*.5,a=(r-t)*.5,o=n*n,c=n*o;return(2*t-2*i+s+a)*c+(-3*t+3*i-2*s-a)*o+s*n+t}function Yae(n,e){const t=1-n;return t*t*e}function Kae(n,e){return 2*(1-n)*n*e}function Zae(n,e){return n*n*e}function ax(n,e,t,i){return Yae(n,e)+Kae(n,t)+Zae(n,i)}function Qae(n,e){const t=1-n;return t*t*t*e}function Jae(n,e){const t=1-n;return 3*t*t*n*e}function eoe(n,e){return 3*(1-n)*n*n*e}function toe(n,e){return n*n*n*e}function ox(n,e,t,i,r){return Qae(n,e)+Jae(n,t)+eoe(n,i)+toe(n,r)}class HN extends Su{constructor(e=new it,t=new it,i=new it,r=new it){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new it){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(ox(e,r.x,s.x,a.x,o.x),ox(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class jN extends Su{constructor(e=new fe,t=new fe,i=new fe,r=new fe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new fe){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(ox(e,r.x,s.x,a.x,o.x),ox(e,r.y,s.y,a.y,o.y),ox(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class GN extends Su{constructor(e=new it,t=new it){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new it){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new it){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xj extends Su{constructor(e=new fe,t=new fe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new fe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new fe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qN extends Su{constructor(e=new it,t=new it,i=new it){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new it){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(ax(e,r.x,s.x,a.x),ax(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QA extends Su{constructor(e=new fe,t=new fe,i=new fe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new fe){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(ax(e,r.x,s.x,a.x),ax(e,r.y,s.y,a.y),ax(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class WN extends Su{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new it){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,c=r[a===0?a:a-1],u=r[a],h=r[a>r.length-2?r.length-1:a+1],p=r[a>r.length-3?r.length-1:a+2];return i.set(ez(o,c.x,u.x,h.x,p.x),ez(o,c.y,u.y,h.y,p.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new it().fromArray(r))}return this}}var IC=Object.freeze({__proto__:null,ArcCurve:Wj,CatmullRomCurve3:$j,CubicBezierCurve:HN,CubicBezierCurve3:jN,EllipseCurve:ZA,LineCurve:GN,LineCurve3:Xj,QuadraticBezierCurve:qN,QuadraticBezierCurve3:QA,SplineCurve:WN});class Yj extends Su{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new IC[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],c=o.getLength(),u=c===0?0:1-a/c;return o.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,c=a.getPoints(o);for(let u=0;u<c.length;u++){const h=c[u];i&&i.equals(h)||(t.push(h),i=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new IC[r.type]().fromJSON(r))}return this}}class PC extends Yj{constructor(e){super(),this.type="Path",this.currentPoint=new it,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new GN(this.currentPoint.clone(),new it(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new qN(this.currentPoint.clone(),new it(e,t),new it(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const o=new HN(this.currentPoint.clone(),new it(e,t),new it(i,r),new it(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new WN(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){const o=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+o,t+c,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,o,c){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,t+h,i,r,s,a,o,c),this}absellipse(e,t,i,r,s,a,o,c){const u=new ZA(e,t,i,r,s,a,o,c);if(this.curves.length>0){const p=u.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Vg extends PC{constructor(e){super(e),this.uuid=Dl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new PC().fromJSON(r))}return this}}function noe(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=Kj(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,c,u;if(i&&(s=ooe(n,e,s,t)),n.length>80*t){o=1/0,c=1/0;let h=-1/0,p=-1/0;for(let y=t;y<r;y+=t){const v=n[y],_=n[y+1];v<o&&(o=v),_<c&&(c=_),v>h&&(h=v),_>p&&(p=_)}u=Math.max(h-o,p-c),u=u!==0?32767/u:0}return qx(s,a,t,o,c,u,0),a}function Kj(n,e,t,i,r){let s;if(r===voe(n,e,t,i)>0)for(let a=e;a<t;a+=i)s=tz(a/i|0,n[a],n[a+1],s);else for(let a=t-i;a>=e;a-=i)s=tz(a/i|0,n[a],n[a+1],s);return s&&$0(s,s.next)&&($x(s),s=s.next),s}function Zg(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&($0(t,t.next)||kr(t.prev,t,t.next)===0)){if($x(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function qx(n,e,t,i,r,s,a){if(!n)return;!a&&s&&hoe(n,i,r,s);let o=n;for(;n.prev!==n.next;){const c=n.prev,u=n.next;if(s?roe(n,i,r,s):ioe(n)){e.push(c.i,n.i,u.i),$x(n),n=u.next,o=u.next;continue}if(n=u,n===o){a?a===1?(n=soe(Zg(n),e),qx(n,e,t,i,r,s,2)):a===2&&aoe(n,e,t,i,r,s):qx(Zg(n),e,t,i,r,s,1);break}}}function ioe(n){const e=n.prev,t=n,i=n.next;if(kr(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,o=e.y,c=t.y,u=i.y,h=Math.min(r,s,a),p=Math.min(o,c,u),y=Math.max(r,s,a),v=Math.max(o,c,u);let _=i.next;for(;_!==e;){if(_.x>=h&&_.x<=y&&_.y>=p&&_.y<=v&&Ib(r,o,s,c,a,u,_.x,_.y)&&kr(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function roe(n,e,t,i){const r=n.prev,s=n,a=n.next;if(kr(r,s,a)>=0)return!1;const o=r.x,c=s.x,u=a.x,h=r.y,p=s.y,y=a.y,v=Math.min(o,c,u),_=Math.min(h,p,y),S=Math.max(o,c,u),E=Math.max(h,p,y),b=rP(v,_,e,t,i),w=rP(S,E,e,t,i);let A=n.prevZ,C=n.nextZ;for(;A&&A.z>=b&&C&&C.z<=w;){if(A.x>=v&&A.x<=S&&A.y>=_&&A.y<=E&&A!==r&&A!==a&&Ib(o,h,c,p,u,y,A.x,A.y)&&kr(A.prev,A,A.next)>=0||(A=A.prevZ,C.x>=v&&C.x<=S&&C.y>=_&&C.y<=E&&C!==r&&C!==a&&Ib(o,h,c,p,u,y,C.x,C.y)&&kr(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;A&&A.z>=b;){if(A.x>=v&&A.x<=S&&A.y>=_&&A.y<=E&&A!==r&&A!==a&&Ib(o,h,c,p,u,y,A.x,A.y)&&kr(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;C&&C.z<=w;){if(C.x>=v&&C.x<=S&&C.y>=_&&C.y<=E&&C!==r&&C!==a&&Ib(o,h,c,p,u,y,C.x,C.y)&&kr(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function soe(n,e){let t=n;do{const i=t.prev,r=t.next.next;!$0(i,r)&&Qj(i,t,t.next,r)&&Wx(i,r)&&Wx(r,i)&&(e.push(i.i,t.i,r.i),$x(t),$x(t.next),t=n=r),t=t.next}while(t!==n);return Zg(t)}function aoe(n,e,t,i,r,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&moe(a,o)){let c=Jj(a,o);a=Zg(a,a.next),c=Zg(c,c.next),qx(a,e,t,i,r,s,0),qx(c,e,t,i,r,s,0);return}o=o.next}a=a.next}while(a!==n)}function ooe(n,e,t,i){const r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*i,c=s<a-1?e[s+1]*i:n.length,u=Kj(n,o,c,i,!1);u===u.next&&(u.steiner=!0),r.push(poe(u))}r.sort(loe);for(let s=0;s<r.length;s++)t=coe(r[s],t);return t}function loe(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function coe(n,e){const t=uoe(n,e);if(!t)return e;const i=Jj(t,n);return Zg(i,i.next),Zg(t,t.next)}function uoe(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,a;if($0(n,t))return t;do{if($0(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const p=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=i&&p>s&&(s=p,a=t.x<t.next.x?t:t.next,p===i))return a}t=t.next}while(t!==e);if(!a)return null;const o=a,c=a.x,u=a.y;let h=1/0;t=a;do{if(i>=t.x&&t.x>=c&&i!==t.x&&Zj(r<u?i:s,r,c,u,r<u?s:i,r,t.x,t.y)){const p=Math.abs(r-t.y)/(i-t.x);Wx(t,n)&&(p<h||p===h&&(t.x>a.x||t.x===a.x&&foe(a,t)))&&(a=t,h=p)}t=t.next}while(t!==o);return a}function foe(n,e){return kr(n.prev,n,e.prev)<0&&kr(e.next,n,n.next)<0}function hoe(n,e,t,i){let r=n;do r.z===0&&(r.z=rP(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,doe(r)}function doe(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let a=i,o=0;for(let u=0;u<t&&(o++,a=a.nextZ,!!a);u++);let c=t;for(;o>0||c>0&&a;)o!==0&&(c===0||!a||i.z<=a.z)?(r=i,i=i.nextZ,o--):(r=a,a=a.nextZ,c--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=a}s.nextZ=null,t*=2}while(e>1);return n}function rP(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function poe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Zj(n,e,t,i,r,s,a,o){return(r-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(i-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(r-a)*(i-o)}function Ib(n,e,t,i,r,s,a,o){return!(n===a&&e===o)&&Zj(n,e,t,i,r,s,a,o)}function moe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!goe(n,e)&&(Wx(n,e)&&Wx(e,n)&&yoe(n,e)&&(kr(n.prev,n,e.prev)||kr(n,e.prev,e))||$0(n,e)&&kr(n.prev,n,n.next)>0&&kr(e.prev,e,e.next)>0)}function kr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function $0(n,e){return n.x===e.x&&n.y===e.y}function Qj(n,e,t,i){const r=qT(kr(n,e,t)),s=qT(kr(n,e,i)),a=qT(kr(t,i,n)),o=qT(kr(t,i,e));return!!(r!==s&&a!==o||r===0&&GT(n,t,e)||s===0&&GT(n,i,e)||a===0&&GT(t,n,i)||o===0&&GT(t,e,i))}function GT(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function qT(n){return n>0?1:n<0?-1:0}function goe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Qj(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Wx(n,e){return kr(n.prev,n,n.next)<0?kr(n,e,n.next)>=0&&kr(n,n.prev,e)>=0:kr(n,e,n.prev)<0||kr(n,n.next,e)<0}function yoe(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function Jj(n,e){const t=sP(n.i,n.x,n.y),i=sP(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function tz(n,e,t,i){const r=sP(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function $x(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function sP(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function voe(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}class _oe{static triangulate(e,t,i=2){return noe(e,t,i)}}class du{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return du.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];nz(e),iz(i,e);let a=e.length;t.forEach(nz);for(let c=0;c<t.length;c++)r.push(a),a+=t[c].length,iz(i,t[c]);const o=_oe.triangulate(i,r);for(let c=0;c<o.length;c+=3)s.push(o.slice(c,c+3));return s}}function nz(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function iz(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class JA extends Nn{constructor(e=new Vg([new it(.5,.5),new it(-.5,.5),new it(-.5,-.5),new it(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let o=0,c=e.length;o<c;o++){const u=e[o];a(u)}this.setAttribute("position",new Ht(r,3)),this.setAttribute("uv",new Ht(s,2)),this.computeVertexNormals();function a(o){const c=[],u=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,p=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:v-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:boe;let A,C=!1,D,L,P,U;b&&(A=b.getSpacedPoints(h),C=!0,y=!1,D=b.computeFrenetFrames(h,!1),L=new fe,P=new fe,U=new fe),y||(E=0,v=0,_=0,S=0);const I=o.extractPoints(u);let N=I.shape;const F=I.holes;if(!du.isClockWise(N)){N=N.reverse();for(let te=0,Oe=F.length;te<Oe;te++){const Be=F[te];du.isClockWise(Be)&&(F[te]=Be.reverse())}}function V(te){const Be=10000000000000001e-36;let Ne=te[0];for(let Me=1;Me<=te.length;Me++){const ut=Me%te.length,qe=te[ut],ae=qe.x-Ne.x,J=qe.y-Ne.y,Se=ae*ae+J*J,Ae=Math.max(Math.abs(qe.x),Math.abs(qe.y),Math.abs(Ne.x),Math.abs(Ne.y)),Ze=Be*Ae*Ae;if(Se<=Ze){te.splice(ut,1),Me--;continue}Ne=qe}}V(N),F.forEach(V);const K=F.length,ee=N;for(let te=0;te<K;te++){const Oe=F[te];N=N.concat(Oe)}function q(te,Oe,Be){return Oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),te.clone().addScaledVector(Oe,Be)}const $=N.length;function Q(te,Oe,Be){let Ne,Me,ut;const qe=te.x-Oe.x,ae=te.y-Oe.y,J=Be.x-te.x,Se=Be.y-te.y,Ae=qe*qe+ae*ae,Ze=qe*Se-ae*J;if(Math.abs(Ze)>Number.EPSILON){const Re=Math.sqrt(Ae),ct=Math.sqrt(J*J+Se*Se),ft=Oe.x-ae/Re,Dt=Oe.y+qe/Re,kt=Be.x-Se/ct,$e=Be.y+J/ct,dt=((kt-ft)*Se-($e-Dt)*J)/(qe*Se-ae*J);Ne=ft+qe*dt-te.x,Me=Dt+ae*dt-te.y;const wt=Ne*Ne+Me*Me;if(wt<=2)return new it(Ne,Me);ut=Math.sqrt(wt/2)}else{let Re=!1;qe>Number.EPSILON?J>Number.EPSILON&&(Re=!0):qe<-Number.EPSILON?J<-Number.EPSILON&&(Re=!0):Math.sign(ae)===Math.sign(Se)&&(Re=!0),Re?(Ne=-ae,Me=qe,ut=Math.sqrt(Ae)):(Ne=qe,Me=ae,ut=Math.sqrt(Ae/2))}return new it(Ne/ut,Me/ut)}const re=[];for(let te=0,Oe=ee.length,Be=Oe-1,Ne=te+1;te<Oe;te++,Be++,Ne++)Be===Oe&&(Be=0),Ne===Oe&&(Ne=0),re[te]=Q(ee[te],ee[Be],ee[Ne]);const de=[];let Y,le=re.concat();for(let te=0,Oe=K;te<Oe;te++){const Be=F[te];Y=[];for(let Ne=0,Me=Be.length,ut=Me-1,qe=Ne+1;Ne<Me;Ne++,ut++,qe++)ut===Me&&(ut=0),qe===Me&&(qe=0),Y[Ne]=Q(Be[Ne],Be[ut],Be[qe]);de.push(Y),le=le.concat(Y)}let pe;if(E===0)pe=du.triangulateShape(ee,F);else{const te=[],Oe=[];for(let Be=0;Be<E;Be++){const Ne=Be/E,Me=v*Math.cos(Ne*Math.PI/2),ut=_*Math.sin(Ne*Math.PI/2)+S;for(let qe=0,ae=ee.length;qe<ae;qe++){const J=q(ee[qe],re[qe],ut);Xe(J.x,J.y,-Me),Ne===0&&te.push(J)}for(let qe=0,ae=K;qe<ae;qe++){const J=F[qe];Y=de[qe];const Se=[];for(let Ae=0,Ze=J.length;Ae<Ze;Ae++){const Re=q(J[Ae],Y[Ae],ut);Xe(Re.x,Re.y,-Me),Ne===0&&Se.push(Re)}Ne===0&&Oe.push(Se)}}pe=du.triangulateShape(te,Oe)}const ue=pe.length,ie=_+S;for(let te=0;te<$;te++){const Oe=y?q(N[te],le[te],ie):N[te];C?(P.copy(D.normals[0]).multiplyScalar(Oe.x),L.copy(D.binormals[0]).multiplyScalar(Oe.y),U.copy(A[0]).add(P).add(L),Xe(U.x,U.y,U.z)):Xe(Oe.x,Oe.y,0)}for(let te=1;te<=h;te++)for(let Oe=0;Oe<$;Oe++){const Be=y?q(N[Oe],le[Oe],ie):N[Oe];C?(P.copy(D.normals[te]).multiplyScalar(Be.x),L.copy(D.binormals[te]).multiplyScalar(Be.y),U.copy(A[te]).add(P).add(L),Xe(U.x,U.y,U.z)):Xe(Be.x,Be.y,p/h*te)}for(let te=E-1;te>=0;te--){const Oe=te/E,Be=v*Math.cos(Oe*Math.PI/2),Ne=_*Math.sin(Oe*Math.PI/2)+S;for(let Me=0,ut=ee.length;Me<ut;Me++){const qe=q(ee[Me],re[Me],Ne);Xe(qe.x,qe.y,p+Be)}for(let Me=0,ut=F.length;Me<ut;Me++){const qe=F[Me];Y=de[Me];for(let ae=0,J=qe.length;ae<J;ae++){const Se=q(qe[ae],Y[ae],Ne);C?Xe(Se.x,Se.y+A[h-1].y,A[h-1].x+Be):Xe(Se.x,Se.y,p+Be)}}}he(),ye();function he(){const te=r.length/3;if(y){let Oe=0,Be=$*Oe;for(let Ne=0;Ne<ue;Ne++){const Me=pe[Ne];Ge(Me[2]+Be,Me[1]+Be,Me[0]+Be)}Oe=h+E*2,Be=$*Oe;for(let Ne=0;Ne<ue;Ne++){const Me=pe[Ne];Ge(Me[0]+Be,Me[1]+Be,Me[2]+Be)}}else{for(let Oe=0;Oe<ue;Oe++){const Be=pe[Oe];Ge(Be[2],Be[1],Be[0])}for(let Oe=0;Oe<ue;Oe++){const Be=pe[Oe];Ge(Be[0]+$*h,Be[1]+$*h,Be[2]+$*h)}}i.addGroup(te,r.length/3-te,0)}function ye(){const te=r.length/3;let Oe=0;Ve(ee,Oe),Oe+=ee.length;for(let Be=0,Ne=F.length;Be<Ne;Be++){const Me=F[Be];Ve(Me,Oe),Oe+=Me.length}i.addGroup(te,r.length/3-te,1)}function Ve(te,Oe){let Be=te.length;for(;--Be>=0;){const Ne=Be;let Me=Be-1;Me<0&&(Me=te.length-1);for(let ut=0,qe=h+E*2;ut<qe;ut++){const ae=$*ut,J=$*(ut+1),Se=Oe+Ne+ae,Ae=Oe+Me+ae,Ze=Oe+Me+J,Re=Oe+Ne+J;rt(Se,Ae,Ze,Re)}}}function Xe(te,Oe,Be){c.push(te),c.push(Oe),c.push(Be)}function Ge(te,Oe,Be){lt(te),lt(Oe),lt(Be);const Ne=r.length/3,Me=w.generateTopUV(i,r,Ne-3,Ne-2,Ne-1);pt(Me[0]),pt(Me[1]),pt(Me[2])}function rt(te,Oe,Be,Ne){lt(te),lt(Oe),lt(Ne),lt(Oe),lt(Be),lt(Ne);const Me=r.length/3,ut=w.generateSideWallUV(i,r,Me-6,Me-3,Me-2,Me-1);pt(ut[0]),pt(ut[1]),pt(ut[3]),pt(ut[1]),pt(ut[2]),pt(ut[3])}function lt(te){r.push(c[te*3+0]),r.push(c[te*3+1]),r.push(c[te*3+2])}function pt(te){s.push(te.x),s.push(te.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return xoe(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new IC[r.type]().fromJSON(r)),new JA(i,e.options)}}const boe={generateTopUV:function(n,e,t,i,r){const s=e[t*3],a=e[t*3+1],o=e[i*3],c=e[i*3+1],u=e[r*3],h=e[r*3+1];return[new it(s,a),new it(o,c),new it(u,h)]},generateSideWallUV:function(n,e,t,i,r,s){const a=e[t*3],o=e[t*3+1],c=e[t*3+2],u=e[i*3],h=e[i*3+1],p=e[i*3+2],y=e[r*3],v=e[r*3+1],_=e[r*3+2],S=e[s*3],E=e[s*3+1],b=e[s*3+2];return Math.abs(o-h)<Math.abs(a-u)?[new it(a,1-c),new it(u,1-p),new it(y,1-_),new it(S,1-b)]:[new it(o,1-c),new it(h,1-p),new it(v,1-_),new it(E,1-b)]}};function xoe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class eM extends Zp{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new eM(e.radius,e.detail)}}class tM extends Nn{constructor(e=[new it(0,-.5),new it(.5,0),new it(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Mn(r,0,Math.PI*2);const s=[],a=[],o=[],c=[],u=[],h=1/t,p=new fe,y=new it,v=new fe,_=new fe,S=new fe;let E=0,b=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:E=e[w+1].x-e[w].x,b=e[w+1].y-e[w].y,v.x=b*1,v.y=-E,v.z=b*0,S.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case e.length-1:c.push(S.x,S.y,S.z);break;default:E=e[w+1].x-e[w].x,b=e[w+1].y-e[w].y,v.x=b*1,v.y=-E,v.z=b*0,_.copy(v),v.x+=S.x,v.y+=S.y,v.z+=S.z,v.normalize(),c.push(v.x,v.y,v.z),S.copy(_)}for(let w=0;w<=t;w++){const A=i+w*h*r,C=Math.sin(A),D=Math.cos(A);for(let L=0;L<=e.length-1;L++){p.x=e[L].x*C,p.y=e[L].y,p.z=e[L].x*D,a.push(p.x,p.y,p.z),y.x=w/t,y.y=L/(e.length-1),o.push(y.x,y.y);const P=c[3*L+0]*C,U=c[3*L+1],I=c[3*L+0]*D;u.push(P,U,I)}}for(let w=0;w<t;w++)for(let A=0;A<e.length-1;A++){const C=A+w*e.length,D=C,L=C+e.length,P=C+e.length+1,U=C+1;s.push(D,L,U),s.push(P,U,L)}this.setIndex(s),this.setAttribute("position",new Ht(a,3)),this.setAttribute("uv",new Ht(o,2)),this.setAttribute("normal",new Ht(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tM(e.points,e.segments,e.phiStart,e.phiLength)}}class OS extends Zp{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new OS(e.radius,e.detail)}}class x_ extends Nn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(i),c=Math.floor(r),u=o+1,h=c+1,p=e/o,y=t/c,v=[],_=[],S=[],E=[];for(let b=0;b<h;b++){const w=b*y-a;for(let A=0;A<u;A++){const C=A*p-s;_.push(C,-w,0),S.push(0,0,1),E.push(A/o),E.push(1-b/c)}}for(let b=0;b<c;b++)for(let w=0;w<o;w++){const A=w+u*b,C=w+u*(b+1),D=w+1+u*(b+1),L=w+1+u*b;v.push(A,C,L),v.push(C,D,L)}this.setIndex(v),this.setAttribute("position",new Ht(_,3)),this.setAttribute("normal",new Ht(S,3)),this.setAttribute("uv",new Ht(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new x_(e.width,e.height,e.widthSegments,e.heightSegments)}}class nM extends Nn{constructor(e=.5,t=1,i=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const o=[],c=[],u=[],h=[];let p=e;const y=(t-e)/r,v=new fe,_=new it;for(let S=0;S<=r;S++){for(let E=0;E<=i;E++){const b=s+E/i*a;v.x=p*Math.cos(b),v.y=p*Math.sin(b),c.push(v.x,v.y,v.z),u.push(0,0,1),_.x=(v.x/t+1)/2,_.y=(v.y/t+1)/2,h.push(_.x,_.y)}p+=y}for(let S=0;S<r;S++){const E=S*(i+1);for(let b=0;b<i;b++){const w=b+E,A=w,C=w+i+1,D=w+i+2,L=w+1;o.push(A,C,L),o.push(C,D,L)}}this.setIndex(o),this.setAttribute("position",new Ht(c,3)),this.setAttribute("normal",new Ht(u,3)),this.setAttribute("uv",new Ht(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nM(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class iM extends Nn{constructor(e=new Vg([new it(0,.5),new it(-.5,-.5),new it(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let o=0,c=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(o,c,h),o+=c,c=0;this.setIndex(i),this.setAttribute("position",new Ht(r,3)),this.setAttribute("normal",new Ht(s,3)),this.setAttribute("uv",new Ht(a,2));function u(h){const p=r.length/3,y=h.extractPoints(t);let v=y.shape;const _=y.holes;du.isClockWise(v)===!1&&(v=v.reverse());for(let E=0,b=_.length;E<b;E++){const w=_[E];du.isClockWise(w)===!0&&(_[E]=w.reverse())}const S=du.triangulateShape(v,_);for(let E=0,b=_.length;E<b;E++){const w=_[E];v=v.concat(w)}for(let E=0,b=v.length;E<b;E++){const w=v[E];r.push(w.x,w.y,0),s.push(0,0,1),a.push(w.x,w.y)}for(let E=0,b=S.length;E<b;E++){const w=S[E],A=w[0]+p,C=w[1]+p,D=w[2]+p;i.push(A,C,D),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Soe(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];i.push(a)}return new iM(i,e.curveSegments)}}function Soe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class ly extends Nn{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const c=Math.min(a+o,Math.PI);let u=0;const h=[],p=new fe,y=new fe,v=[],_=[],S=[],E=[];for(let b=0;b<=i;b++){const w=[],A=b/i;let C=0;b===0&&a===0?C=.5/t:b===i&&c===Math.PI&&(C=-.5/t);for(let D=0;D<=t;D++){const L=D/t;p.x=-e*Math.cos(r+L*s)*Math.sin(a+A*o),p.y=e*Math.cos(a+A*o),p.z=e*Math.sin(r+L*s)*Math.sin(a+A*o),_.push(p.x,p.y,p.z),y.copy(p).normalize(),S.push(y.x,y.y,y.z),E.push(L+C,1-A),w.push(u++)}h.push(w)}for(let b=0;b<i;b++)for(let w=0;w<t;w++){const A=h[b][w+1],C=h[b][w],D=h[b+1][w],L=h[b+1][w+1];(b!==0||a>0)&&v.push(A,C,L),(b!==i-1||c<Math.PI)&&v.push(C,D,L)}this.setIndex(v),this.setAttribute("position",new Ht(_,3)),this.setAttribute("normal",new Ht(S,3)),this.setAttribute("uv",new Ht(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ly(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class rM extends Zp{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new rM(e.radius,e.detail)}}class sM extends Nn{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],o=[],c=[],u=[],h=new fe,p=new fe,y=new fe;for(let v=0;v<=i;v++)for(let _=0;_<=r;_++){const S=_/r*s,E=v/i*Math.PI*2;p.x=(e+t*Math.cos(E))*Math.cos(S),p.y=(e+t*Math.cos(E))*Math.sin(S),p.z=t*Math.sin(E),o.push(p.x,p.y,p.z),h.x=e*Math.cos(S),h.y=e*Math.sin(S),y.subVectors(p,h).normalize(),c.push(y.x,y.y,y.z),u.push(_/r),u.push(v/i)}for(let v=1;v<=i;v++)for(let _=1;_<=r;_++){const S=(r+1)*v+_-1,E=(r+1)*(v-1)+_-1,b=(r+1)*(v-1)+_,w=(r+1)*v+_;a.push(S,E,w),a.push(E,b,w)}this.setIndex(a),this.setAttribute("position",new Ht(o,3)),this.setAttribute("normal",new Ht(c,3)),this.setAttribute("uv",new Ht(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sM(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class aM extends Nn{constructor(e=1,t=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const o=[],c=[],u=[],h=[],p=new fe,y=new fe,v=new fe,_=new fe,S=new fe,E=new fe,b=new fe;for(let A=0;A<=i;++A){const C=A/i*s*Math.PI*2;w(C,s,a,e,v),w(C+.01,s,a,e,_),E.subVectors(_,v),b.addVectors(_,v),S.crossVectors(E,b),b.crossVectors(S,E),S.normalize(),b.normalize();for(let D=0;D<=r;++D){const L=D/r*Math.PI*2,P=-t*Math.cos(L),U=t*Math.sin(L);p.x=v.x+(P*b.x+U*S.x),p.y=v.y+(P*b.y+U*S.y),p.z=v.z+(P*b.z+U*S.z),c.push(p.x,p.y,p.z),y.subVectors(p,v).normalize(),u.push(y.x,y.y,y.z),h.push(A/i),h.push(D/r)}}for(let A=1;A<=i;A++)for(let C=1;C<=r;C++){const D=(r+1)*(A-1)+(C-1),L=(r+1)*A+(C-1),P=(r+1)*A+C,U=(r+1)*(A-1)+C;o.push(D,L,U),o.push(L,P,U)}this.setIndex(o),this.setAttribute("position",new Ht(c,3)),this.setAttribute("normal",new Ht(u,3)),this.setAttribute("uv",new Ht(h,2));function w(A,C,D,L,P){const U=Math.cos(A),I=Math.sin(A),N=D/C*A,F=Math.cos(N);P.x=L*(2+F)*.5*U,P.y=L*(2+F)*I*.5,P.z=L*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new aM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class IS extends Nn{constructor(e=new QA(new fe(-1,-1,0),new fe(-1,1,0),new fe(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new fe,c=new fe,u=new it;let h=new fe;const p=[],y=[],v=[],_=[];S(),this.setIndex(_),this.setAttribute("position",new Ht(p,3)),this.setAttribute("normal",new Ht(y,3)),this.setAttribute("uv",new Ht(v,2));function S(){for(let A=0;A<t;A++)E(A);E(s===!1?t:0),w(),b()}function E(A){h=e.getPointAt(A/t,h);const C=a.normals[A],D=a.binormals[A];for(let L=0;L<=r;L++){const P=L/r*Math.PI*2,U=Math.sin(P),I=-Math.cos(P);c.x=I*C.x+U*D.x,c.y=I*C.y+U*D.y,c.z=I*C.z+U*D.z,c.normalize(),y.push(c.x,c.y,c.z),o.x=h.x+i*c.x,o.y=h.y+i*c.y,o.z=h.z+i*c.z,p.push(o.x,o.y,o.z)}}function b(){for(let A=1;A<=t;A++)for(let C=1;C<=r;C++){const D=(r+1)*(A-1)+(C-1),L=(r+1)*A+(C-1),P=(r+1)*A+C,U=(r+1)*(A-1)+C;_.push(D,L,U),_.push(L,P,U)}}function w(){for(let A=0;A<=t;A++)for(let C=0;C<=r;C++)u.x=A/t,u.y=C/r,v.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new IS(new IC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class eG extends Nn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new fe,s=new fe;if(e.index!==null){const a=e.attributes.position,o=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,h=c.length;u<h;++u){const p=c[u],y=p.start,v=p.count;for(let _=y,S=y+v;_<S;_+=3)for(let E=0;E<3;E++){const b=o.getX(_+E),w=o.getX(_+(E+1)%3);r.fromBufferAttribute(a,b),s.fromBufferAttribute(a,w),rz(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,c=a.count/3;o<c;o++)for(let u=0;u<3;u++){const h=3*o+u,p=3*o+(u+1)%3;r.fromBufferAttribute(a,h),s.fromBufferAttribute(a,p),rz(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ht(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function rz(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var sz=Object.freeze({__proto__:null,BoxGeometry:oy,CapsuleGeometry:XA,CircleGeometry:YA,ConeGeometry:b_,CylinderGeometry:__,DodecahedronGeometry:KA,EdgesGeometry:qj,ExtrudeGeometry:JA,IcosahedronGeometry:eM,LatheGeometry:tM,OctahedronGeometry:OS,PlaneGeometry:x_,PolyhedronGeometry:Zp,RingGeometry:nM,ShapeGeometry:iM,SphereGeometry:ly,TetrahedronGeometry:rM,TorusGeometry:sM,TorusKnotGeometry:aM,TubeGeometry:IS,WireframeGeometry:eG});class tG extends to{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ut(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class nG extends _u{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class oM extends to{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ut(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yp,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class iG extends oM{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new it(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Mn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ut(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ut(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ut(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class rG extends to{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ut(16777215),this.specular=new Ut(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yp,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zl,this.combine=wS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sG extends to{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ut(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yp,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class aG extends to{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yp,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class $N extends to{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yp,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zl,this.combine=wS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class XN extends to{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=vj,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class YN extends to{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class oG extends to{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ut(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yp,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lG extends no{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Mg(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function cG(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function uG(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function aP(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){const o=t[s]*e;for(let c=0;c!==e;++c)r[a++]=n[o+c]}return r}function KN(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push(...a)),s=n[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=n[r++];while(s!==void 0)}function Eoe(n,e,t,i,r=30){const s=n.clone();s.name=e;const a=[];for(let c=0;c<s.tracks.length;++c){const u=s.tracks[c],h=u.getValueSize(),p=[],y=[];for(let v=0;v<u.times.length;++v){const _=u.times[v]*r;if(!(_<t||_>=i)){p.push(u.times[v]);for(let S=0;S<h;++S)y.push(u.values[v*h+S])}}p.length!==0&&(u.times=Mg(p,u.times.constructor),u.values=Mg(y,u.values.constructor),a.push(u))}s.tracks=a;let o=1/0;for(let c=0;c<s.tracks.length;++c)o>s.tracks[c].times[0]&&(o=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*o);return s.resetDuration(),s}function Toe(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let a=0;a<r;++a){const o=t.tracks[a],c=o.ValueTypeName;if(c==="bool"||c==="string")continue;const u=n.tracks.find(function(b){return b.name===o.name&&b.ValueTypeName===c});if(u===void 0)continue;let h=0;const p=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let y=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=v/3);const _=o.times.length-1;let S;if(s<=o.times[0]){const b=h,w=p-h;S=o.values.slice(b,w)}else if(s>=o.times[_]){const b=_*p+h,w=b+p-h;S=o.values.slice(b,w)}else{const b=o.createInterpolant(),w=h,A=p-h;b.evaluate(s),S=b.resultBuffer.slice(w,A)}c==="quaternion"&&new Ta().fromArray(S).normalize().conjugate().toArray(S);const E=u.times.length;for(let b=0;b<E;++b){const w=b*v+y;if(c==="quaternion")Ta.multiplyQuaternionsFlat(u.values,w,S,0,u.values,w);else{const A=v-y*2;for(let C=0;C<A;++C)u.values[w+C]-=S[C]}}}return n.blendMode=PN,n}class woe{static convertArray(e,t){return Mg(e,t)}static isTypedArray(e){return cG(e)}static getKeyframeOrder(e){return uG(e)}static sortedArray(e,t,i){return aP(e,t,i)}static flattenJSON(e,t,i,r){KN(e,t,i,r)}static subclip(e,t,i,r,s=30){return Eoe(e,t,i,r,s)}static makeClipAdditive(e,t=0,i=e,r=30){return Toe(e,t,i,r)}}class PS{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(i=2,s=o);for(let c=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class fG extends PS{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Cg,endingEnd:Cg}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],c=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case Ag:s=e,o=2*t-i;break;case Fx:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(c===void 0)switch(this.getSettings_().endingEnd){case Ag:a=e,c=2*i-t;break;case Fx:a=1,c=i+r[1]-r[0];break;default:a=e-1,c=t}const u=(i-t)*.5,h=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(c-i),this._offsetPrev=s*h,this._offsetNext=a*h}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,u=c-o,h=this._offsetPrev,p=this._offsetNext,y=this._weightPrev,v=this._weightNext,_=(i-t)/(r-t),S=_*_,E=S*_,b=-y*E+2*y*S-y*_,w=(1+y)*E+(-1.5-2*y)*S+(-.5+y)*_+1,A=(-1-v)*E+(1.5+v)*S+.5*_,C=v*E-v*S;for(let D=0;D!==o;++D)s[D]=b*a[h+D]+w*a[u+D]+A*a[c+D]+C*a[p+D];return s}}class ZN extends PS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,u=c-o,h=(i-t)/(r-t),p=1-h;for(let y=0;y!==o;++y)s[y]=a[u+y]*p+a[c+y]*h;return s}}class hG extends PS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Rc{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Mg(t,this.TimeBufferType),this.values=Mg(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Mg(e.times,Array),values:Mg(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new hG(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ZN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new fG(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Bx:t=this.InterpolantFactoryMethodDiscrete;break;case MC:t=this.InterpolantFactoryMethodLinear;break;case i2:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Bx;case this.InterpolantFactoryMethodLinear:return MC;case this.InterpolantFactoryMethodSmooth:return i2}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const c=i[o];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,c),e=!1;break}if(a!==null&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,c,a),e=!1;break}a=c}if(r!==void 0&&cG(r))for(let o=0,c=r.length;o!==c;++o){const u=r[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===i2,s=e.length-1;let a=1;for(let o=1;o<s;++o){let c=!1;const u=e[o],h=e[o+1];if(u!==h&&(o!==1||u!==e[0]))if(r)c=!0;else{const p=o*i,y=p-i,v=p+i;for(let _=0;_!==i;++_){const S=t[p+_];if(S!==t[y+_]||S!==t[v+_]){c=!0;break}}}if(c){if(o!==a){e[a]=e[o];const p=o*i,y=a*i;for(let v=0;v!==i;++v)t[y+v]=t[p+v]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,c=a*i,u=0;u!==i;++u)t[c+u]=t[o+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Rc.prototype.ValueTypeName="";Rc.prototype.TimeBufferType=Float32Array;Rc.prototype.ValueBufferType=Float32Array;Rc.prototype.DefaultInterpolation=MC;class cy extends Rc{constructor(e,t,i){super(e,t,i)}}cy.prototype.ValueTypeName="bool";cy.prototype.ValueBufferType=Array;cy.prototype.DefaultInterpolation=Bx;cy.prototype.InterpolantFactoryMethodLinear=void 0;cy.prototype.InterpolantFactoryMethodSmooth=void 0;class QN extends Rc{constructor(e,t,i,r){super(e,t,i,r)}}QN.prototype.ValueTypeName="color";class Xx extends Rc{constructor(e,t,i,r){super(e,t,i,r)}}Xx.prototype.ValueTypeName="number";class dG extends PS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=(i-t)/(r-t);let u=e*o;for(let h=u+o;u!==h;u+=4)Ta.slerpFlat(s,0,a,u-o,a,u,c);return s}}class DS extends Rc{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new dG(this.times,this.values,this.getValueSize(),e)}}DS.prototype.ValueTypeName="quaternion";DS.prototype.InterpolantFactoryMethodSmooth=void 0;class uy extends Rc{constructor(e,t,i){super(e,t,i)}}uy.prototype.ValueTypeName="string";uy.prototype.ValueBufferType=Array;uy.prototype.DefaultInterpolation=Bx;uy.prototype.InterpolantFactoryMethodLinear=void 0;uy.prototype.InterpolantFactoryMethodSmooth=void 0;class Yx extends Rc{constructor(e,t,i,r){super(e,t,i,r)}}Yx.prototype.ValueTypeName="vector";class Kx{constructor(e="",t=-1,i=[],r=UA){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Dl(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)t.push(Aoe(i[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(Rc.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,a=[];for(let o=0;o<s;o++){let c=[],u=[];c.push((o+s-1)%s,o,(o+1)%s),u.push(0,1,0);const h=uG(c);c=aP(c,1,h),u=aP(u,1,h),!r&&c[0]===0&&(c.push(s),u.push(u[0])),a.push(new Xx(".morphTargetInfluences["+t[o].name+"]",c,u).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,c=e.length;o<c;o++){const u=e[o],h=u.name.match(s);if(h&&h.length>1){const p=h[1];let y=r[p];y||(r[p]=y=[]),y.push(u)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,i));return a}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(p,y,v,_,S){if(v.length!==0){const E=[],b=[];KN(v,E,b,_),E.length!==0&&S.push(new p(y,E,b))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let p=0;p<u.length;p++){const y=u[p].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const v={};let _;for(_=0;_<y.length;_++)if(y[_].morphTargets)for(let S=0;S<y[_].morphTargets.length;S++)v[y[_].morphTargets[S]]=-1;for(const S in v){const E=[],b=[];for(let w=0;w!==y[_].morphTargets.length;++w){const A=y[_];E.push(A.time),b.push(A.morphTarget===S?1:0)}r.push(new Xx(".morphTargetInfluence["+S+"]",E,b))}c=v.length*a}else{const v=".bones["+t[p].name+"]";i(Yx,v+".position",y,"pos",r),i(DS,v+".quaternion",y,"rot",r),i(Yx,v+".scale",y,"scl",r)}}return r.length===0?null:new this(s,c,r,o)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Coe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Xx;case"vector":case"vector2":case"vector3":case"vector4":return Yx;case"color":return QN;case"quaternion":return DS;case"bool":case"boolean":return cy;case"string":return uy}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Aoe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Coe(n.type);if(n.times===void 0){const t=[],i=[];KN(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Lh={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class JN{constructor(e,t,i){const r=this;let s=!1,a=0,o=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(h){o++,s===!1&&r.onStart!==void 0&&r.onStart(h,a,o),s=!0},this.itemEnd=function(h){a++,r.onProgress!==void 0&&r.onProgress(h,a,o),a===o&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return c?c(h):h},this.setURLModifier=function(h){return c=h,this},this.addHandler=function(h,p){return u.push(h,p),this},this.removeHandler=function(h){const p=u.indexOf(h);return p!==-1&&u.splice(p,2),this},this.getHandler=function(h){for(let p=0,y=u.length;p<y;p+=2){const v=u[p],_=u[p+1];if(v.global&&(v.lastIndex=0),v.test(h))return _}return null}}}const pG=new JN;class al{constructor(e){this.manager=e!==void 0?e:pG,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}al.DEFAULT_MATERIAL_NAME="__DEFAULT";const _h={};class Moe extends Error{constructor(e,t){super(e),this.response=t}}class Jh extends al{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Lh.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(_h[e]!==void 0){_h[e].push({onLoad:t,onProgress:i,onError:r});return}_h[e]=[],_h[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,c=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const h=_h[e],p=u.body.getReader(),y=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),v=y?parseInt(y):0,_=v!==0;let S=0;const E=new ReadableStream({start(b){w();function w(){p.read().then(({done:A,value:C})=>{if(A)b.close();else{S+=C.byteLength;const D=new ProgressEvent("progress",{lengthComputable:_,loaded:S,total:v});for(let L=0,P=h.length;L<P;L++){const U=h[L];U.onProgress&&U.onProgress(D)}b.enqueue(C),w()}},A=>{b.error(A)})}}});return new Response(E)}else throw new Moe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(c){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,o));case"json":return u.json();default:if(o==="")return u.text();{const p=/charset="?([^;"\s]*)"?/i.exec(o),y=p&&p[1]?p[1].toLowerCase():void 0,v=new TextDecoder(y);return u.arrayBuffer().then(_=>v.decode(_))}}}).then(u=>{Lh.add(e,u);const h=_h[e];delete _h[e];for(let p=0,y=h.length;p<y;p++){const v=h[p];v.onLoad&&v.onLoad(u)}}).catch(u=>{const h=_h[e];if(h===void 0)throw this.manager.itemError(e),u;delete _h[e];for(let p=0,y=h.length;p<y;p++){const v=h[p];v.onError&&v.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Roe extends al{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Jh(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Kx.parse(e[i]);t.push(r)}return t}}class Ooe extends al{constructor(e){super(e)}load(e,t,i,r){const s=this,a=[],o=new $A,c=new Jh(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let u=0;function h(p){c.load(e[p],function(y){const v=s.parse(y,!0);a[p]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},u+=1,u===6&&(v.mipmapCount===1&&(o.minFilter=hs),o.image=a,o.format=v.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(Array.isArray(e))for(let p=0,y=e.length;p<y;++p)h(p);else c.load(e,function(p){const y=s.parse(p,!0);if(y.isCubemap){const v=y.mipmaps.length/y.mipmapCount;for(let _=0;_<v;_++){a[_]={mipmaps:[]};for(let S=0;S<y.mipmapCount;S++)a[_].mipmaps.push(y.mipmaps[_*y.mipmapCount+S]),a[_].format=y.format,a[_].width=y.width,a[_].height=y.height}o.image=a}else o.image.width=y.width,o.image.height=y.height,o.mipmaps=y.mipmaps;y.mipmapCount===1&&(o.minFilter=hs),o.format=y.format,o.needsUpdate=!0,t&&t(o)},i,r);return o}}class Zx extends al{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Lh.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o=Gx("img");function c(){h(),Lh.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(p){h(),r&&r(p),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){o.removeEventListener("load",c,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",c,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class Ioe extends al{constructor(e){super(e)}load(e,t,i,r){const s=new MS;s.colorSpace=ba;const a=new Zx(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function c(u){a.load(e[u],function(h){s.images[u]=h,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)c(u);return s}}class Poe extends al{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Af,o=new Jh(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(c){let u;try{u=s.parse(c)}catch(h){if(r!==void 0)r(h);else{console.error(h);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:Sc,a.wrapT=u.wrapT!==void 0?u.wrapT:Sc,a.magFilter=u.magFilter!==void 0?u.magFilter:hs,a.minFilter=u.minFilter!==void 0?u.minFilter:hs,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=_f),u.mipmapCount===1&&(a.minFilter=hs),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,t&&t(a,u)},i,r),a}}class Doe extends al{constructor(e){super(e)}load(e,t,i,r){const s=new ns,a=new Zx(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Qp extends mi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ut(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class mG extends Qp{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ut(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const PO=new an,az=new fe,oz=new fe;class eL{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new it(512,512),this.mapType=wc,this.map=null,this.mapPass=null,this.matrix=new an,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new v_,this._frameExtents=new it(1,1),this._viewportCount=1,this._viewports=[new pi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;az.setFromMatrixPosition(e.matrixWorld),t.position.copy(az),oz.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(oz),t.updateMatrixWorld(),PO.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(PO),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(PO)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Noe extends eL{constructor(){super(new ea(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=j0*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class gG extends Qp{constructor(e,t,i=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.target=new mi,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new Noe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const lz=new an,nb=new fe,DO=new fe;class Loe extends eL{constructor(){super(new ea(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new it(4,2),this._viewportCount=6,this._viewports=[new pi(2,1,1,1),new pi(0,1,1,1),new pi(3,1,1,1),new pi(1,1,1,1),new pi(3,0,1,1),new pi(1,0,1,1)],this._cubeDirections=[new fe(1,0,0),new fe(-1,0,0),new fe(0,0,1),new fe(0,0,-1),new fe(0,1,0),new fe(0,-1,0)],this._cubeUps=[new fe(0,1,0),new fe(0,1,0),new fe(0,1,0),new fe(0,1,0),new fe(0,0,1),new fe(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),nb.setFromMatrixPosition(e.matrixWorld),i.position.copy(nb),DO.copy(i.position),DO.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(DO),i.updateMatrixWorld(),r.makeTranslation(-nb.x,-nb.y,-nb.z),lz.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lz)}}class yG extends Qp{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Loe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}let NS=class extends BA{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+t,c=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=h*this.view.offsetY,c=o-h*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};class Uoe extends eL{constructor(){super(new NS(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class vG extends Qp{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.target=new mi,this.shadow=new Uoe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class _G extends Qp{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class bG extends Qp{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class xG{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new fe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(i*s)),t.addScaledVector(a[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*i*s),t.addScaledVector(a[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class SG extends Qp{constructor(e=new xG,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class lM extends al{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,a=new Jh(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ut().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new Ut().setHex(a.value);break;case"v2":r.uniforms[s].value=new it().fromArray(a.value);break;case"v3":r.uniforms[s].value=new fe().fromArray(a.value);break;case"v4":r.uniforms[s].value=new pi().fromArray(a.value);break;case"m3":r.uniforms[s].value=new Dn().fromArray(a.value);break;case"m4":r.uniforms[s].value=new an().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new it().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new it().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return lM.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:tG,SpriteMaterial:GA,RawShaderMaterial:nG,ShaderMaterial:_u,PointsMaterial:BN,MeshPhysicalMaterial:iG,MeshStandardMaterial:oM,MeshPhongMaterial:rG,MeshToonMaterial:sG,MeshNormalMaterial:aG,MeshLambertMaterial:$N,MeshDepthMaterial:XN,MeshDistanceMaterial:YN,MeshBasicMaterial:Kp,MeshMatcapMaterial:oG,LineDashedMaterial:lG,LineBasicMaterial:no,Material:to};return new t[e]}}class oP{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class EG extends Nn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class TG extends al{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Jh(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(v,_){if(t[_]!==void 0)return t[_];const E=v.interleavedBuffers[_],b=s(v,E.buffer),w=s0(E.type,b),A=new jA(w,E.stride);return A.uuid=E.uuid,t[_]=A,A}function s(v,_){if(i[_]!==void 0)return i[_];const E=v.arrayBuffers[_],b=new Uint32Array(E).buffer;return i[_]=b,b}const a=e.isInstancedBufferGeometry?new EG:new Nn,o=e.data.index;if(o!==void 0){const v=s0(o.type,o.array);a.setIndex(new Fi(v,1))}const c=e.data.attributes;for(const v in c){const _=c[v];let S;if(_.isInterleavedBufferAttribute){const E=r(e.data,_.data);S=new Kg(E,_.itemSize,_.offset,_.normalized)}else{const E=s0(_.type,_.array),b=_.isInstancedBufferAttribute?W0:Fi;S=new b(E,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),_.usage!==void 0&&S.setUsage(_.usage),a.setAttribute(v,S)}const u=e.data.morphAttributes;if(u)for(const v in u){const _=u[v],S=[];for(let E=0,b=_.length;E<b;E++){const w=_[E];let A;if(w.isInterleavedBufferAttribute){const C=r(e.data,w.data);A=new Kg(C,w.itemSize,w.offset,w.normalized)}else{const C=s0(w.type,w.array);A=new Fi(C,w.itemSize,w.normalized)}w.name!==void 0&&(A.name=w.name),S.push(A)}a.morphAttributes[v]=S}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let v=0,_=p.length;v!==_;++v){const S=p[v];a.addGroup(S.start,S.count,S.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const v=new fe;y.center!==void 0&&v.fromArray(y.center),a.boundingSphere=new ia(v,y.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class koe extends al{constructor(e){super(e)}load(e,t,i,r){const s=this,a=this.path===""?oP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new Jh(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){let u=null;try{u=JSON.parse(c)}catch(p){r!==void 0&&r(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?oP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Jh(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),o=JSON.parse(a),c=o.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(u)}),o=this.parseTextures(e.textures,a),c=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,c,o,i),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),this.bindLightTargets(u),t!==void 0){let p=!1;for(const y in a)if(a[y].data instanceof HTMLImageElement){p=!0;break}p===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,r,o,a,t),u=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,u),this.bindLightTargets(c),c}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Vg().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new qA().fromJSON(e[s],r);i[o.uuid]=o}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new TG;for(let s=0,a=e.length;s<a;s++){let o;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(c);break;default:c.type in sz?o=sz[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}o.uuid=c.uuid,c.name!==void 0&&(o.name=c.name),c.userData!==void 0&&(o.userData=c.userData),i[c.uuid]=o}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new lM;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const c=e[a];i[c.uuid]===void 0&&(i[c.uuid]=s.parse(c)),r[c.uuid]=i[c.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Kx.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function a(c){return i.manager.itemStart(c),s.load(c,function(){i.manager.itemEnd(c)},void 0,function(){i.manager.itemError(c),i.manager.itemEnd(c)})}function o(c){if(typeof c=="string"){const u=c,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return a(h)}else return c.data?{data:s0(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new JN(t);s=new Zx(c),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const p=e[u],y=p.url;if(Array.isArray(y)){const v=[];for(let _=0,S=y.length;_<S;_++){const E=y[_],b=o(E);b!==null&&(b instanceof HTMLImageElement?v.push(b):v.push(new Af(b.data,b.width,b.height)))}r[p.uuid]=new Sp(v)}else{const v=o(p.url);r[p.uuid]=new Sp(v)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(a){if(typeof a=="string"){const o=a,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(c)}else return a.data?{data:s0(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new Zx(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const c=e[a],u=c.url;if(Array.isArray(u)){const h=[];for(let p=0,y=u.length;p<y;p++){const v=u[p],_=await s(v);_!==null&&(_ instanceof HTMLImageElement?h.push(_):h.push(new Af(_.data,_.width,_.height)))}i[c.uuid]=new Sp(h)}else{const h=await s(c.url);i[c.uuid]=new Sp(h)}}}return i}parseTextures(e,t){function i(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const c=t[o.image],u=c.data;let h;Array.isArray(u)?(h=new MS,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new Af:h=new ns,u&&(h.needsUpdate=!0)),h.source=c,h.uuid=o.uuid,o.name!==void 0&&(h.name=o.name),o.mapping!==void 0&&(h.mapping=i(o.mapping,zoe)),o.channel!==void 0&&(h.channel=o.channel),o.offset!==void 0&&h.offset.fromArray(o.offset),o.repeat!==void 0&&h.repeat.fromArray(o.repeat),o.center!==void 0&&h.center.fromArray(o.center),o.rotation!==void 0&&(h.rotation=o.rotation),o.wrap!==void 0&&(h.wrapS=i(o.wrap[0],cz),h.wrapT=i(o.wrap[1],cz)),o.format!==void 0&&(h.format=o.format),o.internalFormat!==void 0&&(h.internalFormat=o.internalFormat),o.type!==void 0&&(h.type=o.type),o.colorSpace!==void 0&&(h.colorSpace=o.colorSpace),o.minFilter!==void 0&&(h.minFilter=i(o.minFilter,uz)),o.magFilter!==void 0&&(h.magFilter=i(o.magFilter,uz)),o.anisotropy!==void 0&&(h.anisotropy=o.anisotropy),o.flipY!==void 0&&(h.flipY=o.flipY),o.generateMipmaps!==void 0&&(h.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(h.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(h.compareFunction=o.compareFunction),o.userData!==void 0&&(h.userData=o.userData),r[o.uuid]=h}return r}parseObject(e,t,i,r,s){let a;function o(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function c(y){if(y!==void 0){if(Array.isArray(y)){const v=[];for(let _=0,S=y.length;_<S;_++){const E=y[_];i[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),v.push(i[E])}return v}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function u(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let h,p;switch(e.type){case"Scene":a=new HA,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Ut(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new VA(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new FA(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new ea(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new NS(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new _G(e.color,e.intensity);break;case"DirectionalLight":a=new vG(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new yG(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new bG(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new gG(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new mG(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new SG().fromJSON(e);break;case"SkinnedMesh":h=o(e.geometry),p=c(e.material),a=new Bj(h,p),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":h=o(e.geometry),p=c(e.material),a=new ts(h,p);break;case"InstancedMesh":h=o(e.geometry),p=c(e.material);const y=e.count,v=e.instanceMatrix,_=e.instanceColor;a=new Fj(h,p,y),a.instanceMatrix=new W0(new Float32Array(v.array),16),_!==void 0&&(a.instanceColor=new W0(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":h=o(e.geometry),p=c(e.material),a=new Vj(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,p),a.geometry=h,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(S=>{let E=null,b=null;return S.boundingBox!==void 0&&(E=new na,E.min.fromArray(S.boundingBox.min),E.max.fromArray(S.boundingBox.max)),S.boundingSphere!==void 0&&(b=new ia,b.radius=S.boundingSphere.radius,b.center.fromArray(S.boundingSphere.center)),{...S,boundingBox:E,boundingSphere:b}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=u(e.matricesTexture.uuid),a._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new ia,a.boundingSphere.center.fromArray(e.boundingSphere.center),a.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(a.boundingBox=new na,a.boundingBox.min.fromArray(e.boundingBox.min),a.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":a=new zj;break;case"Line":a=new Qh(o(e.geometry),c(e.material));break;case"LineLoop":a=new Hj(o(e.geometry),c(e.material));break;case"LineSegments":a=new Lf(o(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new jj(o(e.geometry),c(e.material));break;case"Sprite":a=new kN(c(e.material));break;case"Group":a=new Nh;break;case"Bone":a=new zN;break;default:a=new mi}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let v=0;v<y.length;v++)a.add(this.parseObject(y[v],t,i,r,s))}if(e.animations!==void 0){const y=e.animations;for(let v=0;v<y.length;v++){const _=y[v];a.animations.push(s[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const y=e.levels;for(let v=0;v<y.length;v++){const _=y[v],S=a.getObjectByProperty("uuid",_.object);S!==void 0&&a.addLevel(S,_.distance,_.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new mi}})}}const zoe={UVMapping:RA,CubeReflectionMapping:Kh,CubeRefractionMapping:Hp,EquirectangularReflectionMapping:Lx,EquirectangularRefractionMapping:Ux,CubeUVReflectionMapping:g_},cz={RepeatWrapping:kx,ClampToEdgeWrapping:Sc,MirroredRepeatWrapping:zx},uz={NearestFilter:Ea,NearestMipmapNearestFilter:TN,NearestMipmapLinearFilter:r0,LinearFilter:hs,LinearMipmapNearestFilter:Jb,LinearMipmapLinearFilter:_f};class Boe extends al{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Lh.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(u=>{t&&t(u),s.manager.itemEnd(e)}).catch(u=>{r&&r(u)});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const c=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Lh.add(e,u),t&&t(u),s.manager.itemEnd(e),u}).catch(function(u){r&&r(u),Lh.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Lh.add(e,c),s.manager.itemStart(e)}}let WT;class tL{static getContext(){return WT===void 0&&(WT=new(window.AudioContext||window.webkitAudioContext)),WT}static setContext(e){WT=e}}class Foe extends al{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Jh(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(c){try{const u=c.slice(0);tL.getContext().decodeAudioData(u,function(p){t(p)}).catch(o)}catch(u){o(u)}},i,r);function o(c){r?r(c):console.error(c),s.manager.itemError(e)}}}const fz=new an,hz=new an,eg=new an;class Voe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ea,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ea,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,eg.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(Fg*t.fov*.5)/t.zoom;let o,c;hz.elements[12]=-r,fz.elements[12]=r,o=-a*t.aspect+s,c=a*t.aspect+s,eg.elements[0]=2*t.near/(c-o),eg.elements[8]=(c+o)/(c-o),this.cameraL.projectionMatrix.copy(eg),o=-a*t.aspect-s,c=a*t.aspect-s,eg.elements[0]=2*t.near/(c-o),eg.elements[8]=(c+o)/(c-o),this.cameraR.projectionMatrix.copy(eg)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(hz),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(fz)}}class wG extends ea{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class nL{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=dz(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=dz();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function dz(){return performance.now()}const tg=new fe,pz=new Ta,Hoe=new fe,ng=new fe;class joe extends mi{constructor(){super(),this.type="AudioListener",this.context=tL.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new nL}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(tg,pz,Hoe),ng.set(0,0,-1).applyQuaternion(pz),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(tg.x,r),t.positionY.linearRampToValueAtTime(tg.y,r),t.positionZ.linearRampToValueAtTime(tg.z,r),t.forwardX.linearRampToValueAtTime(ng.x,r),t.forwardY.linearRampToValueAtTime(ng.y,r),t.forwardZ.linearRampToValueAtTime(ng.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(tg.x,tg.y,tg.z),t.setOrientation(ng.x,ng.y,ng.z,i.x,i.y,i.z)}}class CG extends mi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const ig=new fe,mz=new Ta,Goe=new fe,rg=new fe;class qoe extends CG{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ig,mz,Goe),rg.set(0,0,1).applyQuaternion(mz);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ig.x,i),t.positionY.linearRampToValueAtTime(ig.y,i),t.positionZ.linearRampToValueAtTime(ig.z,i),t.orientationX.linearRampToValueAtTime(rg.x,i),t.orientationY.linearRampToValueAtTime(rg.y,i),t.orientationZ.linearRampToValueAtTime(rg.z,i)}else t.setPosition(ig.x,ig.y,ig.z),t.setOrientation(rg.x,rg.y,rg.z)}}class Woe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class AG{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==r;++o)i[s+o]=i[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(i,s,0,o,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=t*this._origIndex;this._mixBufferRegion(i,r,c,1-s,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let c=t,u=t+t;c!==u;++c)if(i[c]!==i[c+t]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,a=r;s!==a;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){Ta.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const a=this._workIndex*s;Ta.multiplyQuaternionsFlat(e,a,e,t,e,i),Ta.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,s){const a=1-r;for(let o=0;o!==s;++o){const c=t+o;e[c]=e[c]*a+e[i+o]*r}}_lerpAdditive(e,t,i,r,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[i+a]*r}}}const iL="\\[\\]\\.:\\/",$oe=new RegExp("["+iL+"]","g"),rL="[^"+iL+"]",Xoe="[^"+iL.replace("\\.","")+"]",Yoe=/((?:WC+[\/:])*)/.source.replace("WC",rL),Koe=/(WCOD+)?/.source.replace("WCOD",Xoe),Zoe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",rL),Qoe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",rL),Joe=new RegExp("^"+Yoe+Koe+Zoe+Qoe+"$"),ele=["material","materials","bones","map"];class tle{constructor(e,t,i){const r=i||vi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class vi{constructor(e,t,i){this.path=t,this.parsedPath=i||vi.parseTrackName(t),this.node=vi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new vi.Composite(e,t,i):new vi(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace($oe,"")}static parseTrackName(e){const t=Joe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);ele.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const c=i(o.children);if(c)return c}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=vi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[r];if(a===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}vi.Composite=tle;vi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};vi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};vi.prototype.GetterByBindingType=[vi.prototype._getValue_direct,vi.prototype._getValue_array,vi.prototype._getValue_arrayElement,vi.prototype._getValue_toArray];vi.prototype.SetterByBindingTypeAndVersioning=[[vi.prototype._setValue_direct,vi.prototype._setValue_direct_setNeedsUpdate,vi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_array,vi.prototype._setValue_array_setNeedsUpdate,vi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_arrayElement,vi.prototype._setValue_arrayElement_setNeedsUpdate,vi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_fromArray,vi.prototype._setValue_fromArray_setNeedsUpdate,vi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class nle{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Dl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let o,c=e.length,u=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const y=arguments[h],v=y.uuid;let _=t[v];if(_===void 0){_=c++,t[v]=_,e.push(y);for(let S=0,E=a;S!==E;++S)s[S].push(new vi(y,i[S],r[S]))}else if(_<u){o=e[_];const S=--u,E=e[S];t[E.uuid]=_,e[_]=E,t[v]=S,e[S]=y;for(let b=0,w=a;b!==w;++b){const A=s[b],C=A[S];let D=A[_];A[_]=C,D===void 0&&(D=new vi(y,i[b],r[b])),A[S]=D}}else e[_]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const c=arguments[a],u=c.uuid,h=t[u];if(h!==void 0&&h>=s){const p=s++,y=e[p];t[y.uuid]=h,e[h]=y,t[u]=p,e[p]=c;for(let v=0,_=r;v!==_;++v){const S=i[v],E=S[p],b=S[h];S[h]=E,S[p]=b}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,c=arguments.length;o!==c;++o){const u=arguments[o],h=u.uuid,p=t[h];if(p!==void 0)if(delete t[h],p<s){const y=--s,v=e[y],_=--a,S=e[_];t[v.uuid]=p,e[p]=v,t[S.uuid]=y,e[y]=S,e.pop();for(let E=0,b=r;E!==b;++E){const w=i[E],A=w[y],C=w[_];w[p]=A,w[y]=C,w.pop()}}else{const y=--a,v=e[y];y>0&&(t[v.uuid]=p),e[p]=v,e.pop();for(let _=0,S=r;_!==S;++_){const E=i[_];E[p]=E[y],E.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,o=this._parsedPaths,c=this._objects,u=c.length,h=this.nCachedObjects_,p=new Array(u);r=s.length,i[e]=r,a.push(e),o.push(t),s.push(p);for(let y=h,v=c.length;y!==v;++y){const _=c[y];p[y]=new vi(_,e,t)}return p}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,c=a[o],u=e[o];t[u]=i,a[i]=c,a.pop(),s[i]=s[o],s.pop(),r[i]=r[o],r.pop()}}}class MG{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,a=s.length,o=new Array(a),c={endingStart:Cg,endingEnd:Cg};for(let u=0;u!==a;++u){const h=s[u].createInterpolant(null);o[u]=h,h.settings=c}this._interpolantSettings=c,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=gj,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,s=e._clip.duration,a=s/r,o=r/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const c=o.parameterPositions,u=o.sampleValues;return c[0]=s,c[1]=s+i,u[0]=e/a,u[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*i;c<0||i===0?t=0:(this._startTime=null,t=i*c)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case PN:for(let h=0,p=c.length;h!==p;++h)c[h].evaluate(a),u[h].accumulateAdditive(o);break;case UA:default:for(let h=0,p=c.length;h!==p;++h)c[h].evaluate(a),u[h].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===yj;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(i===mj){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const o=Math.floor(r/t);r-=t*o,s+=Math.abs(o);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Ag,r.endingEnd=Ag):(e?r.endingStart=this.zeroSlopeAtStart?Ag:Cg:r.endingStart=Fx,t?r.endingEnd=this.zeroSlopeAtEnd?Ag:Cg:r.endingEnd=Fx)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,c=a.sampleValues;return o[0]=s,c[0]=t,o[1]=s+e,c[1]=i,this}}const ile=new Float32Array(1);class rle extends Nf{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,c=i.uuid,u=this._bindingsByRootAndName;let h=u[c];h===void 0&&(h={},u[c]=h);for(let p=0;p!==s;++p){const y=r[p],v=y.name;let _=h[v];if(_!==void 0)++_.referenceCount,a[p]=_;else{if(_=a[p],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,c,v));continue}const S=t&&t._propertyBindings[p].binding.parsedPath;_=new AG(vi.create(i,v,S),y.ValueTypeName,y.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,c,v),a[p]=_}o[p].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],c=o.knownActions,u=c[c.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,c[h]=u,c.pop(),e._byClipCacheIndex=null;const p=o.actionByRoot,y=(e._localRoot||this._root).uuid;delete p[y],c.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,o=a[r],c=t[t.length-1],u=e._cacheIndex;c._cacheIndex=u,t[u]=c,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new ZN(new Float32Array(2),new Float32Array(2),1,ile),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?Kx.findByName(r,e):e;const o=a!==null?a.uuid:e,c=this._actionsByClip[o];let u=null;if(i===void 0&&(a!==null?i=a.blendMode:i=UA),c!==void 0){const p=c.actionByRoot[s];if(p!==void 0&&p.blendMode===i)return p;u=c.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const h=new MG(this,a,t,i);return this._bindAction(h,u),this._addInactiveAction(h,o,s),h}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Kx.findByName(i,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,a);const o=this._bindings,c=this._nActiveBindings;for(let u=0;u!==c;++u)o[u].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let o=0,c=a.length;o!==c;++o){const u=a[o];this._deactivateAction(u);const h=u._cacheIndex,p=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,p._cacheIndex=h,t[h]=p,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,c=o[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class sle extends kA{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new zA(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class ale extends kA{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new AS(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class sL{constructor(e){this.value=e}clone(){return new sL(this.value.clone===void 0?this.value:this.value.clone())}}let ole=0;class lle extends Nf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:ole++}),this.name="",this.usage=Hx,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class cle extends jA{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class ule{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const gz=new an;class cM{constructor(e,t,i=0,r=1/0){this.ray=new y_(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new G0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return gz.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(gz),this}intersectObject(e,t=!0,i=[]){return lP(e,this,i,t),i.sort(yz),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)lP(e[r],this,i,t);return i.sort(yz),i}}function yz(n,e){return n.distance-e.distance}function lP(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let a=0,o=s.length;a<o;a++)lP(s[a],e,t,!0)}}class RG{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Mn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Mn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class fle{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class aL{constructor(e,t,i,r){aL.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const vz=new it;class hle{constructor(e=new it(1/0,1/0),t=new it(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=vz.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,vz).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _z=new fe,$T=new fe;class dle{constructor(e=new fe,t=new fe){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){_z.subVectors(e,this.start),$T.subVectors(this.end,this.start);const i=$T.dot($T);let s=$T.dot(_z)/i;return t&&(s=Mn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const bz=new fe;class ple extends mi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Nn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,c=32;a<c;a++,o++){const u=a/c*Math.PI*2,h=o/c*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}i.setAttribute("position",new Ht(r,3));const s=new no({fog:!1,toneMapped:!1});this.cone=new Lf(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),bz.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(bz),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const sp=new fe,XT=new an,NO=new an;class mle extends Lf{constructor(e){const t=OG(e),i=new Nn,r=[],s=[],a=new Ut(0,0,1),o=new Ut(0,1,0);for(let u=0;u<t.length;u++){const h=t[u];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}i.setAttribute("position",new Ht(r,3)),i.setAttribute("color",new Ht(s,3));const c=new no({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");NO.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(XT.multiplyMatrices(NO,o.matrixWorld),sp.setFromMatrixPosition(XT),r.setXYZ(a,sp.x,sp.y,sp.z),XT.multiplyMatrices(NO,o.parent.matrixWorld),sp.setFromMatrixPosition(XT),r.setXYZ(a+1,sp.x,sp.y,sp.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function OG(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...OG(n.children[t]));return e}class gle extends ts{constructor(e,t,i){const r=new ly(t,4,2),s=new Kp({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const yle=new fe,xz=new Ut,Sz=new Ut;class vle extends mi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new OS(t);r.rotateY(Math.PI*.5),this.material=new Kp({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new Fi(a,3)),this.add(new ts(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");xz.copy(this.light.color),Sz.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?xz:Sz;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(yle.setFromMatrixPosition(this.light.matrixWorld).negate())}}class _le extends Lf{constructor(e=10,t=10,i=4473924,r=8947848){i=new Ut(i),r=new Ut(r);const s=t/2,a=e/t,o=e/2,c=[],u=[];for(let y=0,v=0,_=-o;y<=t;y++,_+=a){c.push(-o,0,_,o,0,_),c.push(_,0,-o,_,0,o);const S=y===s?i:r;S.toArray(u,v),v+=3,S.toArray(u,v),v+=3,S.toArray(u,v),v+=3,S.toArray(u,v),v+=3}const h=new Nn;h.setAttribute("position",new Ht(c,3)),h.setAttribute("color",new Ht(u,3));const p=new no({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class ble extends Lf{constructor(e=10,t=16,i=8,r=64,s=4473924,a=8947848){s=new Ut(s),a=new Ut(a);const o=[],c=[];if(t>1)for(let p=0;p<t;p++){const y=p/t*(Math.PI*2),v=Math.sin(y)*e,_=Math.cos(y)*e;o.push(0,0,0),o.push(v,0,_);const S=p&1?s:a;c.push(S.r,S.g,S.b),c.push(S.r,S.g,S.b)}for(let p=0;p<i;p++){const y=p&1?s:a,v=e-e/i*p;for(let _=0;_<r;_++){let S=_/r*(Math.PI*2),E=Math.sin(S)*v,b=Math.cos(S)*v;o.push(E,0,b),c.push(y.r,y.g,y.b),S=(_+1)/r*(Math.PI*2),E=Math.sin(S)*v,b=Math.cos(S)*v,o.push(E,0,b),c.push(y.r,y.g,y.b)}}const u=new Nn;u.setAttribute("position",new Ht(o,3)),u.setAttribute("color",new Ht(c,3));const h=new no({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Ez=new fe,YT=new fe,Tz=new fe;class xle extends mi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Nn;r.setAttribute("position",new Ht([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new no({fog:!1,toneMapped:!1});this.lightPlane=new Qh(r,s),this.add(this.lightPlane),r=new Nn,r.setAttribute("position",new Ht([0,0,0,0,0,1],3)),this.targetLine=new Qh(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Ez.setFromMatrixPosition(this.light.matrixWorld),YT.setFromMatrixPosition(this.light.target.matrixWorld),Tz.subVectors(YT,Ez),this.lightPlane.lookAt(YT),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(YT),this.targetLine.scale.z=Tz.length()}}const KT=new fe,Yr=new BA;class Sle extends Lf{constructor(e){const t=new Nn,i=new no({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(_,S){c(_),c(S)}function c(_){r.push(0,0,0),s.push(0,0,0),a[_]===void 0&&(a[_]=[]),a[_].push(r.length/3-1)}t.setAttribute("position",new Ht(r,3)),t.setAttribute("color",new Ht(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new Ut(16755200),h=new Ut(16711680),p=new Ut(43775),y=new Ut(16777215),v=new Ut(3355443);this.setColors(u,h,p,y,v)}setColors(e,t,i,r,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Yr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===Ec?-1:0;ls("c",t,e,Yr,0,0,s),ls("t",t,e,Yr,0,0,1),ls("n1",t,e,Yr,-1,-1,s),ls("n2",t,e,Yr,i,-1,s),ls("n3",t,e,Yr,-1,r,s),ls("n4",t,e,Yr,i,r,s),ls("f1",t,e,Yr,-1,-1,1),ls("f2",t,e,Yr,i,-1,1),ls("f3",t,e,Yr,-1,r,1),ls("f4",t,e,Yr,i,r,1),ls("u1",t,e,Yr,i*.7,r*1.1,s),ls("u2",t,e,Yr,-1*.7,r*1.1,s),ls("u3",t,e,Yr,0,r*2,s),ls("cf1",t,e,Yr,-1,0,1),ls("cf2",t,e,Yr,i,0,1),ls("cf3",t,e,Yr,0,-1,1),ls("cf4",t,e,Yr,0,r,1),ls("cn1",t,e,Yr,-1,0,s),ls("cn2",t,e,Yr,i,0,s),ls("cn3",t,e,Yr,0,-1,s),ls("cn4",t,e,Yr,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ls(n,e,t,i,r,s,a){KT.set(r,s,a).unproject(i);const o=e[n];if(o!==void 0){const c=t.getAttribute("position");for(let u=0,h=o.length;u<h;u++)c.setXYZ(o[u],KT.x,KT.y,KT.z)}}const ZT=new na;class Ele extends Lf{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new Nn;s.setIndex(new Fi(i,1)),s.setAttribute("position",new Fi(r,3)),super(s,new no({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&ZT.setFromObject(this.object),ZT.isEmpty())return;const e=ZT.min,t=ZT.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Tle extends Lf{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Nn;s.setIndex(new Fi(i,1)),s.setAttribute("position",new Ht(r,3)),super(s,new no({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class wle extends Qh{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Nn;a.setAttribute("position",new Ht(s,3)),a.computeBoundingSphere(),super(a,new no({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new Nn;c.setAttribute("position",new Ht(o,3)),c.computeBoundingSphere(),this.add(new ts(c,new Kp({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const wz=new fe;let QT,LO;class Cle extends mi{constructor(e=new fe(0,0,1),t=new fe(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",QT===void 0&&(QT=new Nn,QT.setAttribute("position",new Ht([0,0,0,0,1,0],3)),LO=new b_(.5,1,5,1),LO.translate(0,-.5,0)),this.position.copy(t),this.line=new Qh(QT,new no({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ts(LO,new Kp({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{wz.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(wz,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Ale extends Lf{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Nn;r.setAttribute("position",new Ht(t,3)),r.setAttribute("color",new Ht(i,3));const s=new no({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Ut,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Mle{constructor(){this.type="ShapePath",this.color=new Ut,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new PC,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const w=[];for(let A=0,C=b.length;A<C;A++){const D=b[A],L=new Vg;L.curves=D.curves,w.push(L)}return w}function i(b,w){const A=w.length;let C=!1;for(let D=A-1,L=0;L<A;D=L++){let P=w[D],U=w[L],I=U.x-P.x,N=U.y-P.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(P=w[L],I=-I,U=w[D],N=-N),b.y<P.y||b.y>U.y)continue;if(b.y===P.y){if(b.x===P.x)return!0}else{const F=N*(b.x-P.x)-I*(b.y-P.y);if(F===0)return!0;if(F<0)continue;C=!C}}else{if(b.y!==P.y)continue;if(U.x<=b.x&&b.x<=P.x||P.x<=b.x&&b.x<=U.x)return!0}}return C}const r=du.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,c;const u=[];if(s.length===1)return o=s[0],c=new Vg,c.curves=o.curves,u.push(c),u;let h=!r(s[0].getPoints());h=e?!h:h;const p=[],y=[];let v=[],_=0,S;y[_]=void 0,v[_]=[];for(let b=0,w=s.length;b<w;b++)o=s[b],S=o.getPoints(),a=r(S),a=e?!a:a,a?(!h&&y[_]&&_++,y[_]={s:new Vg,p:S},y[_].s.curves=o.curves,h&&_++,v[_]=[]):v[_].push({h:o,p:S[0]});if(!y[0])return t(s);if(y.length>1){let b=!1,w=0;for(let A=0,C=y.length;A<C;A++)p[A]=[];for(let A=0,C=y.length;A<C;A++){const D=v[A];for(let L=0;L<D.length;L++){const P=D[L];let U=!0;for(let I=0;I<y.length;I++)i(P.p,y[I].p)&&(A!==I&&w++,U?(U=!1,p[I].push(P)):b=!0);U&&p[A].push(P)}}w>0&&b===!1&&(v=p)}let E;for(let b=0,w=y.length;b<w;b++){c=y[b].s,u.push(c),E=v[b];for(let A=0,C=E.length;A<C;A++)c.holes.push(E[A].h)}return u}}class Rle extends Nf{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Ole(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Ile(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Ple(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function cP(n,e,t,i){const r=Dle(i);switch(t){case MN:return n*e;case DA:return n*e/r.components*r.byteLength;case CS:return n*e/r.components*r.byteLength;case ON:return n*e*2/r.components*r.byteLength;case NA:return n*e*2/r.components*r.byteLength;case RN:return n*e*3/r.components*r.byteLength;case Qa:return n*e*4/r.components*r.byteLength;case LA:return n*e*4/r.components*r.byteLength;case ex:case tx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case nx:case ix:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case iC:case sC:return Math.max(n,16)*Math.max(e,8)/4;case nC:case rC:return Math.max(n,8)*Math.max(e,8)/2;case aC:case oC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case lC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case cC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case uC:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case fC:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case hC:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case dC:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case pC:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case mC:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case gC:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case yC:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case vC:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case _C:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case bC:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case xC:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case SC:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case rx:case EC:case TC:return Math.ceil(n/4)*Math.ceil(e/4)*16;case IN:case wC:return Math.ceil(n/4)*Math.ceil(e/4)*8;case CC:case AC:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Dle(n){switch(n){case wc:case wN:return{byteLength:1,components:1};case B0:case CN:case ay:return{byteLength:2,components:1};case IA:case PA:return{byteLength:2,components:4};case Zh:case OA:case Ro:return{byteLength:4,components:1};case AN:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class Nle{static contain(e,t){return Ole(e,t)}static cover(e,t){return Ile(e,t)}static fill(e){return Ple(e)}static getByteLength(e,t,i,r){return cP(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:AA}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=AA);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function IG(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Lle(n){const e=new WeakMap;function t(o,c){const u=o.array,h=o.usage,p=u.byteLength,y=n.createBuffer();n.bindBuffer(c,y),n.bufferData(c,u,h),o.onUploadCallback();let v;if(u instanceof Float32Array)v=n.FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?v=n.HALF_FLOAT:v=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)v=n.SHORT;else if(u instanceof Uint32Array)v=n.UNSIGNED_INT;else if(u instanceof Int32Array)v=n.INT;else if(u instanceof Int8Array)v=n.BYTE;else if(u instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:y,type:v,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:p}}function i(o,c,u){const h=c.array,p=c.updateRanges;if(n.bindBuffer(u,o),p.length===0)n.bufferSubData(u,0,h);else{p.sort((v,_)=>v.start-_.start);let y=0;for(let v=1;v<p.length;v++){const _=p[y],S=p[v];S.start<=_.start+_.count+1?_.count=Math.max(_.count,S.start+S.count-_.start):(++y,p[y]=S)}p.length=y+1;for(let v=0,_=p.length;v<_;v++){const S=p[v];n.bufferSubData(u,S.start*h.BYTES_PER_ELEMENT,h,S.start,S.count)}c.clearUpdateRanges()}c.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const c=e.get(o);c&&(n.deleteBuffer(c.buffer),e.delete(o))}function a(o,c){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const h=e.get(o);(!h||h.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,t(o,c));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(u.buffer,o,c),u.version=o.version}}return{get:r,remove:s,update:a}}var Ule=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,kle=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,zle=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Ble=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Fle=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Vle=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Hle=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,jle=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Gle=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,qle=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Wle=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,$le=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Xle=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Yle=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Kle=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Zle=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Qle=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Jle=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ece=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,tce=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,nce=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,ice=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,rce=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,sce=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,ace=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,oce=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,lce=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,cce=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,uce=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,fce=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,hce="gl_FragColor = linearToOutputTexel( gl_FragColor );",dce=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,pce=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,mce=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,gce=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,yce=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,vce=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,_ce=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,bce=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,xce=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Sce=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Ece=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Tce=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,wce=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Cce=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Ace=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Mce=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Rce=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Oce=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Ice=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Pce=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Dce=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Nce=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Lce=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Uce=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,kce=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,zce=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Bce=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Fce=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Vce=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Hce=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,jce=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Gce=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,qce=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Wce=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,$ce=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Xce=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Yce=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Kce=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Zce=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Qce=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Jce=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,eue=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,tue=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,nue=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,iue=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,rue=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,sue=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,aue=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,oue=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,lue=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,cue=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,uue=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,fue=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,hue=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,due=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,pue=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,mue=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,gue=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,yue=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,vue=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,_ue=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,bue=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,xue=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Sue=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Eue=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Tue=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,wue=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Cue=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Aue=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Mue=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Rue=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Oue=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Iue=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Pue=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Due=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Nue=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Lue=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Uue=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kue=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,zue=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Bue=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Fue=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Vue=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Hue=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,jue=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Gue=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,que=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Wue=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$ue=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Xue=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Yue=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Kue=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zue=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Que=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jue=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,efe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tfe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,nfe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,ife=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rfe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sfe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,afe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ofe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lfe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cfe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ufe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ffe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hfe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,dfe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,pfe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,jn={alphahash_fragment:Ule,alphahash_pars_fragment:kle,alphamap_fragment:zle,alphamap_pars_fragment:Ble,alphatest_fragment:Fle,alphatest_pars_fragment:Vle,aomap_fragment:Hle,aomap_pars_fragment:jle,batching_pars_vertex:Gle,batching_vertex:qle,begin_vertex:Wle,beginnormal_vertex:$le,bsdfs:Xle,iridescence_fragment:Yle,bumpmap_pars_fragment:Kle,clipping_planes_fragment:Zle,clipping_planes_pars_fragment:Qle,clipping_planes_pars_vertex:Jle,clipping_planes_vertex:ece,color_fragment:tce,color_pars_fragment:nce,color_pars_vertex:ice,color_vertex:rce,common:sce,cube_uv_reflection_fragment:ace,defaultnormal_vertex:oce,displacementmap_pars_vertex:lce,displacementmap_vertex:cce,emissivemap_fragment:uce,emissivemap_pars_fragment:fce,colorspace_fragment:hce,colorspace_pars_fragment:dce,envmap_fragment:pce,envmap_common_pars_fragment:mce,envmap_pars_fragment:gce,envmap_pars_vertex:yce,envmap_physical_pars_fragment:Mce,envmap_vertex:vce,fog_vertex:_ce,fog_pars_vertex:bce,fog_fragment:xce,fog_pars_fragment:Sce,gradientmap_pars_fragment:Ece,lightmap_pars_fragment:Tce,lights_lambert_fragment:wce,lights_lambert_pars_fragment:Cce,lights_pars_begin:Ace,lights_toon_fragment:Rce,lights_toon_pars_fragment:Oce,lights_phong_fragment:Ice,lights_phong_pars_fragment:Pce,lights_physical_fragment:Dce,lights_physical_pars_fragment:Nce,lights_fragment_begin:Lce,lights_fragment_maps:Uce,lights_fragment_end:kce,logdepthbuf_fragment:zce,logdepthbuf_pars_fragment:Bce,logdepthbuf_pars_vertex:Fce,logdepthbuf_vertex:Vce,map_fragment:Hce,map_pars_fragment:jce,map_particle_fragment:Gce,map_particle_pars_fragment:qce,metalnessmap_fragment:Wce,metalnessmap_pars_fragment:$ce,morphinstance_vertex:Xce,morphcolor_vertex:Yce,morphnormal_vertex:Kce,morphtarget_pars_vertex:Zce,morphtarget_vertex:Qce,normal_fragment_begin:Jce,normal_fragment_maps:eue,normal_pars_fragment:tue,normal_pars_vertex:nue,normal_vertex:iue,normalmap_pars_fragment:rue,clearcoat_normal_fragment_begin:sue,clearcoat_normal_fragment_maps:aue,clearcoat_pars_fragment:oue,iridescence_pars_fragment:lue,opaque_fragment:cue,packing:uue,premultiplied_alpha_fragment:fue,project_vertex:hue,dithering_fragment:due,dithering_pars_fragment:pue,roughnessmap_fragment:mue,roughnessmap_pars_fragment:gue,shadowmap_pars_fragment:yue,shadowmap_pars_vertex:vue,shadowmap_vertex:_ue,shadowmask_pars_fragment:bue,skinbase_vertex:xue,skinning_pars_vertex:Sue,skinning_vertex:Eue,skinnormal_vertex:Tue,specularmap_fragment:wue,specularmap_pars_fragment:Cue,tonemapping_fragment:Aue,tonemapping_pars_fragment:Mue,transmission_fragment:Rue,transmission_pars_fragment:Oue,uv_pars_fragment:Iue,uv_pars_vertex:Pue,uv_vertex:Due,worldpos_vertex:Nue,background_vert:Lue,background_frag:Uue,backgroundCube_vert:kue,backgroundCube_frag:zue,cube_vert:Bue,cube_frag:Fue,depth_vert:Vue,depth_frag:Hue,distanceRGBA_vert:jue,distanceRGBA_frag:Gue,equirect_vert:que,equirect_frag:Wue,linedashed_vert:$ue,linedashed_frag:Xue,meshbasic_vert:Yue,meshbasic_frag:Kue,meshlambert_vert:Zue,meshlambert_frag:Que,meshmatcap_vert:Jue,meshmatcap_frag:efe,meshnormal_vert:tfe,meshnormal_frag:nfe,meshphong_vert:ife,meshphong_frag:rfe,meshphysical_vert:sfe,meshphysical_frag:afe,meshtoon_vert:ofe,meshtoon_frag:lfe,points_vert:cfe,points_frag:ufe,shadow_vert:ffe,shadow_frag:hfe,sprite_vert:dfe,sprite_frag:pfe},Pt={common:{diffuse:{value:new Ut(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Dn},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Dn}},envmap:{envMap:{value:null},envMapRotation:{value:new Dn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Dn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Dn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Dn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Dn},normalScale:{value:new it(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Dn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Dn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Dn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Dn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0},uvTransform:{value:new Dn}},sprite:{diffuse:{value:new Ut(16777215)},opacity:{value:1},center:{value:new it(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Dn},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0}}},fu={basic:{uniforms:wo([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.fog]),vertexShader:jn.meshbasic_vert,fragmentShader:jn.meshbasic_frag},lambert:{uniforms:wo([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Ut(0)}}]),vertexShader:jn.meshlambert_vert,fragmentShader:jn.meshlambert_frag},phong:{uniforms:wo([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Ut(0)},specular:{value:new Ut(1118481)},shininess:{value:30}}]),vertexShader:jn.meshphong_vert,fragmentShader:jn.meshphong_frag},standard:{uniforms:wo([Pt.common,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.roughnessmap,Pt.metalnessmap,Pt.fog,Pt.lights,{emissive:{value:new Ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:jn.meshphysical_vert,fragmentShader:jn.meshphysical_frag},toon:{uniforms:wo([Pt.common,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.gradientmap,Pt.fog,Pt.lights,{emissive:{value:new Ut(0)}}]),vertexShader:jn.meshtoon_vert,fragmentShader:jn.meshtoon_frag},matcap:{uniforms:wo([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,{matcap:{value:null}}]),vertexShader:jn.meshmatcap_vert,fragmentShader:jn.meshmatcap_frag},points:{uniforms:wo([Pt.points,Pt.fog]),vertexShader:jn.points_vert,fragmentShader:jn.points_frag},dashed:{uniforms:wo([Pt.common,Pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:jn.linedashed_vert,fragmentShader:jn.linedashed_frag},depth:{uniforms:wo([Pt.common,Pt.displacementmap]),vertexShader:jn.depth_vert,fragmentShader:jn.depth_frag},normal:{uniforms:wo([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,{opacity:{value:1}}]),vertexShader:jn.meshnormal_vert,fragmentShader:jn.meshnormal_frag},sprite:{uniforms:wo([Pt.sprite,Pt.fog]),vertexShader:jn.sprite_vert,fragmentShader:jn.sprite_frag},background:{uniforms:{uvTransform:{value:new Dn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:jn.background_vert,fragmentShader:jn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Dn}},vertexShader:jn.backgroundCube_vert,fragmentShader:jn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:jn.cube_vert,fragmentShader:jn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:jn.equirect_vert,fragmentShader:jn.equirect_frag},distanceRGBA:{uniforms:wo([Pt.common,Pt.displacementmap,{referencePosition:{value:new fe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:jn.distanceRGBA_vert,fragmentShader:jn.distanceRGBA_frag},shadow:{uniforms:wo([Pt.lights,Pt.fog,{color:{value:new Ut(0)},opacity:{value:1}}]),vertexShader:jn.shadow_vert,fragmentShader:jn.shadow_frag}};fu.physical={uniforms:wo([fu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Dn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Dn},clearcoatNormalScale:{value:new it(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Dn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Dn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Dn},sheen:{value:0},sheenColor:{value:new Ut(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Dn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Dn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Dn},transmissionSamplerSize:{value:new it},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Dn},attenuationDistance:{value:0},attenuationColor:{value:new Ut(0)},specularColor:{value:new Ut(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Dn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Dn},anisotropyVector:{value:new it},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Dn}}]),vertexShader:jn.meshphysical_vert,fragmentShader:jn.meshphysical_frag};const JT={r:0,b:0,g:0},sg=new zl,mfe=new an;function gfe(n,e,t,i,r,s,a){const o=new Ut(0);let c=s===!0?0:1,u,h,p=null,y=0,v=null;function _(A){let C=A.isScene===!0?A.background:null;return C&&C.isTexture&&(C=(A.backgroundBlurriness>0?t:e).get(C)),C}function S(A){let C=!1;const D=_(A);D===null?b(o,c):D&&D.isColor&&(b(D,1),C=!0);const L=n.xr.getEnvironmentBlendMode();L==="additive"?i.buffers.color.setClear(0,0,0,1,a):L==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||C)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function E(A,C){const D=_(C);D&&(D.isCubeTexture||D.mapping===g_)?(h===void 0&&(h=new ts(new oy(1,1,1),new _u({name:"BackgroundCubeMaterial",uniforms:q0(fu.backgroundCube.uniforms),vertexShader:fu.backgroundCube.vertexShader,fragmentShader:fu.backgroundCube.fragmentShader,side:Oo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(L,P,U){this.matrixWorld.copyPosition(U.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),sg.copy(C.backgroundRotation),sg.x*=-1,sg.y*=-1,sg.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(sg.y*=-1,sg.z*=-1),h.material.uniforms.envMap.value=D,h.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(mfe.makeRotationFromEuler(sg)),h.material.toneMapped=ci.getTransfer(D.colorSpace)!==Bi,(p!==D||y!==D.version||v!==n.toneMapping)&&(h.material.needsUpdate=!0,p=D,y=D.version,v=n.toneMapping),h.layers.enableAll(),A.unshift(h,h.geometry,h.material,0,0,null)):D&&D.isTexture&&(u===void 0&&(u=new ts(new x_(2,2),new _u({name:"BackgroundMaterial",uniforms:q0(fu.background.uniforms),vertexShader:fu.background.vertexShader,fragmentShader:fu.background.fragmentShader,side:Yh,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=D,u.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,u.material.toneMapped=ci.getTransfer(D.colorSpace)!==Bi,D.matrixAutoUpdate===!0&&D.updateMatrix(),u.material.uniforms.uvTransform.value.copy(D.matrix),(p!==D||y!==D.version||v!==n.toneMapping)&&(u.material.needsUpdate=!0,p=D,y=D.version,v=n.toneMapping),u.layers.enableAll(),A.unshift(u,u.geometry,u.material,0,0,null))}function b(A,C){A.getRGB(JT,Dj(n)),i.buffers.color.setClear(JT.r,JT.g,JT.b,C,a)}function w(){h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return o},setClearColor:function(A,C=1){o.set(A),c=C,b(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(A){c=A,b(o,c)},render:S,addToRenderList:E,dispose:w}}function yfe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=y(null);let s=r,a=!1;function o(N,F,z,V,K){let ee=!1;const q=p(V,z,F);s!==q&&(s=q,u(s.object)),ee=v(N,V,z,K),ee&&_(N,V,z,K),K!==null&&e.update(K,n.ELEMENT_ARRAY_BUFFER),(ee||a)&&(a=!1,C(N,F,z,V),K!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function c(){return n.createVertexArray()}function u(N){return n.bindVertexArray(N)}function h(N){return n.deleteVertexArray(N)}function p(N,F,z){const V=z.wireframe===!0;let K=i[N.id];K===void 0&&(K={},i[N.id]=K);let ee=K[F.id];ee===void 0&&(ee={},K[F.id]=ee);let q=ee[V];return q===void 0&&(q=y(c()),ee[V]=q),q}function y(N){const F=[],z=[],V=[];for(let K=0;K<t;K++)F[K]=0,z[K]=0,V[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:z,attributeDivisors:V,object:N,attributes:{},index:null}}function v(N,F,z,V){const K=s.attributes,ee=F.attributes;let q=0;const $=z.getAttributes();for(const Q in $)if($[Q].location>=0){const de=K[Q];let Y=ee[Q];if(Y===void 0&&(Q==="instanceMatrix"&&N.instanceMatrix&&(Y=N.instanceMatrix),Q==="instanceColor"&&N.instanceColor&&(Y=N.instanceColor)),de===void 0||de.attribute!==Y||Y&&de.data!==Y.data)return!0;q++}return s.attributesNum!==q||s.index!==V}function _(N,F,z,V){const K={},ee=F.attributes;let q=0;const $=z.getAttributes();for(const Q in $)if($[Q].location>=0){let de=ee[Q];de===void 0&&(Q==="instanceMatrix"&&N.instanceMatrix&&(de=N.instanceMatrix),Q==="instanceColor"&&N.instanceColor&&(de=N.instanceColor));const Y={};Y.attribute=de,de&&de.data&&(Y.data=de.data),K[Q]=Y,q++}s.attributes=K,s.attributesNum=q,s.index=V}function S(){const N=s.newAttributes;for(let F=0,z=N.length;F<z;F++)N[F]=0}function E(N){b(N,0)}function b(N,F){const z=s.newAttributes,V=s.enabledAttributes,K=s.attributeDivisors;z[N]=1,V[N]===0&&(n.enableVertexAttribArray(N),V[N]=1),K[N]!==F&&(n.vertexAttribDivisor(N,F),K[N]=F)}function w(){const N=s.newAttributes,F=s.enabledAttributes;for(let z=0,V=F.length;z<V;z++)F[z]!==N[z]&&(n.disableVertexAttribArray(z),F[z]=0)}function A(N,F,z,V,K,ee,q){q===!0?n.vertexAttribIPointer(N,F,z,K,ee):n.vertexAttribPointer(N,F,z,V,K,ee)}function C(N,F,z,V){S();const K=V.attributes,ee=z.getAttributes(),q=F.defaultAttributeValues;for(const $ in ee){const Q=ee[$];if(Q.location>=0){let re=K[$];if(re===void 0&&($==="instanceMatrix"&&N.instanceMatrix&&(re=N.instanceMatrix),$==="instanceColor"&&N.instanceColor&&(re=N.instanceColor)),re!==void 0){const de=re.normalized,Y=re.itemSize,le=e.get(re);if(le===void 0)continue;const pe=le.buffer,ue=le.type,ie=le.bytesPerElement,he=ue===n.INT||ue===n.UNSIGNED_INT||re.gpuType===OA;if(re.isInterleavedBufferAttribute){const ye=re.data,Ve=ye.stride,Xe=re.offset;if(ye.isInstancedInterleavedBuffer){for(let Ge=0;Ge<Q.locationSize;Ge++)b(Q.location+Ge,ye.meshPerAttribute);N.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let Ge=0;Ge<Q.locationSize;Ge++)E(Q.location+Ge);n.bindBuffer(n.ARRAY_BUFFER,pe);for(let Ge=0;Ge<Q.locationSize;Ge++)A(Q.location+Ge,Y/Q.locationSize,ue,de,Ve*ie,(Xe+Y/Q.locationSize*Ge)*ie,he)}else{if(re.isInstancedBufferAttribute){for(let ye=0;ye<Q.locationSize;ye++)b(Q.location+ye,re.meshPerAttribute);N.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let ye=0;ye<Q.locationSize;ye++)E(Q.location+ye);n.bindBuffer(n.ARRAY_BUFFER,pe);for(let ye=0;ye<Q.locationSize;ye++)A(Q.location+ye,Y/Q.locationSize,ue,de,Y*ie,Y/Q.locationSize*ye*ie,he)}}else if(q!==void 0){const de=q[$];if(de!==void 0)switch(de.length){case 2:n.vertexAttrib2fv(Q.location,de);break;case 3:n.vertexAttrib3fv(Q.location,de);break;case 4:n.vertexAttrib4fv(Q.location,de);break;default:n.vertexAttrib1fv(Q.location,de)}}}}w()}function D(){U();for(const N in i){const F=i[N];for(const z in F){const V=F[z];for(const K in V)h(V[K].object),delete V[K];delete F[z]}delete i[N]}}function L(N){if(i[N.id]===void 0)return;const F=i[N.id];for(const z in F){const V=F[z];for(const K in V)h(V[K].object),delete V[K];delete F[z]}delete i[N.id]}function P(N){for(const F in i){const z=i[F];if(z[N.id]===void 0)continue;const V=z[N.id];for(const K in V)h(V[K].object),delete V[K];delete z[N.id]}}function U(){I(),a=!0,s!==r&&(s=r,u(s.object))}function I(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:U,resetDefaultState:I,dispose:D,releaseStatesOfGeometry:L,releaseStatesOfProgram:P,initAttributes:S,enableAttribute:E,disableUnusedAttributes:w}}function vfe(n,e,t){let i;function r(u){i=u}function s(u,h){n.drawArrays(i,u,h),t.update(h,i,1)}function a(u,h,p){p!==0&&(n.drawArraysInstanced(i,u,h,p),t.update(h,i,p))}function o(u,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,u,0,h,0,p);let v=0;for(let _=0;_<p;_++)v+=h[_];t.update(v,i,1)}function c(u,h,p,y){if(p===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let _=0;_<u.length;_++)a(u[_],h[_],y[_]);else{v.multiDrawArraysInstancedWEBGL(i,u,0,h,0,y,0,p);let _=0;for(let S=0;S<p;S++)_+=h[S]*y[S];t.update(_,i,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=c}function _fe(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(P){return!(P!==Qa&&i.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(P){const U=P===ay&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==wc&&i.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==Ro&&!U)}function c(P){if(P==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const h=c(u);h!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",h,"instead."),u=h);const p=t.logarithmicDepthBuffer===!0,y=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),v=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=n.getParameter(n.MAX_TEXTURE_SIZE),E=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),b=n.getParameter(n.MAX_VERTEX_ATTRIBS),w=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),A=n.getParameter(n.MAX_VARYING_VECTORS),C=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),D=_>0,L=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:c,textureFormatReadable:a,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:p,reverseDepthBuffer:y,maxTextures:v,maxVertexTextures:_,maxTextureSize:S,maxCubemapSize:E,maxAttributes:b,maxVertexUniforms:w,maxVaryings:A,maxFragmentUniforms:C,vertexTextures:D,maxSamples:L}}function bfe(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new cp,o=new Dn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(p,y){const v=p.length!==0||y||i!==0||r;return r=y,i=p.length,v},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(p,y){t=h(p,y,0)},this.setState=function(p,y,v){const _=p.clippingPlanes,S=p.clipIntersection,E=p.clipShadows,b=n.get(p);if(!r||_===null||_.length===0||s&&!E)s?h(null):u();else{const w=s?0:i,A=w*4;let C=b.clippingState||null;c.value=C,C=h(_,y,A,v);for(let D=0;D!==A;++D)C[D]=t[D];b.clippingState=C,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=w}};function u(){c.value!==t&&(c.value=t,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(p,y,v,_){const S=p!==null?p.length:0;let E=null;if(S!==0){if(E=c.value,_!==!0||E===null){const b=v+S*4,w=y.matrixWorldInverse;o.getNormalMatrix(w),(E===null||E.length<b)&&(E=new Float32Array(b));for(let A=0,C=v;A!==S;++A,C+=4)a.copy(p[A]).applyMatrix4(w,o),a.normal.toArray(E,C),E[C+3]=a.constant}c.value=E,c.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,E}}function xfe(n){let e=new WeakMap;function t(a,o){return o===Lx?a.mapping=Kh:o===Ux&&(a.mapping=Hp),a}function i(a){if(a&&a.isTexture){const o=a.mapping;if(o===Lx||o===Ux)if(e.has(a)){const c=e.get(a).texture;return t(c,a.mapping)}else{const c=a.image;if(c&&c.height>0){const u=new Uj(c.height);return u.fromEquirectangularTexture(n,a),e.set(a,u),a.addEventListener("dispose",r),t(u.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const c=e.get(o);c!==void 0&&(e.delete(o),c.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const a0=4,Cz=[.125,.215,.35,.446,.526,.582],xg=20,UO=new NS,Az=new Ut;let kO=null,zO=0,BO=0,FO=!1;const yg=(1+Math.sqrt(5))/2,Av=1/yg,Mz=[new fe(-yg,Av,0),new fe(yg,Av,0),new fe(-Av,0,yg),new fe(Av,0,yg),new fe(0,yg,-Av),new fe(0,yg,Av),new fe(-1,1,-1),new fe(1,1,-1),new fe(-1,1,1),new fe(1,1,1)],Sfe=new fe;class uP{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,s={}){const{size:a=256,position:o=Sfe}=s;kO=this._renderer.getRenderTarget(),zO=this._renderer.getActiveCubeFace(),BO=this._renderer.getActiveMipmapLevel(),FO=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,i,r,c,o),t>0&&this._blur(c,0,0,t),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Iz(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Oz(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(kO,zO,BO),this._renderer.xr.enabled=FO,e.scissorTest=!1,ew(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Kh||e.mapping===Hp?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),kO=this._renderer.getRenderTarget(),zO=this._renderer.getActiveCubeFace(),BO=this._renderer.getActiveMipmapLevel(),FO=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:hs,minFilter:hs,generateMipmaps:!1,type:ay,format:Qa,colorSpace:jp,depthBuffer:!1},r=Rz(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Rz(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Efe(s)),this._blurMaterial=Tfe(s,e,t)}return r}_compileMaterial(e){const t=new ts(this._lodPlanes[0],e);this._renderer.compile(t,UO)}_sceneToCubeUV(e,t,i,r,s){const c=new ea(90,1,t,i),u=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],p=this._renderer,y=p.autoClear,v=p.toneMapping;p.getClearColor(Az),p.toneMapping=Cf,p.autoClear=!1;const _=new Kp({name:"PMREM.Background",side:Oo,depthWrite:!1,depthTest:!1}),S=new ts(new oy,_);let E=!1;const b=e.background;b?b.isColor&&(_.color.copy(b),e.background=null,E=!0):(_.color.copy(Az),E=!0);for(let w=0;w<6;w++){const A=w%3;A===0?(c.up.set(0,u[w],0),c.position.set(s.x,s.y,s.z),c.lookAt(s.x+h[w],s.y,s.z)):A===1?(c.up.set(0,0,u[w]),c.position.set(s.x,s.y,s.z),c.lookAt(s.x,s.y+h[w],s.z)):(c.up.set(0,u[w],0),c.position.set(s.x,s.y,s.z),c.lookAt(s.x,s.y,s.z+h[w]));const C=this._cubeSize;ew(r,A*C,w>2?C:0,C,C),p.setRenderTarget(r),E&&p.render(S,c),p.render(e,c)}S.geometry.dispose(),S.material.dispose(),p.toneMapping=v,p.autoClear=y,e.background=b}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Kh||e.mapping===Hp;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Iz()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Oz());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new ts(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const c=this._cubeSize;ew(t,0,0,3*c,2*c),i.setRenderTarget(t),i.render(a,UO)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=Mz[(r-s-1)%Mz.length];this._blur(e,s-1,s,a,o)}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const c=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new ts(this._lodPlanes[r],u),y=u.uniforms,v=this._sizeLods[i]-1,_=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*xg-1),S=s/_,E=isFinite(s)?1+Math.floor(h*S):xg;E>xg&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${xg}`);const b=[];let w=0;for(let P=0;P<xg;++P){const U=P/S,I=Math.exp(-U*U/2);b.push(I),P===0?w+=I:P<E&&(w+=2*I)}for(let P=0;P<b.length;P++)b[P]=b[P]/w;y.envMap.value=e.texture,y.samples.value=E,y.weights.value=b,y.latitudinal.value=a==="latitudinal",o&&(y.poleAxis.value=o);const{_lodMax:A}=this;y.dTheta.value=_,y.mipInt.value=A-i;const C=this._sizeLods[r],D=3*C*(r>A-a0?r-A+a0:0),L=4*(this._cubeSize-C);ew(t,D,L,3*C,2*C),c.setRenderTarget(t),c.render(p,UO)}}function Efe(n){const e=[],t=[],i=[];let r=n;const s=n-a0+1+Cz.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let c=1/o;a>n-a0?c=Cz[a-n+a0-1]:a===0&&(c=0),i.push(c);const u=1/(o-2),h=-u,p=1+u,y=[h,h,p,h,p,p,h,h,p,p,h,p],v=6,_=6,S=3,E=2,b=1,w=new Float32Array(S*_*v),A=new Float32Array(E*_*v),C=new Float32Array(b*_*v);for(let L=0;L<v;L++){const P=L%3*2/3-1,U=L>2?0:-1,I=[P,U,0,P+2/3,U,0,P+2/3,U+1,0,P,U,0,P+2/3,U+1,0,P,U+1,0];w.set(I,S*_*L),A.set(y,E*_*L);const N=[L,L,L,L,L,L];C.set(N,b*_*L)}const D=new Nn;D.setAttribute("position",new Fi(w,S)),D.setAttribute("uv",new Fi(A,E)),D.setAttribute("faceIndex",new Fi(C,b)),e.push(D),r>a0&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function Rz(n,e,t){const i=new vu(n,e,t);return i.texture.mapping=g_,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function ew(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function Tfe(n,e,t){const i=new Float32Array(xg),r=new fe(0,1,0);return new _u({name:"SphericalGaussianBlur",defines:{n:xg,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:oL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:zh,depthTest:!1,depthWrite:!1})}function Oz(){return new _u({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:oL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:zh,depthTest:!1,depthWrite:!1})}function Iz(){return new _u({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:oL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:zh,depthTest:!1,depthWrite:!1})}function oL(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function wfe(n){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){const c=o.mapping,u=c===Lx||c===Ux,h=c===Kh||c===Hp;if(u||h){let p=e.get(o);const y=p!==void 0?p.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==y)return t===null&&(t=new uP(n)),p=u?t.fromEquirectangular(o,p):t.fromCubemap(o,p),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),p.texture;if(p!==void 0)return p.texture;{const v=o.image;return u&&v&&v.height>0||h&&v&&r(v)?(t===null&&(t=new uP(n)),p=u?t.fromEquirectangular(o):t.fromCubemap(o),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),o.addEventListener("dispose",s),p.texture):null}}}return o}function r(o){let c=0;const u=6;for(let h=0;h<u;h++)o[h]!==void 0&&c++;return c===u}function s(o){const c=o.target;c.removeEventListener("dispose",s);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function Cfe(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&r2("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Afe(n,e,t,i){const r={},s=new WeakMap;function a(p){const y=p.target;y.index!==null&&e.remove(y.index);for(const _ in y.attributes)e.remove(y.attributes[_]);y.removeEventListener("dispose",a),delete r[y.id];const v=s.get(y);v&&(e.remove(v),s.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function o(p,y){return r[y.id]===!0||(y.addEventListener("dispose",a),r[y.id]=!0,t.memory.geometries++),y}function c(p){const y=p.attributes;for(const v in y)e.update(y[v],n.ARRAY_BUFFER)}function u(p){const y=[],v=p.index,_=p.attributes.position;let S=0;if(v!==null){const w=v.array;S=v.version;for(let A=0,C=w.length;A<C;A+=3){const D=w[A+0],L=w[A+1],P=w[A+2];y.push(D,L,L,P,P,D)}}else if(_!==void 0){const w=_.array;S=_.version;for(let A=0,C=w.length/3-1;A<C;A+=3){const D=A+0,L=A+1,P=A+2;y.push(D,L,L,P,P,D)}}else return;const E=new(Rj(y)?UN:LN)(y,1);E.version=S;const b=s.get(p);b&&e.remove(b),s.set(p,E)}function h(p){const y=s.get(p);if(y){const v=p.index;v!==null&&y.version<v.version&&u(p)}else u(p);return s.get(p)}return{get:o,update:c,getWireframeAttribute:h}}function Mfe(n,e,t){let i;function r(y){i=y}let s,a;function o(y){s=y.type,a=y.bytesPerElement}function c(y,v){n.drawElements(i,v,s,y*a),t.update(v,i,1)}function u(y,v,_){_!==0&&(n.drawElementsInstanced(i,v,s,y*a,_),t.update(v,i,_))}function h(y,v,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,v,0,s,y,0,_);let E=0;for(let b=0;b<_;b++)E+=v[b];t.update(E,i,1)}function p(y,v,_,S){if(_===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let b=0;b<y.length;b++)u(y[b]/a,v[b],S[b]);else{E.multiDrawElementsInstancedWEBGL(i,v,0,s,y,0,S,0,_);let b=0;for(let w=0;w<_;w++)b+=v[w]*S[w];t.update(b,i,1)}}this.setMode=r,this.setIndex=o,this.render=c,this.renderInstances=u,this.renderMultiDraw=h,this.renderMultiDrawInstances=p}function Rfe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function Ofe(n,e,t){const i=new WeakMap,r=new pi;function s(a,o,c){const u=a.morphTargetInfluences,h=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,p=h!==void 0?h.length:0;let y=i.get(o);if(y===void 0||y.count!==p){let N=function(){U.dispose(),i.delete(o),o.removeEventListener("dispose",N)};var v=N;y!==void 0&&y.texture.dispose();const _=o.morphAttributes.position!==void 0,S=o.morphAttributes.normal!==void 0,E=o.morphAttributes.color!==void 0,b=o.morphAttributes.position||[],w=o.morphAttributes.normal||[],A=o.morphAttributes.color||[];let C=0;_===!0&&(C=1),S===!0&&(C=2),E===!0&&(C=3);let D=o.attributes.position.count*C,L=1;D>e.maxTextureSize&&(L=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const P=new Float32Array(D*L*4*p),U=new AS(P,D,L,p);U.type=Ro,U.needsUpdate=!0;const I=C*4;for(let F=0;F<p;F++){const z=b[F],V=w[F],K=A[F],ee=D*L*4*F;for(let q=0;q<z.count;q++){const $=q*I;_===!0&&(r.fromBufferAttribute(z,q),P[ee+$+0]=r.x,P[ee+$+1]=r.y,P[ee+$+2]=r.z,P[ee+$+3]=0),S===!0&&(r.fromBufferAttribute(V,q),P[ee+$+4]=r.x,P[ee+$+5]=r.y,P[ee+$+6]=r.z,P[ee+$+7]=0),E===!0&&(r.fromBufferAttribute(K,q),P[ee+$+8]=r.x,P[ee+$+9]=r.y,P[ee+$+10]=r.z,P[ee+$+11]=K.itemSize===4?r.w:1)}}y={count:p,texture:U,size:new it(D,L)},i.set(o,y),o.addEventListener("dispose",N)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)c.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let _=0;for(let E=0;E<u.length;E++)_+=u[E];const S=o.morphTargetsRelative?1:1-_;c.getUniforms().setValue(n,"morphTargetBaseInfluence",S),c.getUniforms().setValue(n,"morphTargetInfluences",u)}c.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),c.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:s}}function Ife(n,e,t,i){let r=new WeakMap;function s(c){const u=i.render.frame,h=c.geometry,p=e.get(c,h);if(r.get(p)!==u&&(e.update(p),r.set(p,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",o)===!1&&c.addEventListener("dispose",o),r.get(c)!==u&&(t.update(c.instanceMatrix,n.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,n.ARRAY_BUFFER),r.set(c,u))),c.isSkinnedMesh){const y=c.skeleton;r.get(y)!==u&&(y.update(),r.set(y,u))}return p}function a(){r=new WeakMap}function o(c){const u=c.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:a}}const PG=new ns,Pz=new RS(1,1),DG=new AS,NG=new zA,LG=new MS,Dz=[],Nz=[],Lz=new Float32Array(16),Uz=new Float32Array(9),kz=new Float32Array(4);function S_(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=Dz[r];if(s===void 0&&(s=new Float32Array(r),Dz[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function zs(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Bs(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function uM(n,e){let t=Nz[e];t===void 0&&(t=new Int32Array(e),Nz[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Pfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Dfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zs(t,e))return;n.uniform2fv(this.addr,e),Bs(t,e)}}function Nfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(zs(t,e))return;n.uniform3fv(this.addr,e),Bs(t,e)}}function Lfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zs(t,e))return;n.uniform4fv(this.addr,e),Bs(t,e)}}function Ufe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zs(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Bs(t,e)}else{if(zs(t,i))return;kz.set(i),n.uniformMatrix2fv(this.addr,!1,kz),Bs(t,i)}}function kfe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zs(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Bs(t,e)}else{if(zs(t,i))return;Uz.set(i),n.uniformMatrix3fv(this.addr,!1,Uz),Bs(t,i)}}function zfe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zs(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Bs(t,e)}else{if(zs(t,i))return;Lz.set(i),n.uniformMatrix4fv(this.addr,!1,Lz),Bs(t,i)}}function Bfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Ffe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zs(t,e))return;n.uniform2iv(this.addr,e),Bs(t,e)}}function Vfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zs(t,e))return;n.uniform3iv(this.addr,e),Bs(t,e)}}function Hfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zs(t,e))return;n.uniform4iv(this.addr,e),Bs(t,e)}}function jfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Gfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zs(t,e))return;n.uniform2uiv(this.addr,e),Bs(t,e)}}function qfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zs(t,e))return;n.uniform3uiv(this.addr,e),Bs(t,e)}}function Wfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zs(t,e))return;n.uniform4uiv(this.addr,e),Bs(t,e)}}function $fe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(Pz.compareFunction=DN,s=Pz):s=PG,t.setTexture2D(e||s,r)}function Xfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||NG,r)}function Yfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||LG,r)}function Kfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||DG,r)}function Zfe(n){switch(n){case 5126:return Pfe;case 35664:return Dfe;case 35665:return Nfe;case 35666:return Lfe;case 35674:return Ufe;case 35675:return kfe;case 35676:return zfe;case 5124:case 35670:return Bfe;case 35667:case 35671:return Ffe;case 35668:case 35672:return Vfe;case 35669:case 35673:return Hfe;case 5125:return jfe;case 36294:return Gfe;case 36295:return qfe;case 36296:return Wfe;case 35678:case 36198:case 36298:case 36306:case 35682:return $fe;case 35679:case 36299:case 36307:return Xfe;case 35680:case 36300:case 36308:case 36293:return Yfe;case 36289:case 36303:case 36311:case 36292:return Kfe}}function Qfe(n,e){n.uniform1fv(this.addr,e)}function Jfe(n,e){const t=S_(e,this.size,2);n.uniform2fv(this.addr,t)}function ehe(n,e){const t=S_(e,this.size,3);n.uniform3fv(this.addr,t)}function the(n,e){const t=S_(e,this.size,4);n.uniform4fv(this.addr,t)}function nhe(n,e){const t=S_(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function ihe(n,e){const t=S_(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function rhe(n,e){const t=S_(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function she(n,e){n.uniform1iv(this.addr,e)}function ahe(n,e){n.uniform2iv(this.addr,e)}function ohe(n,e){n.uniform3iv(this.addr,e)}function lhe(n,e){n.uniform4iv(this.addr,e)}function che(n,e){n.uniform1uiv(this.addr,e)}function uhe(n,e){n.uniform2uiv(this.addr,e)}function fhe(n,e){n.uniform3uiv(this.addr,e)}function hhe(n,e){n.uniform4uiv(this.addr,e)}function dhe(n,e,t){const i=this.cache,r=e.length,s=uM(t,r);zs(i,s)||(n.uniform1iv(this.addr,s),Bs(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||PG,s[a])}function phe(n,e,t){const i=this.cache,r=e.length,s=uM(t,r);zs(i,s)||(n.uniform1iv(this.addr,s),Bs(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||NG,s[a])}function mhe(n,e,t){const i=this.cache,r=e.length,s=uM(t,r);zs(i,s)||(n.uniform1iv(this.addr,s),Bs(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||LG,s[a])}function ghe(n,e,t){const i=this.cache,r=e.length,s=uM(t,r);zs(i,s)||(n.uniform1iv(this.addr,s),Bs(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||DG,s[a])}function yhe(n){switch(n){case 5126:return Qfe;case 35664:return Jfe;case 35665:return ehe;case 35666:return the;case 35674:return nhe;case 35675:return ihe;case 35676:return rhe;case 5124:case 35670:return she;case 35667:case 35671:return ahe;case 35668:case 35672:return ohe;case 35669:case 35673:return lhe;case 5125:return che;case 36294:return uhe;case 36295:return fhe;case 36296:return hhe;case 35678:case 36198:case 36298:case 36306:case 35682:return dhe;case 35679:case 36299:case 36307:return phe;case 35680:case 36300:case 36308:case 36293:return mhe;case 36289:case 36303:case 36311:case 36292:return ghe}}class vhe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Zfe(t.type)}}class _he{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=yhe(t.type)}}class bhe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],i)}}}const VO=/(\w+)(\])?(\[|\.)?/g;function zz(n,e){n.seq.push(e),n.map[e.id]=e}function xhe(n,e,t){const i=n.name,r=i.length;for(VO.lastIndex=0;;){const s=VO.exec(i),a=VO.lastIndex;let o=s[1];const c=s[2]==="]",u=s[3];if(c&&(o=o|0),u===void 0||u==="["&&a+2===r){zz(t,u===void 0?new vhe(o,n,e):new _he(o,n,e));break}else{let p=t.map[o];p===void 0&&(p=new bhe(o),zz(t,p)),t=p}}}class a2{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);xhe(s,a,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],c=i[o.id];c.needsUpdate!==!1&&o.setValue(e,c.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function Bz(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const She=37297;let Ehe=0;function The(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join(`
`)}const Fz=new Dn;function whe(n){ci._getMatrix(Fz,ci.workingColorSpace,n);const e=`mat3( ${Fz.elements.map(t=>t.toFixed(4))} )`;switch(ci.getTransfer(n)){case Vx:return[e,"LinearTransferOETF"];case Bi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function Vz(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+The(n.getShaderSource(e),a)}else return r}function Che(n,e){const t=whe(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Ahe(n,e){let t;switch(e){case lj:t="Linear";break;case cj:t="Reinhard";break;case uj:t="Cineon";break;case EN:t="ACESFilmic";break;case hj:t="AgX";break;case dj:t="Neutral";break;case fj:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const tw=new fe;function Mhe(){ci.getLuminanceCoefficients(tw);const n=tw.x.toFixed(4),e=tw.y.toFixed(4),t=tw.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Rhe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Pb).join(`
`)}function Ohe(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function Ihe(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function Pb(n){return n!==""}function Hz(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function jz(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Phe=/^[ \t]*#include +<([\w\d./]+)>/gm;function fP(n){return n.replace(Phe,Nhe)}const Dhe=new Map;function Nhe(n,e){let t=jn[e];if(t===void 0){const i=Dhe.get(e);if(i!==void 0)t=jn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return fP(t)}const Lhe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Gz(n){return n.replace(Lhe,Uhe)}function Uhe(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function qz(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function khe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===MA?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Qb?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===cu&&(e="SHADOWMAP_TYPE_VSM"),e}function zhe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Kh:case Hp:e="ENVMAP_TYPE_CUBE";break;case g_:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Bhe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Hp:e="ENVMAP_MODE_REFRACTION";break}return e}function Fhe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case wS:e="ENVMAP_BLENDING_MULTIPLY";break;case aj:e="ENVMAP_BLENDING_MIX";break;case oj:e="ENVMAP_BLENDING_ADD";break}return e}function Vhe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function Hhe(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const c=khe(t),u=zhe(t),h=Bhe(t),p=Fhe(t),y=Vhe(t),v=Rhe(t),_=Ohe(s),S=r.createProgram();let E,b,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Pb).join(`
`),E.length>0&&(E+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Pb).join(`
`),b.length>0&&(b+=`
`)):(E=[qz(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Pb).join(`
`),b=[qz(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",t.envMap?"#define "+p:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Cf?"#define TONE_MAPPING":"",t.toneMapping!==Cf?jn.tonemapping_pars_fragment:"",t.toneMapping!==Cf?Ahe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",jn.colorspace_pars_fragment,Che("linearToOutputTexel",t.outputColorSpace),Mhe(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Pb).join(`
`)),a=fP(a),a=Hz(a,t),a=jz(a,t),o=fP(o),o=Hz(o,t),o=jz(o,t),a=Gz(a),o=Gz(o),t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,E=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,b=["#define varying in",t.glslVersion===nP?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===nP?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const A=w+E+a,C=w+b+o,D=Bz(r,r.VERTEX_SHADER,A),L=Bz(r,r.FRAGMENT_SHADER,C);r.attachShader(S,D),r.attachShader(S,L),t.index0AttributeName!==void 0?r.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(S,0,"position"),r.linkProgram(S);function P(F){if(n.debug.checkShaderErrors){const z=r.getProgramInfoLog(S).trim(),V=r.getShaderInfoLog(D).trim(),K=r.getShaderInfoLog(L).trim();let ee=!0,q=!0;if(r.getProgramParameter(S,r.LINK_STATUS)===!1)if(ee=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,S,D,L);else{const $=Vz(r,D,"vertex"),Q=Vz(r,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(S,r.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+z+`
`+$+`
`+Q)}else z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",z):(V===""||K==="")&&(q=!1);q&&(F.diagnostics={runnable:ee,programLog:z,vertexShader:{log:V,prefix:E},fragmentShader:{log:K,prefix:b}})}r.deleteShader(D),r.deleteShader(L),U=new a2(r,S),I=Ihe(r,S)}let U;this.getUniforms=function(){return U===void 0&&P(this),U};let I;this.getAttributes=function(){return I===void 0&&P(this),I};let N=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=r.getProgramParameter(S,She)),N},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(S),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Ehe++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=D,this.fragmentShader=L,this}let jhe=0;class Ghe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new qhe(e),t.set(e,i)),i}}class qhe{constructor(e){this.id=jhe++,this.code=e,this.usedTimes=0}}function Whe(n,e,t,i,r,s,a){const o=new G0,c=new Ghe,u=new Set,h=[],p=r.logarithmicDepthBuffer,y=r.vertexTextures;let v=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(I){return u.add(I),I===0?"uv":`uv${I}`}function E(I,N,F,z,V){const K=z.fog,ee=V.geometry,q=I.isMeshStandardMaterial?z.environment:null,$=(I.isMeshStandardMaterial?t:e).get(I.envMap||q),Q=$&&$.mapping===g_?$.image.height:null,re=_[I.type];I.precision!==null&&(v=r.getMaxPrecision(I.precision),v!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",v,"instead."));const de=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,Y=de!==void 0?de.length:0;let le=0;ee.morphAttributes.position!==void 0&&(le=1),ee.morphAttributes.normal!==void 0&&(le=2),ee.morphAttributes.color!==void 0&&(le=3);let pe,ue,ie,he;if(re){const Jt=fu[re];pe=Jt.vertexShader,ue=Jt.fragmentShader}else pe=I.vertexShader,ue=I.fragmentShader,c.update(I),ie=c.getVertexShaderID(I),he=c.getFragmentShaderID(I);const ye=n.getRenderTarget(),Ve=n.state.buffers.depth.getReversed(),Xe=V.isInstancedMesh===!0,Ge=V.isBatchedMesh===!0,rt=!!I.map,lt=!!I.matcap,pt=!!$,te=!!I.aoMap,Oe=!!I.lightMap,Be=!!I.bumpMap,Ne=!!I.normalMap,Me=!!I.displacementMap,ut=!!I.emissiveMap,qe=!!I.metalnessMap,ae=!!I.roughnessMap,J=I.anisotropy>0,Se=I.clearcoat>0,Ae=I.dispersion>0,Ze=I.iridescence>0,Re=I.sheen>0,ct=I.transmission>0,ft=J&&!!I.anisotropyMap,Dt=Se&&!!I.clearcoatMap,kt=Se&&!!I.clearcoatNormalMap,$e=Se&&!!I.clearcoatRoughnessMap,dt=Ze&&!!I.iridescenceMap,wt=Ze&&!!I.iridescenceThicknessMap,At=Re&&!!I.sheenColorMap,vt=Re&&!!I.sheenRoughnessMap,jt=!!I.specularMap,ot=!!I.specularColorMap,Lt=!!I.specularIntensityMap,ve=ct&&!!I.transmissionMap,gt=ct&&!!I.thicknessMap,Fe=!!I.gradientMap,Qe=!!I.alphaMap,xt=I.alphaTest>0,_t=!!I.alphaHash,Qt=!!I.extensions;let $n=Cf;I.toneMapped&&(ye===null||ye.isXRRenderTarget===!0)&&($n=n.toneMapping);const zt={shaderID:re,shaderType:I.type,shaderName:I.name,vertexShader:pe,fragmentShader:ue,defines:I.defines,customVertexShaderID:ie,customFragmentShaderID:he,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:v,batching:Ge,batchingColor:Ge&&V._colorsTexture!==null,instancing:Xe,instancingColor:Xe&&V.instanceColor!==null,instancingMorph:Xe&&V.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:ye===null?n.outputColorSpace:ye.isXRRenderTarget===!0?ye.texture.colorSpace:jp,alphaToCoverage:!!I.alphaToCoverage,map:rt,matcap:lt,envMap:pt,envMapMode:pt&&$.mapping,envMapCubeUVHeight:Q,aoMap:te,lightMap:Oe,bumpMap:Be,normalMap:Ne,displacementMap:y&&Me,emissiveMap:ut,normalMapObjectSpace:Ne&&I.normalMapType===bj,normalMapTangentSpace:Ne&&I.normalMapType===Yp,metalnessMap:qe,roughnessMap:ae,anisotropy:J,anisotropyMap:ft,clearcoat:Se,clearcoatMap:Dt,clearcoatNormalMap:kt,clearcoatRoughnessMap:$e,dispersion:Ae,iridescence:Ze,iridescenceMap:dt,iridescenceThicknessMap:wt,sheen:Re,sheenColorMap:At,sheenRoughnessMap:vt,specularMap:jt,specularColorMap:ot,specularIntensityMap:Lt,transmission:ct,transmissionMap:ve,thicknessMap:gt,gradientMap:Fe,opaque:I.transparent===!1&&I.blending===Bg&&I.alphaToCoverage===!1,alphaMap:Qe,alphaTest:xt,alphaHash:_t,combine:I.combine,mapUv:rt&&S(I.map.channel),aoMapUv:te&&S(I.aoMap.channel),lightMapUv:Oe&&S(I.lightMap.channel),bumpMapUv:Be&&S(I.bumpMap.channel),normalMapUv:Ne&&S(I.normalMap.channel),displacementMapUv:Me&&S(I.displacementMap.channel),emissiveMapUv:ut&&S(I.emissiveMap.channel),metalnessMapUv:qe&&S(I.metalnessMap.channel),roughnessMapUv:ae&&S(I.roughnessMap.channel),anisotropyMapUv:ft&&S(I.anisotropyMap.channel),clearcoatMapUv:Dt&&S(I.clearcoatMap.channel),clearcoatNormalMapUv:kt&&S(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:$e&&S(I.clearcoatRoughnessMap.channel),iridescenceMapUv:dt&&S(I.iridescenceMap.channel),iridescenceThicknessMapUv:wt&&S(I.iridescenceThicknessMap.channel),sheenColorMapUv:At&&S(I.sheenColorMap.channel),sheenRoughnessMapUv:vt&&S(I.sheenRoughnessMap.channel),specularMapUv:jt&&S(I.specularMap.channel),specularColorMapUv:ot&&S(I.specularColorMap.channel),specularIntensityMapUv:Lt&&S(I.specularIntensityMap.channel),transmissionMapUv:ve&&S(I.transmissionMap.channel),thicknessMapUv:gt&&S(I.thicknessMap.channel),alphaMapUv:Qe&&S(I.alphaMap.channel),vertexTangents:!!ee.attributes.tangent&&(Ne||J),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!ee.attributes.uv&&(rt||Qe),fog:!!K,useFog:I.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:p,reverseDepthBuffer:Ve,skinning:V.isSkinnedMesh===!0,morphTargets:ee.morphAttributes.position!==void 0,morphNormals:ee.morphAttributes.normal!==void 0,morphColors:ee.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:le,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&F.length>0,shadowMapType:n.shadowMap.type,toneMapping:$n,decodeVideoTexture:rt&&I.map.isVideoTexture===!0&&ci.getTransfer(I.map.colorSpace)===Bi,decodeVideoTextureEmissive:ut&&I.emissiveMap.isVideoTexture===!0&&ci.getTransfer(I.emissiveMap.colorSpace)===Bi,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===gf,flipSided:I.side===Oo,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:Qt&&I.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Qt&&I.extensions.multiDraw===!0||Ge)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return zt.vertexUv1s=u.has(1),zt.vertexUv2s=u.has(2),zt.vertexUv3s=u.has(3),u.clear(),zt}function b(I){const N=[];if(I.shaderID?N.push(I.shaderID):(N.push(I.customVertexShaderID),N.push(I.customFragmentShaderID)),I.defines!==void 0)for(const F in I.defines)N.push(F),N.push(I.defines[F]);return I.isRawShaderMaterial===!1&&(w(N,I),A(N,I),N.push(n.outputColorSpace)),N.push(I.customProgramCacheKey),N.join()}function w(I,N){I.push(N.precision),I.push(N.outputColorSpace),I.push(N.envMapMode),I.push(N.envMapCubeUVHeight),I.push(N.mapUv),I.push(N.alphaMapUv),I.push(N.lightMapUv),I.push(N.aoMapUv),I.push(N.bumpMapUv),I.push(N.normalMapUv),I.push(N.displacementMapUv),I.push(N.emissiveMapUv),I.push(N.metalnessMapUv),I.push(N.roughnessMapUv),I.push(N.anisotropyMapUv),I.push(N.clearcoatMapUv),I.push(N.clearcoatNormalMapUv),I.push(N.clearcoatRoughnessMapUv),I.push(N.iridescenceMapUv),I.push(N.iridescenceThicknessMapUv),I.push(N.sheenColorMapUv),I.push(N.sheenRoughnessMapUv),I.push(N.specularMapUv),I.push(N.specularColorMapUv),I.push(N.specularIntensityMapUv),I.push(N.transmissionMapUv),I.push(N.thicknessMapUv),I.push(N.combine),I.push(N.fogExp2),I.push(N.sizeAttenuation),I.push(N.morphTargetsCount),I.push(N.morphAttributeCount),I.push(N.numDirLights),I.push(N.numPointLights),I.push(N.numSpotLights),I.push(N.numSpotLightMaps),I.push(N.numHemiLights),I.push(N.numRectAreaLights),I.push(N.numDirLightShadows),I.push(N.numPointLightShadows),I.push(N.numSpotLightShadows),I.push(N.numSpotLightShadowsWithMaps),I.push(N.numLightProbes),I.push(N.shadowMapType),I.push(N.toneMapping),I.push(N.numClippingPlanes),I.push(N.numClipIntersection),I.push(N.depthPacking)}function A(I,N){o.disableAll(),N.supportsVertexTextures&&o.enable(0),N.instancing&&o.enable(1),N.instancingColor&&o.enable(2),N.instancingMorph&&o.enable(3),N.matcap&&o.enable(4),N.envMap&&o.enable(5),N.normalMapObjectSpace&&o.enable(6),N.normalMapTangentSpace&&o.enable(7),N.clearcoat&&o.enable(8),N.iridescence&&o.enable(9),N.alphaTest&&o.enable(10),N.vertexColors&&o.enable(11),N.vertexAlphas&&o.enable(12),N.vertexUv1s&&o.enable(13),N.vertexUv2s&&o.enable(14),N.vertexUv3s&&o.enable(15),N.vertexTangents&&o.enable(16),N.anisotropy&&o.enable(17),N.alphaHash&&o.enable(18),N.batching&&o.enable(19),N.dispersion&&o.enable(20),N.batchingColor&&o.enable(21),I.push(o.mask),o.disableAll(),N.fog&&o.enable(0),N.useFog&&o.enable(1),N.flatShading&&o.enable(2),N.logarithmicDepthBuffer&&o.enable(3),N.reverseDepthBuffer&&o.enable(4),N.skinning&&o.enable(5),N.morphTargets&&o.enable(6),N.morphNormals&&o.enable(7),N.morphColors&&o.enable(8),N.premultipliedAlpha&&o.enable(9),N.shadowMapEnabled&&o.enable(10),N.doubleSided&&o.enable(11),N.flipSided&&o.enable(12),N.useDepthPacking&&o.enable(13),N.dithering&&o.enable(14),N.transmission&&o.enable(15),N.sheen&&o.enable(16),N.opaque&&o.enable(17),N.pointsUvs&&o.enable(18),N.decodeVideoTexture&&o.enable(19),N.decodeVideoTextureEmissive&&o.enable(20),N.alphaToCoverage&&o.enable(21),I.push(o.mask)}function C(I){const N=_[I.type];let F;if(N){const z=fu[N];F=Nj.clone(z.uniforms)}else F=I.uniforms;return F}function D(I,N){let F;for(let z=0,V=h.length;z<V;z++){const K=h[z];if(K.cacheKey===N){F=K,++F.usedTimes;break}}return F===void 0&&(F=new Hhe(n,N,I,s),h.push(F)),F}function L(I){if(--I.usedTimes===0){const N=h.indexOf(I);h[N]=h[h.length-1],h.pop(),I.destroy()}}function P(I){c.remove(I)}function U(){c.dispose()}return{getParameters:E,getProgramCacheKey:b,getUniforms:C,acquireProgram:D,releaseProgram:L,releaseShaderCache:P,programs:h,dispose:U}}function $he(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function i(a){n.delete(a)}function r(a,o,c){n.get(a)[o]=c}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function Xhe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Wz(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function $z(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function a(p,y,v,_,S,E){let b=n[e];return b===void 0?(b={id:p.id,object:p,geometry:y,material:v,groupOrder:_,renderOrder:p.renderOrder,z:S,group:E},n[e]=b):(b.id=p.id,b.object=p,b.geometry=y,b.material=v,b.groupOrder=_,b.renderOrder=p.renderOrder,b.z=S,b.group=E),e++,b}function o(p,y,v,_,S,E){const b=a(p,y,v,_,S,E);v.transmission>0?i.push(b):v.transparent===!0?r.push(b):t.push(b)}function c(p,y,v,_,S,E){const b=a(p,y,v,_,S,E);v.transmission>0?i.unshift(b):v.transparent===!0?r.unshift(b):t.unshift(b)}function u(p,y){t.length>1&&t.sort(p||Xhe),i.length>1&&i.sort(y||Wz),r.length>1&&r.sort(y||Wz)}function h(){for(let p=e,y=n.length;p<y;p++){const v=n[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:o,unshift:c,finish:h,sort:u}}function Yhe(){let n=new WeakMap;function e(i,r){const s=n.get(i);let a;return s===void 0?(a=new $z,n.set(i,[a])):r>=s.length?(a=new $z,s.push(a)):a=s[r],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function Khe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new fe,color:new Ut};break;case"SpotLight":t={position:new fe,direction:new fe,color:new Ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new fe,color:new Ut,distance:0,decay:0};break;case"HemisphereLight":t={direction:new fe,skyColor:new Ut,groundColor:new Ut};break;case"RectAreaLight":t={color:new Ut,position:new fe,halfWidth:new fe,halfHeight:new fe};break}return n[e.id]=t,t}}}function Zhe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Qhe=0;function Jhe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function ede(n){const e=new Khe,t=Zhe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new fe);const r=new fe,s=new an,a=new an;function o(u){let h=0,p=0,y=0;for(let I=0;I<9;I++)i.probe[I].set(0,0,0);let v=0,_=0,S=0,E=0,b=0,w=0,A=0,C=0,D=0,L=0,P=0;u.sort(Jhe);for(let I=0,N=u.length;I<N;I++){const F=u[I],z=F.color,V=F.intensity,K=F.distance,ee=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)h+=z.r*V,p+=z.g*V,y+=z.b*V;else if(F.isLightProbe){for(let q=0;q<9;q++)i.probe[q].addScaledVector(F.sh.coefficients[q],V);P++}else if(F.isDirectionalLight){const q=e.get(F);if(q.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const $=F.shadow,Q=t.get(F);Q.shadowIntensity=$.intensity,Q.shadowBias=$.bias,Q.shadowNormalBias=$.normalBias,Q.shadowRadius=$.radius,Q.shadowMapSize=$.mapSize,i.directionalShadow[v]=Q,i.directionalShadowMap[v]=ee,i.directionalShadowMatrix[v]=F.shadow.matrix,w++}i.directional[v]=q,v++}else if(F.isSpotLight){const q=e.get(F);q.position.setFromMatrixPosition(F.matrixWorld),q.color.copy(z).multiplyScalar(V),q.distance=K,q.coneCos=Math.cos(F.angle),q.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),q.decay=F.decay,i.spot[S]=q;const $=F.shadow;if(F.map&&(i.spotLightMap[D]=F.map,D++,$.updateMatrices(F),F.castShadow&&L++),i.spotLightMatrix[S]=$.matrix,F.castShadow){const Q=t.get(F);Q.shadowIntensity=$.intensity,Q.shadowBias=$.bias,Q.shadowNormalBias=$.normalBias,Q.shadowRadius=$.radius,Q.shadowMapSize=$.mapSize,i.spotShadow[S]=Q,i.spotShadowMap[S]=ee,C++}S++}else if(F.isRectAreaLight){const q=e.get(F);q.color.copy(z).multiplyScalar(V),q.halfWidth.set(F.width*.5,0,0),q.halfHeight.set(0,F.height*.5,0),i.rectArea[E]=q,E++}else if(F.isPointLight){const q=e.get(F);if(q.color.copy(F.color).multiplyScalar(F.intensity),q.distance=F.distance,q.decay=F.decay,F.castShadow){const $=F.shadow,Q=t.get(F);Q.shadowIntensity=$.intensity,Q.shadowBias=$.bias,Q.shadowNormalBias=$.normalBias,Q.shadowRadius=$.radius,Q.shadowMapSize=$.mapSize,Q.shadowCameraNear=$.camera.near,Q.shadowCameraFar=$.camera.far,i.pointShadow[_]=Q,i.pointShadowMap[_]=ee,i.pointShadowMatrix[_]=F.shadow.matrix,A++}i.point[_]=q,_++}else if(F.isHemisphereLight){const q=e.get(F);q.skyColor.copy(F.color).multiplyScalar(V),q.groundColor.copy(F.groundColor).multiplyScalar(V),i.hemi[b]=q,b++}}E>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Pt.LTC_FLOAT_1,i.rectAreaLTC2=Pt.LTC_FLOAT_2):(i.rectAreaLTC1=Pt.LTC_HALF_1,i.rectAreaLTC2=Pt.LTC_HALF_2)),i.ambient[0]=h,i.ambient[1]=p,i.ambient[2]=y;const U=i.hash;(U.directionalLength!==v||U.pointLength!==_||U.spotLength!==S||U.rectAreaLength!==E||U.hemiLength!==b||U.numDirectionalShadows!==w||U.numPointShadows!==A||U.numSpotShadows!==C||U.numSpotMaps!==D||U.numLightProbes!==P)&&(i.directional.length=v,i.spot.length=S,i.rectArea.length=E,i.point.length=_,i.hemi.length=b,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=A,i.spotLightMatrix.length=C+D-L,i.spotLightMap.length=D,i.numSpotLightShadowsWithMaps=L,i.numLightProbes=P,U.directionalLength=v,U.pointLength=_,U.spotLength=S,U.rectAreaLength=E,U.hemiLength=b,U.numDirectionalShadows=w,U.numPointShadows=A,U.numSpotShadows=C,U.numSpotMaps=D,U.numLightProbes=P,i.version=Qhe++)}function c(u,h){let p=0,y=0,v=0,_=0,S=0;const E=h.matrixWorldInverse;for(let b=0,w=u.length;b<w;b++){const A=u[b];if(A.isDirectionalLight){const C=i.directional[p];C.direction.setFromMatrixPosition(A.matrixWorld),r.setFromMatrixPosition(A.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(E),p++}else if(A.isSpotLight){const C=i.spot[v];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(E),C.direction.setFromMatrixPosition(A.matrixWorld),r.setFromMatrixPosition(A.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(E),v++}else if(A.isRectAreaLight){const C=i.rectArea[_];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(E),a.identity(),s.copy(A.matrixWorld),s.premultiply(E),a.extractRotation(s),C.halfWidth.set(A.width*.5,0,0),C.halfHeight.set(0,A.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),_++}else if(A.isPointLight){const C=i.point[y];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(E),y++}else if(A.isHemisphereLight){const C=i.hemi[S];C.direction.setFromMatrixPosition(A.matrixWorld),C.direction.transformDirection(E),S++}}}return{setup:o,setupView:c,state:i}}function Xz(n){const e=new ede(n),t=[],i=[];function r(h){u.camera=h,t.length=0,i.length=0}function s(h){t.push(h)}function a(h){i.push(h)}function o(){e.setup(t)}function c(h){e.setupView(t,h)}const u={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:u,setupLights:o,setupLightsView:c,pushLight:s,pushShadow:a}}function tde(n){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let o;return a===void 0?(o=new Xz(n),e.set(r,[o])):s>=a.length?(o=new Xz(n),a.push(o)):o=a[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}const nde=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,ide=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function rde(n,e,t){let i=new v_;const r=new it,s=new it,a=new pi,o=new XN({depthPacking:_j}),c=new YN,u={},h=t.maxTextureSize,p={[Yh]:Oo,[Oo]:Yh,[gf]:gf},y=new _u({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new it},radius:{value:4}},vertexShader:nde,fragmentShader:ide}),v=y.clone();v.defines.HORIZONTAL_PASS=1;const _=new Nn;_.setAttribute("position",new Fi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new ts(_,y),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=MA;let b=this.type;this.render=function(L,P,U){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||L.length===0)return;const I=n.getRenderTarget(),N=n.getActiveCubeFace(),F=n.getActiveMipmapLevel(),z=n.state;z.setBlending(zh),z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const V=b!==cu&&this.type===cu,K=b===cu&&this.type!==cu;for(let ee=0,q=L.length;ee<q;ee++){const $=L[ee],Q=$.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",$,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;r.copy(Q.mapSize);const re=Q.getFrameExtents();if(r.multiply(re),s.copy(Q.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(s.x=Math.floor(h/re.x),r.x=s.x*re.x,Q.mapSize.x=s.x),r.y>h&&(s.y=Math.floor(h/re.y),r.y=s.y*re.y,Q.mapSize.y=s.y)),Q.map===null||V===!0||K===!0){const Y=this.type!==cu?{minFilter:Ea,magFilter:Ea}:{};Q.map!==null&&Q.map.dispose(),Q.map=new vu(r.x,r.y,Y),Q.map.texture.name=$.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const de=Q.getViewportCount();for(let Y=0;Y<de;Y++){const le=Q.getViewport(Y);a.set(s.x*le.x,s.y*le.y,s.x*le.z,s.y*le.w),z.viewport(a),Q.updateMatrices($,Y),i=Q.getFrustum(),C(P,U,Q.camera,$,this.type)}Q.isPointLightShadow!==!0&&this.type===cu&&w(Q,U),Q.needsUpdate=!1}b=this.type,E.needsUpdate=!1,n.setRenderTarget(I,N,F)};function w(L,P){const U=e.update(S);y.defines.VSM_SAMPLES!==L.blurSamples&&(y.defines.VSM_SAMPLES=L.blurSamples,v.defines.VSM_SAMPLES=L.blurSamples,y.needsUpdate=!0,v.needsUpdate=!0),L.mapPass===null&&(L.mapPass=new vu(r.x,r.y)),y.uniforms.shadow_pass.value=L.map.texture,y.uniforms.resolution.value=L.mapSize,y.uniforms.radius.value=L.radius,n.setRenderTarget(L.mapPass),n.clear(),n.renderBufferDirect(P,null,U,y,S,null),v.uniforms.shadow_pass.value=L.mapPass.texture,v.uniforms.resolution.value=L.mapSize,v.uniforms.radius.value=L.radius,n.setRenderTarget(L.map),n.clear(),n.renderBufferDirect(P,null,U,v,S,null)}function A(L,P,U,I){let N=null;const F=U.isPointLight===!0?L.customDistanceMaterial:L.customDepthMaterial;if(F!==void 0)N=F;else if(N=U.isPointLight===!0?c:o,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0||P.alphaToCoverage===!0){const z=N.uuid,V=P.uuid;let K=u[z];K===void 0&&(K={},u[z]=K);let ee=K[V];ee===void 0&&(ee=N.clone(),K[V]=ee,P.addEventListener("dispose",D)),N=ee}if(N.visible=P.visible,N.wireframe=P.wireframe,I===cu?N.side=P.shadowSide!==null?P.shadowSide:P.side:N.side=P.shadowSide!==null?P.shadowSide:p[P.side],N.alphaMap=P.alphaMap,N.alphaTest=P.alphaToCoverage===!0?.5:P.alphaTest,N.map=P.map,N.clipShadows=P.clipShadows,N.clippingPlanes=P.clippingPlanes,N.clipIntersection=P.clipIntersection,N.displacementMap=P.displacementMap,N.displacementScale=P.displacementScale,N.displacementBias=P.displacementBias,N.wireframeLinewidth=P.wireframeLinewidth,N.linewidth=P.linewidth,U.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const z=n.properties.get(N);z.light=U}return N}function C(L,P,U,I,N){if(L.visible===!1)return;if(L.layers.test(P.layers)&&(L.isMesh||L.isLine||L.isPoints)&&(L.castShadow||L.receiveShadow&&N===cu)&&(!L.frustumCulled||i.intersectsObject(L))){L.modelViewMatrix.multiplyMatrices(U.matrixWorldInverse,L.matrixWorld);const V=e.update(L),K=L.material;if(Array.isArray(K)){const ee=V.groups;for(let q=0,$=ee.length;q<$;q++){const Q=ee[q],re=K[Q.materialIndex];if(re&&re.visible){const de=A(L,re,I,N);L.onBeforeShadow(n,L,P,U,V,de,Q),n.renderBufferDirect(U,null,V,de,L,Q),L.onAfterShadow(n,L,P,U,V,de,Q)}}}else if(K.visible){const ee=A(L,K,I,N);L.onBeforeShadow(n,L,P,U,V,ee,null),n.renderBufferDirect(U,null,V,ee,L,null),L.onAfterShadow(n,L,P,U,V,ee,null)}}const z=L.children;for(let V=0,K=z.length;V<K;V++)C(z[V],P,U,I,N)}function D(L){L.target.removeEventListener("dispose",D);for(const U in u){const I=u[U],N=L.target.uuid;N in I&&(I[N].dispose(),delete I[N])}}}const sde={[Y2]:K2,[Z2]:eC,[Q2]:tC,[Yg]:J2,[K2]:Y2,[eC]:Z2,[tC]:Q2,[J2]:Yg};function ade(n,e){function t(){let ve=!1;const gt=new pi;let Fe=null;const Qe=new pi(0,0,0,0);return{setMask:function(xt){Fe!==xt&&!ve&&(n.colorMask(xt,xt,xt,xt),Fe=xt)},setLocked:function(xt){ve=xt},setClear:function(xt,_t,Qt,$n,zt){zt===!0&&(xt*=$n,_t*=$n,Qt*=$n),gt.set(xt,_t,Qt,$n),Qe.equals(gt)===!1&&(n.clearColor(xt,_t,Qt,$n),Qe.copy(gt))},reset:function(){ve=!1,Fe=null,Qe.set(-1,0,0,0)}}}function i(){let ve=!1,gt=!1,Fe=null,Qe=null,xt=null;return{setReversed:function(_t){if(gt!==_t){const Qt=e.get("EXT_clip_control");_t?Qt.clipControlEXT(Qt.LOWER_LEFT_EXT,Qt.ZERO_TO_ONE_EXT):Qt.clipControlEXT(Qt.LOWER_LEFT_EXT,Qt.NEGATIVE_ONE_TO_ONE_EXT),gt=_t;const $n=xt;xt=null,this.setClear($n)}},getReversed:function(){return gt},setTest:function(_t){_t?ye(n.DEPTH_TEST):Ve(n.DEPTH_TEST)},setMask:function(_t){Fe!==_t&&!ve&&(n.depthMask(_t),Fe=_t)},setFunc:function(_t){if(gt&&(_t=sde[_t]),Qe!==_t){switch(_t){case Y2:n.depthFunc(n.NEVER);break;case K2:n.depthFunc(n.ALWAYS);break;case Z2:n.depthFunc(n.LESS);break;case Yg:n.depthFunc(n.LEQUAL);break;case Q2:n.depthFunc(n.EQUAL);break;case J2:n.depthFunc(n.GEQUAL);break;case eC:n.depthFunc(n.GREATER);break;case tC:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Qe=_t}},setLocked:function(_t){ve=_t},setClear:function(_t){xt!==_t&&(gt&&(_t=1-_t),n.clearDepth(_t),xt=_t)},reset:function(){ve=!1,Fe=null,Qe=null,xt=null,gt=!1}}}function r(){let ve=!1,gt=null,Fe=null,Qe=null,xt=null,_t=null,Qt=null,$n=null,zt=null;return{setTest:function(Jt){ve||(Jt?ye(n.STENCIL_TEST):Ve(n.STENCIL_TEST))},setMask:function(Jt){gt!==Jt&&!ve&&(n.stencilMask(Jt),gt=Jt)},setFunc:function(Jt,St,Mt){(Fe!==Jt||Qe!==St||xt!==Mt)&&(n.stencilFunc(Jt,St,Mt),Fe=Jt,Qe=St,xt=Mt)},setOp:function(Jt,St,Mt){(_t!==Jt||Qt!==St||$n!==Mt)&&(n.stencilOp(Jt,St,Mt),_t=Jt,Qt=St,$n=Mt)},setLocked:function(Jt){ve=Jt},setClear:function(Jt){zt!==Jt&&(n.clearStencil(Jt),zt=Jt)},reset:function(){ve=!1,gt=null,Fe=null,Qe=null,xt=null,_t=null,Qt=null,$n=null,zt=null}}}const s=new t,a=new i,o=new r,c=new WeakMap,u=new WeakMap;let h={},p={},y=new WeakMap,v=[],_=null,S=!1,E=null,b=null,w=null,A=null,C=null,D=null,L=null,P=new Ut(0,0,0),U=0,I=!1,N=null,F=null,z=null,V=null,K=null;const ee=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,$=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?($=parseFloat(/^WebGL (\d)/.exec(Q)[1]),q=$>=1):Q.indexOf("OpenGL ES")!==-1&&($=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),q=$>=2);let re=null,de={};const Y=n.getParameter(n.SCISSOR_BOX),le=n.getParameter(n.VIEWPORT),pe=new pi().fromArray(Y),ue=new pi().fromArray(le);function ie(ve,gt,Fe,Qe){const xt=new Uint8Array(4),_t=n.createTexture();n.bindTexture(ve,_t),n.texParameteri(ve,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ve,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Qt=0;Qt<Fe;Qt++)ve===n.TEXTURE_3D||ve===n.TEXTURE_2D_ARRAY?n.texImage3D(gt,0,n.RGBA,1,1,Qe,0,n.RGBA,n.UNSIGNED_BYTE,xt):n.texImage2D(gt+Qt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,xt);return _t}const he={};he[n.TEXTURE_2D]=ie(n.TEXTURE_2D,n.TEXTURE_2D,1),he[n.TEXTURE_CUBE_MAP]=ie(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),he[n.TEXTURE_2D_ARRAY]=ie(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),he[n.TEXTURE_3D]=ie(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),ye(n.DEPTH_TEST),a.setFunc(Yg),Be(!1),Ne(KI),ye(n.CULL_FACE),te(zh);function ye(ve){h[ve]!==!0&&(n.enable(ve),h[ve]=!0)}function Ve(ve){h[ve]!==!1&&(n.disable(ve),h[ve]=!1)}function Xe(ve,gt){return p[ve]!==gt?(n.bindFramebuffer(ve,gt),p[ve]=gt,ve===n.DRAW_FRAMEBUFFER&&(p[n.FRAMEBUFFER]=gt),ve===n.FRAMEBUFFER&&(p[n.DRAW_FRAMEBUFFER]=gt),!0):!1}function Ge(ve,gt){let Fe=v,Qe=!1;if(ve){Fe=y.get(gt),Fe===void 0&&(Fe=[],y.set(gt,Fe));const xt=ve.textures;if(Fe.length!==xt.length||Fe[0]!==n.COLOR_ATTACHMENT0){for(let _t=0,Qt=xt.length;_t<Qt;_t++)Fe[_t]=n.COLOR_ATTACHMENT0+_t;Fe.length=xt.length,Qe=!0}}else Fe[0]!==n.BACK&&(Fe[0]=n.BACK,Qe=!0);Qe&&n.drawBuffers(Fe)}function rt(ve){return _!==ve?(n.useProgram(ve),_=ve,!0):!1}const lt={[mp]:n.FUNC_ADD,[jH]:n.FUNC_SUBTRACT,[GH]:n.FUNC_REVERSE_SUBTRACT};lt[qH]=n.MIN,lt[WH]=n.MAX;const pt={[$H]:n.ZERO,[XH]:n.ONE,[YH]:n.SRC_COLOR,[$2]:n.SRC_ALPHA,[tj]:n.SRC_ALPHA_SATURATE,[JH]:n.DST_COLOR,[ZH]:n.DST_ALPHA,[KH]:n.ONE_MINUS_SRC_COLOR,[X2]:n.ONE_MINUS_SRC_ALPHA,[ej]:n.ONE_MINUS_DST_COLOR,[QH]:n.ONE_MINUS_DST_ALPHA,[nj]:n.CONSTANT_COLOR,[ij]:n.ONE_MINUS_CONSTANT_COLOR,[rj]:n.CONSTANT_ALPHA,[sj]:n.ONE_MINUS_CONSTANT_ALPHA};function te(ve,gt,Fe,Qe,xt,_t,Qt,$n,zt,Jt){if(ve===zh){S===!0&&(Ve(n.BLEND),S=!1);return}if(S===!1&&(ye(n.BLEND),S=!0),ve!==HH){if(ve!==E||Jt!==I){if((b!==mp||C!==mp)&&(n.blendEquation(n.FUNC_ADD),b=mp,C=mp),Jt)switch(ve){case Bg:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case ZI:n.blendFunc(n.ONE,n.ONE);break;case QI:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case JI:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ve);break}else switch(ve){case Bg:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case ZI:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case QI:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case JI:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ve);break}w=null,A=null,D=null,L=null,P.set(0,0,0),U=0,E=ve,I=Jt}return}xt=xt||gt,_t=_t||Fe,Qt=Qt||Qe,(gt!==b||xt!==C)&&(n.blendEquationSeparate(lt[gt],lt[xt]),b=gt,C=xt),(Fe!==w||Qe!==A||_t!==D||Qt!==L)&&(n.blendFuncSeparate(pt[Fe],pt[Qe],pt[_t],pt[Qt]),w=Fe,A=Qe,D=_t,L=Qt),($n.equals(P)===!1||zt!==U)&&(n.blendColor($n.r,$n.g,$n.b,zt),P.copy($n),U=zt),E=ve,I=!1}function Oe(ve,gt){ve.side===gf?Ve(n.CULL_FACE):ye(n.CULL_FACE);let Fe=ve.side===Oo;gt&&(Fe=!Fe),Be(Fe),ve.blending===Bg&&ve.transparent===!1?te(zh):te(ve.blending,ve.blendEquation,ve.blendSrc,ve.blendDst,ve.blendEquationAlpha,ve.blendSrcAlpha,ve.blendDstAlpha,ve.blendColor,ve.blendAlpha,ve.premultipliedAlpha),a.setFunc(ve.depthFunc),a.setTest(ve.depthTest),a.setMask(ve.depthWrite),s.setMask(ve.colorWrite);const Qe=ve.stencilWrite;o.setTest(Qe),Qe&&(o.setMask(ve.stencilWriteMask),o.setFunc(ve.stencilFunc,ve.stencilRef,ve.stencilFuncMask),o.setOp(ve.stencilFail,ve.stencilZFail,ve.stencilZPass)),ut(ve.polygonOffset,ve.polygonOffsetFactor,ve.polygonOffsetUnits),ve.alphaToCoverage===!0?ye(n.SAMPLE_ALPHA_TO_COVERAGE):Ve(n.SAMPLE_ALPHA_TO_COVERAGE)}function Be(ve){N!==ve&&(ve?n.frontFace(n.CW):n.frontFace(n.CCW),N=ve)}function Ne(ve){ve!==BH?(ye(n.CULL_FACE),ve!==F&&(ve===KI?n.cullFace(n.BACK):ve===FH?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ve(n.CULL_FACE),F=ve}function Me(ve){ve!==z&&(q&&n.lineWidth(ve),z=ve)}function ut(ve,gt,Fe){ve?(ye(n.POLYGON_OFFSET_FILL),(V!==gt||K!==Fe)&&(n.polygonOffset(gt,Fe),V=gt,K=Fe)):Ve(n.POLYGON_OFFSET_FILL)}function qe(ve){ve?ye(n.SCISSOR_TEST):Ve(n.SCISSOR_TEST)}function ae(ve){ve===void 0&&(ve=n.TEXTURE0+ee-1),re!==ve&&(n.activeTexture(ve),re=ve)}function J(ve,gt,Fe){Fe===void 0&&(re===null?Fe=n.TEXTURE0+ee-1:Fe=re);let Qe=de[Fe];Qe===void 0&&(Qe={type:void 0,texture:void 0},de[Fe]=Qe),(Qe.type!==ve||Qe.texture!==gt)&&(re!==Fe&&(n.activeTexture(Fe),re=Fe),n.bindTexture(ve,gt||he[ve]),Qe.type=ve,Qe.texture=gt)}function Se(){const ve=de[re];ve!==void 0&&ve.type!==void 0&&(n.bindTexture(ve.type,null),ve.type=void 0,ve.texture=void 0)}function Ae(){try{n.compressedTexImage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Ze(){try{n.compressedTexImage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Re(){try{n.texSubImage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function ct(){try{n.texSubImage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function ft(){try{n.compressedTexSubImage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Dt(){try{n.compressedTexSubImage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function kt(){try{n.texStorage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function $e(){try{n.texStorage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function dt(){try{n.texImage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function wt(){try{n.texImage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function At(ve){pe.equals(ve)===!1&&(n.scissor(ve.x,ve.y,ve.z,ve.w),pe.copy(ve))}function vt(ve){ue.equals(ve)===!1&&(n.viewport(ve.x,ve.y,ve.z,ve.w),ue.copy(ve))}function jt(ve,gt){let Fe=u.get(gt);Fe===void 0&&(Fe=new WeakMap,u.set(gt,Fe));let Qe=Fe.get(ve);Qe===void 0&&(Qe=n.getUniformBlockIndex(gt,ve.name),Fe.set(ve,Qe))}function ot(ve,gt){const Qe=u.get(gt).get(ve);c.get(gt)!==Qe&&(n.uniformBlockBinding(gt,Qe,ve.__bindingPointIndex),c.set(gt,Qe))}function Lt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},re=null,de={},p={},y=new WeakMap,v=[],_=null,S=!1,E=null,b=null,w=null,A=null,C=null,D=null,L=null,P=new Ut(0,0,0),U=0,I=!1,N=null,F=null,z=null,V=null,K=null,pe.set(0,0,n.canvas.width,n.canvas.height),ue.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:ye,disable:Ve,bindFramebuffer:Xe,drawBuffers:Ge,useProgram:rt,setBlending:te,setMaterial:Oe,setFlipSided:Be,setCullFace:Ne,setLineWidth:Me,setPolygonOffset:ut,setScissorTest:qe,activeTexture:ae,bindTexture:J,unbindTexture:Se,compressedTexImage2D:Ae,compressedTexImage3D:Ze,texImage2D:dt,texImage3D:wt,updateUBOMapping:jt,uniformBlockBinding:ot,texStorage2D:kt,texStorage3D:$e,texSubImage2D:Re,texSubImage3D:ct,compressedTexSubImage2D:ft,compressedTexSubImage3D:Dt,scissor:At,viewport:vt,reset:Lt}}function ode(n,e,t,i,r,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new it,h=new WeakMap;let p;const y=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(ae,J){return v?new OffscreenCanvas(ae,J):Gx("canvas")}function S(ae,J,Se){let Ae=1;const Ze=qe(ae);if((Ze.width>Se||Ze.height>Se)&&(Ae=Se/Math.max(Ze.width,Ze.height)),Ae<1)if(typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ae instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ae instanceof ImageBitmap||typeof VideoFrame<"u"&&ae instanceof VideoFrame){const Re=Math.floor(Ae*Ze.width),ct=Math.floor(Ae*Ze.height);p===void 0&&(p=_(Re,ct));const ft=J?_(Re,ct):p;return ft.width=Re,ft.height=ct,ft.getContext("2d").drawImage(ae,0,0,Re,ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ze.width+"x"+Ze.height+") to ("+Re+"x"+ct+")."),ft}else return"data"in ae&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ze.width+"x"+Ze.height+")."),ae;return ae}function E(ae){return ae.generateMipmaps}function b(ae){n.generateMipmap(ae)}function w(ae){return ae.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ae.isWebGL3DRenderTarget?n.TEXTURE_3D:ae.isWebGLArrayRenderTarget||ae.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function A(ae,J,Se,Ae,Ze=!1){if(ae!==null){if(n[ae]!==void 0)return n[ae];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ae+"'")}let Re=J;if(J===n.RED&&(Se===n.FLOAT&&(Re=n.R32F),Se===n.HALF_FLOAT&&(Re=n.R16F),Se===n.UNSIGNED_BYTE&&(Re=n.R8)),J===n.RED_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Re=n.R8UI),Se===n.UNSIGNED_SHORT&&(Re=n.R16UI),Se===n.UNSIGNED_INT&&(Re=n.R32UI),Se===n.BYTE&&(Re=n.R8I),Se===n.SHORT&&(Re=n.R16I),Se===n.INT&&(Re=n.R32I)),J===n.RG&&(Se===n.FLOAT&&(Re=n.RG32F),Se===n.HALF_FLOAT&&(Re=n.RG16F),Se===n.UNSIGNED_BYTE&&(Re=n.RG8)),J===n.RG_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Re=n.RG8UI),Se===n.UNSIGNED_SHORT&&(Re=n.RG16UI),Se===n.UNSIGNED_INT&&(Re=n.RG32UI),Se===n.BYTE&&(Re=n.RG8I),Se===n.SHORT&&(Re=n.RG16I),Se===n.INT&&(Re=n.RG32I)),J===n.RGB_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Re=n.RGB8UI),Se===n.UNSIGNED_SHORT&&(Re=n.RGB16UI),Se===n.UNSIGNED_INT&&(Re=n.RGB32UI),Se===n.BYTE&&(Re=n.RGB8I),Se===n.SHORT&&(Re=n.RGB16I),Se===n.INT&&(Re=n.RGB32I)),J===n.RGBA_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Re=n.RGBA8UI),Se===n.UNSIGNED_SHORT&&(Re=n.RGBA16UI),Se===n.UNSIGNED_INT&&(Re=n.RGBA32UI),Se===n.BYTE&&(Re=n.RGBA8I),Se===n.SHORT&&(Re=n.RGBA16I),Se===n.INT&&(Re=n.RGBA32I)),J===n.RGB&&Se===n.UNSIGNED_INT_5_9_9_9_REV&&(Re=n.RGB9_E5),J===n.RGBA){const ct=Ze?Vx:ci.getTransfer(Ae);Se===n.FLOAT&&(Re=n.RGBA32F),Se===n.HALF_FLOAT&&(Re=n.RGBA16F),Se===n.UNSIGNED_BYTE&&(Re=ct===Bi?n.SRGB8_ALPHA8:n.RGBA8),Se===n.UNSIGNED_SHORT_4_4_4_4&&(Re=n.RGBA4),Se===n.UNSIGNED_SHORT_5_5_5_1&&(Re=n.RGB5_A1)}return(Re===n.R16F||Re===n.R32F||Re===n.RG16F||Re===n.RG32F||Re===n.RGBA16F||Re===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Re}function C(ae,J){let Se;return ae?J===null||J===Zh||J===F0?Se=n.DEPTH24_STENCIL8:J===Ro?Se=n.DEPTH32F_STENCIL8:J===B0&&(Se=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):J===null||J===Zh||J===F0?Se=n.DEPTH_COMPONENT24:J===Ro?Se=n.DEPTH_COMPONENT32F:J===B0&&(Se=n.DEPTH_COMPONENT16),Se}function D(ae,J){return E(ae)===!0||ae.isFramebufferTexture&&ae.minFilter!==Ea&&ae.minFilter!==hs?Math.log2(Math.max(J.width,J.height))+1:ae.mipmaps!==void 0&&ae.mipmaps.length>0?ae.mipmaps.length:ae.isCompressedTexture&&Array.isArray(ae.image)?J.mipmaps.length:1}function L(ae){const J=ae.target;J.removeEventListener("dispose",L),U(J),J.isVideoTexture&&h.delete(J)}function P(ae){const J=ae.target;J.removeEventListener("dispose",P),N(J)}function U(ae){const J=i.get(ae);if(J.__webglInit===void 0)return;const Se=ae.source,Ae=y.get(Se);if(Ae){const Ze=Ae[J.__cacheKey];Ze.usedTimes--,Ze.usedTimes===0&&I(ae),Object.keys(Ae).length===0&&y.delete(Se)}i.remove(ae)}function I(ae){const J=i.get(ae);n.deleteTexture(J.__webglTexture);const Se=ae.source,Ae=y.get(Se);delete Ae[J.__cacheKey],a.memory.textures--}function N(ae){const J=i.get(ae);if(ae.depthTexture&&(ae.depthTexture.dispose(),i.remove(ae.depthTexture)),ae.isWebGLCubeRenderTarget)for(let Ae=0;Ae<6;Ae++){if(Array.isArray(J.__webglFramebuffer[Ae]))for(let Ze=0;Ze<J.__webglFramebuffer[Ae].length;Ze++)n.deleteFramebuffer(J.__webglFramebuffer[Ae][Ze]);else n.deleteFramebuffer(J.__webglFramebuffer[Ae]);J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer[Ae])}else{if(Array.isArray(J.__webglFramebuffer))for(let Ae=0;Ae<J.__webglFramebuffer.length;Ae++)n.deleteFramebuffer(J.__webglFramebuffer[Ae]);else n.deleteFramebuffer(J.__webglFramebuffer);if(J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer),J.__webglMultisampledFramebuffer&&n.deleteFramebuffer(J.__webglMultisampledFramebuffer),J.__webglColorRenderbuffer)for(let Ae=0;Ae<J.__webglColorRenderbuffer.length;Ae++)J.__webglColorRenderbuffer[Ae]&&n.deleteRenderbuffer(J.__webglColorRenderbuffer[Ae]);J.__webglDepthRenderbuffer&&n.deleteRenderbuffer(J.__webglDepthRenderbuffer)}const Se=ae.textures;for(let Ae=0,Ze=Se.length;Ae<Ze;Ae++){const Re=i.get(Se[Ae]);Re.__webglTexture&&(n.deleteTexture(Re.__webglTexture),a.memory.textures--),i.remove(Se[Ae])}i.remove(ae)}let F=0;function z(){F=0}function V(){const ae=F;return ae>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ae+" texture units while this GPU supports only "+r.maxTextures),F+=1,ae}function K(ae){const J=[];return J.push(ae.wrapS),J.push(ae.wrapT),J.push(ae.wrapR||0),J.push(ae.magFilter),J.push(ae.minFilter),J.push(ae.anisotropy),J.push(ae.internalFormat),J.push(ae.format),J.push(ae.type),J.push(ae.generateMipmaps),J.push(ae.premultiplyAlpha),J.push(ae.flipY),J.push(ae.unpackAlignment),J.push(ae.colorSpace),J.join()}function ee(ae,J){const Se=i.get(ae);if(ae.isVideoTexture&&Me(ae),ae.isRenderTargetTexture===!1&&ae.version>0&&Se.__version!==ae.version){const Ae=ae.image;if(Ae===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ae.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ue(Se,ae,J);return}}t.bindTexture(n.TEXTURE_2D,Se.__webglTexture,n.TEXTURE0+J)}function q(ae,J){const Se=i.get(ae);if(ae.version>0&&Se.__version!==ae.version){ue(Se,ae,J);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Se.__webglTexture,n.TEXTURE0+J)}function $(ae,J){const Se=i.get(ae);if(ae.version>0&&Se.__version!==ae.version){ue(Se,ae,J);return}t.bindTexture(n.TEXTURE_3D,Se.__webglTexture,n.TEXTURE0+J)}function Q(ae,J){const Se=i.get(ae);if(ae.version>0&&Se.__version!==ae.version){ie(Se,ae,J);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Se.__webglTexture,n.TEXTURE0+J)}const re={[kx]:n.REPEAT,[Sc]:n.CLAMP_TO_EDGE,[zx]:n.MIRRORED_REPEAT},de={[Ea]:n.NEAREST,[TN]:n.NEAREST_MIPMAP_NEAREST,[r0]:n.NEAREST_MIPMAP_LINEAR,[hs]:n.LINEAR,[Jb]:n.LINEAR_MIPMAP_NEAREST,[_f]:n.LINEAR_MIPMAP_LINEAR},Y={[xj]:n.NEVER,[Aj]:n.ALWAYS,[Sj]:n.LESS,[DN]:n.LEQUAL,[Ej]:n.EQUAL,[Cj]:n.GEQUAL,[Tj]:n.GREATER,[wj]:n.NOTEQUAL};function le(ae,J){if(J.type===Ro&&e.has("OES_texture_float_linear")===!1&&(J.magFilter===hs||J.magFilter===Jb||J.magFilter===r0||J.magFilter===_f||J.minFilter===hs||J.minFilter===Jb||J.minFilter===r0||J.minFilter===_f)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ae,n.TEXTURE_WRAP_S,re[J.wrapS]),n.texParameteri(ae,n.TEXTURE_WRAP_T,re[J.wrapT]),(ae===n.TEXTURE_3D||ae===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ae,n.TEXTURE_WRAP_R,re[J.wrapR]),n.texParameteri(ae,n.TEXTURE_MAG_FILTER,de[J.magFilter]),n.texParameteri(ae,n.TEXTURE_MIN_FILTER,de[J.minFilter]),J.compareFunction&&(n.texParameteri(ae,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ae,n.TEXTURE_COMPARE_FUNC,Y[J.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(J.magFilter===Ea||J.minFilter!==r0&&J.minFilter!==_f||J.type===Ro&&e.has("OES_texture_float_linear")===!1)return;if(J.anisotropy>1||i.get(J).__currentAnisotropy){const Se=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ae,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(J.anisotropy,r.getMaxAnisotropy())),i.get(J).__currentAnisotropy=J.anisotropy}}}function pe(ae,J){let Se=!1;ae.__webglInit===void 0&&(ae.__webglInit=!0,J.addEventListener("dispose",L));const Ae=J.source;let Ze=y.get(Ae);Ze===void 0&&(Ze={},y.set(Ae,Ze));const Re=K(J);if(Re!==ae.__cacheKey){Ze[Re]===void 0&&(Ze[Re]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,Se=!0),Ze[Re].usedTimes++;const ct=Ze[ae.__cacheKey];ct!==void 0&&(Ze[ae.__cacheKey].usedTimes--,ct.usedTimes===0&&I(J)),ae.__cacheKey=Re,ae.__webglTexture=Ze[Re].texture}return Se}function ue(ae,J,Se){let Ae=n.TEXTURE_2D;(J.isDataArrayTexture||J.isCompressedArrayTexture)&&(Ae=n.TEXTURE_2D_ARRAY),J.isData3DTexture&&(Ae=n.TEXTURE_3D);const Ze=pe(ae,J),Re=J.source;t.bindTexture(Ae,ae.__webglTexture,n.TEXTURE0+Se);const ct=i.get(Re);if(Re.version!==ct.__version||Ze===!0){t.activeTexture(n.TEXTURE0+Se);const ft=ci.getPrimaries(ci.workingColorSpace),Dt=J.colorSpace===Oh?null:ci.getPrimaries(J.colorSpace),kt=J.colorSpace===Oh||ft===Dt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,J.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,J.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,kt);let $e=S(J.image,!1,r.maxTextureSize);$e=ut(J,$e);const dt=s.convert(J.format,J.colorSpace),wt=s.convert(J.type);let At=A(J.internalFormat,dt,wt,J.colorSpace,J.isVideoTexture);le(Ae,J);let vt;const jt=J.mipmaps,ot=J.isVideoTexture!==!0,Lt=ct.__version===void 0||Ze===!0,ve=Re.dataReady,gt=D(J,$e);if(J.isDepthTexture)At=C(J.format===H0,J.type),Lt&&(ot?t.texStorage2D(n.TEXTURE_2D,1,At,$e.width,$e.height):t.texImage2D(n.TEXTURE_2D,0,At,$e.width,$e.height,0,dt,wt,null));else if(J.isDataTexture)if(jt.length>0){ot&&Lt&&t.texStorage2D(n.TEXTURE_2D,gt,At,jt[0].width,jt[0].height);for(let Fe=0,Qe=jt.length;Fe<Qe;Fe++)vt=jt[Fe],ot?ve&&t.texSubImage2D(n.TEXTURE_2D,Fe,0,0,vt.width,vt.height,dt,wt,vt.data):t.texImage2D(n.TEXTURE_2D,Fe,At,vt.width,vt.height,0,dt,wt,vt.data);J.generateMipmaps=!1}else ot?(Lt&&t.texStorage2D(n.TEXTURE_2D,gt,At,$e.width,$e.height),ve&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,$e.width,$e.height,dt,wt,$e.data)):t.texImage2D(n.TEXTURE_2D,0,At,$e.width,$e.height,0,dt,wt,$e.data);else if(J.isCompressedTexture)if(J.isCompressedArrayTexture){ot&&Lt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,gt,At,jt[0].width,jt[0].height,$e.depth);for(let Fe=0,Qe=jt.length;Fe<Qe;Fe++)if(vt=jt[Fe],J.format!==Qa)if(dt!==null)if(ot){if(ve)if(J.layerUpdates.size>0){const xt=cP(vt.width,vt.height,J.format,J.type);for(const _t of J.layerUpdates){const Qt=vt.data.subarray(_t*xt/vt.data.BYTES_PER_ELEMENT,(_t+1)*xt/vt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Fe,0,0,_t,vt.width,vt.height,1,dt,Qt)}J.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Fe,0,0,0,vt.width,vt.height,$e.depth,dt,vt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Fe,At,vt.width,vt.height,$e.depth,0,vt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ot?ve&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Fe,0,0,0,vt.width,vt.height,$e.depth,dt,wt,vt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Fe,At,vt.width,vt.height,$e.depth,0,dt,wt,vt.data)}else{ot&&Lt&&t.texStorage2D(n.TEXTURE_2D,gt,At,jt[0].width,jt[0].height);for(let Fe=0,Qe=jt.length;Fe<Qe;Fe++)vt=jt[Fe],J.format!==Qa?dt!==null?ot?ve&&t.compressedTexSubImage2D(n.TEXTURE_2D,Fe,0,0,vt.width,vt.height,dt,vt.data):t.compressedTexImage2D(n.TEXTURE_2D,Fe,At,vt.width,vt.height,0,vt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ot?ve&&t.texSubImage2D(n.TEXTURE_2D,Fe,0,0,vt.width,vt.height,dt,wt,vt.data):t.texImage2D(n.TEXTURE_2D,Fe,At,vt.width,vt.height,0,dt,wt,vt.data)}else if(J.isDataArrayTexture)if(ot){if(Lt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,gt,At,$e.width,$e.height,$e.depth),ve)if(J.layerUpdates.size>0){const Fe=cP($e.width,$e.height,J.format,J.type);for(const Qe of J.layerUpdates){const xt=$e.data.subarray(Qe*Fe/$e.data.BYTES_PER_ELEMENT,(Qe+1)*Fe/$e.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Qe,$e.width,$e.height,1,dt,wt,xt)}J.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,$e.width,$e.height,$e.depth,dt,wt,$e.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,At,$e.width,$e.height,$e.depth,0,dt,wt,$e.data);else if(J.isData3DTexture)ot?(Lt&&t.texStorage3D(n.TEXTURE_3D,gt,At,$e.width,$e.height,$e.depth),ve&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,$e.width,$e.height,$e.depth,dt,wt,$e.data)):t.texImage3D(n.TEXTURE_3D,0,At,$e.width,$e.height,$e.depth,0,dt,wt,$e.data);else if(J.isFramebufferTexture){if(Lt)if(ot)t.texStorage2D(n.TEXTURE_2D,gt,At,$e.width,$e.height);else{let Fe=$e.width,Qe=$e.height;for(let xt=0;xt<gt;xt++)t.texImage2D(n.TEXTURE_2D,xt,At,Fe,Qe,0,dt,wt,null),Fe>>=1,Qe>>=1}}else if(jt.length>0){if(ot&&Lt){const Fe=qe(jt[0]);t.texStorage2D(n.TEXTURE_2D,gt,At,Fe.width,Fe.height)}for(let Fe=0,Qe=jt.length;Fe<Qe;Fe++)vt=jt[Fe],ot?ve&&t.texSubImage2D(n.TEXTURE_2D,Fe,0,0,dt,wt,vt):t.texImage2D(n.TEXTURE_2D,Fe,At,dt,wt,vt);J.generateMipmaps=!1}else if(ot){if(Lt){const Fe=qe($e);t.texStorage2D(n.TEXTURE_2D,gt,At,Fe.width,Fe.height)}ve&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,dt,wt,$e)}else t.texImage2D(n.TEXTURE_2D,0,At,dt,wt,$e);E(J)&&b(Ae),ct.__version=Re.version,J.onUpdate&&J.onUpdate(J)}ae.__version=J.version}function ie(ae,J,Se){if(J.image.length!==6)return;const Ae=pe(ae,J),Ze=J.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ae.__webglTexture,n.TEXTURE0+Se);const Re=i.get(Ze);if(Ze.version!==Re.__version||Ae===!0){t.activeTexture(n.TEXTURE0+Se);const ct=ci.getPrimaries(ci.workingColorSpace),ft=J.colorSpace===Oh?null:ci.getPrimaries(J.colorSpace),Dt=J.colorSpace===Oh||ct===ft?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,J.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,J.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Dt);const kt=J.isCompressedTexture||J.image[0].isCompressedTexture,$e=J.image[0]&&J.image[0].isDataTexture,dt=[];for(let Qe=0;Qe<6;Qe++)!kt&&!$e?dt[Qe]=S(J.image[Qe],!0,r.maxCubemapSize):dt[Qe]=$e?J.image[Qe].image:J.image[Qe],dt[Qe]=ut(J,dt[Qe]);const wt=dt[0],At=s.convert(J.format,J.colorSpace),vt=s.convert(J.type),jt=A(J.internalFormat,At,vt,J.colorSpace),ot=J.isVideoTexture!==!0,Lt=Re.__version===void 0||Ae===!0,ve=Ze.dataReady;let gt=D(J,wt);le(n.TEXTURE_CUBE_MAP,J);let Fe;if(kt){ot&&Lt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,gt,jt,wt.width,wt.height);for(let Qe=0;Qe<6;Qe++){Fe=dt[Qe].mipmaps;for(let xt=0;xt<Fe.length;xt++){const _t=Fe[xt];J.format!==Qa?At!==null?ot?ve&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt,0,0,_t.width,_t.height,At,_t.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt,jt,_t.width,_t.height,0,_t.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ot?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt,0,0,_t.width,_t.height,At,vt,_t.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt,jt,_t.width,_t.height,0,At,vt,_t.data)}}}else{if(Fe=J.mipmaps,ot&&Lt){Fe.length>0&&gt++;const Qe=qe(dt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,gt,jt,Qe.width,Qe.height)}for(let Qe=0;Qe<6;Qe++)if($e){ot?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,dt[Qe].width,dt[Qe].height,At,vt,dt[Qe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,jt,dt[Qe].width,dt[Qe].height,0,At,vt,dt[Qe].data);for(let xt=0;xt<Fe.length;xt++){const Qt=Fe[xt].image[Qe].image;ot?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt+1,0,0,Qt.width,Qt.height,At,vt,Qt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt+1,jt,Qt.width,Qt.height,0,At,vt,Qt.data)}}else{ot?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,At,vt,dt[Qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,jt,At,vt,dt[Qe]);for(let xt=0;xt<Fe.length;xt++){const _t=Fe[xt];ot?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt+1,0,0,At,vt,_t.image[Qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt+1,jt,At,vt,_t.image[Qe])}}}E(J)&&b(n.TEXTURE_CUBE_MAP),Re.__version=Ze.version,J.onUpdate&&J.onUpdate(J)}ae.__version=J.version}function he(ae,J,Se,Ae,Ze,Re){const ct=s.convert(Se.format,Se.colorSpace),ft=s.convert(Se.type),Dt=A(Se.internalFormat,ct,ft,Se.colorSpace),kt=i.get(J),$e=i.get(Se);if($e.__renderTarget=J,!kt.__hasExternalTextures){const dt=Math.max(1,J.width>>Re),wt=Math.max(1,J.height>>Re);Ze===n.TEXTURE_3D||Ze===n.TEXTURE_2D_ARRAY?t.texImage3D(Ze,Re,Dt,dt,wt,J.depth,0,ct,ft,null):t.texImage2D(Ze,Re,Dt,dt,wt,0,ct,ft,null)}t.bindFramebuffer(n.FRAMEBUFFER,ae),Ne(J)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ae,Ze,$e.__webglTexture,0,Be(J)):(Ze===n.TEXTURE_2D||Ze>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ze<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ae,Ze,$e.__webglTexture,Re),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ye(ae,J,Se){if(n.bindRenderbuffer(n.RENDERBUFFER,ae),J.depthBuffer){const Ae=J.depthTexture,Ze=Ae&&Ae.isDepthTexture?Ae.type:null,Re=C(J.stencilBuffer,Ze),ct=J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ft=Be(J);Ne(J)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ft,Re,J.width,J.height):Se?n.renderbufferStorageMultisample(n.RENDERBUFFER,ft,Re,J.width,J.height):n.renderbufferStorage(n.RENDERBUFFER,Re,J.width,J.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ct,n.RENDERBUFFER,ae)}else{const Ae=J.textures;for(let Ze=0;Ze<Ae.length;Ze++){const Re=Ae[Ze],ct=s.convert(Re.format,Re.colorSpace),ft=s.convert(Re.type),Dt=A(Re.internalFormat,ct,ft,Re.colorSpace),kt=Be(J);Se&&Ne(J)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,kt,Dt,J.width,J.height):Ne(J)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,kt,Dt,J.width,J.height):n.renderbufferStorage(n.RENDERBUFFER,Dt,J.width,J.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ve(ae,J){if(J&&J.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ae),!(J.depthTexture&&J.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ae=i.get(J.depthTexture);Ae.__renderTarget=J,(!Ae.__webglTexture||J.depthTexture.image.width!==J.width||J.depthTexture.image.height!==J.height)&&(J.depthTexture.image.width=J.width,J.depthTexture.image.height=J.height,J.depthTexture.needsUpdate=!0),ee(J.depthTexture,0);const Ze=Ae.__webglTexture,Re=Be(J);if(J.depthTexture.format===V0)Ne(J)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ze,0,Re):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ze,0);else if(J.depthTexture.format===H0)Ne(J)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ze,0,Re):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ze,0);else throw new Error("Unknown depthTexture format")}function Xe(ae){const J=i.get(ae),Se=ae.isWebGLCubeRenderTarget===!0;if(J.__boundDepthTexture!==ae.depthTexture){const Ae=ae.depthTexture;if(J.__depthDisposeCallback&&J.__depthDisposeCallback(),Ae){const Ze=()=>{delete J.__boundDepthTexture,delete J.__depthDisposeCallback,Ae.removeEventListener("dispose",Ze)};Ae.addEventListener("dispose",Ze),J.__depthDisposeCallback=Ze}J.__boundDepthTexture=Ae}if(ae.depthTexture&&!J.__autoAllocateDepthBuffer){if(Se)throw new Error("target.depthTexture not supported in Cube render targets");const Ae=ae.texture.mipmaps;Ae&&Ae.length>0?Ve(J.__webglFramebuffer[0],ae):Ve(J.__webglFramebuffer,ae)}else if(Se){J.__webglDepthbuffer=[];for(let Ae=0;Ae<6;Ae++)if(t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer[Ae]),J.__webglDepthbuffer[Ae]===void 0)J.__webglDepthbuffer[Ae]=n.createRenderbuffer(),ye(J.__webglDepthbuffer[Ae],ae,!1);else{const Ze=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Re=J.__webglDepthbuffer[Ae];n.bindRenderbuffer(n.RENDERBUFFER,Re),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ze,n.RENDERBUFFER,Re)}}else{const Ae=ae.texture.mipmaps;if(Ae&&Ae.length>0?t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer),J.__webglDepthbuffer===void 0)J.__webglDepthbuffer=n.createRenderbuffer(),ye(J.__webglDepthbuffer,ae,!1);else{const Ze=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Re=J.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Re),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ze,n.RENDERBUFFER,Re)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ge(ae,J,Se){const Ae=i.get(ae);J!==void 0&&he(Ae.__webglFramebuffer,ae,ae.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Se!==void 0&&Xe(ae)}function rt(ae){const J=ae.texture,Se=i.get(ae),Ae=i.get(J);ae.addEventListener("dispose",P);const Ze=ae.textures,Re=ae.isWebGLCubeRenderTarget===!0,ct=Ze.length>1;if(ct||(Ae.__webglTexture===void 0&&(Ae.__webglTexture=n.createTexture()),Ae.__version=J.version,a.memory.textures++),Re){Se.__webglFramebuffer=[];for(let ft=0;ft<6;ft++)if(J.mipmaps&&J.mipmaps.length>0){Se.__webglFramebuffer[ft]=[];for(let Dt=0;Dt<J.mipmaps.length;Dt++)Se.__webglFramebuffer[ft][Dt]=n.createFramebuffer()}else Se.__webglFramebuffer[ft]=n.createFramebuffer()}else{if(J.mipmaps&&J.mipmaps.length>0){Se.__webglFramebuffer=[];for(let ft=0;ft<J.mipmaps.length;ft++)Se.__webglFramebuffer[ft]=n.createFramebuffer()}else Se.__webglFramebuffer=n.createFramebuffer();if(ct)for(let ft=0,Dt=Ze.length;ft<Dt;ft++){const kt=i.get(Ze[ft]);kt.__webglTexture===void 0&&(kt.__webglTexture=n.createTexture(),a.memory.textures++)}if(ae.samples>0&&Ne(ae)===!1){Se.__webglMultisampledFramebuffer=n.createFramebuffer(),Se.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Se.__webglMultisampledFramebuffer);for(let ft=0;ft<Ze.length;ft++){const Dt=Ze[ft];Se.__webglColorRenderbuffer[ft]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Se.__webglColorRenderbuffer[ft]);const kt=s.convert(Dt.format,Dt.colorSpace),$e=s.convert(Dt.type),dt=A(Dt.internalFormat,kt,$e,Dt.colorSpace,ae.isXRRenderTarget===!0),wt=Be(ae);n.renderbufferStorageMultisample(n.RENDERBUFFER,wt,dt,ae.width,ae.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.RENDERBUFFER,Se.__webglColorRenderbuffer[ft])}n.bindRenderbuffer(n.RENDERBUFFER,null),ae.depthBuffer&&(Se.__webglDepthRenderbuffer=n.createRenderbuffer(),ye(Se.__webglDepthRenderbuffer,ae,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Re){t.bindTexture(n.TEXTURE_CUBE_MAP,Ae.__webglTexture),le(n.TEXTURE_CUBE_MAP,J);for(let ft=0;ft<6;ft++)if(J.mipmaps&&J.mipmaps.length>0)for(let Dt=0;Dt<J.mipmaps.length;Dt++)he(Se.__webglFramebuffer[ft][Dt],ae,J,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Dt);else he(Se.__webglFramebuffer[ft],ae,J,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0);E(J)&&b(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ct){for(let ft=0,Dt=Ze.length;ft<Dt;ft++){const kt=Ze[ft],$e=i.get(kt);t.bindTexture(n.TEXTURE_2D,$e.__webglTexture),le(n.TEXTURE_2D,kt),he(Se.__webglFramebuffer,ae,kt,n.COLOR_ATTACHMENT0+ft,n.TEXTURE_2D,0),E(kt)&&b(n.TEXTURE_2D)}t.unbindTexture()}else{let ft=n.TEXTURE_2D;if((ae.isWebGL3DRenderTarget||ae.isWebGLArrayRenderTarget)&&(ft=ae.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(ft,Ae.__webglTexture),le(ft,J),J.mipmaps&&J.mipmaps.length>0)for(let Dt=0;Dt<J.mipmaps.length;Dt++)he(Se.__webglFramebuffer[Dt],ae,J,n.COLOR_ATTACHMENT0,ft,Dt);else he(Se.__webglFramebuffer,ae,J,n.COLOR_ATTACHMENT0,ft,0);E(J)&&b(ft),t.unbindTexture()}ae.depthBuffer&&Xe(ae)}function lt(ae){const J=ae.textures;for(let Se=0,Ae=J.length;Se<Ae;Se++){const Ze=J[Se];if(E(Ze)){const Re=w(ae),ct=i.get(Ze).__webglTexture;t.bindTexture(Re,ct),b(Re),t.unbindTexture()}}}const pt=[],te=[];function Oe(ae){if(ae.samples>0){if(Ne(ae)===!1){const J=ae.textures,Se=ae.width,Ae=ae.height;let Ze=n.COLOR_BUFFER_BIT;const Re=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ct=i.get(ae),ft=J.length>1;if(ft)for(let kt=0;kt<J.length;kt++)t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+kt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+kt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer);const Dt=ae.texture.mipmaps;Dt&&Dt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let kt=0;kt<J.length;kt++){if(ae.resolveDepthBuffer&&(ae.depthBuffer&&(Ze|=n.DEPTH_BUFFER_BIT),ae.stencilBuffer&&ae.resolveStencilBuffer&&(Ze|=n.STENCIL_BUFFER_BIT)),ft){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ct.__webglColorRenderbuffer[kt]);const $e=i.get(J[kt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,$e,0)}n.blitFramebuffer(0,0,Se,Ae,0,0,Se,Ae,Ze,n.NEAREST),c===!0&&(pt.length=0,te.length=0,pt.push(n.COLOR_ATTACHMENT0+kt),ae.depthBuffer&&ae.resolveDepthBuffer===!1&&(pt.push(Re),te.push(Re),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,te)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,pt))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ft)for(let kt=0;kt<J.length;kt++){t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+kt,n.RENDERBUFFER,ct.__webglColorRenderbuffer[kt]);const $e=i.get(J[kt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+kt,n.TEXTURE_2D,$e,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if(ae.depthBuffer&&ae.resolveDepthBuffer===!1&&c){const J=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[J])}}}function Be(ae){return Math.min(r.maxSamples,ae.samples)}function Ne(ae){const J=i.get(ae);return ae.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&J.__useRenderToTexture!==!1}function Me(ae){const J=a.render.frame;h.get(ae)!==J&&(h.set(ae,J),ae.update())}function ut(ae,J){const Se=ae.colorSpace,Ae=ae.format,Ze=ae.type;return ae.isCompressedTexture===!0||ae.isVideoTexture===!0||Se!==jp&&Se!==Oh&&(ci.getTransfer(Se)===Bi?(Ae!==Qa||Ze!==wc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Se)),J}function qe(ae){return typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement?(u.width=ae.naturalWidth||ae.width,u.height=ae.naturalHeight||ae.height):typeof VideoFrame<"u"&&ae instanceof VideoFrame?(u.width=ae.displayWidth,u.height=ae.displayHeight):(u.width=ae.width,u.height=ae.height),u}this.allocateTextureUnit=V,this.resetTextureUnits=z,this.setTexture2D=ee,this.setTexture2DArray=q,this.setTexture3D=$,this.setTextureCube=Q,this.rebindTextures=Ge,this.setupRenderTarget=rt,this.updateRenderTargetMipmap=lt,this.updateMultisampleRenderTarget=Oe,this.setupDepthRenderbuffer=Xe,this.setupFrameBufferTexture=he,this.useMultisampledRTT=Ne}function UG(n,e){function t(i,r=Oh){let s;const a=ci.getTransfer(r);if(i===wc)return n.UNSIGNED_BYTE;if(i===IA)return n.UNSIGNED_SHORT_4_4_4_4;if(i===PA)return n.UNSIGNED_SHORT_5_5_5_1;if(i===AN)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===wN)return n.BYTE;if(i===CN)return n.SHORT;if(i===B0)return n.UNSIGNED_SHORT;if(i===OA)return n.INT;if(i===Zh)return n.UNSIGNED_INT;if(i===Ro)return n.FLOAT;if(i===ay)return n.HALF_FLOAT;if(i===MN)return n.ALPHA;if(i===RN)return n.RGB;if(i===Qa)return n.RGBA;if(i===V0)return n.DEPTH_COMPONENT;if(i===H0)return n.DEPTH_STENCIL;if(i===DA)return n.RED;if(i===CS)return n.RED_INTEGER;if(i===ON)return n.RG;if(i===NA)return n.RG_INTEGER;if(i===LA)return n.RGBA_INTEGER;if(i===ex||i===tx||i===nx||i===ix)if(a===Bi)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===ex)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===tx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===nx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===ix)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===ex)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===tx)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===nx)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===ix)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===nC||i===iC||i===rC||i===sC)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===nC)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===iC)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===rC)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===sC)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===aC||i===oC||i===lC)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===aC||i===oC)return a===Bi?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===lC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===cC||i===uC||i===fC||i===hC||i===dC||i===pC||i===mC||i===gC||i===yC||i===vC||i===_C||i===bC||i===xC||i===SC)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===cC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===uC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===fC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===hC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===dC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===pC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===mC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===gC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===yC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===vC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===_C)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===bC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===xC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===SC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===rx||i===EC||i===TC)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===rx)return a===Bi?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===EC)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===TC)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===IN||i===wC||i===CC||i===AC)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===rx)return s.COMPRESSED_RED_RGTC1_EXT;if(i===wC)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===CC)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===AC)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===F0?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const lde=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,cde=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class ude{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new ns,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new _u({vertexShader:lde,fragmentShader:cde,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ts(new x_(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class fde extends Nf{constructor(e,t){super();const i=this;let r=null,s=1,a=null,o="local-floor",c=1,u=null,h=null,p=null,y=null,v=null,_=null;const S=new ude,E=t.getContextAttributes();let b=null,w=null;const A=[],C=[],D=new it;let L=null;const P=new ea;P.viewport=new pi;const U=new ea;U.viewport=new pi;const I=[P,U],N=new wG;let F=null,z=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ue){let ie=A[ue];return ie===void 0&&(ie=new s2,A[ue]=ie),ie.getTargetRaySpace()},this.getControllerGrip=function(ue){let ie=A[ue];return ie===void 0&&(ie=new s2,A[ue]=ie),ie.getGripSpace()},this.getHand=function(ue){let ie=A[ue];return ie===void 0&&(ie=new s2,A[ue]=ie),ie.getHandSpace()};function V(ue){const ie=C.indexOf(ue.inputSource);if(ie===-1)return;const he=A[ie];he!==void 0&&(he.update(ue.inputSource,ue.frame,u||a),he.dispatchEvent({type:ue.type,data:ue.inputSource}))}function K(){r.removeEventListener("select",V),r.removeEventListener("selectstart",V),r.removeEventListener("selectend",V),r.removeEventListener("squeeze",V),r.removeEventListener("squeezestart",V),r.removeEventListener("squeezeend",V),r.removeEventListener("end",K),r.removeEventListener("inputsourceschange",ee);for(let ue=0;ue<A.length;ue++){const ie=C[ue];ie!==null&&(C[ue]=null,A[ue].disconnect(ie))}F=null,z=null,S.reset(),e.setRenderTarget(b),v=null,y=null,p=null,r=null,w=null,pe.stop(),i.isPresenting=!1,e.setPixelRatio(L),e.setSize(D.width,D.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ue){s=ue,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ue){o=ue,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(ue){u=ue},this.getBaseLayer=function(){return y!==null?y:v},this.getBinding=function(){return p},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(ue){if(r=ue,r!==null){if(b=e.getRenderTarget(),r.addEventListener("select",V),r.addEventListener("selectstart",V),r.addEventListener("selectend",V),r.addEventListener("squeeze",V),r.addEventListener("squeezestart",V),r.addEventListener("squeezeend",V),r.addEventListener("end",K),r.addEventListener("inputsourceschange",ee),E.xrCompatible!==!0&&await t.makeXRCompatible(),L=e.getPixelRatio(),e.getSize(D),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let he=null,ye=null,Ve=null;E.depth&&(Ve=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,he=E.stencil?H0:V0,ye=E.stencil?F0:Zh);const Xe={colorFormat:t.RGBA8,depthFormat:Ve,scaleFactor:s};p=new XRWebGLBinding(r,t),y=p.createProjectionLayer(Xe),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),w=new vu(y.textureWidth,y.textureHeight,{format:Qa,type:wc,depthTexture:new RS(y.textureWidth,y.textureHeight,ye,void 0,void 0,void 0,void 0,void 0,void 0,he),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const he={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(r,t,he),r.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),w=new vu(v.framebufferWidth,v.framebufferHeight,{format:Qa,type:wc,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(c),u=null,a=await r.requestReferenceSpace(o),pe.setContext(r),pe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function ee(ue){for(let ie=0;ie<ue.removed.length;ie++){const he=ue.removed[ie],ye=C.indexOf(he);ye>=0&&(C[ye]=null,A[ye].disconnect(he))}for(let ie=0;ie<ue.added.length;ie++){const he=ue.added[ie];let ye=C.indexOf(he);if(ye===-1){for(let Xe=0;Xe<A.length;Xe++)if(Xe>=C.length){C.push(he),ye=Xe;break}else if(C[Xe]===null){C[Xe]=he,ye=Xe;break}if(ye===-1)break}const Ve=A[ye];Ve&&Ve.connect(he)}}const q=new fe,$=new fe;function Q(ue,ie,he){q.setFromMatrixPosition(ie.matrixWorld),$.setFromMatrixPosition(he.matrixWorld);const ye=q.distanceTo($),Ve=ie.projectionMatrix.elements,Xe=he.projectionMatrix.elements,Ge=Ve[14]/(Ve[10]-1),rt=Ve[14]/(Ve[10]+1),lt=(Ve[9]+1)/Ve[5],pt=(Ve[9]-1)/Ve[5],te=(Ve[8]-1)/Ve[0],Oe=(Xe[8]+1)/Xe[0],Be=Ge*te,Ne=Ge*Oe,Me=ye/(-te+Oe),ut=Me*-te;if(ie.matrixWorld.decompose(ue.position,ue.quaternion,ue.scale),ue.translateX(ut),ue.translateZ(Me),ue.matrixWorld.compose(ue.position,ue.quaternion,ue.scale),ue.matrixWorldInverse.copy(ue.matrixWorld).invert(),Ve[10]===-1)ue.projectionMatrix.copy(ie.projectionMatrix),ue.projectionMatrixInverse.copy(ie.projectionMatrixInverse);else{const qe=Ge+Me,ae=rt+Me,J=Be-ut,Se=Ne+(ye-ut),Ae=lt*rt/ae*qe,Ze=pt*rt/ae*qe;ue.projectionMatrix.makePerspective(J,Se,Ae,Ze,qe,ae),ue.projectionMatrixInverse.copy(ue.projectionMatrix).invert()}}function re(ue,ie){ie===null?ue.matrixWorld.copy(ue.matrix):ue.matrixWorld.multiplyMatrices(ie.matrixWorld,ue.matrix),ue.matrixWorldInverse.copy(ue.matrixWorld).invert()}this.updateCamera=function(ue){if(r===null)return;let ie=ue.near,he=ue.far;S.texture!==null&&(S.depthNear>0&&(ie=S.depthNear),S.depthFar>0&&(he=S.depthFar)),N.near=U.near=P.near=ie,N.far=U.far=P.far=he,(F!==N.near||z!==N.far)&&(r.updateRenderState({depthNear:N.near,depthFar:N.far}),F=N.near,z=N.far),P.layers.mask=ue.layers.mask|2,U.layers.mask=ue.layers.mask|4,N.layers.mask=P.layers.mask|U.layers.mask;const ye=ue.parent,Ve=N.cameras;re(N,ye);for(let Xe=0;Xe<Ve.length;Xe++)re(Ve[Xe],ye);Ve.length===2?Q(N,P,U):N.projectionMatrix.copy(P.projectionMatrix),de(ue,N,ye)};function de(ue,ie,he){he===null?ue.matrix.copy(ie.matrixWorld):(ue.matrix.copy(he.matrixWorld),ue.matrix.invert(),ue.matrix.multiply(ie.matrixWorld)),ue.matrix.decompose(ue.position,ue.quaternion,ue.scale),ue.updateMatrixWorld(!0),ue.projectionMatrix.copy(ie.projectionMatrix),ue.projectionMatrixInverse.copy(ie.projectionMatrixInverse),ue.isPerspectiveCamera&&(ue.fov=j0*2*Math.atan(1/ue.projectionMatrix.elements[5]),ue.zoom=1)}this.getCamera=function(){return N},this.getFoveation=function(){if(!(y===null&&v===null))return c},this.setFoveation=function(ue){c=ue,y!==null&&(y.fixedFoveation=ue),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=ue)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(N)};let Y=null;function le(ue,ie){if(h=ie.getViewerPose(u||a),_=ie,h!==null){const he=h.views;v!==null&&(e.setRenderTargetFramebuffer(w,v.framebuffer),e.setRenderTarget(w));let ye=!1;he.length!==N.cameras.length&&(N.cameras.length=0,ye=!0);for(let Ge=0;Ge<he.length;Ge++){const rt=he[Ge];let lt=null;if(v!==null)lt=v.getViewport(rt);else{const te=p.getViewSubImage(y,rt);lt=te.viewport,Ge===0&&(e.setRenderTargetTextures(w,te.colorTexture,te.depthStencilTexture),e.setRenderTarget(w))}let pt=I[Ge];pt===void 0&&(pt=new ea,pt.layers.enable(Ge),pt.viewport=new pi,I[Ge]=pt),pt.matrix.fromArray(rt.transform.matrix),pt.matrix.decompose(pt.position,pt.quaternion,pt.scale),pt.projectionMatrix.fromArray(rt.projectionMatrix),pt.projectionMatrixInverse.copy(pt.projectionMatrix).invert(),pt.viewport.set(lt.x,lt.y,lt.width,lt.height),Ge===0&&(N.matrix.copy(pt.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),ye===!0&&N.cameras.push(pt)}const Ve=r.enabledFeatures;if(Ve&&Ve.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&p){const Ge=p.getDepthInformation(he[0]);Ge&&Ge.isValid&&Ge.texture&&S.init(e,Ge,r.renderState)}}for(let he=0;he<A.length;he++){const ye=C[he],Ve=A[he];ye!==null&&Ve!==void 0&&Ve.update(ye,ie,u||a)}Y&&Y(ue,ie),ie.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ie}),_=null}const pe=new IG;pe.setAnimationLoop(le),this.setAnimationLoop=function(ue){Y=ue},this.dispose=function(){}}}const ag=new zl,hde=new an;function dde(n,e){function t(E,b){E.matrixAutoUpdate===!0&&E.updateMatrix(),b.value.copy(E.matrix)}function i(E,b){b.color.getRGB(E.fogColor.value,Dj(n)),b.isFog?(E.fogNear.value=b.near,E.fogFar.value=b.far):b.isFogExp2&&(E.fogDensity.value=b.density)}function r(E,b,w,A,C){b.isMeshBasicMaterial||b.isMeshLambertMaterial?s(E,b):b.isMeshToonMaterial?(s(E,b),p(E,b)):b.isMeshPhongMaterial?(s(E,b),h(E,b)):b.isMeshStandardMaterial?(s(E,b),y(E,b),b.isMeshPhysicalMaterial&&v(E,b,C)):b.isMeshMatcapMaterial?(s(E,b),_(E,b)):b.isMeshDepthMaterial?s(E,b):b.isMeshDistanceMaterial?(s(E,b),S(E,b)):b.isMeshNormalMaterial?s(E,b):b.isLineBasicMaterial?(a(E,b),b.isLineDashedMaterial&&o(E,b)):b.isPointsMaterial?c(E,b,w,A):b.isSpriteMaterial?u(E,b):b.isShadowMaterial?(E.color.value.copy(b.color),E.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function s(E,b){E.opacity.value=b.opacity,b.color&&E.diffuse.value.copy(b.color),b.emissive&&E.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(E.map.value=b.map,t(b.map,E.mapTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,t(b.alphaMap,E.alphaMapTransform)),b.bumpMap&&(E.bumpMap.value=b.bumpMap,t(b.bumpMap,E.bumpMapTransform),E.bumpScale.value=b.bumpScale,b.side===Oo&&(E.bumpScale.value*=-1)),b.normalMap&&(E.normalMap.value=b.normalMap,t(b.normalMap,E.normalMapTransform),E.normalScale.value.copy(b.normalScale),b.side===Oo&&E.normalScale.value.negate()),b.displacementMap&&(E.displacementMap.value=b.displacementMap,t(b.displacementMap,E.displacementMapTransform),E.displacementScale.value=b.displacementScale,E.displacementBias.value=b.displacementBias),b.emissiveMap&&(E.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,E.emissiveMapTransform)),b.specularMap&&(E.specularMap.value=b.specularMap,t(b.specularMap,E.specularMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest);const w=e.get(b),A=w.envMap,C=w.envMapRotation;A&&(E.envMap.value=A,ag.copy(C),ag.x*=-1,ag.y*=-1,ag.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(ag.y*=-1,ag.z*=-1),E.envMapRotation.value.setFromMatrix4(hde.makeRotationFromEuler(ag)),E.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=b.reflectivity,E.ior.value=b.ior,E.refractionRatio.value=b.refractionRatio),b.lightMap&&(E.lightMap.value=b.lightMap,E.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,E.lightMapTransform)),b.aoMap&&(E.aoMap.value=b.aoMap,E.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,E.aoMapTransform))}function a(E,b){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,b.map&&(E.map.value=b.map,t(b.map,E.mapTransform))}function o(E,b){E.dashSize.value=b.dashSize,E.totalSize.value=b.dashSize+b.gapSize,E.scale.value=b.scale}function c(E,b,w,A){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,E.size.value=b.size*w,E.scale.value=A*.5,b.map&&(E.map.value=b.map,t(b.map,E.uvTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,t(b.alphaMap,E.alphaMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest)}function u(E,b){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,E.rotation.value=b.rotation,b.map&&(E.map.value=b.map,t(b.map,E.mapTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,t(b.alphaMap,E.alphaMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest)}function h(E,b){E.specular.value.copy(b.specular),E.shininess.value=Math.max(b.shininess,1e-4)}function p(E,b){b.gradientMap&&(E.gradientMap.value=b.gradientMap)}function y(E,b){E.metalness.value=b.metalness,b.metalnessMap&&(E.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,E.metalnessMapTransform)),E.roughness.value=b.roughness,b.roughnessMap&&(E.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,E.roughnessMapTransform)),b.envMap&&(E.envMapIntensity.value=b.envMapIntensity)}function v(E,b,w){E.ior.value=b.ior,b.sheen>0&&(E.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),E.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(E.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,E.sheenColorMapTransform)),b.sheenRoughnessMap&&(E.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,E.sheenRoughnessMapTransform))),b.clearcoat>0&&(E.clearcoat.value=b.clearcoat,E.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(E.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,E.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(E.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Oo&&E.clearcoatNormalScale.value.negate())),b.dispersion>0&&(E.dispersion.value=b.dispersion),b.iridescence>0&&(E.iridescence.value=b.iridescence,E.iridescenceIOR.value=b.iridescenceIOR,E.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(E.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,E.iridescenceMapTransform)),b.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),b.transmission>0&&(E.transmission.value=b.transmission,E.transmissionSamplerMap.value=w.texture,E.transmissionSamplerSize.value.set(w.width,w.height),b.transmissionMap&&(E.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,E.transmissionMapTransform)),E.thickness.value=b.thickness,b.thicknessMap&&(E.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=b.attenuationDistance,E.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(E.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(E.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=b.specularIntensity,E.specularColor.value.copy(b.specularColor),b.specularColorMap&&(E.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,E.specularColorMapTransform)),b.specularIntensityMap&&(E.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,E.specularIntensityMapTransform))}function _(E,b){b.matcap&&(E.matcap.value=b.matcap)}function S(E,b){const w=e.get(b).light;E.referencePosition.value.setFromMatrixPosition(w.matrixWorld),E.nearDistance.value=w.shadow.camera.near,E.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function pde(n,e,t,i){let r={},s={},a=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function c(w,A){const C=A.program;i.uniformBlockBinding(w,C)}function u(w,A){let C=r[w.id];C===void 0&&(_(w),C=h(w),r[w.id]=C,w.addEventListener("dispose",E));const D=A.program;i.updateUBOMapping(w,D);const L=e.render.frame;s[w.id]!==L&&(y(w),s[w.id]=L)}function h(w){const A=p();w.__bindingPointIndex=A;const C=n.createBuffer(),D=w.__size,L=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,D,L),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,A,C),C}function p(){for(let w=0;w<o;w++)if(a.indexOf(w)===-1)return a.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(w){const A=r[w.id],C=w.uniforms,D=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,A);for(let L=0,P=C.length;L<P;L++){const U=Array.isArray(C[L])?C[L]:[C[L]];for(let I=0,N=U.length;I<N;I++){const F=U[I];if(v(F,L,I,D)===!0){const z=F.__offset,V=Array.isArray(F.value)?F.value:[F.value];let K=0;for(let ee=0;ee<V.length;ee++){const q=V[ee],$=S(q);typeof q=="number"||typeof q=="boolean"?(F.__data[0]=q,n.bufferSubData(n.UNIFORM_BUFFER,z+K,F.__data)):q.isMatrix3?(F.__data[0]=q.elements[0],F.__data[1]=q.elements[1],F.__data[2]=q.elements[2],F.__data[3]=0,F.__data[4]=q.elements[3],F.__data[5]=q.elements[4],F.__data[6]=q.elements[5],F.__data[7]=0,F.__data[8]=q.elements[6],F.__data[9]=q.elements[7],F.__data[10]=q.elements[8],F.__data[11]=0):(q.toArray(F.__data,K),K+=$.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,z,F.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(w,A,C,D){const L=w.value,P=A+"_"+C;if(D[P]===void 0)return typeof L=="number"||typeof L=="boolean"?D[P]=L:D[P]=L.clone(),!0;{const U=D[P];if(typeof L=="number"||typeof L=="boolean"){if(U!==L)return D[P]=L,!0}else if(U.equals(L)===!1)return U.copy(L),!0}return!1}function _(w){const A=w.uniforms;let C=0;const D=16;for(let P=0,U=A.length;P<U;P++){const I=Array.isArray(A[P])?A[P]:[A[P]];for(let N=0,F=I.length;N<F;N++){const z=I[N],V=Array.isArray(z.value)?z.value:[z.value];for(let K=0,ee=V.length;K<ee;K++){const q=V[K],$=S(q),Q=C%D,re=Q%$.boundary,de=Q+re;C+=re,de!==0&&D-de<$.storage&&(C+=D-de),z.__data=new Float32Array($.storage/Float32Array.BYTES_PER_ELEMENT),z.__offset=C,C+=$.storage}}}const L=C%D;return L>0&&(C+=D-L),w.__size=C,w.__cache={},this}function S(w){const A={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(A.boundary=4,A.storage=4):w.isVector2?(A.boundary=8,A.storage=8):w.isVector3||w.isColor?(A.boundary=16,A.storage=12):w.isVector4?(A.boundary=16,A.storage=16):w.isMatrix3?(A.boundary=48,A.storage=48):w.isMatrix4?(A.boundary=64,A.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),A}function E(w){const A=w.target;A.removeEventListener("dispose",E);const C=a.indexOf(A.__bindingPointIndex);a.splice(C,1),n.deleteBuffer(r[A.id]),delete r[A.id],delete s[A.id]}function b(){for(const w in r)n.deleteBuffer(r[w]);a=[],r={},s={}}return{bind:c,update:u,dispose:b}}class kG{constructor(e={}){const{canvas:t=Oj(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1,reverseDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let v;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=i.getContextAttributes().alpha}else v=a;const _=new Uint32Array(4),S=new Int32Array(4);let E=null,b=null;const w=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Cf,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const C=this;let D=!1;this._outputColorSpace=ba;let L=0,P=0,U=null,I=-1,N=null;const F=new pi,z=new pi;let V=null;const K=new Ut(0);let ee=0,q=t.width,$=t.height,Q=1,re=null,de=null;const Y=new pi(0,0,q,$),le=new pi(0,0,q,$);let pe=!1;const ue=new v_;let ie=!1,he=!1;const ye=new an,Ve=new an,Xe=new fe,Ge=new pi,rt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let lt=!1;function pt(){return U===null?Q:1}let te=i;function Oe(se,_e){return t.getContext(se,_e)}try{const se={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${AA}`),t.addEventListener("webglcontextlost",Qe,!1),t.addEventListener("webglcontextrestored",xt,!1),t.addEventListener("webglcontextcreationerror",_t,!1),te===null){const _e="webgl2";if(te=Oe(_e,se),te===null)throw Oe(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(se){throw console.error("THREE.WebGLRenderer: "+se.message),se}let Be,Ne,Me,ut,qe,ae,J,Se,Ae,Ze,Re,ct,ft,Dt,kt,$e,dt,wt,At,vt,jt,ot,Lt,ve;function gt(){Be=new Cfe(te),Be.init(),ot=new UG(te,Be),Ne=new _fe(te,Be,e,ot),Me=new ade(te,Be),Ne.reverseDepthBuffer&&y&&Me.buffers.depth.setReversed(!0),ut=new Rfe(te),qe=new $he,ae=new ode(te,Be,Me,qe,Ne,ot,ut),J=new xfe(C),Se=new wfe(C),Ae=new Lle(te),Lt=new yfe(te,Ae),Ze=new Afe(te,Ae,ut,Lt),Re=new Ife(te,Ze,Ae,ut),At=new Ofe(te,Ne,ae),$e=new bfe(qe),ct=new Whe(C,J,Se,Be,Ne,Lt,$e),ft=new dde(C,qe),Dt=new Yhe,kt=new tde(Be),wt=new gfe(C,J,Se,Me,Re,v,c),dt=new rde(C,Re,Ne),ve=new pde(te,ut,Ne,Me),vt=new vfe(te,Be,ut),jt=new Mfe(te,Be,ut),ut.programs=ct.programs,C.capabilities=Ne,C.extensions=Be,C.properties=qe,C.renderLists=Dt,C.shadowMap=dt,C.state=Me,C.info=ut}gt();const Fe=new fde(C,te);this.xr=Fe,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const se=Be.get("WEBGL_lose_context");se&&se.loseContext()},this.forceContextRestore=function(){const se=Be.get("WEBGL_lose_context");se&&se.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(se){se!==void 0&&(Q=se,this.setSize(q,$,!1))},this.getSize=function(se){return se.set(q,$)},this.setSize=function(se,_e,Le=!0){if(Fe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=se,$=_e,t.width=Math.floor(se*Q),t.height=Math.floor(_e*Q),Le===!0&&(t.style.width=se+"px",t.style.height=_e+"px"),this.setViewport(0,0,se,_e)},this.getDrawingBufferSize=function(se){return se.set(q*Q,$*Q).floor()},this.setDrawingBufferSize=function(se,_e,Le){q=se,$=_e,Q=Le,t.width=Math.floor(se*Le),t.height=Math.floor(_e*Le),this.setViewport(0,0,se,_e)},this.getCurrentViewport=function(se){return se.copy(F)},this.getViewport=function(se){return se.copy(Y)},this.setViewport=function(se,_e,Le,De){se.isVector4?Y.set(se.x,se.y,se.z,se.w):Y.set(se,_e,Le,De),Me.viewport(F.copy(Y).multiplyScalar(Q).round())},this.getScissor=function(se){return se.copy(le)},this.setScissor=function(se,_e,Le,De){se.isVector4?le.set(se.x,se.y,se.z,se.w):le.set(se,_e,Le,De),Me.scissor(z.copy(le).multiplyScalar(Q).round())},this.getScissorTest=function(){return pe},this.setScissorTest=function(se){Me.setScissorTest(pe=se)},this.setOpaqueSort=function(se){re=se},this.setTransparentSort=function(se){de=se},this.getClearColor=function(se){return se.copy(wt.getClearColor())},this.setClearColor=function(){wt.setClearColor(...arguments)},this.getClearAlpha=function(){return wt.getClearAlpha()},this.setClearAlpha=function(){wt.setClearAlpha(...arguments)},this.clear=function(se=!0,_e=!0,Le=!0){let De=0;if(se){let xe=!1;if(U!==null){const st=U.texture.format;xe=st===LA||st===NA||st===CS}if(xe){const st=U.texture.type,Tt=st===wc||st===Zh||st===B0||st===F0||st===IA||st===PA,Ct=wt.getClearColor(),Ot=wt.getClearAlpha(),sn=Ct.r,en=Ct.g,Gt=Ct.b;Tt?(_[0]=sn,_[1]=en,_[2]=Gt,_[3]=Ot,te.clearBufferuiv(te.COLOR,0,_)):(S[0]=sn,S[1]=en,S[2]=Gt,S[3]=Ot,te.clearBufferiv(te.COLOR,0,S))}else De|=te.COLOR_BUFFER_BIT}_e&&(De|=te.DEPTH_BUFFER_BIT),Le&&(De|=te.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),te.clear(De)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Qe,!1),t.removeEventListener("webglcontextrestored",xt,!1),t.removeEventListener("webglcontextcreationerror",_t,!1),wt.dispose(),Dt.dispose(),kt.dispose(),qe.dispose(),J.dispose(),Se.dispose(),Re.dispose(),Lt.dispose(),ve.dispose(),ct.dispose(),Fe.dispose(),Fe.removeEventListener("sessionstart",kn),Fe.removeEventListener("sessionend",_n),zn.stop()};function Qe(se){se.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function xt(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1;const se=ut.autoReset,_e=dt.enabled,Le=dt.autoUpdate,De=dt.needsUpdate,xe=dt.type;gt(),ut.autoReset=se,dt.enabled=_e,dt.autoUpdate=Le,dt.needsUpdate=De,dt.type=xe}function _t(se){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",se.statusMessage)}function Qt(se){const _e=se.target;_e.removeEventListener("dispose",Qt),$n(_e)}function $n(se){zt(se),qe.remove(se)}function zt(se){const _e=qe.get(se).programs;_e!==void 0&&(_e.forEach(function(Le){ct.releaseProgram(Le)}),se.isShaderMaterial&&ct.releaseShaderCache(se))}this.renderBufferDirect=function(se,_e,Le,De,xe,st){_e===null&&(_e=rt);const Tt=xe.isMesh&&xe.matrixWorld.determinant()<0,Ct=ll(se,_e,Le,De,xe);Me.setMaterial(De,Tt);let Ot=Le.index,sn=1;if(De.wireframe===!0){if(Ot=Ze.getWireframeAttribute(Le),Ot===void 0)return;sn=2}const en=Le.drawRange,Gt=Le.attributes.position;let Bn=en.start*sn,Ln=(en.start+en.count)*sn;st!==null&&(Bn=Math.max(Bn,st.start*sn),Ln=Math.min(Ln,(st.start+st.count)*sn)),Ot!==null?(Bn=Math.max(Bn,0),Ln=Math.min(Ln,Ot.count)):Gt!=null&&(Bn=Math.max(Bn,0),Ln=Math.min(Ln,Gt.count));const bi=Ln-Bn;if(bi<0||bi===1/0)return;Lt.setup(xe,De,Ct,Le,Ot);let Wn,un=vt;if(Ot!==null&&(Wn=Ae.get(Ot),un=jt,un.setIndex(Wn)),xe.isMesh)De.wireframe===!0?(Me.setLineWidth(De.wireframeLinewidth*pt()),un.setMode(te.LINES)):un.setMode(te.TRIANGLES);else if(xe.isLine){let Xt=De.linewidth;Xt===void 0&&(Xt=1),Me.setLineWidth(Xt*pt()),xe.isLineSegments?un.setMode(te.LINES):xe.isLineLoop?un.setMode(te.LINE_LOOP):un.setMode(te.LINE_STRIP)}else xe.isPoints?un.setMode(te.POINTS):xe.isSprite&&un.setMode(te.TRIANGLES);if(xe.isBatchedMesh)if(xe._multiDrawInstances!==null)r2("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),un.renderMultiDrawInstances(xe._multiDrawStarts,xe._multiDrawCounts,xe._multiDrawCount,xe._multiDrawInstances);else if(Be.get("WEBGL_multi_draw"))un.renderMultiDraw(xe._multiDrawStarts,xe._multiDrawCounts,xe._multiDrawCount);else{const Xt=xe._multiDrawStarts,hr=xe._multiDrawCounts,Gn=xe._multiDrawCount,ms=Ot?Ae.get(Ot).bytesPerElement:1,oa=qe.get(De).currentProgram.getUniforms();for(let nr=0;nr<Gn;nr++)oa.setValue(te,"_gl_DrawID",nr),un.render(Xt[nr]/ms,hr[nr])}else if(xe.isInstancedMesh)un.renderInstances(Bn,bi,xe.count);else if(Le.isInstancedBufferGeometry){const Xt=Le._maxInstanceCount!==void 0?Le._maxInstanceCount:1/0,hr=Math.min(Le.instanceCount,Xt);un.renderInstances(Bn,bi,hr)}else un.render(Bn,bi)};function Jt(se,_e,Le){se.transparent===!0&&se.side===gf&&se.forceSinglePass===!1?(se.side=Oo,se.needsUpdate=!0,yn(se,_e,Le),se.side=Yh,se.needsUpdate=!0,yn(se,_e,Le),se.side=gf):yn(se,_e,Le)}this.compile=function(se,_e,Le=null){Le===null&&(Le=se),b=kt.get(Le),b.init(_e),A.push(b),Le.traverseVisible(function(xe){xe.isLight&&xe.layers.test(_e.layers)&&(b.pushLight(xe),xe.castShadow&&b.pushShadow(xe))}),se!==Le&&se.traverseVisible(function(xe){xe.isLight&&xe.layers.test(_e.layers)&&(b.pushLight(xe),xe.castShadow&&b.pushShadow(xe))}),b.setupLights();const De=new Set;return se.traverse(function(xe){if(!(xe.isMesh||xe.isPoints||xe.isLine||xe.isSprite))return;const st=xe.material;if(st)if(Array.isArray(st))for(let Tt=0;Tt<st.length;Tt++){const Ct=st[Tt];Jt(Ct,Le,xe),De.add(Ct)}else Jt(st,Le,xe),De.add(st)}),b=A.pop(),De},this.compileAsync=function(se,_e,Le=null){const De=this.compile(se,_e,Le);return new Promise(xe=>{function st(){if(De.forEach(function(Tt){qe.get(Tt).currentProgram.isReady()&&De.delete(Tt)}),De.size===0){xe(se);return}setTimeout(st,10)}Be.get("KHR_parallel_shader_compile")!==null?st():setTimeout(st,10)})};let St=null;function Mt(se){St&&St(se)}function kn(){zn.stop()}function _n(){zn.start()}const zn=new IG;zn.setAnimationLoop(Mt),typeof self<"u"&&zn.setContext(self),this.setAnimationLoop=function(se){St=se,Fe.setAnimationLoop(se),se===null?zn.stop():zn.start()},Fe.addEventListener("sessionstart",kn),Fe.addEventListener("sessionend",_n),this.render=function(se,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(D===!0)return;if(se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),Fe.enabled===!0&&Fe.isPresenting===!0&&(Fe.cameraAutoUpdate===!0&&Fe.updateCamera(_e),_e=Fe.getCamera()),se.isScene===!0&&se.onBeforeRender(C,se,_e,U),b=kt.get(se,A.length),b.init(_e),A.push(b),Ve.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),ue.setFromProjectionMatrix(Ve),he=this.localClippingEnabled,ie=$e.init(this.clippingPlanes,he),E=Dt.get(se,w.length),E.init(),w.push(E),Fe.enabled===!0&&Fe.isPresenting===!0){const st=C.xr.getDepthSensingMesh();st!==null&&Li(st,_e,-1/0,C.sortObjects)}Li(se,_e,0,C.sortObjects),E.finish(),C.sortObjects===!0&&E.sort(re,de),lt=Fe.enabled===!1||Fe.isPresenting===!1||Fe.hasDepthSensing()===!1,lt&&wt.addToRenderList(E,se),this.info.render.frame++,ie===!0&&$e.beginShadows();const Le=b.state.shadowsArray;dt.render(Le,se,_e),ie===!0&&$e.endShadows(),this.info.autoReset===!0&&this.info.reset();const De=E.opaque,xe=E.transmissive;if(b.setupLights(),_e.isArrayCamera){const st=_e.cameras;if(xe.length>0)for(let Tt=0,Ct=st.length;Tt<Ct;Tt++){const Ot=st[Tt];$i(De,xe,se,Ot)}lt&&wt.render(se);for(let Tt=0,Ct=st.length;Tt<Ct;Tt++){const Ot=st[Tt];Rs(E,se,Ot,Ot.viewport)}}else xe.length>0&&$i(De,xe,se,_e),lt&&wt.render(se),Rs(E,se,_e);U!==null&&P===0&&(ae.updateMultisampleRenderTarget(U),ae.updateRenderTargetMipmap(U)),se.isScene===!0&&se.onAfterRender(C,se,_e),Lt.resetDefaultState(),I=-1,N=null,A.pop(),A.length>0?(b=A[A.length-1],ie===!0&&$e.setGlobalState(C.clippingPlanes,b.state.camera)):b=null,w.pop(),w.length>0?E=w[w.length-1]:E=null};function Li(se,_e,Le,De){if(se.visible===!1)return;if(se.layers.test(_e.layers)){if(se.isGroup)Le=se.renderOrder;else if(se.isLOD)se.autoUpdate===!0&&se.update(_e);else if(se.isLight)b.pushLight(se),se.castShadow&&b.pushShadow(se);else if(se.isSprite){if(!se.frustumCulled||ue.intersectsSprite(se)){De&&Ge.setFromMatrixPosition(se.matrixWorld).applyMatrix4(Ve);const Tt=Re.update(se),Ct=se.material;Ct.visible&&E.push(se,Tt,Ct,Le,Ge.z,null)}}else if((se.isMesh||se.isLine||se.isPoints)&&(!se.frustumCulled||ue.intersectsObject(se))){const Tt=Re.update(se),Ct=se.material;if(De&&(se.boundingSphere!==void 0?(se.boundingSphere===null&&se.computeBoundingSphere(),Ge.copy(se.boundingSphere.center)):(Tt.boundingSphere===null&&Tt.computeBoundingSphere(),Ge.copy(Tt.boundingSphere.center)),Ge.applyMatrix4(se.matrixWorld).applyMatrix4(Ve)),Array.isArray(Ct)){const Ot=Tt.groups;for(let sn=0,en=Ot.length;sn<en;sn++){const Gt=Ot[sn],Bn=Ct[Gt.materialIndex];Bn&&Bn.visible&&E.push(se,Tt,Bn,Le,Ge.z,Gt)}}else Ct.visible&&E.push(se,Tt,Ct,Le,Ge.z,null)}}const st=se.children;for(let Tt=0,Ct=st.length;Tt<Ct;Tt++)Li(st[Tt],_e,Le,De)}function Rs(se,_e,Le,De){const xe=se.opaque,st=se.transmissive,Tt=se.transparent;b.setupLightsView(Le),ie===!0&&$e.setGlobalState(C.clippingPlanes,Le),De&&Me.viewport(F.copy(De)),xe.length>0&&Hr(xe,_e,Le),st.length>0&&Hr(st,_e,Le),Tt.length>0&&Hr(Tt,_e,Le),Me.buffers.depth.setTest(!0),Me.buffers.depth.setMask(!0),Me.buffers.color.setMask(!0),Me.setPolygonOffset(!1)}function $i(se,_e,Le,De){if((Le.isScene===!0?Le.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[De.id]===void 0&&(b.state.transmissionRenderTarget[De.id]=new vu(1,1,{generateMipmaps:!0,type:Be.has("EXT_color_buffer_half_float")||Be.has("EXT_color_buffer_float")?ay:wc,minFilter:_f,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ci.workingColorSpace}));const st=b.state.transmissionRenderTarget[De.id],Tt=De.viewport||F;st.setSize(Tt.z*C.transmissionResolutionScale,Tt.w*C.transmissionResolutionScale);const Ct=C.getRenderTarget();C.setRenderTarget(st),C.getClearColor(K),ee=C.getClearAlpha(),ee<1&&C.setClearColor(16777215,.5),C.clear(),lt&&wt.render(Le);const Ot=C.toneMapping;C.toneMapping=Cf;const sn=De.viewport;if(De.viewport!==void 0&&(De.viewport=void 0),b.setupLightsView(De),ie===!0&&$e.setGlobalState(C.clippingPlanes,De),Hr(se,Le,De),ae.updateMultisampleRenderTarget(st),ae.updateRenderTargetMipmap(st),Be.has("WEBGL_multisampled_render_to_texture")===!1){let en=!1;for(let Gt=0,Bn=_e.length;Gt<Bn;Gt++){const Ln=_e[Gt],bi=Ln.object,Wn=Ln.geometry,un=Ln.material,Xt=Ln.group;if(un.side===gf&&bi.layers.test(De.layers)){const hr=un.side;un.side=Oo,un.needsUpdate=!0,jr(bi,Le,De,Wn,un,Xt),un.side=hr,un.needsUpdate=!0,en=!0}}en===!0&&(ae.updateMultisampleRenderTarget(st),ae.updateRenderTargetMipmap(st))}C.setRenderTarget(Ct),C.setClearColor(K,ee),sn!==void 0&&(De.viewport=sn),C.toneMapping=Ot}function Hr(se,_e,Le){const De=_e.isScene===!0?_e.overrideMaterial:null;for(let xe=0,st=se.length;xe<st;xe++){const Tt=se[xe],Ct=Tt.object,Ot=Tt.geometry,sn=Tt.group;let en=Tt.material;en.allowOverride===!0&&De!==null&&(en=De),Ct.layers.test(Le.layers)&&jr(Ct,_e,Le,Ot,en,sn)}}function jr(se,_e,Le,De,xe,st){se.onBeforeRender(C,_e,Le,De,xe,st),se.modelViewMatrix.multiplyMatrices(Le.matrixWorldInverse,se.matrixWorld),se.normalMatrix.getNormalMatrix(se.modelViewMatrix),xe.onBeforeRender(C,_e,Le,De,se,st),xe.transparent===!0&&xe.side===gf&&xe.forceSinglePass===!1?(xe.side=Oo,xe.needsUpdate=!0,C.renderBufferDirect(Le,_e,De,xe,se,st),xe.side=Yh,xe.needsUpdate=!0,C.renderBufferDirect(Le,_e,De,xe,se,st),xe.side=gf):C.renderBufferDirect(Le,_e,De,xe,se,st),se.onAfterRender(C,_e,Le,De,xe,st)}function yn(se,_e,Le){_e.isScene!==!0&&(_e=rt);const De=qe.get(se),xe=b.state.lights,st=b.state.shadowsArray,Tt=xe.state.version,Ct=ct.getParameters(se,xe.state,st,_e,Le),Ot=ct.getProgramCacheKey(Ct);let sn=De.programs;De.environment=se.isMeshStandardMaterial?_e.environment:null,De.fog=_e.fog,De.envMap=(se.isMeshStandardMaterial?Se:J).get(se.envMap||De.environment),De.envMapRotation=De.environment!==null&&se.envMap===null?_e.environmentRotation:se.envMapRotation,sn===void 0&&(se.addEventListener("dispose",Qt),sn=new Map,De.programs=sn);let en=sn.get(Ot);if(en!==void 0){if(De.currentProgram===en&&De.lightsStateVersion===Tt)return aa(se,Ct),en}else Ct.uniforms=ct.getUniforms(se),se.onBeforeCompile(Ct,C),en=ct.acquireProgram(Ct,Ot),sn.set(Ot,en),De.uniforms=Ct.uniforms;const Gt=De.uniforms;return(!se.isShaderMaterial&&!se.isRawShaderMaterial||se.clipping===!0)&&(Gt.clippingPlanes=$e.uniform),aa(se,Ct),De.needsLights=ad(se),De.lightsStateVersion=Tt,De.needsLights&&(Gt.ambientLightColor.value=xe.state.ambient,Gt.lightProbe.value=xe.state.probe,Gt.directionalLights.value=xe.state.directional,Gt.directionalLightShadows.value=xe.state.directionalShadow,Gt.spotLights.value=xe.state.spot,Gt.spotLightShadows.value=xe.state.spotShadow,Gt.rectAreaLights.value=xe.state.rectArea,Gt.ltc_1.value=xe.state.rectAreaLTC1,Gt.ltc_2.value=xe.state.rectAreaLTC2,Gt.pointLights.value=xe.state.point,Gt.pointLightShadows.value=xe.state.pointShadow,Gt.hemisphereLights.value=xe.state.hemi,Gt.directionalShadowMap.value=xe.state.directionalShadowMap,Gt.directionalShadowMatrix.value=xe.state.directionalShadowMatrix,Gt.spotShadowMap.value=xe.state.spotShadowMap,Gt.spotLightMatrix.value=xe.state.spotLightMatrix,Gt.spotLightMap.value=xe.state.spotLightMap,Gt.pointShadowMap.value=xe.state.pointShadowMap,Gt.pointShadowMatrix.value=xe.state.pointShadowMatrix),De.currentProgram=en,De.uniformsList=null,en}function fr(se){if(se.uniformsList===null){const _e=se.currentProgram.getUniforms();se.uniformsList=a2.seqWithValue(_e.seq,se.uniforms)}return se.uniformsList}function aa(se,_e){const Le=qe.get(se);Le.outputColorSpace=_e.outputColorSpace,Le.batching=_e.batching,Le.batchingColor=_e.batchingColor,Le.instancing=_e.instancing,Le.instancingColor=_e.instancingColor,Le.instancingMorph=_e.instancingMorph,Le.skinning=_e.skinning,Le.morphTargets=_e.morphTargets,Le.morphNormals=_e.morphNormals,Le.morphColors=_e.morphColors,Le.morphTargetsCount=_e.morphTargetsCount,Le.numClippingPlanes=_e.numClippingPlanes,Le.numIntersection=_e.numClipIntersection,Le.vertexAlphas=_e.vertexAlphas,Le.vertexTangents=_e.vertexTangents,Le.toneMapping=_e.toneMapping}function ll(se,_e,Le,De,xe){_e.isScene!==!0&&(_e=rt),ae.resetTextureUnits();const st=_e.fog,Tt=De.isMeshStandardMaterial?_e.environment:null,Ct=U===null?C.outputColorSpace:U.isXRRenderTarget===!0?U.texture.colorSpace:jp,Ot=(De.isMeshStandardMaterial?Se:J).get(De.envMap||Tt),sn=De.vertexColors===!0&&!!Le.attributes.color&&Le.attributes.color.itemSize===4,en=!!Le.attributes.tangent&&(!!De.normalMap||De.anisotropy>0),Gt=!!Le.morphAttributes.position,Bn=!!Le.morphAttributes.normal,Ln=!!Le.morphAttributes.color;let bi=Cf;De.toneMapped&&(U===null||U.isXRRenderTarget===!0)&&(bi=C.toneMapping);const Wn=Le.morphAttributes.position||Le.morphAttributes.normal||Le.morphAttributes.color,un=Wn!==void 0?Wn.length:0,Xt=qe.get(De),hr=b.state.lights;if(ie===!0&&(he===!0||se!==N)){const hn=se===N&&De.id===I;$e.setState(De,se,hn)}let Gn=!1;De.version===Xt.__version?(Xt.needsLights&&Xt.lightsStateVersion!==hr.state.version||Xt.outputColorSpace!==Ct||xe.isBatchedMesh&&Xt.batching===!1||!xe.isBatchedMesh&&Xt.batching===!0||xe.isBatchedMesh&&Xt.batchingColor===!0&&xe.colorTexture===null||xe.isBatchedMesh&&Xt.batchingColor===!1&&xe.colorTexture!==null||xe.isInstancedMesh&&Xt.instancing===!1||!xe.isInstancedMesh&&Xt.instancing===!0||xe.isSkinnedMesh&&Xt.skinning===!1||!xe.isSkinnedMesh&&Xt.skinning===!0||xe.isInstancedMesh&&Xt.instancingColor===!0&&xe.instanceColor===null||xe.isInstancedMesh&&Xt.instancingColor===!1&&xe.instanceColor!==null||xe.isInstancedMesh&&Xt.instancingMorph===!0&&xe.morphTexture===null||xe.isInstancedMesh&&Xt.instancingMorph===!1&&xe.morphTexture!==null||Xt.envMap!==Ot||De.fog===!0&&Xt.fog!==st||Xt.numClippingPlanes!==void 0&&(Xt.numClippingPlanes!==$e.numPlanes||Xt.numIntersection!==$e.numIntersection)||Xt.vertexAlphas!==sn||Xt.vertexTangents!==en||Xt.morphTargets!==Gt||Xt.morphNormals!==Bn||Xt.morphColors!==Ln||Xt.toneMapping!==bi||Xt.morphTargetsCount!==un)&&(Gn=!0):(Gn=!0,Xt.__version=De.version);let ms=Xt.currentProgram;Gn===!0&&(ms=yn(De,_e,xe));let oa=!1,nr=!1,Ai=!1;const ei=ms.getUniforms(),Er=Xt.uniforms;if(Me.useProgram(ms.program)&&(oa=!0,nr=!0,Ai=!0),De.id!==I&&(I=De.id,nr=!0),oa||N!==se){Me.buffers.depth.getReversed()?(ye.copy(se.projectionMatrix),nae(ye),iae(ye),ei.setValue(te,"projectionMatrix",ye)):ei.setValue(te,"projectionMatrix",se.projectionMatrix),ei.setValue(te,"viewMatrix",se.matrixWorldInverse);const or=ei.map.cameraPosition;or!==void 0&&or.setValue(te,Xe.setFromMatrixPosition(se.matrixWorld)),Ne.logarithmicDepthBuffer&&ei.setValue(te,"logDepthBufFC",2/(Math.log(se.far+1)/Math.LN2)),(De.isMeshPhongMaterial||De.isMeshToonMaterial||De.isMeshLambertMaterial||De.isMeshBasicMaterial||De.isMeshStandardMaterial||De.isShaderMaterial)&&ei.setValue(te,"isOrthographic",se.isOrthographicCamera===!0),N!==se&&(N=se,nr=!0,Ai=!0)}if(xe.isSkinnedMesh){ei.setOptional(te,xe,"bindMatrix"),ei.setOptional(te,xe,"bindMatrixInverse");const hn=xe.skeleton;hn&&(hn.boneTexture===null&&hn.computeBoneTexture(),ei.setValue(te,"boneTexture",hn.boneTexture,ae))}xe.isBatchedMesh&&(ei.setOptional(te,xe,"batchingTexture"),ei.setValue(te,"batchingTexture",xe._matricesTexture,ae),ei.setOptional(te,xe,"batchingIdTexture"),ei.setValue(te,"batchingIdTexture",xe._indirectTexture,ae),ei.setOptional(te,xe,"batchingColorTexture"),xe._colorsTexture!==null&&ei.setValue(te,"batchingColorTexture",xe._colorsTexture,ae));const Gr=Le.morphAttributes;if((Gr.position!==void 0||Gr.normal!==void 0||Gr.color!==void 0)&&At.update(xe,Le,ms),(nr||Xt.receiveShadow!==xe.receiveShadow)&&(Xt.receiveShadow=xe.receiveShadow,ei.setValue(te,"receiveShadow",xe.receiveShadow)),De.isMeshGouraudMaterial&&De.envMap!==null&&(Er.envMap.value=Ot,Er.flipEnvMap.value=Ot.isCubeTexture&&Ot.isRenderTargetTexture===!1?-1:1),De.isMeshStandardMaterial&&De.envMap===null&&_e.environment!==null&&(Er.envMapIntensity.value=_e.environmentIntensity),nr&&(ei.setValue(te,"toneMappingExposure",C.toneMappingExposure),Xt.needsLights&&io(Er,Ai),st&&De.fog===!0&&ft.refreshFogUniforms(Er,st),ft.refreshMaterialUniforms(Er,De,Q,$,b.state.transmissionRenderTarget[se.id]),a2.upload(te,fr(Xt),Er,ae)),De.isShaderMaterial&&De.uniformsNeedUpdate===!0&&(a2.upload(te,fr(Xt),Er,ae),De.uniformsNeedUpdate=!1),De.isSpriteMaterial&&ei.setValue(te,"center",xe.center),ei.setValue(te,"modelViewMatrix",xe.modelViewMatrix),ei.setValue(te,"normalMatrix",xe.normalMatrix),ei.setValue(te,"modelMatrix",xe.matrixWorld),De.isShaderMaterial||De.isRawShaderMaterial){const hn=De.uniformsGroups;for(let or=0,Os=hn.length;or<Os;or++){const Tr=hn[or];ve.update(Tr,ms),ve.bind(Tr,ms)}}return ms}function io(se,_e){se.ambientLightColor.needsUpdate=_e,se.lightProbe.needsUpdate=_e,se.directionalLights.needsUpdate=_e,se.directionalLightShadows.needsUpdate=_e,se.pointLights.needsUpdate=_e,se.pointLightShadows.needsUpdate=_e,se.spotLights.needsUpdate=_e,se.spotLightShadows.needsUpdate=_e,se.rectAreaLights.needsUpdate=_e,se.hemisphereLights.needsUpdate=_e}function ad(se){return se.isMeshLambertMaterial||se.isMeshToonMaterial||se.isMeshPhongMaterial||se.isMeshStandardMaterial||se.isShadowMaterial||se.isShaderMaterial&&se.lights===!0}this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return U},this.setRenderTargetTextures=function(se,_e,Le){const De=qe.get(se);De.__autoAllocateDepthBuffer=se.resolveDepthBuffer===!1,De.__autoAllocateDepthBuffer===!1&&(De.__useRenderToTexture=!1),qe.get(se.texture).__webglTexture=_e,qe.get(se.depthTexture).__webglTexture=De.__autoAllocateDepthBuffer?void 0:Le,De.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(se,_e){const Le=qe.get(se);Le.__webglFramebuffer=_e,Le.__useDefaultFramebuffer=_e===void 0};const Pc=te.createFramebuffer();this.setRenderTarget=function(se,_e=0,Le=0){U=se,L=_e,P=Le;let De=!0,xe=null,st=!1,Tt=!1;if(se){const Ot=qe.get(se);if(Ot.__useDefaultFramebuffer!==void 0)Me.bindFramebuffer(te.FRAMEBUFFER,null),De=!1;else if(Ot.__webglFramebuffer===void 0)ae.setupRenderTarget(se);else if(Ot.__hasExternalTextures)ae.rebindTextures(se,qe.get(se.texture).__webglTexture,qe.get(se.depthTexture).__webglTexture);else if(se.depthBuffer){const Gt=se.depthTexture;if(Ot.__boundDepthTexture!==Gt){if(Gt!==null&&qe.has(Gt)&&(se.width!==Gt.image.width||se.height!==Gt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ae.setupDepthRenderbuffer(se)}}const sn=se.texture;(sn.isData3DTexture||sn.isDataArrayTexture||sn.isCompressedArrayTexture)&&(Tt=!0);const en=qe.get(se).__webglFramebuffer;se.isWebGLCubeRenderTarget?(Array.isArray(en[_e])?xe=en[_e][Le]:xe=en[_e],st=!0):se.samples>0&&ae.useMultisampledRTT(se)===!1?xe=qe.get(se).__webglMultisampledFramebuffer:Array.isArray(en)?xe=en[Le]:xe=en,F.copy(se.viewport),z.copy(se.scissor),V=se.scissorTest}else F.copy(Y).multiplyScalar(Q).floor(),z.copy(le).multiplyScalar(Q).floor(),V=pe;if(Le!==0&&(xe=Pc),Me.bindFramebuffer(te.FRAMEBUFFER,xe)&&De&&Me.drawBuffers(se,xe),Me.viewport(F),Me.scissor(z),Me.setScissorTest(V),st){const Ot=qe.get(se.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Ot.__webglTexture,Le)}else if(Tt){const Ot=qe.get(se.texture),sn=_e;te.framebufferTextureLayer(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,Ot.__webglTexture,Le,sn)}else if(se!==null&&Le!==0){const Ot=qe.get(se.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Ot.__webglTexture,Le)}I=-1},this.readRenderTargetPixels=function(se,_e,Le,De,xe,st,Tt){if(!(se&&se.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ct=qe.get(se).__webglFramebuffer;if(se.isWebGLCubeRenderTarget&&Tt!==void 0&&(Ct=Ct[Tt]),Ct){Me.bindFramebuffer(te.FRAMEBUFFER,Ct);try{const Ot=se.texture,sn=Ot.format,en=Ot.type;if(!Ne.textureFormatReadable(sn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ne.textureTypeReadable(en)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=se.width-De&&Le>=0&&Le<=se.height-xe&&te.readPixels(_e,Le,De,xe,ot.convert(sn),ot.convert(en),st)}finally{const Ot=U!==null?qe.get(U).__webglFramebuffer:null;Me.bindFramebuffer(te.FRAMEBUFFER,Ot)}}},this.readRenderTargetPixelsAsync=async function(se,_e,Le,De,xe,st,Tt){if(!(se&&se.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ct=qe.get(se).__webglFramebuffer;if(se.isWebGLCubeRenderTarget&&Tt!==void 0&&(Ct=Ct[Tt]),Ct)if(_e>=0&&_e<=se.width-De&&Le>=0&&Le<=se.height-xe){Me.bindFramebuffer(te.FRAMEBUFFER,Ct);const Ot=se.texture,sn=Ot.format,en=Ot.type;if(!Ne.textureFormatReadable(sn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ne.textureTypeReadable(en))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Gt=te.createBuffer();te.bindBuffer(te.PIXEL_PACK_BUFFER,Gt),te.bufferData(te.PIXEL_PACK_BUFFER,st.byteLength,te.STREAM_READ),te.readPixels(_e,Le,De,xe,ot.convert(sn),ot.convert(en),0);const Bn=U!==null?qe.get(U).__webglFramebuffer:null;Me.bindFramebuffer(te.FRAMEBUFFER,Bn);const Ln=te.fenceSync(te.SYNC_GPU_COMMANDS_COMPLETE,0);return te.flush(),await tae(te,Ln,4),te.bindBuffer(te.PIXEL_PACK_BUFFER,Gt),te.getBufferSubData(te.PIXEL_PACK_BUFFER,0,st),te.deleteBuffer(Gt),te.deleteSync(Ln),st}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(se,_e=null,Le=0){const De=Math.pow(2,-Le),xe=Math.floor(se.image.width*De),st=Math.floor(se.image.height*De),Tt=_e!==null?_e.x:0,Ct=_e!==null?_e.y:0;ae.setTexture2D(se,0),te.copyTexSubImage2D(te.TEXTURE_2D,Le,0,0,Tt,Ct,xe,st),Me.unbindTexture()};const ro=te.createFramebuffer(),cl=te.createFramebuffer();this.copyTextureToTexture=function(se,_e,Le=null,De=null,xe=0,st=null){st===null&&(xe!==0?(r2("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),st=xe,xe=0):st=0);let Tt,Ct,Ot,sn,en,Gt,Bn,Ln,bi;const Wn=se.isCompressedTexture?se.mipmaps[st]:se.image;if(Le!==null)Tt=Le.max.x-Le.min.x,Ct=Le.max.y-Le.min.y,Ot=Le.isBox3?Le.max.z-Le.min.z:1,sn=Le.min.x,en=Le.min.y,Gt=Le.isBox3?Le.min.z:0;else{const Gr=Math.pow(2,-xe);Tt=Math.floor(Wn.width*Gr),Ct=Math.floor(Wn.height*Gr),se.isDataArrayTexture?Ot=Wn.depth:se.isData3DTexture?Ot=Math.floor(Wn.depth*Gr):Ot=1,sn=0,en=0,Gt=0}De!==null?(Bn=De.x,Ln=De.y,bi=De.z):(Bn=0,Ln=0,bi=0);const un=ot.convert(_e.format),Xt=ot.convert(_e.type);let hr;_e.isData3DTexture?(ae.setTexture3D(_e,0),hr=te.TEXTURE_3D):_e.isDataArrayTexture||_e.isCompressedArrayTexture?(ae.setTexture2DArray(_e,0),hr=te.TEXTURE_2D_ARRAY):(ae.setTexture2D(_e,0),hr=te.TEXTURE_2D),te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,_e.flipY),te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),te.pixelStorei(te.UNPACK_ALIGNMENT,_e.unpackAlignment);const Gn=te.getParameter(te.UNPACK_ROW_LENGTH),ms=te.getParameter(te.UNPACK_IMAGE_HEIGHT),oa=te.getParameter(te.UNPACK_SKIP_PIXELS),nr=te.getParameter(te.UNPACK_SKIP_ROWS),Ai=te.getParameter(te.UNPACK_SKIP_IMAGES);te.pixelStorei(te.UNPACK_ROW_LENGTH,Wn.width),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,Wn.height),te.pixelStorei(te.UNPACK_SKIP_PIXELS,sn),te.pixelStorei(te.UNPACK_SKIP_ROWS,en),te.pixelStorei(te.UNPACK_SKIP_IMAGES,Gt);const ei=se.isDataArrayTexture||se.isData3DTexture,Er=_e.isDataArrayTexture||_e.isData3DTexture;if(se.isDepthTexture){const Gr=qe.get(se),hn=qe.get(_e),or=qe.get(Gr.__renderTarget),Os=qe.get(hn.__renderTarget);Me.bindFramebuffer(te.READ_FRAMEBUFFER,or.__webglFramebuffer),Me.bindFramebuffer(te.DRAW_FRAMEBUFFER,Os.__webglFramebuffer);for(let Tr=0;Tr<Ot;Tr++)ei&&(te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,qe.get(se).__webglTexture,xe,Gt+Tr),te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,qe.get(_e).__webglTexture,st,bi+Tr)),te.blitFramebuffer(sn,en,Tt,Ct,Bn,Ln,Tt,Ct,te.DEPTH_BUFFER_BIT,te.NEAREST);Me.bindFramebuffer(te.READ_FRAMEBUFFER,null),Me.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else if(xe!==0||se.isRenderTargetTexture||qe.has(se)){const Gr=qe.get(se),hn=qe.get(_e);Me.bindFramebuffer(te.READ_FRAMEBUFFER,ro),Me.bindFramebuffer(te.DRAW_FRAMEBUFFER,cl);for(let or=0;or<Ot;or++)ei?te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,Gr.__webglTexture,xe,Gt+or):te.framebufferTexture2D(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Gr.__webglTexture,xe),Er?te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,hn.__webglTexture,st,bi+or):te.framebufferTexture2D(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,hn.__webglTexture,st),xe!==0?te.blitFramebuffer(sn,en,Tt,Ct,Bn,Ln,Tt,Ct,te.COLOR_BUFFER_BIT,te.NEAREST):Er?te.copyTexSubImage3D(hr,st,Bn,Ln,bi+or,sn,en,Tt,Ct):te.copyTexSubImage2D(hr,st,Bn,Ln,sn,en,Tt,Ct);Me.bindFramebuffer(te.READ_FRAMEBUFFER,null),Me.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else Er?se.isDataTexture||se.isData3DTexture?te.texSubImage3D(hr,st,Bn,Ln,bi,Tt,Ct,Ot,un,Xt,Wn.data):_e.isCompressedArrayTexture?te.compressedTexSubImage3D(hr,st,Bn,Ln,bi,Tt,Ct,Ot,un,Wn.data):te.texSubImage3D(hr,st,Bn,Ln,bi,Tt,Ct,Ot,un,Xt,Wn):se.isDataTexture?te.texSubImage2D(te.TEXTURE_2D,st,Bn,Ln,Tt,Ct,un,Xt,Wn.data):se.isCompressedTexture?te.compressedTexSubImage2D(te.TEXTURE_2D,st,Bn,Ln,Wn.width,Wn.height,un,Wn.data):te.texSubImage2D(te.TEXTURE_2D,st,Bn,Ln,Tt,Ct,un,Xt,Wn);te.pixelStorei(te.UNPACK_ROW_LENGTH,Gn),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,ms),te.pixelStorei(te.UNPACK_SKIP_PIXELS,oa),te.pixelStorei(te.UNPACK_SKIP_ROWS,nr),te.pixelStorei(te.UNPACK_SKIP_IMAGES,Ai),st===0&&_e.generateMipmaps&&te.generateMipmap(hr),Me.unbindTexture()},this.copyTextureToTexture3D=function(se,_e,Le=null,De=null,xe=0){return r2('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(se,_e,Le,De,xe)},this.initRenderTarget=function(se){qe.get(se).__webglFramebuffer===void 0&&ae.setupRenderTarget(se)},this.initTexture=function(se){se.isCubeTexture?ae.setTextureCube(se,0):se.isData3DTexture?ae.setTexture3D(se,0):se.isDataArrayTexture||se.isCompressedArrayTexture?ae.setTexture2DArray(se,0):ae.setTexture2D(se,0),Me.unbindTexture()},this.resetState=function(){L=0,P=0,U=null,Me.reset(),Lt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ec}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=ci._getDrawingBufferColorSpace(e),t.unpackColorSpace=ci._getUnpackColorSpace()}}const mde=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:EN,AddEquation:mp,AddOperation:oj,AdditiveAnimationBlendMode:PN,AdditiveBlending:ZI,AgXToneMapping:hj,AlphaFormat:MN,AlwaysCompare:Aj,AlwaysDepth:K2,AlwaysStencilFunc:tP,AmbientLight:_G,AnimationAction:MG,AnimationClip:Kx,AnimationLoader:Roe,AnimationMixer:rle,AnimationObjectGroup:nle,AnimationUtils:woe,ArcCurve:Wj,ArrayCamera:wG,ArrowHelper:Cle,AttachedBindMode:eP,Audio:CG,AudioAnalyser:Woe,AudioContext:tL,AudioListener:joe,AudioLoader:Foe,AxesHelper:Ale,BackSide:Oo,BasicDepthPacking:vj,BasicShadowMap:VH,BatchedMesh:Vj,Bone:zN,BooleanKeyframeTrack:cy,Box2:hle,Box3:na,Box3Helper:Tle,BoxGeometry:oy,BoxHelper:Ele,BufferAttribute:Fi,BufferGeometry:Nn,BufferGeometryLoader:TG,ByteType:wN,Cache:Lh,Camera:BA,CameraHelper:Sle,CanvasTexture:FN,CapsuleGeometry:XA,CatmullRomCurve3:$j,CineonToneMapping:uj,CircleGeometry:YA,ClampToEdgeWrapping:Sc,Clock:nL,Color:Ut,ColorKeyframeTrack:QN,ColorManagement:ci,CompressedArrayTexture:Wae,CompressedCubeTexture:$ae,CompressedTexture:$A,CompressedTextureLoader:Ooe,ConeGeometry:b_,ConstantAlphaFactor:rj,ConstantColorFactor:nj,Controls:Rle,CubeCamera:Lj,CubeReflectionMapping:Kh,CubeRefractionMapping:Hp,CubeTexture:MS,CubeTextureLoader:Ioe,CubeUVReflectionMapping:g_,CubicBezierCurve:HN,CubicBezierCurve3:jN,CubicInterpolant:fG,CullFaceBack:KI,CullFaceFront:FH,CullFaceFrontBack:tse,CullFaceNone:BH,Curve:Su,CurvePath:Yj,CustomBlending:HH,CustomToneMapping:fj,CylinderGeometry:__,Cylindrical:fle,Data3DTexture:zA,DataArrayTexture:AS,DataTexture:Af,DataTextureLoader:Poe,DataUtils:vae,DecrementStencilOp:mse,DecrementWrapStencilOp:yse,DefaultLoadingManager:pG,DepthArrayTexture:Xae,DepthFormat:V0,DepthStencilFormat:H0,DepthTexture:RS,DetachedBindMode:pj,DirectionalLight:vG,DirectionalLightHelper:xle,DiscreteInterpolant:hG,DodecahedronGeometry:KA,DoubleSide:gf,DstAlphaFactor:ZH,DstColorFactor:JH,DynamicCopyUsage:Pse,DynamicDrawUsage:Cse,DynamicReadUsage:Rse,EdgesGeometry:qj,EllipseCurve:ZA,EqualCompare:Ej,EqualDepth:Q2,EqualStencilFunc:xse,EquirectangularReflectionMapping:Lx,EquirectangularRefractionMapping:Ux,Euler:zl,EventDispatcher:Nf,ExtrudeGeometry:JA,FileLoader:Jh,Float16BufferAttribute:wae,Float32BufferAttribute:Ht,FloatType:Ro,Fog:VA,FogExp2:FA,FramebufferTexture:qae,FrontSide:Yh,Frustum:v_,FrustumArray:WA,GLBufferAttribute:ule,GLSL1:Nse,GLSL3:nP,GreaterCompare:Tj,GreaterDepth:eC,GreaterEqualCompare:Cj,GreaterEqualDepth:J2,GreaterEqualStencilFunc:wse,GreaterStencilFunc:Ese,GridHelper:_le,Group:Nh,HalfFloatType:ay,HemisphereLight:mG,HemisphereLightHelper:vle,IcosahedronGeometry:eM,ImageBitmapLoader:Boe,ImageLoader:Zx,ImageUtils:Ij,IncrementStencilOp:pse,IncrementWrapStencilOp:gse,InstancedBufferAttribute:W0,InstancedBufferGeometry:EG,InstancedInterleavedBuffer:cle,InstancedMesh:Fj,Int16BufferAttribute:Eae,Int32BufferAttribute:Tae,Int8BufferAttribute:bae,IntType:OA,InterleavedBuffer:jA,InterleavedBufferAttribute:Kg,Interpolant:PS,InterpolateDiscrete:Bx,InterpolateLinear:MC,InterpolateSmooth:i2,InterpolationSamplingMode:kse,InterpolationSamplingType:Use,InvertStencilOp:vse,KeepStencilOp:gg,KeyframeTrack:Rc,LOD:zj,LatheGeometry:tM,Layers:G0,LessCompare:Sj,LessDepth:Z2,LessEqualCompare:DN,LessEqualDepth:Yg,LessEqualStencilFunc:Sse,LessStencilFunc:bse,Light:Qp,LightProbe:SG,Line:Qh,Line3:dle,LineBasicMaterial:no,LineCurve:GN,LineCurve3:Xj,LineDashedMaterial:lG,LineLoop:Hj,LineSegments:Lf,LinearFilter:hs,LinearInterpolant:ZN,LinearMipMapLinearFilter:sse,LinearMipMapNearestFilter:rse,LinearMipmapLinearFilter:_f,LinearMipmapNearestFilter:Jb,LinearSRGBColorSpace:jp,LinearToneMapping:lj,LinearTransfer:Vx,Loader:al,LoaderUtils:oP,LoadingManager:JN,LoopOnce:mj,LoopPingPong:yj,LoopRepeat:gj,MOUSE:Jre,Material:to,MaterialLoader:lM,MathUtils:Mj,Matrix2:aL,Matrix3:Dn,Matrix4:an,MaxEquation:WH,Mesh:ts,MeshBasicMaterial:Kp,MeshDepthMaterial:XN,MeshDistanceMaterial:YN,MeshLambertMaterial:$N,MeshMatcapMaterial:oG,MeshNormalMaterial:aG,MeshPhongMaterial:rG,MeshPhysicalMaterial:iG,MeshStandardMaterial:oM,MeshToonMaterial:sG,MinEquation:qH,MirroredRepeatWrapping:zx,MixOperation:aj,MultiplyBlending:JI,MultiplyOperation:wS,NearestFilter:Ea,NearestMipMapLinearFilter:ise,NearestMipMapNearestFilter:nse,NearestMipmapLinearFilter:r0,NearestMipmapNearestFilter:TN,NeutralToneMapping:dj,NeverCompare:xj,NeverDepth:Y2,NeverStencilFunc:_se,NoBlending:zh,NoColorSpace:Oh,NoToneMapping:Cf,NormalAnimationBlendMode:UA,NormalBlending:Bg,NotEqualCompare:wj,NotEqualDepth:tC,NotEqualStencilFunc:Tse,NumberKeyframeTrack:Xx,Object3D:mi,ObjectLoader:koe,ObjectSpaceNormalMap:bj,OctahedronGeometry:OS,OneFactor:XH,OneMinusConstantAlphaFactor:sj,OneMinusConstantColorFactor:ij,OneMinusDstAlphaFactor:QH,OneMinusDstColorFactor:ej,OneMinusSrcAlphaFactor:X2,OneMinusSrcColorFactor:KH,OrthographicCamera:NS,PCFShadowMap:MA,PCFSoftShadowMap:Qb,PMREMGenerator:uP,Path:PC,PerspectiveCamera:ea,Plane:cp,PlaneGeometry:x_,PlaneHelper:wle,PointLight:yG,PointLightHelper:gle,Points:jj,PointsMaterial:BN,PolarGridHelper:ble,PolyhedronGeometry:Zp,PositionalAudio:qoe,PropertyBinding:vi,PropertyMixer:AG,QuadraticBezierCurve:qN,QuadraticBezierCurve3:QA,Quaternion:Ta,QuaternionKeyframeTrack:DS,QuaternionLinearInterpolant:dG,RED_GREEN_RGTC2_Format:CC,RED_RGTC1_Format:IN,REVISION:AA,RGBADepthPacking:_j,RGBAFormat:Qa,RGBAIntegerFormat:LA,RGBA_ASTC_10x10_Format:bC,RGBA_ASTC_10x5_Format:yC,RGBA_ASTC_10x6_Format:vC,RGBA_ASTC_10x8_Format:_C,RGBA_ASTC_12x10_Format:xC,RGBA_ASTC_12x12_Format:SC,RGBA_ASTC_4x4_Format:cC,RGBA_ASTC_5x4_Format:uC,RGBA_ASTC_5x5_Format:fC,RGBA_ASTC_6x5_Format:hC,RGBA_ASTC_6x6_Format:dC,RGBA_ASTC_8x5_Format:pC,RGBA_ASTC_8x6_Format:mC,RGBA_ASTC_8x8_Format:gC,RGBA_BPTC_Format:rx,RGBA_ETC2_EAC_Format:lC,RGBA_PVRTC_2BPPV1_Format:sC,RGBA_PVRTC_4BPPV1_Format:rC,RGBA_S3TC_DXT1_Format:tx,RGBA_S3TC_DXT3_Format:nx,RGBA_S3TC_DXT5_Format:ix,RGBDepthPacking:use,RGBFormat:RN,RGBIntegerFormat:ase,RGB_BPTC_SIGNED_Format:EC,RGB_BPTC_UNSIGNED_Format:TC,RGB_ETC1_Format:aC,RGB_ETC2_Format:oC,RGB_PVRTC_2BPPV1_Format:iC,RGB_PVRTC_4BPPV1_Format:nC,RGB_S3TC_DXT1_Format:ex,RGDepthPacking:fse,RGFormat:ON,RGIntegerFormat:NA,RawShaderMaterial:nG,Ray:y_,Raycaster:cM,RectAreaLight:bG,RedFormat:DA,RedIntegerFormat:CS,ReinhardToneMapping:cj,RenderTarget:kA,RenderTarget3D:sle,RenderTargetArray:ale,RepeatWrapping:kx,ReplaceStencilOp:dse,ReverseSubtractEquation:GH,RingGeometry:nM,SIGNED_RED_GREEN_RGTC2_Format:AC,SIGNED_RED_RGTC1_Format:wC,SRGBColorSpace:ba,SRGBTransfer:Bi,Scene:HA,ShaderChunk:jn,ShaderLib:fu,ShaderMaterial:_u,ShadowMaterial:tG,Shape:Vg,ShapeGeometry:iM,ShapePath:Mle,ShapeUtils:du,ShortType:CN,Skeleton:qA,SkeletonHelper:mle,SkinnedMesh:Bj,Source:Sp,Sphere:ia,SphereGeometry:ly,Spherical:RG,SphericalHarmonics3:xG,SplineCurve:WN,SpotLight:gG,SpotLightHelper:ple,Sprite:kN,SpriteMaterial:GA,SrcAlphaFactor:$2,SrcAlphaSaturateFactor:tj,SrcColorFactor:YH,StaticCopyUsage:Ise,StaticDrawUsage:Hx,StaticReadUsage:Mse,StereoCamera:Voe,StreamCopyUsage:Dse,StreamDrawUsage:Ase,StreamReadUsage:Ose,StringKeyframeTrack:uy,SubtractEquation:jH,SubtractiveBlending:QI,TOUCH:ese,TangentSpaceNormalMap:Yp,TetrahedronGeometry:rM,Texture:ns,TextureLoader:Doe,TextureUtils:Nle,TimestampQuery:Lse,TorusGeometry:sM,TorusKnotGeometry:aM,Triangle:Zo,TriangleFanDrawMode:cse,TriangleStripDrawMode:lse,TrianglesDrawMode:ose,TubeGeometry:IS,UVMapping:RA,Uint16BufferAttribute:LN,Uint32BufferAttribute:UN,Uint8BufferAttribute:xae,Uint8ClampedBufferAttribute:Sae,Uniform:sL,UniformsGroup:lle,UniformsLib:Pt,UniformsUtils:Nj,UnsignedByteType:wc,UnsignedInt248Type:F0,UnsignedInt5999Type:AN,UnsignedIntType:Zh,UnsignedShort4444Type:IA,UnsignedShort5551Type:PA,UnsignedShortType:B0,VSMShadowMap:cu,Vector2:it,Vector3:fe,Vector4:pi,VectorKeyframeTrack:Yx,VideoFrameTexture:Gae,VideoTexture:Gj,WebGL3DRenderTarget:lae,WebGLArrayRenderTarget:oae,WebGLCoordinateSystem:Ec,WebGLCubeRenderTarget:Uj,WebGLRenderTarget:vu,WebGLRenderer:kG,WebGLUtils:UG,WebGPUCoordinateSystem:jx,WebXRController:s2,WireframeGeometry:eG,WrapAroundEnding:Fx,ZeroCurvatureEnding:Cg,ZeroFactor:$H,ZeroSlopeEnding:Ag,ZeroStencilOp:hse,createCanvasElement:Oj},Symbol.toStringTag,{value:"Module"})),gde=(n,e,t=50)=>{if(!n)return;const i=new fe;n.getPosition(i);const r=new fe;n.getTarget(r);const s=new fe().subVectors(i,e).normalize(),a=new fe().copy(e).addScaledVector(s,t),o={x:i.x,y:i.y,z:i.z};CA.to(o,{x:a.x,y:a.y,z:a.z,duration:1.5,ease:"power2.out",onUpdate:()=>{n.setLookAt(o.x,o.y,o.z,e.x,e.y,e.z,!0)},onComplete:()=>{Sn.setState({isNodeSceneViewActive:!0,cameraBackup:{pos:i.toArray(),target:r.toArray()}})}})},yde=n=>{const{cameraBackup:e}=Sn.getState();if(!n||!e)return;const[t,i,r]=e.pos,[s,a,o]=e.target,c=new fe;n.getPosition(c);const u={x:c.x,y:c.y,z:c.z};CA.to(u,{x:t,y:i,z:r,duration:1.5,ease:"power2.inOut",onUpdate:()=>{n.setLookAt(u.x,u.y,u.z,s,a,o,!0)},onComplete:()=>{Sn.setState({isNodeAddViewActive:!1,cameraBackup:null})}})};function vde(){const{user:n,isAuthenticated:e,isLoading:t,getAccessTokenSilently:i,logout:r,loginWithRedirect:s}=QK();return{user:n,isAuthenticated:e,isLoading:t,getAccessToken:i,logout:r,login:s}}const _de=n=>{const[e,t]=H.useState(null);return H.useEffect(()=>{if(!n){t(null);return}(async()=>{const s=JSON.parse(localStorage.getItem(tr.systemsCacheNameNodes)||"[]").map(u=>u.replace("/nodes","/tabs")),a=[P5(I0(Xg,E0.nodeTaxonomy),D5("node_index","==",n)),...s.map(u=>P5(I0(Xg,u),D5("node_index","==",n)))],c=(await Promise.all(a.map(u=>Cx(u)))).flatMap(u=>u.docs.map(h=>({id:h.id,...h.data()})))[0];t(c??null)})()},[n]),e},bde=n=>{const[e,t]=H.useState([]);return H.useEffect(()=>{if(!n||n.length===0){t([]);return}(async()=>{const s=(await Promise.all(n.map(a=>Pte(gte(Xg,E0.tabs,a))))).filter(a=>a.exists()).map(a=>({id:a.id,...a.data(),title_es:a.data().title_es,title_en:a.data().title_en}));t(s)})()},[n]),e},xde=async n=>{try{const e=n.map(r=>Cx(I0(Xg,r))),i=(await Promise.all(e)).map(r=>r.docs.map(s=>{const a=s.data();return{target:a.target,source:a.source}})).flat();return S2("debug",`Enlaces obtenidos desde Firestore(${n}): `,i),i}catch(e){return console.error("Error obteniendo enlaces desde Firestore:",e),[]}},Sde=async n=>{try{const e=n.map(r=>Cx(I0(Xg,r))),i=(await Promise.all(e)).map(r=>r.docs.map(s=>{const a=s.data();return{id:a.index,index:a.index,name:localStorage.getItem(tr.languageUser)==="es"?a.name_es:a.name_en,group:a.group,videoid:a.videoid,description:localStorage.getItem(tr.languageUser)==="es"?a.descrip_es:a.descrip_en}})).flat();return Sn.setState({documentsFirestore:i}),S2("debug",`Documentos obtenidos desde Firestore(${E0.AllSystemsNodesArray}): `,i),i}catch(e){return console.error("Error obteniendo documentos desde Firestore:",e),[]}},Ede=async()=>{const n=E0.systemsCollections,e=localStorage.getItem(tr.languageUser);try{const i=(await Cx(I0(Xg,n))).docs.map(c=>{const u=c.data();return{label:e==="es"?u.name_es:u.name_en,valueNodes:`${E0.systemsCollections}/${u.label}/nodes`,valueLinks:`${E0.systemsCollections}/${u.label}/links`}}),s=(await Cx(I0(Xg,"systems_sets/essentials/set"))).docs.map(c=>{const u=c.data(),h=u.systems.map(p=>{const y=i.find(v=>v.valueNodes.includes(p));return y||{label:p,valueNodes:"",valueLinks:""}});return{label:u.label,name:e==="es"?u.name_es:u.name_en,systems:h}}),a=new Set(s.flatMap(c=>c.systems.map(u=>u.valueNodes.split("/")[1]))),o=i.filter(c=>!a.has(c.valueNodes.split("/")[1]));return o.length>0&&s.push({label:"otros",name:"otros sistemas",systems:o}),S2("debug","Sistemas obtenidos desde Firestore: ",i),S2("debug","Sets mapeados para UI: ",s),s}catch(t){return console.error("Error obteniendo sistemas desde Firestore:",t),[]}},Tde=()=>{const n=Sn(r=>r.systemBjjSelectedNodes),e=Sn(r=>r.systemBjjSelectedLinks),[t,i]=H.useState({nodes:[],links:[]});return H.useEffect(()=>{(async()=>{Sn.setState({isLoadingFirestore:!0});try{const a=(await Sde(n)).filter(c=>c.id!==1),o=await xde(e);Sn.setState({linksData:o}),i({nodes:a,links:o})}catch(s){console.error("Error obteniendo datos:",s)}finally{Sn.setState({isLoadingFirestore:!1})}})()},[n,e]),t};function hP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function wde(n){if(Array.isArray(n))return n}function Cde(n){if(Array.isArray(n))return hP(n)}function Ade(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Mde(n,e,t){return e=DC(e),kde(n,zG()?Reflect.construct(e,t||[],DC(n).constructor):e.apply(n,t))}function Rde(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ode(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Bde(i.key),i)}}function Ide(n,e,t){return e&&Ode(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function DC(n){return DC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DC(n)}function Pde(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&dP(n,e)}function zG(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zG=function(){return!!n})()}function Dde(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Nde(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],c=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;c=!1}else for(;!(c=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(h){u=!0,r=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function Lde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ude(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kde(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ade(n)}function dP(n,e){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},dP(n,e)}function Yz(n,e){return wde(n)||Nde(n,e)||BG(n,e)||Lde()}function ib(n){return Cde(n)||Dde(n)||BG(n)||Ude()}function zde(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Bde(n){var e=zde(n,"string");return typeof e=="symbol"?e:e+""}function BG(n,e){if(n){if(typeof n=="string")return hP(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?hP(n,e):void 0}}var rb=typeof window<"u"&&window.THREE?window.THREE:{CanvasTexture:FN,Sprite:kN,SpriteMaterial:GA,SRGBColorSpace:ba},Fde=(function(n){function e(){var t,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(255, 255, 255, 1)";return Rde(this,e),t=Mde(this,e,[new rb.SpriteMaterial]),t._text="".concat(i),t._textHeight=r,t._color=s,t._backgroundColor=!1,t._padding=0,t._borderWidth=0,t._borderRadius=0,t._borderColor="white",t._offsetX=0,t._offsetY=0,t._strokeWidth=0,t._strokeColor="white",t._fontFace="system-ui",t._fontSize=90,t._fontWeight="normal",t._canvas=document.createElement("canvas"),t._genCanvas(),t}return Pde(e,n),Ide(e,[{key:"text",get:function(){return this._text},set:function(i){this._text=i,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(i){this._textHeight=i,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(i){this._color=i,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(i){this._backgroundColor=i,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(i){this._padding=i,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(i){this._borderWidth=i,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(i){this._borderRadius=i,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(i){this._borderColor=i,this._genCanvas()}},{key:"offsetX",get:function(){return this._offsetX},set:function(i){this._offsetX=i,this._genCanvas()}},{key:"offsetY",get:function(){return this._offsetY},set:function(i){this._offsetY=i,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(i){this._fontFace=i,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(i){this._fontSize=i,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(i){this._fontWeight=i,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(i){this._strokeWidth=i,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(i){this._strokeColor=i,this._genCanvas()}},{key:"_genCanvas",value:function(){var i=this,r=this._canvas,s=r.getContext("2d"),a=1/this.textHeight,o=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],c=o.map(function(F){return F*i.fontSize*a}),u=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],h=u.map(function(F){return F*i.fontSize*a}),p=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],y=p.map(function(F){return F*i.fontSize*a}),v=[this.offsetX,this.offsetY].map(function(F){return F*i.fontSize*a}),_=this.text.split(`
`),S="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);s.font=S;var E=Math.max.apply(Math,ib(_.map(function(F){return s.measureText(F).width}))),b=this.fontSize*_.length,w=E+c[0]*2+y[0]*2,A=b+c[1]*2+y[1]*2;if(r.width=w+Math.abs(v[0]),r.height=A+Math.abs(v[1]),s.translate.apply(s,ib(v.map(function(F){return Math.max(0,F)}))),this.borderWidth){if(s.strokeStyle=this.borderColor,c[0]){var C=c[0]/2;s.lineWidth=c[0],s.beginPath(),s.moveTo(C,h[0]),s.lineTo(C,A-h[3]),s.moveTo(w-C,h[1]),s.lineTo(w-C,A-h[2]),s.stroke()}if(c[1]){var D=c[1]/2;s.lineWidth=c[1],s.beginPath(),s.moveTo(Math.max(c[0],h[0]),D),s.lineTo(w-Math.max(c[0],h[1]),D),s.moveTo(Math.max(c[0],h[3]),A-D),s.lineTo(w-Math.max(c[0],h[2]),A-D),s.stroke()}if(this.borderRadius){var L=Math.max.apply(Math,ib(c)),P=L/2;s.lineWidth=L,s.beginPath(),[!!h[0]&&[h[0],P,P,h[0]],!!h[1]&&[w-h[1],w-P,P,h[1]],!!h[2]&&[w-h[2],w-P,A-P,A-h[2]],!!h[3]&&[h[3],P,A-P,A-h[3]]].filter(function(F){return F}).forEach(function(F){var z=Yz(F,4),V=z[0],K=z[1],ee=z[2],q=z[3];s.moveTo(V,ee),s.quadraticCurveTo(K,ee,K,q)}),s.stroke()}}this.backgroundColor&&(s.fillStyle=this.backgroundColor,this.borderRadius?(s.beginPath(),s.moveTo(c[0],h[0]),[[c[0],h[0],w-h[1],c[1],c[1],c[1]],[w-c[0],w-c[0],w-c[0],c[1],h[1],A-h[2]],[w-c[0],w-h[2],h[3],A-c[1],A-c[1],A-c[1]],[c[0],c[0],c[0],A-c[1],A-h[3],h[0]]].forEach(function(F){var z=Yz(F,6),V=z[0],K=z[1],ee=z[2],q=z[3],$=z[4],Q=z[5];s.quadraticCurveTo(V,q,K,$),s.lineTo(ee,Q)}),s.closePath(),s.fill()):s.fillRect(c[0],c[1],w-c[0]*2,A-c[1]*2)),s.translate.apply(s,ib(c)),s.translate.apply(s,ib(y)),s.font=S,s.fillStyle=this.color,s.textBaseline="bottom";var U=this.strokeWidth>0;U&&(s.lineWidth=this.strokeWidth*this.fontSize/10,s.strokeStyle=this.strokeColor),_.forEach(function(F,z){var V=(E-s.measureText(F).width)/2,K=(z+1)*i.fontSize;U&&s.strokeText(F,V,K),s.fillText(F,V,K)}),this.material.map&&this.material.map.dispose();var I=this.material.map=new rb.CanvasTexture(r);I.colorSpace=rb.SRGBColorSpace;var N=this.textHeight*_.length+o[1]*2+p[1]*2+Math.abs(this.offsetY);this.scale.set(N*r.width/r.height,N,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(i){return rb.Sprite.prototype.copy.call(this,i),this.color=i.color,this.backgroundColor=i.backgroundColor,this.padding=i.padding,this.borderWidth=i.borderWidth,this.borderColor=i.borderColor,this.offsetX=i.offsetX,this.offsetY=i.offsetY,this.fontFace=i.fontFace,this.fontSize=i.fontSize,this.fontWeight=i.fontWeight,this.strokeWidth=i.strokeWidth,this.strokeColor=i.strokeColor,this}}])})(rb.Sprite);function Vde(n){const e=new Nh,t=cW[n.group??"default"]??"gray",i=new ts(new ly(5,5),new oM({color:t})),r=new Fde(`${n.name} {${n.id}}`);return r.color="white",r.textHeight=3,r.position.set(0,7,0),r.backgroundColor="#000",e.add(i),e.add(r),e}const nw=()=>{const n=navigator.userAgent;return/android/i.test(n)?"Android":/iPad|iPhone|iPod/.test(n)?"iOS":/Windows NT/.test(n)?"Windows":/Mac OS X/.test(n)?"macOS":/Linux/.test(n)?"Linux":"Unknown"},Kz=n=>n,Hde=()=>{let n=Kz;return{configure(e){n=e},generate(e){return n(e)},reset(){n=Kz}}},FG=Hde();function ed(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}function yt(n){if(typeof n!="string")throw new Error(ed(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Zz(...n){return n.reduce((e,t)=>t==null?e:function(...r){e.apply(this,r),t.apply(this,r)},()=>{})}var HO={exports:{}},jO,Qz;function jde(){if(Qz)return jO;Qz=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jO=n,jO}var GO,Jz;function Gde(){if(Jz)return GO;Jz=1;var n=jde();function e(){}function t(){}return t.resetWarningCache=e,GO=function(){function i(a,o,c,u,h,p){if(p!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},GO}var eB;function qde(){return eB||(eB=1,HO.exports=Gde()()),HO.exports}var Wde=qde();const va=$p(Wde);function VG(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=VG(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Rt(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=VG(n))&&(i&&(i+=" "),i+=e);return i}function on(n,e,t=void 0){const i={};for(const r in n){const s=n[r];let a="",o=!0;for(let c=0;c<s.length;c+=1){const u=s[c];u&&(a+=(o===!0?"":" ")+e(u),o=!1,t&&t[u]&&(a+=" "+t[u]))}i[r]=a}return i}var qO={exports:{}},Wi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tB;function $de(){if(tB)return Wi;tB=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function _(S){if(typeof S=="object"&&S!==null){var E=S.$$typeof;switch(E){case n:switch(S=S.type,S){case t:case r:case i:case c:case u:case y:return S;default:switch(S=S&&S.$$typeof,S){case a:case o:case p:case h:return S;case s:return S;default:return E}}case e:return E}}}return Wi.ContextConsumer=s,Wi.ContextProvider=a,Wi.Element=n,Wi.ForwardRef=o,Wi.Fragment=t,Wi.Lazy=p,Wi.Memo=h,Wi.Portal=e,Wi.Profiler=r,Wi.StrictMode=i,Wi.Suspense=c,Wi.SuspenseList=u,Wi.isContextConsumer=function(S){return _(S)===s},Wi.isContextProvider=function(S){return _(S)===a},Wi.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===n},Wi.isForwardRef=function(S){return _(S)===o},Wi.isFragment=function(S){return _(S)===t},Wi.isLazy=function(S){return _(S)===p},Wi.isMemo=function(S){return _(S)===h},Wi.isPortal=function(S){return _(S)===e},Wi.isProfiler=function(S){return _(S)===r},Wi.isStrictMode=function(S){return _(S)===i},Wi.isSuspense=function(S){return _(S)===c},Wi.isSuspenseList=function(S){return _(S)===u},Wi.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===t||S===r||S===i||S===c||S===u||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===h||S.$$typeof===a||S.$$typeof===s||S.$$typeof===o||S.$$typeof===v||S.getModuleId!==void 0)},Wi.typeOf=_,Wi}var nB;function Xde(){return nB||(nB=1,qO.exports=$de()),qO.exports}var HG=Xde();function yf(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function jG(n){if(H.isValidElement(n)||HG.isValidElementType(n)||!yf(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=jG(n[t])}),e}function ra(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return yf(n)&&yf(e)&&Object.keys(e).forEach(r=>{H.isValidElement(e[r])||HG.isValidElementType(e[r])?i[r]=e[r]:yf(e[r])&&Object.prototype.hasOwnProperty.call(n,r)&&yf(n[r])?i[r]=ra(n[r],e[r],t):t.clone?i[r]=yf(e[r])?jG(e[r]):e[r]:i[r]=e[r]}),i}function lx(n,e){return e?ra(n,e,{clone:!1}):n}function iB(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,r)=>{const s=/min-width:\s*([0-9.]+)/;return+(i.match(s)?.[1]||0)-+(r.match(s)?.[1]||0)});return t.length?t.reduce((i,r)=>{const s=e[r];return delete i[r],i[r]=s,i},{...e}):e}function Yde(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function Kde(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,r]=t,s=Number.isNaN(+i)?i||0:+i;return n.containerQueries(r).up(s)}function Zde(n){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function t(s,a){s.up=(...o)=>e(n.breakpoints.up(...o),a),s.down=(...o)=>e(n.breakpoints.down(...o),a),s.between=(...o)=>e(n.breakpoints.between(...o),a),s.only=(...o)=>e(n.breakpoints.only(...o),a),s.not=(...o)=>{const c=e(n.breakpoints.not(...o),a);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const i={},r=s=>(t(i,s),i);return t(r),{...n,containerQueries:r}}const fM={xs:0,sm:600,md:900,lg:1200,xl:1536},rB={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${fM[n]}px)`},Qde={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:fM[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function bu(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const s=i.breakpoints||rB;return e.reduce((a,o,c)=>(a[s.up(s.keys[c])]=t(e[c]),a),{})}if(typeof e=="object"){const s=i.breakpoints||rB;return Object.keys(e).reduce((a,o)=>{if(Yde(s.keys,o)){const c=Kde(i.containerQueries?i:Qde,o);c&&(a[c]=t(e[o],o))}else if(Object.keys(s.values||fM).includes(o)){const c=s.up(o);a[c]=t(e[o],o)}else{const c=o;a[c]=e[c]}return a},{})}return t(e)}function GG(n={}){return n.keys?.reduce((t,i)=>{const r=n.up(i);return t[r]={},t},{})||{}}function pP(n,e){return n.reduce((t,i)=>{const r=t[i];return(!r||Object.keys(r).length===0)&&delete t[i],t},e)}function Jde(n,...e){const t=GG(n),i=[t,...e].reduce((r,s)=>ra(r,s),{});return pP(Object.keys(t),i)}function epe(n,e){if(typeof n!="object")return{};const t={},i=Object.keys(e);return Array.isArray(n)?i.forEach((r,s)=>{s<n.length&&(t[r]=!0)}):i.forEach(r=>{n[r]!=null&&(t[r]=!0)}),t}function WO({values:n,breakpoints:e,base:t}){const i=t||epe(n,e),r=Object.keys(i);if(r.length===0)return n;let s;return r.reduce((a,o,c)=>(Array.isArray(n)?(a[o]=n[c]!=null?n[c]:n[s],s=c):typeof n=="object"?(a[o]=n[o]!=null?n[o]:n[s],s=o):a[o]=n,a),{})}function hM(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((r,s)=>r&&r[s]?r[s]:null,n);if(i!=null)return i}return e.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,n)}function NC(n,e,t,i=t){let r;return typeof n=="function"?r=n(t):Array.isArray(n)?r=n[t]||i:r=hM(n,t)||i,e&&(r=e(r,i,n)),r}function ps(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:r}=n,s=a=>{if(a[e]==null)return null;const o=a[e],c=a.theme,u=hM(c,i)||{};return bu(a,o,p=>{let y=NC(u,r,p);return p===y&&typeof p=="string"&&(y=NC(u,r,`${e}${p==="default"?"":yt(p)}`,p)),t===!1?y:{[t]:y}})};return s.propTypes={},s.filterProps=[e],s}function tpe(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const npe={m:"margin",p:"padding"},ipe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},sB={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},rpe=tpe(n=>{if(n.length>2)if(sB[n])n=sB[n];else return[n];const[e,t]=n.split(""),i=npe[e],r=ipe[t]||"";return Array.isArray(r)?r.map(s=>i+s):[i+r]}),lL=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],cL=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...lL,...cL];function LS(n,e,t,i){const r=hM(n,e,!0)??t;return typeof r=="number"||typeof r=="string"?s=>typeof s=="string"?s:typeof r=="string"?r.startsWith("var(")&&s===0?0:r.startsWith("var(")&&s===1?r:`calc(${s} * ${r})`:r*s:Array.isArray(r)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),o=r[a];return s>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof r=="function"?r:()=>{}}function dM(n){return LS(n,"spacing",8)}function Qg(n,e){return typeof e=="string"||e==null?e:n(e)}function spe(n,e){return t=>n.reduce((i,r)=>(i[r]=Qg(e,t),i),{})}function ape(n,e,t,i){if(!e.includes(t))return null;const r=rpe(t),s=spe(r,i),a=n[t];return bu(n,a,s)}function qG(n,e){const t=dM(n.theme);return Object.keys(n).map(i=>ape(n,e,i,t)).reduce(lx,{})}function Kr(n){return qG(n,lL)}Kr.propTypes={};Kr.filterProps=lL;function Zr(n){return qG(n,cL)}Zr.propTypes={};Zr.filterProps=cL;function pM(...n){const e=n.reduce((i,r)=>(r.filterProps.forEach(s=>{i[s]=r}),i),{}),t=i=>Object.keys(i).reduce((r,s)=>e[s]?lx(r,e[s](i)):r,{});return t.propTypes={},t.filterProps=n.reduce((i,r)=>i.concat(r.filterProps),[]),t}function yc(n){return typeof n!="number"?n:`${n}px solid`}function Oc(n,e){return ps({prop:n,themeKey:"borders",transform:e})}const ope=Oc("border",yc),lpe=Oc("borderTop",yc),cpe=Oc("borderRight",yc),upe=Oc("borderBottom",yc),fpe=Oc("borderLeft",yc),hpe=Oc("borderColor"),dpe=Oc("borderTopColor"),ppe=Oc("borderRightColor"),mpe=Oc("borderBottomColor"),gpe=Oc("borderLeftColor"),ype=Oc("outline",yc),vpe=Oc("outlineColor"),mM=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=LS(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:Qg(e,i)});return bu(n,n.borderRadius,t)}return null};mM.propTypes={};mM.filterProps=["borderRadius"];pM(ope,lpe,cpe,upe,fpe,hpe,dpe,ppe,mpe,gpe,mM,ype,vpe);const gM=n=>{if(n.gap!==void 0&&n.gap!==null){const e=LS(n.theme,"spacing",8),t=i=>({gap:Qg(e,i)});return bu(n,n.gap,t)}return null};gM.propTypes={};gM.filterProps=["gap"];const yM=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=LS(n.theme,"spacing",8),t=i=>({columnGap:Qg(e,i)});return bu(n,n.columnGap,t)}return null};yM.propTypes={};yM.filterProps=["columnGap"];const vM=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=LS(n.theme,"spacing",8),t=i=>({rowGap:Qg(e,i)});return bu(n,n.rowGap,t)}return null};vM.propTypes={};vM.filterProps=["rowGap"];const _pe=ps({prop:"gridColumn"}),bpe=ps({prop:"gridRow"}),xpe=ps({prop:"gridAutoFlow"}),Spe=ps({prop:"gridAutoColumns"}),Epe=ps({prop:"gridAutoRows"}),Tpe=ps({prop:"gridTemplateColumns"}),wpe=ps({prop:"gridTemplateRows"}),Cpe=ps({prop:"gridTemplateAreas"}),Ape=ps({prop:"gridArea"});pM(gM,yM,vM,_pe,bpe,xpe,Spe,Epe,Tpe,wpe,Cpe,Ape);function b0(n,e){return e==="grey"?e:n}const Mpe=ps({prop:"color",themeKey:"palette",transform:b0}),Rpe=ps({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:b0}),Ope=ps({prop:"backgroundColor",themeKey:"palette",transform:b0});pM(Mpe,Rpe,Ope);function Rl(n){return n<=1&&n!==0?`${n*100}%`:n}const Ipe=ps({prop:"width",transform:Rl}),uL=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{const i=n.theme?.breakpoints?.values?.[t]||fM[t];return i?n.theme?.breakpoints?.unit!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Rl(t)}};return bu(n,n.maxWidth,e)}return null};uL.filterProps=["maxWidth"];const Ppe=ps({prop:"minWidth",transform:Rl}),Dpe=ps({prop:"height",transform:Rl}),Npe=ps({prop:"maxHeight",transform:Rl}),Lpe=ps({prop:"minHeight",transform:Rl});ps({prop:"size",cssProperty:"width",transform:Rl});ps({prop:"size",cssProperty:"height",transform:Rl});const Upe=ps({prop:"boxSizing"});pM(Ipe,uL,Ppe,Dpe,Npe,Lpe,Upe);const US={border:{themeKey:"borders",transform:yc},borderTop:{themeKey:"borders",transform:yc},borderRight:{themeKey:"borders",transform:yc},borderBottom:{themeKey:"borders",transform:yc},borderLeft:{themeKey:"borders",transform:yc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:yc},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:mM},color:{themeKey:"palette",transform:b0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:b0},backgroundColor:{themeKey:"palette",transform:b0},p:{style:Zr},pt:{style:Zr},pr:{style:Zr},pb:{style:Zr},pl:{style:Zr},px:{style:Zr},py:{style:Zr},padding:{style:Zr},paddingTop:{style:Zr},paddingRight:{style:Zr},paddingBottom:{style:Zr},paddingLeft:{style:Zr},paddingX:{style:Zr},paddingY:{style:Zr},paddingInline:{style:Zr},paddingInlineStart:{style:Zr},paddingInlineEnd:{style:Zr},paddingBlock:{style:Zr},paddingBlockStart:{style:Zr},paddingBlockEnd:{style:Zr},m:{style:Kr},mt:{style:Kr},mr:{style:Kr},mb:{style:Kr},ml:{style:Kr},mx:{style:Kr},my:{style:Kr},margin:{style:Kr},marginTop:{style:Kr},marginRight:{style:Kr},marginBottom:{style:Kr},marginLeft:{style:Kr},marginX:{style:Kr},marginY:{style:Kr},marginInline:{style:Kr},marginInlineStart:{style:Kr},marginInlineEnd:{style:Kr},marginBlock:{style:Kr},marginBlockStart:{style:Kr},marginBlockEnd:{style:Kr},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gM},rowGap:{style:vM},columnGap:{style:yM},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Rl},maxWidth:{style:uL},minWidth:{transform:Rl},height:{transform:Rl},maxHeight:{transform:Rl},minHeight:{transform:Rl},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function kpe(...n){const e=n.reduce((i,r)=>i.concat(Object.keys(r)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function zpe(n,e){return typeof n=="function"?n(e):n}function Bpe(){function n(t,i,r,s){const a={[t]:i,theme:r},o=s[t];if(!o)return{[t]:i};const{cssProperty:c=t,themeKey:u,transform:h,style:p}=o;if(i==null)return null;if(u==="typography"&&i==="inherit")return{[t]:i};const y=hM(r,u)||{};return p?p(a):bu(a,i,_=>{let S=NC(y,h,_);return _===S&&typeof _=="string"&&(S=NC(y,h,`${t}${_==="default"?"":yt(_)}`,_)),c===!1?S:{[c]:S}})}function e(t){const{sx:i,theme:r={},nested:s}=t||{};if(!i)return null;const a=r.unstable_sxConfig??US;function o(c){let u=c;if(typeof c=="function")u=c(r);else if(typeof c!="object")return c;if(!u)return null;const h=GG(r.breakpoints),p=Object.keys(h);let y=h;return Object.keys(u).forEach(v=>{const _=zpe(u[v],r);if(_!=null)if(typeof _=="object")if(a[v])y=lx(y,n(v,_,r,a));else{const S=bu({theme:r},_,E=>({[v]:E}));kpe(S,_)?y[v]=e({sx:_,theme:r,nested:!0}):y=lx(y,S)}else y=lx(y,n(v,_,r,a))}),!s&&r.modularCssLayers?{"@layer sx":iB(r,pP(p,y))}:iB(r,pP(p,y))}return Array.isArray(i)?i.map(o):o(i)}return e}const Jg=Bpe();Jg.filterProps=["sx"];const Fpe=n=>{const e={systemProps:{},otherProps:{}},t=n?.theme?.unstable_sxConfig??US;return Object.keys(n).forEach(i=>{t[i]?e.systemProps[i]=n[i]:e.otherProps[i]=n[i]}),e};function _M(n){const{sx:e,...t}=n,{systemProps:i,otherProps:r}=Fpe(t);let s;return Array.isArray(e)?s=[i,...e]:typeof e=="function"?s=(...a)=>{const o=e(...a);return yf(o)?{...i,...o}:i}:s={...i,...e},{...r,sx:s}}function Ko(){return Ko=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ko.apply(null,arguments)}function Vpe(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Hpe(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var jpe=(function(){function n(t){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Hpe(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Vpe(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},n})(),$a="-ms-",LC="-moz-",Ri="-webkit-",WG="comm",fL="rule",hL="decl",Gpe="@import",$G="@keyframes",qpe="@layer",Wpe=Math.abs,bM=String.fromCharCode,$pe=Object.assign;function Xpe(n,e){return xa(n,0)^45?(((e<<2^xa(n,0))<<2^xa(n,1))<<2^xa(n,2))<<2^xa(n,3):0}function XG(n){return n.trim()}function Ype(n,e){return(n=e.exec(n))?n[0]:n}function Oi(n,e,t){return n.replace(e,t)}function mP(n,e){return n.indexOf(e)}function xa(n,e){return n.charCodeAt(e)|0}function Qx(n,e,t){return n.slice(e,t)}function ff(n){return n.length}function dL(n){return n.length}function iw(n,e){return e.push(n),n}function Kpe(n,e){return n.map(e).join("")}var xM=1,X0=1,YG=0,sl=0,Cs=0,E_="";function SM(n,e,t,i,r,s,a){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:xM,column:X0,length:a,return:""}}function sb(n,e){return $pe(SM("",null,null,"",null,null,0),n,{length:-n.length},e)}function Zpe(){return Cs}function Qpe(){return Cs=sl>0?xa(E_,--sl):0,X0--,Cs===10&&(X0=1,xM--),Cs}function Nl(){return Cs=sl<YG?xa(E_,sl++):0,X0++,Cs===10&&(X0=1,xM++),Cs}function Mf(){return xa(E_,sl)}function o2(){return sl}function kS(n,e){return Qx(E_,n,e)}function Jx(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KG(n){return xM=X0=1,YG=ff(E_=n),sl=0,[]}function ZG(n){return E_="",n}function l2(n){return XG(kS(sl-1,gP(n===91?n+2:n===40?n+1:n)))}function Jpe(n){for(;(Cs=Mf())&&Cs<33;)Nl();return Jx(n)>2||Jx(Cs)>3?"":" "}function eme(n,e){for(;--e&&Nl()&&!(Cs<48||Cs>102||Cs>57&&Cs<65||Cs>70&&Cs<97););return kS(n,o2()+(e<6&&Mf()==32&&Nl()==32))}function gP(n){for(;Nl();)switch(Cs){case n:return sl;case 34:case 39:n!==34&&n!==39&&gP(Cs);break;case 40:n===41&&gP(n);break;case 92:Nl();break}return sl}function tme(n,e){for(;Nl()&&n+Cs!==57;)if(n+Cs===84&&Mf()===47)break;return"/*"+kS(e,sl-1)+"*"+bM(n===47?n:Nl())}function nme(n){for(;!Jx(Mf());)Nl();return kS(n,sl)}function ime(n){return ZG(c2("",null,null,null,[""],n=KG(n),0,[0],n))}function c2(n,e,t,i,r,s,a,o,c){for(var u=0,h=0,p=a,y=0,v=0,_=0,S=1,E=1,b=1,w=0,A="",C=r,D=s,L=i,P=A;E;)switch(_=w,w=Nl()){case 40:if(_!=108&&xa(P,p-1)==58){mP(P+=Oi(l2(w),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:P+=l2(w);break;case 9:case 10:case 13:case 32:P+=Jpe(_);break;case 92:P+=eme(o2()-1,7);continue;case 47:switch(Mf()){case 42:case 47:iw(rme(tme(Nl(),o2()),e,t),c);break;default:P+="/"}break;case 123*S:o[u++]=ff(P)*b;case 125*S:case 59:case 0:switch(w){case 0:case 125:E=0;case 59+h:b==-1&&(P=Oi(P,/\f/g,"")),v>0&&ff(P)-p&&iw(v>32?oB(P+";",i,t,p-1):oB(Oi(P," ","")+";",i,t,p-2),c);break;case 59:P+=";";default:if(iw(L=aB(P,e,t,u,h,r,o,A,C=[],D=[],p),s),w===123)if(h===0)c2(P,e,L,L,C,s,p,o,D);else switch(y===99&&xa(P,3)===110?100:y){case 100:case 108:case 109:case 115:c2(n,L,L,i&&iw(aB(n,L,L,0,0,r,o,A,r,C=[],p),D),r,D,p,o,i?C:D);break;default:c2(P,L,L,L,[""],D,0,o,D)}}u=h=v=0,S=b=1,A=P="",p=a;break;case 58:p=1+ff(P),v=_;default:if(S<1){if(w==123)--S;else if(w==125&&S++==0&&Qpe()==125)continue}switch(P+=bM(w),w*S){case 38:b=h>0?1:(P+="\f",-1);break;case 44:o[u++]=(ff(P)-1)*b,b=1;break;case 64:Mf()===45&&(P+=l2(Nl())),y=Mf(),h=p=ff(A=P+=nme(o2())),w++;break;case 45:_===45&&ff(P)==2&&(S=0)}}return s}function aB(n,e,t,i,r,s,a,o,c,u,h){for(var p=r-1,y=r===0?s:[""],v=dL(y),_=0,S=0,E=0;_<i;++_)for(var b=0,w=Qx(n,p+1,p=Wpe(S=a[_])),A=n;b<v;++b)(A=XG(S>0?y[b]+" "+w:Oi(w,/&\f/g,y[b])))&&(c[E++]=A);return SM(n,e,t,r===0?fL:o,c,u,h)}function rme(n,e,t){return SM(n,e,t,WG,bM(Zpe()),Qx(n,2,-2),0)}function oB(n,e,t,i){return SM(n,e,t,hL,Qx(n,0,i),Qx(n,i+1,-1),i)}function x0(n,e){for(var t="",i=dL(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function sme(n,e,t,i){switch(n.type){case qpe:if(n.children.length)break;case Gpe:case hL:return n.return=n.return||n.value;case WG:return"";case $G:return n.return=n.value+"{"+x0(n.children,i)+"}";case fL:n.value=n.props.join(",")}return ff(t=x0(n.children,i))?n.return=n.value+"{"+t+"}":""}function ame(n){var e=dL(n);return function(t,i,r,s){for(var a="",o=0;o<e;o++)a+=n[o](t,i,r,s)||"";return a}}function ome(n){return function(e){e.root||(e=e.return)&&n(e)}}function QG(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var lme=function(e,t,i){for(var r=0,s=0;r=s,s=Mf(),r===38&&s===12&&(t[i]=1),!Jx(s);)Nl();return kS(e,sl)},cme=function(e,t){var i=-1,r=44;do switch(Jx(r)){case 0:r===38&&Mf()===12&&(t[i]=1),e[i]+=lme(sl-1,t,i);break;case 2:e[i]+=l2(r);break;case 4:if(r===44){e[++i]=Mf()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=bM(r)}while(r=Nl());return e},ume=function(e,t){return ZG(cme(KG(e),t))},lB=new WeakMap,fme=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!lB.get(i))&&!r){lB.set(e,!0);for(var s=[],a=ume(t,s),o=i.props,c=0,u=0;c<a.length;c++)for(var h=0;h<o.length;h++,u++)e.props[u]=s[c]?a[c].replace(/&\f/g,o[h]):o[h]+" "+a[c]}}},hme=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function JG(n,e){switch(Xpe(n,e)){case 5103:return Ri+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ri+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ri+n+LC+n+$a+n+n;case 6828:case 4268:return Ri+n+$a+n+n;case 6165:return Ri+n+$a+"flex-"+n+n;case 5187:return Ri+n+Oi(n,/(\w+).+(:[^]+)/,Ri+"box-$1$2"+$a+"flex-$1$2")+n;case 5443:return Ri+n+$a+"flex-item-"+Oi(n,/flex-|-self/,"")+n;case 4675:return Ri+n+$a+"flex-line-pack"+Oi(n,/align-content|flex-|-self/,"")+n;case 5548:return Ri+n+$a+Oi(n,"shrink","negative")+n;case 5292:return Ri+n+$a+Oi(n,"basis","preferred-size")+n;case 6060:return Ri+"box-"+Oi(n,"-grow","")+Ri+n+$a+Oi(n,"grow","positive")+n;case 4554:return Ri+Oi(n,/([^-])(transform)/g,"$1"+Ri+"$2")+n;case 6187:return Oi(Oi(Oi(n,/(zoom-|grab)/,Ri+"$1"),/(image-set)/,Ri+"$1"),n,"")+n;case 5495:case 3959:return Oi(n,/(image-set\([^]*)/,Ri+"$1$`$1");case 4968:return Oi(Oi(n,/(.+:)(flex-)?(.*)/,Ri+"box-pack:$3"+$a+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ri+n+n;case 4095:case 3583:case 4068:case 2532:return Oi(n,/(.+)-inline(.+)/,Ri+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ff(n)-1-e>6)switch(xa(n,e+1)){case 109:if(xa(n,e+4)!==45)break;case 102:return Oi(n,/(.+:)(.+)-([^]+)/,"$1"+Ri+"$2-$3$1"+LC+(xa(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~mP(n,"stretch")?JG(Oi(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(xa(n,e+1)!==115)break;case 6444:switch(xa(n,ff(n)-3-(~mP(n,"!important")&&10))){case 107:return Oi(n,":",":"+Ri)+n;case 101:return Oi(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ri+(xa(n,14)===45?"inline-":"")+"box$3$1"+Ri+"$2$3$1"+$a+"$2box$3")+n}break;case 5936:switch(xa(n,e+11)){case 114:return Ri+n+$a+Oi(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ri+n+$a+Oi(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ri+n+$a+Oi(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ri+n+$a+n+n}return n}var dme=function(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case hL:e.return=JG(e.value,e.length);break;case $G:return x0([sb(e,{value:Oi(e.value,"@","@"+Ri)})],r);case fL:if(e.length)return Kpe(e.props,function(s){switch(Ype(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return x0([sb(e,{props:[Oi(s,/:(read-\w+)/,":"+LC+"$1")]})],r);case"::placeholder":return x0([sb(e,{props:[Oi(s,/:(plac\w+)/,":"+Ri+"input-$1")]}),sb(e,{props:[Oi(s,/:(plac\w+)/,":"+LC+"$1")]}),sb(e,{props:[Oi(s,/:(plac\w+)/,$a+"input-$1")]})],r)}return""})}},pme=[dme],mme=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(S){var E=S.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var r=e.stylisPlugins||pme,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(S){for(var E=S.getAttribute("data-emotion").split(" "),b=1;b<E.length;b++)s[E[b]]=!0;o.push(S)});var c,u=[fme,hme];{var h,p=[sme,ome(function(S){h.insert(S)})],y=ame(u.concat(r,p)),v=function(E){return x0(ime(E),y)};c=function(E,b,w,A){h=w,v(E?E+"{"+b.styles+"}":b.styles),A&&(_.inserted[b.name]=!0)}}var _={key:t,sheet:new jpe({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return _.sheet.hydrate(o),_},$O={exports:{}},Di={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cB;function gme(){if(cB)return Di;cB=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,o=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,S=n?Symbol.for("react.block"):60121,E=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function A(D){if(typeof D=="object"&&D!==null){var L=D.$$typeof;switch(L){case e:switch(D=D.type,D){case c:case u:case i:case s:case r:case p:return D;default:switch(D=D&&D.$$typeof,D){case o:case h:case _:case v:case a:return D;default:return L}}case t:return L}}}function C(D){return A(D)===u}return Di.AsyncMode=c,Di.ConcurrentMode=u,Di.ContextConsumer=o,Di.ContextProvider=a,Di.Element=e,Di.ForwardRef=h,Di.Fragment=i,Di.Lazy=_,Di.Memo=v,Di.Portal=t,Di.Profiler=s,Di.StrictMode=r,Di.Suspense=p,Di.isAsyncMode=function(D){return C(D)||A(D)===c},Di.isConcurrentMode=C,Di.isContextConsumer=function(D){return A(D)===o},Di.isContextProvider=function(D){return A(D)===a},Di.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===e},Di.isForwardRef=function(D){return A(D)===h},Di.isFragment=function(D){return A(D)===i},Di.isLazy=function(D){return A(D)===_},Di.isMemo=function(D){return A(D)===v},Di.isPortal=function(D){return A(D)===t},Di.isProfiler=function(D){return A(D)===s},Di.isStrictMode=function(D){return A(D)===r},Di.isSuspense=function(D){return A(D)===p},Di.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===i||D===u||D===s||D===r||D===p||D===y||typeof D=="object"&&D!==null&&(D.$$typeof===_||D.$$typeof===v||D.$$typeof===a||D.$$typeof===o||D.$$typeof===h||D.$$typeof===E||D.$$typeof===b||D.$$typeof===w||D.$$typeof===S)},Di.typeOf=A,Di}var uB;function yme(){return uB||(uB=1,$O.exports=gme()),$O.exports}var XO,fB;function vme(){if(fB)return XO;fB=1;var n=yme(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=i,s[n.Memo]=r;function a(_){return n.isMemo(_)?r:s[_.$$typeof]||e}var o=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,y=Object.prototype;function v(_,S,E){if(typeof S!="string"){if(y){var b=p(S);b&&b!==y&&v(_,b,E)}var w=c(S);u&&(w=w.concat(u(S)));for(var A=a(_),C=a(S),D=0;D<w.length;++D){var L=w[D];if(!t[L]&&!(E&&E[L])&&!(C&&C[L])&&!(A&&A[L])){var P=h(S,L);try{o(_,L,P)}catch{}}}}return _}return XO=v,XO}vme();var _me=!0;function eq(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):r&&(i+=r+" ")}),i}var pL=function(e,t,i){var r=e.key+"-"+t.name;(i===!1||_me===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},mL=function(e,t,i){pL(e,t,i);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function bme(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var xme={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Sme=/[A-Z]|^ms/g,Eme=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tq=function(e){return e.charCodeAt(1)===45},hB=function(e){return e!=null&&typeof e!="boolean"},YO=QG(function(n){return tq(n)?n:n.replace(Sme,"-$&").toLowerCase()}),dB=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Eme,function(i,r,s){return hf={name:r,styles:s,next:hf},r})}return xme[e]!==1&&!tq(e)&&typeof t=="number"&&t!==0?t+"px":t};function eS(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var r=t;if(r.anim===1)return hf={name:r.name,styles:r.styles,next:hf},r.name;var s=t;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)hf={name:a.name,styles:a.styles,next:hf},a=a.next;var o=s.styles+";";return o}return Tme(n,e,t)}case"function":{if(n!==void 0){var c=hf,u=t(n);return hf=c,eS(n,e,u)}break}}var h=t;if(e==null)return h;var p=e[h];return p!==void 0?p:h}function Tme(n,e,t){var i="";if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=eS(n,e,t[r])+";";else for(var s in t){var a=t[s];if(typeof a!="object"){var o=a;e!=null&&e[o]!==void 0?i+=s+"{"+e[o]+"}":hB(o)&&(i+=YO(s)+":"+dB(s,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var c=0;c<a.length;c++)hB(a[c])&&(i+=YO(s)+":"+dB(s,a[c])+";");else{var u=eS(n,e,a);switch(s){case"animation":case"animationName":{i+=YO(s)+":"+u+";";break}default:i+=s+"{"+u+"}"}}}return i}var pB=/label:\s*([^\s;{]+)\s*(;|$)/g,hf;function zS(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";hf=void 0;var s=n[0];if(s==null||s.raw===void 0)i=!1,r+=eS(t,e,s);else{var a=s;r+=a[0]}for(var o=1;o<n.length;o++)if(r+=eS(t,e,n[o]),i){var c=s;r+=c[o]}pB.lastIndex=0;for(var u="",h;(h=pB.exec(r))!==null;)u+="-"+h[1];var p=bme(r)+u;return{name:p,styles:r,next:hf}}var wme=function(e){return e()},nq=nI.useInsertionEffect?nI.useInsertionEffect:!1,iq=nq||wme,mB=nq||H.useLayoutEffect,rq=H.createContext(typeof HTMLElement<"u"?mme({key:"css"}):null);rq.Provider;var gL=function(e){return H.forwardRef(function(t,i){var r=H.useContext(rq);return e(t,r,i)})},EM=H.createContext({}),yL={}.hasOwnProperty,yP="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Cme=function(e,t){var i={};for(var r in t)yL.call(t,r)&&(i[r]=t[r]);return i[yP]=e,i},Ame=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return pL(t,i,r),iq(function(){return mL(t,i,r)}),null},Mme=gL(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=n[yP],s=[i],a="";typeof n.className=="string"?a=eq(e.registered,s,n.className):n.className!=null&&(a=n.className+" ");var o=zS(s,void 0,H.useContext(EM));a+=e.key+"-"+o.name;var c={};for(var u in n)yL.call(n,u)&&u!=="css"&&u!==yP&&(c[u]=n[u]);return c.className=a,t&&(c.ref=t),H.createElement(H.Fragment,null,H.createElement(Ame,{cache:e,serialized:o,isStringTag:typeof r=="string"}),H.createElement(r,c))}),Rme=Mme,gB=function(e,t){var i=arguments;if(t==null||!yL.call(t,"css"))return H.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=Rme,s[1]=Cme(e,t);for(var a=2;a<r;a++)s[a]=i[a];return H.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(gB||(gB={}));var Ome=gL(function(n,e){var t=n.styles,i=zS([t],void 0,H.useContext(EM)),r=H.useRef();return mB(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,c=document.querySelector('style[data-emotion="'+s+" "+i.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),c!==null&&(o=!0,c.setAttribute("data-emotion",s),a.hydrate([c])),r.current=[a,o],function(){a.flush()}},[e]),mB(function(){var s=r.current,a=s[0],o=s[1];if(o){s[1]=!1;return}if(i.next!==void 0&&mL(e,i.next,!0),a.tags.length){var c=a.tags[a.tags.length-1].nextElementSibling;a.before=c,a.flush()}e.insert("",i,a,!1)},[e,i.name]),null});function vL(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return zS(e)}function BS(){var n=vL.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Ime=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Pme=QG(function(n){return Ime.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Dme=Pme,Nme=function(e){return e!=="theme"},yB=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Dme:Nme},vB=function(e,t,i){var r;if(t){var s=t.shouldForwardProp;r=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},Lme=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return pL(t,i,r),iq(function(){return mL(t,i,r)}),null},Ume=function n(e,t){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,s,a;t!==void 0&&(s=t.label,a=t.target);var o=vB(e,t,i),c=o||yB(r),u=!c("as");return function(){var h=arguments,p=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var y=h[0];p.push(y[0]);for(var v=h.length,_=1;_<v;_++)p.push(h[_],y[_])}var S=gL(function(E,b,w){var A=u&&E.as||r,C="",D=[],L=E;if(E.theme==null){L={};for(var P in E)L[P]=E[P];L.theme=H.useContext(EM)}typeof E.className=="string"?C=eq(b.registered,D,E.className):E.className!=null&&(C=E.className+" ");var U=zS(p.concat(D),b.registered,L);C+=b.key+"-"+U.name,a!==void 0&&(C+=" "+a);var I=u&&o===void 0?yB(A):c,N={};for(var F in E)u&&F==="as"||I(F)&&(N[F]=E[F]);return N.className=C,w&&(N.ref=w),H.createElement(H.Fragment,null,H.createElement(Lme,{cache:b,serialized:U,isStringTag:typeof A=="string"}),H.createElement(A,N))});return S.displayName=s!==void 0?s:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=r,S.__emotion_styles=p,S.__emotion_forwardProp=o,Object.defineProperty(S,"toString",{value:function(){return"."+a}}),S.withComponent=function(E,b){var w=n(E,Ko({},t,b,{shouldForwardProp:vB(S,b,!0)}));return w.apply(void 0,p)},S}},kme=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],vP=Ume.bind(null);kme.forEach(function(n){vP[n]=vP(n)});function zme(n){return n==null||Object.keys(n).length===0}function Bme(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?r=>e(zme(r)?t:r):e;return Z.jsx(Ome,{styles:i})}function sq(n,e){return vP(n,e)}function Fme(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const _B=[];function Ip(n){return _B[0]=n,zS(_B)}const Vme=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function Hme(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...r}=n,s=Vme(e),a=Object.keys(s);function o(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t})`}function c(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-i/100}${t})`}function u(y,v){const _=a.indexOf(v);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t}) and (max-width:${(_!==-1&&typeof e[a[_]]=="number"?e[a[_]]:v)-i/100}${t})`}function h(y){return a.indexOf(y)+1<a.length?u(y,a[a.indexOf(y)+1]):o(y)}function p(y){const v=a.indexOf(y);return v===0?o(a[1]):v===a.length-1?c(a[v]):u(y,a[a.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:o,down:c,between:u,only:h,not:p,unit:t,...r}}const jme={borderRadius:4};function aq(n=8,e=dM({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function Gme(n,e){const t=this;if(t.vars){if(!t.colorSchemes?.[n]||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function T_(n={},...e){const{breakpoints:t={},palette:i={},spacing:r,shape:s={},...a}=n,o=Hme(t),c=aq(r);let u=ra({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:c,shape:{...jme,...s}},a);return u=Zde(u),u.applyStyles=Gme,u=e.reduce((h,p)=>ra(h,p),u),u.unstable_sxConfig={...US,...a?.unstable_sxConfig},u.unstable_sx=function(p){return Jg({sx:p,theme:this})},u}function qme(n){return Object.keys(n).length===0}function Wme(n=null){const e=H.useContext(EM);return!e||qme(e)?n:e}const $me=T_();function FS(n=$me){return Wme(n)}function KO(n){const e=Ip(n);return n!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):n}function Xme({styles:n,themeId:e,defaultTheme:t={}}){const i=FS(t),r=e&&i[e]||i;let s=typeof n=="function"?n(r):n;return r.modularCssLayers&&(Array.isArray(s)?s=s.map(a=>KO(typeof a=="function"?a(r):a)):s=KO(s)),Z.jsx(Bme,{styles:s})}function Yme(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:r}=n,s=sq("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(Jg);return H.forwardRef(function(c,u){const h=FS(t),{className:p,component:y="div",...v}=_M(c);return Z.jsx(s,{as:y,ref:u,className:Rt(p,r?r(i):i),theme:e&&h[e]||h,...v})})}const Kme={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ln(n,e,t="Mui"){const i=Kme[e];return i?`${t}-${i}`:`${FG.generate(n)}-${e}`}function cn(n,e,t="Mui"){const i={};return e.forEach(r=>{i[r]=ln(n,r,t)}),i}function oq(n){const{variants:e,...t}=n,i={variants:e,style:Ip(t),isProcessed:!0};return i.style===t||e&&e.forEach(r=>{typeof r.style!="function"&&(r.style=Ip(r.style))}),i}const Zme=T_();function ZO(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function Rg(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function Qme(n){return n?(e,t)=>t[n]:null}function Jme(n,e,t){n.theme=tge(n.theme)?t:n.theme[e]||n.theme}function u2(n,e,t){const i=typeof e=="function"?e(n):e;if(Array.isArray(i))return i.flatMap(r=>u2(n,r,t));if(Array.isArray(i?.variants)){let r;if(i.isProcessed)r=t?Rg(i.style,t):i.style;else{const{variants:s,...a}=i;r=t?Rg(Ip(a),t):a}return lq(n,i.variants,[r],t)}return i?.isProcessed?t?Rg(Ip(i.style),t):i.style:t?Rg(Ip(i),t):i}function lq(n,e,t=[],i=void 0){let r;e:for(let s=0;s<e.length;s+=1){const a=e[s];if(typeof a.props=="function"){if(r??={...n,...n.ownerState,ownerState:n.ownerState},!a.props(r))continue}else for(const o in a.props)if(n[o]!==a.props[o]&&n.ownerState?.[o]!==a.props[o])continue e;typeof a.style=="function"?(r??={...n,...n.ownerState,ownerState:n.ownerState},t.push(i?Rg(Ip(a.style(r)),i):a.style(r))):t.push(i?Rg(Ip(a.style),i):a.style)}return t}function cq(n={}){const{themeId:e,defaultTheme:t=Zme,rootShouldForwardProp:i=ZO,slotShouldForwardProp:r=ZO}=n;function s(o){Jme(o,e,t)}return(o,c={})=>{Fme(o,L=>L.filter(P=>P!==Jg));const{name:u,slot:h,skipVariantsResolver:p,skipSx:y,overridesResolver:v=Qme(ige(h)),..._}=c,S=u&&u.startsWith("Mui")||h?"components":"custom",E=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,b=y||!1;let w=ZO;h==="Root"||h==="root"?w=i:h?w=r:nge(o)&&(w=void 0);const A=sq(o,{shouldForwardProp:w,label:ege(),..._}),C=L=>{if(L.__emotion_real===L)return L;if(typeof L=="function")return function(U){return u2(U,L,U.theme.modularCssLayers?S:void 0)};if(yf(L)){const P=oq(L);return function(I){return P.variants?u2(I,P,I.theme.modularCssLayers?S:void 0):I.theme.modularCssLayers?Rg(P.style,S):P.style}}return L},D=(...L)=>{const P=[],U=L.map(C),I=[];if(P.push(s),u&&v&&I.push(function(V){const ee=V.theme.components?.[u]?.styleOverrides;if(!ee)return null;const q={};for(const $ in ee)q[$]=u2(V,ee[$],V.theme.modularCssLayers?"theme":void 0);return v(V,q)}),u&&!E&&I.push(function(V){const ee=V.theme?.components?.[u]?.variants;return ee?lq(V,ee,[],V.theme.modularCssLayers?"theme":void 0):null}),b||I.push(Jg),Array.isArray(U[0])){const z=U.shift(),V=new Array(P.length).fill(""),K=new Array(I.length).fill("");let ee;ee=[...V,...z,...K],ee.raw=[...V,...z.raw,...K],P.unshift(ee)}const N=[...P,...U,...I],F=A(...N);return o.muiName&&(F.muiName=o.muiName),F};return A.withConfig&&(D.withConfig=A.withConfig),D}}function ege(n,e){return void 0}function tge(n){for(const e in n)return!1;return!0}function nge(n){return typeof n=="string"&&n.charCodeAt(0)>96}function ige(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const uq=cq();function tS(n,e,t=!1){const i={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const s=r;if(s==="components"||s==="slots")i[s]={...n[s],...i[s]};else if(s==="componentsProps"||s==="slotProps"){const a=n[s],o=e[s];if(!o)i[s]=a||{};else if(!a)i[s]=o;else{i[s]={...o};for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const u=c;i[s][u]=tS(a[u],o[u],t)}}}else s==="className"&&t&&e.className?i.className=Rt(n?.className,e?.className):s==="style"&&t&&e.style?i.style={...n?.style,...e?.style}:i[s]===void 0&&(i[s]=n[s])}return i}function rge(n){const{theme:e,name:t,props:i}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?i:tS(e.components[t].defaultProps,i)}function fq({props:n,name:e,defaultTheme:t,themeId:i}){let r=FS(t);return i&&(r=r[i]||r),rge({theme:r,name:e,props:n})}const xu=typeof window<"u"?H.useLayoutEffect:H.useEffect;function sge(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function _L(n,e=0,t=1){return sge(n,e,t)}function age(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Gp(n){if(n.type)return n;if(n.charAt(0)==="#")return Gp(age(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(ed(9,n));let i=n.substring(e+1,n.length-1),r;if(t==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(ed(10,r))}else i=i.split(",");return i=i.map(s=>parseFloat(s)),{type:t,values:i,colorSpace:r}}const oge=n=>{const e=Gp(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},Db=(n,e)=>{try{return oge(n)}catch{return n}};function TM(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((r,s)=>s<3?parseInt(r,10):r):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function hq(n){n=Gp(n);const{values:e}=n,t=e[0],i=e[1]/100,r=e[2]/100,s=i*Math.min(r,1-r),a=(u,h=(u+t/30)%12)=>r-s*Math.max(Math.min(h-3,9-h,1),-1);let o="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(o+="a",c.push(e[3])),TM({type:o,values:c})}function _P(n){n=Gp(n);let e=n.type==="hsl"||n.type==="hsla"?Gp(hq(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function lge(n,e){const t=_P(n),i=_P(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function UC(n,e){return n=Gp(n),e=_L(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,TM(n)}function og(n,e,t){try{return UC(n,e)}catch{return n}}function wM(n,e){if(n=Gp(n),e=_L(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return TM(n)}function ki(n,e,t){try{return wM(n,e)}catch{return n}}function VS(n,e){if(n=Gp(n),e=_L(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return TM(n)}function zi(n,e,t){try{return VS(n,e)}catch{return n}}function cge(n,e=.15){return _P(n)>.5?wM(n,e):VS(n,e)}function rw(n,e,t){try{return cge(n,e)}catch{return n}}const uge=H.createContext(),HS=()=>H.useContext(uge)??!1,fge=H.createContext(void 0);function hge(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const r=e.components[t];return r.defaultProps?tS(r.defaultProps,i,e.components.mergeClassNameAndStyle):!r.styleOverrides&&!r.variants?tS(r,i,e.components.mergeClassNameAndStyle):i}function dge({props:n,name:e}){const t=H.useContext(fge);return hge({props:n,name:e,theme:{components:t}})}let bB=0;function pge(n){const[e,t]=H.useState(n),i=n||e;return H.useEffect(()=>{e==null&&(bB+=1,t(`mui-${bB}`))},[e]),i}const mge={...nI},xB=mge.useId;function w_(n){if(xB!==void 0){const e=xB();return n??e}return pge(n)}const SB={theme:void 0};function gge(n){let e,t;return function(r){let s=e;return(s===void 0||r.theme!==t)&&(SB.theme=r.theme,s=oq(n(SB)),e=s,t=r.theme),s}}function yge(n=""){function e(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${r}${e(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${n?`${n}-`:""}${i}${e(...r)})`}const EB=(n,e,t,i=[])=>{let r=n;e.forEach((s,a)=>{a===e.length-1?Array.isArray(r)?r[Number(s)]=t:r&&typeof r=="object"&&(r[s]=t):r&&typeof r=="object"&&(r[s]||(r[s]=i.includes(s)?[]:{}),r=r[s])})},vge=(n,e,t)=>{function i(r,s=[],a=[]){Object.entries(r).forEach(([o,c])=>{(!t||t&&!t([...s,o]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?i(c,[...s,o],Array.isArray(c)?[...a,o]:a):e([...s,o],c,a))})}i(n)},_ge=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function QO(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},r={},s={},a={};return vge(n,(o,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(!i||!i(o,c))){const h=`--${t?`${t}-`:""}${o.join("-")}`,p=_ge(o,c);Object.assign(r,{[h]:p}),EB(s,o,`var(${h})`,u),EB(a,o,`var(${h}, ${p})`,u)}},o=>o[0]==="vars"),{css:r,vars:s,varsWithDefaults:a}}function bge(n,e={}){const{getSelector:t=b,disableCssColorScheme:i,colorSchemeSelector:r,enableContrastVars:s}=e,{colorSchemes:a={},components:o,defaultColorScheme:c="light",...u}=n,{vars:h,css:p,varsWithDefaults:y}=QO(u,e);let v=y;const _={},{[c]:S,...E}=a;if(Object.entries(E||{}).forEach(([C,D])=>{const{vars:L,css:P,varsWithDefaults:U}=QO(D,e);v=ra(v,U),_[C]={css:P,vars:L}}),S){const{css:C,vars:D,varsWithDefaults:L}=QO(S,e);v=ra(v,L),_[c]={css:C,vars:D}}function b(C,D){let L=r;if(r==="class"&&(L=".%s"),r==="data"&&(L="[data-%s]"),r?.startsWith("data-")&&!r.includes("%s")&&(L=`[${r}="%s"]`),C){if(L==="media")return n.defaultColorScheme===C?":root":{[`@media (prefers-color-scheme: ${a[C]?.palette?.mode||C})`]:{":root":D}};if(L)return n.defaultColorScheme===C?`:root, ${L.replace("%s",String(C))}`:L.replace("%s",String(C))}return":root"}return{vars:v,generateThemeVars:()=>{let C={...h};return Object.entries(_).forEach(([,{vars:D}])=>{C=ra(C,D)}),C},generateStyleSheets:()=>{const C=[],D=n.defaultColorScheme||"light";function L(I,N){Object.keys(N).length&&C.push(typeof I=="string"?{[I]:{...N}}:I)}L(t(void 0,{...p}),p);const{[D]:P,...U}=_;if(P){const{css:I}=P,N=a[D]?.palette?.mode,F=!i&&N?{colorScheme:N,...I}:{...I};L(t(D,{...F}),F)}return Object.entries(U).forEach(([I,{css:N}])=>{const F=a[I]?.palette?.mode,z=!i&&F?{colorScheme:F,...N}:{...N};L(t(I,{...z}),z)}),s&&C.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),C}}}function xge(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function cx(n,e){return H.isValidElement(n)&&e.indexOf(n.type.muiName??n.type?._payload?.value?.muiName)!==-1}const Sge=(n,e)=>n.filter(t=>e.includes(t)),C_=(n,e,t)=>{const i=n.keys[0];Array.isArray(e)?e.forEach((r,s)=>{t((a,o)=>{s<=n.keys.length-1&&(s===0?Object.assign(a,o):a[n.up(n.keys[s])]=o)},r)}):e&&typeof e=="object"?(Object.keys(e).length>n.keys.length?n.keys:Sge(n.keys,Object.keys(e))).forEach(s=>{if(n.keys.includes(s)){const a=e[s];a!==void 0&&t((o,c)=>{i===s?Object.assign(o,c):o[n.up(s)]=c},a)}}):(typeof e=="number"||typeof e=="string")&&t((r,s)=>{Object.assign(r,s)},e)};function kC(n){return`--Grid-${n}Spacing`}function CM(n){return`--Grid-parent-${n}Spacing`}const TB="--Grid-columns",S0="--Grid-parent-columns",Ege=({theme:n,ownerState:e})=>{const t={};return C_(n.breakpoints,e.size,(i,r)=>{let s={};r==="grow"&&(s={flexBasis:0,flexGrow:1,maxWidth:"100%"}),r==="auto"&&(s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof r=="number"&&(s={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${r} / var(${S0}) - (var(${S0}) - ${r}) * (var(${CM("column")}) / var(${S0})))`}),i(t,s)}),t},Tge=({theme:n,ownerState:e})=>{const t={};return C_(n.breakpoints,e.offset,(i,r)=>{let s={};r==="auto"&&(s={marginLeft:"auto"}),typeof r=="number"&&(s={marginLeft:r===0?"0px":`calc(100% * ${r} / var(${S0}) + var(${CM("column")}) * ${r} / var(${S0}))`}),i(t,s)}),t},wge=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={[TB]:12};return C_(n.breakpoints,e.columns,(i,r)=>{const s=r??12;i(t,{[TB]:s,"> *":{[S0]:s}})}),t},Cge=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return C_(n.breakpoints,e.rowSpacing,(i,r)=>{const s=typeof r=="string"?r:n.spacing?.(r);i(t,{[kC("row")]:s,"> *":{[CM("row")]:s}})}),t},Age=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return C_(n.breakpoints,e.columnSpacing,(i,r)=>{const s=typeof r=="string"?r:n.spacing?.(r);i(t,{[kC("column")]:s,"> *":{[CM("column")]:s}})}),t},Mge=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return C_(n.breakpoints,e.direction,(i,r)=>{i(t,{flexDirection:r})}),t},Rge=({ownerState:n})=>({minWidth:0,boxSizing:"border-box",...n.container&&{display:"flex",flexWrap:"wrap",...n.wrap&&n.wrap!=="wrap"&&{flexWrap:n.wrap},gap:`var(${kC("row")}) var(${kC("column")})`}}),Oge=n=>{const e=[];return Object.entries(n).forEach(([t,i])=>{i!==!1&&i!==void 0&&e.push(`grid-${t}-${String(i)}`)}),e},Ige=(n,e="xs")=>{function t(i){return i===void 0?!1:typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"&&i>0}if(t(n))return[`spacing-${e}-${String(n)}`];if(typeof n=="object"&&!Array.isArray(n)){const i=[];return Object.entries(n).forEach(([r,s])=>{t(s)&&i.push(`spacing-${r}-${String(s)}`)}),i}return[]},Pge=n=>n===void 0?[]:typeof n=="object"?Object.entries(n).map(([e,t])=>`direction-${e}-${t}`):[`direction-xs-${String(n)}`];function Dge(n,e){n.item!==void 0&&delete n.item,n.zeroMinWidth!==void 0&&delete n.zeroMinWidth,e.keys.forEach(t=>{n[t]!==void 0&&delete n[t]})}const Nge=T_(),Lge=uq("div",{name:"MuiGrid",slot:"Root"});function Uge(n){return fq({props:n,name:"MuiGrid",defaultTheme:Nge})}function kge(n={}){const{createStyledComponent:e=Lge,useThemeProps:t=Uge,useTheme:i=FS,componentName:r="MuiGrid"}=n,s=(u,h)=>{const{container:p,direction:y,spacing:v,wrap:_,size:S}=u,E={root:["root",p&&"container",_!=="wrap"&&`wrap-xs-${String(_)}`,...Pge(y),...Oge(S),...p?Ige(v,h.breakpoints.keys[0]):[]]};return on(E,b=>ln(r,b),{})};function a(u,h,p=()=>!0){const y={};return u===null||(Array.isArray(u)?u.forEach((v,_)=>{v!==null&&p(v)&&h.keys[_]&&(y[h.keys[_]]=v)}):typeof u=="object"?Object.keys(u).forEach(v=>{const _=u[v];_!=null&&p(_)&&(y[v]=_)}):y[h.keys[0]]=u),y}const o=e(wge,Age,Cge,Ege,Mge,Rge,Tge),c=H.forwardRef(function(h,p){const y=i(),v=t(h),_=_M(v);Dge(_,y.breakpoints);const{className:S,children:E,columns:b=12,container:w=!1,component:A="div",direction:C="row",wrap:D="wrap",size:L={},offset:P={},spacing:U=0,rowSpacing:I=U,columnSpacing:N=U,unstable_level:F=0,...z}=_,V=a(L,y.breakpoints,Y=>Y!==!1),K=a(P,y.breakpoints),ee=h.columns??(F?void 0:b),q=h.spacing??(F?void 0:U),$=h.rowSpacing??h.spacing??(F?void 0:I),Q=h.columnSpacing??h.spacing??(F?void 0:N),re={..._,level:F,columns:ee,container:w,direction:C,wrap:D,spacing:q,rowSpacing:$,columnSpacing:Q,size:V,offset:K},de=s(re,y);return Z.jsx(o,{ref:p,as:A,ownerState:re,className:Rt(de.root,S),...z,children:H.Children.map(E,Y=>H.isValidElement(Y)&&cx(Y,["Grid"])&&w&&Y.props.container?H.cloneElement(Y,{unstable_level:Y.props?.unstable_level??F+1}):Y)})});return c.muiName="Grid",c}const zge=T_(),Bge=uq("div",{name:"MuiStack",slot:"Root"});function Fge(n){return fq({props:n,name:"MuiStack",defaultTheme:zge})}function Vge(n,e){const t=H.Children.toArray(n).filter(Boolean);return t.reduce((i,r,s)=>(i.push(r),s<t.length-1&&i.push(H.cloneElement(e,{key:`separator-${s}`})),i),[])}const Hge=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],jge=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...bu({theme:e},WO({values:n.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i}))};if(n.spacing){const i=dM(e),r=Object.keys(e.breakpoints.values).reduce((c,u)=>((typeof n.spacing=="object"&&n.spacing[u]!=null||typeof n.direction=="object"&&n.direction[u]!=null)&&(c[u]=!0),c),{}),s=WO({values:n.direction,base:r}),a=WO({values:n.spacing,base:r});typeof s=="object"&&Object.keys(s).forEach((c,u,h)=>{if(!s[c]){const y=u>0?s[h[u-1]]:"column";s[c]=y}}),t=ra(t,bu({theme:e},a,(c,u)=>n.useFlexGap?{gap:Qg(i,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Hge(u?s[u]:n.direction)}`]:Qg(i,c)}}))}return t=Jde(e.breakpoints,t),t};function Gge(n={}){const{createStyledComponent:e=Bge,useThemeProps:t=Fge,componentName:i="MuiStack"}=n,r=()=>on({root:["root"]},c=>ln(i,c),{}),s=e(jge);return H.forwardRef(function(c,u){const h=t(c),p=_M(h),{component:y="div",direction:v="column",spacing:_=0,divider:S,children:E,className:b,useFlexGap:w=!1,...A}=p,C={direction:v,spacing:_,useFlexGap:w},D=r();return Z.jsx(s,{as:y,ownerState:C,ref:u,className:Rt(D.root,b),...A,children:S?Vge(E,S):E})})}const nS={black:"#000",white:"#fff"},qge={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Mv={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Rv={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ab={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Ov={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Iv={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Pv={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function dq(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:nS.white,default:nS.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const pq=dq();function mq(){return{text:{primary:nS.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:nS.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const bP=mq();function wB(n,e,t,i){const r=i.light||i,s=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=VS(n.main,r):e==="dark"&&(n.dark=wM(n.main,s)))}function CB(n,e,t,i,r){const s=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(s*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(a*100).toFixed(0)}%)`))}function Wge(n="light"){return n==="dark"?{main:Ov[200],light:Ov[50],dark:Ov[400]}:{main:Ov[700],light:Ov[400],dark:Ov[800]}}function $ge(n="light"){return n==="dark"?{main:Mv[200],light:Mv[50],dark:Mv[400]}:{main:Mv[500],light:Mv[300],dark:Mv[700]}}function Xge(n="light"){return n==="dark"?{main:Rv[500],light:Rv[300],dark:Rv[700]}:{main:Rv[700],light:Rv[400],dark:Rv[800]}}function Yge(n="light"){return n==="dark"?{main:Iv[400],light:Iv[300],dark:Iv[700]}:{main:Iv[700],light:Iv[500],dark:Iv[900]}}function Kge(n="light"){return n==="dark"?{main:Pv[400],light:Pv[300],dark:Pv[700]}:{main:Pv[800],light:Pv[500],dark:Pv[900]}}function Zge(n="light"){return n==="dark"?{main:ab[400],light:ab[300],dark:ab[700]}:{main:"#ed6c02",light:ab[500],dark:ab[900]}}function Qge(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function bL(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,colorSpace:r,...s}=n,a=n.primary||Wge(e),o=n.secondary||$ge(e),c=n.error||Xge(e),u=n.info||Yge(e),h=n.success||Kge(e),p=n.warning||Zge(e);function y(E){return r?Qge(E):lge(E,bP.text.primary)>=t?bP.text.primary:pq.text.primary}const v=({color:E,name:b,mainShade:w=500,lightShade:A=300,darkShade:C=700})=>{if(E={...E},!E.main&&E[w]&&(E.main=E[w]),!E.hasOwnProperty("main"))throw new Error(ed(11,b?` (${b})`:"",w));if(typeof E.main!="string")throw new Error(ed(12,b?` (${b})`:"",JSON.stringify(E.main)));return r?(CB(r,E,"light",A,i),CB(r,E,"dark",C,i)):(wB(E,"light",A,i),wB(E,"dark",C,i)),E.contrastText||(E.contrastText=y(E.main)),E};let _;return e==="light"?_=dq():e==="dark"&&(_=mq()),ra({common:{...nS},mode:e,primary:v({color:a,name:"primary"}),secondary:v({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:c,name:"error"}),warning:v({color:p,name:"warning"}),info:v({color:u,name:"info"}),success:v({color:h,name:"success"}),grey:qge,contrastThreshold:t,getContrastText:y,augmentColor:v,tonalOffset:i,..._},s)}function Jge(n){const e={};return Object.entries(n).forEach(i=>{const[r,s]=i;typeof s=="object"&&(e[r]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function eye(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function tye(n){return Math.round(n*1e5)/1e5}const AB={textTransform:"uppercase"},MB='"Roboto", "Helvetica", "Arial", sans-serif';function nye(n,e){const{fontFamily:t=MB,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:o=700,htmlFontSize:c=16,allVariants:u,pxToRem:h,...p}=typeof e=="function"?e(n):e,y=i/14,v=h||(E=>`${E/c*y}rem`),_=(E,b,w,A,C)=>({fontFamily:t,fontWeight:E,fontSize:v(b),lineHeight:w,...t===MB?{letterSpacing:`${tye(A/b)}em`}:{},...C,...u}),S={h1:_(r,96,1.167,-1.5),h2:_(r,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(a,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(a,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(a,14,1.75,.4,AB),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,AB),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ra({htmlFontSize:c,pxToRem:v,fontFamily:t,fontSize:i,fontWeightLight:r,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:o,...S},p,{clone:!1})}const iye=.2,rye=.14,sye=.12;function _r(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${iye})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${rye})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${sye})`].join(",")}const aye=["none",_r(0,2,1,-1,0,1,1,0,0,1,3,0),_r(0,3,1,-2,0,2,2,0,0,1,5,0),_r(0,3,3,-2,0,3,4,0,0,1,8,0),_r(0,2,4,-1,0,4,5,0,0,1,10,0),_r(0,3,5,-1,0,5,8,0,0,1,14,0),_r(0,3,5,-1,0,6,10,0,0,1,18,0),_r(0,4,5,-2,0,7,10,1,0,2,16,1),_r(0,5,5,-3,0,8,10,1,0,3,14,2),_r(0,5,6,-3,0,9,12,1,0,3,16,2),_r(0,6,6,-3,0,10,14,1,0,4,18,3),_r(0,6,7,-4,0,11,15,1,0,4,20,3),_r(0,7,8,-4,0,12,17,2,0,5,22,4),_r(0,7,8,-4,0,13,19,2,0,5,24,4),_r(0,7,9,-4,0,14,21,2,0,5,26,4),_r(0,8,9,-5,0,15,22,2,0,6,28,5),_r(0,8,10,-5,0,16,24,2,0,6,30,5),_r(0,8,11,-5,0,17,26,2,0,6,32,5),_r(0,9,11,-5,0,18,28,2,0,7,34,6),_r(0,9,12,-6,0,19,29,2,0,7,36,6),_r(0,10,13,-6,0,20,31,3,0,8,38,7),_r(0,10,13,-6,0,21,33,3,0,8,40,7),_r(0,10,14,-6,0,22,35,3,0,8,42,7),_r(0,11,14,-7,0,23,36,3,0,9,44,8),_r(0,11,15,-7,0,24,38,3,0,9,46,8)],oye={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},gq={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function RB(n){return`${Math.round(n)}ms`}function lye(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function cye(n){const e={...oye,...n.easing},t={...gq,...n.duration};return{getAutoHeightDuration:lye,create:(r=["all"],s={})=>{const{duration:a=t.standard,easing:o=e.easeInOut,delay:c=0,...u}=s;return(Array.isArray(r)?r:[r]).map(h=>`${h} ${typeof a=="string"?a:RB(a)} ${o} ${typeof c=="string"?c:RB(c)}`).join(",")},...n,easing:e,duration:t}}const uye={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function fye(n){return yf(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function yq(n={}){const e={...n};function t(i){const r=Object.entries(i);for(let s=0;s<r.length;s++){const[a,o]=r[s];!fye(o)||a.startsWith("unstable_")?delete i[a]:yf(o)&&(i[a]={...o},t(i[a]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function OB(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const hye=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let i=0;i<e.length;i+=1)t+=+e[i];return t};function dye(n){Object.assign(n,{alpha(e,t){const i=this||n;return i.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:i.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:UC(e,hye(t))},lighten(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #fff ${OB(t)})`:VS(e,t)},darken(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #000 ${OB(t)})`:wM(e,t)}})}function xP(n={},...e){const{breakpoints:t,mixins:i={},spacing:r,palette:s={},transitions:a={},typography:o={},shape:c,colorSpace:u,...h}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(ed(20));const p=bL({...s,colorSpace:u}),y=T_(n);let v=ra(y,{mixins:eye(y.breakpoints,i),palette:p,shadows:aye.slice(),typography:nye(p,o),transitions:cye(a),zIndex:{...uye}});return v=ra(v,h),v=e.reduce((_,S)=>ra(_,S),v),v.unstable_sxConfig={...US,...h?.unstable_sxConfig},v.unstable_sx=function(S){return Jg({sx:S,theme:this})},v.toRuntimeSource=yq,dye(v),v}function SP(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const pye=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=SP(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function vq(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function _q(n){return n==="dark"?pye:[]}function mye(n){const{palette:e={mode:"light"},opacity:t,overlays:i,colorSpace:r,...s}=n,a=bL({...e,colorSpace:r});return{palette:a,opacity:{...vq(a.mode),...t},overlays:i||_q(a.mode),...s}}function gye(n){return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!n[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const yye=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],vye=n=>(e,t)=>{const i=n.rootSelector||":root",r=n.colorSchemeSelector;let s=r;if(r==="class"&&(s=".%s"),r==="data"&&(s="[data-%s]"),r?.startsWith("data-")&&!r.includes("%s")&&(s=`[${r}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const a={};return yye(n.cssVarPrefix).forEach(o=>{a[o]=t[o],delete t[o]}),s==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:a}}:s?{[s.replace("%s",e)]:a,[`${i}, ${s.replace("%s",e)}`]:t}:{[i]:{...t,...a}}}if(s&&s!=="media")return`${i}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(s)return s.replace("%s",String(e))}return i};function _ye(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Ke(n,e,t){!n[e]&&t&&(n[e]=t)}function Nb(n){return typeof n!="string"||!n.startsWith("hsl")?n:hq(n)}function bh(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Db(Nb(n[e])))}function bye(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const nf=n=>{try{return n()}catch{}},xye=(n="mui")=>yge(n);function JO(n,e,t,i,r){if(!t)return;t=t===!0?{}:t;const s=r==="dark"?"dark":"light";if(!i){e[r]=mye({...t,palette:{mode:s,...t?.palette},colorSpace:n});return}const{palette:a,...o}=xP({...i,palette:{mode:s,...t?.palette},colorSpace:n});return e[r]={...t,palette:a,opacity:{...vq(s),...t?.opacity},overlays:t?.overlays||_q(s)},o}function Sye(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:s="mui",nativeColor:a=!1,shouldSkipGeneratingVar:o=gye,colorSchemeSelector:c=t.light&&t.dark?"media":void 0,rootSelector:u=":root",...h}=n,p=Object.keys(t)[0],y=i||(t.light&&p!=="light"?"light":p),v=xye(s),{[y]:_,light:S,dark:E,...b}=t,w={...b};let A=_;if((y==="dark"&&!("dark"in t)||y==="light"&&!("light"in t))&&(A=!0),!A)throw new Error(ed(21,y));let C;a&&(C="oklch");const D=JO(C,w,A,h,y);S&&!w.light&&JO(C,w,S,void 0,"light"),E&&!w.dark&&JO(C,w,E,void 0,"dark");let L={defaultColorScheme:y,...D,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:u,getCssVar:v,colorSchemes:w,font:{...Jge(D.typography),...D.font},spacing:bye(h.spacing)};Object.keys(L.colorSchemes).forEach(F=>{const z=L.colorSchemes[F].palette,V=ee=>{const q=ee.split("-"),$=q[1],Q=q[2];return v(ee,z[$][Q])};z.mode==="light"&&(Ke(z.common,"background","#fff"),Ke(z.common,"onBackground","#000")),z.mode==="dark"&&(Ke(z.common,"background","#000"),Ke(z.common,"onBackground","#fff"));function K(ee,q,$){if(C){let Q;return ee===og&&(Q=`transparent ${((1-$)*100).toFixed(0)}%`),ee===ki&&(Q=`#000 ${($*100).toFixed(0)}%`),ee===zi&&(Q=`#fff ${($*100).toFixed(0)}%`),`color-mix(in ${C}, ${q}, ${Q})`}return ee(q,$)}if(_ye(z,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),z.mode==="light"){Ke(z.Alert,"errorColor",K(ki,z.error.light,.6)),Ke(z.Alert,"infoColor",K(ki,z.info.light,.6)),Ke(z.Alert,"successColor",K(ki,z.success.light,.6)),Ke(z.Alert,"warningColor",K(ki,z.warning.light,.6)),Ke(z.Alert,"errorFilledBg",V("palette-error-main")),Ke(z.Alert,"infoFilledBg",V("palette-info-main")),Ke(z.Alert,"successFilledBg",V("palette-success-main")),Ke(z.Alert,"warningFilledBg",V("palette-warning-main")),Ke(z.Alert,"errorFilledColor",nf(()=>z.getContrastText(z.error.main))),Ke(z.Alert,"infoFilledColor",nf(()=>z.getContrastText(z.info.main))),Ke(z.Alert,"successFilledColor",nf(()=>z.getContrastText(z.success.main))),Ke(z.Alert,"warningFilledColor",nf(()=>z.getContrastText(z.warning.main))),Ke(z.Alert,"errorStandardBg",K(zi,z.error.light,.9)),Ke(z.Alert,"infoStandardBg",K(zi,z.info.light,.9)),Ke(z.Alert,"successStandardBg",K(zi,z.success.light,.9)),Ke(z.Alert,"warningStandardBg",K(zi,z.warning.light,.9)),Ke(z.Alert,"errorIconColor",V("palette-error-main")),Ke(z.Alert,"infoIconColor",V("palette-info-main")),Ke(z.Alert,"successIconColor",V("palette-success-main")),Ke(z.Alert,"warningIconColor",V("palette-warning-main")),Ke(z.AppBar,"defaultBg",V("palette-grey-100")),Ke(z.Avatar,"defaultBg",V("palette-grey-400")),Ke(z.Button,"inheritContainedBg",V("palette-grey-300")),Ke(z.Button,"inheritContainedHoverBg",V("palette-grey-A100")),Ke(z.Chip,"defaultBorder",V("palette-grey-400")),Ke(z.Chip,"defaultAvatarColor",V("palette-grey-700")),Ke(z.Chip,"defaultIconColor",V("palette-grey-700")),Ke(z.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ke(z.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ke(z.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ke(z.LinearProgress,"primaryBg",K(zi,z.primary.main,.62)),Ke(z.LinearProgress,"secondaryBg",K(zi,z.secondary.main,.62)),Ke(z.LinearProgress,"errorBg",K(zi,z.error.main,.62)),Ke(z.LinearProgress,"infoBg",K(zi,z.info.main,.62)),Ke(z.LinearProgress,"successBg",K(zi,z.success.main,.62)),Ke(z.LinearProgress,"warningBg",K(zi,z.warning.main,.62)),Ke(z.Skeleton,"bg",C?K(og,z.text.primary,.11):`rgba(${V("palette-text-primaryChannel")} / 0.11)`),Ke(z.Slider,"primaryTrack",K(zi,z.primary.main,.62)),Ke(z.Slider,"secondaryTrack",K(zi,z.secondary.main,.62)),Ke(z.Slider,"errorTrack",K(zi,z.error.main,.62)),Ke(z.Slider,"infoTrack",K(zi,z.info.main,.62)),Ke(z.Slider,"successTrack",K(zi,z.success.main,.62)),Ke(z.Slider,"warningTrack",K(zi,z.warning.main,.62));const ee=C?K(ki,z.background.default,.6825):rw(z.background.default,.8);Ke(z.SnackbarContent,"bg",ee),Ke(z.SnackbarContent,"color",nf(()=>C?bP.text.primary:z.getContrastText(ee))),Ke(z.SpeedDialAction,"fabHoverBg",rw(z.background.paper,.15)),Ke(z.StepConnector,"border",V("palette-grey-400")),Ke(z.StepContent,"border",V("palette-grey-400")),Ke(z.Switch,"defaultColor",V("palette-common-white")),Ke(z.Switch,"defaultDisabledColor",V("palette-grey-100")),Ke(z.Switch,"primaryDisabledColor",K(zi,z.primary.main,.62)),Ke(z.Switch,"secondaryDisabledColor",K(zi,z.secondary.main,.62)),Ke(z.Switch,"errorDisabledColor",K(zi,z.error.main,.62)),Ke(z.Switch,"infoDisabledColor",K(zi,z.info.main,.62)),Ke(z.Switch,"successDisabledColor",K(zi,z.success.main,.62)),Ke(z.Switch,"warningDisabledColor",K(zi,z.warning.main,.62)),Ke(z.TableCell,"border",K(zi,K(og,z.divider,1),.88)),Ke(z.Tooltip,"bg",K(og,z.grey[700],.92))}if(z.mode==="dark"){Ke(z.Alert,"errorColor",K(zi,z.error.light,.6)),Ke(z.Alert,"infoColor",K(zi,z.info.light,.6)),Ke(z.Alert,"successColor",K(zi,z.success.light,.6)),Ke(z.Alert,"warningColor",K(zi,z.warning.light,.6)),Ke(z.Alert,"errorFilledBg",V("palette-error-dark")),Ke(z.Alert,"infoFilledBg",V("palette-info-dark")),Ke(z.Alert,"successFilledBg",V("palette-success-dark")),Ke(z.Alert,"warningFilledBg",V("palette-warning-dark")),Ke(z.Alert,"errorFilledColor",nf(()=>z.getContrastText(z.error.dark))),Ke(z.Alert,"infoFilledColor",nf(()=>z.getContrastText(z.info.dark))),Ke(z.Alert,"successFilledColor",nf(()=>z.getContrastText(z.success.dark))),Ke(z.Alert,"warningFilledColor",nf(()=>z.getContrastText(z.warning.dark))),Ke(z.Alert,"errorStandardBg",K(ki,z.error.light,.9)),Ke(z.Alert,"infoStandardBg",K(ki,z.info.light,.9)),Ke(z.Alert,"successStandardBg",K(ki,z.success.light,.9)),Ke(z.Alert,"warningStandardBg",K(ki,z.warning.light,.9)),Ke(z.Alert,"errorIconColor",V("palette-error-main")),Ke(z.Alert,"infoIconColor",V("palette-info-main")),Ke(z.Alert,"successIconColor",V("palette-success-main")),Ke(z.Alert,"warningIconColor",V("palette-warning-main")),Ke(z.AppBar,"defaultBg",V("palette-grey-900")),Ke(z.AppBar,"darkBg",V("palette-background-paper")),Ke(z.AppBar,"darkColor",V("palette-text-primary")),Ke(z.Avatar,"defaultBg",V("palette-grey-600")),Ke(z.Button,"inheritContainedBg",V("palette-grey-800")),Ke(z.Button,"inheritContainedHoverBg",V("palette-grey-700")),Ke(z.Chip,"defaultBorder",V("palette-grey-700")),Ke(z.Chip,"defaultAvatarColor",V("palette-grey-300")),Ke(z.Chip,"defaultIconColor",V("palette-grey-300")),Ke(z.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ke(z.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ke(z.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ke(z.LinearProgress,"primaryBg",K(ki,z.primary.main,.5)),Ke(z.LinearProgress,"secondaryBg",K(ki,z.secondary.main,.5)),Ke(z.LinearProgress,"errorBg",K(ki,z.error.main,.5)),Ke(z.LinearProgress,"infoBg",K(ki,z.info.main,.5)),Ke(z.LinearProgress,"successBg",K(ki,z.success.main,.5)),Ke(z.LinearProgress,"warningBg",K(ki,z.warning.main,.5)),Ke(z.Skeleton,"bg",C?K(og,z.text.primary,.13):`rgba(${V("palette-text-primaryChannel")} / 0.13)`),Ke(z.Slider,"primaryTrack",K(ki,z.primary.main,.5)),Ke(z.Slider,"secondaryTrack",K(ki,z.secondary.main,.5)),Ke(z.Slider,"errorTrack",K(ki,z.error.main,.5)),Ke(z.Slider,"infoTrack",K(ki,z.info.main,.5)),Ke(z.Slider,"successTrack",K(ki,z.success.main,.5)),Ke(z.Slider,"warningTrack",K(ki,z.warning.main,.5));const ee=C?K(zi,z.background.default,.985):rw(z.background.default,.98);Ke(z.SnackbarContent,"bg",ee),Ke(z.SnackbarContent,"color",nf(()=>C?pq.text.primary:z.getContrastText(ee))),Ke(z.SpeedDialAction,"fabHoverBg",rw(z.background.paper,.15)),Ke(z.StepConnector,"border",V("palette-grey-600")),Ke(z.StepContent,"border",V("palette-grey-600")),Ke(z.Switch,"defaultColor",V("palette-grey-300")),Ke(z.Switch,"defaultDisabledColor",V("palette-grey-600")),Ke(z.Switch,"primaryDisabledColor",K(ki,z.primary.main,.55)),Ke(z.Switch,"secondaryDisabledColor",K(ki,z.secondary.main,.55)),Ke(z.Switch,"errorDisabledColor",K(ki,z.error.main,.55)),Ke(z.Switch,"infoDisabledColor",K(ki,z.info.main,.55)),Ke(z.Switch,"successDisabledColor",K(ki,z.success.main,.55)),Ke(z.Switch,"warningDisabledColor",K(ki,z.warning.main,.55)),Ke(z.TableCell,"border",K(ki,K(og,z.divider,1),.68)),Ke(z.Tooltip,"bg",K(og,z.grey[700],.92))}bh(z.background,"default"),bh(z.background,"paper"),bh(z.common,"background"),bh(z.common,"onBackground"),bh(z,"divider"),Object.keys(z).forEach(ee=>{const q=z[ee];ee!=="tonalOffset"&&q&&typeof q=="object"&&(q.main&&Ke(z[ee],"mainChannel",Db(Nb(q.main))),q.light&&Ke(z[ee],"lightChannel",Db(Nb(q.light))),q.dark&&Ke(z[ee],"darkChannel",Db(Nb(q.dark))),q.contrastText&&Ke(z[ee],"contrastTextChannel",Db(Nb(q.contrastText))),ee==="text"&&(bh(z[ee],"primary"),bh(z[ee],"secondary")),ee==="action"&&(q.active&&bh(z[ee],"active"),q.selected&&bh(z[ee],"selected")))})}),L=e.reduce((F,z)=>ra(F,z),L);const P={prefix:s,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:vye(L),enableContrastVars:a},{vars:U,generateThemeVars:I,generateStyleSheets:N}=bge(L,P);return L.vars=U,Object.entries(L.colorSchemes[L.defaultColorScheme]).forEach(([F,z])=>{L[F]=z}),L.generateThemeVars=I,L.generateStyleSheets=N,L.generateSpacing=function(){return aq(h.spacing,dM(this))},L.getColorSchemeSelector=xge(c),L.spacing=L.generateSpacing(),L.shouldSkipGeneratingVar=o,L.unstable_sxConfig={...US,...h?.unstable_sxConfig},L.unstable_sx=function(z){return Jg({sx:z,theme:this})},L.toRuntimeSource=yq,L}function IB(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:bL({...t===!0?{}:t.palette,mode:e})})}function bq(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:r=t?void 0:{light:!0},defaultColorScheme:s=t?.mode,...a}=n,o=s||"light",c=r?.[o],u={...r,...t?{[o]:{...typeof c!="boolean"&&c,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return xP(n,...e);let h=t;"palette"in n||u[o]&&(u[o]!==!0?h=u[o].palette:o==="dark"&&(h={mode:"dark"}));const p=xP({...n,palette:h},...e);return p.defaultColorScheme=o,p.colorSchemes=u,p.palette.mode==="light"&&(p.colorSchemes.light={...u.light!==!0&&u.light,palette:p.palette},IB(p,"dark",u.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:p.palette},IB(p,"light",u.light)),p}return!t&&!("light"in u)&&o==="light"&&(u.light=!0),Sye({...a,colorSchemes:u,defaultColorScheme:o,...typeof i!="boolean"&&i},...e)}const xL=bq(),AM="$$material";function sd(){const n=FS(xL);return n[AM]||n}function xq(n){return Z.jsx(Xme,{...n,defaultTheme:xL,themeId:AM})}function Sq(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Io=n=>Sq(n)&&n!=="classes",at=cq({themeId:AM,defaultTheme:xL,rootShouldForwardProp:Io});function Eye(n){return function(t){return Z.jsx(xq,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function Tye(){return _M}const vn=gge;function gn(n){return dge(n)}function wye(n){return ln("MuiSvgIcon",n)}cn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Cye=n=>{const{color:e,fontSize:t,classes:i}=n,r={root:["root",e!=="inherit"&&`color${yt(e)}`,`fontSize${yt(t)}`]};return on(r,wye,i)},Aye=at("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${yt(t.color)}`],e[`fontSize${yt(t.fontSize)}`]]}})(vn(({theme:n})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:n.transitions?.create?.("fill",{duration:(n.vars??n).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:n.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:n.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:n.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(n.vars??n).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(n.vars??n).palette?.action?.active}},{props:{color:"disabled"},style:{color:(n.vars??n).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),EP=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiSvgIcon"}),{children:r,className:s,color:a="inherit",component:o="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:p,viewBox:y="0 0 24 24",...v}=i,_=H.isValidElement(r)&&r.type==="svg",S={...i,color:a,component:o,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:y,hasSvgAsChild:_},E={};h||(E.viewBox=y);const b=Cye(S);return Z.jsxs(Aye,{as:o,className:Rt(b.root,s),focusable:"false",color:u,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:t,...E,...v,..._&&r.props,ownerState:S,children:[_?r.props.children:r,p?Z.jsx("title",{children:p}):null]})});EP.muiName="SvgIcon";function Vr(n,e){function t(i,r){return Z.jsx(EP,{"data-testid":void 0,ref:r,...i,children:n})}return t.muiName=EP.muiName,H.memo(H.forwardRef(t))}function jS(n,e=166){let t;function i(...r){const s=()=>{n.apply(this,r)};clearTimeout(t),t=setTimeout(s,e)}return i.clear=()=>{clearTimeout(t)},i}function wa(n){return n&&n.ownerDocument||document}function Bl(n){return wa(n).defaultView||window}function PB(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function iS(n){const{controlled:e,default:t,name:i,state:r="value"}=n,{current:s}=H.useRef(e!==void 0),[a,o]=H.useState(t),c=s?e:a,u=H.useCallback(h=>{s||o(h)},[]);return[c,u]}function Ll(n){const e=H.useRef(n);return xu(()=>{e.current=n}),H.useRef((...t)=>(0,e.current)(...t)).current}function Fr(...n){const e=H.useRef(void 0),t=H.useCallback(i=>{const r=n.map(s=>{if(s==null)return null;if(typeof s=="function"){const a=s,o=a(i);return typeof o=="function"?o:()=>{a(null)}}return s.current=i,()=>{s.current=null}});return()=>{r.forEach(s=>s?.())}},n);return H.useMemo(()=>n.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=t(i))},n)}function Mye(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function Eq(n,e){if(!n)return e;function t(a,o){const c={};return Object.keys(o).forEach(u=>{Mye(u,o[u])&&typeof a[u]=="function"&&(c[u]=(...h)=>{a[u](...h),o[u](...h)})}),c}if(typeof n=="function"||typeof e=="function")return a=>{const o=typeof e=="function"?e(a):e,c=typeof n=="function"?n({...a,...o}):n,u=Rt(a?.className,o?.className,c?.className),h=t(c,o);return{...o,...c,...h,...!!u&&{className:u},...o?.style&&c?.style&&{style:{...o.style,...c.style}},...o?.sx&&c?.sx&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const i=e,r=t(n,i),s=Rt(i?.className,n?.className);return{...e,...n,...r,...!!s&&{className:s},...i?.style&&n?.style&&{style:{...i.style,...n.style}},...i?.sx&&n?.sx&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}const Rye=Vr(Z.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}));function Tq(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function TP(n,e){return TP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},TP(n,e)}function wq(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,TP(n,e)}const DB={disabled:!1},zC=ar.createContext(null);var Oye=function(e){return e.scrollTop},Lb="unmounted",vg="exited",_g="entering",Jv="entered",wP="exiting",Ic=(function(n){wq(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var a=r,o=a&&!a.isMounting?i.enter:i.appear,c;return s.appearStatus=null,i.in?o?(c=vg,s.appearStatus=_g):c=Jv:i.unmountOnExit||i.mountOnEnter?c=Lb:c=vg,s.state={status:c},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var a=r.in;return a&&s.status===Lb?{status:vg}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var s=null;if(r!==this.props){var a=this.state.status;this.props.in?a!==_g&&a!==Jv&&(s=_g):(a===_g||a===Jv)&&(s=wP)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,s,a,o;return s=a=o=r,r!=null&&typeof r!="number"&&(s=r.exit,a=r.enter,o=r.appear!==void 0?r.appear:a),{exit:s,enter:a,appear:o}},t.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===_g){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:tT.findDOMNode(this);a&&Oye(a)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vg&&this.setState({status:Lb})},t.performEnter=function(r){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:r,c=this.props.nodeRef?[o]:[tT.findDOMNode(this),o],u=c[0],h=c[1],p=this.getTimeouts(),y=o?p.appear:p.enter;if(!r&&!a||DB.disabled){this.safeSetState({status:Jv},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:_g},function(){s.props.onEntering(u,h),s.onTransitionEnd(y,function(){s.safeSetState({status:Jv},function(){s.props.onEntered(u,h)})})})},t.performExit=function(){var r=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:tT.findDOMNode(this);if(!s||DB.disabled){this.safeSetState({status:vg},function(){r.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:wP},function(){r.props.onExiting(o),r.onTransitionEnd(a.exit,function(){r.safeSetState({status:vg},function(){r.props.onExited(o)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},t.setNextCallback=function(r){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,r(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(r,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:tT.findDOMNode(this),o=r==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=c[0],h=c[1];this.props.addEndListener(u,h)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===Lb)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=Tq(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ar.createElement(zC.Provider,{value:null},typeof a=="function"?a(r,o):ar.cloneElement(ar.Children.only(a),o))},e})(ar.Component);Ic.contextType=zC;Ic.propTypes={};function Dv(){}Ic.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Dv,onEntering:Dv,onEntered:Dv,onExit:Dv,onExiting:Dv,onExited:Dv};Ic.UNMOUNTED=Lb;Ic.EXITED=vg;Ic.ENTERING=_g;Ic.ENTERED=Jv;Ic.EXITING=wP;function Iye(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function SL(n,e){var t=function(s){return e&&H.isValidElement(s)?e(s):s},i=Object.create(null);return n&&H.Children.map(n,function(r){return r}).forEach(function(r){i[r.key]=t(r)}),i}function Pye(n,e){n=n||{},e=e||{};function t(h){return h in e?e[h]:n[h]}var i=Object.create(null),r=[];for(var s in n)s in e?r.length&&(i[s]=r,r=[]):r.push(s);var a,o={};for(var c in e){if(i[c])for(a=0;a<i[c].length;a++){var u=i[c][a];o[i[c][a]]=t(u)}o[c]=t(c)}for(a=0;a<r.length;a++)o[r[a]]=t(r[a]);return o}function Og(n,e,t){return t[e]!=null?t[e]:n.props[e]}function Dye(n,e){return SL(n.children,function(t){return H.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Og(t,"appear",n),enter:Og(t,"enter",n),exit:Og(t,"exit",n)})})}function Nye(n,e,t){var i=SL(n.children),r=Pye(e,i);return Object.keys(r).forEach(function(s){var a=r[s];if(H.isValidElement(a)){var o=s in e,c=s in i,u=e[s],h=H.isValidElement(u)&&!u.props.in;c&&(!o||h)?r[s]=H.cloneElement(a,{onExited:t.bind(null,a),in:!0,exit:Og(a,"exit",n),enter:Og(a,"enter",n)}):!c&&o&&!h?r[s]=H.cloneElement(a,{in:!1}):c&&o&&H.isValidElement(u)&&(r[s]=H.cloneElement(a,{onExited:t.bind(null,a),in:u.props.in,exit:Og(a,"exit",n),enter:Og(a,"enter",n)}))}}),r}var Lye=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},Uye={component:"div",childFactory:function(e){return e}},EL=(function(n){wq(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var a=s.handleExited.bind(Iye(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,s){var a=s.children,o=s.handleExited,c=s.firstRender;return{children:c?Dye(r,o):Nye(r,a,o),firstRender:!1}},t.handleExited=function(r,s){var a=SL(this.props.children);r.key in a||(r.props.onExited&&r.props.onExited(s),this.mounted&&this.setState(function(o){var c=Ko({},o.children);return delete c[r.key],{children:c}}))},t.render=function(){var r=this.props,s=r.component,a=r.childFactory,o=Tq(r,["component","childFactory"]),c=this.state.contextValue,u=Lye(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,s===null?ar.createElement(zC.Provider,{value:c},u):ar.createElement(zC.Provider,{value:c},ar.createElement(s,o,u))},e})(ar.Component);EL.propTypes={};EL.defaultProps=Uye;const NB={};function Cq(n,e){const t=H.useRef(NB);return t.current===NB&&(t.current=n(e)),t}const kye=[];function zye(n){H.useEffect(n,kye)}class MM{static create(){return new MM}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function Ig(){const n=Cq(MM.create).current;return zye(n.disposeEffect),n}const TL=n=>n.scrollTop;function qp(n,e){const{timeout:t,easing:i,style:r={}}=n;return{duration:r.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:r.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:r.transitionDelay}}function Y0(n){return typeof n=="string"}function Aq(n,e,t){return n===void 0||Y0(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function Mq(n,e,t){return typeof n=="function"?n(e,t):n}function Rq(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function LB(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function Oq(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:r,className:s}=n;if(!e){const v=Rt(t?.className,s,r?.className,i?.className),_={...t?.style,...r?.style,...i?.style},S={...t,...r,...i};return v.length>0&&(S.className=v),Object.keys(_).length>0&&(S.style=_),{props:S,internalRef:void 0}}const a=Rq({...r,...i}),o=LB(i),c=LB(r),u=e(a),h=Rt(u?.className,t?.className,s,r?.className,i?.className),p={...u?.style,...t?.style,...r?.style,...i?.style},y={...u,...t,...c,...o};return h.length>0&&(y.className=h),Object.keys(p).length>0&&(y.style=p),{props:y,internalRef:u.ref}}function $t(n,e){const{className:t,elementType:i,ownerState:r,externalForwardedProps:s,internalForwardedProps:a,shouldForwardComponentProp:o=!1,...c}=e,{component:u,slots:h={[n]:void 0},slotProps:p={[n]:void 0},...y}=s,v=h[n]||i,_=Mq(p[n],r),{props:{component:S,...E},internalRef:b}=Oq({className:t,...c,externalForwardedProps:n==="root"?y:void 0,externalSlotProps:_}),w=Fr(b,_?.ref,e.ref),A=n==="root"?S||u:S,C=Aq(v,{...n==="root"&&!u&&!h[n]&&a,...n!=="root"&&!h[n]&&a,...E,...A&&!o&&{as:A},...A&&o&&{component:A},ref:w},r);return[v,C]}function Bye(n){return ln("MuiCollapse",n)}cn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Fye=n=>{const{orientation:e,classes:t}=n,i={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return on(i,Bye,t)},Vye=at("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(vn(({theme:n})=>({height:0,overflow:"hidden",transition:n.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:n.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Hye=at("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),jye=at("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),rS=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiCollapse"}),{addEndListener:r,children:s,className:a,collapsedSize:o="0px",component:c,easing:u,in:h,onEnter:p,onEntered:y,onEntering:v,onExit:_,onExited:S,onExiting:E,orientation:b="vertical",slots:w={},slotProps:A={},style:C,timeout:D=gq.standard,TransitionComponent:L=Ic,...P}=i,U={...i,orientation:b,collapsedSize:o},I=Fye(U),N=sd(),F=Ig(),z=H.useRef(null),V=H.useRef(),K=typeof o=="number"?`${o}px`:o,ee=b==="horizontal",q=ee?"width":"height",$=H.useRef(null),Q=Fr(t,$),re=Oe=>Be=>{if(Oe){const Ne=$.current;Be===void 0?Oe(Ne):Oe(Ne,Be)}},de=()=>z.current?z.current[ee?"clientWidth":"clientHeight"]:0,Y=re((Oe,Be)=>{z.current&&ee&&(z.current.style.position="absolute"),Oe.style[q]=K,p&&p(Oe,Be)}),le=re((Oe,Be)=>{const Ne=de();z.current&&ee&&(z.current.style.position="");const{duration:Me,easing:ut}=qp({style:C,timeout:D,easing:u},{mode:"enter"});if(D==="auto"){const qe=N.transitions.getAutoHeightDuration(Ne);Oe.style.transitionDuration=`${qe}ms`,V.current=qe}else Oe.style.transitionDuration=typeof Me=="string"?Me:`${Me}ms`;Oe.style[q]=`${Ne}px`,Oe.style.transitionTimingFunction=ut,v&&v(Oe,Be)}),pe=re((Oe,Be)=>{Oe.style[q]="auto",y&&y(Oe,Be)}),ue=re(Oe=>{Oe.style[q]=`${de()}px`,_&&_(Oe)}),ie=re(S),he=re(Oe=>{const Be=de(),{duration:Ne,easing:Me}=qp({style:C,timeout:D,easing:u},{mode:"exit"});if(D==="auto"){const ut=N.transitions.getAutoHeightDuration(Be);Oe.style.transitionDuration=`${ut}ms`,V.current=ut}else Oe.style.transitionDuration=typeof Ne=="string"?Ne:`${Ne}ms`;Oe.style[q]=K,Oe.style.transitionTimingFunction=Me,E&&E(Oe)}),ye=Oe=>{D==="auto"&&F.start(V.current||0,Oe),r&&r($.current,Oe)},Ve={slots:w,slotProps:A,component:c},[Xe,Ge]=$t("root",{ref:Q,className:Rt(I.root,a),elementType:Vye,externalForwardedProps:Ve,ownerState:U,additionalProps:{style:{[ee?"minWidth":"minHeight"]:K,...C}}}),[rt,lt]=$t("wrapper",{ref:z,className:I.wrapper,elementType:Hye,externalForwardedProps:Ve,ownerState:U}),[pt,te]=$t("wrapperInner",{className:I.wrapperInner,elementType:jye,externalForwardedProps:Ve,ownerState:U});return Z.jsx(L,{in:h,onEnter:Y,onEntered:pe,onEntering:le,onExit:ue,onExited:ie,onExiting:he,addEndListener:ye,nodeRef:$,timeout:D==="auto"?null:D,...P,children:(Oe,{ownerState:Be,...Ne})=>{const Me={...U,state:Oe};return Z.jsx(Xe,{...Ge,className:Rt(Ge.className,{entered:I.entered,exited:!h&&K==="0px"&&I.hidden}[Oe]),ownerState:Me,...Ne,children:Z.jsx(rt,{...lt,ownerState:Me,children:Z.jsx(pt,{...te,ownerState:Me,children:s})})})}})});rS&&(rS.muiSupportAuto=!0);function Gye(n){return ln("MuiPaper",n)}cn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const qye=n=>{const{square:e,elevation:t,variant:i,classes:r}=n,s={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return on(s,Gye,r)},Wye=at("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(vn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),A_=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiPaper"}),r=sd(),{className:s,component:a="div",elevation:o=1,square:c=!1,variant:u="elevation",...h}=i,p={...i,component:a,elevation:o,square:c,variant:u},y=qye(p);return Z.jsx(Wye,{as:a,ownerState:p,className:Rt(y.root,s),ref:t,...h,style:{...u==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[o],...r.vars&&{"--Paper-overlay":r.vars.overlays?.[o]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${UC("#fff",SP(o))}, ${UC("#fff",SP(o))})`}},...h.style}})}),Iq=H.createContext({});function $ye(n){return ln("MuiAccordion",n)}const sw=cn("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),Xye=n=>{const{classes:e,square:t,expanded:i,disabled:r,disableGutters:s}=n;return on({root:["root",!t&&"rounded",i&&"expanded",r&&"disabled",!s&&"gutters"],heading:["heading"],region:["region"]},$ye,e)},Yye=at(A_,{name:"MuiAccordion",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${sw.region}`]:e.region},e.root,!t.square&&e.rounded,!t.disableGutters&&e.gutters]}})(vn(({theme:n})=>{const e={duration:n.transitions.duration.shortest};return{position:"relative",transition:n.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(n.vars||n).palette.divider,transition:n.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${sw.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${sw.disabled}`]:{backgroundColor:(n.vars||n).palette.action.disabledBackground}}}),vn(({theme:n})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(n.vars||n).shape.borderRadius,borderBottomRightRadius:(n.vars||n).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${sw.expanded}`]:{margin:"16px 0"}}}]}))),Kye=at("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),Zye=at("div",{name:"MuiAccordion",slot:"Region"})({}),Qye=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiAccordion"}),{children:r,className:s,defaultExpanded:a=!1,disabled:o=!1,disableGutters:c=!1,expanded:u,onChange:h,square:p=!1,slots:y={},slotProps:v={},TransitionComponent:_,TransitionProps:S,...E}=i,[b,w]=iS({controlled:u,default:a,name:"Accordion",state:"expanded"}),A=H.useCallback(de=>{w(!b),h&&h(de,!b)},[b,h,w]),[C,...D]=H.Children.toArray(r),L=H.useMemo(()=>({expanded:b,disabled:o,disableGutters:c,toggle:A}),[b,o,c,A]),P={...i,square:p,disabled:o,disableGutters:c,expanded:b},U=Xye(P),I={transition:_,...y},N={transition:S,...v},F={slots:I,slotProps:N},[z,V]=$t("root",{elementType:Yye,externalForwardedProps:{...F,...E},className:Rt(U.root,s),shouldForwardComponentProp:!0,ownerState:P,ref:t,additionalProps:{square:p}}),[K,ee]=$t("heading",{elementType:Kye,externalForwardedProps:F,className:U.heading,ownerState:P}),[q,$]=$t("transition",{elementType:rS,externalForwardedProps:F,ownerState:P}),[Q,re]=$t("region",{elementType:Zye,externalForwardedProps:F,ownerState:P,className:U.region,additionalProps:{"aria-labelledby":C.props.id,id:C.props["aria-controls"],role:"region"}});return Z.jsxs(z,{...V,children:[Z.jsx(K,{...ee,children:Z.jsx(Iq.Provider,{value:L,children:C})}),Z.jsx(q,{in:b,timeout:"auto",...$,children:Z.jsx(Q,{...re,children:D})})]})});function Jye(n){return ln("MuiAccordionDetails",n)}cn("MuiAccordionDetails",["root"]);const eve=n=>{const{classes:e}=n;return on({root:["root"]},Jye,e)},tve=at("div",{name:"MuiAccordionDetails",slot:"Root"})(vn(({theme:n})=>({padding:n.spacing(1,2,2)}))),nve=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiAccordionDetails"}),{className:r,...s}=i,a=i,o=eve(a);return Z.jsx(tve,{className:Rt(o.root,r),ref:t,ownerState:a,...s})});function BC(n){try{return n.matches(":focus-visible")}catch{}return!1}class FC{static create(){return new FC}static use(){const e=Cq(FC.create).current,[t,i]=H.useState(!1);return e.shouldMount=t,e.setShouldMount=i,H.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=rve(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function ive(){return FC.use()}function rve(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t}function sve(n){const{className:e,classes:t,pulsate:i=!1,rippleX:r,rippleY:s,rippleSize:a,in:o,onExited:c,timeout:u}=n,[h,p]=H.useState(!1),y=Rt(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),v={width:a,height:a,top:-(a/2)+s,left:-(a/2)+r},_=Rt(t.child,h&&t.childLeaving,i&&t.childPulsate);return!o&&!h&&p(!0),H.useEffect(()=>{if(!o&&c!=null){const S=setTimeout(c,u);return()=>{clearTimeout(S)}}},[c,o,u]),Z.jsx("span",{className:y,style:v,children:Z.jsx("span",{className:_})})}const gc=cn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),CP=550,ave=80,ove=BS`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,lve=BS`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,cve=BS`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,uve=at("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),fve=at(sve,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${gc.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${ove};
    animation-duration: ${CP}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${gc.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${gc.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${gc.childLeaving} {
    opacity: 0;
    animation-name: ${lve};
    animation-duration: ${CP}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${gc.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${cve};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,hve=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:s={},className:a,...o}=i,[c,u]=H.useState([]),h=H.useRef(0),p=H.useRef(null);H.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const y=H.useRef(!1),v=Ig(),_=H.useRef(null),S=H.useRef(null),E=H.useCallback(C=>{const{pulsate:D,rippleX:L,rippleY:P,rippleSize:U,cb:I}=C;u(N=>[...N,Z.jsx(fve,{classes:{ripple:Rt(s.ripple,gc.ripple),rippleVisible:Rt(s.rippleVisible,gc.rippleVisible),ripplePulsate:Rt(s.ripplePulsate,gc.ripplePulsate),child:Rt(s.child,gc.child),childLeaving:Rt(s.childLeaving,gc.childLeaving),childPulsate:Rt(s.childPulsate,gc.childPulsate)},timeout:CP,pulsate:D,rippleX:L,rippleY:P,rippleSize:U},h.current)]),h.current+=1,p.current=I},[s]),b=H.useCallback((C={},D={},L=()=>{})=>{const{pulsate:P=!1,center:U=r||D.pulsate,fakeElement:I=!1}=D;if(C?.type==="mousedown"&&y.current){y.current=!1;return}C?.type==="touchstart"&&(y.current=!0);const N=I?null:S.current,F=N?N.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,V,K;if(U||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)z=Math.round(F.width/2),V=Math.round(F.height/2);else{const{clientX:ee,clientY:q}=C.touches&&C.touches.length>0?C.touches[0]:C;z=Math.round(ee-F.left),V=Math.round(q-F.top)}if(U)K=Math.sqrt((2*F.width**2+F.height**2)/3),K%2===0&&(K+=1);else{const ee=Math.max(Math.abs((N?N.clientWidth:0)-z),z)*2+2,q=Math.max(Math.abs((N?N.clientHeight:0)-V),V)*2+2;K=Math.sqrt(ee**2+q**2)}C?.touches?_.current===null&&(_.current=()=>{E({pulsate:P,rippleX:z,rippleY:V,rippleSize:K,cb:L})},v.start(ave,()=>{_.current&&(_.current(),_.current=null)})):E({pulsate:P,rippleX:z,rippleY:V,rippleSize:K,cb:L})},[r,E,v]),w=H.useCallback(()=>{b({},{pulsate:!0})},[b]),A=H.useCallback((C,D)=>{if(v.clear(),C?.type==="touchend"&&_.current){_.current(),_.current=null,v.start(0,()=>{A(C,D)});return}_.current=null,u(L=>L.length>0?L.slice(1):L),p.current=D},[v]);return H.useImperativeHandle(t,()=>({pulsate:w,start:b,stop:A}),[w,b,A]),Z.jsx(uve,{className:Rt(gc.root,s.root,a),ref:S,...o,children:Z.jsx(EL,{component:null,exit:!0,children:c})})});function dve(n){return ln("MuiButtonBase",n)}const pve=cn("MuiButtonBase",["root","disabled","focusVisible"]),mve=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:r}=n,a=on({root:["root",e&&"disabled",t&&"focusVisible"]},dve,r);return t&&i&&(a.root+=` ${i}`),a},gve=at("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${pve.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),td=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:s=!1,children:a,className:o,component:c="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:y=!1,focusVisibleClassName:v,LinkComponent:_="a",onBlur:S,onClick:E,onContextMenu:b,onDragLeave:w,onFocus:A,onFocusVisible:C,onKeyDown:D,onKeyUp:L,onMouseDown:P,onMouseLeave:U,onMouseUp:I,onTouchEnd:N,onTouchMove:F,onTouchStart:z,tabIndex:V=0,TouchRippleProps:K,touchRippleRef:ee,type:q,...$}=i,Q=H.useRef(null),re=ive(),de=Fr(re.ref,ee),[Y,le]=H.useState(!1);u&&Y&&le(!1),H.useImperativeHandle(r,()=>({focusVisible:()=>{le(!0),Q.current.focus()}}),[]);const pe=re.shouldMount&&!h&&!u;H.useEffect(()=>{Y&&y&&!h&&re.pulsate()},[h,y,Y,re]);const ue=xh(re,"start",P,p),ie=xh(re,"stop",b,p),he=xh(re,"stop",w,p),ye=xh(re,"stop",I,p),Ve=xh(re,"stop",J=>{Y&&J.preventDefault(),U&&U(J)},p),Xe=xh(re,"start",z,p),Ge=xh(re,"stop",N,p),rt=xh(re,"stop",F,p),lt=xh(re,"stop",J=>{BC(J.target)||le(!1),S&&S(J)},!1),pt=Ll(J=>{Q.current||(Q.current=J.currentTarget),BC(J.target)&&(le(!0),C&&C(J)),A&&A(J)}),te=()=>{const J=Q.current;return c&&c!=="button"&&!(J.tagName==="A"&&J.href)},Oe=Ll(J=>{y&&!J.repeat&&Y&&J.key===" "&&re.stop(J,()=>{re.start(J)}),J.target===J.currentTarget&&te()&&J.key===" "&&J.preventDefault(),D&&D(J),J.target===J.currentTarget&&te()&&J.key==="Enter"&&!u&&(J.preventDefault(),E&&E(J))}),Be=Ll(J=>{y&&J.key===" "&&Y&&!J.defaultPrevented&&re.stop(J,()=>{re.pulsate(J)}),L&&L(J),E&&J.target===J.currentTarget&&te()&&J.key===" "&&!J.defaultPrevented&&E(J)});let Ne=c;Ne==="button"&&($.href||$.to)&&(Ne=_);const Me={};if(Ne==="button"){const J=!!$.formAction;Me.type=q===void 0&&!J?"button":q,Me.disabled=u}else!$.href&&!$.to&&(Me.role="button"),u&&(Me["aria-disabled"]=u);const ut=Fr(t,Q),qe={...i,centerRipple:s,component:c,disabled:u,disableRipple:h,disableTouchRipple:p,focusRipple:y,tabIndex:V,focusVisible:Y},ae=mve(qe);return Z.jsxs(gve,{as:Ne,className:Rt(ae.root,o),ownerState:qe,onBlur:lt,onClick:E,onContextMenu:ie,onFocus:pt,onKeyDown:Oe,onKeyUp:Be,onMouseDown:ue,onMouseLeave:Ve,onMouseUp:ye,onDragLeave:he,onTouchEnd:Ge,onTouchMove:rt,onTouchStart:Xe,ref:ut,tabIndex:u?-1:V,type:q,...Me,...$,children:[a,pe?Z.jsx(hve,{ref:de,center:s,...K}):null]})});function xh(n,e,t,i=!1){return Ll(r=>(t&&t(r),i||n[e](r),!0))}function yve(n){return ln("MuiAccordionSummary",n)}const o0=cn("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),vve=n=>{const{classes:e,expanded:t,disabled:i,disableGutters:r}=n;return on({root:["root",t&&"expanded",i&&"disabled",!r&&"gutters"],focusVisible:["focusVisible"],content:["content",t&&"expanded",!r&&"contentGutters"],expandIconWrapper:["expandIconWrapper",t&&"expanded"]},yve,e)},_ve=at(td,{name:"MuiAccordionSummary",slot:"Root"})(vn(({theme:n})=>{const e={duration:n.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:n.spacing(0,2),transition:n.transitions.create(["min-height","background-color"],e),[`&.${o0.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${o0.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`&:hover:not(.${o0.disabled})`]:{cursor:"pointer"},variants:[{props:t=>!t.disableGutters,style:{[`&.${o0.expanded}`]:{minHeight:64}}}]}})),bve=at("span",{name:"MuiAccordionSummary",slot:"Content"})(vn(({theme:n})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:n.transitions.create(["margin"],{duration:n.transitions.duration.shortest}),[`&.${o0.expanded}`]:{margin:"20px 0"}}}]}))),xve=at("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(vn(({theme:n})=>({display:"flex",color:(n.vars||n).palette.action.active,transform:"rotate(0deg)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),[`&.${o0.expanded}`]:{transform:"rotate(180deg)"}}))),Sve=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiAccordionSummary"}),{children:r,className:s,expandIcon:a,focusVisibleClassName:o,onClick:c,slots:u,slotProps:h,...p}=i,{disabled:y=!1,disableGutters:v,expanded:_,toggle:S}=H.useContext(Iq),E=N=>{S&&S(N),c&&c(N)},b={...i,expanded:_,disabled:y,disableGutters:v},w=vve(b),A={slots:u,slotProps:h},[C,D]=$t("root",{ref:t,shouldForwardComponentProp:!0,className:Rt(w.root,s),elementType:_ve,externalForwardedProps:{...A,...p},ownerState:b,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:y,"aria-expanded":_,focusVisibleClassName:Rt(w.focusVisible,o)},getSlotProps:N=>({...N,onClick:F=>{N.onClick?.(F),E(F)}})}),[L,P]=$t("content",{className:w.content,elementType:bve,externalForwardedProps:A,ownerState:b}),[U,I]=$t("expandIconWrapper",{className:w.expandIconWrapper,elementType:xve,externalForwardedProps:A,ownerState:b});return Z.jsxs(C,{...D,children:[Z.jsx(L,{...P,children:r}),a&&Z.jsx(U,{...I,children:a})]})});function Eve(n){return typeof n.main=="string"}function Tve(n,e=[]){if(!Eve(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function ta(n=[]){return([,e])=>e&&Tve(e,n)}function wve(n){return ln("MuiAlert",n)}const UB=cn("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function Cve(n){return ln("MuiCircularProgress",n)}cn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const au=44,AP=BS`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,MP=BS`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Ave=typeof AP!="string"?vL`
        animation: ${AP} 1.4s linear infinite;
      `:null,Mve=typeof MP!="string"?vL`
        animation: ${MP} 1.4s ease-in-out infinite;
      `:null,Rve=n=>{const{classes:e,variant:t,color:i,disableShrink:r}=n,s={root:["root",t,`color${yt(i)}`],svg:["svg"],track:["track"],circle:["circle",`circle${yt(t)}`,r&&"circleDisableShrink"]};return on(s,Cve,e)},Ove=at("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${yt(t.color)}`]]}})(vn(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Ave||{animation:`${AP} 1.4s linear infinite`}},...Object.entries(n.palette).filter(ta()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),Ive=at("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Pve=at("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${yt(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(vn(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:Mve||{animation:`${MP} 1.4s ease-in-out infinite`}}]}))),Dve=at("circle",{name:"MuiCircularProgress",slot:"Track"})(vn(({theme:n})=>({stroke:"currentColor",opacity:(n.vars||n).palette.action.activatedOpacity}))),Pq=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiCircularProgress"}),{className:r,color:s="primary",disableShrink:a=!1,enableTrackSlot:o=!1,size:c=40,style:u,thickness:h=3.6,value:p=0,variant:y="indeterminate",...v}=i,_={...i,color:s,disableShrink:a,size:c,thickness:h,value:p,variant:y,enableTrackSlot:o},S=Rve(_),E={},b={},w={};if(y==="determinate"){const A=2*Math.PI*((au-h)/2);E.strokeDasharray=A.toFixed(3),w["aria-valuenow"]=Math.round(p),E.strokeDashoffset=`${((100-p)/100*A).toFixed(3)}px`,b.transform="rotate(-90deg)"}return Z.jsx(Ove,{className:Rt(S.root,r),style:{width:c,height:c,...b,...u},ownerState:_,ref:t,role:"progressbar",...w,...v,children:Z.jsxs(Ive,{className:S.svg,ownerState:_,viewBox:`${au/2} ${au/2} ${au} ${au}`,children:[o?Z.jsx(Dve,{className:S.track,ownerState:_,cx:au,cy:au,r:(au-h)/2,fill:"none",strokeWidth:h,"aria-hidden":"true"}):null,Z.jsx(Pve,{className:S.circle,style:E,ownerState:_,cx:au,cy:au,r:(au-h)/2,fill:"none",strokeWidth:h})]})})});function Nve(n){return ln("MuiIconButton",n)}const kB=cn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Lve=n=>{const{classes:e,disabled:t,color:i,edge:r,size:s,loading:a}=n,o={root:["root",a&&"loading",t&&"disabled",i!=="default"&&`color${yt(i)}`,r&&`edge${yt(r)}`,`size${yt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return on(o,Nve,e)},Uve=at(td,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${yt(t.color)}`],t.edge&&e[`edge${yt(t.edge)}`],e[`size${yt(t.size)}`]]}})(vn(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette.action.active,(n.vars||n).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),vn(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(ta()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(ta()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${kB.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${kB.loading}`]:{color:"transparent"}}))),kve=at("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),wL=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiIconButton"}),{edge:r=!1,children:s,className:a,color:o="default",disabled:c=!1,disableFocusRipple:u=!1,size:h="medium",id:p,loading:y=null,loadingIndicator:v,..._}=i,S=w_(p),E=v??Z.jsx(Pq,{"aria-labelledby":S,color:"inherit",size:16}),b={...i,edge:r,color:o,disabled:c,disableFocusRipple:u,loading:y,loadingIndicator:E,size:h},w=Lve(b);return Z.jsxs(Uve,{id:y?S:p,className:Rt(w.root,a),centerRipple:!0,focusRipple:!u,disabled:c||y,ref:t,..._,ownerState:b,children:[typeof y=="boolean"&&Z.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:Z.jsx(kve,{className:w.loadingIndicator,ownerState:b,children:y&&E})}),s]})}),zve=Vr(Z.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),Bve=Vr(Z.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),Fve=Vr(Z.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Vve=Vr(Z.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),Hve=Vr(Z.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),jve=n=>{const{variant:e,color:t,severity:i,classes:r}=n,s={root:["root",`color${yt(t||i)}`,`${e}${yt(t||i)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return on(s,wve,r)},Gve=at(A_,{name:"MuiAlert",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${yt(t.color||t.severity)}`]]}})(vn(({theme:n})=>{const e=n.palette.mode==="light"?n.darken:n.lighten,t=n.palette.mode==="light"?n.lighten:n.darken;return{...n.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(n.palette).filter(ta(["light"])).map(([i])=>({props:{colorSeverity:i,variant:"standard"},style:{color:n.vars?n.vars.palette.Alert[`${i}Color`]:e(n.palette[i].light,.6),backgroundColor:n.vars?n.vars.palette.Alert[`${i}StandardBg`]:t(n.palette[i].light,.9),[`& .${UB.icon}`]:n.vars?{color:n.vars.palette.Alert[`${i}IconColor`]}:{color:n.palette[i].main}}})),...Object.entries(n.palette).filter(ta(["light"])).map(([i])=>({props:{colorSeverity:i,variant:"outlined"},style:{color:n.vars?n.vars.palette.Alert[`${i}Color`]:e(n.palette[i].light,.6),border:`1px solid ${(n.vars||n).palette[i].light}`,[`& .${UB.icon}`]:n.vars?{color:n.vars.palette.Alert[`${i}IconColor`]}:{color:n.palette[i].main}}})),...Object.entries(n.palette).filter(ta(["dark"])).map(([i])=>({props:{colorSeverity:i,variant:"filled"},style:{fontWeight:n.typography.fontWeightMedium,...n.vars?{color:n.vars.palette.Alert[`${i}FilledColor`],backgroundColor:n.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:n.palette.mode==="dark"?n.palette[i].dark:n.palette[i].main,color:n.palette.getContrastText(n.palette[i].main)}}}))]}})),qve=at("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Wve=at("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),$ve=at("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),zB={success:Z.jsx(zve,{fontSize:"inherit"}),warning:Z.jsx(Bve,{fontSize:"inherit"}),error:Z.jsx(Fve,{fontSize:"inherit"}),info:Z.jsx(Vve,{fontSize:"inherit"})},Xve=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiAlert"}),{action:r,children:s,className:a,closeText:o="Close",color:c,components:u={},componentsProps:h={},icon:p,iconMapping:y=zB,onClose:v,role:_="alert",severity:S="success",slotProps:E={},slots:b={},variant:w="standard",...A}=i,C={...i,color:c,severity:S,variant:w,colorSeverity:c||S},D=jve(C),L={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...b},slotProps:{...h,...E}},[P,U]=$t("root",{ref:t,shouldForwardComponentProp:!0,className:Rt(D.root,a),elementType:Gve,externalForwardedProps:{...L,...A},ownerState:C,additionalProps:{role:_,elevation:0}}),[I,N]=$t("icon",{className:D.icon,elementType:qve,externalForwardedProps:L,ownerState:C}),[F,z]=$t("message",{className:D.message,elementType:Wve,externalForwardedProps:L,ownerState:C}),[V,K]=$t("action",{className:D.action,elementType:$ve,externalForwardedProps:L,ownerState:C}),[ee,q]=$t("closeButton",{elementType:wL,externalForwardedProps:L,ownerState:C}),[$,Q]=$t("closeIcon",{elementType:Hve,externalForwardedProps:L,ownerState:C});return Z.jsxs(P,{...U,children:[p!==!1?Z.jsx(I,{...N,children:p||y[S]||zB[S]}):null,Z.jsx(F,{...z,children:s}),r!=null?Z.jsx(V,{...K,children:r}):null,r==null&&v?Z.jsx(V,{...K,children:Z.jsx(ee,{size:"small","aria-label":o,title:o,color:"inherit",onClick:v,...q,children:Z.jsx($,{fontSize:"small",...Q})})}):null]})});function Yve(n){return ln("MuiTypography",n)}const BB=cn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Kve={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Zve=Tye(),Qve=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:r,variant:s,classes:a}=n,o={root:["root",s,n.align!=="inherit"&&`align${yt(e)}`,t&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return on(o,Yve,a)},Jve=at("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${yt(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(vn(({theme:n})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([e,t])=>e!=="inherit"&&t&&typeof t=="object").map(([e,t])=>({props:{variant:e},style:t})),...Object.entries(n.palette).filter(ta()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${yt(e)}`},style:{color:(n.vars||n).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),FB={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Lr=H.forwardRef(function(e,t){const{color:i,...r}=gn({props:e,name:"MuiTypography"}),s=!Kve[i],a=Zve({...r,...s&&{color:i}}),{align:o="inherit",className:c,component:u,gutterBottom:h=!1,noWrap:p=!1,paragraph:y=!1,variant:v="body1",variantMapping:_=FB,...S}=a,E={...a,align:o,color:i,className:c,component:u,gutterBottom:h,noWrap:p,paragraph:y,variant:v,variantMapping:_},b=u||(y?"p":_[v]||FB[v])||"span",w=Qve(E);return Z.jsx(Jve,{as:b,ref:t,className:Rt(w.root,c),...S,ownerState:E,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...S.style}})});var nl="top",Cc="bottom",Ac="right",il="left",CL="auto",GS=[nl,Cc,Ac,il],K0="start",sS="end",e0e="clippingParents",Dq="viewport",ob="popper",t0e="reference",VB=GS.reduce(function(n,e){return n.concat([e+"-"+K0,e+"-"+sS])},[]),Nq=[].concat(GS,[CL]).reduce(function(n,e){return n.concat([e,e+"-"+K0,e+"-"+sS])},[]),n0e="beforeRead",i0e="read",r0e="afterRead",s0e="beforeMain",a0e="main",o0e="afterMain",l0e="beforeWrite",c0e="write",u0e="afterWrite",f0e=[n0e,i0e,r0e,s0e,a0e,o0e,l0e,c0e,u0e];function Pf(n){return n?(n.nodeName||"").toLowerCase():null}function Fl(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ey(n){var e=Fl(n).Element;return n instanceof e||n instanceof Element}function Tc(n){var e=Fl(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function AL(n){if(typeof ShadowRoot>"u")return!1;var e=Fl(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function h0e(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},s=e.elements[t];!Tc(s)||!Pf(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(a){var o=r[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function d0e(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),o=a.reduce(function(c,u){return c[u]="",c},{});!Tc(r)||!Pf(r)||(Object.assign(r.style,o),Object.keys(s).forEach(function(c){r.removeAttribute(c)}))})}}const p0e={name:"applyStyles",enabled:!0,phase:"write",fn:h0e,effect:d0e,requires:["computeStyles"]};function Rf(n){return n.split("-")[0]}var Hg=Math.max,VC=Math.min,Z0=Math.round;function RP(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Lq(){return!/^((?!chrome|android).)*safari/i.test(RP())}function Q0(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,s=1;e&&Tc(n)&&(r=n.offsetWidth>0&&Z0(i.width)/n.offsetWidth||1,s=n.offsetHeight>0&&Z0(i.height)/n.offsetHeight||1);var a=ey(n)?Fl(n):window,o=a.visualViewport,c=!Lq()&&t,u=(i.left+(c&&o?o.offsetLeft:0))/r,h=(i.top+(c&&o?o.offsetTop:0))/s,p=i.width/r,y=i.height/s;return{width:p,height:y,top:h,right:u+p,bottom:h+y,left:u,x:u,y:h}}function ML(n){var e=Q0(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function Uq(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&AL(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function nd(n){return Fl(n).getComputedStyle(n)}function m0e(n){return["table","td","th"].indexOf(Pf(n))>=0}function Jp(n){return((ey(n)?n.ownerDocument:n.document)||window.document).documentElement}function RM(n){return Pf(n)==="html"?n:n.assignedSlot||n.parentNode||(AL(n)?n.host:null)||Jp(n)}function HB(n){return!Tc(n)||nd(n).position==="fixed"?null:n.offsetParent}function g0e(n){var e=/firefox/i.test(RP()),t=/Trident/i.test(RP());if(t&&Tc(n)){var i=nd(n);if(i.position==="fixed")return null}var r=RM(n);for(AL(r)&&(r=r.host);Tc(r)&&["html","body"].indexOf(Pf(r))<0;){var s=nd(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function qS(n){for(var e=Fl(n),t=HB(n);t&&m0e(t)&&nd(t).position==="static";)t=HB(t);return t&&(Pf(t)==="html"||Pf(t)==="body"&&nd(t).position==="static")?e:t||g0e(n)||e}function RL(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ux(n,e,t){return Hg(n,VC(e,t))}function y0e(n,e,t){var i=ux(n,e,t);return i>t?t:i}function kq(){return{top:0,right:0,bottom:0,left:0}}function zq(n){return Object.assign({},kq(),n)}function Bq(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var v0e=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,zq(typeof e!="number"?e:Bq(e,GS))};function _0e(n){var e,t=n.state,i=n.name,r=n.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,o=Rf(t.placement),c=RL(o),u=[il,Ac].indexOf(o)>=0,h=u?"height":"width";if(!(!s||!a)){var p=v0e(r.padding,t),y=ML(s),v=c==="y"?nl:il,_=c==="y"?Cc:Ac,S=t.rects.reference[h]+t.rects.reference[c]-a[c]-t.rects.popper[h],E=a[c]-t.rects.reference[c],b=qS(s),w=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,A=S/2-E/2,C=p[v],D=w-y[h]-p[_],L=w/2-y[h]/2+A,P=ux(C,L,D),U=c;t.modifiersData[i]=(e={},e[U]=P,e.centerOffset=P-L,e)}}function b0e(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Uq(e.elements.popper,r)&&(e.elements.arrow=r))}const x0e={name:"arrow",enabled:!0,phase:"main",fn:_0e,effect:b0e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function J0(n){return n.split("-")[1]}var S0e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function E0e(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:Z0(t*r)/r||0,y:Z0(i*r)/r||0}}function jB(n){var e,t=n.popper,i=n.popperRect,r=n.placement,s=n.variation,a=n.offsets,o=n.position,c=n.gpuAcceleration,u=n.adaptive,h=n.roundOffsets,p=n.isFixed,y=a.x,v=y===void 0?0:y,_=a.y,S=_===void 0?0:_,E=typeof h=="function"?h({x:v,y:S}):{x:v,y:S};v=E.x,S=E.y;var b=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),A=il,C=nl,D=window;if(u){var L=qS(t),P="clientHeight",U="clientWidth";if(L===Fl(t)&&(L=Jp(t),nd(L).position!=="static"&&o==="absolute"&&(P="scrollHeight",U="scrollWidth")),L=L,r===nl||(r===il||r===Ac)&&s===sS){C=Cc;var I=p&&L===D&&D.visualViewport?D.visualViewport.height:L[P];S-=I-i.height,S*=c?1:-1}if(r===il||(r===nl||r===Cc)&&s===sS){A=Ac;var N=p&&L===D&&D.visualViewport?D.visualViewport.width:L[U];v-=N-i.width,v*=c?1:-1}}var F=Object.assign({position:o},u&&S0e),z=h===!0?E0e({x:v,y:S},Fl(t)):{x:v,y:S};if(v=z.x,S=z.y,c){var V;return Object.assign({},F,(V={},V[C]=w?"0":"",V[A]=b?"0":"",V.transform=(D.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",V))}return Object.assign({},F,(e={},e[C]=w?S+"px":"",e[A]=b?v+"px":"",e.transform="",e))}function T0e(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,s=t.adaptive,a=s===void 0?!0:s,o=t.roundOffsets,c=o===void 0?!0:o,u={placement:Rf(e.placement),variation:J0(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,jB(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,jB(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const w0e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:T0e,data:{}};var aw={passive:!0};function C0e(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,s=r===void 0?!0:r,a=i.resize,o=a===void 0?!0:a,c=Fl(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(h){h.addEventListener("scroll",t.update,aw)}),o&&c.addEventListener("resize",t.update,aw),function(){s&&u.forEach(function(h){h.removeEventListener("scroll",t.update,aw)}),o&&c.removeEventListener("resize",t.update,aw)}}const A0e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:C0e,data:{}};var M0e={left:"right",right:"left",bottom:"top",top:"bottom"};function f2(n){return n.replace(/left|right|bottom|top/g,function(e){return M0e[e]})}var R0e={start:"end",end:"start"};function GB(n){return n.replace(/start|end/g,function(e){return R0e[e]})}function OL(n){var e=Fl(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function IL(n){return Q0(Jp(n)).left+OL(n).scrollLeft}function O0e(n,e){var t=Fl(n),i=Jp(n),r=t.visualViewport,s=i.clientWidth,a=i.clientHeight,o=0,c=0;if(r){s=r.width,a=r.height;var u=Lq();(u||!u&&e==="fixed")&&(o=r.offsetLeft,c=r.offsetTop)}return{width:s,height:a,x:o+IL(n),y:c}}function I0e(n){var e,t=Jp(n),i=OL(n),r=(e=n.ownerDocument)==null?void 0:e.body,s=Hg(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Hg(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-i.scrollLeft+IL(n),c=-i.scrollTop;return nd(r||t).direction==="rtl"&&(o+=Hg(t.clientWidth,r?r.clientWidth:0)-s),{width:s,height:a,x:o,y:c}}function PL(n){var e=nd(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function Fq(n){return["html","body","#document"].indexOf(Pf(n))>=0?n.ownerDocument.body:Tc(n)&&PL(n)?n:Fq(RM(n))}function fx(n,e){var t;e===void 0&&(e=[]);var i=Fq(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=Fl(i),a=r?[s].concat(s.visualViewport||[],PL(i)?i:[]):i,o=e.concat(a);return r?o:o.concat(fx(RM(a)))}function OP(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function P0e(n,e){var t=Q0(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function qB(n,e,t){return e===Dq?OP(O0e(n,t)):ey(e)?P0e(e,t):OP(I0e(Jp(n)))}function D0e(n){var e=fx(RM(n)),t=["absolute","fixed"].indexOf(nd(n).position)>=0,i=t&&Tc(n)?qS(n):n;return ey(i)?e.filter(function(r){return ey(r)&&Uq(r,i)&&Pf(r)!=="body"}):[]}function N0e(n,e,t,i){var r=e==="clippingParents"?D0e(n):[].concat(e),s=[].concat(r,[t]),a=s[0],o=s.reduce(function(c,u){var h=qB(n,u,i);return c.top=Hg(h.top,c.top),c.right=VC(h.right,c.right),c.bottom=VC(h.bottom,c.bottom),c.left=Hg(h.left,c.left),c},qB(n,a,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Vq(n){var e=n.reference,t=n.element,i=n.placement,r=i?Rf(i):null,s=i?J0(i):null,a=e.x+e.width/2-t.width/2,o=e.y+e.height/2-t.height/2,c;switch(r){case nl:c={x:a,y:e.y-t.height};break;case Cc:c={x:a,y:e.y+e.height};break;case Ac:c={x:e.x+e.width,y:o};break;case il:c={x:e.x-t.width,y:o};break;default:c={x:e.x,y:e.y}}var u=r?RL(r):null;if(u!=null){var h=u==="y"?"height":"width";switch(s){case K0:c[u]=c[u]-(e[h]/2-t[h]/2);break;case sS:c[u]=c[u]+(e[h]/2-t[h]/2);break}}return c}function aS(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,s=t.strategy,a=s===void 0?n.strategy:s,o=t.boundary,c=o===void 0?e0e:o,u=t.rootBoundary,h=u===void 0?Dq:u,p=t.elementContext,y=p===void 0?ob:p,v=t.altBoundary,_=v===void 0?!1:v,S=t.padding,E=S===void 0?0:S,b=zq(typeof E!="number"?E:Bq(E,GS)),w=y===ob?t0e:ob,A=n.rects.popper,C=n.elements[_?w:y],D=N0e(ey(C)?C:C.contextElement||Jp(n.elements.popper),c,h,a),L=Q0(n.elements.reference),P=Vq({reference:L,element:A,placement:r}),U=OP(Object.assign({},A,P)),I=y===ob?U:L,N={top:D.top-I.top+b.top,bottom:I.bottom-D.bottom+b.bottom,left:D.left-I.left+b.left,right:I.right-D.right+b.right},F=n.modifiersData.offset;if(y===ob&&F){var z=F[r];Object.keys(N).forEach(function(V){var K=[Ac,Cc].indexOf(V)>=0?1:-1,ee=[nl,Cc].indexOf(V)>=0?"y":"x";N[V]+=z[ee]*K})}return N}function L0e(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,s=t.rootBoundary,a=t.padding,o=t.flipVariations,c=t.allowedAutoPlacements,u=c===void 0?Nq:c,h=J0(i),p=h?o?VB:VB.filter(function(_){return J0(_)===h}):GS,y=p.filter(function(_){return u.indexOf(_)>=0});y.length===0&&(y=p);var v=y.reduce(function(_,S){return _[S]=aS(n,{placement:S,boundary:r,rootBoundary:s,padding:a})[Rf(S)],_},{});return Object.keys(v).sort(function(_,S){return v[_]-v[S]})}function U0e(n){if(Rf(n)===CL)return[];var e=f2(n);return[GB(n),e,GB(e)]}function k0e(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,s=r===void 0?!0:r,a=t.altAxis,o=a===void 0?!0:a,c=t.fallbackPlacements,u=t.padding,h=t.boundary,p=t.rootBoundary,y=t.altBoundary,v=t.flipVariations,_=v===void 0?!0:v,S=t.allowedAutoPlacements,E=e.options.placement,b=Rf(E),w=b===E,A=c||(w||!_?[f2(E)]:U0e(E)),C=[E].concat(A).reduce(function(ue,ie){return ue.concat(Rf(ie)===CL?L0e(e,{placement:ie,boundary:h,rootBoundary:p,padding:u,flipVariations:_,allowedAutoPlacements:S}):ie)},[]),D=e.rects.reference,L=e.rects.popper,P=new Map,U=!0,I=C[0],N=0;N<C.length;N++){var F=C[N],z=Rf(F),V=J0(F)===K0,K=[nl,Cc].indexOf(z)>=0,ee=K?"width":"height",q=aS(e,{placement:F,boundary:h,rootBoundary:p,altBoundary:y,padding:u}),$=K?V?Ac:il:V?Cc:nl;D[ee]>L[ee]&&($=f2($));var Q=f2($),re=[];if(s&&re.push(q[z]<=0),o&&re.push(q[$]<=0,q[Q]<=0),re.every(function(ue){return ue})){I=F,U=!1;break}P.set(F,re)}if(U)for(var de=_?3:1,Y=function(ie){var he=C.find(function(ye){var Ve=P.get(ye);if(Ve)return Ve.slice(0,ie).every(function(Xe){return Xe})});if(he)return I=he,"break"},le=de;le>0;le--){var pe=Y(le);if(pe==="break")break}e.placement!==I&&(e.modifiersData[i]._skip=!0,e.placement=I,e.reset=!0)}}const z0e={name:"flip",enabled:!0,phase:"main",fn:k0e,requiresIfExists:["offset"],data:{_skip:!1}};function WB(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function $B(n){return[nl,Ac,Cc,il].some(function(e){return n[e]>=0})}function B0e(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,a=aS(e,{elementContext:"reference"}),o=aS(e,{altBoundary:!0}),c=WB(a,i),u=WB(o,r,s),h=$B(c),p=$B(u);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const F0e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:B0e};function V0e(n,e,t){var i=Rf(n),r=[il,nl].indexOf(i)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=s[0],o=s[1];return a=a||0,o=(o||0)*r,[il,Ac].indexOf(i)>=0?{x:o,y:a}:{x:a,y:o}}function H0e(n){var e=n.state,t=n.options,i=n.name,r=t.offset,s=r===void 0?[0,0]:r,a=Nq.reduce(function(h,p){return h[p]=V0e(p,e.rects,s),h},{}),o=a[e.placement],c=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=a}const j0e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:H0e};function G0e(n){var e=n.state,t=n.name;e.modifiersData[t]=Vq({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const q0e={name:"popperOffsets",enabled:!0,phase:"read",fn:G0e,data:{}};function W0e(n){return n==="x"?"y":"x"}function $0e(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,s=r===void 0?!0:r,a=t.altAxis,o=a===void 0?!1:a,c=t.boundary,u=t.rootBoundary,h=t.altBoundary,p=t.padding,y=t.tether,v=y===void 0?!0:y,_=t.tetherOffset,S=_===void 0?0:_,E=aS(e,{boundary:c,rootBoundary:u,padding:p,altBoundary:h}),b=Rf(e.placement),w=J0(e.placement),A=!w,C=RL(b),D=W0e(C),L=e.modifiersData.popperOffsets,P=e.rects.reference,U=e.rects.popper,I=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,N=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(L){if(s){var V,K=C==="y"?nl:il,ee=C==="y"?Cc:Ac,q=C==="y"?"height":"width",$=L[C],Q=$+E[K],re=$-E[ee],de=v?-U[q]/2:0,Y=w===K0?P[q]:U[q],le=w===K0?-U[q]:-P[q],pe=e.elements.arrow,ue=v&&pe?ML(pe):{width:0,height:0},ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:kq(),he=ie[K],ye=ie[ee],Ve=ux(0,P[q],ue[q]),Xe=A?P[q]/2-de-Ve-he-N.mainAxis:Y-Ve-he-N.mainAxis,Ge=A?-P[q]/2+de+Ve+ye+N.mainAxis:le+Ve+ye+N.mainAxis,rt=e.elements.arrow&&qS(e.elements.arrow),lt=rt?C==="y"?rt.clientTop||0:rt.clientLeft||0:0,pt=(V=F?.[C])!=null?V:0,te=$+Xe-pt-lt,Oe=$+Ge-pt,Be=ux(v?VC(Q,te):Q,$,v?Hg(re,Oe):re);L[C]=Be,z[C]=Be-$}if(o){var Ne,Me=C==="x"?nl:il,ut=C==="x"?Cc:Ac,qe=L[D],ae=D==="y"?"height":"width",J=qe+E[Me],Se=qe-E[ut],Ae=[nl,il].indexOf(b)!==-1,Ze=(Ne=F?.[D])!=null?Ne:0,Re=Ae?J:qe-P[ae]-U[ae]-Ze+N.altAxis,ct=Ae?qe+P[ae]+U[ae]-Ze-N.altAxis:Se,ft=v&&Ae?y0e(Re,qe,ct):ux(v?Re:J,qe,v?ct:Se);L[D]=ft,z[D]=ft-qe}e.modifiersData[i]=z}}const X0e={name:"preventOverflow",enabled:!0,phase:"main",fn:$0e,requiresIfExists:["offset"]};function Y0e(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function K0e(n){return n===Fl(n)||!Tc(n)?OL(n):Y0e(n)}function Z0e(n){var e=n.getBoundingClientRect(),t=Z0(e.width)/n.offsetWidth||1,i=Z0(e.height)/n.offsetHeight||1;return t!==1||i!==1}function Q0e(n,e,t){t===void 0&&(t=!1);var i=Tc(e),r=Tc(e)&&Z0e(e),s=Jp(e),a=Q0(n,r,t),o={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!t)&&((Pf(e)!=="body"||PL(s))&&(o=K0e(e)),Tc(e)?(c=Q0(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=IL(s))),{x:a.left+o.scrollLeft-c.x,y:a.top+o.scrollTop-c.y,width:a.width,height:a.height}}function J0e(n){var e=new Map,t=new Set,i=[];n.forEach(function(s){e.set(s.name,s)});function r(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!t.has(o)){var c=e.get(o);c&&r(c)}}),i.push(s)}return n.forEach(function(s){t.has(s.name)||r(s)}),i}function e_e(n){var e=J0e(n);return f0e.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function t_e(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function n_e(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var XB={placement:"bottom",modifiers:[],strategy:"absolute"};function YB(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function i_e(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,s=r===void 0?XB:r;return function(o,c,u){u===void 0&&(u=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},XB,s),modifiersData:{},elements:{reference:o,popper:c},attributes:{},styles:{}},p=[],y=!1,v={state:h,setOptions:function(b){var w=typeof b=="function"?b(h.options):b;S(),h.options=Object.assign({},s,h.options,w),h.scrollParents={reference:ey(o)?fx(o):o.contextElement?fx(o.contextElement):[],popper:fx(c)};var A=e_e(n_e([].concat(i,h.options.modifiers)));return h.orderedModifiers=A.filter(function(C){return C.enabled}),_(),v.update()},forceUpdate:function(){if(!y){var b=h.elements,w=b.reference,A=b.popper;if(YB(w,A)){h.rects={reference:Q0e(w,qS(A),h.options.strategy==="fixed"),popper:ML(A)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(N){return h.modifiersData[N.name]=Object.assign({},N.data)});for(var C=0;C<h.orderedModifiers.length;C++){if(h.reset===!0){h.reset=!1,C=-1;continue}var D=h.orderedModifiers[C],L=D.fn,P=D.options,U=P===void 0?{}:P,I=D.name;typeof L=="function"&&(h=L({state:h,options:U,name:I,instance:v})||h)}}}},update:t_e(function(){return new Promise(function(E){v.forceUpdate(),E(h)})}),destroy:function(){S(),y=!0}};if(!YB(o,c))return v;v.setOptions(u).then(function(E){!y&&u.onFirstUpdate&&u.onFirstUpdate(E)});function _(){h.orderedModifiers.forEach(function(E){var b=E.name,w=E.options,A=w===void 0?{}:w,C=E.effect;if(typeof C=="function"){var D=C({state:h,name:b,instance:v,options:A}),L=function(){};p.push(D||L)}})}function S(){p.forEach(function(E){return E()}),p=[]}return v}}var r_e=[A0e,q0e,w0e,p0e,j0e,z0e,X0e,x0e,F0e],s_e=i_e({defaultModifiers:r_e});function e_(n){const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:r=!1,...s}=n,a=r?{}:Mq(t,i),{props:o,internalRef:c}=Oq({...s,externalSlotProps:a}),u=Fr(c,a?.ref,n.additionalProps?.ref);return Aq(e,{...o,ref:u},i)}function em(n){return parseInt(H.version,10)>=19?n?.props?.ref||null:n?.ref||null}function a_e(n){return typeof n=="function"?n():n}const Hq=H.forwardRef(function(e,t){const{children:i,container:r,disablePortal:s=!1}=e,[a,o]=H.useState(null),c=Fr(H.isValidElement(i)?em(i):null,t);if(xu(()=>{s||o(a_e(r)||document.body)},[r,s]),xu(()=>{if(a&&!s)return PB(t,a),()=>{PB(t,null)}},[t,a,s]),s){if(H.isValidElement(i)){const u={ref:c};return H.cloneElement(i,u)}return i}return a&&eV.createPortal(i,a)});function o_e(n){return ln("MuiPopper",n)}cn("MuiPopper",["root"]);function l_e(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function IP(n){return typeof n=="function"?n():n}function c_e(n){return n.nodeType!==void 0}const u_e=n=>{const{classes:e}=n;return on({root:["root"]},o_e,e)},f_e={},h_e=H.forwardRef(function(e,t){const{anchorEl:i,children:r,direction:s,disablePortal:a,modifiers:o,open:c,placement:u,popperOptions:h,popperRef:p,slotProps:y={},slots:v={},TransitionProps:_,ownerState:S,...E}=e,b=H.useRef(null),w=Fr(b,t),A=H.useRef(null),C=Fr(A,p),D=H.useRef(C);xu(()=>{D.current=C},[C]),H.useImperativeHandle(p,()=>A.current,[]);const L=l_e(u,s),[P,U]=H.useState(L),[I,N]=H.useState(IP(i));H.useEffect(()=>{A.current&&A.current.forceUpdate()}),H.useEffect(()=>{i&&N(IP(i))},[i]),xu(()=>{if(!I||!c)return;const ee=Q=>{U(Q.placement)};let q=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Q})=>{ee(Q)}}];o!=null&&(q=q.concat(o)),h&&h.modifiers!=null&&(q=q.concat(h.modifiers));const $=s_e(I,b.current,{placement:L,...h,modifiers:q});return D.current($),()=>{$.destroy(),D.current(null)}},[I,a,o,c,h,L]);const F={placement:P};_!==null&&(F.TransitionProps=_);const z=u_e(e),V=v.root??"div",K=e_({elementType:V,externalSlotProps:y.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:z.root});return Z.jsx(V,{...K,children:typeof r=="function"?r(F):r})}),d_e=H.forwardRef(function(e,t){const{anchorEl:i,children:r,container:s,direction:a="ltr",disablePortal:o=!1,keepMounted:c=!1,modifiers:u,open:h,placement:p="bottom",popperOptions:y=f_e,popperRef:v,style:_,transition:S=!1,slotProps:E={},slots:b={},...w}=e,[A,C]=H.useState(!0),D=()=>{C(!1)},L=()=>{C(!0)};if(!c&&!h&&(!S||A))return null;let P;if(s)P=s;else if(i){const N=IP(i);P=N&&c_e(N)?wa(N).body:wa(null).body}const U=!h&&c&&(!S||A)?"none":void 0,I=S?{in:h,onEnter:D,onExited:L}:void 0;return Z.jsx(Hq,{disablePortal:o,container:P,children:Z.jsx(h_e,{anchorEl:i,direction:a,disablePortal:o,modifiers:u,ref:t,open:S?!A:h,placement:p,popperOptions:y,popperRef:v,slotProps:E,slots:b,...w,style:{position:"fixed",top:0,left:0,display:U,..._},TransitionProps:I,children:r})})}),p_e=at(d_e,{name:"MuiPopper",slot:"Root"})({}),jq=H.forwardRef(function(e,t){const i=HS(),r=gn({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:o,componentsProps:c,container:u,disablePortal:h,keepMounted:p,modifiers:y,open:v,placement:_,popperOptions:S,popperRef:E,transition:b,slots:w,slotProps:A,...C}=r,D=w?.root??o?.Root,L={anchorEl:s,container:u,disablePortal:h,keepMounted:p,modifiers:y,open:v,placement:_,popperOptions:S,popperRef:E,transition:b,...C};return Z.jsx(p_e,{as:a,direction:i?"rtl":"ltr",slots:{root:D},slotProps:A??c,...L,ref:t})}),m_e=Vr(Z.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function g_e(n){return ln("MuiChip",n)}const Jn=cn("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),y_e=n=>{const{classes:e,disabled:t,size:i,color:r,iconColor:s,onDelete:a,clickable:o,variant:c}=n,u={root:["root",c,t&&"disabled",`size${yt(i)}`,`color${yt(r)}`,o&&"clickable",o&&`clickableColor${yt(r)}`,a&&"deletable",a&&`deletableColor${yt(r)}`,`${c}${yt(r)}`],label:["label",`label${yt(i)}`],avatar:["avatar",`avatar${yt(i)}`,`avatarColor${yt(r)}`],icon:["icon",`icon${yt(i)}`,`iconColor${yt(s)}`],deleteIcon:["deleteIcon",`deleteIcon${yt(i)}`,`deleteIconColor${yt(r)}`,`deleteIcon${yt(c)}Color${yt(r)}`]};return on(u,g_e,e)},v_e=at("div",{name:"MuiChip",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{color:i,iconColor:r,clickable:s,onDelete:a,size:o,variant:c}=t;return[{[`& .${Jn.avatar}`]:e.avatar},{[`& .${Jn.avatar}`]:e[`avatar${yt(o)}`]},{[`& .${Jn.avatar}`]:e[`avatarColor${yt(i)}`]},{[`& .${Jn.icon}`]:e.icon},{[`& .${Jn.icon}`]:e[`icon${yt(o)}`]},{[`& .${Jn.icon}`]:e[`iconColor${yt(r)}`]},{[`& .${Jn.deleteIcon}`]:e.deleteIcon},{[`& .${Jn.deleteIcon}`]:e[`deleteIcon${yt(o)}`]},{[`& .${Jn.deleteIcon}`]:e[`deleteIconColor${yt(i)}`]},{[`& .${Jn.deleteIcon}`]:e[`deleteIcon${yt(c)}Color${yt(i)}`]},e.root,e[`size${yt(o)}`],e[`color${yt(i)}`],s&&e.clickable,s&&i!=="default"&&e[`clickableColor${yt(i)}`],a&&e.deletable,a&&i!=="default"&&e[`deletableColor${yt(i)}`],e[c],e[`${c}${yt(i)}`]]}})(vn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[700]:n.palette.grey[300];return{maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Jn.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Jn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:e,fontSize:n.typography.pxToRem(12)},[`& .${Jn.avatarColorPrimary}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},[`& .${Jn.avatarColorSecondary}`]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},[`& .${Jn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},[`& .${Jn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Jn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:n.alpha((n.vars||n).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.alpha((n.vars||n).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Jn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Jn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(n.palette).filter(ta(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(n.vars||n).palette[t].main,color:(n.vars||n).palette[t].contrastText,[`& .${Jn.deleteIcon}`]:{color:n.alpha((n.vars||n).palette[t].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].contrastText}}}})),{props:t=>t.iconColor===t.color,style:{[`& .${Jn.icon}`]:{color:n.vars?n.vars.palette.Chip.defaultIconColor:e}}},{props:t=>t.iconColor===t.color&&t.color!=="default",style:{[`& .${Jn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Jn.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)}}},...Object.entries(n.palette).filter(ta(["dark"])).map(([t])=>({props:{color:t,onDelete:!0},style:{[`&.${Jn.focusVisible}`]:{background:(n.vars||n).palette[t].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`)},[`&.${Jn.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)},"&:active":{boxShadow:(n.vars||n).shadows[1]}}},...Object.entries(n.palette).filter(ta(["dark"])).map(([t])=>({props:{color:t,clickable:!0},style:{[`&:hover, &.${Jn.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:n.vars?`1px solid ${n.vars.palette.Chip.defaultBorder}`:`1px solid ${n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[700]}`,[`&.${Jn.clickable}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${Jn.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`& .${Jn.avatar}`]:{marginLeft:4},[`& .${Jn.avatarSmall}`]:{marginLeft:2},[`& .${Jn.icon}`]:{marginLeft:4},[`& .${Jn.iconSmall}`]:{marginLeft:2},[`& .${Jn.deleteIcon}`]:{marginRight:5},[`& .${Jn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(n.palette).filter(ta()).map(([t])=>({props:{variant:"outlined",color:t},style:{color:(n.vars||n).palette[t].main,border:`1px solid ${n.alpha((n.vars||n).palette[t].main,.7)}`,[`&.${Jn.clickable}:hover`]:{backgroundColor:n.alpha((n.vars||n).palette[t].main,(n.vars||n).palette.action.hoverOpacity)},[`&.${Jn.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette[t].main,(n.vars||n).palette.action.focusOpacity)},[`& .${Jn.deleteIcon}`]:{color:n.alpha((n.vars||n).palette[t].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].main}}}}))]}})),__e=at("span",{name:"MuiChip",slot:"Label",overridesResolver:(n,e)=>{const{ownerState:t}=n,{size:i}=t;return[e.label,e[`label${yt(i)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function KB(n){return n.key==="Backspace"||n.key==="Delete"}const b_e=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiChip"}),{avatar:r,className:s,clickable:a,color:o="default",component:c,deleteIcon:u,disabled:h=!1,icon:p,label:y,onClick:v,onDelete:_,onKeyDown:S,onKeyUp:E,size:b="medium",variant:w="filled",tabIndex:A,skipFocusWhenDisabled:C=!1,slots:D={},slotProps:L={},...P}=i,U=H.useRef(null),I=Fr(U,t),N=he=>{he.stopPropagation(),_&&_(he)},F=he=>{he.currentTarget===he.target&&KB(he)&&he.preventDefault(),S&&S(he)},z=he=>{he.currentTarget===he.target&&_&&KB(he)&&_(he),E&&E(he)},V=a!==!1&&v?!0:a,K=V||_?td:c||"div",ee={...i,component:K,disabled:h,size:b,color:o,iconColor:H.isValidElement(p)&&p.props.color||o,onDelete:!!_,clickable:V,variant:w},q=y_e(ee),$=K===td?{component:c||"div",focusVisibleClassName:q.focusVisible,..._&&{disableRipple:!0}}:{};let Q=null;_&&(Q=u&&H.isValidElement(u)?H.cloneElement(u,{className:Rt(u.props.className,q.deleteIcon),onClick:N}):Z.jsx(m_e,{className:q.deleteIcon,onClick:N}));let re=null;r&&H.isValidElement(r)&&(re=H.cloneElement(r,{className:Rt(q.avatar,r.props.className)}));let de=null;p&&H.isValidElement(p)&&(de=H.cloneElement(p,{className:Rt(q.icon,p.props.className)}));const Y={slots:D,slotProps:L},[le,pe]=$t("root",{elementType:v_e,externalForwardedProps:{...Y,...P},ownerState:ee,shouldForwardComponentProp:!0,ref:I,className:Rt(q.root,s),additionalProps:{disabled:V&&h?!0:void 0,tabIndex:C&&h?-1:A,...$},getSlotProps:he=>({...he,onClick:ye=>{he.onClick?.(ye),v?.(ye)},onKeyDown:ye=>{he.onKeyDown?.(ye),F(ye)},onKeyUp:ye=>{he.onKeyUp?.(ye),z(ye)}})}),[ue,ie]=$t("label",{elementType:__e,externalForwardedProps:Y,ownerState:ee,className:q.label});return Z.jsxs(le,{as:K,...pe,children:[re||de,Z.jsx(ue,{...ie,children:y}),Q]})});function ow(n){return parseInt(n,10)||0}const x_e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function S_e(n){for(const e in n)return!1;return!0}function ZB(n){return S_e(n)||n.outerHeightStyle===0&&!n.overflowing}const E_e=H.forwardRef(function(e,t){const{onChange:i,maxRows:r,minRows:s=1,style:a,value:o,...c}=e,{current:u}=H.useRef(o!=null),h=H.useRef(null),p=Fr(t,h),y=H.useRef(null),v=H.useRef(null),_=H.useCallback(()=>{const A=h.current,C=v.current;if(!A||!C)return;const L=Bl(A).getComputedStyle(A);if(L.width==="0px")return{outerHeightStyle:0,overflowing:!1};C.style.width=L.width,C.value=A.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const P=L.boxSizing,U=ow(L.paddingBottom)+ow(L.paddingTop),I=ow(L.borderBottomWidth)+ow(L.borderTopWidth),N=C.scrollHeight;C.value="x";const F=C.scrollHeight;let z=N;s&&(z=Math.max(Number(s)*F,z)),r&&(z=Math.min(Number(r)*F,z)),z=Math.max(z,F);const V=z+(P==="border-box"?U+I:0),K=Math.abs(z-N)<=1;return{outerHeightStyle:V,overflowing:K}},[r,s,e.placeholder]),S=Ll(()=>{const A=h.current,C=_();if(!A||!C||ZB(C))return!1;const D=C.outerHeightStyle;return y.current!=null&&y.current!==D}),E=H.useCallback(()=>{const A=h.current,C=_();if(!A||!C||ZB(C))return;const D=C.outerHeightStyle;y.current!==D&&(y.current=D,A.style.height=`${D}px`),A.style.overflow=C.overflowing?"hidden":""},[_]),b=H.useRef(-1);xu(()=>{const A=jS(E),C=h?.current;if(!C)return;const D=Bl(C);D.addEventListener("resize",A);let L;return typeof ResizeObserver<"u"&&(L=new ResizeObserver(()=>{S()&&(L.unobserve(C),cancelAnimationFrame(b.current),E(),b.current=requestAnimationFrame(()=>{L.observe(C)}))}),L.observe(C)),()=>{A.clear(),cancelAnimationFrame(b.current),D.removeEventListener("resize",A),L&&L.disconnect()}},[_,E,S]),xu(()=>{E()});const w=A=>{u||E();const C=A.target,D=C.value.length,L=C.value.endsWith(`
`),P=C.selectionStart===D;L&&P&&C.setSelectionRange(D,D),i&&i(A)};return Z.jsxs(H.Fragment,{children:[Z.jsx("textarea",{value:o,onChange:w,ref:p,rows:s,style:a,...c}),Z.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:{...x_e.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function fy({props:n,states:e,muiFormControl:t}){return e.reduce((i,r)=>(i[r]=n[r],t&&typeof n[r]>"u"&&(i[r]=t[r]),i),{})}const DL=H.createContext(void 0);function tm(){return H.useContext(DL)}function QB(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function HC(n,e=!1){return n&&(QB(n.value)&&n.value!==""||e&&QB(n.defaultValue)&&n.defaultValue!=="")}function T_e(n){return n.startAdornment}function w_e(n){return ln("MuiInputBase",n)}const t_=cn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var JB;const OM=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${yt(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},IM=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},C_e=n=>{const{classes:e,color:t,disabled:i,error:r,endAdornment:s,focused:a,formControl:o,fullWidth:c,hiddenLabel:u,multiline:h,readOnly:p,size:y,startAdornment:v,type:_}=n,S={root:["root",`color${yt(t)}`,i&&"disabled",r&&"error",c&&"fullWidth",a&&"focused",o&&"formControl",y&&y!=="medium"&&`size${yt(y)}`,h&&"multiline",v&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",p&&"readOnly"],input:["input",i&&"disabled",_==="search"&&"inputTypeSearch",h&&"inputMultiline",y==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",v&&"inputAdornedStart",s&&"inputAdornedEnd",p&&"readOnly"]};return on(S,w_e,e)},PM=at("div",{name:"MuiInputBase",slot:"Root",overridesResolver:OM})(vn(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${t_.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),DM=at("input",{name:"MuiInputBase",slot:"Input",overridesResolver:IM})(vn(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},r=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${t_.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus::-ms-input-placeholder":r},[`&.${t_.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),e6=Eye({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),NL=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:s,autoFocus:a,className:o,color:c,components:u={},componentsProps:h={},defaultValue:p,disabled:y,disableInjectingGlobalStyles:v,endAdornment:_,error:S,fullWidth:E=!1,id:b,inputComponent:w="input",inputProps:A={},inputRef:C,margin:D,maxRows:L,minRows:P,multiline:U=!1,name:I,onBlur:N,onChange:F,onClick:z,onFocus:V,onKeyDown:K,onKeyUp:ee,placeholder:q,readOnly:$,renderSuffix:Q,rows:re,size:de,slotProps:Y={},slots:le={},startAdornment:pe,type:ue="text",value:ie,...he}=i,ye=A.value!=null?A.value:ie,{current:Ve}=H.useRef(ye!=null),Xe=H.useRef(),Ge=H.useCallback($e=>{},[]),rt=Fr(Xe,C,A.ref,Ge),[lt,pt]=H.useState(!1),te=tm(),Oe=fy({props:i,muiFormControl:te,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Oe.focused=te?te.focused:lt,H.useEffect(()=>{!te&&y&&lt&&(pt(!1),N&&N())},[te,y,lt,N]);const Be=te&&te.onFilled,Ne=te&&te.onEmpty,Me=H.useCallback($e=>{HC($e)?Be&&Be():Ne&&Ne()},[Be,Ne]);xu(()=>{Ve&&Me({value:ye})},[ye,Me,Ve]);const ut=$e=>{V&&V($e),A.onFocus&&A.onFocus($e),te&&te.onFocus?te.onFocus($e):pt(!0)},qe=$e=>{N&&N($e),A.onBlur&&A.onBlur($e),te&&te.onBlur?te.onBlur($e):pt(!1)},ae=($e,...dt)=>{if(!Ve){const wt=$e.target||Xe.current;if(wt==null)throw new Error(ed(1));Me({value:wt.value})}A.onChange&&A.onChange($e,...dt),F&&F($e,...dt)};H.useEffect(()=>{Me(Xe.current)},[]);const J=$e=>{Xe.current&&$e.currentTarget===$e.target&&Xe.current.focus(),z&&z($e)};let Se=w,Ae=A;U&&Se==="input"&&(re?Ae={type:void 0,minRows:re,maxRows:re,...Ae}:Ae={type:void 0,maxRows:L,minRows:P,...Ae},Se=E_e);const Ze=$e=>{Me($e.animationName==="mui-auto-fill-cancel"?Xe.current:{value:"x"})};H.useEffect(()=>{te&&te.setAdornedStart(!!pe)},[te,pe]);const Re={...i,color:Oe.color||"primary",disabled:Oe.disabled,endAdornment:_,error:Oe.error,focused:Oe.focused,formControl:te,fullWidth:E,hiddenLabel:Oe.hiddenLabel,multiline:U,size:Oe.size,startAdornment:pe,type:ue},ct=C_e(Re),ft=le.root||u.Root||PM,Dt=Y.root||h.root||{},kt=le.input||u.Input||DM;return Ae={...Ae,...Y.input??h.input},Z.jsxs(H.Fragment,{children:[!v&&typeof e6=="function"&&(JB||(JB=Z.jsx(e6,{}))),Z.jsxs(ft,{...Dt,ref:t,onClick:J,...he,...!Y0(ft)&&{ownerState:{...Re,...Dt.ownerState}},className:Rt(ct.root,Dt.className,o,$&&"MuiInputBase-readOnly"),children:[pe,Z.jsx(DL.Provider,{value:null,children:Z.jsx(kt,{"aria-invalid":Oe.error,"aria-describedby":r,autoComplete:s,autoFocus:a,defaultValue:p,disabled:Oe.disabled,id:b,onAnimationStart:Ze,name:I,placeholder:q,readOnly:$,required:Oe.required,rows:re,value:ye,onKeyDown:K,onKeyUp:ee,type:ue,...Ae,...!Y0(kt)&&{as:Se,ownerState:{...Re,...Ae.ownerState}},ref:rt,className:Rt(ct.input,Ae.className,$&&"MuiInputBase-readOnly"),onBlur:qe,onChange:ae,onFocus:ut})}),_,Q?Q({...Oe,startAdornment:pe}):null]})]})});function A_e(n){return ln("MuiInput",n)}const lb={...t_,...cn("MuiInput",["root","underline","input"])};function M_e(n){return ln("MuiOutlinedInput",n)}const rf={...t_,...cn("MuiOutlinedInput",["root","notchedOutline","input"])};function R_e(n){return ln("MuiFilledInput",n)}const lg={...t_,...cn("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},O_e=Vr(Z.jsx("path",{d:"M7 10l5 5 5-5z"})),I_e=Vr(Z.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function P_e(n){return ln("MuiAvatar",n)}cn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const D_e=n=>{const{classes:e,variant:t,colorDefault:i}=n;return on({root:["root",t,i&&"colorDefault"],img:["img"],fallback:["fallback"]},P_e,e)},N_e=at("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],t.colorDefault&&e.colorDefault]}})(vn(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(n.vars||n).palette.background.default,...n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:n.palette.grey[400],...n.applyStyles("dark",{backgroundColor:n.palette.grey[600]})}}}]}))),L_e=at("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),U_e=at(I_e,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function k_e({crossOrigin:n,referrerPolicy:e,src:t,srcSet:i}){const[r,s]=H.useState(!1);return H.useEffect(()=>{if(!t&&!i)return;s(!1);let a=!0;const o=new Image;return o.onload=()=>{a&&s("loaded")},o.onerror=()=>{a&&s("error")},o.crossOrigin=n,o.referrerPolicy=e,o.src=t,i&&(o.srcset=i),()=>{a=!1}},[n,e,t,i]),r}const t6=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiAvatar"}),{alt:r,children:s,className:a,component:o="div",slots:c={},slotProps:u={},imgProps:h,sizes:p,src:y,srcSet:v,variant:_="circular",...S}=i;let E=null;const b={...i,component:o,variant:_},w=k_e({...h,...typeof u.img=="function"?u.img(b):u.img,src:y,srcSet:v}),A=y||v,C=A&&w!=="error";b.colorDefault=!C,delete b.ownerState;const D=D_e(b),[L,P]=$t("root",{ref:t,className:Rt(D.root,a),elementType:N_e,externalForwardedProps:{slots:c,slotProps:u,component:o,...S},ownerState:b}),[U,I]=$t("img",{className:D.img,elementType:L_e,externalForwardedProps:{slots:c,slotProps:{img:{...h,...u.img}}},additionalProps:{alt:r,src:y,srcSet:v,sizes:p},ownerState:b}),[N,F]=$t("fallback",{className:D.fallback,elementType:U_e,externalForwardedProps:{slots:c,slotProps:u},shouldForwardComponentProp:!0,ownerState:b});return C?E=Z.jsx(U,{...I}):s||s===0?E=s:A&&r?E=r[0]:E=Z.jsx(N,{...F}),Z.jsx(L,{...P,children:E})}),z_e={entering:{opacity:1},entered:{opacity:1}},PP=H.forwardRef(function(e,t){const i=sd(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:o,easing:c,in:u,onEnter:h,onEntered:p,onEntering:y,onExit:v,onExited:_,onExiting:S,style:E,timeout:b=r,TransitionComponent:w=Ic,...A}=e,C=H.useRef(null),D=Fr(C,em(o),t),L=K=>ee=>{if(K){const q=C.current;ee===void 0?K(q):K(q,ee)}},P=L(y),U=L((K,ee)=>{TL(K);const q=qp({style:E,timeout:b,easing:c},{mode:"enter"});K.style.webkitTransition=i.transitions.create("opacity",q),K.style.transition=i.transitions.create("opacity",q),h&&h(K,ee)}),I=L(p),N=L(S),F=L(K=>{const ee=qp({style:E,timeout:b,easing:c},{mode:"exit"});K.style.webkitTransition=i.transitions.create("opacity",ee),K.style.transition=i.transitions.create("opacity",ee),v&&v(K)}),z=L(_),V=K=>{s&&s(C.current,K)};return Z.jsx(w,{appear:a,in:u,nodeRef:C,onEnter:U,onEntered:I,onEntering:P,onExit:F,onExited:z,onExiting:N,addEndListener:V,timeout:b,...A,children:(K,{ownerState:ee,...q})=>H.cloneElement(o,{style:{opacity:0,visibility:K==="exited"&&!u?"hidden":void 0,...z_e[K],...E,...o.props.style},ref:D,...q})})});function B_e(n){return ln("MuiBackdrop",n)}cn("MuiBackdrop",["root","invisible"]);const F_e=n=>{const{classes:e,invisible:t}=n;return on({root:["root",t&&"invisible"]},B_e,e)},V_e=at("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Gq=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiBackdrop"}),{children:r,className:s,component:a="div",invisible:o=!1,open:c,components:u={},componentsProps:h={},slotProps:p={},slots:y={},TransitionComponent:v,transitionDuration:_,...S}=i,E={...i,component:a,invisible:o},b=F_e(E),w={transition:v,root:u.Root,...y},A={...h,...p},C={component:a,slots:w,slotProps:A},[D,L]=$t("root",{elementType:V_e,externalForwardedProps:C,className:Rt(b.root,s),ownerState:E}),[P,U]=$t("transition",{elementType:PP,externalForwardedProps:C,ownerState:E});return Z.jsx(P,{in:c,timeout:_,...S,...U,children:Z.jsx(D,{"aria-hidden":!0,...L,classes:b,ref:t,children:r})})}),H_e=cn("MuiBox",["root"]),j_e=bq(),Df=Yme({themeId:AM,defaultTheme:j_e,defaultClassName:H_e.root,generateClassName:FG.generate});function G_e(n){return ln("MuiButton",n)}const cg=cn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),q_e=H.createContext({}),W_e=H.createContext(void 0),$_e=n=>{const{color:e,disableElevation:t,fullWidth:i,size:r,variant:s,loading:a,loadingPosition:o,classes:c}=n,u={root:["root",a&&"loading",s,`${s}${yt(e)}`,`size${yt(r)}`,`${s}Size${yt(r)}`,`color${yt(e)}`,t&&"disableElevation",i&&"fullWidth",a&&`loadingPosition${yt(o)}`],startIcon:["icon","startIcon",`iconSize${yt(r)}`],endIcon:["icon","endIcon",`iconSize${yt(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=on(u,G_e,c);return{...c,...h}},qq=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],X_e=at(td,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${yt(t.color)}`],e[`size${yt(t.size)}`],e[`${t.variant}Size${yt(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(vn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${cg.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${cg.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${cg.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${cg.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(ta()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.alpha((n.vars||n).palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.alpha((n.vars||n).palette[i].main,(n.vars||n).palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.alpha((n.vars||n).palette[i].main,(n.vars||n).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity),"--variant-outlinedBg":n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${cg.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${cg.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${cg.loading}`]:{color:"transparent"}}}]}})),Y_e=at("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${yt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...qq]})),K_e=at("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${yt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...qq]})),Z_e=at("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),n6=at("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),WS=H.forwardRef(function(e,t){const i=H.useContext(q_e),r=H.useContext(W_e),s=tS(i,e),a=gn({props:s,name:"MuiButton"}),{children:o,color:c="primary",component:u="button",className:h,disabled:p=!1,disableElevation:y=!1,disableFocusRipple:v=!1,endIcon:_,focusVisibleClassName:S,fullWidth:E=!1,id:b,loading:w=null,loadingIndicator:A,loadingPosition:C="center",size:D="medium",startIcon:L,type:P,variant:U="text",...I}=a,N=w_(b),F=A??Z.jsx(Pq,{"aria-labelledby":N,color:"inherit",size:16}),z={...a,color:c,component:u,disabled:p,disableElevation:y,disableFocusRipple:v,fullWidth:E,loading:w,loadingIndicator:F,loadingPosition:C,size:D,type:P,variant:U},V=$_e(z),K=(L||w&&C==="start")&&Z.jsx(Y_e,{className:V.startIcon,ownerState:z,children:L||Z.jsx(n6,{className:V.loadingIconPlaceholder,ownerState:z})}),ee=(_||w&&C==="end")&&Z.jsx(K_e,{className:V.endIcon,ownerState:z,children:_||Z.jsx(n6,{className:V.loadingIconPlaceholder,ownerState:z})}),q=r||"",$=typeof w=="boolean"?Z.jsx("span",{className:V.loadingWrapper,style:{display:"contents"},children:w&&Z.jsx(Z_e,{className:V.loadingIndicator,ownerState:z,children:F})}):null;return Z.jsxs(X_e,{ownerState:z,className:Rt(i.className,V.root,h,q),component:u,disabled:p||w,focusRipple:!v,focusVisibleClassName:Rt(V.focusVisible,S),ref:t,type:P,id:w?N:b,...I,classes:V,children:[K,C!=="end"&&$,o,C==="end"&&$,ee]})});function Q_e(n){return ln("PrivateSwitchBase",n)}cn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const J_e=n=>{const{classes:e,checked:t,disabled:i,edge:r}=n,s={root:["root",t&&"checked",i&&"disabled",r&&`edge${yt(r)}`],input:["input"]};return on(s,Q_e,e)},e1e=at(td,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:n,ownerState:e})=>n==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:n,ownerState:e})=>n==="end"&&e.size!=="small",style:{marginRight:-12}}]}),t1e=at("input",{name:"MuiSwitchBase",shouldForwardProp:Io})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),n1e=H.forwardRef(function(e,t){const{autoFocus:i,checked:r,checkedIcon:s,defaultChecked:a,disabled:o,disableFocusRipple:c=!1,edge:u=!1,icon:h,id:p,inputProps:y,inputRef:v,name:_,onBlur:S,onChange:E,onFocus:b,readOnly:w,required:A=!1,tabIndex:C,type:D,value:L,slots:P={},slotProps:U={},...I}=e,[N,F]=iS({controlled:r,default:!!a,name:"SwitchBase",state:"checked"}),z=tm(),V=ie=>{b&&b(ie),z&&z.onFocus&&z.onFocus(ie)},K=ie=>{S&&S(ie),z&&z.onBlur&&z.onBlur(ie)},ee=ie=>{if(ie.nativeEvent.defaultPrevented)return;const he=ie.target.checked;F(he),E&&E(ie,he)};let q=o;z&&typeof q>"u"&&(q=z.disabled);const $=D==="checkbox"||D==="radio",Q={...e,checked:N,disabled:q,disableFocusRipple:c,edge:u},re=J_e(Q),de={slots:P,slotProps:{input:y,...U}},[Y,le]=$t("root",{ref:t,elementType:e1e,className:re.root,shouldForwardComponentProp:!0,externalForwardedProps:{...de,component:"span",...I},getSlotProps:ie=>({...ie,onFocus:he=>{ie.onFocus?.(he),V(he)},onBlur:he=>{ie.onBlur?.(he),K(he)}}),ownerState:Q,additionalProps:{centerRipple:!0,focusRipple:!c,disabled:q,role:void 0,tabIndex:null}}),[pe,ue]=$t("input",{ref:v,elementType:t1e,className:re.input,externalForwardedProps:de,getSlotProps:ie=>({...ie,onChange:he=>{ie.onChange?.(he),ee(he)}}),ownerState:Q,additionalProps:{autoFocus:i,checked:r,defaultChecked:a,disabled:q,id:$?p:void 0,name:_,readOnly:w,required:A,tabIndex:C,type:D,...D==="checkbox"&&L===void 0?{}:{value:L}}});return Z.jsxs(Y,{...le,children:[Z.jsx(pe,{...ue}),N?s:h]})}),i1e=Vr(Z.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),r1e=Vr(Z.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),s1e=Vr(Z.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function a1e(n){return ln("MuiCheckbox",n)}const e3=cn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),o1e=n=>{const{classes:e,indeterminate:t,color:i,size:r}=n,s={root:["root",t&&"indeterminate",`color${yt(i)}`,`size${yt(r)}`]},a=on(s,a1e,e);return{...e,...a}},l1e=at(n1e,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.indeterminate&&e.indeterminate,e[`size${yt(t.size)}`],t.color!=="default"&&e[`color${yt(t.color)}`]]}})(vn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:n.alpha((n.vars||n).palette.action.active,(n.vars||n).palette.action.hoverOpacity)}}},...Object.entries(n.palette).filter(ta()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.hoverOpacity)}}})),...Object.entries(n.palette).filter(ta()).map(([e])=>({props:{color:e},style:{[`&.${e3.checked}, &.${e3.indeterminate}`]:{color:(n.vars||n).palette[e].main},[`&.${e3.disabled}`]:{color:(n.vars||n).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),c1e=Z.jsx(r1e,{}),u1e=Z.jsx(i1e,{}),f1e=Z.jsx(s1e,{}),h1e=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiCheckbox"}),{checkedIcon:r=c1e,color:s="primary",icon:a=u1e,indeterminate:o=!1,indeterminateIcon:c=f1e,inputProps:u,size:h="medium",disableRipple:p=!1,className:y,slots:v={},slotProps:_={},...S}=i,E=o?c:a,b=o?c:r,w={...i,disableRipple:p,color:s,indeterminate:o,size:h},A=o1e(w),C=_.input??u,[D,L]=$t("root",{ref:t,elementType:l1e,className:Rt(A.root,y),shouldForwardComponentProp:!0,externalForwardedProps:{slots:v,slotProps:_,...S},ownerState:w,additionalProps:{type:"checkbox",icon:H.cloneElement(E,{fontSize:E.props.fontSize??h}),checkedIcon:H.cloneElement(b,{fontSize:b.props.fontSize??h}),disableRipple:p,slots:v,slotProps:{input:Eq(typeof C=="function"?C(w):C,{"data-indeterminate":o})}}});return Z.jsx(D,{...L,classes:A})});function i6(n){return n.substring(2).toLowerCase()}function d1e(n,e){return e.documentElement.clientWidth<n.clientX||e.documentElement.clientHeight<n.clientY}function p1e(n){const{children:e,disableReactTree:t=!1,mouseEvent:i="onClick",onClickAway:r,touchEvent:s="onTouchEnd"}=n,a=H.useRef(!1),o=H.useRef(null),c=H.useRef(!1),u=H.useRef(!1);H.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const h=Fr(em(e),o),p=Ll(_=>{const S=u.current;u.current=!1;const E=wa(o.current);if(!c.current||!o.current||"clientX"in _&&d1e(_,E))return;if(a.current){a.current=!1;return}let b;_.composedPath?b=_.composedPath().includes(o.current):b=!E.documentElement.contains(_.target)||o.current.contains(_.target),!b&&(t||!S)&&r(_)}),y=_=>S=>{u.current=!0;const E=e.props[_];E&&E(S)},v={ref:h};return s!==!1&&(v[s]=y(s)),H.useEffect(()=>{if(s!==!1){const _=i6(s),S=wa(o.current),E=()=>{a.current=!0};return S.addEventListener(_,p),S.addEventListener("touchmove",E),()=>{S.removeEventListener(_,p),S.removeEventListener("touchmove",E)}}},[p,s]),i!==!1&&(v[i]=y(i)),H.useEffect(()=>{if(i!==!1){const _=i6(i),S=wa(o.current);return S.addEventListener(_,p),()=>{S.removeEventListener(_,p)}}},[p,i]),H.cloneElement(e,v)}function Wq(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function m1e(n){const e=wa(n);return e.body===n?Bl(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function hx(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function r6(n){return parseInt(Bl(n).getComputedStyle(n).paddingRight,10)||0}function g1e(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function s6(n,e,t,i,r){const s=[e,t,...i];[].forEach.call(n.children,a=>{const o=!s.includes(a),c=!g1e(a);o&&c&&hx(a,r)})}function t3(n,e){let t=-1;return n.some((i,r)=>e(i)?(t=r,!0):!1),t}function y1e(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(m1e(i)){const a=Wq(Bl(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${r6(i)+a}px`;const o=wa(i).querySelectorAll(".mui-fixed");[].forEach.call(o,c=>{t.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${r6(c)+a}px`})}let s;if(i.parentNode instanceof DocumentFragment)s=wa(i).body;else{const a=i.parentElement,o=Bl(i);s=a?.nodeName==="HTML"&&o.getComputedStyle(a).overflowY==="scroll"?a:i}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:a,property:o})=>{s?a.style.setProperty(o,s):a.style.removeProperty(o)})}}function v1e(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class _1e{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&hx(e.modalRef,!1);const r=v1e(t);s6(t,e.mount,e.modalRef,r,!0);const s=t3(this.containers,a=>a.container===t);return s!==-1?(this.containers[s].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),i)}mount(e,t){const i=t3(this.containers,s=>s.modals.includes(e)),r=this.containers[i];r.restore||(r.restore=y1e(r,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const r=t3(this.containers,a=>a.modals.includes(e)),s=this.containers[r];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(i,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&hx(e.modalRef,t),s6(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(r,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&hx(a.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function l0(n){let e=n.activeElement;for(;e?.shadowRoot?.activeElement!=null;)e=e.shadowRoot.activeElement;return e}const b1e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function x1e(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function S1e(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function E1e(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||S1e(n))}function T1e(n){const e=[],t=[];return Array.from(n.querySelectorAll(b1e)).forEach((i,r)=>{const s=x1e(i);s===-1||!E1e(i)||(s===0?e.push(i):t.push({documentOrder:r,tabIndex:s,node:i}))}),t.sort((i,r)=>i.tabIndex===r.tabIndex?i.documentOrder-r.documentOrder:i.tabIndex-r.tabIndex).map(i=>i.node).concat(e)}function w1e(){return!0}function C1e(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:r=!1,getTabbable:s=T1e,isEnabled:a=w1e,open:o}=n,c=H.useRef(!1),u=H.useRef(null),h=H.useRef(null),p=H.useRef(null),y=H.useRef(null),v=H.useRef(!1),_=H.useRef(null),S=Fr(em(e),_),E=H.useRef(null);H.useEffect(()=>{!o||!_.current||(v.current=!t)},[t,o]),H.useEffect(()=>{if(!o||!_.current)return;const A=wa(_.current),C=l0(A);return _.current.contains(C)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),v.current&&_.current.focus()),()=>{r||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[o]),H.useEffect(()=>{if(!o||!_.current)return;const A=wa(_.current),C=l0(A),D=U=>{E.current=U,!(i||!a()||U.key!=="Tab")&&C===_.current&&U.shiftKey&&(c.current=!0,h.current&&h.current.focus())},L=()=>{const U=_.current;if(U===null)return;const I=l0(A);if(!A.hasFocus()||!a()||c.current){c.current=!1;return}if(U.contains(I)||i&&I!==u.current&&I!==h.current)return;if(I!==y.current)y.current=null;else if(y.current!==null)return;if(!v.current)return;let N=[];if((I===u.current||I===h.current)&&(N=s(_.current)),N.length>0){const F=!!(E.current?.shiftKey&&E.current?.key==="Tab"),z=N[0],V=N[N.length-1];typeof z!="string"&&typeof V!="string"&&(F?V.focus():z.focus())}else U.focus()};A.addEventListener("focusin",L),A.addEventListener("keydown",D,!0);const P=setInterval(()=>{const U=l0(A);U&&U.tagName==="BODY"&&L()},50);return()=>{clearInterval(P),A.removeEventListener("focusin",L),A.removeEventListener("keydown",D,!0)}},[t,i,r,a,o,s]);const b=A=>{p.current===null&&(p.current=A.relatedTarget),v.current=!0,y.current=A.target;const C=e.props.onFocus;C&&C(A)},w=A=>{p.current===null&&(p.current=A.relatedTarget),v.current=!0};return Z.jsxs(H.Fragment,{children:[Z.jsx("div",{tabIndex:o?0:-1,onFocus:w,ref:u,"data-testid":"sentinelStart"}),H.cloneElement(e,{ref:S,onFocus:b}),Z.jsx("div",{tabIndex:o?0:-1,onFocus:w,ref:h,"data-testid":"sentinelEnd"})]})}function A1e(n){return typeof n=="function"?n():n}function M1e(n){return n?n.props.hasOwnProperty("in"):!1}const a6=()=>{},lw=new _1e;function R1e(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:r=!1,onTransitionEnter:s,onTransitionExited:a,children:o,onClose:c,open:u,rootRef:h}=n,p=H.useRef({}),y=H.useRef(null),v=H.useRef(null),_=Fr(v,h),[S,E]=H.useState(!u),b=M1e(o);let w=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(w=!1);const A=()=>wa(y.current),C=()=>(p.current.modalRef=v.current,p.current.mount=y.current,p.current),D=()=>{lw.mount(C(),{disableScrollLock:i}),v.current&&(v.current.scrollTop=0)},L=Ll(()=>{const ee=A1e(e)||A().body;lw.add(C(),ee),v.current&&D()}),P=()=>lw.isTopModal(C()),U=Ll(ee=>{y.current=ee,ee&&(u&&P()?D():v.current&&hx(v.current,w))}),I=H.useCallback(()=>{lw.remove(C(),w)},[w]);H.useEffect(()=>()=>{I()},[I]),H.useEffect(()=>{u?L():(!b||!r)&&I()},[u,I,b,r,L]);const N=ee=>q=>{ee.onKeyDown?.(q),!(q.key!=="Escape"||q.which===229||!P())&&(t||(q.stopPropagation(),c&&c(q,"escapeKeyDown")))},F=ee=>q=>{ee.onClick?.(q),q.target===q.currentTarget&&c&&c(q,"backdropClick")};return{getRootProps:(ee={})=>{const q=Rq(n);delete q.onTransitionEnter,delete q.onTransitionExited;const $={...q,...ee};return{role:"presentation",...$,onKeyDown:N($),ref:_}},getBackdropProps:(ee={})=>{const q=ee;return{"aria-hidden":!0,...q,onClick:F(q),open:u}},getTransitionProps:()=>{const ee=()=>{E(!1),s&&s()},q=()=>{E(!0),a&&a(),r&&I()};return{onEnter:Zz(ee,o?.props.onEnter??a6),onExited:Zz(q,o?.props.onExited??a6)}},rootRef:_,portalRef:U,isTopModal:P,exited:S,hasTransition:b}}function O1e(n){return ln("MuiModal",n)}cn("MuiModal",["root","hidden","backdrop"]);const I1e=n=>{const{open:e,exited:t,classes:i}=n;return on({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},O1e,i)},P1e=at("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(vn(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),D1e=at(Gq,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),$q=H.forwardRef(function(e,t){const i=gn({name:"MuiModal",props:e}),{BackdropComponent:r=D1e,BackdropProps:s,classes:a,className:o,closeAfterTransition:c=!1,children:u,container:h,component:p,components:y={},componentsProps:v={},disableAutoFocus:_=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:E=!1,disablePortal:b=!1,disableRestoreFocus:w=!1,disableScrollLock:A=!1,hideBackdrop:C=!1,keepMounted:D=!1,onClose:L,onTransitionEnter:P,onTransitionExited:U,open:I,slotProps:N={},slots:F={},theme:z,...V}=i,K={...i,closeAfterTransition:c,disableAutoFocus:_,disableEnforceFocus:S,disableEscapeKeyDown:E,disablePortal:b,disableRestoreFocus:w,disableScrollLock:A,hideBackdrop:C,keepMounted:D},{getRootProps:ee,getBackdropProps:q,getTransitionProps:$,portalRef:Q,isTopModal:re,exited:de,hasTransition:Y}=R1e({...K,rootRef:t}),le={...K,exited:de},pe=I1e(le),ue={};if(u.props.tabIndex===void 0&&(ue.tabIndex="-1"),Y){const{onEnter:Ge,onExited:rt}=$();ue.onEnter=Ge,ue.onExited=rt}const ie={slots:{root:y.Root,backdrop:y.Backdrop,...F},slotProps:{...v,...N}},[he,ye]=$t("root",{ref:t,elementType:P1e,externalForwardedProps:{...ie,...V,component:p},getSlotProps:ee,ownerState:le,className:Rt(o,pe?.root,!le.open&&le.exited&&pe?.hidden)}),[Ve,Xe]=$t("backdrop",{ref:s?.ref,elementType:r,externalForwardedProps:ie,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:Ge=>q({...Ge,onClick:rt=>{Ge?.onClick&&Ge.onClick(rt)}}),className:Rt(s?.className,pe?.backdrop),ownerState:le});return!D&&!I&&(!Y||de)?null:Z.jsx(Hq,{ref:Q,container:h,disablePortal:b,children:Z.jsxs(he,{...ye,children:[!C&&r?Z.jsx(Ve,{...Xe}):null,Z.jsx(C1e,{disableEnforceFocus:S,disableAutoFocus:_,disableRestoreFocus:w,isEnabled:re,open:I,children:H.cloneElement(u,ue)})]})})});function N1e(n){return ln("MuiDialog",n)}const n3=cn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Xq=H.createContext({}),L1e=at(Gq,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),U1e=n=>{const{classes:e,scroll:t,maxWidth:i,fullWidth:r,fullScreen:s}=n,a={root:["root"],container:["container",`scroll${yt(t)}`],paper:["paper",`paperScroll${yt(t)}`,`paperWidth${yt(String(i))}`,r&&"paperFullWidth",s&&"paperFullScreen"]};return on(a,N1e,e)},k1e=at($q,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),z1e=at("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${yt(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),B1e=at(A_,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${yt(t.scroll)}`],e[`paperWidth${yt(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(vn(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${n3.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${n3.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${n3.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Yq=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiDialog"}),r=sd(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":o,"aria-modal":c=!0,BackdropComponent:u,BackdropProps:h,children:p,className:y,disableEscapeKeyDown:v=!1,fullScreen:_=!1,fullWidth:S=!1,maxWidth:E="sm",onClick:b,onClose:w,open:A,PaperComponent:C=A_,PaperProps:D={},scroll:L="paper",slots:P={},slotProps:U={},TransitionComponent:I=PP,transitionDuration:N=s,TransitionProps:F,...z}=i,V={...i,disableEscapeKeyDown:v,fullScreen:_,fullWidth:S,maxWidth:E,scroll:L},K=U1e(V),ee=H.useRef(),q=pt=>{ee.current=pt.target===pt.currentTarget},$=pt=>{b&&b(pt),ee.current&&(ee.current=null,w&&w(pt,"backdropClick"))},Q=w_(o),re=H.useMemo(()=>({titleId:Q}),[Q]),de={transition:I,...P},Y={transition:F,paper:D,backdrop:h,...U},le={slots:de,slotProps:Y},[pe,ue]=$t("root",{elementType:k1e,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:V,className:Rt(K.root,y),ref:t}),[ie,he]=$t("backdrop",{elementType:L1e,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:V}),[ye,Ve]=$t("paper",{elementType:B1e,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:V,className:Rt(K.paper,D.className)}),[Xe,Ge]=$t("container",{elementType:z1e,externalForwardedProps:le,ownerState:V,className:K.container}),[rt,lt]=$t("transition",{elementType:PP,externalForwardedProps:le,ownerState:V,additionalProps:{appear:!0,in:A,timeout:N,role:"presentation"}});return Z.jsx(pe,{closeAfterTransition:!0,slots:{backdrop:ie},slotProps:{backdrop:{transitionDuration:N,as:u,...he}},disableEscapeKeyDown:v,onClose:w,open:A,onClick:$,...ue,...z,children:Z.jsx(rt,{...lt,children:Z.jsx(Xe,{onMouseDown:q,...Ge,children:Z.jsx(ye,{as:C,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":Q,"aria-modal":c,...Ve,children:Z.jsx(Xq.Provider,{value:re,children:p})})})})})});function F1e(n){return ln("MuiDialogActions",n)}cn("MuiDialogActions",["root","spacing"]);const V1e=n=>{const{classes:e,disableSpacing:t}=n;return on({root:["root",!t&&"spacing"]},F1e,e)},H1e=at("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:n})=>!n.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),j1e=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:s=!1,...a}=i,o={...i,disableSpacing:s},c=V1e(o);return Z.jsx(H1e,{className:Rt(c.root,r),ownerState:o,ref:t,...a})});function G1e(n){return ln("MuiDialogContent",n)}cn("MuiDialogContent",["root","dividers"]);function q1e(n){return ln("MuiDialogTitle",n)}const W1e=cn("MuiDialogTitle",["root"]),$1e=n=>{const{classes:e,dividers:t}=n;return on({root:["root",t&&"dividers"]},G1e,e)},X1e=at("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.dividers&&e.dividers]}})(vn(({theme:n})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${W1e.root} + &`]:{paddingTop:0}}}]}))),Kq=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiDialogContent"}),{className:r,dividers:s=!1,...a}=i,o={...i,dividers:s},c=$1e(o);return Z.jsx(X1e,{className:Rt(c.root,r),ownerState:o,ref:t,...a})});function Y1e(n){return ln("MuiDialogContentText",n)}cn("MuiDialogContentText",["root"]);const K1e=n=>{const{classes:e}=n,i=on({root:["root"]},Y1e,e);return{...e,...i}},Z1e=at(Lr,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiDialogContentText",slot:"Root"})({}),Q1e=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiDialogContentText"}),{children:r,className:s,...a}=i,o=K1e(a);return Z.jsx(Z1e,{component:"p",variant:"body1",color:"textSecondary",ref:t,ownerState:a,className:Rt(o.root,s),...i,classes:o})}),J1e=n=>{const{classes:e}=n;return on({root:["root"]},q1e,e)},ebe=at(Lr,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Zq=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiDialogTitle"}),{className:r,id:s,...a}=i,o=i,c=J1e(o),{titleId:u=s}=H.useContext(Xq);return Z.jsx(ebe,{component:"h2",className:Rt(c.root,r),ownerState:o,ref:t,variant:"h6",id:s??u,...a})});function tbe(n){return ln("MuiDivider",n)}const o6=cn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),nbe=n=>{const{absolute:e,children:t,classes:i,flexItem:r,light:s,orientation:a,textAlign:o,variant:c}=n;return on({root:["root",e&&"absolute",c,s&&"light",a==="vertical"&&"vertical",r&&"flexItem",t&&"withChildren",t&&a==="vertical"&&"withChildrenVertical",o==="right"&&a!=="vertical"&&"textAlignRight",o==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},tbe,i)},ibe=at("div",{name:"MuiDivider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.absolute&&e.absolute,e[t.variant],t.light&&e.light,t.orientation==="vertical"&&e.vertical,t.flexItem&&e.flexItem,t.children&&e.withChildren,t.children&&t.orientation==="vertical"&&e.withChildrenVertical,t.textAlign==="right"&&t.orientation!=="vertical"&&e.textAlignRight,t.textAlign==="left"&&t.orientation!=="vertical"&&e.textAlignLeft]}})(vn(({theme:n})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:n.alpha((n.vars||n).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:n.spacing(2),marginRight:n.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:n.spacing(1),marginBottom:n.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(n.vars||n).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(n.vars||n).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),rbe=at("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.wrapper,t.orientation==="vertical"&&e.wrapperVertical]}})(vn(({theme:n})=>({display:"inline-block",paddingLeft:`calc(${n.spacing(1)} * 1.2)`,paddingRight:`calc(${n.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${n.spacing(1)} * 1.2)`,paddingBottom:`calc(${n.spacing(1)} * 1.2)`}}]}))),oS=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiDivider"}),{absolute:r=!1,children:s,className:a,orientation:o="horizontal",component:c=s||o==="vertical"?"div":"hr",flexItem:u=!1,light:h=!1,role:p=c!=="hr"?"separator":void 0,textAlign:y="center",variant:v="fullWidth",..._}=i,S={...i,absolute:r,component:c,flexItem:u,light:h,orientation:o,role:p,textAlign:y,variant:v},E=nbe(S);return Z.jsx(ibe,{as:c,className:Rt(E.root,a),role:p,ref:t,ownerState:S,"aria-orientation":p==="separator"&&(c!=="hr"||o==="vertical")?o:void 0,..._,children:s?Z.jsx(rbe,{className:E.wrapper,ownerState:S,children:s}):null})});oS&&(oS.muiSkipListHighlight=!0);function sbe(n,e,t){const i=e.getBoundingClientRect(),r=t&&t.getBoundingClientRect(),s=Bl(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const u=s.getComputedStyle(e);a=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let o=0,c=0;if(a&&a!=="none"&&typeof a=="string"){const u=a.split("(")[1].split(")")[0].split(",");o=parseInt(u[4],10),c=parseInt(u[5],10)}return n==="left"?r?`translateX(${r.right+o-i.left}px)`:`translateX(${s.innerWidth+o-i.left}px)`:n==="right"?r?`translateX(-${i.right-r.left-o}px)`:`translateX(-${i.left+i.width-o}px)`:n==="up"?r?`translateY(${r.bottom+c-i.top}px)`:`translateY(${s.innerHeight+c-i.top}px)`:r?`translateY(-${i.top-r.top+i.height-c}px)`:`translateY(-${i.top+i.height-c}px)`}function abe(n){return typeof n=="function"?n():n}function cw(n,e,t){const i=abe(t),r=sbe(n,e,i);r&&(e.style.webkitTransform=r,e.style.transform=r)}const Qq=H.forwardRef(function(e,t){const i=sd(),r={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:c,container:u,direction:h="down",easing:p=r,in:y,onEnter:v,onEntered:_,onEntering:S,onExit:E,onExited:b,onExiting:w,style:A,timeout:C=s,TransitionComponent:D=Ic,...L}=e,P=H.useRef(null),U=Fr(em(c),P,t),I=Q=>re=>{Q&&(re===void 0?Q(P.current):Q(P.current,re))},N=I((Q,re)=>{cw(h,Q,u),TL(Q),v&&v(Q,re)}),F=I((Q,re)=>{const de=qp({timeout:C,style:A,easing:p},{mode:"enter"});Q.style.webkitTransition=i.transitions.create("-webkit-transform",{...de}),Q.style.transition=i.transitions.create("transform",{...de}),Q.style.webkitTransform="none",Q.style.transform="none",S&&S(Q,re)}),z=I(_),V=I(w),K=I(Q=>{const re=qp({timeout:C,style:A,easing:p},{mode:"exit"});Q.style.webkitTransition=i.transitions.create("-webkit-transform",re),Q.style.transition=i.transitions.create("transform",re),cw(h,Q,u),E&&E(Q)}),ee=I(Q=>{Q.style.webkitTransition="",Q.style.transition="",b&&b(Q)}),q=Q=>{a&&a(P.current,Q)},$=H.useCallback(()=>{P.current&&cw(h,P.current,u)},[h,u]);return H.useEffect(()=>{if(y||h==="down"||h==="right")return;const Q=jS(()=>{P.current&&cw(h,P.current,u)}),re=Bl(P.current);return re.addEventListener("resize",Q),()=>{Q.clear(),re.removeEventListener("resize",Q)}},[h,y,u]),H.useEffect(()=>{y||$()},[y,$]),Z.jsx(D,{nodeRef:P,onEnter:N,onEntered:z,onEntering:F,onExit:K,onExited:ee,onExiting:V,addEndListener:q,appear:o,in:y,timeout:C,...L,children:(Q,{ownerState:re,...de})=>H.cloneElement(c,{ref:U,style:{visibility:Q==="exited"&&!y?"hidden":void 0,...A,...c.props.style},...de})})}),obe=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:r,size:s,hiddenLabel:a,multiline:o}=n,c={root:["root",!t&&"underline",i&&"adornedStart",r&&"adornedEnd",s==="small"&&`size${yt(s)}`,a&&"hiddenLabel",o&&"multiline"],input:["input"]},u=on(c,R_e,e);return{...e,...u}},lbe=at(PM,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...OM(n,e),!t.disableUnderline&&e.underline]}})(vn(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",r=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:r,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${lg.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${lg.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${lg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${lg.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline):t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${lg.disabled}, .${lg.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${lg.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(ta()).map(([a])=>({props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[a]?.main}`}}})),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:o})=>a.multiline&&o==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),cbe=at(DM,{name:"MuiFilledInput",slot:"Input",overridesResolver:IM})(vn(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),LL=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:s={},componentsProps:a,fullWidth:o=!1,hiddenLabel:c,inputComponent:u="input",multiline:h=!1,slotProps:p,slots:y={},type:v="text",..._}=i,S={...i,disableUnderline:r,fullWidth:o,inputComponent:u,multiline:h,type:v},E=obe(i),b={root:{ownerState:S},input:{ownerState:S}},w=p??a?ra(b,p??a):b,A=y.root??s.Root??lbe,C=y.input??s.Input??cbe;return Z.jsx(NL,{slots:{root:A,input:C},slotProps:w,fullWidth:o,inputComponent:u,multiline:h,ref:t,type:v,..._,classes:E})});LL.muiName="Input";function ube(n){return ln("MuiFormControl",n)}cn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const fbe=n=>{const{classes:e,margin:t,fullWidth:i}=n,r={root:["root",t!=="none"&&`margin${yt(t)}`,i&&"fullWidth"]};return on(r,ube,e)},hbe=at("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${yt(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Ub=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiFormControl"}),{children:r,className:s,color:a="primary",component:o="div",disabled:c=!1,error:u=!1,focused:h,fullWidth:p=!1,hiddenLabel:y=!1,margin:v="none",required:_=!1,size:S="medium",variant:E="outlined",...b}=i,w={...i,color:a,component:o,disabled:c,error:u,fullWidth:p,hiddenLabel:y,margin:v,required:_,size:S,variant:E},A=fbe(w),[C,D]=H.useState(()=>{let ee=!1;return r&&H.Children.forEach(r,q=>{if(!cx(q,["Input","Select"]))return;const $=cx(q,["Select"])?q.props.input:q;$&&T_e($.props)&&(ee=!0)}),ee}),[L,P]=H.useState(()=>{let ee=!1;return r&&H.Children.forEach(r,q=>{cx(q,["Input","Select"])&&(HC(q.props,!0)||HC(q.props.inputProps,!0))&&(ee=!0)}),ee}),[U,I]=H.useState(!1);c&&U&&I(!1);const N=h!==void 0&&!c?h:U;let F;H.useRef(!1);const z=H.useCallback(()=>{P(!0)},[]),V=H.useCallback(()=>{P(!1)},[]),K=H.useMemo(()=>({adornedStart:C,setAdornedStart:D,color:a,disabled:c,error:u,filled:L,focused:N,fullWidth:p,hiddenLabel:y,size:S,onBlur:()=>{I(!1)},onFocus:()=>{I(!0)},onEmpty:V,onFilled:z,registerEffect:F,required:_,variant:E}),[C,a,c,u,L,N,p,y,F,V,z,_,S,E]);return Z.jsx(DL.Provider,{value:K,children:Z.jsx(hbe,{as:o,ownerState:w,className:Rt(A.root,s),ref:t,...b,children:r})})});function dbe(n){return ln("MuiFormControlLabel",n)}const kb=cn("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),pbe=n=>{const{classes:e,disabled:t,labelPlacement:i,error:r,required:s}=n,a={root:["root",t&&"disabled",`labelPlacement${yt(i)}`,r&&"error",s&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",r&&"error"]};return on(a,dbe,e)},mbe=at("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${kb.label}`]:e.label},e.root,e[`labelPlacement${yt(t.labelPlacement)}`]]}})(vn(({theme:n})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${kb.disabled}`]:{cursor:"default"},[`& .${kb.label}`]:{[`&.${kb.disabled}`]:{color:(n.vars||n).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),gbe=at("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(vn(({theme:n})=>({[`&.${kb.error}`]:{color:(n.vars||n).palette.error.main}}))),ybe=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiFormControlLabel"}),{checked:r,className:s,componentsProps:a={},control:o,disabled:c,disableTypography:u,inputRef:h,label:p,labelPlacement:y="end",name:v,onChange:_,required:S,slots:E={},slotProps:b={},value:w,...A}=i,C=tm(),D=c??o.props.disabled??C?.disabled,L=S??o.props.required,P={disabled:D,required:L};["checked","name","onChange","value","inputRef"].forEach(ee=>{typeof o.props[ee]>"u"&&typeof i[ee]<"u"&&(P[ee]=i[ee])});const U=fy({props:i,muiFormControl:C,states:["error"]}),I={...i,disabled:D,labelPlacement:y,required:L,error:U.error},N=pbe(I),F={slots:E,slotProps:{...a,...b}},[z,V]=$t("typography",{elementType:Lr,externalForwardedProps:F,ownerState:I});let K=p;return K!=null&&K.type!==Lr&&!u&&(K=Z.jsx(z,{component:"span",...V,className:Rt(N.label,V?.className),children:K})),Z.jsxs(mbe,{className:Rt(N.root,s),ownerState:I,ref:t,...A,children:[H.cloneElement(o,P),L?Z.jsxs("div",{children:[K,Z.jsxs(gbe,{ownerState:I,"aria-hidden":!0,className:N.asterisk,children:["","*"]})]}):K]})});function vbe(n){return ln("MuiFormHelperText",n)}const l6=cn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var c6;const _be=n=>{const{classes:e,contained:t,size:i,disabled:r,error:s,filled:a,focused:o,required:c}=n,u={root:["root",r&&"disabled",s&&"error",i&&`size${yt(i)}`,t&&"contained",o&&"focused",a&&"filled",c&&"required"]};return on(u,vbe,e)},bbe=at("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${yt(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(vn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${l6.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${l6.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),xbe=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiFormHelperText"}),{children:r,className:s,component:a="p",disabled:o,error:c,filled:u,focused:h,margin:p,required:y,variant:v,..._}=i,S=tm(),E=fy({props:i,muiFormControl:S,states:["variant","size","disabled","error","filled","focused","required"]}),b={...i,component:a,contained:E.variant==="filled"||E.variant==="outlined",variant:E.variant,size:E.size,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required};delete b.ownerState;const w=_be(b);return Z.jsx(bbe,{as:a,className:Rt(w.root,s),ref:t,..._,ownerState:b,children:r===" "?c6||(c6=Z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):r})});function Sbe(n){return ln("MuiFormLabel",n)}const dx=cn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Ebe=n=>{const{classes:e,color:t,focused:i,disabled:r,error:s,filled:a,required:o}=n,c={root:["root",`color${yt(t)}`,r&&"disabled",s&&"error",a&&"filled",i&&"focused",o&&"required"],asterisk:["asterisk",s&&"error"]};return on(c,Sbe,e)},Tbe=at("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(vn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(ta()).map(([e])=>({props:{color:e},style:{[`&.${dx.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${dx.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${dx.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),wbe=at("span",{name:"MuiFormLabel",slot:"Asterisk"})(vn(({theme:n})=>({[`&.${dx.error}`]:{color:(n.vars||n).palette.error.main}}))),Cbe=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiFormLabel"}),{children:r,className:s,color:a,component:o="label",disabled:c,error:u,filled:h,focused:p,required:y,...v}=i,_=tm(),S=fy({props:i,muiFormControl:_,states:["color","required","focused","disabled","error","filled"]}),E={...i,color:S.color||"primary",component:o,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required},b=Ebe(E);return Z.jsxs(Tbe,{as:o,ownerState:E,className:Rt(b.root,s),ref:t,...v,children:[r,S.required&&Z.jsxs(wbe,{ownerState:E,"aria-hidden":!0,className:b.asterisk,children:["","*"]})]})}),Abe=kge({createStyledComponent:at("div",{name:"MuiGrid",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:n=>gn({props:n,name:"MuiGrid"}),useTheme:sd});function DP(n){return`scale(${n}, ${n**2})`}const Mbe={entering:{opacity:1,transform:DP(1)},entered:{opacity:1,transform:"none"}},i3=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),jC=H.forwardRef(function(e,t){const{addEndListener:i,appear:r=!0,children:s,easing:a,in:o,onEnter:c,onEntered:u,onEntering:h,onExit:p,onExited:y,onExiting:v,style:_,timeout:S="auto",TransitionComponent:E=Ic,...b}=e,w=Ig(),A=H.useRef(),C=sd(),D=H.useRef(null),L=Fr(D,em(s),t),P=ee=>q=>{if(ee){const $=D.current;q===void 0?ee($):ee($,q)}},U=P(h),I=P((ee,q)=>{TL(ee);const{duration:$,delay:Q,easing:re}=qp({style:_,timeout:S,easing:a},{mode:"enter"});let de;S==="auto"?(de=C.transitions.getAutoHeightDuration(ee.clientHeight),A.current=de):de=$,ee.style.transition=[C.transitions.create("opacity",{duration:de,delay:Q}),C.transitions.create("transform",{duration:i3?de:de*.666,delay:Q,easing:re})].join(","),c&&c(ee,q)}),N=P(u),F=P(v),z=P(ee=>{const{duration:q,delay:$,easing:Q}=qp({style:_,timeout:S,easing:a},{mode:"exit"});let re;S==="auto"?(re=C.transitions.getAutoHeightDuration(ee.clientHeight),A.current=re):re=q,ee.style.transition=[C.transitions.create("opacity",{duration:re,delay:$}),C.transitions.create("transform",{duration:i3?re:re*.666,delay:i3?$:$||re*.333,easing:Q})].join(","),ee.style.opacity=0,ee.style.transform=DP(.75),p&&p(ee)}),V=P(y),K=ee=>{S==="auto"&&w.start(A.current||0,ee),i&&i(D.current,ee)};return Z.jsx(E,{appear:r,in:o,nodeRef:D,onEnter:I,onEntered:N,onEntering:U,onExit:z,onExited:V,onExiting:F,addEndListener:K,timeout:S==="auto"?null:S,...b,children:(ee,{ownerState:q,...$})=>H.cloneElement(s,{style:{opacity:0,transform:DP(.75),visibility:ee==="exited"&&!o?"hidden":void 0,...Mbe[ee],..._,...s.props.style},ref:L,...$})})});jC&&(jC.muiSupportAuto=!0);const Rbe=n=>{const{classes:e,disableUnderline:t}=n,r=on({root:["root",!t&&"underline"],input:["input"]},A_e,e);return{...e,...r}},Obe=at(PM,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...OM(n,e),!t.disableUnderline&&e.underline]}})(vn(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${lb.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${lb.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${lb.disabled}, .${lb.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${lb.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(ta()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),Ibe=at(DM,{name:"MuiInput",slot:"Input",overridesResolver:IM})({}),UL=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiInput"}),{disableUnderline:r=!1,components:s={},componentsProps:a,fullWidth:o=!1,inputComponent:c="input",multiline:u=!1,slotProps:h,slots:p={},type:y="text",...v}=i,_=Rbe(i),E={root:{ownerState:{disableUnderline:r}}},b=h??a?ra(h??a,E):E,w=p.root??s.Root??Obe,A=p.input??s.Input??Ibe;return Z.jsx(NL,{slots:{root:w,input:A},slotProps:b,fullWidth:o,inputComponent:c,multiline:u,ref:t,type:y,...v,classes:_})});UL.muiName="Input";function Pbe(n){return ln("MuiInputLabel",n)}cn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Dbe=n=>{const{classes:e,formControl:t,size:i,shrink:r,disableAnimation:s,variant:a,required:o}=n,c={root:["root",t&&"formControl",!s&&"animated",r&&"shrink",i&&i!=="medium"&&`size${yt(i)}`,a],asterisk:[o&&"asterisk"]},u=on(c,Pbe,e);return{...e,...u}},Nbe=at(Cbe,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${dx.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(vn(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),h2=H.forwardRef(function(e,t){const i=gn({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:s,shrink:a,variant:o,className:c,...u}=i,h=tm();let p=a;typeof p>"u"&&h&&(p=h.filled||h.focused||h.adornedStart);const y=fy({props:i,muiFormControl:h,states:["size","variant","required","focused"]}),v={...i,disableAnimation:r,formControl:h,shrink:p,size:y.size,variant:y.variant,required:y.required,focused:y.focused},_=Dbe(v);return Z.jsx(Nbe,{"data-shrink":p,ref:t,className:Rt(_.root,c),...u,ownerState:v,classes:_})}),Fh=H.createContext({});function Lbe(n){return ln("MuiList",n)}cn("MuiList",["root","padding","dense","subheader"]);const Ube=n=>{const{classes:e,disablePadding:t,dense:i,subheader:r}=n;return on({root:["root",!t&&"padding",i&&"dense",r&&"subheader"]},Lbe,e)},kbe=at("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),kL=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiList"}),{children:r,className:s,component:a="ul",dense:o=!1,disablePadding:c=!1,subheader:u,...h}=i,p=H.useMemo(()=>({dense:o}),[o]),y={...i,component:a,dense:o,disablePadding:c},v=Ube(y);return Z.jsx(Fh.Provider,{value:p,children:Z.jsxs(kbe,{as:a,className:Rt(v.root,s),ref:t,ownerState:y,...h,children:[u,r]})})});function zbe(n){return ln("MuiListItem",n)}cn("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const Bbe=cn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Fbe(n){return ln("MuiListItemSecondaryAction",n)}cn("MuiListItemSecondaryAction",["root","disableGutters"]);const Vbe=n=>{const{disableGutters:e,classes:t}=n;return on({root:["root",e&&"disableGutters"]},Fbe,t)},Hbe=at("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:n})=>n.disableGutters,style:{right:0}}]}),Jq=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...s}=i,a=H.useContext(Fh),o={...i,disableGutters:a.disableGutters},c=Vbe(o);return Z.jsx(Hbe,{className:Rt(c.root,r),ownerState:o,ref:t,...s})});Jq.muiName="ListItemSecondaryAction";const jbe=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters,!t.disablePadding&&e.padding,t.hasSecondaryAction&&e.secondaryAction]},Gbe=n=>{const{alignItems:e,classes:t,dense:i,disableGutters:r,disablePadding:s,divider:a,hasSecondaryAction:o}=n;return on({root:["root",i&&"dense",!r&&"gutters",!s&&"padding",a&&"divider",e==="flex-start"&&"alignItemsFlexStart",o&&"secondaryAction"],container:["container"],secondaryAction:["secondaryAction"]},zbe,t)},qbe=at("div",{name:"MuiListItem",slot:"Root",overridesResolver:jbe})(vn(({theme:n})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Bbe.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),Wbe=at("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),eW=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiListItem"}),{alignItems:r="center",children:s,className:a,component:o,components:c={},componentsProps:u={},ContainerComponent:h="li",ContainerProps:{className:p,...y}={},dense:v=!1,disableGutters:_=!1,disablePadding:S=!1,divider:E=!1,secondaryAction:b,slotProps:w={},slots:A={},...C}=i,D=H.useContext(Fh),L=H.useMemo(()=>({dense:v||D.dense||!1,alignItems:r,disableGutters:_}),[r,D.dense,v,_]),P=H.useRef(null),U=H.Children.toArray(s),I=U.length&&cx(U[U.length-1],["ListItemSecondaryAction"]),N={...i,alignItems:r,dense:L.dense,disableGutters:_,disablePadding:S,divider:E,hasSecondaryAction:I},F=Gbe(N),z=Fr(P,t),V={slots:A,slotProps:w},[K,ee]=$t("secondaryAction",{elementType:Jq,externalForwardedProps:V,ownerState:N,className:F.secondaryAction}),q=A.root||c.Root||qbe,$=w.root||u.root||{},Q={className:Rt(F.root,$.className,a),...C};let re=o||"li";return I?(re=!Q.component&&!o?"div":re,h==="li"&&(re==="li"?re="div":Q.component==="li"&&(Q.component="div")),Z.jsx(Fh.Provider,{value:L,children:Z.jsxs(Wbe,{as:h,className:Rt(F.container,p),ref:z,ownerState:N,...y,children:[Z.jsx(q,{...$,...!Y0(q)&&{as:re,ownerState:{...N,...$.ownerState}},...Q,children:U}),U.pop()]})})):Z.jsx(Fh.Provider,{value:L,children:Z.jsxs(q,{...$,as:re,ref:z,...!Y0(q)&&{ownerState:{...N,...$.ownerState}},...Q,children:[U,b&&Z.jsx(K,{...ee,children:b})]})})});function $be(n){return ln("MuiListItemIcon",n)}const u6=cn("MuiListItemIcon",["root","alignItemsFlexStart"]),Xbe=n=>{const{alignItems:e,classes:t}=n;return on({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},$be,t)},Ybe=at("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(vn(({theme:n})=>({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),px=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiListItemIcon"}),{className:r,...s}=i,a=H.useContext(Fh),o={...i,alignItems:a.alignItems},c=Xbe(o);return Z.jsx(Ybe,{className:Rt(c.root,r),ownerState:o,ref:t,...s})});function Kbe(n){return ln("MuiListItemText",n)}const c0=cn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Zbe=n=>{const{classes:e,inset:t,primary:i,secondary:r,dense:s}=n;return on({root:["root",t&&"inset",s&&"dense",i&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},Kbe,e)},Qbe=at("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${c0.primary}`]:e.primary},{[`& .${c0.secondary}`]:e.secondary},e.root,t.inset&&e.inset,t.primary&&t.secondary&&e.multiline,t.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${BB.root}:where(& .${c0.primary})`]:{display:"block"},[`.${BB.root}:where(& .${c0.secondary})`]:{display:"block"},variants:[{props:({ownerState:n})=>n.primary&&n.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:n})=>n.inset,style:{paddingLeft:56}}]}),zL=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiListItemText"}),{children:r,className:s,disableTypography:a=!1,inset:o=!1,primary:c,primaryTypographyProps:u,secondary:h,secondaryTypographyProps:p,slots:y={},slotProps:v={},..._}=i,{dense:S}=H.useContext(Fh);let E=c??r,b=h;const w={...i,disableTypography:a,inset:o,primary:!!E,secondary:!!b,dense:S},A=Zbe(w),C={slots:y,slotProps:{primary:u,secondary:p,...v}},[D,L]=$t("root",{className:Rt(A.root,s),elementType:Qbe,externalForwardedProps:{...C,..._},ownerState:w,ref:t}),[P,U]=$t("primary",{className:A.primary,elementType:Lr,externalForwardedProps:C,ownerState:w}),[I,N]=$t("secondary",{className:A.secondary,elementType:Lr,externalForwardedProps:C,ownerState:w});return E!=null&&E.type!==Lr&&!a&&(E=Z.jsx(P,{variant:S?"body2":"body1",component:U?.variant?void 0:"span",...U,children:E})),b!=null&&b.type!==Lr&&!a&&(b=Z.jsx(I,{variant:"body2",color:"textSecondary",...N,children:b})),Z.jsxs(D,{...L,children:[E,b]})});function r3(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function f6(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function tW(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function cb(n,e,t,i,r,s){let a=!1,o=r(n,e,e?t:!1);for(;o;){if(o===n.firstChild){if(a)return!1;a=!0}const c=i?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!tW(o,s)||c)o=r(n,o,t);else return o.focus(),!0}return!1}const nW=H.forwardRef(function(e,t){const{actions:i,autoFocus:r=!1,autoFocusItem:s=!1,children:a,className:o,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:h,variant:p="selectedMenu",...y}=e,v=H.useRef(null),_=H.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});xu(()=>{r&&v.current.focus()},[r]),H.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(A,{direction:C})=>{const D=!v.current.style.width;if(A.clientHeight<v.current.clientHeight&&D){const L=`${Wq(Bl(A))}px`;v.current.style[C==="rtl"?"paddingLeft":"paddingRight"]=L,v.current.style.width=`calc(100% + ${L})`}return v.current}}),[]);const S=A=>{const C=v.current,D=A.key;if(A.ctrlKey||A.metaKey||A.altKey){h&&h(A);return}const P=l0(wa(C));if(D==="ArrowDown")A.preventDefault(),cb(C,P,u,c,r3);else if(D==="ArrowUp")A.preventDefault(),cb(C,P,u,c,f6);else if(D==="Home")A.preventDefault(),cb(C,null,u,c,r3);else if(D==="End")A.preventDefault(),cb(C,null,u,c,f6);else if(D.length===1){const U=_.current,I=D.toLowerCase(),N=performance.now();U.keys.length>0&&(N-U.lastTime>500?(U.keys=[],U.repeating=!0,U.previousKeyMatched=!0):U.repeating&&I!==U.keys[0]&&(U.repeating=!1)),U.lastTime=N,U.keys.push(I);const F=P&&!U.repeating&&tW(P,U);U.previousKeyMatched&&(F||cb(C,P,!1,c,r3,U))?A.preventDefault():U.previousKeyMatched=!1}h&&h(A)},E=Fr(v,t);let b=-1;H.Children.forEach(a,(A,C)=>{if(!H.isValidElement(A)){b===C&&(b+=1,b>=a.length&&(b=-1));return}A.props.disabled||(p==="selectedMenu"&&A.props.selected||b===-1)&&(b=C),b===C&&(A.props.disabled||A.props.muiSkipListHighlight||A.type.muiSkipListHighlight)&&(b+=1,b>=a.length&&(b=-1))});const w=H.Children.map(a,(A,C)=>{if(C===b){const D={};return s&&(D.autoFocus=!0),A.props.tabIndex===void 0&&p==="selectedMenu"&&(D.tabIndex=0),H.cloneElement(A,D)}return A});return Z.jsx(kL,{role:"menu",ref:E,className:o,onKeyDown:S,tabIndex:r?0:-1,...y,children:w})});function Jbe(n){return ln("MuiPopover",n)}cn("MuiPopover",["root","paper"]);function h6(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function d6(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function p6(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function uw(n){return typeof n=="function"?n():n}const exe=n=>{const{classes:e}=n;return on({root:["root"],paper:["paper"]},Jbe,e)},txe=at($q,{name:"MuiPopover",slot:"Root"})({}),iW=at(A_,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),nxe=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiPopover"}),{action:r,anchorEl:s,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:c="anchorEl",children:u,className:h,container:p,elevation:y=8,marginThreshold:v=16,open:_,PaperProps:S={},slots:E={},slotProps:b={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:A,transitionDuration:C="auto",TransitionProps:D={},disableScrollLock:L=!1,...P}=i,U=H.useRef(),I={...i,anchorOrigin:a,anchorReference:c,elevation:y,marginThreshold:v,transformOrigin:w,TransitionComponent:A,transitionDuration:C,TransitionProps:D},N=exe(I),F=H.useCallback(()=>{if(c==="anchorPosition")return o;const Ge=uw(s),lt=(Ge&&Ge.nodeType===1?Ge:wa(U.current).body).getBoundingClientRect();return{top:lt.top+h6(lt,a.vertical),left:lt.left+d6(lt,a.horizontal)}},[s,a.horizontal,a.vertical,o,c]),z=H.useCallback(Ge=>({vertical:h6(Ge,w.vertical),horizontal:d6(Ge,w.horizontal)}),[w.horizontal,w.vertical]),V=H.useCallback(Ge=>{const rt={width:Ge.offsetWidth,height:Ge.offsetHeight},lt=z(rt);if(c==="none")return{top:null,left:null,transformOrigin:p6(lt)};const pt=F();let te=pt.top-lt.vertical,Oe=pt.left-lt.horizontal;const Be=te+rt.height,Ne=Oe+rt.width,Me=Bl(uw(s)),ut=Me.innerHeight-v,qe=Me.innerWidth-v;if(v!==null&&te<v){const ae=te-v;te-=ae,lt.vertical+=ae}else if(v!==null&&Be>ut){const ae=Be-ut;te-=ae,lt.vertical+=ae}if(v!==null&&Oe<v){const ae=Oe-v;Oe-=ae,lt.horizontal+=ae}else if(Ne>qe){const ae=Ne-qe;Oe-=ae,lt.horizontal+=ae}return{top:`${Math.round(te)}px`,left:`${Math.round(Oe)}px`,transformOrigin:p6(lt)}},[s,c,F,z,v]),[K,ee]=H.useState(_),q=H.useCallback(()=>{const Ge=U.current;if(!Ge)return;const rt=V(Ge);rt.top!==null&&Ge.style.setProperty("top",rt.top),rt.left!==null&&(Ge.style.left=rt.left),Ge.style.transformOrigin=rt.transformOrigin,ee(!0)},[V]);H.useEffect(()=>(L&&window.addEventListener("scroll",q),()=>window.removeEventListener("scroll",q)),[s,L,q]);const $=()=>{q()},Q=()=>{ee(!1)};H.useEffect(()=>{_&&q()}),H.useImperativeHandle(r,()=>_?{updatePosition:()=>{q()}}:null,[_,q]),H.useEffect(()=>{if(!_)return;const Ge=jS(()=>{q()}),rt=Bl(uw(s));return rt.addEventListener("resize",Ge),()=>{Ge.clear(),rt.removeEventListener("resize",Ge)}},[s,_,q]);let re=C;const de={slots:{transition:A,...E},slotProps:{transition:D,paper:S,...b}},[Y,le]=$t("transition",{elementType:jC,externalForwardedProps:de,ownerState:I,getSlotProps:Ge=>({...Ge,onEntering:(rt,lt)=>{Ge.onEntering?.(rt,lt),$()},onExited:rt=>{Ge.onExited?.(rt),Q()}}),additionalProps:{appear:!0,in:_}});C==="auto"&&!Y.muiSupportAuto&&(re=void 0);const pe=p||(s?wa(uw(s)).body:void 0),[ue,{slots:ie,slotProps:he,...ye}]=$t("root",{ref:t,elementType:txe,externalForwardedProps:{...de,...P},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:E.backdrop},slotProps:{backdrop:Eq(typeof b.backdrop=="function"?b.backdrop(I):b.backdrop,{invisible:!0})},container:pe,open:_},ownerState:I,className:Rt(N.root,h)}),[Ve,Xe]=$t("paper",{ref:U,className:N.paper,elementType:iW,externalForwardedProps:de,shouldForwardComponentProp:!0,additionalProps:{elevation:y,style:K?void 0:{opacity:0}},ownerState:I});return Z.jsx(ue,{...ye,...!Y0(ue)&&{slots:ie,slotProps:he,disableScrollLock:L},children:Z.jsx(Y,{...le,timeout:re,children:Z.jsx(Ve,{...Xe,children:u})})})});function ixe(n){return ln("MuiMenu",n)}cn("MuiMenu",["root","paper","list"]);const rxe={vertical:"top",horizontal:"right"},sxe={vertical:"top",horizontal:"left"},axe=n=>{const{classes:e}=n;return on({root:["root"],paper:["paper"],list:["list"]},ixe,e)},oxe=at(nxe,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),lxe=at(iW,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),cxe=at(nW,{name:"MuiMenu",slot:"List"})({outline:0}),rW=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:s,className:a,disableAutoFocusItem:o=!1,MenuListProps:c={},onClose:u,open:h,PaperProps:p={},PopoverClasses:y,transitionDuration:v="auto",TransitionProps:{onEntering:_,...S}={},variant:E="selectedMenu",slots:b={},slotProps:w={},...A}=i,C=HS(),D={...i,autoFocus:r,disableAutoFocusItem:o,MenuListProps:c,onEntering:_,PaperProps:p,transitionDuration:v,TransitionProps:S,variant:E},L=axe(D),P=r&&!o&&h,U=H.useRef(null),I=(re,de)=>{U.current&&U.current.adjustStyleForScrollbar(re,{direction:C?"rtl":"ltr"}),_&&_(re,de)},N=re=>{re.key==="Tab"&&(re.preventDefault(),u&&u(re,"tabKeyDown"))};let F=-1;H.Children.map(s,(re,de)=>{H.isValidElement(re)&&(re.props.disabled||(E==="selectedMenu"&&re.props.selected||F===-1)&&(F=de))});const z={slots:b,slotProps:{list:c,transition:S,paper:p,...w}},V=e_({elementType:b.root,externalSlotProps:w.root,ownerState:D,className:[L.root,a]}),[K,ee]=$t("paper",{className:L.paper,elementType:lxe,externalForwardedProps:z,shouldForwardComponentProp:!0,ownerState:D}),[q,$]=$t("list",{className:Rt(L.list,c.className),elementType:cxe,shouldForwardComponentProp:!0,externalForwardedProps:z,getSlotProps:re=>({...re,onKeyDown:de=>{N(de),re.onKeyDown?.(de)}}),ownerState:D}),Q=typeof z.slotProps.transition=="function"?z.slotProps.transition(D):z.slotProps.transition;return Z.jsx(oxe,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?rxe:sxe,slots:{root:b.root,paper:K,backdrop:b.backdrop,...b.transition&&{transition:b.transition}},slotProps:{root:V,paper:ee,backdrop:typeof w.backdrop=="function"?w.backdrop(D):w.backdrop,transition:{...Q,onEntering:(...re)=>{I(...re),Q?.onEntering?.(...re)}}},open:h,ref:t,transitionDuration:v,ownerState:D,...A,classes:y,children:Z.jsx(q,{actions:U,autoFocus:r&&(F===-1||o),autoFocusItem:P,variant:E,...$,children:s})})});function uxe(n){return ln("MuiMenuItem",n)}const ub=cn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),fxe=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},hxe=n=>{const{disabled:e,dense:t,divider:i,disableGutters:r,selected:s,classes:a}=n,c=on({root:["root",t&&"dense",e&&"disabled",!r&&"gutters",i&&"divider",s&&"selected"]},uxe,a);return{...a,...c}},dxe=at(td,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:fxe})(vn(({theme:n})=>({...n.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ub.selected}`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,(n.vars||n).palette.action.selectedOpacity),[`&.${ub.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)}},[`&.${ub.selected}:hover`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:n.alpha((n.vars||n).palette.primary.main,(n.vars||n).palette.action.selectedOpacity)}},[`&.${ub.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${ub.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${o6.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${o6.inset}`]:{marginLeft:52},[`& .${c0.root}`]:{marginTop:0,marginBottom:0},[`& .${c0.inset}`]:{paddingLeft:36},[`& .${u6.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[n.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...n.typography.body2,[`& .${u6.root} svg`]:{fontSize:"1.25rem"}}}]}))),Cl=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:s="li",dense:a=!1,divider:o=!1,disableGutters:c=!1,focusVisibleClassName:u,role:h="menuitem",tabIndex:p,className:y,...v}=i,_=H.useContext(Fh),S=H.useMemo(()=>({dense:a||_.dense||!1,disableGutters:c}),[_.dense,a,c]),E=H.useRef(null);xu(()=>{r&&E.current&&E.current.focus()},[r]);const b={...i,dense:S.dense,divider:o,disableGutters:c},w=hxe(i),A=Fr(E,t);let C;return i.disabled||(C=p!==void 0?p:-1),Z.jsx(Fh.Provider,{value:S,children:Z.jsx(dxe,{ref:A,role:h,tabIndex:C,component:s,focusVisibleClassName:Rt(w.focusVisible,u),className:Rt(w.root,y),...v,ownerState:b,classes:w})})});function pxe(n){return ln("MuiNativeSelect",n)}const BL=cn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),mxe=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:s,error:a}=n,o={select:["select",t,i&&"disabled",r&&"multiple",a&&"error"],icon:["icon",`icon${yt(t)}`,s&&"iconOpen",i&&"disabled"]};return on(o,pxe,e)},sW=at("select",{name:"MuiNativeSelect"})(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${BL.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),gxe=at(sW,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Io,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${BL.multiple}`]:e.multiple}]}})({}),aW=at("svg",{name:"MuiNativeSelect"})(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${BL.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),yxe=at(aW,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${yt(t.variant)}`],t.open&&e.iconOpen]}})({}),vxe=H.forwardRef(function(e,t){const{className:i,disabled:r,error:s,IconComponent:a,inputRef:o,variant:c="standard",...u}=e,h={...e,disabled:r,variant:c,error:s},p=mxe(h);return Z.jsxs(H.Fragment,{children:[Z.jsx(gxe,{ownerState:h,className:Rt(p.select,i),disabled:r,ref:o||t,...u}),e.multiple?null:Z.jsx(yxe,{as:a,ownerState:h,className:p.icon})]})});var m6;const _xe=at("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Io})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),bxe=at("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Io})(vn(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function xxe(n){const{children:e,classes:t,className:i,label:r,notched:s,...a}=n,o=r!=null&&r!=="",c={...n,notched:s,withLabel:o};return Z.jsx(_xe,{"aria-hidden":!0,className:i,ownerState:c,...a,children:Z.jsx(bxe,{ownerState:c,children:o?Z.jsx("span",{children:r}):m6||(m6=Z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const Sxe=n=>{const{classes:e}=n,i=on({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},M_e,e);return{...e,...i}},Exe=at(PM,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:OM})(vn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${rf.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${rf.notchedOutline}`]:{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}},[`&.${rf.focused} .${rf.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(ta()).map(([t])=>({props:{color:t},style:{[`&.${rf.focused} .${rf.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${rf.error} .${rf.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${rf.disabled} .${rf.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),Txe=at(xxe,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(vn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}})),wxe=at(DM,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:IM})(vn(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),FL=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiOutlinedInput"}),{components:r={},fullWidth:s=!1,inputComponent:a="input",label:o,multiline:c=!1,notched:u,slots:h={},slotProps:p={},type:y="text",...v}=i,_=Sxe(i),S=tm(),E=fy({props:i,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b={...i,color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:S,fullWidth:s,hiddenLabel:E.hiddenLabel,multiline:c,size:E.size,type:y},w=h.root??r.Root??Exe,A=h.input??r.Input??wxe,[C,D]=$t("notchedOutline",{elementType:Txe,className:_.notchedOutline,shouldForwardComponentProp:!0,ownerState:b,externalForwardedProps:{slots:h,slotProps:p},additionalProps:{label:o!=null&&o!==""&&E.required?Z.jsxs(H.Fragment,{children:[o,"","*"]}):o}});return Z.jsx(NL,{slots:{root:w,input:A},slotProps:p,renderSuffix:L=>Z.jsx(C,{...D,notched:typeof u<"u"?u:!!(L.startAdornment||L.filled||L.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:t,type:y,...v,classes:{..._,notchedOutline:null}})});FL.muiName="Input";function oW(n){return ln("MuiSelect",n)}const fb=cn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var g6;const Cxe=at(sW,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${fb.select}`]:e.select},{[`&.${fb.select}`]:e[t.variant]},{[`&.${fb.error}`]:e.error},{[`&.${fb.multiple}`]:e.multiple}]}})({[`&.${fb.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Axe=at(aW,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${yt(t.variant)}`],t.open&&e.iconOpen]}})({}),Mxe=at("input",{shouldForwardProp:n=>Sq(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function y6(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function Rxe(n){return n==null||typeof n=="string"&&!n.trim()}const Oxe=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:s,error:a}=n,o={select:["select",t,i&&"disabled",r&&"multiple",a&&"error"],icon:["icon",`icon${yt(t)}`,s&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return on(o,oW,e)},Ixe=H.forwardRef(function(e,t){const{"aria-describedby":i,"aria-label":r,autoFocus:s,autoWidth:a,children:o,className:c,defaultOpen:u,defaultValue:h,disabled:p,displayEmpty:y,error:v=!1,IconComponent:_,inputRef:S,labelId:E,MenuProps:b={},multiple:w,name:A,onBlur:C,onChange:D,onClose:L,onFocus:P,onKeyDown:U,onMouseDown:I,onOpen:N,open:F,readOnly:z,renderValue:V,required:K,SelectDisplayProps:ee={},tabIndex:q,type:$,value:Q,variant:re="standard",...de}=e,[Y,le]=iS({controlled:Q,default:h,name:"Select"}),[pe,ue]=iS({controlled:F,default:u,name:"Select"}),ie=H.useRef(null),he=H.useRef(null),[ye,Ve]=H.useState(null),{current:Xe}=H.useRef(F!=null),[Ge,rt]=H.useState(),lt=Fr(t,S),pt=H.useCallback(ot=>{he.current=ot,ot&&Ve(ot)},[]),te=ye?.parentNode;H.useImperativeHandle(lt,()=>({focus:()=>{he.current.focus()},node:ie.current,value:Y}),[Y]),H.useEffect(()=>{u&&pe&&ye&&!Xe&&(rt(a?null:te.clientWidth),he.current.focus())},[ye,a]),H.useEffect(()=>{s&&he.current.focus()},[s]),H.useEffect(()=>{if(!E)return;const ot=wa(he.current).getElementById(E);if(ot){const Lt=()=>{getSelection().isCollapsed&&he.current.focus()};return ot.addEventListener("click",Lt),()=>{ot.removeEventListener("click",Lt)}}},[E]);const Oe=(ot,Lt)=>{ot?N&&N(Lt):L&&L(Lt),Xe||(rt(a?null:te.clientWidth),ue(ot))},Be=ot=>{I?.(ot),ot.button===0&&(ot.preventDefault(),he.current.focus(),Oe(!0,ot))},Ne=ot=>{Oe(!1,ot)},Me=H.Children.toArray(o),ut=ot=>{const Lt=Me.find(ve=>ve.props.value===ot.target.value);Lt!==void 0&&(le(Lt.props.value),D&&D(ot,Lt))},qe=ot=>Lt=>{let ve;if(Lt.currentTarget.hasAttribute("tabindex")){if(w){ve=Array.isArray(Y)?Y.slice():[];const gt=Y.indexOf(ot.props.value);gt===-1?ve.push(ot.props.value):ve.splice(gt,1)}else ve=ot.props.value;if(ot.props.onClick&&ot.props.onClick(Lt),Y!==ve&&(le(ve),D)){const gt=Lt.nativeEvent||Lt,Fe=new gt.constructor(gt.type,gt);Object.defineProperty(Fe,"target",{writable:!0,value:{value:ve,name:A}}),D(Fe,ot)}w||Oe(!1,Lt)}},ae=ot=>{z||([" ","ArrowUp","ArrowDown","Enter"].includes(ot.key)&&(ot.preventDefault(),Oe(!0,ot)),U?.(ot))},J=ye!==null&&pe,Se=ot=>{!J&&C&&(Object.defineProperty(ot,"target",{writable:!0,value:{value:Y,name:A}}),C(ot))};delete de["aria-invalid"];let Ae,Ze;const Re=[];let ct=!1;(HC({value:Y})||y)&&(V?Ae=V(Y):ct=!0);const ft=Me.map(ot=>{if(!H.isValidElement(ot))return null;let Lt;if(w){if(!Array.isArray(Y))throw new Error(ed(2));Lt=Y.some(ve=>y6(ve,ot.props.value)),Lt&&ct&&Re.push(ot.props.children)}else Lt=y6(Y,ot.props.value),Lt&&ct&&(Ze=ot.props.children);return H.cloneElement(ot,{"aria-selected":Lt?"true":"false",onClick:qe(ot),onKeyUp:ve=>{ve.key===" "&&ve.preventDefault(),ot.props.onKeyUp&&ot.props.onKeyUp(ve)},role:"option",selected:Lt,value:void 0,"data-value":ot.props.value})});ct&&(w?Re.length===0?Ae=null:Ae=Re.reduce((ot,Lt,ve)=>(ot.push(Lt),ve<Re.length-1&&ot.push(", "),ot),[]):Ae=Ze);let Dt=Ge;!a&&Xe&&ye&&(Dt=te.clientWidth);let kt;typeof q<"u"?kt=q:kt=p?null:0;const $e=ee.id||(A?`mui-component-select-${A}`:void 0),dt={...e,variant:re,value:Y,open:J,error:v},wt=Oxe(dt),At={...b.PaperProps,...typeof b.slotProps?.paper=="function"?b.slotProps.paper(dt):b.slotProps?.paper},vt={...b.MenuListProps,...typeof b.slotProps?.list=="function"?b.slotProps.list(dt):b.slotProps?.list},jt=w_();return Z.jsxs(H.Fragment,{children:[Z.jsx(Cxe,{as:"div",ref:pt,tabIndex:kt,role:"combobox","aria-controls":J?jt:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":J?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[E,$e].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":K?"true":void 0,"aria-invalid":v?"true":void 0,onKeyDown:ae,onMouseDown:p||z?null:Be,onBlur:Se,onFocus:P,...ee,ownerState:dt,className:Rt(ee.className,wt.select,c),id:$e,children:Rxe(Ae)?g6||(g6=Z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Ae}),Z.jsx(Mxe,{"aria-invalid":v,value:Array.isArray(Y)?Y.join(","):Y,name:A,ref:ie,"aria-hidden":!0,onChange:ut,tabIndex:-1,disabled:p,className:wt.nativeInput,autoFocus:s,required:K,...de,ownerState:dt}),Z.jsx(Axe,{as:_,className:wt.icon,ownerState:dt}),Z.jsx(rW,{id:`menu-${A||""}`,anchorEl:te,open:J,onClose:Ne,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...b,slotProps:{...b.slotProps,list:{"aria-labelledby":E,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:jt,...vt},paper:{...At,style:{minWidth:Dt,...At!=null?At.style:null}}},children:ft})]})}),Pxe=n=>{const{classes:e}=n,i=on({root:["root"]},oW,e);return{...e,...i}},VL={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>Io(n)&&n!=="variant"},Dxe=at(UL,VL)(""),Nxe=at(FL,VL)(""),Lxe=at(LL,VL)(""),GC=H.forwardRef(function(e,t){const i=gn({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:s,classes:a={},className:o,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:h=O_e,id:p,input:y,inputProps:v,label:_,labelId:S,MenuProps:E,multiple:b=!1,native:w=!1,onClose:A,onOpen:C,open:D,renderValue:L,SelectDisplayProps:P,variant:U="outlined",...I}=i,N=w?vxe:Ixe,F=tm(),z=fy({props:i,muiFormControl:F,states:["variant","error"]}),V=z.variant||U,K={...i,variant:V,classes:a},ee=Pxe(K),{root:q,...$}=ee,Q=y||{standard:Z.jsx(Dxe,{ownerState:K}),outlined:Z.jsx(Nxe,{label:_,ownerState:K}),filled:Z.jsx(Lxe,{ownerState:K})}[V],re=Fr(t,em(Q));return Z.jsx(H.Fragment,{children:H.cloneElement(Q,{inputComponent:N,inputProps:{children:s,error:z.error,IconComponent:h,variant:V,type:void 0,multiple:b,...w?{id:p}:{autoWidth:r,defaultOpen:c,displayEmpty:u,labelId:S,MenuProps:E,onClose:A,onOpen:C,open:D,renderValue:L,SelectDisplayProps:{id:p,...P}},...v,classes:v?ra($,v.classes):$,...y?y.props.inputProps:{}},...(b&&w||u)&&V==="outlined"?{notched:!0}:{},ref:re,className:Rt(Q.props.className,o,ee.root),...!y&&{variant:V},...I})})});GC.muiName="Select";function Uxe(n){return ln("MuiTooltip",n)}const Qr=cn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function kxe(n){return Math.round(n*1e5)/1e5}const zxe=n=>{const{classes:e,disableInteractive:t,arrow:i,touch:r,placement:s}=n,a={popper:["popper",!t&&"popperInteractive",i&&"popperArrow"],tooltip:["tooltip",i&&"tooltipArrow",r&&"touch",`tooltipPlacement${yt(s.split("-")[0])}`],arrow:["arrow"]};return on(a,Uxe,e)},Bxe=at(jq,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(vn(({theme:n})=>({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Qr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Qr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Qr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Qr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Qr.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Qr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Qr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Qr.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Fxe=at("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${yt(t.placement.split("-")[0])}`]]}})(vn(({theme:n})=>({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:n.alpha(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium,[`.${Qr.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Qr.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Qr.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Qr.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${kxe(16/14)}em`,fontWeight:n.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Qr.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Qr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Qr.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Qr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Qr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Qr.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Qr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Qr.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Qr.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Qr.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Vxe=at("span",{name:"MuiTooltip",slot:"Arrow"})(vn(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:n.alpha(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let fw=!1;const v6=new MM;let hb={x:0,y:0};function hw(n,e){return(t,...i)=>{e&&e(t,...i),n(t,...i)}}const lW=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiTooltip"}),{arrow:r=!1,children:s,classes:a,components:o={},componentsProps:c={},describeChild:u=!1,disableFocusListener:h=!1,disableHoverListener:p=!1,disableInteractive:y=!1,disableTouchListener:v=!1,enterDelay:_=100,enterNextDelay:S=0,enterTouchDelay:E=700,followCursor:b=!1,id:w,leaveDelay:A=0,leaveTouchDelay:C=1500,onClose:D,onOpen:L,open:P,placement:U="bottom",PopperComponent:I,PopperProps:N={},slotProps:F={},slots:z={},title:V,TransitionComponent:K,TransitionProps:ee,...q}=i,$=H.isValidElement(s)?s:Z.jsx("span",{children:s}),Q=sd(),re=HS(),[de,Y]=H.useState(),[le,pe]=H.useState(null),ue=H.useRef(!1),ie=y||b,he=Ig(),ye=Ig(),Ve=Ig(),Xe=Ig(),[Ge,rt]=iS({controlled:P,default:!1,name:"Tooltip",state:"open"});let lt=Ge;const pt=w_(w),te=H.useRef(),Oe=Ll(()=>{te.current!==void 0&&(document.body.style.WebkitUserSelect=te.current,te.current=void 0),Xe.clear()});H.useEffect(()=>Oe,[Oe]);const Be=zt=>{v6.clear(),fw=!0,rt(!0),L&&!lt&&L(zt)},Ne=Ll(zt=>{v6.start(800+A,()=>{fw=!1}),rt(!1),D&&lt&&D(zt),he.start(Q.transitions.duration.shortest,()=>{ue.current=!1})}),Me=zt=>{ue.current&&zt.type!=="touchstart"||(de&&de.removeAttribute("title"),ye.clear(),Ve.clear(),_||fw&&S?ye.start(fw?S:_,()=>{Be(zt)}):Be(zt))},ut=zt=>{ye.clear(),Ve.start(A,()=>{Ne(zt)})},[,qe]=H.useState(!1),ae=zt=>{BC(zt.target)||(qe(!1),ut(zt))},J=zt=>{de||Y(zt.currentTarget),BC(zt.target)&&(qe(!0),Me(zt))},Se=zt=>{ue.current=!0;const Jt=$.props;Jt.onTouchStart&&Jt.onTouchStart(zt)},Ae=zt=>{Se(zt),Ve.clear(),he.clear(),Oe(),te.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Xe.start(E,()=>{document.body.style.WebkitUserSelect=te.current,Me(zt)})},Ze=zt=>{$.props.onTouchEnd&&$.props.onTouchEnd(zt),Oe(),Ve.start(C,()=>{Ne(zt)})};H.useEffect(()=>{if(!lt)return;function zt(Jt){Jt.key==="Escape"&&Ne(Jt)}return document.addEventListener("keydown",zt),()=>{document.removeEventListener("keydown",zt)}},[Ne,lt]);const Re=Fr(em($),Y,t);!V&&V!==0&&(lt=!1);const ct=H.useRef(),ft=zt=>{const Jt=$.props;Jt.onMouseMove&&Jt.onMouseMove(zt),hb={x:zt.clientX,y:zt.clientY},ct.current&&ct.current.update()},Dt={},kt=typeof V=="string";u?(Dt.title=!lt&&kt&&!p?V:null,Dt["aria-describedby"]=lt?pt:null):(Dt["aria-label"]=kt?V:null,Dt["aria-labelledby"]=lt&&!kt?pt:null);const $e={...Dt,...q,...$.props,className:Rt(q.className,$.props.className),onTouchStart:Se,ref:Re,...b?{onMouseMove:ft}:{}},dt={};v||($e.onTouchStart=Ae,$e.onTouchEnd=Ze),p||($e.onMouseOver=hw(Me,$e.onMouseOver),$e.onMouseLeave=hw(ut,$e.onMouseLeave),ie||(dt.onMouseOver=Me,dt.onMouseLeave=ut)),h||($e.onFocus=hw(J,$e.onFocus),$e.onBlur=hw(ae,$e.onBlur),ie||(dt.onFocus=J,dt.onBlur=ae));const wt={...i,isRtl:re,arrow:r,disableInteractive:ie,placement:U,PopperComponentProp:I,touch:ue.current},At=typeof F.popper=="function"?F.popper(wt):F.popper,vt=H.useMemo(()=>{let zt=[{name:"arrow",enabled:!!le,options:{element:le,padding:4}}];return N.popperOptions?.modifiers&&(zt=zt.concat(N.popperOptions.modifiers)),At?.popperOptions?.modifiers&&(zt=zt.concat(At.popperOptions.modifiers)),{...N.popperOptions,...At?.popperOptions,modifiers:zt}},[le,N.popperOptions,At?.popperOptions]),jt=zxe(wt),ot=typeof F.transition=="function"?F.transition(wt):F.transition,Lt={slots:{popper:o.Popper,transition:o.Transition??K,tooltip:o.Tooltip,arrow:o.Arrow,...z},slotProps:{arrow:F.arrow??c.arrow,popper:{...N,...At??c.popper},tooltip:F.tooltip??c.tooltip,transition:{...ee,...ot??c.transition}}},[ve,gt]=$t("popper",{elementType:Bxe,externalForwardedProps:Lt,ownerState:wt,className:Rt(jt.popper,N?.className)}),[Fe,Qe]=$t("transition",{elementType:jC,externalForwardedProps:Lt,ownerState:wt}),[xt,_t]=$t("tooltip",{elementType:Fxe,className:jt.tooltip,externalForwardedProps:Lt,ownerState:wt}),[Qt,$n]=$t("arrow",{elementType:Vxe,className:jt.arrow,externalForwardedProps:Lt,ownerState:wt,ref:pe});return Z.jsxs(H.Fragment,{children:[H.cloneElement($,$e),Z.jsx(ve,{as:I??jq,placement:U,anchorEl:b?{getBoundingClientRect:()=>({top:hb.y,left:hb.x,right:hb.x,bottom:hb.y,width:0,height:0})}:de,popperRef:ct,open:de?lt:!1,id:pt,transition:!0,...dt,...gt,popperOptions:vt,children:({TransitionProps:zt})=>Z.jsx(Fe,{timeout:Q.transitions.duration.shorter,...zt,...Qe,children:Z.jsxs(xt,{..._t,children:[V,r?Z.jsx(Qt,{...$n}):null]})})})]})}),up=Gge({createStyledComponent:at("div",{name:"MuiStack",slot:"Root"}),useThemeProps:n=>gn({props:n,name:"MuiStack"})});function Hxe(n){return ln("MuiTab",n)}const pc=cn("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),jxe=n=>{const{classes:e,textColor:t,fullWidth:i,wrapped:r,icon:s,label:a,selected:o,disabled:c}=n,u={root:["root",s&&a&&"labelIcon",`textColor${yt(t)}`,i&&"fullWidth",r&&"wrapped",o&&"selected",c&&"disabled"],icon:["iconWrapper","icon"]};return on(u,Hxe,e)},Gxe=at(td,{name:"MuiTab",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.label&&t.icon&&e.labelIcon,e[`textColor${yt(t.textColor)}`],t.fullWidth&&e.fullWidth,t.wrapped&&e.wrapped,{[`& .${pc.iconWrapper}`]:e.iconWrapper},{[`& .${pc.icon}`]:e.icon}]}})(vn(({theme:n})=>({...n.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="top",style:{[`& > .${pc.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="bottom",style:{[`& > .${pc.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="start",style:{[`& > .${pc.icon}`]:{marginRight:n.spacing(1)}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="end",style:{[`& > .${pc.icon}`]:{marginLeft:n.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${pc.selected}`]:{opacity:1},[`&.${pc.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(n.vars||n).palette.text.secondary,[`&.${pc.selected}`]:{color:(n.vars||n).palette.primary.main},[`&.${pc.disabled}`]:{color:(n.vars||n).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(n.vars||n).palette.text.secondary,[`&.${pc.selected}`]:{color:(n.vars||n).palette.secondary.main},[`&.${pc.disabled}`]:{color:(n.vars||n).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:n.typography.pxToRem(12)}}]}))),_6=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiTab"}),{className:r,disabled:s=!1,disableFocusRipple:a=!1,fullWidth:o,icon:c,iconPosition:u="top",indicator:h,label:p,onChange:y,onClick:v,onFocus:_,selected:S,selectionFollowsFocus:E,textColor:b="inherit",value:w,wrapped:A=!1,...C}=i,D={...i,disabled:s,disableFocusRipple:a,selected:S,icon:!!c,iconPosition:u,label:!!p,fullWidth:o,textColor:b,wrapped:A},L=jxe(D),P=c&&p&&H.isValidElement(c)?H.cloneElement(c,{className:Rt(L.icon,c.props.className)}):c,U=N=>{!S&&y&&y(N,w),v&&v(N)},I=N=>{E&&!S&&y&&y(N,w),_&&_(N)};return Z.jsxs(Gxe,{focusRipple:!a,className:Rt(L.root,r),ref:t,role:"tab","aria-selected":S,disabled:s,onClick:U,onFocus:I,ownerState:D,tabIndex:S?0:-1,...C,children:[u==="top"||u==="start"?Z.jsxs(H.Fragment,{children:[P,p]}):Z.jsxs(H.Fragment,{children:[p,P]}),h]})}),qxe=Vr(Z.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),Wxe=Vr(Z.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function $xe(n){return(1+Math.sin(Math.PI*n-Math.PI/2))/2}function Xxe(n,e,t,i={},r=()=>{}){const{ease:s=$xe,duration:a=300}=i;let o=null;const c=e[n];let u=!1;const h=()=>{u=!0},p=y=>{if(u){r(new Error("Animation cancelled"));return}o===null&&(o=y);const v=Math.min(1,(y-o)/a);if(e[n]=s(v)*(t-c)+c,v>=1){requestAnimationFrame(()=>{r(null)});return}requestAnimationFrame(p)};return c===t?(r(new Error("Element already at target position")),h):(requestAnimationFrame(p),h)}const Yxe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Kxe(n){const{onChange:e,...t}=n,i=H.useRef(),r=H.useRef(null),s=()=>{i.current=r.current.offsetHeight-r.current.clientHeight};return xu(()=>{const a=jS(()=>{const c=i.current;s(),c!==i.current&&e(i.current)}),o=Bl(r.current);return o.addEventListener("resize",a),()=>{a.clear(),o.removeEventListener("resize",a)}},[e]),H.useEffect(()=>{s(),e(i.current)},[e]),Z.jsx("div",{style:Yxe,...t,ref:r})}function Zxe(n){return ln("MuiTabScrollButton",n)}const Qxe=cn("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Jxe=n=>{const{classes:e,orientation:t,disabled:i}=n;return on({root:["root",t,i&&"disabled"]},Zxe,e)},eSe=at(td,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.orientation&&e[t.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Qxe.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),tSe=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiTabScrollButton"}),{className:r,slots:s={},slotProps:a={},direction:o,orientation:c,disabled:u,...h}=i,p=HS(),y={isRtl:p,...i},v=Jxe(y),_=s.StartScrollButtonIcon??qxe,S=s.EndScrollButtonIcon??Wxe,E=e_({elementType:_,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y}),b=e_({elementType:S,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y});return Z.jsx(eSe,{component:"div",className:Rt(v.root,r),ref:t,role:null,ownerState:y,tabIndex:null,...h,style:{...h.style,...c==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${p?-90:90}deg)`}},children:o==="left"?Z.jsx(_,{...E}):Z.jsx(S,{...b})})});function nSe(n){return ln("MuiTabs",n)}const s3=cn("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),b6=(n,e)=>n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n.firstChild,x6=(n,e)=>n===e?n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n.lastChild,dw=(n,e,t)=>{let i=!1,r=t(n,e);for(;r;){if(r===n.firstChild){if(i)return;i=!0}const s=r.disabled||r.getAttribute("aria-disabled")==="true";if(!r.hasAttribute("tabindex")||s)r=t(n,r);else{r.focus();return}}},iSe=n=>{const{vertical:e,fixed:t,hideScrollbar:i,scrollableX:r,scrollableY:s,centered:a,scrollButtonsHideMobile:o,classes:c}=n;return on({root:["root",e&&"vertical"],scroller:["scroller",t&&"fixed",i&&"hideScrollbar",r&&"scrollableX",s&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",o&&"scrollButtonsHideMobile"],scrollableX:[r&&"scrollableX"],hideScrollbar:[i&&"hideScrollbar"]},nSe,c)},rSe=at("div",{name:"MuiTabs",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${s3.scrollButtons}`]:e.scrollButtons},{[`& .${s3.scrollButtons}`]:t.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,t.vertical&&e.vertical]}})(vn(({theme:n})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${s3.scrollButtons}`]:{[n.breakpoints.down("sm")]:{display:"none"}}}}]}))),sSe=at("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.scroller,t.fixed&&e.fixed,t.hideScrollbar&&e.hideScrollbar,t.scrollableX&&e.scrollableX,t.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:n})=>n.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:n})=>n.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:n})=>n.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:n})=>n.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),aSe=at("div",{name:"MuiTabs",slot:"List",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.list,e.flexContainer,t.vertical&&e.flexContainerVertical,t.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:n})=>n.vertical,style:{flexDirection:"column"}},{props:({ownerState:n})=>n.centered,style:{justifyContent:"center"}}]}),oSe=at("span",{name:"MuiTabs",slot:"Indicator"})(vn(({theme:n})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(n.vars||n).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(n.vars||n).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),lSe=at(Kxe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),S6={},cSe=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiTabs"}),r=sd(),s=HS(),{"aria-label":a,"aria-labelledby":o,action:c,centered:u=!1,children:h,className:p,component:y="div",allowScrollButtonsMobile:v=!1,indicatorColor:_="primary",onChange:S,orientation:E="horizontal",ScrollButtonComponent:b,scrollButtons:w="auto",selectionFollowsFocus:A,slots:C={},slotProps:D={},TabIndicatorProps:L={},TabScrollButtonProps:P={},textColor:U="primary",value:I,variant:N="standard",visibleScrollbar:F=!1,...z}=i,V=N==="scrollable",K=E==="vertical",ee=K?"scrollTop":"scrollLeft",q=K?"top":"left",$=K?"bottom":"right",Q=K?"clientHeight":"clientWidth",re=K?"height":"width",de={...i,component:y,allowScrollButtonsMobile:v,indicatorColor:_,orientation:E,vertical:K,scrollButtons:w,textColor:U,variant:N,visibleScrollbar:F,fixed:!V,hideScrollbar:V&&!F,scrollableX:V&&!K,scrollableY:V&&K,centered:u&&!V,scrollButtonsHideMobile:!v},Y=iSe(de),le=e_({elementType:C.StartScrollButtonIcon,externalSlotProps:D.startScrollButtonIcon,ownerState:de}),pe=e_({elementType:C.EndScrollButtonIcon,externalSlotProps:D.endScrollButtonIcon,ownerState:de}),[ue,ie]=H.useState(!1),[he,ye]=H.useState(S6),[Ve,Xe]=H.useState(!1),[Ge,rt]=H.useState(!1),[lt,pt]=H.useState(!1),[te,Oe]=H.useState({overflow:"hidden",scrollbarWidth:0}),Be=new Map,Ne=H.useRef(null),Me=H.useRef(null),ut={slots:C,slotProps:{indicator:L,scrollButton:P,...D}},qe=()=>{const St=Ne.current;let Mt;if(St){const _n=St.getBoundingClientRect();Mt={clientWidth:St.clientWidth,scrollLeft:St.scrollLeft,scrollTop:St.scrollTop,scrollWidth:St.scrollWidth,top:_n.top,bottom:_n.bottom,left:_n.left,right:_n.right}}let kn;if(St&&I!==!1){const _n=Me.current.children;if(_n.length>0){const zn=_n[Be.get(I)];kn=zn?zn.getBoundingClientRect():null}}return{tabsMeta:Mt,tabMeta:kn}},ae=Ll(()=>{const{tabsMeta:St,tabMeta:Mt}=qe();let kn=0,_n;K?(_n="top",Mt&&St&&(kn=Mt.top-St.top+St.scrollTop)):(_n=s?"right":"left",Mt&&St&&(kn=(s?-1:1)*(Mt[_n]-St[_n]+St.scrollLeft)));const zn={[_n]:kn,[re]:Mt?Mt[re]:0};if(typeof he[_n]!="number"||typeof he[re]!="number")ye(zn);else{const Li=Math.abs(he[_n]-zn[_n]),Rs=Math.abs(he[re]-zn[re]);(Li>=1||Rs>=1)&&ye(zn)}}),J=(St,{animation:Mt=!0}={})=>{Mt?Xxe(ee,Ne.current,St,{duration:r.transitions.duration.standard}):Ne.current[ee]=St},Se=St=>{let Mt=Ne.current[ee];K?Mt+=St:Mt+=St*(s?-1:1),J(Mt)},Ae=()=>{const St=Ne.current[Q];let Mt=0;const kn=Array.from(Me.current.children);for(let _n=0;_n<kn.length;_n+=1){const zn=kn[_n];if(Mt+zn[Q]>St){_n===0&&(Mt=St);break}Mt+=zn[Q]}return Mt},Ze=()=>{Se(-1*Ae())},Re=()=>{Se(Ae())},[ct,{onChange:ft,...Dt}]=$t("scrollbar",{className:Rt(Y.scrollableX,Y.hideScrollbar),elementType:lSe,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:de}),kt=H.useCallback(St=>{ft?.(St),Oe({overflow:null,scrollbarWidth:St})},[ft]),[$e,dt]=$t("scrollButtons",{className:Rt(Y.scrollButtons,P.className),elementType:tSe,externalForwardedProps:ut,ownerState:de,additionalProps:{orientation:E,slots:{StartScrollButtonIcon:C.startScrollButtonIcon||C.StartScrollButtonIcon,EndScrollButtonIcon:C.endScrollButtonIcon||C.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:le,endScrollButtonIcon:pe}}}),wt=()=>{const St={};St.scrollbarSizeListener=V?Z.jsx(ct,{...Dt,onChange:kt}):null;const kn=V&&(w==="auto"&&(Ve||Ge)||w===!0);return St.scrollButtonStart=kn?Z.jsx($e,{direction:s?"right":"left",onClick:Ze,disabled:!Ve,...dt}):null,St.scrollButtonEnd=kn?Z.jsx($e,{direction:s?"left":"right",onClick:Re,disabled:!Ge,...dt}):null,St},At=Ll(St=>{const{tabsMeta:Mt,tabMeta:kn}=qe();if(!(!kn||!Mt)){if(kn[q]<Mt[q]){const _n=Mt[ee]+(kn[q]-Mt[q]);J(_n,{animation:St})}else if(kn[$]>Mt[$]){const _n=Mt[ee]+(kn[$]-Mt[$]);J(_n,{animation:St})}}}),vt=Ll(()=>{V&&w!==!1&&pt(!lt)});H.useEffect(()=>{const St=jS(()=>{Ne.current&&ae()});let Mt;const kn=Li=>{Li.forEach(Rs=>{Rs.removedNodes.forEach($i=>{Mt?.unobserve($i)}),Rs.addedNodes.forEach($i=>{Mt?.observe($i)})}),St(),vt()},_n=Bl(Ne.current);_n.addEventListener("resize",St);let zn;return typeof ResizeObserver<"u"&&(Mt=new ResizeObserver(St),Array.from(Me.current.children).forEach(Li=>{Mt.observe(Li)})),typeof MutationObserver<"u"&&(zn=new MutationObserver(kn),zn.observe(Me.current,{childList:!0})),()=>{St.clear(),_n.removeEventListener("resize",St),zn?.disconnect(),Mt?.disconnect()}},[ae,vt]),H.useEffect(()=>{const St=Array.from(Me.current.children),Mt=St.length;if(typeof IntersectionObserver<"u"&&Mt>0&&V&&w!==!1){const kn=St[0],_n=St[Mt-1],zn={root:Ne.current,threshold:.99},Li=jr=>{Xe(!jr[0].isIntersecting)},Rs=new IntersectionObserver(Li,zn);Rs.observe(kn);const $i=jr=>{rt(!jr[0].isIntersecting)},Hr=new IntersectionObserver($i,zn);return Hr.observe(_n),()=>{Rs.disconnect(),Hr.disconnect()}}},[V,w,lt,h?.length]),H.useEffect(()=>{ie(!0)},[]),H.useEffect(()=>{ae()}),H.useEffect(()=>{At(S6!==he)},[At,he]),H.useImperativeHandle(c,()=>({updateIndicator:ae,updateScrollButtons:vt}),[ae,vt]);const[jt,ot]=$t("indicator",{className:Rt(Y.indicator,L.className),elementType:oSe,externalForwardedProps:ut,ownerState:de,additionalProps:{style:he}}),Lt=Z.jsx(jt,{...ot});let ve=0;const gt=H.Children.map(h,St=>{if(!H.isValidElement(St))return null;const Mt=St.props.value===void 0?ve:St.props.value;Be.set(Mt,ve);const kn=Mt===I;return ve+=1,H.cloneElement(St,{fullWidth:N==="fullWidth",indicator:kn&&!ue&&Lt,selected:kn,selectionFollowsFocus:A,onChange:S,textColor:U,value:Mt,...ve===1&&I===!1&&!St.props.tabIndex?{tabIndex:0}:{}})}),Fe=St=>{if(St.altKey||St.shiftKey||St.ctrlKey||St.metaKey)return;const Mt=Me.current,kn=l0(wa(Mt));if(kn?.getAttribute("role")!=="tab")return;let zn=E==="horizontal"?"ArrowLeft":"ArrowUp",Li=E==="horizontal"?"ArrowRight":"ArrowDown";switch(E==="horizontal"&&s&&(zn="ArrowRight",Li="ArrowLeft"),St.key){case zn:St.preventDefault(),dw(Mt,kn,x6);break;case Li:St.preventDefault(),dw(Mt,kn,b6);break;case"Home":St.preventDefault(),dw(Mt,null,b6);break;case"End":St.preventDefault(),dw(Mt,null,x6);break}},Qe=wt(),[xt,_t]=$t("root",{ref:t,className:Rt(Y.root,p),elementType:rSe,externalForwardedProps:{...ut,...z,component:y},ownerState:de}),[Qt,$n]=$t("scroller",{ref:Ne,className:Y.scroller,elementType:sSe,externalForwardedProps:ut,ownerState:de,additionalProps:{style:{overflow:te.overflow,[K?`margin${s?"Left":"Right"}`:"marginBottom"]:F?void 0:-te.scrollbarWidth}}}),[zt,Jt]=$t("list",{ref:Me,className:Rt(Y.list,Y.flexContainer),elementType:aSe,externalForwardedProps:ut,ownerState:de,getSlotProps:St=>({...St,onKeyDown:Mt=>{Fe(Mt),St.onKeyDown?.(Mt)}})});return Z.jsxs(xt,{..._t,children:[Qe.scrollButtonStart,Qe.scrollbarSizeListener,Z.jsxs(Qt,{...$n,children:[Z.jsx(zt,{"aria-label":a,"aria-labelledby":o,"aria-orientation":E==="vertical"?"vertical":null,role:"tablist",...Jt,children:gt}),ue&&Lt]}),Qe.scrollButtonEnd]})});function uSe(n){return ln("MuiTextField",n)}cn("MuiTextField",["root"]);const fSe={standard:UL,filled:LL,outlined:FL},hSe=n=>{const{classes:e}=n;return on({root:["root"]},uSe,e)},dSe=at(Ub,{name:"MuiTextField",slot:"Root"})({}),pSe=H.forwardRef(function(e,t){const i=gn({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:s=!1,children:a,className:o,color:c="primary",defaultValue:u,disabled:h=!1,error:p=!1,FormHelperTextProps:y,fullWidth:v=!1,helperText:_,id:S,InputLabelProps:E,inputProps:b,InputProps:w,inputRef:A,label:C,maxRows:D,minRows:L,multiline:P=!1,name:U,onBlur:I,onChange:N,onFocus:F,placeholder:z,required:V=!1,rows:K,select:ee=!1,SelectProps:q,slots:$={},slotProps:Q={},type:re,value:de,variant:Y="outlined",...le}=i,pe={...i,autoFocus:s,color:c,disabled:h,error:p,fullWidth:v,multiline:P,required:V,select:ee,variant:Y},ue=hSe(pe),ie=w_(S),he=_&&ie?`${ie}-helper-text`:void 0,ye=C&&ie?`${ie}-label`:void 0,Ve=fSe[Y],Xe={slots:$,slotProps:{input:w,inputLabel:E,htmlInput:b,formHelperText:y,select:q,...Q}},Ge={},rt=Xe.slotProps.inputLabel;Y==="outlined"&&(rt&&typeof rt.shrink<"u"&&(Ge.notched=rt.shrink),Ge.label=C),ee&&((!q||!q.native)&&(Ge.id=void 0),Ge["aria-describedby"]=void 0);const[lt,pt]=$t("root",{elementType:dSe,shouldForwardComponentProp:!0,externalForwardedProps:{...Xe,...le},ownerState:pe,className:Rt(ue.root,o),ref:t,additionalProps:{disabled:h,error:p,fullWidth:v,required:V,color:c,variant:Y}}),[te,Oe]=$t("input",{elementType:Ve,externalForwardedProps:Xe,additionalProps:Ge,ownerState:pe}),[Be,Ne]=$t("inputLabel",{elementType:h2,externalForwardedProps:Xe,ownerState:pe}),[Me,ut]=$t("htmlInput",{elementType:"input",externalForwardedProps:Xe,ownerState:pe}),[qe,ae]=$t("formHelperText",{elementType:xbe,externalForwardedProps:Xe,ownerState:pe}),[J,Se]=$t("select",{elementType:GC,externalForwardedProps:Xe,ownerState:pe}),Ae=Z.jsx(te,{"aria-describedby":he,autoComplete:r,autoFocus:s,defaultValue:u,fullWidth:v,multiline:P,name:U,rows:K,maxRows:D,minRows:L,type:re,value:de,id:ie,inputRef:A,onBlur:I,onChange:N,onFocus:F,placeholder:z,inputProps:ut,slots:{input:$.htmlInput?Me:void 0},...Oe});return Z.jsxs(lt,{...pt,children:[C!=null&&C!==""&&Z.jsx(Be,{htmlFor:ie,id:ye,...Ne,children:C}),ee?Z.jsx(J,{"aria-describedby":he,id:ie,labelId:ye,value:de,input:Ae,...Se,children:a}):Ae,_&&Z.jsx(qe,{id:he,...ae,children:_})]})}),pw=({content:n})=>{const[e,t]=H.useState(!1),i=()=>{t(!1)},r=()=>{t(!0)};return Z.jsx(Abe,{children:Z.jsx(p1e,{onClickAway:i,children:Z.jsx(Df,{children:Z.jsx(lW,{onClose:i,open:e,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:n,placement:"top-end",arrow:!0,slotProps:{popper:{disablePortal:!0}},children:Z.jsx(wL,{onClick:r,children:Z.jsx(Rye,{})})})})})})};function NP(n){return n?n.charAt(0).toUpperCase()+n.slice(1):""}const NM=n=>{const e=localStorage.getItem(n);if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t.filter(i=>typeof i=="string"):e.replace(/[\[\]']+/g,"").split(",").map(i=>i.trim()).filter(Boolean)}catch{return e.replace(/[\[\]']+/g,"").split(",").map(t=>t.trim()).filter(Boolean)}},d2={canvasBackgraundColor:"#002",intensity:.7,colorLight:"#fff",position:[100,20,10]},cW={system:"rgb(159, 159, 159)",submission:"rgb(200, 0, 0)",pass:"rgb(0 , 128, 128)",switch:"rgb(255, 215, 0)",transition:"rgb(128, 0, 128)",control:"rgb(0, 102, 204)",takedown:"rgb(255, 140, 0)",defence:"rgb(34, 139, 34)",guard:"rgb(139, 69, 19)",defense_escape:"rgba(255, 185, 135, 1)"},ug={fov:80,near:.1,far:1e3,position:[251,-93,-18],dollySpeed:4,minDistance:20,maxDistance:1e3},tr={languageUser:"languageApp",languageDefault:localStorage.getItem("languageApp")||"es",navigationsGestures:"hideNavigationGestures",dagModeCache:"dagMode",dagMode:localStorage.getItem("dagMode")||"td",dagLevelDistanceCache:"dagLevelDistance",dagLevelDistance:localStorage.getItem("dagLevelDistance")||5,systemsCacheNameNodes:"systemsCacheNodes",systemsCacheNameLinks:"systemsCacheLinks",systemsNodesLoaded:[],systemsLinksLoaded:[]},mSe=NM(tr.systemsCacheNameLinks),gSe=NM(tr.systemsCacheNameNodes),E0={AllSystemsNodesArray:gSe,AllSystemsLinksArray:mSe,categories:"taxonomy",subCategory:"subCategories",indexGlobal:"index_global",indexGlobalID:"63keMnlfnUPYdIxLUviv",nodeTaxonomy:"node_taxonomy",tab_ids:"tab_ids",tabs:"tabs",systemsCollections:"systems"},uW={root:"/",loginUser:"/login_user"},ySe=NM(tr.systemsCacheNameLinks),vSe=NM(tr.systemsCacheNameNodes),Sn=tZ((n,e)=>({isAddNodeActive:!1,setIsAddNodeActive:t=>n({isAddNodeActive:t}),isLoginWindowActive:!1,setIsLoginWindowActive:t=>n({isLoginWindowActive:t}),isLoadingFirestore:!1,setIsLoadingFirestore:t=>n({isLoadingFirestore:t}),isUploadFirestore:!1,setIsUploadFirestore:t=>n({isUploadFirestore:t}),isUserLogin:!1,setIsUserLogin:t=>n({isUserLogin:t}),showAlert:!1,alertMessage:"",alertSeverity:"success",isNodeAddViewActive:!1,setIsNodeAddViewActive:t=>n({isNodeAddViewActive:t}),isNodeSceneViewActive:!1,setIsNodeSceneViewActive:t=>n({isNodeSceneViewActive:t}),overlayDontShowAgain:!1,setOverlayDontShowAgain:t=>n({overlayDontShowAgain:t}),languageGlobal:{locale:"es"},setLanguageGlobal:t=>n({languageGlobal:t}),isConfigWindowActive:!1,setIsconfigWindowActive:t=>n({isConfigWindowActive:t}),nodeViewData:null,setNodeViewData:t=>n({nodeViewData:t}),documentsFirestore:[],setDocumentsFirestore:t=>n({documentsFirestore:t}),dagModeConfig:tr.dagMode,setDagModeConfig:t=>n({dagModeConfig:t}),dagLevelDistanceConfig:Number(tr.dagLevelDistance),setDagLevelDistanceConfig:t=>n({dagLevelDistanceConfig:t}),triggerAlert:(t,i="success")=>{n({showAlert:!0,alertMessage:t,alertSeverity:i}),setTimeout(()=>n({showAlert:!1}),4e3)},stepValidation:{step0:!1,step1:!1,step2:!1},validateFns:{},setValidateFn:(t,i)=>n(r=>({validateFns:{...r.validateFns,[t]:i}})),runValidation:async t=>{const i=e().validateFns[t];if(!i)return!1;const r=await i();return n(s=>({stepValidation:{...s.stepValidation,[t]:r}})),r},runSequentialValidation:async t=>{for(const i of t)if(!await e().runValidation(i))return!1;return!0},connectionViewerActiveStep:null,setConnectionViewerActiveStep:t=>n({connectionViewerActiveStep:t}),cameraBackup:null,setCameraBackup:(t,i)=>n({cameraBackup:{pos:t,target:i}}),clearCameraBackup:()=>n({cameraBackup:null}),showFullGraph:!0,setShowFullGraph:t=>n({showFullGraph:t}),systemBjjSelectedNodes:vSe,setSystemBjjSelectedNodes:t=>n({systemBjjSelectedNodes:t}),systemBjjSelectedLinks:ySe,setSystemBjjSelectedLinks:t=>n({systemBjjSelectedLinks:t}),linksData:[],setLinksData:t=>n({linksData:t}),systemsOptions:[],loadSystems:async()=>{try{n({isLoadingFirestore:!0});const t=await Ede();n({systemsOptions:t})}catch(t){console.error("Error loading systems:",t)}finally{n({isLoadingFirestore:!1})}}}));var a3={exports:{}},Sh={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E6;function _Se(){return E6||(E6=1,Sh.ConcurrentRoot=1,Sh.ContinuousEventPriority=8,Sh.DefaultEventPriority=32,Sh.DiscreteEventPriority=2,Sh.IdleEventPriority=268435456,Sh.LegacyRoot=0,Sh.NoEventPriority=0),Sh}var T6;function bSe(){return T6||(T6=1,a3.exports=_Se()),a3.exports}var p2=bSe(),o3={exports:{}},l3={},c3={exports:{}},u3={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w6;function xSe(){if(w6)return u3;w6=1;var n=s_();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(p,y){var v=y(),_=i({inst:{value:v,getSnapshot:y}}),S=_[0].inst,E=_[1];return s(function(){S.value=v,S.getSnapshot=y,c(S)&&E({inst:S})},[p,v,y]),r(function(){return c(S)&&E({inst:S}),p(function(){c(S)&&E({inst:S})})},[p]),a(v),v}function c(p){var y=p.getSnapshot;p=p.value;try{var v=y();return!t(p,v)}catch{return!0}}function u(p,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return u3.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,u3}var C6;function SSe(){return C6||(C6=1,c3.exports=xSe()),c3.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A6;function ESe(){if(A6)return l3;A6=1;var n=s_(),e=SSe();function t(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,c=n.useDebugValue;return l3.useSyncExternalStoreWithSelector=function(u,h,p,y,v){var _=s(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=o(function(){function b(L){if(!w){if(w=!0,A=L,L=y(L),v!==void 0&&S.hasValue){var P=S.value;if(v(P,L))return C=P}return C=L}if(P=C,i(A,L))return P;var U=y(L);return v!==void 0&&v(P,U)?(A=L,P):(A=L,C=U)}var w=!1,A,C,D=p===void 0?null:p;return[function(){return b(h())},D===null?void 0:function(){return b(D())}]},[h,p,y,v]);var E=r(u,_[0],_[1]);return a(function(){S.hasValue=!0,S.value=E},[E]),c(E),E},l3}var M6;function TSe(){return M6||(M6=1,o3.exports=ESe()),o3.exports}var wSe=TSe();const CSe=$p(wSe),{useSyncExternalStoreWithSelector:ASe}=CSe,MSe=n=>n;function RSe(n,e=MSe,t){const i=ASe(n.subscribe,n.getState,n.getInitialState,e,t);return ar.useDebugValue(i),i}const R6=(n,e)=>{const t=EV(n),i=(r,s=e)=>RSe(t,r,s);return Object.assign(i,t),i},fW=((n,e)=>n?R6(n,e):R6);var f3={exports:{}},h3={exports:{}},d3={exports:{}},p3={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O6;function OSe(){return O6||(O6=1,(function(n){function e(q,$){var Q=q.length;q.push($);e:for(;0<Q;){var re=Q-1>>>1,de=q[re];if(0<r(de,$))q[re]=$,q[Q]=de,Q=re;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var $=q[0],Q=q.pop();if(Q!==$){q[0]=Q;e:for(var re=0,de=q.length,Y=de>>>1;re<Y;){var le=2*(re+1)-1,pe=q[le],ue=le+1,ie=q[ue];if(0>r(pe,Q))ue<de&&0>r(ie,pe)?(q[re]=ie,q[ue]=Q,re=ue):(q[re]=pe,q[le]=Q,re=le);else if(ue<de&&0>r(ie,Q))q[re]=ie,q[ue]=Q,re=ue;else break e}}return $}function r(q,$){var Q=q.sortIndex-$.sortIndex;return Q!==0?Q:q.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var c=[],u=[],h=1,p=null,y=3,v=!1,_=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function A(q){for(var $=t(u);$!==null;){if($.callback===null)i(u);else if($.startTime<=q)i(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=t(u)}}function C(q){if(S=!1,A(q),!_)if(t(c)!==null)_=!0,K();else{var $=t(u);$!==null&&ee(C,$.startTime-q)}}var D=!1,L=-1,P=5,U=-1;function I(){return!(n.unstable_now()-U<P)}function N(){if(D){var q=n.unstable_now();U=q;var $=!0;try{e:{_=!1,S&&(S=!1,b(L),L=-1),v=!0;var Q=y;try{t:{for(A(q),p=t(c);p!==null&&!(p.expirationTime>q&&I());){var re=p.callback;if(typeof re=="function"){p.callback=null,y=p.priorityLevel;var de=re(p.expirationTime<=q);if(q=n.unstable_now(),typeof de=="function"){p.callback=de,A(q),$=!0;break t}p===t(c)&&i(c),A(q)}else i(c);p=t(c)}if(p!==null)$=!0;else{var Y=t(u);Y!==null&&ee(C,Y.startTime-q),$=!1}}break e}finally{p=null,y=Q,v=!1}$=void 0}}finally{$?F():D=!1}}}var F;if(typeof w=="function")F=function(){w(N)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,V=z.port2;z.port1.onmessage=N,F=function(){V.postMessage(null)}}else F=function(){E(N,0)};function K(){D||(D=!0,F())}function ee(q,$){L=E(function(){q(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){_||v||(_=!0,K())},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(q){switch(y){case 1:case 2:case 3:var $=3;break;default:$=y}var Q=y;y=$;try{return q()}finally{y=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=y;y=q;try{return $()}finally{y=Q}},n.unstable_scheduleCallback=function(q,$,Q){var re=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?re+Q:re):Q=re,q){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Q+de,q={id:h++,callback:$,priorityLevel:q,startTime:Q,expirationTime:de,sortIndex:-1},Q>re?(q.sortIndex=Q,e(u,q),t(c)===null&&q===t(u)&&(S?(b(L),L=-1):S=!0,ee(C,Q-re))):(q.sortIndex=de,e(c,q),_||v||(_=!0,K())),q},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(q){var $=y;return function(){var Q=y;y=$;try{return q.apply(this,arguments)}finally{y=Q}}}})(p3)),p3}var I6;function hW(){return I6||(I6=1,d3.exports=OSe()),d3.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P6;function ISe(){return P6||(P6=1,(function(n){n.exports=function(e){function t(d,m,T,O){return new F_(d,m,T,O)}function i(){}function r(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)m+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(d){return d===null||typeof d!="object"?null:(d=$_&&d[$_]||d["@@iterator"],typeof d=="function"?d:null)}function a(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===Jf?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case Rd:return"Fragment";case pl:return"Portal";case W_:return"Profiler";case q_:return"StrictMode";case Ry:return"Suspense";case Fu:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case tc:return(d.displayName||"Context")+".Provider";case Bu:return(d._context.displayName||"Context")+".Consumer";case Od:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case _m:return m=d.displayName||null,m!==null?m:a(d.type)||"Memo";case ml:m=d._payload,d=d._init;try{return a(d(m))}catch{}}return null}function o(d){if(Oy===void 0)try{throw Error()}catch(T){var m=T.stack.trim().match(/\n( *(at )?)/);Oy=m&&m[1]||"",X_=-1<T.stack.indexOf(`
    at`)?" (<anonymous>)":-1<T.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oy+d+X_}function c(d,m){if(!d||Vu)return"";Vu=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(m){var It=function(){throw Error()};if(Object.defineProperty(It.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(It,[])}catch(bn){var Nt=bn}Reflect.construct(d,[],It)}else{try{It.call()}catch(bn){Nt=bn}d.call(It.prototype)}}else{try{throw Error()}catch(bn){Nt=bn}(It=d())&&typeof It.catch=="function"&&It.catch(function(){})}}catch(bn){if(bn&&Nt&&typeof bn.stack=="string")return[bn.stack,Nt.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=O.DetermineComponentFrameRoot(),oe=G[0],me=G[1];if(oe&&me){var Ce=oe.split(`
`),Je=me.split(`
`);for(B=O=0;O<Ce.length&&!Ce[O].includes("DetermineComponentFrameRoot");)O++;for(;B<Je.length&&!Je[B].includes("DetermineComponentFrameRoot");)B++;if(O===Ce.length||B===Je.length)for(O=Ce.length-1,B=Je.length-1;1<=O&&0<=B&&Ce[O]!==Je[B];)B--;for(;1<=O&&0<=B;O--,B--)if(Ce[O]!==Je[B]){if(O!==1||B!==1)do if(O--,B--,0>B||Ce[O]!==Je[B]){var bt=`
`+Ce[O].replace(" at new "," at ");return d.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",d.displayName)),bt}while(1<=O&&0<=B);break}}}finally{Vu=!1,Error.prepareStackTrace=T}return(T=d?d.displayName||d.name:"")?o(T):""}function u(d){switch(d.tag){case 26:case 27:case 5:return o(d.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return d=c(d.type,!1),d;case 11:return d=c(d.type.render,!1),d;case 1:return d=c(d.type,!0),d;default:return""}}function h(d){try{var m="";do m+=u(d),d=d.return;while(d);return m}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}function p(d){var m=d,T=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(T=m.return),d=m.return;while(d)}return m.tag===3?T:null}function y(d){if(p(d)!==d)throw Error(r(188))}function v(d){var m=d.alternate;if(!m){if(m=p(d),m===null)throw Error(r(188));return m!==d?null:d}for(var T=d,O=m;;){var B=T.return;if(B===null)break;var G=B.alternate;if(G===null){if(O=B.return,O!==null){T=O;continue}break}if(B.child===G.child){for(G=B.child;G;){if(G===T)return y(B),d;if(G===O)return y(B),m;G=G.sibling}throw Error(r(188))}if(T.return!==O.return)T=B,O=G;else{for(var oe=!1,me=B.child;me;){if(me===T){oe=!0,T=B,O=G;break}if(me===O){oe=!0,O=B,T=G;break}me=me.sibling}if(!oe){for(me=G.child;me;){if(me===T){oe=!0,T=G,O=B;break}if(me===O){oe=!0,O=G,T=B;break}me=me.sibling}if(!oe)throw Error(r(189))}}if(T.alternate!==O)throw Error(r(190))}if(T.tag!==3)throw Error(r(188));return T.stateNode.current===T?d:m}function _(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d;for(d=d.child;d!==null;){if(m=_(d),m!==null)return m;d=d.sibling}return null}function S(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d;for(d=d.child;d!==null;){if(d.tag!==4&&(m=S(d),m!==null))return m;d=d.sibling}return null}function E(d){return{current:d}}function b(d){0>Xc||(d.current=Mm[Xc],Mm[Xc]=null,Xc--)}function w(d,m){Xc++,Mm[Xc]=d.current,d.current=m}function A(d){return d>>>=0,d===0?32:31-(Rm(d)/ME|0)|0}function C(d){var m=d&42;if(m!==0)return m;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function D(d,m){var T=d.pendingLanes;if(T===0)return 0;var O=0,B=d.suspendedLanes,G=d.pingedLanes,oe=d.warmLanes;d=d.finishedLanes!==0;var me=T&134217727;return me!==0?(T=me&~B,T!==0?O=C(T):(G&=me,G!==0?O=C(G):d||(oe=me&~oe,oe!==0&&(O=C(oe))))):(me=T&~B,me!==0?O=C(me):G!==0?O=C(G):d||(oe=T&~oe,oe!==0&&(O=C(oe)))),O===0?0:m!==0&&m!==O&&(m&B)===0&&(B=O&-O,oe=m&-m,B>=oe||B===32&&(oe&4194176)!==0)?m:O}function L(d,m){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&m)===0}function P(d,m){switch(d){case 1:case 2:case 4:case 8:return m+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U(){var d=Nd;return Nd<<=1,(Nd&4194176)===0&&(Nd=128),d}function I(){var d=Om;return Om<<=1,(Om&62914560)===0&&(Om=4194304),d}function N(d){for(var m=[],T=0;31>T;T++)m.push(d);return m}function F(d,m){d.pendingLanes|=m,m!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function z(d,m,T,O,B,G){var oe=d.pendingLanes;d.pendingLanes=T,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=T,d.entangledLanes&=T,d.errorRecoveryDisabledLanes&=T,d.shellSuspendCounter=0;var me=d.entanglements,Ce=d.expirationTimes,Je=d.hiddenUpdates;for(T=oe&~T;0<T;){var bt=31-Na(T),It=1<<bt;me[bt]=0,Ce[bt]=-1;var Nt=Je[bt];if(Nt!==null)for(Je[bt]=null,bt=0;bt<Nt.length;bt++){var bn=Nt[bt];bn!==null&&(bn.lane&=-536870913)}T&=~It}O!==0&&V(d,O,0),G!==0&&B===0&&d.tag!==0&&(d.suspendedLanes|=G&~(oe&~m))}function V(d,m,T){d.pendingLanes|=m,d.suspendedLanes&=~m;var O=31-Na(m);d.entangledLanes|=m,d.entanglements[O]=d.entanglements[O]|1073741824|T&4194218}function K(d,m){var T=d.entangledLanes|=m;for(d=d.entanglements;T;){var O=31-Na(T),B=1<<O;B&m|d[O]&m&&(d[O]|=m),T&=~B}}function ee(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function q(d){if(La&&typeof La.onCommitFiberRoot=="function")try{La.onCommitFiberRoot(Ud,d,void 0,(d.current.flags&128)===128)}catch{}}function $(d){if(typeof PE=="function"&&w1(d),La&&typeof La.setStrictMode=="function")try{La.setStrictMode(Ud,d)}catch{}}function Q(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}function re(d,m){if(typeof d=="object"&&d!==null){var T=$y.get(d);return T!==void 0?T:(m={value:d,source:m,stack:h(m)},$y.set(d,m),m)}return{value:d,source:m,stack:h(m)}}function de(d,m){Ki[mr++]=Dm,Ki[mr++]=Pm,Pm=d,Dm=m}function Y(d,m,T){ho[po++]=ac,ho[po++]=Bo,ho[po++]=gl,gl=d;var O=ac;d=Bo;var B=32-Na(O)-1;O&=~(1<<B),T+=1;var G=32-Na(m)+B;if(30<G){var oe=B-B%5;G=(O&(1<<oe)-1).toString(32),O>>=oe,B-=oe,ac=1<<32-Na(m)+B|T<<B|O,Bo=G+d}else ac=1<<G|T<<B|O,Bo=d}function le(d){d.return!==null&&(de(d,1),Y(d,1,0))}function pe(d){for(;d===Pm;)Pm=Ki[--mr],Ki[mr]=null,Dm=Ki[--mr],Ki[mr]=null;for(;d===gl;)gl=ho[--po],ho[po]=null,Bo=ho[--po],ho[po]=null,ac=ho[--po],ho[po]=null}function ue(d,m){w(yl,m),w(Nm,d),w(xs,null),d=eh(m),b(xs),w(xs,d)}function ie(){b(xs),b(Nm),b(yl)}function he(d){d.memoizedState!==null&&w(kd,d);var m=xs.current,T=oE(m,d.type);m!==T&&(w(Nm,d),w(xs,T))}function ye(d){Nm.current===d&&(b(xs),b(Nm)),kd.current===d&&(b(kd),ic?dn._currentValue=Da:dn._currentValue2=Da)}function Ve(d){var m=Error(r(418,""));throw pt(re(m,d)),Lm}function Xe(d,m){if(!da)throw Error(r(175));WM(d.stateNode,d.type,d.memoizedProps,m,d)||Ve(d)}function Ge(d){for($s=d.return;$s;)switch($s.tag){case 3:case 27:Fo=!0;return;case 5:case 13:Fo=!1;return;default:$s=$s.return}}function rt(d){if(!da||d!==$s)return!1;if(!si)return Ge(d),si=!0,!1;var m=!1;if(Ds?d.tag!==3&&d.tag!==27&&(d.tag!==5||EE(d.type)&&!Gu(d.type,d.memoizedProps))&&(m=!0):d.tag!==3&&(d.tag!==5||EE(d.type)&&!Gu(d.type,d.memoizedProps))&&(m=!0),m&&Ls&&Ve(d),Ge(d),d.tag===13){if(!da)throw Error(r(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));Ls=xE(d)}else Ls=$s?h1(d.stateNode):null;return!0}function lt(){da&&(Ls=$s=null,si=!1)}function pt(d){mo===null?mo=[d]:mo.push(d)}function te(){for(var d=Wu,m=zd=Wu=0;m<d;){var T=go[m];go[m++]=null;var O=go[m];go[m++]=null;var B=go[m];go[m++]=null;var G=go[m];if(go[m++]=null,O!==null&&B!==null){var oe=O.pending;oe===null?B.next=B:(B.next=oe.next,oe.next=B),O.pending=B}G!==0&&Me(T,B,G)}}function Oe(d,m,T,O){go[Wu++]=d,go[Wu++]=m,go[Wu++]=T,go[Wu++]=O,zd|=O,d.lanes|=O,d=d.alternate,d!==null&&(d.lanes|=O)}function Be(d,m,T,O){return Oe(d,m,T,O),ut(d)}function Ne(d,m){return Oe(d,null,null,m),ut(d)}function Me(d,m,T){d.lanes|=T;var O=d.alternate;O!==null&&(O.lanes|=T);for(var B=!1,G=d.return;G!==null;)G.childLanes|=T,O=G.alternate,O!==null&&(O.childLanes|=T),G.tag===22&&(d=G.stateNode,d===null||d._visibility&1||(B=!0)),d=G,G=G.return;B&&m!==null&&d.tag===3&&(G=d.stateNode,B=31-Na(T),G=G.hiddenUpdates,d=G[B],d===null?G[B]=[m]:d.push(m),m.lane=T|536870912)}function ut(d){if(50<fh)throw fh=0,ga=null,Error(r(185));for(var m=d.return;m!==null;)d=m,m=d.return;return d.tag===3?d.stateNode:null}function qe(d){d!==rh&&d.next===null&&(rh===null?Bd=rh=d:rh=rh.next=d),km=!0,Um||(Um=!0,Re(J))}function ae(d,m){if(!vl&&km){vl=!0;do for(var T=!1,O=Bd;O!==null;){if(d!==0){var B=O.pendingLanes;if(B===0)var G=0;else{var oe=O.suspendedLanes,me=O.pingedLanes;G=(1<<31-Na(42|d)+1)-1,G&=B&~(oe&~me),G=G&201326677?G&201326677|1:G?G|2:0}G!==0&&(T=!0,Ze(O,G))}else G=Fn,G=D(O,O===qn?G:0),(G&3)===0||L(O,G)||(T=!0,Ze(O,G));O=O.next}while(T);vl=!1}}function J(){km=Um=!1;var d=0;$u!==0&&(qu()&&(d=$u),$u=0);for(var m=Ns(),T=null,O=Bd;O!==null;){var B=O.next,G=Se(O,m);G===0?(O.next=null,T===null?Bd=B:T.next=B,B===null&&(rh=T)):(T=O,(d!==0||(G&3)!==0)&&(km=!0)),O=B}ae(d)}function Se(d,m){for(var T=d.suspendedLanes,O=d.pingedLanes,B=d.expirationTimes,G=d.pendingLanes&-62914561;0<G;){var oe=31-Na(G),me=1<<oe,Ce=B[oe];Ce===-1?((me&T)===0||(me&O)!==0)&&(B[oe]=P(me,m)):Ce<=m&&(d.expiredLanes|=me),G&=~me}if(m=qn,T=Fn,T=D(d,d===m?T:0),O=d.callbackNode,T===0||d===m&&Pi===2||d.cancelPendingCommit!==null)return O!==null&&O!==null&&Im(O),d.callbackNode=null,d.callbackPriority=0;if((T&3)===0||L(d,T)){if(m=T&-T,m===d.callbackPriority)return m;switch(O!==null&&Im(O),ee(T)){case 2:case 8:T=IE;break;case 32:T=qy;break;case 268435456:T=Wy;break;default:T=qy}return O=Ae.bind(null,d),T=Ld(T,O),d.callbackPriority=m,d.callbackNode=T,m}return O!==null&&O!==null&&Im(O),d.callbackPriority=2,d.callbackNode=null,2}function Ae(d,m){var T=d.callbackNode;if(_s()&&d.callbackNode!==T)return null;var O=Fn;return O=D(d,d===qn?O:0),O===0?null:(pm(d,O,m),Se(d,Ns()),d.callbackNode!=null&&d.callbackNode===T?Ae.bind(null,d):null)}function Ze(d,m){if(_s())return null;pm(d,m,!0)}function Re(d){Wr?Ny(function(){(Kt&6)!==0?Ld(T1,d):d()}):Ld(T1,d)}function ct(){return $u===0&&($u=U()),$u}function ft(d,m){if(zm===null){var T=zm=[];Xy=0,Ua=ct(),Xu={status:"pending",value:void 0,then:function(O){T.push(O)}}}return Xy++,m.then(Dt,Dt),m}function Dt(){if(--Xy===0&&zm!==null){Xu!==null&&(Xu.status="fulfilled");var d=zm;zm=null,Ua=0,Xu=null;for(var m=0;m<d.length;m++)(0,d[m])()}}function kt(d,m){var T=[],O={status:"pending",value:null,reason:null,then:function(B){T.push(B)}};return d.then(function(){O.status="fulfilled",O.value=m;for(var B=0;B<T.length;B++)(0,T[B])(m)},function(B){for(O.status="rejected",O.reason=B,B=0;B<T.length;B++)(0,T[B])(void 0)}),O}function $e(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dt(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function wt(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function At(d,m,T){var O=d.updateQueue;if(O===null)return null;if(O=O.shared,(Kt&2)!==0){var B=O.pending;return B===null?m.next=m:(m.next=B.next,B.next=m),O.pending=m,m=ut(d),Me(d,null,T),m}return Oe(d,O,m,T),ut(d)}function vt(d,m,T){if(m=m.updateQueue,m!==null&&(m=m.shared,(T&4194176)!==0)){var O=m.lanes;O&=d.pendingLanes,T|=O,m.lanes=T,K(d,T)}}function jt(d,m){var T=d.updateQueue,O=d.alternate;if(O!==null&&(O=O.updateQueue,T===O)){var B=null,G=null;if(T=T.firstBaseUpdate,T!==null){do{var oe={lane:T.lane,tag:T.tag,payload:T.payload,callback:null,next:null};G===null?B=G=oe:G=G.next=oe,T=T.next}while(T!==null);G===null?B=G=m:G=G.next=m}else B=G=m;T={baseState:O.baseState,firstBaseUpdate:B,lastBaseUpdate:G,shared:O.shared,callbacks:O.callbacks},d.updateQueue=T;return}d=T.lastBaseUpdate,d===null?T.firstBaseUpdate=m:d.next=m,T.lastBaseUpdate=m}function ot(){if(Fd){var d=Xu;if(d!==null)throw d}}function Lt(d,m,T,O){Fd=!1;var B=d.updateQueue;Yc=!1;var G=B.firstBaseUpdate,oe=B.lastBaseUpdate,me=B.shared.pending;if(me!==null){B.shared.pending=null;var Ce=me,Je=Ce.next;Ce.next=null,oe===null?G=Je:oe.next=Je,oe=Ce;var bt=d.alternate;bt!==null&&(bt=bt.updateQueue,me=bt.lastBaseUpdate,me!==oe&&(me===null?bt.firstBaseUpdate=Je:me.next=Je,bt.lastBaseUpdate=Ce))}if(G!==null){var It=B.baseState;oe=0,bt=Je=Ce=null,me=G;do{var Nt=me.lane&-536870913,bn=Nt!==me.lane;if(bn?(Fn&Nt)===Nt:(O&Nt)===Nt){Nt!==0&&Nt===Ua&&(Fd=!0),bt!==null&&(bt=bt.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var Fa=d,Hm=me;Nt=m;var hh=T;switch(Hm.tag){case 1:if(Fa=Hm.payload,typeof Fa=="function"){It=Fa.call(hh,It,Nt);break e}It=Fa;break e;case 3:Fa.flags=Fa.flags&-65537|128;case 0:if(Fa=Hm.payload,Nt=typeof Fa=="function"?Fa.call(hh,It,Nt):Fa,Nt==null)break e;It=Qf({},It,Nt);break e;case 2:Yc=!0}}Nt=me.callback,Nt!==null&&(d.flags|=64,bn&&(d.flags|=8192),bn=B.callbacks,bn===null?B.callbacks=[Nt]:bn.push(Nt))}else bn={lane:Nt,tag:me.tag,payload:me.payload,callback:me.callback,next:null},bt===null?(Je=bt=bn,Ce=It):bt=bt.next=bn,oe|=Nt;if(me=me.next,me===null){if(me=B.shared.pending,me===null)break;bn=me,me=bn.next,bn.next=null,B.lastBaseUpdate=bn,B.shared.pending=null}}while(!0);bt===null&&(Ce=It),B.baseState=Ce,B.firstBaseUpdate=Je,B.lastBaseUpdate=bt,G===null&&(B.shared.lanes=0),bo|=oe,d.lanes=oe,d.memoizedState=It}}function ve(d,m){if(typeof d!="function")throw Error(r(191,d));d.call(m)}function gt(d,m){var T=d.callbacks;if(T!==null)for(d.callbacks=null,d=0;d<T.length;d++)ve(T[d],m)}function Fe(d,m){if(fo(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var T=Object.keys(d),O=Object.keys(m);if(T.length!==O.length)return!1;for(O=0;O<T.length;O++){var B=T[O];if(!Bm.call(m,B)||!fo(d[B],m[B]))return!1}return!0}function Qe(d){return d=d.status,d==="fulfilled"||d==="rejected"}function xt(){}function _t(d,m,T){switch(T=d[T],T===void 0?d.push(m):T!==m&&(m.then(xt,xt),m=T),m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,d===Mi?Error(r(483)):d;default:if(typeof m.status=="string")m.then(xt,xt);else{if(d=qn,d!==null&&100<d.shellSuspendCounter)throw Error(r(482));d=m,d.status="pending",d.then(function(O){if(m.status==="pending"){var B=m;B.status="fulfilled",B.value=O}},function(O){if(m.status==="pending"){var B=m;B.status="rejected",B.reason=O}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,d===Mi?Error(r(483)):d}throw sh=m,Mi}}function Qt(){if(sh===null)throw Error(r(459));var d=sh;return sh=null,d}function $n(d){var m=Vo;return Vo+=1,oc===null&&(oc=[]),_t(oc,d,m)}function zt(d,m){m=m.props.ref,d.ref=m!==void 0?m:null}function Jt(d,m){throw m.$$typeof===G_?Error(r(525)):(d=Object.prototype.toString.call(m),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d)))}function St(d){var m=d._init;return m(d._payload)}function Mt(d){function m(Ue,Te){if(d){var He=Ue.deletions;He===null?(Ue.deletions=[Te],Ue.flags|=16):He.push(Te)}}function T(Ue,Te){if(!d)return null;for(;Te!==null;)m(Ue,Te),Te=Te.sibling;return null}function O(Ue){for(var Te=new Map;Ue!==null;)Ue.key!==null?Te.set(Ue.key,Ue):Te.set(Ue.index,Ue),Ue=Ue.sibling;return Te}function B(Ue,Te){return Ue=qs(Ue,Te),Ue.index=0,Ue.sibling=null,Ue}function G(Ue,Te,He){return Ue.index=He,d?(He=Ue.alternate,He!==null?(He=He.index,He<Te?(Ue.flags|=33554434,Te):He):(Ue.flags|=33554434,Te)):(Ue.flags|=1048576,Te)}function oe(Ue){return d&&Ue.alternate===null&&(Ue.flags|=33554434),Ue}function me(Ue,Te,He,ht){return Te===null||Te.tag!==6?(Te=zu(He,Ue.mode,ht),Te.return=Ue,Te):(Te=B(Te,He),Te.return=Ue,Te)}function Ce(Ue,Te,He,ht){var Wt=He.type;return Wt===Rd?bt(Ue,Te,He.props.children,ht,He.key):Te!==null&&(Te.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===ml&&St(Wt)===Te.type)?(Te=B(Te,He.props),zt(Te,He),Te.return=Ue,Te):(Te=ko(He.type,He.key,He.props,null,Ue.mode,ht),zt(Te,He),Te.return=Ue,Te)}function Je(Ue,Te,He,ht){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==He.containerInfo||Te.stateNode.implementation!==He.implementation?(Te=Md(He,Ue.mode,ht),Te.return=Ue,Te):(Te=B(Te,He.children||[]),Te.return=Ue,Te)}function bt(Ue,Te,He,ht,Wt){return Te===null||Te.tag!==7?(Te=jc(He,Ue.mode,ht,Wt),Te.return=Ue,Te):(Te=B(Te,He),Te.return=Ue,Te)}function It(Ue,Te,He){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Te=zu(""+Te,Ue.mode,He),Te.return=Ue,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case Gc:return He=ko(Te.type,Te.key,Te.props,null,Ue.mode,He),zt(He,Te),He.return=Ue,He;case pl:return Te=Md(Te,Ue.mode,He),Te.return=Ue,Te;case ml:var ht=Te._init;return Te=ht(Te._payload),It(Ue,Te,He)}if(Hu(Te)||s(Te))return Te=jc(Te,Ue.mode,He,null),Te.return=Ue,Te;if(typeof Te.then=="function")return It(Ue,$n(Te),He);if(Te.$$typeof===tc)return It(Ue,je(Ue,Te),He);Jt(Ue,Te)}return null}function Nt(Ue,Te,He,ht){var Wt=Te!==null?Te.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Wt!==null?null:me(Ue,Te,""+He,ht);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case Gc:return He.key===Wt?Ce(Ue,Te,He,ht):null;case pl:return He.key===Wt?Je(Ue,Te,He,ht):null;case ml:return Wt=He._init,He=Wt(He._payload),Nt(Ue,Te,He,ht)}if(Hu(He)||s(He))return Wt!==null?null:bt(Ue,Te,He,ht,null);if(typeof He.then=="function")return Nt(Ue,Te,$n(He),ht);if(He.$$typeof===tc)return Nt(Ue,Te,je(Ue,He),ht);Jt(Ue,He)}return null}function bn(Ue,Te,He,ht,Wt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Ue=Ue.get(He)||null,me(Te,Ue,""+ht,Wt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case Gc:return Ue=Ue.get(ht.key===null?He:ht.key)||null,Ce(Te,Ue,ht,Wt);case pl:return Ue=Ue.get(ht.key===null?He:ht.key)||null,Je(Te,Ue,ht,Wt);case ml:var ji=ht._init;return ht=ji(ht._payload),bn(Ue,Te,He,ht,Wt)}if(Hu(ht)||s(ht))return Ue=Ue.get(He)||null,bt(Te,Ue,ht,Wt,null);if(typeof ht.then=="function")return bn(Ue,Te,He,$n(ht),Wt);if(ht.$$typeof===tc)return bn(Ue,Te,He,je(Te,ht),Wt);Jt(Te,ht)}return null}function Fa(Ue,Te,He,ht){for(var Wt=null,ji=null,pn=Te,oi=Te=0,os=null;pn!==null&&oi<He.length;oi++){pn.index>oi?(os=pn,pn=null):os=pn.sibling;var li=Nt(Ue,pn,He[oi],ht);if(li===null){pn===null&&(pn=os);break}d&&pn&&li.alternate===null&&m(Ue,pn),Te=G(li,Te,oi),ji===null?Wt=li:ji.sibling=li,ji=li,pn=os}if(oi===He.length)return T(Ue,pn),si&&de(Ue,oi),Wt;if(pn===null){for(;oi<He.length;oi++)pn=It(Ue,He[oi],ht),pn!==null&&(Te=G(pn,Te,oi),ji===null?Wt=pn:ji.sibling=pn,ji=pn);return si&&de(Ue,oi),Wt}for(pn=O(pn);oi<He.length;oi++)os=bn(pn,Ue,oi,He[oi],ht),os!==null&&(d&&os.alternate!==null&&pn.delete(os.key===null?oi:os.key),Te=G(os,Te,oi),ji===null?Wt=os:ji.sibling=os,ji=os);return d&&pn.forEach(function(nu){return m(Ue,nu)}),si&&de(Ue,oi),Wt}function Hm(Ue,Te,He,ht){if(He==null)throw Error(r(151));for(var Wt=null,ji=null,pn=Te,oi=Te=0,os=null,li=He.next();pn!==null&&!li.done;oi++,li=He.next()){pn.index>oi?(os=pn,pn=null):os=pn.sibling;var nu=Nt(Ue,pn,li.value,ht);if(nu===null){pn===null&&(pn=os);break}d&&pn&&nu.alternate===null&&m(Ue,pn),Te=G(nu,Te,oi),ji===null?Wt=nu:ji.sibling=nu,ji=nu,pn=os}if(li.done)return T(Ue,pn),si&&de(Ue,oi),Wt;if(pn===null){for(;!li.done;oi++,li=He.next())li=It(Ue,li.value,ht),li!==null&&(Te=G(li,Te,oi),ji===null?Wt=li:ji.sibling=li,ji=li);return si&&de(Ue,oi),Wt}for(pn=O(pn);!li.done;oi++,li=He.next())li=bn(pn,Ue,oi,li.value,ht),li!==null&&(d&&li.alternate!==null&&pn.delete(li.key===null?oi:li.key),Te=G(li,Te,oi),ji===null?Wt=li:ji.sibling=li,ji=li);return d&&pn.forEach(function(iv){return m(Ue,iv)}),si&&de(Ue,oi),Wt}function hh(Ue,Te,He,ht){if(typeof He=="object"&&He!==null&&He.type===Rd&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case Gc:e:{for(var Wt=He.key;Te!==null;){if(Te.key===Wt){if(Wt=He.type,Wt===Rd){if(Te.tag===7){T(Ue,Te.sibling),ht=B(Te,He.props.children),ht.return=Ue,Ue=ht;break e}}else if(Te.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===ml&&St(Wt)===Te.type){T(Ue,Te.sibling),ht=B(Te,He.props),zt(ht,He),ht.return=Ue,Ue=ht;break e}T(Ue,Te);break}else m(Ue,Te);Te=Te.sibling}He.type===Rd?(ht=jc(He.props.children,Ue.mode,ht,He.key),ht.return=Ue,Ue=ht):(ht=ko(He.type,He.key,He.props,null,Ue.mode,ht),zt(ht,He),ht.return=Ue,Ue=ht)}return oe(Ue);case pl:e:{for(Wt=He.key;Te!==null;){if(Te.key===Wt)if(Te.tag===4&&Te.stateNode.containerInfo===He.containerInfo&&Te.stateNode.implementation===He.implementation){T(Ue,Te.sibling),ht=B(Te,He.children||[]),ht.return=Ue,Ue=ht;break e}else{T(Ue,Te);break}else m(Ue,Te);Te=Te.sibling}ht=Md(He,Ue.mode,ht),ht.return=Ue,Ue=ht}return oe(Ue);case ml:return Wt=He._init,He=Wt(He._payload),hh(Ue,Te,He,ht)}if(Hu(He))return Fa(Ue,Te,He,ht);if(s(He)){if(Wt=s(He),typeof Wt!="function")throw Error(r(150));return He=Wt.call(He),Hm(Ue,Te,He,ht)}if(typeof He.then=="function")return hh(Ue,Te,$n(He),ht);if(He.$$typeof===tc)return hh(Ue,Te,je(Ue,He),ht);Jt(Ue,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,Te!==null&&Te.tag===6?(T(Ue,Te.sibling),ht=B(Te,He),ht.return=Ue,Ue=ht):(T(Ue,Te),ht=zu(He,Ue.mode,ht),ht.return=Ue,Ue=ht),oe(Ue)):T(Ue,Te)}return function(Ue,Te,He,ht){try{Vo=0;var Wt=hh(Ue,Te,He,ht);return oc=null,Wt}catch(pn){if(pn===Mi)throw pn;var ji=t(29,pn,null,Ue.mode);return ji.lanes=ht,ji.return=Ue,ji}finally{}}}function kn(d,m){d=_l,w(yo,d),w(lc,m),_l=d|m.baseLanes}function _n(){w(yo,_l),w(lc,lc.current)}function zn(){_l=yo.current,b(lc),b(yo)}function Li(d){var m=d.alternate;w($r,$r.current&1),w(vo,d),Ho===null&&(m===null||lc.current!==null||m.memoizedState!==null)&&(Ho=d)}function Rs(d){if(d.tag===22){if(w($r,$r.current),w(vo,d),Ho===null){var m=d.alternate;m!==null&&m.memoizedState!==null&&(Ho=d)}}else $i()}function $i(){w($r,$r.current),w(vo,vo.current)}function Hr(d){b(vo),Ho===d&&(Ho=null),b($r)}function jr(d){for(var m=d;m!==null;){if(m.tag===13){var T=m.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||By(T)||Am(T)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function yn(){throw Error(r(321))}function fr(d,m){if(m===null)return!1;for(var T=0;T<m.length&&T<d.length;T++)if(!fo(d[T],m[T]))return!1;return!0}function aa(d,m,T,O,B,G){return cc=G,In=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,rn.H=d===null||d.memoizedState===null?Xr:Xs,Kc=!1,G=T(O,B),Kc=!1,Zi&&(G=io(m,T,O,B)),ll(d),G}function ll(d){rn.H=ai;var m=yi!==null&&yi.next!==null;if(cc=0,Ar=yi=In=null,jo=!1,gr=0,Vd=null,m)throw Error(r(300));d===null||Mr||(d=d.dependencies,d!==null&&X(d)&&(Mr=!0))}function io(d,m,T,O){In=d;var B=0;do{if(Zi&&(Vd=null),gr=0,Zi=!1,25<=B)throw Error(r(301));if(B+=1,Ar=yi=null,d.updateQueue!=null){var G=d.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}rn.H=Ku,G=m(T,O)}while(Zi);return G}function ad(){var d=rn.H,m=d.useState()[0];return m=typeof m.then=="function"?Le(m):m,d=d.useState()[0],(yi!==null?yi.memoizedState:null)!==d&&(In.flags|=1024),m}function Pc(){var d=Fm!==0;return Fm=0,d}function ro(d,m,T){m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~T}function cl(d){if(jo){for(d=d.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}jo=!1}cc=0,Ar=yi=In=null,Zi=!1,gr=Fm=0,Vd=null}function se(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?In.memoizedState=Ar=d:Ar=Ar.next=d,Ar}function _e(){if(yi===null){var d=In.alternate;d=d!==null?d.memoizedState:null}else d=yi.next;var m=Ar===null?In.memoizedState:Ar.next;if(m!==null)Ar=m,yi=d;else{if(d===null)throw In.alternate===null?Error(r(467)):Error(r(310));yi=d,d={memoizedState:yi.memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},Ar===null?In.memoizedState=Ar=d:Ar=Ar.next=d}return Ar}function Le(d){var m=gr;return gr+=1,Vd===null&&(Vd=[]),d=_t(Vd,d,m),m=In,(Ar===null?m.memoizedState:Ar.next)===null&&(m=m.alternate,rn.H=m===null||m.memoizedState===null?Xr:Xs),d}function De(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return Le(d);if(d.$$typeof===tc)return Ee(d)}throw Error(r(438,String(d)))}function xe(d){var m=null,T=In.updateQueue;if(T!==null&&(m=T.memoCache),m==null){var O=In.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(m={data:O.data.map(function(B){return B.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),T===null&&(T=Ky(),In.updateQueue=T),T.memoCache=m,T=m.data[m.index],T===void 0)for(T=m.data[m.index]=Array(d),O=0;O<d;O++)T[O]=aE;return m.index++,T}function st(d,m){return typeof m=="function"?m(d):m}function Tt(d){var m=_e();return Ct(m,yi,d)}function Ct(d,m,T){var O=d.queue;if(O===null)throw Error(r(311));O.lastRenderedReducer=T;var B=d.baseQueue,G=O.pending;if(G!==null){if(B!==null){var oe=B.next;B.next=G.next,G.next=oe}m.baseQueue=B=G,O.pending=null}if(G=d.baseState,B===null)d.memoizedState=G;else{m=B.next;var me=oe=null,Ce=null,Je=m,bt=!1;do{var It=Je.lane&-536870913;if(It!==Je.lane?(Fn&It)===It:(cc&It)===It){var Nt=Je.revertLane;if(Nt===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),It===Ua&&(bt=!0);else if((cc&Nt)===Nt){Je=Je.next,Nt===Ua&&(bt=!0);continue}else It={lane:0,revertLane:Je.revertLane,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Ce===null?(me=Ce=It,oe=G):Ce=Ce.next=It,In.lanes|=Nt,bo|=Nt;It=Je.action,Kc&&T(G,It),G=Je.hasEagerState?Je.eagerState:T(G,It)}else Nt={lane:It,revertLane:Je.revertLane,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Ce===null?(me=Ce=Nt,oe=G):Ce=Ce.next=Nt,In.lanes|=It,bo|=It;Je=Je.next}while(Je!==null&&Je!==m);if(Ce===null?oe=G:Ce.next=me,!fo(G,d.memoizedState)&&(Mr=!0,bt&&(T=Xu,T!==null)))throw T;d.memoizedState=G,d.baseState=oe,d.baseQueue=Ce,O.lastRenderedState=G}return B===null&&(O.lanes=0),[d.memoizedState,O.dispatch]}function Ot(d){var m=_e(),T=m.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=d;var O=T.dispatch,B=T.pending,G=m.memoizedState;if(B!==null){T.pending=null;var oe=B=B.next;do G=d(G,oe.action),oe=oe.next;while(oe!==B);fo(G,m.memoizedState)||(Mr=!0),m.memoizedState=G,m.baseQueue===null&&(m.baseState=G),T.lastRenderedState=G}return[G,O]}function sn(d,m,T){var O=In,B=_e(),G=si;if(G){if(T===void 0)throw Error(r(407));T=T()}else T=m();var oe=!fo((yi||B).memoizedState,T);if(oe&&(B.memoizedState=T,Mr=!0),B=B.queue,Uf(Bn.bind(null,O,B,d),[d]),B.getSnapshot!==m||oe||Ar!==null&&Ar.memoizedState.tag&1){if(O.flags|=2048,Os(9,Gt.bind(null,O,B,T,m),{destroy:void 0},null),qn===null)throw Error(r(349));G||(cc&60)!==0||en(O,m,T)}return T}function en(d,m,T){d.flags|=16384,d={getSnapshot:m,value:T},m=In.updateQueue,m===null?(m=Ky(),In.updateQueue=m,m.stores=[d]):(T=m.stores,T===null?m.stores=[d]:T.push(d))}function Gt(d,m,T,O){m.value=T,m.getSnapshot=O,Ln(m)&&bi(d)}function Bn(d,m,T){return T(function(){Ln(m)&&bi(d)})}function Ln(d){var m=d.getSnapshot;d=d.value;try{var T=m();return!fo(d,T)}catch{return!0}}function bi(d){var m=Ne(d,2);m!==null&&Gs(m,d,2)}function Wn(d){var m=se();if(typeof d=="function"){var T=d;if(d=T(),Kc){$(!0);try{T()}finally{$(!1)}}}return m.memoizedState=m.baseState=d,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:d},m}function un(d,m,T,O){return d.baseState=T,Ct(d,yi,typeof O=="function"?O:st)}function Xt(d,m,T,O,B){if(Gl(d))throw Error(r(485));if(d=m.action,d!==null){var G={payload:B,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(oe){G.listeners.push(oe)}};rn.T!==null?T(!0):G.isTransition=!1,O(G),T=m.pending,T===null?(G.next=m.pending=G,hr(m,G)):(G.next=T.next,m.pending=T.next=G)}}function hr(d,m){var T=m.action,O=m.payload,B=d.state;if(m.isTransition){var G=rn.T,oe={};rn.T=oe;try{var me=T(B,O),Ce=rn.S;Ce!==null&&Ce(oe,me),Gn(d,m,me)}catch(Je){oa(d,m,Je)}finally{rn.T=G}}else try{G=T(B,O),Gn(d,m,G)}catch(Je){oa(d,m,Je)}}function Gn(d,m,T){T!==null&&typeof T=="object"&&typeof T.then=="function"?T.then(function(O){ms(d,m,O)},function(O){return oa(d,m,O)}):ms(d,m,T)}function ms(d,m,T){m.status="fulfilled",m.value=T,nr(m),d.state=T,m=d.pending,m!==null&&(T=m.next,T===m?d.pending=null:(T=T.next,m.next=T,hr(d,T)))}function oa(d,m,T){var O=d.pending;if(d.pending=null,O!==null){O=O.next;do m.status="rejected",m.reason=T,nr(m),m=m.next;while(m!==O)}d.action=null}function nr(d){d=d.listeners;for(var m=0;m<d.length;m++)(0,d[m])()}function Ai(d,m){return m}function ei(d,m){if(si){var T=qn.formState;if(T!==null){e:{var O=In;if(si){if(Ls){var B=dE(Ls,Fo);if(B){Ls=h1(B),O=pE(B);break e}}Ve(O)}O=!1}O&&(m=T[0])}}T=se(),T.memoizedState=T.baseState=m,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:m},T.queue=O,T=zf.bind(null,In,O),O.dispatch=T,O=Wn(!1);var G=jl.bind(null,In,!1,O.queue);return O=se(),B={state:m,dispatch:null,action:d,pending:null},O.queue=B,T=Xt.bind(null,In,B,G,T),B.dispatch=T,O.memoizedState=d,[m,T,!1]}function Er(d){var m=_e();return Gr(m,yi,d)}function Gr(d,m,T){m=Ct(d,m,Ai)[0],d=Tt(st)[0],m=typeof m=="object"&&m!==null&&typeof m.then=="function"?Le(m):m;var O=_e(),B=O.queue,G=B.dispatch;return T!==O.memoizedState&&(In.flags|=2048,Os(9,hn.bind(null,B,T),{destroy:void 0},null)),[m,G,d]}function hn(d,m){d.action=m}function or(d){var m=_e(),T=yi;if(T!==null)return Gr(m,T,d);_e(),m=m.memoizedState,T=_e();var O=T.queue.dispatch;return T.memoizedState=d,[m,O,!1]}function Os(d,m,T,O){return d={tag:d,create:m,inst:T,deps:O,next:null},m=In.updateQueue,m===null&&(m=Ky(),In.updateQueue=m),T=m.lastEffect,T===null?m.lastEffect=d.next=d:(O=T.next,T.next=d,d.next=O,m.lastEffect=d),d}function Tr(){return _e().memoizedState}function od(d,m,T,O){var B=se();In.flags|=d,B.memoizedState=Os(1|m,T,{destroy:void 0},O===void 0?null:O)}function Eu(d,m,T,O){var B=_e();O=O===void 0?null:O;var G=B.memoizedState.inst;yi!==null&&O!==null&&fr(O,yi.memoizedState.deps)?B.memoizedState=Os(m,T,G,O):(In.flags|=d,B.memoizedState=Os(1|m,T,G,O))}function nm(d,m){od(8390656,8,d,m)}function Uf(d,m){Eu(2048,8,d,m)}function dy(d,m){return Eu(4,2,d,m)}function py(d,m){return Eu(4,4,d,m)}function ul(d,m){if(typeof m=="function"){d=d();var T=m(d);return function(){typeof T=="function"?T():m(null)}}if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function is(d,m,T){T=T!=null?T.concat([d]):null,Eu(4,4,ul.bind(null,m,d),T)}function Tu(){}function kf(d,m){var T=_e();m=m===void 0?null:m;var O=T.memoizedState;return m!==null&&fr(m,O[1])?O[0]:(T.memoizedState=[d,m],d)}function Vl(d,m){var T=_e();m=m===void 0?null:m;var O=T.memoizedState;if(m!==null&&fr(m,O[1]))return O[0];if(O=d(),Kc){$(!0);try{d()}finally{$(!1)}}return T.memoizedState=[O,m],O}function la(d,m,T){return T===void 0||(cc&1073741824)!==0?d.memoizedState=m:(d.memoizedState=T,d=Zl(),In.lanes|=d,bo|=d,T)}function im(d,m,T,O){return fo(T,m)?T:lc.current!==null?(d=la(d,T,O),fo(d,m)||(Mr=!0),d):(cc&42)===0?(Mr=!0,d.memoizedState=T):(d=Zl(),In.lanes|=d,bo|=d,m)}function ld(d,m,T,O,B){var G=ss();Ws(G!==0&&8>G?G:8);var oe=rn.T,me={};rn.T=me,jl(d,!1,m,T);try{var Ce=B(),Je=rn.S;if(Je!==null&&Je(me,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var bt=kt(Ce,O);Ma(d,m,bt,ha(d))}else Ma(d,m,O,ha(d))}catch(It){Ma(d,m,{then:function(){},status:"rejected",reason:It},ha())}finally{Ws(G),rn.T=oe}}function rm(d){var m=d.memoizedState;if(m!==null)return m;m={memoizedState:Da,baseState:Da,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:Da},next:null};var T={};return m.next={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:T},next:null},d.memoizedState=m,d=d.alternate,d!==null&&(d.memoizedState=m),m}function Fs(){return Ee(dn)}function No(){return _e().memoizedState}function cd(){return _e().memoizedState}function Hl(d){for(var m=d.return;m!==null;){switch(m.tag){case 24:case 3:var T=ha();d=wt(T);var O=At(m,d,T);O!==null&&(Gs(O,m,T),vt(O,m,T)),m={cache:fi()},d.payload=m;return}m=m.return}}function so(d,m,T){var O=ha();T={lane:O,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null},Gl(d)?Dc(m,T):(T=Be(d,m,T,O),T!==null&&(Gs(T,d,O),Vi(T,m,O)))}function zf(d,m,T){var O=ha();Ma(d,m,T,O)}function Ma(d,m,T,O){var B={lane:O,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null};if(Gl(d))Dc(m,B);else{var G=d.alternate;if(d.lanes===0&&(G===null||G.lanes===0)&&(G=m.lastRenderedReducer,G!==null))try{var oe=m.lastRenderedState,me=G(oe,T);if(B.hasEagerState=!0,B.eagerState=me,fo(me,oe))return Oe(d,m,B,0),qn===null&&te(),!1}catch{}finally{}if(T=Be(d,m,B,O),T!==null)return Gs(T,d,O),Vi(T,m,O),!0}return!1}function jl(d,m,T,O){if(O={lane:2,revertLane:ct(),action:O,hasEagerState:!1,eagerState:null,next:null},Gl(d)){if(m)throw Error(r(479))}else m=Be(d,T,O,2),m!==null&&Gs(m,d,2)}function Gl(d){var m=d.alternate;return d===In||m!==null&&m===In}function Dc(d,m){Zi=jo=!0;var T=d.pending;T===null?m.next=m:(m.next=T.next,T.next=m),d.pending=m}function Vi(d,m,T){if((T&4194176)!==0){var O=m.lanes;O&=d.pendingLanes,T|=O,m.lanes=T,K(d,T)}}function gs(d,m,T,O){m=d.memoizedState,T=T(O,m),T=T==null?m:Qf({},m,T),d.memoizedState=T,d.lanes===0&&(d.updateQueue.baseState=T)}function ql(d,m,T,O,B,G,oe){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(O,G,oe):m.prototype&&m.prototype.isPureReactComponent?!Fe(T,O)||!Fe(B,G):!0}function wu(d,m,T,O){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(T,O),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(T,O),m.state!==d&&Zy.enqueueReplaceState(m,m.state,null)}function Ra(d,m){var T=m;if("ref"in m){T={};for(var O in m)O!=="ref"&&(T[O]=m[O])}if(d=d.defaultProps){T===m&&(T=Qf({},T));for(var B in d)T[B]===void 0&&(T[B]=d[B])}return T}function Bf(d,m){try{var T=d.onUncaughtError;T(m.value,{componentStack:m.stack})}catch(O){setTimeout(function(){throw O})}}function Nc(d,m,T){try{var O=d.onCaughtError;O(T.value,{componentStack:T.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function Cu(d,m,T){return T=wt(T),T.tag=3,T.payload={element:null},T.callback=function(){Bf(d,m)},T}function Vs(d){return d=wt(d),d.tag=3,d}function Au(d,m,T,O){var B=T.type.getDerivedStateFromError;if(typeof B=="function"){var G=O.value;d.payload=function(){return B(G)},d.callback=function(){Nc(m,T,O)}}var oe=T.stateNode;oe!==null&&typeof oe.componentDidCatch=="function"&&(d.callback=function(){Nc(m,T,O),typeof B!="function"&&(So===null?So=new Set([this]):So.add(this));var me=O.stack;this.componentDidCatch(O.value,{componentStack:me!==null?me:""})})}function my(d,m,T,O,B){if(T.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(m=T.alternate,m!==null&&j(m,T,B,!0),T=vo.current,T!==null){switch(T.tag){case 13:return Ho===null?Pa():T.alternate===null&&ni===0&&(ni=3),T.flags&=-257,T.flags|=65536,T.lanes=B,O===Yy?T.flags|=16384:(m=T.updateQueue,m===null?T.updateQueue=new Set([O]):m.add(O),Ay(d,O,B)),!1;case 22:return T.flags|=65536,O===Yy?T.flags|=16384:(m=T.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([O])},T.updateQueue=m):(T=m.retryQueue,T===null?m.retryQueue=new Set([O]):T.add(O)),Ay(d,O,B)),!1}throw Error(r(435,T.tag))}return Ay(d,O,B),Pa(),!1}if(si)return m=vo.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=B,O!==Lm&&(d=Error(r(422),{cause:O}),pt(re(d,T)))):(O!==Lm&&(m=Error(r(423),{cause:O}),pt(re(m,T))),d=d.current.alternate,d.flags|=65536,B&=-B,d.lanes|=B,O=re(O,T),B=Cu(d.stateNode,O,B),jt(d,B),ni!==4&&(ni=2)),!1;var G=Error(r(520),{cause:O});if(G=re(G,T),jd===null?jd=[G]:jd.push(G),ni!==4&&(ni=2),m===null)return!0;O=re(O,T),T=m;do{switch(T.tag){case 3:return T.flags|=65536,d=B&-B,T.lanes|=d,d=Cu(T.stateNode,O,d),jt(T,d),!1;case 1:if(m=T.type,G=T.stateNode,(T.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(So===null||!So.has(G))))return T.flags|=65536,B&=-B,T.lanes|=B,B=Vs(B),Au(B,d,T,O),jt(T,B),!1}T=T.return}while(T!==null);return!1}function lr(d,m,T,O){m.child=d===null?A1(m,null,T,O):Yu(m,d.child,T,O)}function sm(d,m,T,O,B){T=T.render;var G=m.ref;if("ref"in O){var oe={};for(var me in O)me!=="ref"&&(oe[me]=O[me])}else oe=O;return ce(m),O=aa(d,m,T,oe,G,B),me=Pc(),d!==null&&!Mr?(ro(d,m,B),Lo(d,m,B)):(si&&me&&le(m),m.flags|=1,lr(d,m,O,B),m.child)}function ud(d,m,T,O,B){if(d===null){var G=T.type;return typeof G=="function"&&!Vc(G)&&G.defaultProps===void 0&&T.compare===null?(m.tag=15,m.type=G,Lc(d,m,G,O,B)):(d=ko(T.type,null,O,m,m.mode,B),d.ref=m.ref,d.return=m,m.child=d)}if(G=d.child,!md(d,B)){var oe=G.memoizedProps;if(T=T.compare,T=T!==null?T:Fe,T(oe,O)&&d.ref===m.ref)return Lo(d,m,B)}return m.flags|=1,d=qs(G,O),d.ref=m.ref,d.return=m,m.child=d}function Lc(d,m,T,O,B){if(d!==null){var G=d.memoizedProps;if(Fe(G,O)&&d.ref===m.ref)if(Mr=!1,m.pendingProps=O=G,md(d,B))(d.flags&131072)!==0&&(Mr=!0);else return m.lanes=d.lanes,Lo(d,m,B)}return fd(d,m,T,O,B)}function am(d,m,T){var O=m.pendingProps,B=O.children,G=(m.stateNode._pendingVisibility&2)!==0,oe=d!==null?d.memoizedState:null;if(Vf(d,m),O.mode==="hidden"||G){if((m.flags&128)!==0){if(O=oe!==null?oe.baseLanes|T:T,d!==null){for(B=m.child=d.child,G=0;B!==null;)G=G|B.lanes|B.childLanes,B=B.sibling;m.childLanes=G&~O}else m.childLanes=0,m.child=null;return Ff(d,m,O,T)}if((T&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},d!==null&&wr(m,oe!==null?oe.cachePool:null),oe!==null?kn(m,oe):_n(),Rs(m);else return m.lanes=m.childLanes=536870912,Ff(d,m,oe!==null?oe.baseLanes|T:T,T)}else oe!==null?(wr(m,oe.cachePool),kn(m,oe),$i(),m.memoizedState=null):(d!==null&&wr(m,null),_n(),$i());return lr(d,m,B,T),m.child}function Ff(d,m,T,O){var B=On();return B=B===null?null:{parent:ic?xi._currentValue:xi._currentValue2,pool:B},m.memoizedState={baseLanes:T,cachePool:B},d!==null&&wr(m,null),_n(),Rs(m),d!==null&&j(d,m,O,!0),null}function Vf(d,m){var T=m.ref;if(T===null)d!==null&&d.ref!==null&&(m.flags|=2097664);else{if(typeof T!="function"&&typeof T!="object")throw Error(r(284));(d===null||d.ref!==T)&&(m.flags|=2097664)}}function fd(d,m,T,O,B){return ce(m),T=aa(d,m,T,O,void 0,B),O=Pc(),d!==null&&!Mr?(ro(d,m,B),Lo(d,m,B)):(si&&O&&le(m),m.flags|=1,lr(d,m,T,B),m.child)}function Mu(d,m,T,O,B,G){return ce(m),m.updateQueue=null,T=io(m,O,T,B),ll(d),O=Pc(),d!==null&&!Mr?(ro(d,m,G),Lo(d,m,G)):(si&&O&&le(m),m.flags|=1,lr(d,m,T,G),m.child)}function hd(d,m,T,O,B){if(ce(m),m.stateNode===null){var G=ih,oe=T.contextType;typeof oe=="object"&&oe!==null&&(G=Ee(oe)),G=new T(O,G),m.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=Zy,m.stateNode=G,G._reactInternals=m,G=m.stateNode,G.props=O,G.state=m.memoizedState,G.refs={},$e(m),oe=T.contextType,G.context=typeof oe=="object"&&oe!==null?Ee(oe):ih,G.state=m.memoizedState,oe=T.getDerivedStateFromProps,typeof oe=="function"&&(gs(m,T,oe,O),G.state=m.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(oe=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),oe!==G.state&&Zy.enqueueReplaceState(G,G.state,null),Lt(m,O,G,B),ot(),G.state=m.memoizedState),typeof G.componentDidMount=="function"&&(m.flags|=4194308),O=!0}else if(d===null){G=m.stateNode;var me=m.memoizedProps,Ce=Ra(T,me);G.props=Ce;var Je=G.context,bt=T.contextType;oe=ih,typeof bt=="object"&&bt!==null&&(oe=Ee(bt));var It=T.getDerivedStateFromProps;bt=typeof It=="function"||typeof G.getSnapshotBeforeUpdate=="function",me=m.pendingProps!==me,bt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(me||Je!==oe)&&wu(m,G,O,oe),Yc=!1;var Nt=m.memoizedState;G.state=Nt,Lt(m,O,G,B),ot(),Je=m.memoizedState,me||Nt!==Je||Yc?(typeof It=="function"&&(gs(m,T,It,O),Je=m.memoizedState),(Ce=Yc||ql(m,T,Ce,O,Nt,Je,oe))?(bt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(m.flags|=4194308)):(typeof G.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=O,m.memoizedState=Je),G.props=O,G.state=Je,G.context=oe,O=Ce):(typeof G.componentDidMount=="function"&&(m.flags|=4194308),O=!1)}else{G=m.stateNode,dt(d,m),oe=m.memoizedProps,bt=Ra(T,oe),G.props=bt,It=m.pendingProps,Nt=G.context,Je=T.contextType,Ce=ih,typeof Je=="object"&&Je!==null&&(Ce=Ee(Je)),me=T.getDerivedStateFromProps,(Je=typeof me=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(oe!==It||Nt!==Ce)&&wu(m,G,O,Ce),Yc=!1,Nt=m.memoizedState,G.state=Nt,Lt(m,O,G,B),ot();var bn=m.memoizedState;oe!==It||Nt!==bn||Yc||d!==null&&d.dependencies!==null&&X(d.dependencies)?(typeof me=="function"&&(gs(m,T,me,O),bn=m.memoizedState),(bt=Yc||ql(m,T,bt,O,Nt,bn,Ce)||d!==null&&d.dependencies!==null&&X(d.dependencies))?(Je||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(O,bn,Ce),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(O,bn,Ce)),typeof G.componentDidUpdate=="function"&&(m.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof G.componentDidUpdate!="function"||oe===d.memoizedProps&&Nt===d.memoizedState||(m.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||oe===d.memoizedProps&&Nt===d.memoizedState||(m.flags|=1024),m.memoizedProps=O,m.memoizedState=bn),G.props=O,G.state=bn,G.context=Ce,O=bt):(typeof G.componentDidUpdate!="function"||oe===d.memoizedProps&&Nt===d.memoizedState||(m.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||oe===d.memoizedProps&&Nt===d.memoizedState||(m.flags|=1024),O=!1)}return G=O,Vf(d,m),O=(m.flags&128)!==0,G||O?(G=m.stateNode,T=O&&typeof T.getDerivedStateFromError!="function"?null:G.render(),m.flags|=1,d!==null&&O?(m.child=Yu(m,d.child,null,B),m.child=Yu(m,null,T,B)):lr(d,m,T,B),m.memoizedState=G.state,d=m.child):d=Lo(d,m,B),d}function om(d,m,T,O){return lt(),m.flags|=256,lr(d,m,T,O),m.child}function Hf(d){return{baseLanes:d,cachePool:rs()}}function jf(d,m,T){return d=d!==null?d.childLanes&~T:0,m&&(d|=Ba),d}function lm(d,m,T){var O=m.pendingProps,B=!1,G=(m.flags&128)!==0,oe;if((oe=G)||(oe=d!==null&&d.memoizedState===null?!1:($r.current&2)!==0),oe&&(B=!0,m.flags&=-129),oe=(m.flags&32)!==0,m.flags&=-33,d===null){if(si){if(B?Li(m):$i(),si){var me=Ls,Ce;(Ce=me)&&(me=_E(me,Fo),me!==null?(m.memoizedState={dehydrated:me,treeContext:gl!==null?{id:ac,overflow:Bo}:null,retryLane:536870912},Ce=t(18,null,null,0),Ce.stateNode=me,Ce.return=m,m.child=Ce,$s=m,Ls=null,Ce=!0):Ce=!1),Ce||Ve(m)}if(me=m.memoizedState,me!==null&&(me=me.dehydrated,me!==null))return Am(me)?m.lanes=16:m.lanes=536870912,null;Hr(m)}return me=O.children,O=O.fallback,B?($i(),B=m.mode,me=dd({mode:"hidden",children:me},B),O=jc(O,B,T,null),me.return=m,O.return=m,me.sibling=O,m.child=me,B=m.child,B.memoizedState=Hf(T),B.childLanes=jf(d,oe,T),m.memoizedState=Ys,O):(Li(m),Wl(m,me))}if(Ce=d.memoizedState,Ce!==null&&(me=Ce.dehydrated,me!==null)){if(G)m.flags&256?(Li(m),m.flags&=-257,m=pd(d,m,T)):m.memoizedState!==null?($i(),m.child=d.child,m.flags|=128,m=null):($i(),B=O.fallback,me=m.mode,O=dd({mode:"visible",children:O.children},me),B=jc(B,me,T,null),B.flags|=2,O.return=m,B.return=m,O.sibling=B,m.child=O,Yu(m,d.child,null,T),O=m.child,O.memoizedState=Hf(T),O.childLanes=jf(d,oe,T),m.memoizedState=Ys,m=B);else if(Li(m),Am(me))oe=hE(me).digest,O=Error(r(419)),O.stack="",O.digest=oe,pt({value:O,source:null,stack:null}),m=pd(d,m,T);else if(Mr||j(d,m,T,!1),oe=(T&d.childLanes)!==0,Mr||oe){if(oe=qn,oe!==null){if(O=T&-T,(O&42)!==0)O=1;else switch(O){case 2:O=1;break;case 8:O=4;break;case 32:O=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:O=64;break;case 268435456:O=134217728;break;default:O=0}if(O=(O&(oe.suspendedLanes|T))!==0?0:O,O!==0&&O!==Ce.retryLane)throw Ce.retryLane=O,Ne(d,O),Gs(oe,d,O),NE}By(me)||Pa(),m=pd(d,m,T)}else By(me)?(m.flags|=128,m.child=d.child,m=Kf.bind(null,d),qM(me,m),m=null):(d=Ce.treeContext,da&&(Ls=gE(me),$s=m,si=!0,mo=null,Fo=!1,d!==null&&(ho[po++]=ac,ho[po++]=Bo,ho[po++]=gl,ac=d.id,Bo=d.overflow,gl=m)),m=Wl(m,O.children),m.flags|=4096);return m}return B?($i(),B=O.fallback,me=m.mode,Ce=d.child,G=Ce.sibling,O=qs(Ce,{mode:"hidden",children:O.children}),O.subtreeFlags=Ce.subtreeFlags&31457280,G!==null?B=qs(G,B):(B=jc(B,me,T,null),B.flags|=2),B.return=m,O.return=m,O.sibling=B,m.child=O,O=B,B=m.child,me=d.child.memoizedState,me===null?me=Hf(T):(Ce=me.cachePool,Ce!==null?(G=ic?xi._currentValue:xi._currentValue2,Ce=Ce.parent!==G?{parent:G,pool:G}:Ce):Ce=rs(),me={baseLanes:me.baseLanes|T,cachePool:Ce}),B.memoizedState=me,B.childLanes=jf(d,oe,T),m.memoizedState=Ys,O):(Li(m),T=d.child,d=T.sibling,T=qs(T,{mode:"visible",children:O.children}),T.return=m,T.sibling=null,d!==null&&(oe=m.deletions,oe===null?(m.deletions=[d],m.flags|=16):oe.push(d)),m.child=T,m.memoizedState=null,T)}function Wl(d,m){return m=dd({mode:"visible",children:m},d.mode),m.return=d,d.child=m}function dd(d,m){return My(d,m,0,null)}function pd(d,m,T){return Yu(m,d.child,null,T),d=Wl(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function $l(d,m,T){d.lanes|=m;var O=d.alternate;O!==null&&(O.lanes|=m),Xl(d.return,m,T)}function Gf(d,m,T,O,B){var G=d.memoizedState;G===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:O,tail:T,tailMode:B}:(G.isBackwards=m,G.rendering=null,G.renderingStartTime=0,G.last=O,G.tail=T,G.tailMode=B)}function cm(d,m,T){var O=m.pendingProps,B=O.revealOrder,G=O.tail;if(lr(d,m,O.children,T),O=$r.current,(O&2)!==0)O=O&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&$l(d,T,m);else if(d.tag===19)$l(d,T,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}O&=1}switch(w($r,O),B){case"forwards":for(T=m.child,B=null;T!==null;)d=T.alternate,d!==null&&jr(d)===null&&(B=T),T=T.sibling;T=B,T===null?(B=m.child,m.child=null):(B=T.sibling,T.sibling=null),Gf(m,!1,B,T,G);break;case"backwards":for(T=null,B=m.child,m.child=null;B!==null;){if(d=B.alternate,d!==null&&jr(d)===null){m.child=B;break}d=B.sibling,B.sibling=T,T=B,B=d}Gf(m,!0,T,null,G);break;case"together":Gf(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Lo(d,m,T){if(d!==null&&(m.dependencies=d.dependencies),bo|=m.lanes,(T&m.childLanes)===0)if(d!==null){if(j(d,m,T,!1),(T&m.childLanes)===0)return null}else return null;if(d!==null&&m.child!==d.child)throw Error(r(153));if(m.child!==null){for(d=m.child,T=qs(d,d.pendingProps),m.child=T,T.return=m;d.sibling!==null;)d=d.sibling,T=T.sibling=qs(d,d.pendingProps),T.return=m;T.sibling=null}return m.child}function md(d,m){return(d.lanes&m)!==0?!0:(d=d.dependencies,!!(d!==null&&X(d)))}function gd(d,m,T){switch(m.tag){case 3:ue(m,m.stateNode.containerInfo),fl(m,xi,d.memoizedState.cache),lt();break;case 27:case 5:he(m);break;case 4:ue(m,m.stateNode.containerInfo);break;case 10:fl(m,m.type,m.memoizedProps.value);break;case 13:var O=m.memoizedState;if(O!==null)return O.dehydrated!==null?(Li(m),m.flags|=128,null):(T&m.child.childLanes)!==0?lm(d,m,T):(Li(m),d=Lo(d,m,T),d!==null?d.sibling:null);Li(m);break;case 19:var B=(d.flags&128)!==0;if(O=(T&m.childLanes)!==0,O||(j(d,m,T,!1),O=(T&m.childLanes)!==0),B){if(O)return cm(d,m,T);m.flags|=128}if(B=m.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),w($r,$r.current),O)break;return null;case 22:case 23:return m.lanes=0,am(d,m,T);case 24:fl(m,xi,d.memoizedState.cache)}return Lo(d,m,T)}function Hs(d,m,T){if(d!==null)if(d.memoizedProps!==m.pendingProps)Mr=!0;else{if(!md(d,T)&&(m.flags&128)===0)return Mr=!1,gd(d,m,T);Mr=(d.flags&131072)!==0}else Mr=!1,si&&(m.flags&1048576)!==0&&Y(m,Dm,m.index);switch(m.lanes=0,m.tag){case 16:e:{d=m.pendingProps;var O=m.elementType,B=O._init;if(O=B(O._payload),m.type=O,typeof O=="function")Vc(O)?(d=Ra(O,d),m.tag=1,m=hd(null,m,O,d,T)):(m.tag=0,m=fd(null,m,O,d,T));else{if(O!=null){if(B=O.$$typeof,B===Od){m.tag=11,m=sm(null,m,O,d,T);break e}else if(B===_m){m.tag=14,m=ud(null,m,O,d,T);break e}}throw m=a(O)||O,Error(r(306,m,""))}}return m;case 0:return fd(d,m,m.type,m.pendingProps,T);case 1:return O=m.type,B=Ra(O,m.pendingProps),hd(d,m,O,B,T);case 3:e:{if(ue(m,m.stateNode.containerInfo),d===null)throw Error(r(387));var G=m.pendingProps;B=m.memoizedState,O=B.element,dt(d,m),Lt(m,G,null,T);var oe=m.memoizedState;if(G=oe.cache,fl(m,xi,G),G!==B.cache&&M(m,[xi],T,!0),ot(),G=oe.element,da&&B.isDehydrated)if(B={element:G,isDehydrated:!1,cache:oe.cache},m.updateQueue.baseState=B,m.memoizedState=B,m.flags&256){m=om(d,m,G,T);break e}else if(G!==O){O=re(Error(r(424)),m),pt(O),m=om(d,m,G,T);break e}else for(da&&(Ls=mE(m.stateNode.containerInfo),$s=m,si=!0,mo=null,Fo=!0),T=A1(m,null,G,T),m.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(lt(),G===O){m=Lo(d,m,T);break e}lr(d,m,G,T)}m=m.child}return m;case 26:if(uo)return Vf(d,m),d===null?(T=Gy(m.type,null,m.pendingProps,null))?m.memoizedState=T:si||(m.stateNode=$M(m.type,m.pendingProps,yl.current,m)):m.memoizedState=Gy(m.type,d.memoizedProps,m.pendingProps,d.memoizedState),null;case 27:if(Ds)return he(m),d===null&&Ds&&si&&(O=m.stateNode=E1(m.type,m.pendingProps,yl.current,xs.current,!1),$s=m,Fo=!0,Ls=Fy(O)),O=m.pendingProps.children,d!==null||si?lr(d,m,O,T):m.child=Yu(m,null,O,T),Vf(d,m),m.child;case 5:return d===null&&si&&(TE(m.type,m.pendingProps,xs.current),(B=O=Ls)&&(O=yE(O,m.type,m.pendingProps,Fo),O!==null?(m.stateNode=O,$s=m,Ls=Fy(O),Fo=!1,B=!0):B=!1),B||Ve(m)),he(m),B=m.type,G=m.pendingProps,oe=d!==null?d.memoizedProps:null,O=G.children,Gu(B,G)?O=null:oe!==null&&Gu(B,oe)&&(m.flags|=32),m.memoizedState!==null&&(B=aa(d,m,ad,null,null,T),ic?dn._currentValue=B:dn._currentValue2=B),Vf(d,m),lr(d,m,O,T),m.child;case 6:return d===null&&si&&(wE(m.pendingProps,xs.current),(d=T=Ls)&&(T=vE(T,m.pendingProps,Fo),T!==null?(m.stateNode=T,$s=m,Ls=null,d=!0):d=!1),d||Ve(m)),null;case 13:return lm(d,m,T);case 4:return ue(m,m.stateNode.containerInfo),O=m.pendingProps,d===null?m.child=Yu(m,null,O,T):lr(d,m,O,T),m.child;case 11:return sm(d,m,m.type,m.pendingProps,T);case 7:return lr(d,m,m.pendingProps,T),m.child;case 8:return lr(d,m,m.pendingProps.children,T),m.child;case 12:return lr(d,m,m.pendingProps.children,T),m.child;case 10:return O=m.pendingProps,fl(m,m.type,O.value),lr(d,m,O.children,T),m.child;case 9:return B=m.type._context,O=m.pendingProps.children,ce(m),B=Ee(B),O=O(B),m.flags|=1,lr(d,m,O,T),m.child;case 14:return ud(d,m,m.type,m.pendingProps,T);case 15:return Lc(d,m,m.type,m.pendingProps,T);case 19:return cm(d,m,T);case 22:return am(d,m,T);case 24:return ce(m),O=Ee(xi),d===null?(B=On(),B===null&&(B=qn,G=fi(),B.pooledCache=G,G.refCount++,G!==null&&(B.pooledCacheLanes|=T),B=G),m.memoizedState={parent:O,cache:B},$e(m),fl(m,xi,B)):((d.lanes&T)!==0&&(dt(d,m),Lt(m,null,null,T),ot()),B=d.memoizedState,G=m.memoizedState,B.parent!==O?(B={parent:O,cache:O},m.memoizedState=B,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=B),fl(m,xi,O)):(O=G.cache,fl(m,xi,O),O!==B.cache&&M(m,[xi],T,!0))),lr(d,m,m.pendingProps.children,T),m.child;case 29:throw m.pendingProps}throw Error(r(156,m.tag))}function fl(d,m,T){ic?(w(ka,m._currentValue),m._currentValue=T):(w(ka,m._currentValue2),m._currentValue2=T)}function Uo(d){var m=ka.current;ic?d._currentValue=m:d._currentValue2=m,b(ka)}function Xl(d,m,T){for(;d!==null;){var O=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,O!==null&&(O.childLanes|=m)):O!==null&&(O.childLanes&m)!==m&&(O.childLanes|=m),d===T)break;d=d.return}}function M(d,m,T,O){var B=d.child;for(B!==null&&(B.return=d);B!==null;){var G=B.dependencies;if(G!==null){var oe=B.child;G=G.firstContext;e:for(;G!==null;){var me=G;G=B;for(var Ce=0;Ce<m.length;Ce++)if(me.context===m[Ce]){G.lanes|=T,me=G.alternate,me!==null&&(me.lanes|=T),Xl(G.return,T,d),O||(oe=null);break e}G=me.next}}else if(B.tag===18){if(oe=B.return,oe===null)throw Error(r(341));oe.lanes|=T,G=oe.alternate,G!==null&&(G.lanes|=T),Xl(oe,T,d),oe=null}else oe=B.child;if(oe!==null)oe.return=B;else for(oe=B;oe!==null;){if(oe===d){oe=null;break}if(B=oe.sibling,B!==null){B.return=oe.return,oe=B;break}oe=oe.return}B=oe}}function j(d,m,T,O){d=null;for(var B=m,G=!1;B!==null;){if(!G){if((B.flags&524288)!==0)G=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var oe=B.alternate;if(oe===null)throw Error(r(387));if(oe=oe.memoizedProps,oe!==null){var me=B.type;fo(B.pendingProps.value,oe.value)||(d!==null?d.push(me):d=[me])}}else if(B===kd.current){if(oe=B.alternate,oe===null)throw Error(r(387));oe.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(d!==null?d.push(dn):d=[dn])}B=B.return}d!==null&&M(m,d,T,O),m.flags|=262144}function X(d){for(d=d.firstContext;d!==null;){var m=d.context;if(!fo(ic?m._currentValue:m._currentValue2,d.memoizedValue))return!0;d=d.next}return!1}function ce(d){Zu=d,yr=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function Ee(d){return Et(Zu,d)}function je(d,m){return Zu===null&&ce(d),Et(d,m)}function Et(d,m){var T=ic?m._currentValue:m._currentValue2;if(m={context:m,memoizedValue:T,next:null},yr===null){if(d===null)throw Error(r(308));yr=m,d.dependencies={lanes:0,firstContext:m},d.flags|=524288}else yr=yr.next=m;return T}function fi(){return{controller:new LE,data:new Map,refCount:0}}function ir(d){d.refCount--,d.refCount===0&&Zc(ah,function(){d.controller.abort()})}function On(){var d=Qc.current;return d!==null?d:qn.pooledCache}function wr(d,m){m===null?w(Qc,Qc.current):w(Qc,m.pool)}function rs(){var d=On();return d===null?null:{parent:ic?xi._currentValue:xi._currentValue2,pool:d}}function qr(d){d.flags|=4}function ca(d,m){if(d!==null&&d.child===m.child)return!1;if((m.flags&16)!==0)return!0;for(d=m.child;d!==null;){if((d.flags&13878)!==0||(d.subtreeFlags&13878)!==0)return!0;d=d.sibling}return!1}function Uc(d,m,T,O){if(Ps)for(T=m.child;T!==null;){if(T.tag===5||T.tag===6)nc(d,T.stateNode);else if(!(T.tag===4||Ds&&T.tag===27)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else if(lo)for(var B=m.child;B!==null;){if(B.tag===5){var G=B.stateNode;T&&O&&(G=u1(G,B.type,B.memoizedProps)),nc(d,G)}else if(B.tag===6)G=B.stateNode,T&&O&&(G=f1(G,B.memoizedProps)),nc(d,G);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)G=B.child,G!==null&&(G.return=B),Uc(d,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===m)break;for(;B.sibling===null;){if(B.return===null||B.return===m)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function Yl(d,m,T,O){if(lo)for(var B=m.child;B!==null;){if(B.tag===5){var G=B.stateNode;T&&O&&(G=u1(G,B.type,B.memoizedProps)),l1(d,G)}else if(B.tag===6)G=B.stateNode,T&&O&&(G=f1(G,B.memoizedProps)),l1(d,G);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)G=B.child,G!==null&&(G.return=B),Yl(d,B,!(B.memoizedProps!==null&&B.memoizedProps.mode==="manual"),!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===m)break;for(;B.sibling===null;){if(B.return===null||B.return===m)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function yd(d,m){if(lo&&ca(d,m)){d=m.stateNode;var T=d.containerInfo,O=zy();Yl(O,m,!1,!1),d.pendingChildren=O,qr(m),fE(T,O)}}function O_(d,m,T,O){if(Ps)d.memoizedProps!==O&&qr(m);else if(lo){var B=d.stateNode,G=d.memoizedProps;if((d=ca(d,m))||G!==O){var oe=xs.current;G=o1(B,T,G,O,!d,null),G===B?m.stateNode=B:(qc(G,T,O,oe)&&qr(m),m.stateNode=G,d?Uc(G,m,!1,!1):qr(m))}else m.stateNode=B}}function vd(d,m,T){if(lE(m,T)){if(d.flags|=16777216,!Wc(m,T))if(mm())d.flags|=8192;else throw sh=Yy,C1}else d.flags&=-16777217}function I_(d,m){if(CE(m)){if(d.flags|=16777216,!x1(m))if(mm())d.flags|=8192;else throw sh=Yy,C1}else d.flags&=-16777217}function um(d,m){m!==null&&(d.flags|=4),d.flags&16384&&(m=d.tag!==22?I():536870912,d.lanes|=m,eu|=m)}function qf(d,m){if(!si)switch(d.tailMode){case"hidden":m=d.tail;for(var T=null;m!==null;)m.alternate!==null&&(T=m),m=m.sibling;T===null?d.tail=null:T.sibling=null;break;case"collapsed":T=d.tail;for(var O=null;T!==null;)T.alternate!==null&&(O=T),T=T.sibling;O===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:O.sibling=null}}function Xi(d){var m=d.alternate!==null&&d.alternate.child===d.child,T=0,O=0;if(m)for(var B=d.child;B!==null;)T|=B.lanes|B.childLanes,O|=B.subtreeFlags&31457280,O|=B.flags&31457280,B.return=d,B=B.sibling;else for(B=d.child;B!==null;)T|=B.lanes|B.childLanes,O|=B.subtreeFlags,O|=B.flags,B.return=d,B=B.sibling;return d.subtreeFlags|=O,d.childLanes=T,m}function YS(d,m,T){var O=m.pendingProps;switch(pe(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xi(m),null;case 1:return Xi(m),null;case 3:return T=m.stateNode,O=null,d!==null&&(O=d.memoizedState.cache),m.memoizedState.cache!==O&&(m.flags|=2048),Uo(xi),ie(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(d===null||d.child===null)&&(rt(m)?qr(m):d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,mo!==null&&(zc(mo),mo=null))),yd(d,m),Xi(m),null;case 26:if(uo){T=m.type;var B=m.memoizedState;return d===null?(qr(m),B!==null?(Xi(m),I_(m,B)):(Xi(m),vd(m,T,O))):B?B!==d.memoizedState?(qr(m),Xi(m),I_(m,B)):(Xi(m),m.flags&=-16777217):(Ps?d.memoizedProps!==O&&qr(m):O_(d,m,T,O),Xi(m),vd(m,T,O)),null}case 27:if(Ds){if(ye(m),T=yl.current,B=m.type,d!==null&&m.stateNode!=null)Ps?d.memoizedProps!==O&&qr(m):O_(d,m,B,O);else{if(!O){if(m.stateNode===null)throw Error(r(166));return Xi(m),null}d=xs.current,rt(m)?Xe(m,d):(d=E1(B,O,T,d,!0),m.stateNode=d,qr(m))}return Xi(m),null}case 5:if(ye(m),T=m.type,d!==null&&m.stateNode!=null)O_(d,m,T,O);else{if(!O){if(m.stateNode===null)throw Error(r(166));return Xi(m),null}d=xs.current,rt(m)?Xe(m,d):(B=K_(T,O,yl.current,d,m),Uc(B,m,!1,!1),m.stateNode=B,qc(B,T,O,d)&&qr(m))}return Xi(m),vd(m,m.type,m.pendingProps),null;case 6:if(d&&m.stateNode!=null)T=d.memoizedProps,Ps?T!==O&&qr(m):lo&&(T!==O?(m.stateNode=Py(O,yl.current,xs.current,m),qr(m)):m.stateNode=d.stateNode);else{if(typeof O!="string"&&m.stateNode===null)throw Error(r(166));if(d=yl.current,T=xs.current,rt(m)){if(!da)throw Error(r(176));if(d=m.stateNode,T=m.memoizedProps,O=null,B=$s,B!==null)switch(B.tag){case 27:case 5:O=B.memoizedProps}bE(d,T,m,O)||Ve(m)}else m.stateNode=Py(O,d,T,m)}return Xi(m),null;case 13:if(O=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(B=rt(m),O!==null&&O.dehydrated!==null){if(d===null){if(!B)throw Error(r(318));if(!da)throw Error(r(344));if(B=m.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(r(317));Pd(B,m)}else lt(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Xi(m),B=!1}else mo!==null&&(zc(mo),mo=null),B=!0;if(!B)return m.flags&256?(Hr(m),m):(Hr(m),null)}if(Hr(m),(m.flags&128)!==0)return m.lanes=T,m;if(T=O!==null,d=d!==null&&d.memoizedState!==null,T){O=m.child,B=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(B=O.alternate.memoizedState.cachePool.pool);var G=null;O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(G=O.memoizedState.cachePool.pool),G!==B&&(O.flags|=2048)}return T!==d&&T&&(m.child.flags|=8192),um(m,m.updateQueue),Xi(m),null;case 4:return ie(),yd(d,m),d===null&&J_(m.stateNode.containerInfo),Xi(m),null;case 10:return Uo(m.type),Xi(m),null;case 19:if(b($r),B=m.memoizedState,B===null)return Xi(m),null;if(O=(m.flags&128)!==0,G=B.rendering,G===null)if(O)qf(B,!1);else{if(ni!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(G=jr(d),G!==null){for(m.flags|=128,qf(B,!1),d=G.updateQueue,m.updateQueue=d,um(m,d),m.subtreeFlags=0,d=T,T=m.child;T!==null;)Hc(T,d),T=T.sibling;return w($r,$r.current&1|2),m.child}d=d.sibling}B.tail!==null&&Ns()>ur&&(m.flags|=128,O=!0,qf(B,!1),m.lanes=4194304)}else{if(!O)if(d=jr(G),d!==null){if(m.flags|=128,O=!0,d=d.updateQueue,m.updateQueue=d,um(m,d),qf(B,!0),B.tail===null&&B.tailMode==="hidden"&&!G.alternate&&!si)return Xi(m),null}else 2*Ns()-B.renderingStartTime>ur&&T!==536870912&&(m.flags|=128,O=!0,qf(B,!1),m.lanes=4194304);B.isBackwards?(G.sibling=m.child,m.child=G):(d=B.last,d!==null?d.sibling=G:m.child=G,B.last=G)}return B.tail!==null?(m=B.tail,B.rendering=m,B.tail=m.sibling,B.renderingStartTime=Ns(),m.sibling=null,d=$r.current,w($r,O?d&1|2:d&1),m):(Xi(m),null);case 22:case 23:return Hr(m),zn(),O=m.memoizedState!==null,d!==null?d.memoizedState!==null!==O&&(m.flags|=8192):O&&(m.flags|=8192),O?(T&536870912)!==0&&(m.flags&128)===0&&(Xi(m),m.subtreeFlags&6&&(m.flags|=8192)):Xi(m),T=m.updateQueue,T!==null&&um(m,T.retryQueue),T=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),O=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(O=m.memoizedState.cachePool.pool),O!==T&&(m.flags|=2048),d!==null&&b(Qc),null;case 24:return T=null,d!==null&&(T=d.memoizedState.cache),m.memoizedState.cache!==T&&(m.flags|=2048),Uo(xi),Xi(m),null;case 25:return null}throw Error(r(156,m.tag))}function KS(d,m){switch(pe(m),m.tag){case 1:return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return Uo(xi),ie(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 26:case 27:case 5:return ye(m),null;case 13:if(Hr(m),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(r(340));lt()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return b($r),null;case 4:return ie(),null;case 10:return Uo(m.type),null;case 22:case 23:return Hr(m),zn(),d!==null&&b(Qc),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 24:return Uo(xi),null;case 25:return null;default:return null}}function P_(d,m){switch(pe(m),m.tag){case 3:Uo(xi),ie();break;case 26:case 27:case 5:ye(m);break;case 4:ie();break;case 13:Hr(m);break;case 19:b($r);break;case 10:Uo(m.type);break;case 22:case 23:Hr(m),zn(),d!==null&&b(Qc);break;case 24:Uo(xi)}}function fm(d,m){try{var T=m.updateQueue,O=T!==null?T.lastEffect:null;if(O!==null){var B=O.next;T=B;do{if((T.tag&d)===d){O=void 0;var G=T.create,oe=T.inst;O=G(),oe.destroy=O}T=T.next}while(T!==B)}}catch(me){Xn(m,m.return,me)}}function Ru(d,m,T){try{var O=m.updateQueue,B=O!==null?O.lastEffect:null;if(B!==null){var G=B.next;O=G;do{if((O.tag&d)===d){var oe=O.inst,me=oe.destroy;if(me!==void 0){oe.destroy=void 0,B=m;var Ce=T;try{me()}catch(Je){Xn(B,Ce,Je)}}}O=O.next}while(O!==G)}}catch(Je){Xn(m,m.return,Je)}}function ZS(d){var m=d.updateQueue;if(m!==null){var T=d.stateNode;try{gt(m,T)}catch(O){Xn(d,d.return,O)}}}function QS(d,m,T){T.props=Ra(d.type,d.memoizedProps),T.state=d.memoizedState;try{T.componentWillUnmount()}catch(O){Xn(d,m,O)}}function Wf(d,m){try{var T=d.ref;if(T!==null){var O=d.stateNode;switch(d.tag){case 26:case 27:case 5:var B=Id(O);break;default:B=O}typeof T=="function"?d.refCleanup=T(B):T.current=B}}catch(G){Xn(d,m,G)}}function Yi(d,m){var T=d.ref,O=d.refCleanup;if(T!==null)if(typeof O=="function")try{O()}catch(B){Xn(d,m,B)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof T=="function")try{T(null)}catch(B){Xn(d,m,B)}else T.current=null}function _d(d){var m=d.type,T=d.memoizedProps,O=d.stateNode;try{GM(O,m,T,d)}catch(B){Xn(d,d.return,B)}}function D_(d,m,T){try{i1(d.stateNode,d.type,T,m,d)}catch(O){Xn(d,d.return,O)}}function N_(d){return d.tag===5||d.tag===3||(uo?d.tag===26:!1)||(Ds?d.tag===27:!1)||d.tag===4}function gy(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||N_(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&(!Ds||d.tag!==27)&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function yy(d,m,T){var O=d.tag;if(O===5||O===6)d=d.stateNode,m?s1(T,d,m):cE(T,d);else if(!(O===4||Ds&&O===27)&&(d=d.child,d!==null))for(yy(d,m,T),d=d.sibling;d!==null;)yy(d,m,T),d=d.sibling}function bd(d,m,T){var O=d.tag;if(O===5||O===6)d=d.stateNode,m?r1(T,d,m):n1(T,d);else if(!(O===4||Ds&&O===27)&&(d=d.child,d!==null))for(bd(d,m,T),d=d.sibling;d!==null;)bd(d,m,T),d=d.sibling}function JS(d,m,T){d=d.containerInfo;try{c1(d,T)}catch(O){Xn(m,m.return,O)}}function xd(d,m){for(ju(d.containerInfo),vr=m;vr!==null;)if(d=vr,m=d.child,(d.subtreeFlags&1028)!==0&&m!==null)m.return=d,vr=m;else for(;vr!==null;){d=vr;var T=d.alternate;switch(m=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((m&1024)!==0&&T!==null){m=void 0;var O=d,B=T.memoizedProps;T=T.memoizedState;var G=O.stateNode;try{var oe=Ra(O.type,B,O.elementType===O.type);m=G.getSnapshotBeforeUpdate(oe,T),G.__reactInternalSnapshotBeforeUpdate=m}catch(me){Xn(O,O.return,me)}}break;case 3:(m&1024)!==0&&Ps&&ky(d.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(r(163))}if(m=d.sibling,m!==null){m.return=d.return,vr=m;break}vr=d.return}return oe=oh,oh=!1,oe}function vy(d,m,T){var O=T.flags;switch(T.tag){case 0:case 11:case 15:Kl(d,T),O&4&&fm(5,T);break;case 1:if(Kl(d,T),O&4)if(d=T.stateNode,m===null)try{d.componentDidMount()}catch(me){Xn(T,T.return,me)}else{var B=Ra(T.type,m.memoizedProps);m=m.memoizedState;try{d.componentDidUpdate(B,m,d.__reactInternalSnapshotBeforeUpdate)}catch(me){Xn(T,T.return,me)}}O&64&&ZS(T),O&512&&Wf(T,T.return);break;case 3:if(Kl(d,T),O&64&&(O=T.updateQueue,O!==null)){if(d=null,T.child!==null)switch(T.child.tag){case 27:case 5:d=Id(T.child.stateNode);break;case 1:d=T.child.stateNode}try{gt(O,d)}catch(me){Xn(T,T.return,me)}}break;case 26:if(uo){Kl(d,T),O&512&&Wf(T,T.return);break}case 27:case 5:Kl(d,T),m===null&&O&4&&_d(T),O&512&&Wf(T,T.return);break;case 12:Kl(d,T);break;case 13:Kl(d,T),O&4&&Ou(d,T);break;case 22:if(B=T.memoizedState!==null||as,!B){m=m!==null&&m.memoizedState!==null||cr;var G=as,oe=cr;as=B,(cr=m)&&!oe?Pu(d,T,(T.subtreeFlags&8772)!==0):Kl(d,T),as=G,cr=oe}O&512&&(T.memoizedProps.mode==="manual"?Wf(T,T.return):Yi(T,T.return));break;default:Kl(d,T)}}function Sd(d){var m=d.alternate;m!==null&&(d.alternate=null,Sd(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&e1(m)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function ao(d,m,T){for(T=T.child;T!==null;)_y(d,m,T),T=T.sibling}function _y(d,m,T){if(La&&typeof La.onCommitFiberUnmount=="function")try{La.onCommitFiberUnmount(Ud,T)}catch{}switch(T.tag){case 26:if(uo){cr||Yi(T,m),ao(d,m,T),T.memoizedState?g1(T.memoizedState):T.stateNode&&_1(T.stateNode);break}case 27:if(Ds){cr||Yi(T,m);var O=Rr,B=za;Rr=T.stateNode,ao(d,m,T),AE(T.stateNode),Rr=O,za=B;break}case 5:cr||Yi(T,m);case 6:if(Ps){if(O=Rr,B=za,Rr=null,ao(d,m,T),Rr=O,za=B,Rr!==null)if(za)try{Cr(Rr,T.stateNode)}catch(G){Xn(T,m,G)}else try{pa(Rr,T.stateNode)}catch(G){Xn(T,m,G)}}else ao(d,m,T);break;case 18:Ps&&Rr!==null&&(za?d1(Rr,T.stateNode):SE(Rr,T.stateNode));break;case 4:Ps?(O=Rr,B=za,Rr=T.stateNode.containerInfo,za=!0,ao(d,m,T),Rr=O,za=B):(lo&&JS(T.stateNode,T,zy()),ao(d,m,T));break;case 0:case 11:case 14:case 15:cr||Ru(2,T,m),cr||Ru(4,T,m),ao(d,m,T);break;case 1:cr||(Yi(T,m),O=T.stateNode,typeof O.componentWillUnmount=="function"&&QS(T,m,O)),ao(d,m,T);break;case 21:ao(d,m,T);break;case 22:cr||Yi(T,m),cr=(O=cr)||T.memoizedState!==null,ao(d,m,T),cr=O;break;default:ao(d,m,T)}}function Ou(d,m){if(da&&m.memoizedState===null&&(d=m.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{Hy(d)}catch(T){Xn(m,m.return,T)}}function Ed(d){switch(d.tag){case 13:case 19:var m=d.stateNode;return m===null&&(m=d.stateNode=new Hd),m;case 22:return d=d.stateNode,m=d._retryCache,m===null&&(m=d._retryCache=new Hd),m;default:throw Error(r(435,d.tag))}}function hm(d,m){var T=Ed(d);m.forEach(function(O){var B=B_.bind(null,d,O);T.has(O)||(T.add(O),O.then(B,B))})}function ua(d,m){var T=m.deletions;if(T!==null)for(var O=0;O<T.length;O++){var B=T[O],G=d,oe=m;if(Ps){var me=oe;e:for(;me!==null;){switch(me.tag){case 27:case 5:Rr=me.stateNode,za=!1;break e;case 3:Rr=me.stateNode.containerInfo,za=!0;break e;case 4:Rr=me.stateNode.containerInfo,za=!0;break e}me=me.return}if(Rr===null)throw Error(r(160));_y(G,oe,B),Rr=null,za=!1}else _y(G,oe,B);G=B.alternate,G!==null&&(G.return=null),B.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)Iu(m,d),m=m.sibling}function Iu(d,m){var T=d.alternate,O=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:ua(m,d),Oa(d),O&4&&(Ru(3,d,d.return),fm(3,d),Ru(5,d,d.return));break;case 1:ua(m,d),Oa(d),O&512&&(cr||T===null||Yi(T,T.return)),O&64&&as&&(d=d.updateQueue,d!==null&&(O=d.callbacks,O!==null&&(T=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=T===null?O:T.concat(O))));break;case 26:if(uo){var B=ma;ua(m,d),Oa(d),O&512&&(cr||T===null||Yi(T,T.return)),O&4&&(O=T!==null?T.memoizedState:null,m=d.memoizedState,T===null?m===null?d.stateNode===null?d.stateNode=y1(B,d.type,d.memoizedProps,d):v1(B,d.type,d.stateNode):d.stateNode=m1(B,m,d.memoizedProps):O!==m?(O===null?T.stateNode!==null&&_1(T.stateNode):g1(O),m===null?v1(B,d.type,d.stateNode):m1(B,m,d.memoizedProps)):m===null&&d.stateNode!==null&&D_(d,d.memoizedProps,T.memoizedProps));break}case 27:if(Ds&&O&4&&d.alternate===null){B=d.stateNode;var G=d.memoizedProps;try{XM(B),YM(d.type,G,B,d)}catch(bt){Xn(d,d.return,bt)}}case 5:if(ua(m,d),Oa(d),O&512&&(cr||T===null||Yi(T,T.return)),Ps){if(d.flags&32){m=d.stateNode;try{wm(m)}catch(bt){Xn(d,d.return,bt)}}O&4&&d.stateNode!=null&&(m=d.memoizedProps,D_(d,m,T!==null?T.memoizedProps:m)),O&1024&&(Qu=!0)}break;case 6:if(ua(m,d),Oa(d),O&4&&Ps){if(d.stateNode===null)throw Error(r(162));O=d.memoizedProps,T=T!==null?T.memoizedProps:O,m=d.stateNode;try{uE(m,T,O)}catch(bt){Xn(d,d.return,bt)}}break;case 3:if(uo?(b1(),B=ma,ma=jy(m.containerInfo),ua(m,d),ma=B):ua(m,d),Oa(d),O&4){if(Ps&&da&&T!==null&&T.memoizedState.isDehydrated)try{Vy(m.containerInfo)}catch(bt){Xn(d,d.return,bt)}if(lo){O=m.containerInfo,T=m.pendingChildren;try{c1(O,T)}catch(bt){Xn(d,d.return,bt)}}}Qu&&(Qu=!1,L_(d));break;case 4:uo?(T=ma,ma=jy(d.stateNode.containerInfo),ua(m,d),Oa(d),ma=T):(ua(m,d),Oa(d)),O&4&&lo&&JS(d.stateNode,d,d.stateNode.pendingChildren);break;case 12:ua(m,d),Oa(d);break;case 13:ua(m,d),Oa(d),d.child.flags&8192&&d.memoizedState!==null!=(T!==null&&T.memoizedState!==null)&&(uc=Ns()),O&4&&(O=d.updateQueue,O!==null&&(d.updateQueue=null,hm(d,O)));break;case 22:O&512&&(cr||T===null||Yi(T,T.return)),B=d.memoizedState!==null;var oe=T!==null&&T.memoizedState!==null,me=as,Ce=cr;if(as=me||B,cr=Ce||oe,ua(m,d),cr=Ce,as=me,Oa(d),m=d.stateNode,m._current=d,m._visibility&=-3,m._visibility|=m._pendingVisibility&2,O&8192&&(m._visibility=B?m._visibility&-2:m._visibility|1,B&&(m=as||cr,T===null||oe||m||Td(d)),Ps&&(d.memoizedProps===null||d.memoizedProps.mode!=="manual"))){e:if(T=null,Ps)for(m=d;;){if(m.tag===5||uo&&m.tag===26||Ds&&m.tag===27){if(T===null){oe=T=m;try{G=oe.stateNode,B?Cm(G):a1(oe.stateNode,oe.memoizedProps)}catch(bt){Xn(oe,oe.return,bt)}}}else if(m.tag===6){if(T===null){oe=m;try{var Je=oe.stateNode;B?Uy(Je):$c(Je,oe.memoizedProps)}catch(bt){Xn(oe,oe.return,bt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===d)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break e;for(;m.sibling===null;){if(m.return===null||m.return===d)break e;T===m&&(T=null),m=m.return}T===m&&(T=null),m.sibling.return=m.return,m=m.sibling}}O&4&&(O=d.updateQueue,O!==null&&(T=O.retryQueue,T!==null&&(O.retryQueue=null,hm(d,T))));break;case 19:ua(m,d),Oa(d),O&4&&(O=d.updateQueue,O!==null&&(d.updateQueue=null,hm(d,O)));break;case 21:break;default:ua(m,d),Oa(d)}}function Oa(d){var m=d.flags;if(m&2){try{if(Ps&&(!Ds||d.tag!==27)){e:{for(var T=d.return;T!==null;){if(N_(T)){var O=T;break e}T=T.return}throw Error(r(160))}switch(O.tag){case 27:if(Ds){var B=O.stateNode,G=gy(d);bd(d,G,B);break}case 5:var oe=O.stateNode;O.flags&32&&(wm(oe),O.flags&=-33);var me=gy(d);bd(d,me,oe);break;case 3:case 4:var Ce=O.stateNode.containerInfo,Je=gy(d);yy(d,Je,Ce);break;default:throw Error(r(161))}}}catch(bt){Xn(d,d.return,bt)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function L_(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var m=d;L_(m),m.tag===5&&m.flags&1024&&Ii(m.stateNode),d=d.sibling}}function Kl(d,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)vy(d,m.alternate,m),m=m.sibling}function Td(d){for(d=d.child;d!==null;){var m=d;switch(m.tag){case 0:case 11:case 14:case 15:Ru(4,m,m.return),Td(m);break;case 1:Yi(m,m.return);var T=m.stateNode;typeof T.componentWillUnmount=="function"&&QS(m,m.return,T),Td(m);break;case 26:case 27:case 5:Yi(m,m.return),Td(m);break;case 22:Yi(m,m.return),m.memoizedState===null&&Td(m);break;default:Td(m)}d=d.sibling}}function Pu(d,m,T){for(T=T&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var O=m.alternate,B=d,G=m,oe=G.flags;switch(G.tag){case 0:case 11:case 15:Pu(B,G,T),fm(4,G);break;case 1:if(Pu(B,G,T),O=G,B=O.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(Je){Xn(O,O.return,Je)}if(O=G,B=O.updateQueue,B!==null){var me=O.stateNode;try{var Ce=B.shared.hiddenCallbacks;if(Ce!==null)for(B.shared.hiddenCallbacks=null,B=0;B<Ce.length;B++)ve(Ce[B],me)}catch(Je){Xn(O,O.return,Je)}}T&&oe&64&&ZS(G),Wf(G,G.return);break;case 26:case 27:case 5:Pu(B,G,T),T&&O===null&&oe&4&&_d(G),Wf(G,G.return);break;case 12:Pu(B,G,T);break;case 13:Pu(B,G,T),T&&oe&4&&Ou(B,G);break;case 22:G.memoizedState===null&&Pu(B,G,T),Wf(G,G.return);break;default:Pu(B,G,T)}m=m.sibling}}function U_(d,m){var T=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),d=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(d=m.memoizedState.cachePool.pool),d!==T&&(d!=null&&d.refCount++,T!=null&&ir(T))}function by(d,m){d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&ir(d))}function kc(d,m,T,O){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)xy(d,m,T,O),m=m.sibling}function xy(d,m,T,O){var B=m.flags;switch(m.tag){case 0:case 11:case 15:kc(d,m,T,O),B&2048&&fm(9,m);break;case 3:kc(d,m,T,O),B&2048&&(d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&ir(d)));break;case 12:if(B&2048){kc(d,m,T,O),d=m.stateNode;try{var G=m.memoizedProps,oe=G.id,me=G.onPostCommit;typeof me=="function"&&me(oe,m.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Ce){Xn(m,m.return,Ce)}}else kc(d,m,T,O);break;case 23:break;case 22:G=m.stateNode,m.memoizedState!==null?G._visibility&4?kc(d,m,T,O):Du(d,m):G._visibility&4?kc(d,m,T,O):(G._visibility|=4,js(d,m,T,O,(m.subtreeFlags&10256)!==0)),B&2048&&U_(m.alternate,m);break;case 24:kc(d,m,T,O),B&2048&&by(m.alternate,m);break;default:kc(d,m,T,O)}}function js(d,m,T,O,B){for(B=B&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var G=d,oe=m,me=T,Ce=O,Je=oe.flags;switch(oe.tag){case 0:case 11:case 15:js(G,oe,me,Ce,B),fm(8,oe);break;case 23:break;case 22:var bt=oe.stateNode;oe.memoizedState!==null?bt._visibility&4?js(G,oe,me,Ce,B):Du(G,oe):(bt._visibility|=4,js(G,oe,me,Ce,B)),B&&Je&2048&&U_(oe.alternate,oe);break;case 24:js(G,oe,me,Ce,B),B&&Je&2048&&by(oe.alternate,oe);break;default:js(G,oe,me,Ce,B)}m=m.sibling}}function Du(d,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var T=d,O=m,B=O.flags;switch(O.tag){case 22:Du(T,O),B&2048&&U_(O.alternate,O);break;case 24:Du(T,O),B&2048&&by(O.alternate,O);break;default:Du(T,O)}m=m.sibling}}function ys(d){if(d.subtreeFlags&lh)for(d=d.child;d!==null;)$f(d),d=d.sibling}function $f(d){switch(d.tag){case 26:ys(d),d.flags&lh&&(d.memoizedState!==null?S1(ma,d.memoizedState,d.memoizedProps):dr(d.type,d.memoizedProps));break;case 5:ys(d),d.flags&lh&&dr(d.type,d.memoizedProps);break;case 3:case 4:if(uo){var m=ma;ma=jy(d.stateNode.containerInfo),ys(d),ma=m}else ys(d);break;case 22:d.memoizedState===null&&(m=d.alternate,m!==null&&m.memoizedState!==null?(m=lh,lh=16777216,ys(d),lh=m):ys(d));break;default:ys(d)}}function Sy(d){var m=d.alternate;if(m!==null&&(d=m.child,d!==null)){m.child=null;do m=d.sibling,d.sibling=null,d=m;while(d!==null)}}function Nu(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var T=0;T<m.length;T++){var O=m[T];vr=O,Lu(O,d)}Sy(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)dm(d),d=d.sibling}function dm(d){switch(d.tag){case 0:case 11:case 15:Nu(d),d.flags&2048&&Ru(9,d,d.return);break;case 3:Nu(d);break;case 12:Nu(d);break;case 22:var m=d.stateNode;d.memoizedState!==null&&m._visibility&4&&(d.return===null||d.return.tag!==13)?(m._visibility&=-5,wd(d)):Nu(d);break;default:Nu(d)}}function wd(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var T=0;T<m.length;T++){var O=m[T];vr=O,Lu(O,d)}Sy(d)}for(d=d.child;d!==null;){switch(m=d,m.tag){case 0:case 11:case 15:Ru(8,m,m.return),wd(m);break;case 22:T=m.stateNode,T._visibility&4&&(T._visibility&=-5,wd(m));break;default:wd(m)}d=d.sibling}}function Lu(d,m){for(;vr!==null;){var T=vr;switch(T.tag){case 0:case 11:case 15:Ru(8,T,m);break;case 23:case 22:if(T.memoizedState!==null&&T.memoizedState.cachePool!==null){var O=T.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:ir(T.memoizedState.cache)}if(O=T.child,O!==null)O.return=T,vr=O;else e:for(T=d;vr!==null;){O=vr;var B=O.sibling,G=O.return;if(Sd(O),O===T){vr=null;break e}if(B!==null){B.return=G,vr=B;break e}vr=G}}}function Ey(d){var m=Q_(d);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(r(364));return m}if(d=nh(d),d===null)throw Error(r(362));return d.stateNode.current}function Cd(d,m){var T=d.tag;switch(m.$$typeof){case Vm:if(d.type===m.value)return!0;break;case ev:e:{for(m=m.value,d=[d,0],T=0;T<d.length;){var O=d[T++],B=O.tag,G=d[T++],oe=m[G];if(B!==5&&B!==26&&B!==27||!sc(O)){for(;oe!=null&&Cd(O,oe);)G++,oe=m[G];if(G===m.length){m=!0;break e}else for(O=O.child;O!==null;)d.push(O,G),O=O.sibling}}m=!1}return m;case tv:if((T===5||T===26||T===27)&&jM(d.stateNode,m.value))return!0;break;case Si:if((T===5||T===6||T===26||T===27)&&(d=Tm(d),d!==null&&0<=d.indexOf(m.value)))return!0;break;case ti:if((T===5||T===26||T===27)&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Uu(d){switch(d.$$typeof){case Vm:return"<"+(a(d.value)||"Unknown")+">";case ev:return":has("+(Uu(d)||"")+")";case tv:return'[role="'+d.value+'"]';case Si:return'"'+d.value+'"';case ti:return'[data-testname="'+d.value+'"]';default:throw Error(r(365))}}function eE(d,m){var T=[];d=[d,0];for(var O=0;O<d.length;){var B=d[O++],G=B.tag,oe=d[O++],me=m[oe];if(G!==5&&G!==26&&G!==27||!sc(B)){for(;me!=null&&Cd(B,me);)oe++,me=m[oe];if(oe===m.length)T.push(B);else for(B=B.child;B!==null;)d.push(B,oe),B=B.sibling}}return T}function fa(d,m){if(!rc)throw Error(r(363));d=Ey(d),d=eE(d,m),m=[],d=Array.from(d);for(var T=0;T<d.length;){var O=d[T++],B=O.tag;if(B===5||B===26||B===27)sc(O)||m.push(O.stateNode);else for(O=O.child;O!==null;)d.push(O),O=O.sibling}return m}function ha(){if((Kt&2)!==0&&Fn!==0)return Fn&-Fn;if(rn.T!==null){var d=Ua;return d!==0?d:ct()}return zo()}function Zl(){Ba===0&&(Ba=(Fn&536870912)===0||si?U():536870912);var d=vo.current;return d!==null&&(d.flags|=32),Ba}function Gs(d,m,T){(d===qn&&Pi===2||d.cancelPendingCommit!==null)&&(dl(d,0),hl(d,Fn,Ba,!1)),F(d,T),((Kt&2)===0||d!==qn)&&(d===qn&&((Kt&2)===0&&(bl|=T),ni===4&&hl(d,Fn,Ba,!1)),qe(d))}function pm(d,m,T){if((Kt&6)!==0)throw Error(r(327));var O=!T&&(m&60)===0&&(m&d.expiredLanes)===0||L(d,m),B=O?ec(d,m):Ql(d,m,!0),G=O;do{if(B===0){_o&&!O&&hl(d,m,0,!1);break}else if(B===6)hl(d,m,0,!Ei);else{if(T=d.current.alternate,G&&!tE(T)){B=Ql(d,m,!1),G=!1;continue}if(B===2){if(G=m,d.errorRecoveryDisabledLanes&G)var oe=0;else oe=d.pendingLanes&-536870913,oe=oe!==0?oe:oe&536870912?536870912:0;if(oe!==0){m=oe;e:{var me=d;B=jd;var Ce=da&&me.current.memoizedState.isDehydrated;if(Ce&&(dl(me,oe).flags|=256),oe=Ql(me,oe,!1),oe!==2){if(Jc&&!Ce){me.errorRecoveryDisabledLanes|=G,bl|=G,B=4;break e}G=xo,xo=B,G!==null&&zc(G)}B=oe}if(G=!1,B!==2)continue}}if(B===1){dl(d,0),hl(d,m,0,!0);break}e:{switch(O=d,B){case 0:case 1:throw Error(r(345));case 4:if((m&4194176)===m){hl(O,m,Ba,!Ei);break e}break;case 2:xo=null;break;case 3:case 5:break;default:throw Error(r(329))}if(O.finishedWork=T,O.finishedLanes=m,(m&62914560)===m&&(G=uc+300-Ns(),10<G)){if(hl(O,m,Ba,!Ei),D(O,0)!==0)break e;O.timeoutHandle=Z_(Ty.bind(null,O,T,xo,xl,Gd,m,Ba,bl,eu,Ei,2,-0,0),G);break e}Ty(O,T,xo,xl,Gd,m,Ba,bl,eu,Ei,0,-0,0)}}break}while(!0);qe(d)}function zc(d){xo===null?xo=d:xo.push.apply(xo,d)}function Ty(d,m,T,O,B,G,oe,me,Ce,Je,bt,It,Nt){var bn=m.subtreeFlags;if((bn&8192||(bn&16785408)===16785408)&&(co(),$f(m),m=Dy(),m!==null)){d.cancelPendingCommit=m(Hi.bind(null,d,T,O,B,oe,me,Ce,1,It,Nt)),hl(d,G,oe,!Je);return}Hi(d,T,O,B,oe,me,Ce,bt,It,Nt)}function tE(d){for(var m=d;;){var T=m.tag;if((T===0||T===11||T===15)&&m.flags&16384&&(T=m.updateQueue,T!==null&&(T=T.stores,T!==null)))for(var O=0;O<T.length;O++){var B=T[O],G=B.getSnapshot;B=B.value;try{if(!fo(G(),B))return!1}catch{return!1}}if(T=m.child,m.subtreeFlags&16384&&T!==null)T.return=m,m=T;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function hl(d,m,T,O){m&=~Ks,m&=~bl,d.suspendedLanes|=m,d.pingedLanes&=~m,O&&(d.warmLanes|=m),O=d.expirationTimes;for(var B=m;0<B;){var G=31-Na(B),oe=1<<G;O[G]=-1,B&=~oe}T!==0&&V(d,T,m)}function k_(){return(Kt&6)===0?(ae(0),!1):!0}function Ia(){if(Tn!==null){if(Pi===0)var d=Tn.return;else d=Tn,yr=Zu=null,cl(d),oc=null,Vo=0,d=Tn;for(;d!==null;)P_(d.alternate,d),d=d.return;Tn=null}}function dl(d,m){d.finishedWork=null,d.finishedLanes=0;var T=d.timeoutHandle;T!==th&&(d.timeoutHandle=th,Em(T)),T=d.cancelPendingCommit,T!==null&&(d.cancelPendingCommit=null,T()),Ia(),qn=d,Tn=T=qs(d.current,null),Fn=m,Pi=0,Or=null,Ei=!1,_o=L(d,m),Jc=!1,eu=Ba=Ks=bl=bo=ni=0,xo=jd=null,Gd=!1,(m&8)!==0&&(m|=m&32);var O=d.entangledLanes;if(O!==0)for(d=d.entanglements,O&=m;0<O;){var B=31-Na(O),G=1<<B;m|=d[B],O&=~G}return _l=m,te(),T}function Xf(d,m){In=null,rn.H=ai,m===Mi?(m=Qt(),Pi=3):m===C1?(m=Qt(),Pi=4):Pi=m===NE?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Or=m,Tn===null&&(ni=1,Bf(d,re(m,d.current)))}function mm(){var d=vo.current;return d===null?!0:(Fn&4194176)===Fn?Ho===null:(Fn&62914560)===Fn||(Fn&536870912)!==0?d===Ho:!1}function Ad(){var d=rn.H;return rn.H=ai,d===null?ai:d}function oo(){var d=rn.A;return rn.A=Jy,d}function Pa(){ni=4,Ei||(Fn&4194176)!==Fn&&vo.current!==null||(_o=!0),(bo&134217727)===0&&(bl&134217727)===0||qn===null||hl(qn,Fn,Ba,!1)}function Ql(d,m,T){var O=Kt;Kt|=2;var B=Ad(),G=oo();(qn!==d||Fn!==m)&&(xl=null,dl(d,m)),m=!1;var oe=ni;e:do try{if(Pi!==0&&Tn!==null){var me=Tn,Ce=Or;switch(Pi){case 8:Ia(),oe=6;break e;case 3:case 2:case 6:vo.current===null&&(m=!0);var Je=Pi;if(Pi=0,Or=null,ku(d,me,Ce,Je),T&&_o){oe=0;break e}break;default:Je=Pi,Pi=0,Or=null,ku(d,me,Ce,Je)}}Jl(),oe=ni;break}catch(bt){Xf(d,bt)}while(!0);return m&&d.shellSuspendCounter++,yr=Zu=null,Kt=O,rn.H=B,rn.A=G,Tn===null&&(qn=null,Fn=0,te()),oe}function Jl(){for(;Tn!==null;)z_(Tn)}function ec(d,m){var T=Kt;Kt|=2;var O=Ad(),B=oo();qn!==d||Fn!==m?(xl=null,ur=Ns()+500,dl(d,m)):_o=L(d,m);e:do try{if(Pi!==0&&Tn!==null){m=Tn;var G=Or;t:switch(Pi){case 1:Pi=0,Or=null,ku(d,m,G,1);break;case 2:if(Qe(G)){Pi=0,Or=null,wy(m);break}m=function(){Pi===2&&qn===d&&(Pi=7),qe(d)},G.then(m,m);break e;case 3:Pi=7;break e;case 4:Pi=5;break e;case 7:Qe(G)?(Pi=0,Or=null,wy(m)):(Pi=0,Or=null,ku(d,m,G,7));break;case 5:var oe=null;switch(Tn.tag){case 26:oe=Tn.memoizedState;case 5:case 27:var me=Tn,Ce=me.type,Je=me.pendingProps;if(oe?x1(oe):Wc(Ce,Je)){Pi=0,Or=null;var bt=me.sibling;if(bt!==null)Tn=bt;else{var It=me.return;It!==null?(Tn=It,gm(It)):Tn=null}break t}}Pi=0,Or=null,ku(d,m,G,5);break;case 6:Pi=0,Or=null,ku(d,m,G,6);break;case 8:Ia(),ni=6;break e;default:throw Error(r(462))}}Bc();break}catch(Nt){Xf(d,Nt)}while(!0);return yr=Zu=null,rn.H=O,rn.A=B,Kt=T,Tn!==null?0:(qn=null,Fn=0,te(),ni)}function Bc(){for(;Tn!==null&&!RE();)z_(Tn)}function z_(d){var m=Hs(d.alternate,d,_l);d.memoizedProps=d.pendingProps,m===null?gm(d):Tn=m}function wy(d){var m=d,T=m.alternate;switch(m.tag){case 15:case 0:m=Mu(T,m,m.pendingProps,m.type,void 0,Fn);break;case 11:m=Mu(T,m,m.pendingProps,m.type.render,m.ref,Fn);break;case 5:cl(m);default:P_(T,m),m=Tn=Hc(m,_l),m=Hs(T,m,_l)}d.memoizedProps=d.pendingProps,m===null?gm(d):Tn=m}function ku(d,m,T,O){yr=Zu=null,cl(m),oc=null,Vo=0;var B=m.return;try{if(my(d,B,m,T,Fn)){ni=1,Bf(d,re(T,d.current)),Tn=null;return}}catch(G){if(B!==null)throw Tn=B,G;ni=1,Bf(d,re(T,d.current)),Tn=null;return}m.flags&32768?(si||O===1?d=!0:_o||(Fn&536870912)!==0?d=!1:(Ei=d=!0,(O===2||O===3||O===6)&&(O=vo.current,O!==null&&O.tag===13&&(O.flags|=16384))),vs(m,d)):gm(m)}function gm(d){var m=d;do{if((m.flags&32768)!==0){vs(m,Ei);return}d=m.return;var T=YS(m.alternate,m,_l);if(T!==null){Tn=T;return}if(m=m.sibling,m!==null){Tn=m;return}Tn=m=d}while(m!==null);ni===0&&(ni=5)}function vs(d,m){do{var T=KS(d.alternate,d);if(T!==null){T.flags&=32767,Tn=T;return}if(T=d.return,T!==null&&(T.flags|=32768,T.subtreeFlags=0,T.deletions=null),!m&&(d=d.sibling,d!==null)){Tn=d;return}Tn=d=T}while(d!==null);ni=6,Tn=null}function Hi(d,m,T,O,B,G,oe,me,Ce,Je){var bt=rn.T,It=ss();try{Ws(2),rn.T=null,Zn(d,m,T,O,It,B,G,oe,me,Ce,Je)}finally{rn.T=bt,Ws(It)}}function Zn(d,m,T,O,B,G,oe,me){do _s();while(tu!==null);if((Kt&6)!==0)throw Error(r(327));var Ce=d.finishedWork;if(O=d.finishedLanes,Ce===null)return null;if(d.finishedWork=null,d.finishedLanes=0,Ce===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0,d.cancelPendingCommit=null;var Je=Ce.lanes|Ce.childLanes;if(Je|=zd,z(d,O,Je,G,oe,me),d===qn&&(Tn=qn=null,Fn=0),(Ce.subtreeFlags&10256)===0&&(Ce.flags&10256)===0||Go||(Go=!0,nv=Je,uh=T,ym(qy,function(){return _s(),null})),T=(Ce.flags&15990)!==0,(Ce.subtreeFlags&15990)!==0||T?(T=rn.T,rn.T=null,G=ss(),Ws(2),oe=Kt,Kt|=4,xd(d,Ce),Iu(Ce,d),Y_(d.containerInfo),d.current=Ce,vy(d,Ce.alternate,Ce),OE(),Kt=oe,Ws(G),rn.T=T):d.current=Ce,Go?(Go=!1,tu=d,ch=O):Fc(d,Je),Je=d.pendingLanes,Je===0&&(So=null),q(Ce.stateNode),qe(d),m!==null)for(B=d.onRecoverableError,Ce=0;Ce<m.length;Ce++)Je=m[Ce],B(Je.value,{componentStack:Je.stack});return(ch&3)!==0&&_s(),Je=d.pendingLanes,(O&4194218)!==0&&(Je&42)!==0?d===ga?fh++:(fh=0,ga=d):fh=0,ae(0),null}function Fc(d,m){(d.pooledCacheLanes&=m)===0&&(m=d.pooledCache,m!=null&&(d.pooledCache=null,ir(m)))}function _s(){if(tu!==null){var d=tu,m=nv;nv=0;var T=ee(ch),O=32>T?32:T;T=rn.T;var B=ss();try{if(Ws(O),rn.T=null,tu===null)var G=!1;else{O=uh,uh=null;var oe=tu,me=ch;if(tu=null,ch=0,(Kt&6)!==0)throw Error(r(331));var Ce=Kt;if(Kt|=4,dm(oe.current),xy(oe,oe.current,me,O),Kt=Ce,ae(0,!1),La&&typeof La.onPostCommitFiberRoot=="function")try{La.onPostCommitFiberRoot(Ud,oe)}catch{}G=!0}return G}finally{Ws(B),rn.T=T,Fc(d,m)}}return!1}function Cy(d,m,T){m=re(T,m),m=Cu(d.stateNode,m,2),d=At(d,m,2),d!==null&&(F(d,2),qe(d))}function Xn(d,m,T){if(d.tag===3)Cy(d,d,T);else for(;m!==null;){if(m.tag===3){Cy(m,d,T);break}else if(m.tag===1){var O=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(So===null||!So.has(O))){d=re(T,d),T=Vs(2),O=At(m,T,2),O!==null&&(Au(T,O,m,d),F(O,2),qe(O));break}}m=m.return}}function Ay(d,m,T){var O=d.pingCache;if(O===null){O=d.pingCache=new Yn;var B=new Set;O.set(m,B)}else B=O.get(m),B===void 0&&(B=new Set,O.set(m,B));B.has(T)||(Jc=!0,B.add(T),d=nE.bind(null,d,m,T),m.then(d,d))}function nE(d,m,T){var O=d.pingCache;O!==null&&O.delete(m),d.pingedLanes|=d.suspendedLanes&T,d.warmLanes&=~T,qn===d&&(Fn&T)===T&&(ni===4||ni===3&&(Fn&62914560)===Fn&&300>Ns()-uc?(Kt&2)===0&&dl(d,0):Ks|=T,eu===Fn&&(eu=0)),qe(d)}function Yf(d,m){m===0&&(m=I()),d=Ne(d,m),d!==null&&(F(d,m),qe(d))}function Kf(d){var m=d.memoizedState,T=0;m!==null&&(T=m.retryLane),Yf(d,T)}function B_(d,m){var T=0;switch(d.tag){case 13:var O=d.stateNode,B=d.memoizedState;B!==null&&(T=B.retryLane);break;case 19:O=d.stateNode;break;case 22:O=d.stateNode._retryCache;break;default:throw Error(r(314))}O!==null&&O.delete(m),Yf(d,T)}function ym(d,m){return Ld(d,m)}function F_(d,m,T,O){this.tag=d,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vc(d){return d=d.prototype,!(!d||!d.isReactComponent)}function qs(d,m){var T=d.alternate;return T===null?(T=t(d.tag,m,d.key,d.mode),T.elementType=d.elementType,T.type=d.type,T.stateNode=d.stateNode,T.alternate=d,d.alternate=T):(T.pendingProps=m,T.type=d.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=d.flags&31457280,T.childLanes=d.childLanes,T.lanes=d.lanes,T.child=d.child,T.memoizedProps=d.memoizedProps,T.memoizedState=d.memoizedState,T.updateQueue=d.updateQueue,m=d.dependencies,T.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},T.sibling=d.sibling,T.index=d.index,T.ref=d.ref,T.refCleanup=d.refCleanup,T}function Hc(d,m){d.flags&=31457282;var T=d.alternate;return T===null?(d.childLanes=0,d.lanes=m,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=T.childLanes,d.lanes=T.lanes,d.child=T.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=T.memoizedProps,d.memoizedState=T.memoizedState,d.updateQueue=T.updateQueue,d.type=T.type,m=T.dependencies,d.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),d}function ko(d,m,T,O,B,G){var oe=0;if(O=d,typeof d=="function")Vc(d)&&(oe=1);else if(typeof d=="string")oe=uo&&Ds?p1(d,T,xs.current)?26:Dd(d)?27:5:uo?p1(d,T,xs.current)?26:5:Ds&&Dd(d)?27:5;else e:switch(d){case Rd:return jc(T.children,B,G,m);case q_:oe=8,B|=24;break;case W_:return d=t(12,T,m,B|2),d.elementType=W_,d.lanes=G,d;case Ry:return d=t(13,T,m,B),d.elementType=Ry,d.lanes=G,d;case Fu:return d=t(19,T,m,B),d.elementType=Fu,d.lanes=G,d;case bm:return My(T,B,G,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case sE:case tc:oe=10;break e;case Bu:oe=9;break e;case Od:oe=11;break e;case _m:oe=14;break e;case ml:oe=16,O=null;break e}oe=29,T=Error(r(130,d===null?"null":typeof d,"")),O=null}return m=t(oe,T,m,B),m.elementType=d,m.type=O,m.lanes=G,m}function jc(d,m,T,O){return d=t(7,d,O,m),d.lanes=T,d}function My(d,m,T,O){d=t(22,d,O,m),d.elementType=bm,d.lanes=T;var B={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var G=B._current;if(G===null)throw Error(r(456));if((B._pendingVisibility&2)===0){var oe=Ne(G,2);oe!==null&&(B._pendingVisibility|=2,Gs(oe,G,2))}},attach:function(){var G=B._current;if(G===null)throw Error(r(456));if((B._pendingVisibility&2)!==0){var oe=Ne(G,2);oe!==null&&(B._pendingVisibility&=-3,Gs(oe,G,2))}}};return d.stateNode=B,d}function zu(d,m,T){return d=t(6,d,null,m),d.lanes=T,d}function Md(d,m,T){return m=t(4,d.children!==null?d.children:[],d.key,m),m.lanes=T,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function Zf(d,m,T,O,B,G,oe,me){this.tag=1,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=th,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=N(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N(0),this.hiddenUpdates=N(null),this.identifierPrefix=O,this.onUncaughtError=B,this.onCaughtError=G,this.onRecoverableError=oe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function bs(d,m,T,O,B,G,oe,me,Ce,Je,bt,It){return d=new Zf(d,m,T,oe,me,Ce,Je,It),m=1,G===!0&&(m|=24),G=t(3,null,null,m),d.current=G,G.stateNode=d,m=fi(),m.refCount++,d.pooledCache=m,m.refCount++,G.memoizedState={element:O,isDehydrated:T,cache:m},$e(G),d}function vm(d){return d?(d=ih,d):ih}function V_(d){var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=v(m),d=d!==null?_(d):null,d===null?null:Id(d.stateNode)}function iE(d,m,T,O,B,G){B=vm(B),O.context===null?O.context=B:O.pendingContext=B,O=wt(m),O.payload={element:T},G=G===void 0?null:G,G!==null&&(O.callback=G),T=At(d,O,m),T!==null&&(Gs(T,d,m),vt(T,d,m))}function rE(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var T=d.retryLane;d.retryLane=T!==0&&T<m?T:m}}function H_(d,m){rE(d,m),(d=d.alternate)&&rE(d,m)}var Yt={},j_=s_(),Is=hW(),Qf=Object.assign,G_=Symbol.for("react.element"),Gc=Symbol.for("react.transitional.element"),pl=Symbol.for("react.portal"),Rd=Symbol.for("react.fragment"),q_=Symbol.for("react.strict_mode"),W_=Symbol.for("react.profiler"),sE=Symbol.for("react.provider"),Bu=Symbol.for("react.consumer"),tc=Symbol.for("react.context"),Od=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),Fu=Symbol.for("react.suspense_list"),_m=Symbol.for("react.memo"),ml=Symbol.for("react.lazy"),bm=Symbol.for("react.offscreen"),aE=Symbol.for("react.memo_cache_sentinel"),$_=Symbol.iterator,Jf=Symbol.for("react.client.reference"),rn=j_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oy,X_,Vu=!1,Hu=Array.isArray,Iy=e.rendererVersion,xm=e.rendererPackageName,Sm=e.extraDevToolsConfig,Id=e.getPublicInstance,eh=e.getRootHostContext,oE=e.getChildHostContext,ju=e.prepareForCommit,Y_=e.resetAfterCommit,K_=e.createInstance,nc=e.appendInitialChild,qc=e.finalizeInitialChildren,Gu=e.shouldSetTextContent,Py=e.createTextInstance,Z_=e.scheduleTimeout,Em=e.cancelTimeout,th=e.noTimeout,ic=e.isPrimaryRenderer;e.warnsIfNotActing;var Ps=e.supportsMutation,lo=e.supportsPersistence,da=e.supportsHydration,Q_=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var J_=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Ws=e.setCurrentUpdatePriority,ss=e.getCurrentUpdatePriority,zo=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var qu=e.shouldAttemptEagerTransition,e1=e.detachDeletedInstance;e.requestPostPaintCallback;var lE=e.maySuspendCommit,Wc=e.preloadInstance,co=e.startSuspendingCommit,dr=e.suspendInstance,Dy=e.waitForCommitToBeReady,Da=e.NotPendingTransition,dn=e.HostTransitionContext,Ii=e.resetFormInstance;e.bindToConsole;var Wr=e.supportsMicrotasks,Ny=e.scheduleMicrotask,rc=e.supportsTestSelectors,nh=e.findFiberRoot,Ly=e.getBoundingRect,Tm=e.getTextContent,sc=e.isHiddenSubtree,jM=e.matchAccessibilityRole,pr=e.setFocusIfFocusable,t1=e.setupIntersectionObserver,n1=e.appendChild,cE=e.appendChildToContainer,uE=e.commitTextUpdate,GM=e.commitMount,i1=e.commitUpdate,r1=e.insertBefore,s1=e.insertInContainerBefore,pa=e.removeChild,Cr=e.removeChildFromContainer,wm=e.resetTextContent,Cm=e.hideInstance,Uy=e.hideTextInstance,a1=e.unhideInstance,$c=e.unhideTextInstance,ky=e.clearContainer,o1=e.cloneInstance,zy=e.createContainerChildSet,l1=e.appendChildToContainerChildSet,fE=e.finalizeContainerChildren,c1=e.replaceContainerChildren,u1=e.cloneHiddenInstance,f1=e.cloneHiddenTextInstance,By=e.isSuspenseInstancePending,Am=e.isSuspenseInstanceFallback,hE=e.getSuspenseInstanceFallbackErrorDetails,qM=e.registerSuspenseInstanceRetry,dE=e.canHydrateFormStateMarker,pE=e.isFormStateMarkerMatching,h1=e.getNextHydratableSibling,Fy=e.getFirstHydratableChild,mE=e.getFirstHydratableChildWithinContainer,gE=e.getFirstHydratableChildWithinSuspenseInstance,yE=e.canHydrateInstance,vE=e.canHydrateTextInstance,_E=e.canHydrateSuspenseInstance,WM=e.hydrateInstance,bE=e.hydrateTextInstance,Pd=e.hydrateSuspenseInstance,xE=e.getNextHydratableInstanceAfterSuspenseInstance,Vy=e.commitHydratedContainer,Hy=e.commitHydratedSuspenseInstance,SE=e.clearSuspenseBoundary,d1=e.clearSuspenseBoundaryFromContainer,EE=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var TE=e.validateHydratableInstance,wE=e.validateHydratableTextInstance,uo=e.supportsResources,p1=e.isHostHoistableType,jy=e.getHoistableRoot,Gy=e.getResource,m1=e.acquireResource,g1=e.releaseResource,y1=e.hydrateHoistable,v1=e.mountHoistable,_1=e.unmountHoistable,$M=e.createHoistableInstance,b1=e.prepareToCommitHoistables,CE=e.mayResourceSuspendCommit,x1=e.preloadResource,S1=e.suspendResource,Ds=e.supportsSingletons,E1=e.resolveSingletonInstance,XM=e.clearSingleton,YM=e.acquireSingletonInstance,AE=e.releaseSingletonInstance,Dd=e.isHostSingletonType,Mm=[],Xc=-1,ih={},Na=Math.clz32?Math.clz32:A,Rm=Math.log,ME=Math.LN2,Nd=128,Om=4194304,Ld=Is.unstable_scheduleCallback,Im=Is.unstable_cancelCallback,RE=Is.unstable_shouldYield,OE=Is.unstable_requestPaint,Ns=Is.unstable_now,T1=Is.unstable_ImmediatePriority,IE=Is.unstable_UserBlockingPriority,qy=Is.unstable_NormalPriority,Wy=Is.unstable_IdlePriority,PE=Is.log,w1=Is.unstable_setDisableYieldValue,Ud=null,La=null,fo=typeof Object.is=="function"?Object.is:Q,$y=new WeakMap,Ki=[],mr=0,Pm=null,Dm=0,ho=[],po=0,gl=null,ac=1,Bo="",xs=E(null),Nm=E(null),yl=E(null),kd=E(null),$s=null,Ls=null,si=!1,mo=null,Fo=!1,Lm=Error(r(519)),go=[],Wu=0,zd=0,Bd=null,rh=null,Um=!1,km=!1,vl=!1,$u=0,zm=null,Xy=0,Ua=0,Xu=null,Yc=!1,Fd=!1,Bm=Object.prototype.hasOwnProperty,Mi=Error(r(460)),C1=Error(r(474)),Yy={then:function(){}},sh=null,oc=null,Vo=0,Yu=Mt(!0),A1=Mt(!1),lc=E(null),yo=E(0),vo=E(null),Ho=null,$r=E(0),cc=0,In=null,yi=null,Ar=null,jo=!1,Zi=!1,Kc=!1,Fm=0,gr=0,Vd=null,DE=0,Ky=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},ai={readContext:Ee,use:De,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn};ai.useCacheRefresh=yn,ai.useMemoCache=yn,ai.useHostTransitionStatus=yn,ai.useFormState=yn,ai.useActionState=yn,ai.useOptimistic=yn;var Xr={readContext:Ee,use:De,useCallback:function(d,m){return se().memoizedState=[d,m===void 0?null:m],d},useContext:Ee,useEffect:nm,useImperativeHandle:function(d,m,T){T=T!=null?T.concat([d]):null,od(4194308,4,ul.bind(null,m,d),T)},useLayoutEffect:function(d,m){return od(4194308,4,d,m)},useInsertionEffect:function(d,m){od(4,2,d,m)},useMemo:function(d,m){var T=se();m=m===void 0?null:m;var O=d();if(Kc){$(!0);try{d()}finally{$(!1)}}return T.memoizedState=[O,m],O},useReducer:function(d,m,T){var O=se();if(T!==void 0){var B=T(m);if(Kc){$(!0);try{T(m)}finally{$(!1)}}}else B=m;return O.memoizedState=O.baseState=B,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:B},O.queue=d,d=d.dispatch=so.bind(null,In,d),[O.memoizedState,d]},useRef:function(d){var m=se();return d={current:d},m.memoizedState=d},useState:function(d){d=Wn(d);var m=d.queue,T=zf.bind(null,In,m);return m.dispatch=T,[d.memoizedState,T]},useDebugValue:Tu,useDeferredValue:function(d,m){var T=se();return la(T,d,m)},useTransition:function(){var d=Wn(!1);return d=ld.bind(null,In,d.queue,!0,!1),se().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,m,T){var O=In,B=se();if(si){if(T===void 0)throw Error(r(407));T=T()}else{if(T=m(),qn===null)throw Error(r(349));(Fn&60)!==0||en(O,m,T)}B.memoizedState=T;var G={value:T,getSnapshot:m};return B.queue=G,nm(Bn.bind(null,O,G,d),[d]),O.flags|=2048,Os(9,Gt.bind(null,O,G,T,m),{destroy:void 0},null),T},useId:function(){var d=se(),m=qn.identifierPrefix;if(si){var T=Bo,O=ac;T=(O&~(1<<32-Na(O)-1)).toString(32)+T,m=":"+m+"R"+T,T=Fm++,0<T&&(m+="H"+T.toString(32)),m+=":"}else T=DE++,m=":"+m+"r"+T.toString(32)+":";return d.memoizedState=m},useCacheRefresh:function(){return se().memoizedState=Hl.bind(null,In)}};Xr.useMemoCache=xe,Xr.useHostTransitionStatus=Fs,Xr.useFormState=ei,Xr.useActionState=ei,Xr.useOptimistic=function(d){var m=se();m.memoizedState=m.baseState=d;var T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=T,m=jl.bind(null,In,!0,T),T.dispatch=m,[d,m]};var Xs={readContext:Ee,use:De,useCallback:kf,useContext:Ee,useEffect:Uf,useImperativeHandle:is,useInsertionEffect:dy,useLayoutEffect:py,useMemo:Vl,useReducer:Tt,useRef:Tr,useState:function(){return Tt(st)},useDebugValue:Tu,useDeferredValue:function(d,m){var T=_e();return im(T,yi.memoizedState,d,m)},useTransition:function(){var d=Tt(st)[0],m=_e().memoizedState;return[typeof d=="boolean"?d:Le(d),m]},useSyncExternalStore:sn,useId:No};Xs.useCacheRefresh=cd,Xs.useMemoCache=xe,Xs.useHostTransitionStatus=Fs,Xs.useFormState=Er,Xs.useActionState=Er,Xs.useOptimistic=function(d,m){var T=_e();return un(T,yi,d,m)};var Ku={readContext:Ee,use:De,useCallback:kf,useContext:Ee,useEffect:Uf,useImperativeHandle:is,useInsertionEffect:dy,useLayoutEffect:py,useMemo:Vl,useReducer:Ot,useRef:Tr,useState:function(){return Ot(st)},useDebugValue:Tu,useDeferredValue:function(d,m){var T=_e();return yi===null?la(T,d,m):im(T,yi.memoizedState,d,m)},useTransition:function(){var d=Ot(st)[0],m=_e().memoizedState;return[typeof d=="boolean"?d:Le(d),m]},useSyncExternalStore:sn,useId:No};Ku.useCacheRefresh=cd,Ku.useMemoCache=xe,Ku.useHostTransitionStatus=Fs,Ku.useFormState=or,Ku.useActionState=or,Ku.useOptimistic=function(d,m){var T=_e();return yi!==null?un(T,yi,d,m):(T.baseState=d,[d,T.queue.dispatch])};var Zy={isMounted:function(d){return(d=d._reactInternals)?p(d)===d:!1},enqueueSetState:function(d,m,T){d=d._reactInternals;var O=ha(),B=wt(O);B.payload=m,T!=null&&(B.callback=T),m=At(d,B,O),m!==null&&(Gs(m,d,O),vt(m,d,O))},enqueueReplaceState:function(d,m,T){d=d._reactInternals;var O=ha(),B=wt(O);B.tag=1,B.payload=m,T!=null&&(B.callback=T),m=At(d,B,O),m!==null&&(Gs(m,d,O),vt(m,d,O))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var T=ha(),O=wt(T);O.tag=2,m!=null&&(O.callback=m),m=At(d,O,T),m!==null&&(Gs(m,d,T),vt(m,d,T))}},M1=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},NE=Error(r(461)),Mr=!1,Ys={dehydrated:null,treeContext:null,retryLane:0},ka=E(null),Zu=null,yr=null,LE=typeof AbortController<"u"?AbortController:function(){var d=[],m=this.signal={aborted:!1,addEventListener:function(T,O){d.push(O)}};this.abort=function(){m.aborted=!0,d.forEach(function(T){return T()})}},Zc=Is.unstable_scheduleCallback,ah=Is.unstable_NormalPriority,xi={$$typeof:tc,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Qy=rn.S;rn.S=function(d,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&ft(d,m),Qy!==null&&Qy(d,m)};var Qc=E(null),as=!1,cr=!1,Qu=!1,Hd=typeof WeakSet=="function"?WeakSet:Set,vr=null,oh=!1,Rr=null,za=!1,ma=null,lh=8192,Jy={getCacheForType:function(d){var m=Ee(xi),T=m.data.get(d);return T===void 0&&(T=d(),m.data.set(d,T)),T}},Vm=0,ev=1,tv=2,ti=3,Si=4;if(typeof Symbol=="function"&&Symbol.for){var Pn=Symbol.for;Vm=Pn("selector.component"),ev=Pn("selector.has_pseudo_class"),tv=Pn("selector.role"),ti=Pn("selector.test_id"),Si=Pn("selector.text")}var Yn=typeof WeakMap=="function"?WeakMap:Map,Kt=0,qn=null,Tn=null,Fn=0,Pi=0,Or=null,Ei=!1,_o=!1,Jc=!1,_l=0,ni=0,bo=0,bl=0,Ks=0,Ba=0,eu=0,jd=null,xo=null,Gd=!1,uc=0,ur=1/0,xl=null,So=null,Go=!1,tu=null,ch=0,nv=0,uh=null,fh=0,ga=null;return Yt.attemptContinuousHydration=function(d){if(d.tag===13){var m=Ne(d,67108864);m!==null&&Gs(m,d,67108864),H_(d,67108864)}},Yt.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var m=ha(),T=Ne(d,m);T!==null&&Gs(T,d,m),H_(d,m)}},Yt.attemptSynchronousHydration=function(d){switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=C(d.pendingLanes);if(m!==0){for(d.pendingLanes|=2,d.entangledLanes|=2;m;){var T=1<<31-Na(m);d.entanglements[1]|=T,m&=~T}qe(d),(Kt&6)===0&&(ur=Ns()+500,ae(0))}}break;case 13:m=Ne(d,2),m!==null&&Gs(m,d,2),k_(),H_(d,2)}},Yt.batchedUpdates=function(d,m){return d(m)},Yt.createComponentSelector=function(d){return{$$typeof:Vm,value:d}},Yt.createContainer=function(d,m,T,O,B,G,oe,me,Ce,Je){return bs(d,m,!1,null,T,O,G,oe,me,Ce,Je,null)},Yt.createHasPseudoClassSelector=function(d){return{$$typeof:ev,value:d}},Yt.createHydrationContainer=function(d,m,T,O,B,G,oe,me,Ce,Je,bt,It,Nt){return d=bs(T,O,!0,d,B,G,me,Ce,Je,bt,It,Nt),d.context=vm(null),T=d.current,O=ha(),B=wt(O),B.callback=m??null,At(T,B,O),d.current.lanes=O,F(d,O),qe(d),d},Yt.createPortal=function(d,m,T){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pl,key:O==null?null:""+O,children:d,containerInfo:m,implementation:T}},Yt.createRoleSelector=function(d){return{$$typeof:tv,value:d}},Yt.createTestNameSelector=function(d){return{$$typeof:ti,value:d}},Yt.createTextSelector=function(d){return{$$typeof:Si,value:d}},Yt.defaultOnCaughtError=function(d){console.error(d)},Yt.defaultOnRecoverableError=function(d){M1(d)},Yt.defaultOnUncaughtError=function(d){M1(d)},Yt.deferredUpdates=function(d){var m=rn.T,T=ss();try{return Ws(32),rn.T=null,d()}finally{Ws(T),rn.T=m}},Yt.discreteUpdates=function(d,m,T,O,B){var G=rn.T,oe=ss();try{return Ws(2),rn.T=null,d(m,T,O,B)}finally{Ws(oe),rn.T=G,Kt===0&&(ur=Ns()+500)}},Yt.findAllNodes=fa,Yt.findBoundingRects=function(d,m){if(!rc)throw Error(r(363));m=fa(d,m),d=[];for(var T=0;T<m.length;T++)d.push(Ly(m[T]));for(m=d.length-1;0<m;m--){T=d[m];for(var O=T.x,B=O+T.width,G=T.y,oe=G+T.height,me=m-1;0<=me;me--)if(m!==me){var Ce=d[me],Je=Ce.x,bt=Je+Ce.width,It=Ce.y,Nt=It+Ce.height;if(O>=Je&&G>=It&&B<=bt&&oe<=Nt){d.splice(m,1);break}else if(O!==Je||T.width!==Ce.width||Nt<G||It>oe){if(!(G!==It||T.height!==Ce.height||bt<O||Je>B)){Je>O&&(Ce.width+=Je-O,Ce.x=O),bt<B&&(Ce.width=B-Je),d.splice(m,1);break}}else{It>G&&(Ce.height+=It-G,Ce.y=G),Nt<oe&&(Ce.height=oe-It),d.splice(m,1);break}}}return d},Yt.findHostInstance=V_,Yt.findHostInstanceWithNoPortals=function(d){return d=v(d),d=d!==null?S(d):null,d===null?null:Id(d.stateNode)},Yt.findHostInstanceWithWarning=function(d){return V_(d)},Yt.flushPassiveEffects=_s,Yt.flushSyncFromReconciler=function(d){var m=Kt;Kt|=1;var T=rn.T,O=ss();try{if(Ws(2),rn.T=null,d)return d()}finally{Ws(O),rn.T=T,Kt=m,(Kt&6)===0&&ae(0)}},Yt.flushSyncWork=k_,Yt.focusWithin=function(d,m){if(!rc)throw Error(r(363));for(d=Ey(d),m=eE(d,m),m=Array.from(m),d=0;d<m.length;){var T=m[d++],O=T.tag;if(!sc(T)){if((O===5||O===26||O===27)&&pr(T.stateNode))return!0;for(T=T.child;T!==null;)m.push(T),T=T.sibling}}return!1},Yt.getFindAllNodesFailureDescription=function(d,m){if(!rc)throw Error(r(363));var T=0,O=[];d=[Ey(d),0];for(var B=0;B<d.length;){var G=d[B++],oe=G.tag,me=d[B++],Ce=m[me];if((oe!==5&&oe!==26&&oe!==27||!sc(G))&&(Cd(G,Ce)&&(O.push(Uu(Ce)),me++,me>T&&(T=me)),me<m.length))for(G=G.child;G!==null;)d.push(G,me),G=G.sibling}if(T<m.length){for(d=[];T<m.length;T++)d.push(Uu(m[T]));return`findAllNodes was able to match part of the selector:
  `+(O.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},Yt.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 27:case 5:return Id(d.child.stateNode);default:return d.child.stateNode}},Yt.injectIntoDevTools=function(){var d={bundleType:0,version:Iy,rendererPackageName:xm,currentDispatcherRef:rn,findFiberByHostInstance:Q_,reconcilerVersion:"19.0.0"};if(Sm!==null&&(d.rendererConfig=Sm),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)d=!0;else{try{Ud=m.inject(d),La=m}catch{}d=!!m.checkDCE}}return d},Yt.isAlreadyRendering=function(){return!1},Yt.observeVisibleRects=function(d,m,T,O){if(!rc)throw Error(r(363));d=fa(d,m);var B=t1(d,T,O).disconnect;return{disconnect:function(){B()}}},Yt.shouldError=function(){return null},Yt.shouldSuspend=function(){return!1},Yt.startHostTransition=function(d,m,T,O){if(d.tag!==5)throw Error(r(476));var B=rm(d).queue;ld(d,B,m,Da,T===null?i:function(){var G=rm(d).next.queue;return Ma(d,G,{},ha()),T(O)})},Yt.updateContainer=function(d,m,T,O){var B=m.current,G=ha();return iE(B,G,d,m,T,O),G},Yt.updateContainerSync=function(d,m,T,O){return m.tag===0&&_s(),iE(m.current,2,d,m,T,O),2},Yt},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(h3)),h3.exports}var D6;function PSe(){return D6||(D6=1,f3.exports=ISe()),f3.exports}var DSe=PSe();const NSe=$p(DSe);var N6=hW();function HL(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=HL(i,e,t);if(r)return r;i=e?null:i.sibling}}function dW(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const jL=dW(H.createContext(null));let pW=class extends H.Component{render(){return H.createElement(jL.Provider,{value:this._reactInternals},this.props.children)}};function mW(){const n=H.useContext(jL);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=H.useId();return H.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=HL(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[n,e])}const LSe=Symbol.for("react.context"),USe=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===LSe;function kSe(){const n=mW(),[e]=H.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;USe(i)&&i!==jL&&!e.has(i)&&e.set(i,H.use(dW(i))),t=t.return}return e}function zSe(){const n=kSe();return H.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>H.createElement(e,null,H.createElement(t.Provider,{...i,value:n.get(t)})),e=>H.createElement(pW,{...e})),[n])}function gW(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const yW=n=>n&&n.isOrthographicCamera,BSe=n=>n&&n.hasOwnProperty("current"),FSe=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),$S=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?H.useLayoutEffect:H.useEffect;function GL(n){const e=H.useRef(n);return $S(()=>void(e.current=n),[n]),e}function VSe(){const n=mW(),e=zSe();return H.useMemo(()=>({children:t})=>{const r=!!HL(n,!0,s=>s.type===H.StrictMode)?H.StrictMode:H.Fragment;return Z.jsx(r,{children:Z.jsx(e,{children:t})})},[n,e])}function HSe({set:n}){return $S(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const jSe=(n=>(n=class extends H.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function vW(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Nv(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Pr={obj:n=>n===Object(n)&&!Pr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Pr.str(n)||Pr.num(n)||Pr.boo(n))return n===e;const s=Pr.obj(n);if(s&&i==="reference")return n===e;const a=Pr.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(o in r?e:n)if(!Pr.equ(n[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:n)if(n[o]!==e[o])return!1;if(Pr.und(o)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function GSe(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const _W=["children","key","ref"];function qSe(n){const e={};for(const t in n)_W.includes(t)||(e[t]=n[t]);return e}function qC(n,e,t,i){const r=n;let s=r?.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:qSe(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function lS(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const r of i){if(typeof t!="object"||t===null){if(t!==void 0){const s=i.slice(i.indexOf(r)).join("-");return{root:t,key:s,target:void 0}}return{root:n,key:e,target:void 0}}e=r,n=t,t=t[e]}return{root:n,key:e,target:t}}const L6=/-\d+$/;function WC(n,e){if(Pr.str(e.props.attach)){if(L6.test(e.props.attach)){const r=e.props.attach.replace(L6,""),{root:s,key:a}=lS(n.object,r);Array.isArray(s[a])||(s[a]=[])}const{root:t,key:i}=lS(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Pr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function $C(n,e){if(Pr.str(e.props.attach)){const{root:t,key:i}=lS(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const LP=[..._W,"args","dispose","attach","object","onUpdate","dispose"],U6=new Map;function WSe(n){let e=U6.get(n.constructor);try{e||(e=new n.constructor,U6.set(n.constructor,e))}catch{}return e}function $Se(n,e){const t={};for(const i in e)if(!LP.includes(i)&&!Pr.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(LP.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:s}=lS(n.object,i);if(r.constructor&&r.constructor.length===0){const a=WSe(r);Pr.und(a)||(t[s]=a[s])}else t[s]=0}return t}const XSe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],YSe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function gp(n,e){var t;const i=n.__r3f,r=i&&gW(i).getState(),s=i?.eventCount;for(const o in e){let c=e[o];if(LP.includes(o))continue;if(i&&YSe.test(o)){typeof c=="function"?i.handlers[o]=c:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(c===void 0)continue;let{root:u,key:h,target:p}=lS(n,o);if(p===void 0&&(typeof u!="object"||u===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${h}".`);if(p instanceof G0&&c instanceof G0)p.mask=c.mask;else if(p instanceof Ut&&FSe(c))p.set(c);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof p.copy=="function"&&c!=null&&c.constructor&&p.constructor===c.constructor)p.copy(c);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&Array.isArray(c))typeof p.fromArray=="function"?p.fromArray(c):p.set(...c);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof c=="number")typeof p.setScalar=="function"?p.setScalar(c):p.set(c);else{var a;u[h]=c,r&&!r.linear&&XSe.includes(h)&&(a=u[h])!=null&&a.isTexture&&u[h].format===Qa&&u[h].type===wc&&(u[h].colorSpace=ba)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&s!==i.eventCount){const o=i.object,c=r.internal.interaction.indexOf(o);c>-1&&r.internal.interaction.splice(c,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&M_(i),n}function M_(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function bW(n,e){n.manual||(yW(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Yo=n=>n?.isObject3D;function mw(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function xW(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function KSe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{xW(t.capturedMap,e,i,r)})}function ZSe(n){function e(c){const{internal:u}=n.getState(),h=c.offsetX-u.initialClick[0],p=c.offsetY-u.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function t(c){return c.filter(u=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=u.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function i(c,u){const h=n.getState(),p=new Set,y=[],v=u?u(h.internal.interaction):h.internal.interaction;for(let b=0;b<v.length;b++){const w=Nv(v[b]);w&&(w.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(c,h);function _(b){const w=Nv(b);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var A;w.events.compute==null||w.events.compute(c,w,(A=w.previousRoot)==null?void 0:A.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(b,!0):[]}let S=v.flatMap(_).sort((b,w)=>{const A=Nv(b.object),C=Nv(w.object);return!A||!C?b.distance-w.distance:C.events.priority-A.events.priority||b.distance-w.distance}).filter(b=>{const w=mw(b);return p.has(w)?!1:(p.add(w),!0)});h.events.filter&&(S=h.events.filter(S,h));for(const b of S){let w=b.object;for(;w;){var E;(E=w.__r3f)!=null&&E.eventCount&&y.push({...b,eventObject:w}),w=w.parent}}if("pointerId"in c&&h.internal.capturedMap.has(c.pointerId))for(let b of h.internal.capturedMap.get(c.pointerId).values())p.has(mw(b.intersection))||y.push(b.intersection);return y}function r(c,u,h,p){if(c.length){const y={stopped:!1};for(const v of c){let _=Nv(v.object);if(_||v.object.traverseAncestors(S=>{const E=Nv(S);if(E)return _=E,!1}),_){const{raycaster:S,pointer:E,camera:b,internal:w}=_,A=new fe(E.x,E.y,0).unproject(b),C=I=>{var N,F;return(N=(F=w.capturedMap.get(I))==null?void 0:F.has(v.eventObject))!=null?N:!1},D=I=>{const N={intersection:v,target:u.target};w.capturedMap.has(I)?w.capturedMap.get(I).set(v.eventObject,N):w.capturedMap.set(I,new Map([[v.eventObject,N]])),u.target.setPointerCapture(I)},L=I=>{const N=w.capturedMap.get(I);N&&xW(w.capturedMap,v.eventObject,N,I)};let P={};for(let I in u){let N=u[I];typeof N!="function"&&(P[I]=N)}let U={...v,...P,pointer:E,intersections:c,stopped:y.stopped,delta:h,unprojectedPoint:A,ray:S.ray,camera:b,stopPropagation(){const I="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!I||I.has(v.eventObject))&&(U.stopped=y.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(N=>N.eventObject===v.eventObject))){const N=c.slice(0,c.indexOf(v));s([...N,v])}},target:{hasPointerCapture:C,setPointerCapture:D,releasePointerCapture:L},currentTarget:{hasPointerCapture:C,setPointerCapture:D,releasePointerCapture:L},nativeEvent:u};if(p(U),y.stopped===!0)break}}}return c}function s(c){const{internal:u}=n.getState();for(const h of u.hovered.values())if(!c.length||!c.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const y=h.eventObject.__r3f;if(u.hovered.delete(mw(h)),y!=null&&y.eventCount){const v=y.handlers,_={...h,intersections:c};v.onPointerOut==null||v.onPointerOut(_),v.onPointerLeave==null||v.onPointerLeave(_)}}}function a(c,u){for(let h=0;h<u.length;h++){const p=u[h].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(c)}}function o(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:h}=n.getState();"pointerId"in u&&h.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(u.pointerId)&&(h.capturedMap.delete(u.pointerId),s([]))})}}return function(h){const{onPointerMissed:p,internal:y}=n.getState();y.lastEvent.current=h;const v=c==="onPointerMove",_=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",E=i(h,v?t:void 0),b=_?e(h):0;c==="onPointerDown"&&(y.initialClick=[h.offsetX,h.offsetY],y.initialHits=E.map(A=>A.eventObject)),_&&!E.length&&b<=2&&(a(h,y.interaction),p&&p(h)),v&&s(E);function w(A){const C=A.eventObject,D=C.__r3f;if(!(D!=null&&D.eventCount))return;const L=D.handlers;if(v){if(L.onPointerOver||L.onPointerEnter||L.onPointerOut||L.onPointerLeave){const P=mw(A),U=y.hovered.get(P);U?U.stopped&&A.stopPropagation():(y.hovered.set(P,A),L.onPointerOver==null||L.onPointerOver(A),L.onPointerEnter==null||L.onPointerEnter(A))}L.onPointerMove==null||L.onPointerMove(A)}else{const P=L[c];P?(!_||y.initialHits.includes(C))&&(a(h,y.interaction.filter(U=>!y.initialHits.includes(U))),P(A)):_&&y.initialHits.includes(C)&&a(h,y.interaction.filter(U=>!y.initialHits.includes(U)))}}r(E,h,b,w)}}return{handlePointer:o}}const k6=n=>!!(n!=null&&n.render),qL=H.createContext(null),QSe=(n,e)=>{const t=fW((o,c)=>{const u=new fe,h=new fe,p=new fe;function y(b=c().camera,w=h,A=c().size){const{width:C,height:D,top:L,left:P}=A,U=C/D;w.isVector3?p.copy(w):p.set(...w);const I=b.getWorldPosition(u).distanceTo(p);if(yW(b))return{width:C/b.zoom,height:D/b.zoom,top:L,left:P,factor:1,distance:I,aspect:U};{const N=b.fov*Math.PI/180,F=2*Math.tan(N/2)*I,z=F*(C/D);return{width:z,height:F,top:L,left:P,factor:C/z,distance:I,aspect:U}}}let v;const _=b=>o(w=>({performance:{...w.performance,current:b}})),S=new it;return{set:o,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>n(c(),b),advance:(b,w)=>e(b,w,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new nL,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=c();v&&clearTimeout(v),b.performance.current!==b.performance.min&&_(b.performance.min),v=setTimeout(()=>_(c().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:b=>o(w=>({...w,events:{...w.events,...b}})),setSize:(b,w,A=0,C=0)=>{const D=c().camera,L={width:b,height:w,top:A,left:C};o(P=>({size:L,viewport:{...P.viewport,...y(D,h,L)}}))},setDpr:b=>o(w=>{const A=vW(b);return{viewport:{...w.viewport,dpr:A,initialDpr:w.viewport.initialDpr||A}}}),setFrameloop:(b="always")=>{const w=c().clock;w.stop(),w.elapsedTime=0,b!=="never"&&(w.start(),w.elapsedTime=0),o(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:H.createRef(),active:!1,frames:0,priority:0,subscribe:(b,w,A)=>{const C=c().internal;return C.priority=C.priority+(w>0?1:0),C.subscribers.push({ref:b,priority:w,store:A}),C.subscribers=C.subscribers.sort((D,L)=>D.priority-L.priority),()=>{const D=c().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(w>0?1:0),D.subscribers=D.subscribers.filter(L=>L.ref!==b))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:o,size:c,viewport:u,gl:h,set:p}=t.getState();if(c.width!==r.width||c.height!==r.height||u.dpr!==s){r=c,s=u.dpr,bW(o,c),u.dpr>0&&h.setPixelRatio(u.dpr);const y=typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(c.width,c.height,y)}o!==a&&(a=o,p(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function WL(){const n=H.useContext(qL);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ws(n=t=>t,e){return WL()(n,e)}function XS(n,e=0){const t=WL(),i=t.getState().internal.subscribe,r=GL(n);return $S(()=>i(r,e,t),[e,i,t]),null}var JSe={version:"9.4.2"};function eEe(n){const e=NSe(n);return e.injectIntoDevTools(),e}const SW=0,n_={},tEe=/^three(?=[A-Z])/,LM=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let nEe=0;const iEe=n=>typeof n=="function";function EW(n){if(iEe(n)){const e=`${nEe++}`;return n_[e]=n,e}else Object.assign(n_,n)}function TW(n,e){const t=LM(n),i=n_[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function rEe(n,e,t){var i;return n=LM(n)in n_?n:n.replace(tEe,""),TW(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,qC(e.object,t,n,e)}function sEe(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?$C(n.parent,n):Yo(n.object)&&(n.object.visible=!1),n.isHidden=!0,M_(n)}}function wW(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?WC(n.parent,n):Yo(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,M_(n)}}function $L(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,s;const a=n_[LM(e.type)];e.object=(r=e.props.object)!=null?r:new a(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(gp(e.object,e.props),e.props.attach)WC(n,e);else if(Yo(e.object)&&Yo(n.object)){const a=n.object.children.indexOf(t?.object);if(t&&a!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const c=o<a?a-1:a;n.object.children.splice(c,0,e.object)}else e.object.parent=n.object,n.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const a of e.children)$L(e,a);M_(e)}}function m3(n,e){e&&(e.parent=n,n.children.push(e),$L(n,e))}function z6(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),$L(n,e,t)}function CW(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():N6.unstable_scheduleCallback(N6.unstable_IdlePriority,e)}}function UP(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?$C(n,e):Yo(e.object)&&Yo(n.object)&&(n.object.remove(e.object),KSe(gW(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const a=e.children[s];UP(e,a,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&CW(e.object),t===void 0&&M_(e)}function aEe(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const m2=[];function oEe(){for(const[t]of m2){const i=t.parent;if(i){t.props.attach?$C(i,t):Yo(t.object)&&Yo(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?$C(t,r):Yo(r.object)&&Yo(t.object)&&t.object.remove(r.object)}t.isHidden&&wW(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&CW(t.object)}for(const[t,i,r]of m2){t.props=i;const s=t.parent;if(s){var n,e;const a=n_[LM(t.type)];t.object=(n=t.props.object)!=null?n:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,aEe(r,t.object),gp(t.object,t.props),t.props.attach?WC(s,t):Yo(t.object)&&Yo(s.object)&&s.object.add(t.object);for(const o of t.children)o.props.attach?WC(t,o):Yo(o.object)&&Yo(t.object)&&t.object.add(o.object);M_(t)}}m2.length=0}const g3=()=>{},B6={};let gw=SW;const lEe=0,cEe=4,XC=eEe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:rEe,removeChild:UP,appendChild:m3,appendInitialChild:m3,insertBefore:z6,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||m3(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||UP(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||z6(i,e,t)},getRootHostContext:()=>B6,getChildHostContext:()=>B6,commitUpdate(n,e,t,i,r){var s,a,o;TW(e,i);let c=!1;if((n.type==="primitive"&&t.object!==i.object||((s=i.args)==null?void 0:s.length)!==((a=t.args)==null?void 0:a.length)||(o=i.args)!=null&&o.some((h,p)=>{var y;return h!==((y=t.args)==null?void 0:y[p])}))&&(c=!0),c)m2.push([n,{...i},r]);else{const h=$Se(n,i);Object.keys(h).length&&(Object.assign(n.props,h),gp(n.object,h))}(r.sibling===null||(r.flags&cEe)===lEe)&&oEe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>qC(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:sEe,unhideInstance:wW,createTextInstance:g3,hideTextInstance:g3,unhideTextInstance:g3,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:H.createContext(null),setCurrentUpdatePriority(n){gw=n},getCurrentUpdatePriority(){return gw},resolveUpdatePriority(){var n;if(gw!==SW)return gw;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return p2.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return p2.ContinuousEventPriority;default:return p2.DefaultEventPriority}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:JSe.version}),ty=new Map,Lv={objects:"shallow",strict:!1};function uEe(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function fEe(n){const e=ty.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||QSe(BP,V6),a=t||XC.createContainer(s,p2.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||ty.set(n,{fiber:a,store:s});let o,c,u=!1,h=null;return{async configure(p={}){let y;h=new Promise(Y=>y=Y);let{gl:v,size:_,scene:S,events:E,onCreated:b,shadows:w=!1,linear:A=!1,flat:C=!1,legacy:D=!1,orthographic:L=!1,frameloop:P="always",dpr:U=[1,2],performance:I,raycaster:N,camera:F,onPointerMissed:z}=p,V=s.getState(),K=V.gl;if(!V.gl){const Y={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},le=typeof v=="function"?await v(Y):v;k6(le)?K=le:K=new kG({...Y,...v}),V.set({gl:K})}let ee=V.raycaster;ee||V.set({raycaster:ee=new cM});const{params:q,...$}=N||{};if(Pr.equ($,ee,Lv)||gp(ee,{...$}),Pr.equ(q,ee.params,Lv)||gp(ee,{params:{...ee.params,...q}}),!V.camera||V.camera===c&&!Pr.equ(c,F,Lv)){c=F;const Y=F?.isCamera,le=Y?F:L?new NS(0,0,0,0,.1,1e3):new ea(75,0,.1,1e3);Y||(le.position.z=5,F&&(gp(le,F),le.manual||("aspect"in F||"left"in F||"right"in F||"bottom"in F||"top"in F)&&(le.manual=!0,le.updateProjectionMatrix())),!V.camera&&!(F!=null&&F.rotation)&&le.lookAt(0,0,0)),V.set({camera:le}),ee.camera=le}if(!V.scene){let Y;S!=null&&S.isScene?(Y=S,qC(Y,s,"",{})):(Y=new HA,qC(Y,s,"",{}),S&&gp(Y,S)),V.set({scene:Y})}E&&!V.events.handlers&&V.set({events:E(s)});const Q=uEe(n,_);if(Pr.equ(Q,V.size,Lv)||V.setSize(Q.width,Q.height,Q.top,Q.left),U&&V.viewport.dpr!==vW(U)&&V.setDpr(U),V.frameloop!==P&&V.setFrameloop(P),V.onPointerMissed||V.set({onPointerMissed:z}),I&&!Pr.equ(I,V.performance,Lv)&&V.set(Y=>({performance:{...Y.performance,...I}})),!V.xr){var re;const Y=(ue,ie)=>{const he=s.getState();he.frameloop!=="never"&&V6(ue,!0,he,ie)},le=()=>{const ue=s.getState();ue.gl.xr.enabled=ue.gl.xr.isPresenting,ue.gl.xr.setAnimationLoop(ue.gl.xr.isPresenting?Y:null),ue.gl.xr.isPresenting||BP(ue)},pe={connect(){const ue=s.getState().gl;ue.xr.addEventListener("sessionstart",le),ue.xr.addEventListener("sessionend",le)},disconnect(){const ue=s.getState().gl;ue.xr.removeEventListener("sessionstart",le),ue.xr.removeEventListener("sessionend",le)}};typeof((re=K.xr)==null?void 0:re.addEventListener)=="function"&&pe.connect(),V.set({xr:pe})}if(K.shadowMap){const Y=K.shadowMap.enabled,le=K.shadowMap.type;if(K.shadowMap.enabled=!!w,Pr.boo(w))K.shadowMap.type=Qb;else if(Pr.str(w)){var de;const pe={basic:VH,percentage:MA,soft:Qb,variance:cu};K.shadowMap.type=(de=pe[w])!=null?de:Qb}else Pr.obj(w)&&Object.assign(K.shadowMap,w);(Y!==K.shadowMap.enabled||le!==K.shadowMap.type)&&(K.shadowMap.needsUpdate=!0)}return ci.enabled=!D,u||(K.outputColorSpace=A?jp:ba,K.toneMapping=C?Cf:EN),V.legacy!==D&&V.set(()=>({legacy:D})),V.linear!==A&&V.set(()=>({linear:A})),V.flat!==C&&V.set(()=>({flat:C})),v&&!Pr.fun(v)&&!k6(v)&&!Pr.equ(v,K,Lv)&&gp(K,v),o=b,u=!0,y(),this},render(p){return!u&&!h&&this.configure(),h.then(()=>{XC.updateContainer(Z.jsx(hEe,{store:s,children:p,onCreated:o,rootElement:n}),a,null,()=>{})}),s},unmount(){AW(n)}}}function hEe({store:n,children:e,onCreated:t,rootElement:i}){return $S(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),Z.jsx(qL.Provider,{value:n,children:e})}function AW(n,e){const t=ty.get(n),i=t?.fiber;if(i){const r=t?.store.getState();r&&(r.internal.active=!1),XC.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,a,o,c;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(c=r.gl)!=null&&c.xr&&r.xr.disconnect(),GSe(r.scene),ty.delete(n)}catch{}},500)})}}function dEe(n,e,t){return Z.jsx(pEe,{children:n,container:e,state:t})}function pEe({state:n={},children:e,container:t}){const{events:i,size:r,...s}=n,a=WL(),[o]=H.useState(()=>new cM),[c]=H.useState(()=>new it),u=GL((p,y)=>{let v;if(y.camera&&r){const _=y.camera;v=p.viewport.getCurrentViewport(_,new fe,r),_!==p.camera&&bW(_,r)}return{...p,...y,scene:t,raycaster:o,pointer:c,mouse:c,previousRoot:a,events:{...p.events,...y.events,...i},size:{...p.size,...r},viewport:{...p.viewport,...v},setEvents:_=>y.set(S=>({...S,events:{...S.events,..._}}))}}),h=H.useMemo(()=>{const p=fW((v,_)=>({...s,set:v,get:_})),y=v=>p.setState(_=>u.current(v,_));return y(a.getState()),a.subscribe(y),p},[a,t]);return Z.jsx(Z.Fragment,{children:XC.createPortal(Z.jsx(qL.Provider,{value:h,children:e}),h,null)})}const mEe=new Set,gEe=new Set,yEe=new Set;function y3(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function mx(n,e){switch(n){case"before":return y3(mEe,e);case"after":return y3(gEe,e);case"tail":return y3(yEe,e)}}let v3,_3;function kP(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),v3=e.internal.subscribers;for(let r=0;r<v3.length;r++)_3=v3[r],_3.ref.current(_3.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let YC=!1,zP=!1,b3,F6,Uv;function MW(n){F6=requestAnimationFrame(MW),YC=!0,b3=0,mx("before",n),zP=!0;for(const t of ty.values()){var e;Uv=t.store.getState(),Uv.internal.active&&(Uv.frameloop==="always"||Uv.internal.frames>0)&&!((e=Uv.gl.xr)!=null&&e.isPresenting)&&(b3+=kP(n,Uv))}if(zP=!1,mx("after",n),b3===0)return mx("tail",n),YC=!1,cancelAnimationFrame(F6)}function BP(n,e=1){var t;if(!n)return ty.forEach(i=>BP(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):zP?n.internal.frames=2:n.internal.frames=1,YC||(YC=!0,requestAnimationFrame(MW)))}function V6(n,e=!0,t,i){if(e&&mx("before",n),t)kP(n,t,i);else for(const r of ty.values())kP(n,r.store.getState());e&&mx("after",n)}const x3={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function vEe(n){const{handlePointer:e}=ZSe(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(x3).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(s=>({events:{...s.events,connected:t}})),r.handlers)for(const s in r.handlers){const a=r.handlers[s],[o,c]=x3[s];t.addEventListener(o,a,{passive:c})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const s=i.handlers[r],[a]=x3[r];i.connected.removeEventListener(a,s)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function H6(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function _Ee({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=H.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=H.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),c=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,h=H.useRef(!1);H.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,y,v]=H.useMemo(()=>{const b=()=>{if(!o.current.element)return;const{left:w,top:A,width:C,height:D,bottom:L,right:P,x:U,y:I}=o.current.element.getBoundingClientRect(),N={left:w,top:A,width:C,height:D,bottom:L,right:P,x:U,y:I};o.current.element instanceof HTMLElement&&i&&(N.height=o.current.element.offsetHeight,N.width=o.current.element.offsetWidth),Object.freeze(N),h.current&&!EEe(o.current.lastBounds,N)&&a(o.current.lastBounds=N)};return[b,u?H6(b,u):b,c?H6(b,c):b]},[a,i,c,u]);function _(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",v,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function S(){o.current.element&&(o.current.resizeObserver=new r(v),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(b=>b.addEventListener("scroll",v,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const E=b=>{!b||b===o.current.element||(_(),o.current.element=b,o.current.scrollContainers=RW(b),S())};return xEe(v,!!e),bEe(y),H.useEffect(()=>{_(),S()},[e,v,y]),H.useEffect(()=>_,[]),[E,s,p]}function bEe(n){H.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function xEe(n,e){H.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function RW(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...RW(n.parentElement)]}const SEe=["x","y","top","bottom","left","right","width","height"],EEe=(n,e)=>SEe.every(t=>n[t]===e[t]);function TEe({ref:n,children:e,fallback:t,resize:i,style:r,gl:s,events:a=vEe,eventSource:o,eventPrefix:c,shadows:u,linear:h,flat:p,legacy:y,orthographic:v,frameloop:_,dpr:S,performance:E,raycaster:b,camera:w,scene:A,onPointerMissed:C,onCreated:D,...L}){H.useMemo(()=>EW(mde),[]);const P=VSe(),[U,I]=_Ee({scroll:!0,debounce:{scroll:50,resize:0},...i}),N=H.useRef(null),F=H.useRef(null);H.useImperativeHandle(n,()=>N.current);const z=GL(C),[V,K]=H.useState(!1),[ee,q]=H.useState(!1);if(V)throw V;if(ee)throw ee;const $=H.useRef(null);$S(()=>{const re=N.current;if(I.width>0&&I.height>0&&re){$.current||($.current=fEe(re));async function de(){await $.current.configure({gl:s,scene:A,events:a,shadows:u,linear:h,flat:p,legacy:y,orthographic:v,frameloop:_,dpr:S,performance:E,raycaster:b,camera:w,size:I,onPointerMissed:(...Y)=>z.current==null?void 0:z.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(o?BSe(o)?o.current:o:F.current),c&&Y.setEvents({compute:(le,pe)=>{const ue=le[c+"X"],ie=le[c+"Y"];pe.pointer.set(ue/pe.size.width*2-1,-(ie/pe.size.height)*2+1),pe.raycaster.setFromCamera(pe.pointer,pe.camera)}}),D?.(Y)}}),$.current.render(Z.jsx(P,{children:Z.jsx(jSe,{set:q,children:Z.jsx(H.Suspense,{fallback:Z.jsx(HSe,{set:K}),children:e??null})})}))}de()}}),H.useEffect(()=>{const re=N.current;if(re)return()=>AW(re)},[]);const Q=o?"none":"auto";return Z.jsx("div",{ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...r},...L,children:Z.jsx("div",{ref:U,style:{width:"100%",height:"100%"},children:Z.jsx("canvas",{ref:N,style:{display:"block"},children:t})})})}function wEe(n){return Z.jsx(pW,{children:Z.jsx(TEe,{...n})})}function CEe(n,e,t){const i=ws(v=>v.size),r=ws(v=>v.viewport),s=typeof n=="number"?n:i.width*r.dpr,a=i.height*r.dpr,o=(typeof n=="number"?t:n)||{},{samples:c=0,depth:u,...h}=o,p=u??o.depthBuffer,y=H.useMemo(()=>{const v=new vu(s,a,{minFilter:hs,magFilter:hs,type:ay,...h});return p&&(v.depthTexture=new RS(s,a,Ro)),v.samples=c,v},[]);return H.useLayoutEffect(()=>{y.setSize(s,a),c&&(y.samples=c)},[c,y,s,a]),H.useEffect(()=>()=>y.dispose(),[]),y}const AEe=n=>typeof n=="function",MEe=H.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,children:i,makeDefault:r,...s},a)=>{const o=ws(({set:E})=>E),c=ws(({camera:E})=>E),u=ws(({size:E})=>E),h=H.useRef(null);H.useImperativeHandle(a,()=>h.current,[]);const p=H.useRef(null),y=CEe(e);H.useLayoutEffect(()=>{s.manual||h.current.updateProjectionMatrix()},[u,s]),H.useLayoutEffect(()=>{h.current.updateProjectionMatrix()}),H.useLayoutEffect(()=>{if(r){const E=c;return o(()=>({camera:h.current})),()=>o(()=>({camera:E}))}},[h,r,o]);let v=0,_=null;const S=AEe(i);return XS(E=>{S&&(t===1/0||v<t)&&(p.current.visible=!1,E.gl.setRenderTarget(y),_=E.scene.background,n&&(E.scene.background=n),E.gl.render(E.scene,h.current),E.scene.background=_,E.gl.setRenderTarget(null),p.current.visible=!0,v++)}),H.createElement(H.Fragment,null,H.createElement("orthographicCamera",Ko({left:u.width/-2,right:u.width/2,top:u.height/2,bottom:u.height/-2,ref:h},s),!S&&i),H.createElement("group",{ref:p},S&&i(y.texture)))});/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const Ir={LEFT:1,RIGHT:2,MIDDLE:4},ze=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,SCREEN_PAN:4,OFFSET:8,DOLLY:16,ZOOM:32,TOUCH_ROTATE:64,TOUCH_TRUCK:128,TOUCH_SCREEN_PAN:256,TOUCH_OFFSET:512,TOUCH_DOLLY:1024,TOUCH_ZOOM:2048,TOUCH_DOLLY_TRUCK:4096,TOUCH_DOLLY_SCREEN_PAN:8192,TOUCH_DOLLY_OFFSET:16384,TOUCH_DOLLY_ROTATE:32768,TOUCH_ZOOM_TRUCK:65536,TOUCH_ZOOM_OFFSET:131072,TOUCH_ZOOM_SCREEN_PAN:262144,TOUCH_ZOOM_ROTATE:524288}),kv={NONE:0,IN:1,OUT:-1};function fg(n){return n.isPerspectiveCamera}function lp(n){return n.isOrthographicCamera}const ap=Math.PI*2,j6=Math.PI/2,OW=1e-5,db=Math.PI/180;function ou(n,e,t){return Math.max(e,Math.min(t,n))}function rr(n,e=OW){return Math.abs(n)<e}function Ni(n,e,t=OW){return rr(n-e,t)}function G6(n,e){return Math.round(n/e)*e}function pb(n){return isFinite(n)?n:n<0?-Number.MAX_VALUE:Number.MAX_VALUE}function mb(n){return Math.abs(n)<Number.MAX_VALUE?n:n*(1/0)}function yw(n,e,t,i,r=1/0,s){i=Math.max(1e-4,i);const a=2/i,o=a*s,c=1/(1+o+.48*o*o+.235*o*o*o);let u=n-e;const h=e,p=r*i;u=ou(u,-p,p),e=n-u;const y=(t.value+a*u)*s;t.value=(t.value-a*y)*c;let v=e+(u+y)*c;return h-n>0==v>h&&(v=h,t.value=(v-h)/s),v}function q6(n,e,t,i,r=1/0,s,a){i=Math.max(1e-4,i);const o=2/i,c=o*s,u=1/(1+c+.48*c*c+.235*c*c*c);let h=e.x,p=e.y,y=e.z,v=n.x-h,_=n.y-p,S=n.z-y;const E=h,b=p,w=y,A=r*i,C=A*A,D=v*v+_*_+S*S;if(D>C){const ee=Math.sqrt(D);v=v/ee*A,_=_/ee*A,S=S/ee*A}h=n.x-v,p=n.y-_,y=n.z-S;const L=(t.x+o*v)*s,P=(t.y+o*_)*s,U=(t.z+o*S)*s;t.x=(t.x-o*L)*u,t.y=(t.y-o*P)*u,t.z=(t.z-o*U)*u,a.x=h+(v+L)*u,a.y=p+(_+P)*u,a.z=y+(S+U)*u;const I=E-n.x,N=b-n.y,F=w-n.z,z=a.x-E,V=a.y-b,K=a.z-w;return I*z+N*V+F*K>0&&(a.x=E,a.y=b,a.z=w,t.x=(a.x-E)/s,t.y=(a.y-b)/s,t.z=(a.z-w)/s),a}function S3(n,e){e.set(0,0),n.forEach(t=>{e.x+=t.clientX,e.y+=t.clientY}),e.x/=n.length,e.y/=n.length}function E3(n,e){return lp(n)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class REe{_listeners={};addEventListener(e,t){const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e)}}}const OEe="3.1.2",vw=1/8,IEe=/Mac/.test(globalThis?.navigator?.platform);let xn,W6,_w,T3,Wo,Hn,Ci,zv,gb,sf,af,hg,$6,X6,Tl,Bv,Fv,Y6,w3,K6,C3,A3,bw,PEe=class FP extends REe{static install(e){xn=e.THREE,W6=Object.freeze(new xn.Vector3(0,0,0)),_w=Object.freeze(new xn.Vector3(0,1,0)),T3=Object.freeze(new xn.Vector3(0,0,1)),Wo=new xn.Vector2,Hn=new xn.Vector3,Ci=new xn.Vector3,zv=new xn.Vector3,gb=new xn.Vector3,sf=new xn.Vector3,af=new xn.Vector3,hg=new xn.Vector3,$6=new xn.Vector3,X6=new xn.Vector3,Tl=new xn.Spherical,Bv=new xn.Spherical,Fv=new xn.Box3,Y6=new xn.Box3,w3=new xn.Sphere,K6=new xn.Quaternion,C3=new xn.Quaternion,A3=new xn.Matrix4,bw=new xn.Raycaster}static get ACTION(){return ze}minPolarAngle=0;maxPolarAngle=Math.PI;minAzimuthAngle=-1/0;maxAzimuthAngle=1/0;minDistance=Number.EPSILON;maxDistance=1/0;infinityDolly=!1;minZoom=.01;maxZoom=1/0;smoothTime=.25;draggingSmoothTime=.125;maxSpeed=1/0;azimuthRotateSpeed=1;polarRotateSpeed=1;dollySpeed=1;dollyDragInverted=!1;truckSpeed=2;dollyToCursor=!1;dragToOffset=!1;boundaryFriction=0;restThreshold=.01;colliderMeshes=[];mouseButtons;touches;cancel=()=>{};lockPointer;unlockPointer;_enabled=!0;_camera;_yAxisUpSpace;_yAxisUpSpaceInverse;_state=ze.NONE;_domElement;_viewport=null;_target;_targetEnd;_focalOffset;_focalOffsetEnd;_spherical;_sphericalEnd;_lastDistance;_zoom;_zoomEnd;_lastZoom;_cameraUp0;_target0;_position0;_zoom0;_focalOffset0;_dollyControlCoord;_changedDolly=0;_changedZoom=0;_nearPlaneCorners;_hasRested=!0;_boundary;_boundaryEnclosesCamera=!1;_needsUpdate=!0;_updatedLastTime=!1;_elementRect=new DOMRect;_isDragging=!1;_dragNeedsUpdate=!0;_activePointers=[];_lockedPointer=null;_interactiveArea=new DOMRect(0,0,1,1);_isUserControllingRotate=!1;_isUserControllingDolly=!1;_isUserControllingTruck=!1;_isUserControllingOffset=!1;_isUserControllingZoom=!1;_lastDollyDirection=kv.NONE;_thetaVelocity={value:0};_phiVelocity={value:0};_radiusVelocity={value:0};_targetVelocity=new xn.Vector3;_focalOffsetVelocity=new xn.Vector3;_zoomVelocity={value:0};set verticalDragToForward(e){console.warn("camera-controls: `verticalDragToForward` was removed. Use `mouseButtons.left = CameraControls.ACTION.SCREEN_PAN` instead.")}constructor(e,t){super(),typeof xn>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new xn.Quaternion().setFromUnitVectors(this._camera.up,_w),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=ze.NONE,this._target=new xn.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new xn.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new xn.Spherical().setFromVector3(Hn.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new xn.Vector3,new xn.Vector3,new xn.Vector3,new xn.Vector3],this._updateNearPlaneCorners(),this._boundary=new xn.Box3(new xn.Vector3(-1/0,-1/0,-1/0),new xn.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new xn.Vector2,this.mouseButtons={left:ze.ROTATE,middle:ze.DOLLY,right:ze.TRUCK,wheel:fg(this._camera)?ze.DOLLY:lp(this._camera)?ze.ZOOM:ze.NONE},this.touches={one:ze.TOUCH_ROTATE,two:fg(this._camera)?ze.TOUCH_DOLLY_TRUCK:lp(this._camera)?ze.TOUCH_ZOOM_TRUCK:ze.NONE,three:ze.TOUCH_TRUCK};const i=new xn.Vector2,r=new xn.Vector2,s=new xn.Vector2,a=b=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const C=this._domElement.getBoundingClientRect(),D=b.clientX/C.width,L=b.clientY/C.height;if(D<this._interactiveArea.left||D>this._interactiveArea.right||L<this._interactiveArea.top||L>this._interactiveArea.bottom)return}const w=b.pointerType!=="mouse"?null:(b.buttons&Ir.LEFT)===Ir.LEFT?Ir.LEFT:(b.buttons&Ir.MIDDLE)===Ir.MIDDLE?Ir.MIDDLE:(b.buttons&Ir.RIGHT)===Ir.RIGHT?Ir.RIGHT:null;if(w!==null){const C=this._findPointerByMouseButton(w);C&&this._disposePointer(C)}if((b.buttons&Ir.LEFT)===Ir.LEFT&&this._lockedPointer)return;const A={pointerId:b.pointerId,clientX:b.clientX,clientY:b.clientY,deltaX:0,deltaY:0,mouseButton:w};this._activePointers.push(A),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.ownerDocument.addEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",c),this._isDragging=!0,y(b)},o=b=>{b.cancelable&&b.preventDefault();const w=b.pointerId,A=this._lockedPointer||this._findPointerById(w);if(A){if(A.clientX=b.clientX,A.clientY=b.clientY,A.deltaX=b.movementX,A.deltaY=b.movementY,this._state=0,b.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(b.buttons&Ir.LEFT)===Ir.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(b.buttons&Ir.MIDDLE)===Ir.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(b.buttons&Ir.RIGHT)===Ir.RIGHT&&(this._state=this._state|this.mouseButtons.right);v()}},c=b=>{const w=this._findPointerById(b.pointerId);if(!(w&&w===this._lockedPointer)){if(w&&this._disposePointer(w),b.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=ze.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=ze.NONE;_()}};let u=-1;const h=b=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===ze.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const P=this._domElement.getBoundingClientRect(),U=b.clientX/P.width,I=b.clientY/P.height;if(U<this._interactiveArea.left||U>this._interactiveArea.right||I<this._interactiveArea.top||I>this._interactiveArea.bottom)return}if(b.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===ze.ROTATE||this.mouseButtons.wheel===ze.TRUCK){const P=performance.now();u-P<1e3&&this._getClientRect(this._elementRect),u=P}const w=IEe?-1:-3,A=b.deltaMode===1&&!b.ctrlKey?b.deltaY/w:b.deltaY/(w*10),C=this.dollyToCursor?(b.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,D=this.dollyToCursor?(b.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(b.ctrlKey?ze.ZOOM:this.mouseButtons.wheel){case ze.ROTATE:{this._rotateInternal(b.deltaX,b.deltaY),this._isUserControllingRotate=!0;break}case ze.TRUCK:{this._truckInternal(b.deltaX,b.deltaY,!1,!1),this._isUserControllingTruck=!0;break}case ze.SCREEN_PAN:{this._truckInternal(b.deltaX,b.deltaY,!1,!0),this._isUserControllingTruck=!0;break}case ze.OFFSET:{this._truckInternal(b.deltaX,b.deltaY,!0,!1),this._isUserControllingOffset=!0;break}case ze.DOLLY:{this._dollyInternal(-A,C,D),this._isUserControllingDolly=!0;break}case ze.ZOOM:{this._zoomInternal(-A,C,D),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},p=b=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===FP.ACTION.NONE){const w=b instanceof PointerEvent?b.pointerId:0,A=this._findPointerById(w);A&&this._disposePointer(A),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c);return}b.preventDefault()}},y=b=>{if(!this._enabled)return;if(S3(this._activePointers,Wo),this._getClientRect(this._elementRect),i.copy(Wo),r.copy(Wo),this._activePointers.length>=2){const A=Wo.x-this._activePointers[1].clientX,C=Wo.y-this._activePointers[1].clientY,D=Math.sqrt(A*A+C*C);s.set(0,D);const L=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,P=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;r.set(L,P)}if(this._state=0,!b)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in b&&b.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(b.buttons&Ir.LEFT)===Ir.LEFT&&(this._state=this._state|this.mouseButtons.left),(b.buttons&Ir.MIDDLE)===Ir.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(b.buttons&Ir.RIGHT)===Ir.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&ze.ROTATE)===ze.ROTATE||(this._state&ze.TOUCH_ROTATE)===ze.TOUCH_ROTATE||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE||(this._state&ze.TOUCH_ZOOM_ROTATE)===ze.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&ze.TRUCK)===ze.TRUCK||(this._state&ze.SCREEN_PAN)===ze.SCREEN_PAN||(this._state&ze.TOUCH_TRUCK)===ze.TOUCH_TRUCK||(this._state&ze.TOUCH_SCREEN_PAN)===ze.TOUCH_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_ZOOM_TRUCK)===ze.TOUCH_ZOOM_TRUCK||(this._state&ze.TOUCH_ZOOM_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&ze.DOLLY)===ze.DOLLY||(this._state&ze.TOUCH_DOLLY)===ze.TOUCH_DOLLY||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&ze.ZOOM)===ze.ZOOM||(this._state&ze.TOUCH_ZOOM)===ze.TOUCH_ZOOM||(this._state&ze.TOUCH_ZOOM_TRUCK)===ze.TOUCH_ZOOM_TRUCK||(this._state&ze.TOUCH_ZOOM_SCREEN_PAN)===ze.TOUCH_ZOOM_SCREEN_PAN||(this._state&ze.TOUCH_ZOOM_OFFSET)===ze.TOUCH_ZOOM_OFFSET||(this._state&ze.TOUCH_ZOOM_ROTATE)===ze.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&ze.OFFSET)===ze.OFFSET||(this._state&ze.TOUCH_OFFSET)===ze.TOUCH_OFFSET||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET||(this._state&ze.TOUCH_ZOOM_OFFSET)===ze.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},v=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,S3(this._activePointers,Wo);const w=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,A=w?-w.deltaX:r.x-Wo.x,C=w?-w.deltaY:r.y-Wo.y;if(r.copy(Wo),((this._state&ze.ROTATE)===ze.ROTATE||(this._state&ze.TOUCH_ROTATE)===ze.TOUCH_ROTATE||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE||(this._state&ze.TOUCH_ZOOM_ROTATE)===ze.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(A,C),this._isUserControllingRotate=!0),(this._state&ze.DOLLY)===ze.DOLLY||(this._state&ze.ZOOM)===ze.ZOOM){const D=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,L=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0,P=this.dollyDragInverted?-1:1;(this._state&ze.DOLLY)===ze.DOLLY?(this._dollyInternal(P*C*vw,D,L),this._isUserControllingDolly=!0):(this._zoomInternal(P*C*vw,D,L),this._isUserControllingZoom=!0)}if((this._state&ze.TOUCH_DOLLY)===ze.TOUCH_DOLLY||(this._state&ze.TOUCH_ZOOM)===ze.TOUCH_ZOOM||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_ZOOM_TRUCK)===ze.TOUCH_ZOOM_TRUCK||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_ZOOM_SCREEN_PAN)===ze.TOUCH_ZOOM_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET||(this._state&ze.TOUCH_ZOOM_OFFSET)===ze.TOUCH_ZOOM_OFFSET||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE||(this._state&ze.TOUCH_ZOOM_ROTATE)===ze.TOUCH_ZOOM_ROTATE){const D=Wo.x-this._activePointers[1].clientX,L=Wo.y-this._activePointers[1].clientY,P=Math.sqrt(D*D+L*L),U=s.y-P;s.set(0,P);const I=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,N=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&ze.TOUCH_DOLLY)===ze.TOUCH_DOLLY||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET?(this._dollyInternal(U*vw,I,N),this._isUserControllingDolly=!0):(this._zoomInternal(U*vw,I,N),this._isUserControllingZoom=!0)}((this._state&ze.TRUCK)===ze.TRUCK||(this._state&ze.TOUCH_TRUCK)===ze.TOUCH_TRUCK||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_ZOOM_TRUCK)===ze.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(A,C,!1,!1),this._isUserControllingTruck=!0),((this._state&ze.SCREEN_PAN)===ze.SCREEN_PAN||(this._state&ze.TOUCH_SCREEN_PAN)===ze.TOUCH_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_ZOOM_SCREEN_PAN)===ze.TOUCH_ZOOM_SCREEN_PAN)&&(this._truckInternal(A,C,!1,!0),this._isUserControllingTruck=!0),((this._state&ze.OFFSET)===ze.OFFSET||(this._state&ze.TOUCH_OFFSET)===ze.TOUCH_OFFSET||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET||(this._state&ze.TOUCH_ZOOM_OFFSET)===ze.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(A,C,!0,!1),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},_=()=>{S3(this._activePointers,Wo),r.copy(Wo),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",S),this._domElement.ownerDocument.addEventListener("pointerlockerror",E),this._domElement.ownerDocument.addEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",c),y())},this.unlockPointer=()=>{this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),this._domElement?.ownerDocument.exitPointerLock(),this._domElement?.ownerDocument.removeEventListener("pointerlockchange",S),this._domElement?.ownerDocument.removeEventListener("pointerlockerror",E),this.cancel()};const S=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},E=()=>{this.unlockPointer()};this._addAllEventListeners=b=>{this._domElement=b,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",a),this._domElement.addEventListener("pointercancel",c),this._domElement.addEventListener("wheel",h,{passive:!1}),this._domElement.addEventListener("contextmenu",p)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",a),this._domElement.removeEventListener("pointercancel",c),this._domElement.removeEventListener("wheel",h,{passive:!1}),this._domElement.removeEventListener("contextmenu",p),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.ownerDocument.removeEventListener("pointerlockchange",S),this._domElement.ownerDocument.removeEventListener("pointerlockerror",E))},this.cancel=()=>{this._state!==ze.NONE&&(this._state=ze.NONE,this._activePointers.length=0,_())},t&&this.connect(t),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=ou(e.width,0,1),this._interactiveArea.height=ou(e.height,0,1),this._interactiveArea.x=ou(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=ou(e.y,0,1-this._interactiveArea.height)}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}rotate(e,t,i=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,i)}rotateAzimuthTo(e,t=!1){return this.rotateTo(e,this._sphericalEnd.phi,t)}rotatePolarTo(e,t=!1){return this.rotateTo(this._sphericalEnd.theta,e,t)}rotateTo(e,t,i=!1){this._isUserControllingRotate=!1;const r=ou(e,this.minAzimuthAngle,this.maxAzimuthAngle),s=ou(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=r,this._sphericalEnd.phi=s,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,i||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const a=!i||Ni(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Ni(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(a)}dolly(e,t=!1){return this.dollyTo(this._sphericalEnd.radius-e,t)}dollyTo(e,t=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=kv.NONE,this._changedDolly=0,this._dollyToNoClamp(ou(e,this.minDistance,this.maxDistance),t)}_dollyToNoClamp(e,t=!1){const i=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const a=this._collisionTest(),o=Ni(a,this._spherical.radius);if(!(i>e)&&o)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,a)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const s=!t||Ni(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(s)}dollyInFixed(e,t=!1){this._targetEnd.add(this._getCameraDirection(gb).multiplyScalar(e)),t||this._target.copy(this._targetEnd);const i=!t||Ni(this._target.x,this._targetEnd.x,this.restThreshold)&&Ni(this._target.y,this._targetEnd.y,this.restThreshold)&&Ni(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}zoom(e,t=!1){return this.zoomTo(this._zoomEnd+e,t)}zoomTo(e,t=!1){this._isUserControllingZoom=!1,this._zoomEnd=ou(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const i=!t||Ni(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(i)}pan(e,t,i=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,i)}truck(e,t,i=!1){this._camera.updateMatrix(),sf.setFromMatrixColumn(this._camera.matrix,0),af.setFromMatrixColumn(this._camera.matrix,1),sf.multiplyScalar(e),af.multiplyScalar(-t);const r=Hn.copy(sf).add(af),s=Ci.copy(this._targetEnd).add(r);return this.moveTo(s.x,s.y,s.z,i)}forward(e,t=!1){Hn.setFromMatrixColumn(this._camera.matrix,0),Hn.crossVectors(this._camera.up,Hn),Hn.multiplyScalar(e);const i=Ci.copy(this._targetEnd).add(Hn);return this.moveTo(i.x,i.y,i.z,t)}elevate(e,t=!1){return Hn.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+Hn.x,this._targetEnd.y+Hn.y,this._targetEnd.z+Hn.z,t)}moveTo(e,t,i,r=!1){this._isUserControllingTruck=!1;const s=Hn.set(e,t,i).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,s,this.boundaryFriction),this._needsUpdate=!0,r||this._target.copy(this._targetEnd);const a=!r||Ni(this._target.x,this._targetEnd.x,this.restThreshold)&&Ni(this._target.y,this._targetEnd.y,this.restThreshold)&&Ni(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}lookInDirectionOf(e,t,i,r=!1){const o=Hn.set(e,t,i).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(o.x,o.y,o.z,r)}fitToBox(e,t,{cover:i=!1,paddingLeft:r=0,paddingRight:s=0,paddingBottom:a=0,paddingTop:o=0}={}){const c=[],u=e.isBox3?Fv.copy(e):Fv.setFromObject(e);u.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const h=G6(this._sphericalEnd.theta,j6),p=G6(this._sphericalEnd.phi,j6);c.push(this.rotateTo(h,p,t));const y=Hn.setFromSpherical(this._sphericalEnd).normalize(),v=K6.setFromUnitVectors(y,T3),_=Ni(Math.abs(y.y),1);_&&v.multiply(C3.setFromAxisAngle(_w,h)),v.multiply(this._yAxisUpSpaceInverse);const S=Y6.makeEmpty();Ci.copy(u.min).applyQuaternion(v),S.expandByPoint(Ci),Ci.copy(u.min).setX(u.max.x).applyQuaternion(v),S.expandByPoint(Ci),Ci.copy(u.min).setY(u.max.y).applyQuaternion(v),S.expandByPoint(Ci),Ci.copy(u.max).setZ(u.min.z).applyQuaternion(v),S.expandByPoint(Ci),Ci.copy(u.min).setZ(u.max.z).applyQuaternion(v),S.expandByPoint(Ci),Ci.copy(u.max).setY(u.min.y).applyQuaternion(v),S.expandByPoint(Ci),Ci.copy(u.max).setX(u.min.x).applyQuaternion(v),S.expandByPoint(Ci),Ci.copy(u.max).applyQuaternion(v),S.expandByPoint(Ci),S.min.x-=r,S.min.y-=a,S.max.x+=s,S.max.y+=o,v.setFromUnitVectors(T3,y),_&&v.premultiply(C3.invert()),v.premultiply(this._yAxisUpSpace);const E=S.getSize(Hn),b=S.getCenter(Ci).applyQuaternion(v);if(fg(this._camera)){const w=this.getDistanceToFitBox(E.x,E.y,E.z,i);c.push(this.moveTo(b.x,b.y,b.z,t)),c.push(this.dollyTo(w,t)),c.push(this.setFocalOffset(0,0,0,t))}else if(lp(this._camera)){const w=this._camera,A=w.right-w.left,C=w.top-w.bottom,D=i?Math.max(A/E.x,C/E.y):Math.min(A/E.x,C/E.y);c.push(this.moveTo(b.x,b.y,b.z,t)),c.push(this.zoomTo(D,t)),c.push(this.setFocalOffset(0,0,0,t))}return Promise.all(c)}fitToSphere(e,t){const i=[],s="isObject3D"in e?FP.createBoundingSphere(e,w3):w3.copy(e);if(i.push(this.moveTo(s.center.x,s.center.y,s.center.z,t)),fg(this._camera)){const a=this.getDistanceToFitSphere(s.radius);i.push(this.dollyTo(a,t))}else if(lp(this._camera)){const a=this._camera.right-this._camera.left,o=this._camera.top-this._camera.bottom,c=2*s.radius,u=Math.min(a/c,o/c);i.push(this.zoomTo(u,t))}return i.push(this.setFocalOffset(0,0,0,t)),Promise.all(i)}setLookAt(e,t,i,r,s,a,o=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=kv.NONE,this._changedDolly=0;const c=Ci.set(r,s,a),u=Hn.set(e,t,i);this._targetEnd.copy(c),this._sphericalEnd.setFromVector3(u.sub(c).applyQuaternion(this._yAxisUpSpace)),this._needsUpdate=!0,o||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const h=!o||Ni(this._target.x,this._targetEnd.x,this.restThreshold)&&Ni(this._target.y,this._targetEnd.y,this.restThreshold)&&Ni(this._target.z,this._targetEnd.z,this.restThreshold)&&Ni(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Ni(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Ni(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(h)}lerp(e,t,i,r=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=kv.NONE,this._changedDolly=0;const s=Hn.set(...e.target);if("spherical"in e)Tl.set(...e.spherical);else{const p=Ci.set(...e.position);Tl.setFromVector3(p.sub(s).applyQuaternion(this._yAxisUpSpace))}const a=zv.set(...t.target);if("spherical"in t)Bv.set(...t.spherical);else{const p=Ci.set(...t.position);Bv.setFromVector3(p.sub(a).applyQuaternion(this._yAxisUpSpace))}this._targetEnd.copy(s.lerp(a,i));const o=Bv.theta-Tl.theta,c=Bv.phi-Tl.phi,u=Bv.radius-Tl.radius;this._sphericalEnd.set(Tl.radius+u*i,Tl.phi+c*i,Tl.theta+o*i),this._needsUpdate=!0,r||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const h=!r||Ni(this._target.x,this._targetEnd.x,this.restThreshold)&&Ni(this._target.y,this._targetEnd.y,this.restThreshold)&&Ni(this._target.z,this._targetEnd.z,this.restThreshold)&&Ni(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Ni(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Ni(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(h)}lerpLookAt(e,t,i,r,s,a,o,c,u,h,p,y,v,_=!1){return this.lerp({position:[e,t,i],target:[r,s,a]},{position:[o,c,u],target:[h,p,y]},v,_)}setPosition(e,t,i,r=!1){return this.setLookAt(e,t,i,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,r)}setTarget(e,t,i,r=!1){const s=this.getPosition(Hn),a=this.setLookAt(s.x,s.y,s.z,e,t,i,r);return this._sphericalEnd.phi=ou(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),a}setFocalOffset(e,t,i,r=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,i),this._needsUpdate=!0,r||this._focalOffset.copy(this._focalOffsetEnd);const s=!r||Ni(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&Ni(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&Ni(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}setOrbitPoint(e,t,i){this._camera.updateMatrixWorld(),sf.setFromMatrixColumn(this._camera.matrixWorldInverse,0),af.setFromMatrixColumn(this._camera.matrixWorldInverse,1),hg.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const r=Hn.set(e,t,i),s=r.distanceTo(this._camera.position),a=r.sub(this._camera.position);sf.multiplyScalar(a.x),af.multiplyScalar(a.y),hg.multiplyScalar(a.z),Hn.copy(sf).add(af).add(hg),Hn.z=Hn.z+s,this.dollyTo(s,!1),this.setFocalOffset(-Hn.x,Hn.y,-Hn.z,!1),this.moveTo(e,t,i,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,t,i,r){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new xn.Vector4,typeof e=="number"?this._viewport.set(e,t,i,r):this._viewport.copy(e)}getDistanceToFitBox(e,t,i,r=!1){if(E3(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const s=e/t,a=this._camera.getEffectiveFOV()*db,o=this._camera.aspect;return((r?s>o:s<o)?t:e/o)*.5/Math.tan(a*.5)+i*.5}getDistanceToFitSphere(e){if(E3(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*db,i=Math.atan(Math.tan(t*.5)*this._camera.aspect)*2,r=1<this._camera.aspect?t:i;return e/Math.sin(r*.5)}getTarget(e,t=!0){return(e&&e.isVector3?e:new xn.Vector3).copy(t?this._targetEnd:this._target)}getPosition(e,t=!0){return(e&&e.isVector3?e:new xn.Vector3).setFromSpherical(t?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(t?this._targetEnd:this._target)}getSpherical(e,t=!0){return(e||new xn.Spherical).copy(t?this._sphericalEnd:this._spherical)}getFocalOffset(e,t=!0){return(e&&e.isVector3?e:new xn.Vector3).copy(t?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){return this._sphericalEnd.theta=(this._sphericalEnd.theta%ap+ap)%ap,this._sphericalEnd.theta>Math.PI&&(this._sphericalEnd.theta-=ap),this._spherical.theta+=ap*Math.round((this._sphericalEnd.theta-this._spherical.theta)/ap),this}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(e=!1){if(!Ni(this._camera.up.x,this._cameraUp0.x)||!Ni(this._camera.up.y,this._cameraUp0.y)||!Ni(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const i=this.getPosition(Hn);this.updateCameraUp(),this.setPosition(i.x,i.y,i.z)}const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(t)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,_w),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=Hn.subVectors(this._target,this._camera.position).normalize(),t=Ci.crossVectors(e,this._camera.up);this._camera.up.crossVectors(t,e).normalize(),this._camera.updateMatrixWorld();const i=this.getPosition(Hn);this.updateCameraUp(),this.setPosition(i.x,i.y,i.z)}update(e){const t=this._sphericalEnd.theta-this._spherical.theta,i=this._sphericalEnd.phi-this._spherical.phi,r=this._sphericalEnd.radius-this._spherical.radius,s=$6.subVectors(this._targetEnd,this._target),a=X6.subVectors(this._focalOffsetEnd,this._focalOffset),o=this._zoomEnd-this._zoom;if(rr(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const p=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=yw(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,p,1/0,e),this._needsUpdate=!0}if(rr(i))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const p=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=yw(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,p,1/0,e),this._needsUpdate=!0}if(rr(r))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const p=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=yw(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,p,this.maxSpeed,e),this._needsUpdate=!0}if(rr(s.x)&&rr(s.y)&&rr(s.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const p=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;q6(this._target,this._targetEnd,this._targetVelocity,p,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(rr(a.x)&&rr(a.y)&&rr(a.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const p=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;q6(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,p,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(rr(o))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const p=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=yw(this._zoom,this._zoomEnd,this._zoomVelocity,p,1/0,e)}if(this.dollyToCursor){if(fg(this._camera)&&this._changedDolly!==0){const p=this._spherical.radius-this._lastDistance,y=this._camera,v=this._getCameraDirection(gb),_=Hn.copy(v).cross(y.up).normalize();_.lengthSq()===0&&(_.x=1);const S=Ci.crossVectors(_,v),E=this._sphericalEnd.radius*Math.tan(y.getEffectiveFOV()*db*.5),w=(this._sphericalEnd.radius-p-this._sphericalEnd.radius)/this._sphericalEnd.radius,A=zv.copy(this._targetEnd).add(_.multiplyScalar(this._dollyControlCoord.x*E*y.aspect)).add(S.multiplyScalar(this._dollyControlCoord.y*E)),C=Hn.copy(this._targetEnd).lerp(A,w),D=this._lastDollyDirection===kv.IN&&this._spherical.radius<=this.minDistance,L=this._lastDollyDirection===kv.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(D||L)){this._sphericalEnd.radius-=p,this._spherical.radius-=p;const U=Ci.copy(v).multiplyScalar(-p);C.add(U)}this._boundary.clampPoint(C,C);const P=Ci.subVectors(C,this._targetEnd);this._targetEnd.copy(C),this._target.add(P),this._changedDolly-=p,rr(this._changedDolly)&&(this._changedDolly=0)}else if(lp(this._camera)&&this._changedZoom!==0){const p=this._zoom-this._lastZoom,y=this._camera,v=Hn.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(y.near+y.far)/(y.near-y.far)).unproject(y),_=Ci.set(0,0,-1).applyQuaternion(y.quaternion),S=zv.copy(v).add(_.multiplyScalar(-v.dot(y.up))),b=-(this._zoom-p-this._zoom)/this._zoom,w=this._getCameraDirection(gb),A=this._targetEnd.dot(w),C=Hn.copy(this._targetEnd).lerp(S,b),D=C.dot(w),L=w.multiplyScalar(D-A);C.sub(L),this._boundary.clampPoint(C,C);const P=Ci.subVectors(C,this._targetEnd);this._targetEnd.copy(C),this._target.add(P),this._changedZoom-=p,rr(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const c=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,c),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!rr(this._focalOffset.x)||!rr(this._focalOffset.y)||!rr(this._focalOffset.z))&&(this._camera.matrix.compose(this._camera.position,this._camera.quaternion,this._camera.scale),sf.setFromMatrixColumn(this._camera.matrix,0),af.setFromMatrixColumn(this._camera.matrix,1),hg.setFromMatrixColumn(this._camera.matrix,2),sf.multiplyScalar(this._focalOffset.x),af.multiplyScalar(-this._focalOffset.y),hg.multiplyScalar(this._focalOffset.z),Hn.copy(sf).add(af).add(hg),this._camera.position.add(Hn),this._camera.updateMatrixWorld()),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),Hn.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const h=this._needsUpdate;return h&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):h?(this.dispatchEvent({type:"update"}),rr(t,this.restThreshold)&&rr(i,this.restThreshold)&&rr(r,this.restThreshold)&&rr(s.x,this.restThreshold)&&rr(s.y,this.restThreshold)&&rr(s.z,this.restThreshold)&&rr(a.x,this.restThreshold)&&rr(a.y,this.restThreshold)&&rr(a.z,this.restThreshold)&&rr(o,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!h&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=h,this._needsUpdate=!1,h}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:pb(this.maxDistance),minZoom:this.minZoom,maxZoom:pb(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:pb(this.maxPolarAngle),minAzimuthAngle:pb(this.minAzimuthAngle),maxAzimuthAngle:pb(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,target:this._targetEnd.toArray(),position:Hn.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,t=!1){const i=JSON.parse(e);this.enabled=i.enabled,this.minDistance=i.minDistance,this.maxDistance=mb(i.maxDistance),this.minZoom=i.minZoom,this.maxZoom=mb(i.maxZoom),this.minPolarAngle=i.minPolarAngle,this.maxPolarAngle=mb(i.maxPolarAngle),this.minAzimuthAngle=mb(i.minAzimuthAngle),this.maxAzimuthAngle=mb(i.maxAzimuthAngle),this.smoothTime=i.smoothTime,this.draggingSmoothTime=i.draggingSmoothTime,this.dollySpeed=i.dollySpeed,this.truckSpeed=i.truckSpeed,this.dollyToCursor=i.dollyToCursor,this._target0.fromArray(i.target0),this._position0.fromArray(i.position0),this._zoom0=i.zoom0,this._focalOffset0.fromArray(i.focalOffset0),this.moveTo(i.target[0],i.target[1],i.target[2],t),Tl.setFromVector3(Hn.fromArray(i.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Tl.theta,Tl.phi,t),this.dollyTo(Tl.radius,t),this.zoomTo(i.zoom,t),this.setFocalOffset(i.focalOffset[0],i.focalOffset[1],i.focalOffset[2],t),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",OEe),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(t=>t.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(t=>t.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,t,i){const r=t.lengthSq();if(r===0)return e;const s=Ci.copy(t).add(e),o=this._boundary.clampPoint(s,zv).sub(s),c=o.lengthSq();if(c===0)return e.add(t);if(c===r)return e;if(i===0)return e.add(t).add(o);{const u=1+i*c/t.dot(o);return e.add(Ci.copy(t).multiplyScalar(u)).add(o.multiplyScalar(1-i))}}_updateNearPlaneCorners(){if(fg(this._camera)){const e=this._camera,t=e.near,i=e.getEffectiveFOV()*db,r=Math.tan(i*.5)*t,s=r*e.aspect;this._nearPlaneCorners[0].set(-s,-r,0),this._nearPlaneCorners[1].set(s,-r,0),this._nearPlaneCorners[2].set(s,r,0),this._nearPlaneCorners[3].set(-s,r,0)}else if(lp(this._camera)){const e=this._camera,t=1/e.zoom,i=e.left*t,r=e.right*t,s=e.top*t,a=e.bottom*t;this._nearPlaneCorners[0].set(i,s,0),this._nearPlaneCorners[1].set(r,s,0),this._nearPlaneCorners[2].set(r,a,0),this._nearPlaneCorners[3].set(i,a,0)}}_truckInternal=(e,t,i,r)=>{let s,a;if(fg(this._camera)){const o=Hn.copy(this._camera.position).sub(this._target),c=this._camera.getEffectiveFOV()*db,u=o.length()*Math.tan(c*.5);s=this.truckSpeed*e*u/this._elementRect.height,a=this.truckSpeed*t*u/this._elementRect.height}else if(lp(this._camera)){const o=this._camera;s=this.truckSpeed*e*(o.right-o.left)/o.zoom/this._elementRect.width,a=this.truckSpeed*t*(o.top-o.bottom)/o.zoom/this._elementRect.height}else return;r?(i?this.setFocalOffset(this._focalOffsetEnd.x+s,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(s,0,!0),this.forward(-a,!0)):i?this.setFocalOffset(this._focalOffsetEnd.x+s,this._focalOffsetEnd.y+a,this._focalOffsetEnd.z,!0):this.truck(s,a,!0)};_rotateInternal=(e,t)=>{const i=ap*this.azimuthRotateSpeed*e/this._elementRect.height,r=ap*this.polarRotateSpeed*t/this._elementRect.height;this.rotate(i,r,!0)};_dollyInternal=(e,t,i)=>{const r=Math.pow(.95,-e*this.dollySpeed),s=this._sphericalEnd.radius,a=this._sphericalEnd.radius*r,o=ou(a,this.minDistance,this.maxDistance),c=o-a;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(a,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(c,!0),this._dollyToNoClamp(o,!0)):this._dollyToNoClamp(o,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?a:o)-s,this._dollyControlCoord.set(t,i)),this._lastDollyDirection=Math.sign(-e)};_zoomInternal=(e,t,i)=>{const r=Math.pow(.95,e*this.dollySpeed),s=this._zoom,a=this._zoom*r;this.zoomTo(a,!0),this.dollyToCursor&&(this._changedZoom+=a-s,this._dollyControlCoord.set(t,i))};_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||E3(this._camera,"_collisionTest"))return e;const i=this._getTargetDirection(gb);A3.lookAt(W6,i,this._camera.up);for(let r=0;r<4;r++){const s=Ci.copy(this._nearPlaneCorners[r]);s.applyMatrix4(A3);const a=zv.addVectors(this._target,s);bw.set(a,i),bw.far=this._spherical.radius+1;const o=bw.intersectObjects(this.colliderMeshes);o.length!==0&&o[0].distance<e&&(e=o[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{const i=()=>{this.removeEventListener("rest",i),t()};this.addEventListener("rest",i)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,t=new xn.Sphere){const i=t,r=i.center;Fv.makeEmpty(),e.traverseVisible(a=>{a.isMesh&&Fv.expandByObject(a)}),Fv.getCenter(r);let s=0;return e.traverseVisible(a=>{if(!a.isMesh)return;const o=a;if(!o.geometry)return;const c=o.geometry.clone();c.applyMatrix4(o.matrixWorld);const h=c.attributes.position;for(let p=0,y=h.count;p<y;p++)Hn.fromBufferAttribute(h,p),s=Math.max(s,r.distanceToSquared(Hn))}),i.radius=Math.sqrt(s),i}};const DEe=H.forwardRef((n,e)=>{const{impl:t,camera:i,domElement:r,makeDefault:s,onControlStart:a,onControl:o,onControlEnd:c,onTransitionStart:u,onUpdate:h,onWake:p,onRest:y,onSleep:v,onStart:_,onEnd:S,onChange:E,regress:b,...w}=n,A=t??PEe;H.useMemo(()=>{const ee={Box3:na,MathUtils:{clamp:Mj.clamp},Matrix4:an,Quaternion:Ta,Raycaster:cM,Sphere:ia,Spherical:RG,Vector2:it,Vector3:fe,Vector4:pi};A.install({THREE:ee}),EW({CameraControlsImpl:A})},[A]);const C=ws(ee=>ee.camera),D=ws(ee=>ee.gl),L=ws(ee=>ee.invalidate),P=ws(ee=>ee.events),U=ws(ee=>ee.setEvents),I=ws(ee=>ee.set),N=ws(ee=>ee.get),F=ws(ee=>ee.performance),z=i||C,V=r||P.connected||D.domElement,K=H.useMemo(()=>new A(z),[A,z]);return XS((ee,q)=>{K.update(q)},-1),H.useEffect(()=>(K.connect(V),()=>void K.disconnect()),[V,K]),H.useEffect(()=>{function ee(){L(),b&&F.regress()}const q=ue=>{ee(),a?.(ue),_?.(ue)},$=ue=>{ee(),o?.(ue),E?.(ue)},Q=ue=>{c?.(ue),S?.(ue)},re=ue=>{ee(),u?.(ue),E?.(ue)},de=ue=>{ee(),h?.(ue),E?.(ue)},Y=ue=>{ee(),p?.(ue),E?.(ue)},le=ue=>{y?.(ue)},pe=ue=>{v?.(ue)};return K.addEventListener("controlstart",q),K.addEventListener("control",$),K.addEventListener("controlend",Q),K.addEventListener("transitionstart",re),K.addEventListener("update",de),K.addEventListener("wake",Y),K.addEventListener("rest",le),K.addEventListener("sleep",pe),()=>{K.removeEventListener("controlstart",q),K.removeEventListener("control",$),K.removeEventListener("controlend",Q),K.removeEventListener("transitionstart",re),K.removeEventListener("update",de),K.removeEventListener("wake",Y),K.removeEventListener("rest",le),K.removeEventListener("sleep",pe)}},[K,L,U,b,F,a,o,c,u,h,p,y,v,E,_,S]),H.useEffect(()=>{if(s){const ee=N().controls;return I({controls:K}),()=>I({controls:ee})}},[s,K]),H.createElement("primitive",Ko({ref:e,object:K},w))});function NEe({defaultScene:n,defaultCamera:e,renderPriority:t=1}){const{gl:i,scene:r,camera:s}=ws();let a;return XS(()=>{a=i.autoClear,t===1&&(i.autoClear=!0,i.render(n,e)),i.autoClear=!1,i.clearDepth(),i.render(r,s),i.autoClear=a},t),H.createElement("group",{onPointerOver:()=>null})}function LEe({children:n,renderPriority:e=1}){const{scene:t,camera:i}=ws(),[r]=H.useState(()=>new HA);return H.createElement(H.Fragment,null,dEe(H.createElement(H.Fragment,null,n,H.createElement(NEe,{defaultScene:t,defaultCamera:i,renderPriority:e})),r,{events:{priority:e+1}}))}const IW=H.createContext({}),UEe=()=>H.useContext(IW),kEe=2*Math.PI,M3=new mi,Z6=new an,[Vv,R3]=[new Ta,new Ta],Q6=new fe,J6=new fe,zEe=n=>"minPolarAngle"in n,e9=n=>"getTarget"in n,BEe=({alignment:n="bottom-right",margin:e=[80,80],renderPriority:t=1,onUpdate:i,onTarget:r,children:s})=>{const a=ws(L=>L.size),o=ws(L=>L.camera),c=ws(L=>L.controls),u=ws(L=>L.invalidate),h=H.useRef(null),p=H.useRef(null),y=H.useRef(!1),v=H.useRef(0),_=H.useRef(new fe(0,0,0)),S=H.useRef(new fe(0,0,0));H.useEffect(()=>{S.current.copy(o.up),M3.up.copy(o.up)},[o]);const E=H.useCallback(L=>{y.current=!0,(c||r)&&(_.current=r?.()||(e9(c)?c.getTarget(_.current):c?.target)),v.current=o.position.distanceTo(Q6),Vv.copy(o.quaternion),J6.copy(L).multiplyScalar(v.current).add(Q6),M3.lookAt(J6),R3.copy(M3.quaternion),u()},[c,o,r,u]);XS((L,P)=>{if(p.current&&h.current){var U;if(y.current)if(Vv.angleTo(R3)<.01)y.current=!1,zEe(c)&&o.up.copy(S.current);else{const I=P*kEe;Vv.rotateTowards(R3,I),o.position.set(0,0,1).applyQuaternion(Vv).multiplyScalar(v.current).add(_.current),o.up.set(0,1,0).applyQuaternion(Vv).normalize(),o.quaternion.copy(Vv),e9(c)&&c.setPosition(o.position.x,o.position.y,o.position.z),i?i():c&&c.update(P),u()}Z6.copy(o.matrix).invert(),(U=h.current)==null||U.quaternion.setFromRotationMatrix(Z6)}});const b=H.useMemo(()=>({tweenCamera:E}),[E]),[w,A]=e,C=n.endsWith("-center")?0:n.endsWith("-left")?-a.width/2+w:a.width/2-w,D=n.startsWith("center-")?0:n.startsWith("top-")?a.height/2-A:-a.height/2+A;return H.createElement(LEe,{renderPriority:t},H.createElement(IW.Provider,{value:b},H.createElement(MEe,{makeDefault:!0,ref:p,position:[0,0,200]}),H.createElement("group",{ref:h,position:[C,D,0]},s)))};function O3({scale:n=[.8,.05,.05],color:e,rotation:t}){return H.createElement("group",{rotation:t},H.createElement("mesh",{position:[.4,0,0]},H.createElement("boxGeometry",{args:n}),H.createElement("meshBasicMaterial",{color:e,toneMapped:!1})))}function Hv({onClick:n,font:e,disabled:t,arcStyle:i,label:r,labelColor:s,axisHeadScale:a=1,...o}){const c=ws(S=>S.gl),u=H.useMemo(()=>{const S=document.createElement("canvas");S.width=64,S.height=64;const E=S.getContext("2d");return E.beginPath(),E.arc(32,32,16,0,2*Math.PI),E.closePath(),E.fillStyle=i,E.fill(),r&&(E.font=e,E.textAlign="center",E.fillStyle=s,E.fillText(r,32,41)),new FN(S)},[i,r,s,e]),[h,p]=H.useState(!1),y=(r?1:.75)*(h?1.2:1)*a,v=S=>{S.stopPropagation(),p(!0)},_=S=>{S.stopPropagation(),p(!1)};return H.createElement("sprite",Ko({scale:y,onPointerOver:t?void 0:v,onPointerOut:t?void 0:n||_},o),H.createElement("spriteMaterial",{map:u,"map-anisotropy":c.capabilities.getMaxAnisotropy()||1,alphaTest:.3,opacity:r?1:.75,toneMapped:!1}))}const FEe=({hideNegativeAxes:n,hideAxisHeads:e,disabled:t,font:i="18px Inter var, Arial, sans-serif",axisColors:r=["#ff2060","#20df80","#2080ff"],axisHeadScale:s=1,axisScale:a,labels:o=["X","Y","Z"],labelColor:c="#000",onClick:u,...h})=>{const[p,y,v]=r,{tweenCamera:_}=UEe(),S={font:i,disabled:t,labelColor:c,onClick:u,axisHeadScale:s,onPointerDown:t?void 0:E=>{_(E.object.position),E.stopPropagation()}};return H.createElement("group",Ko({scale:40},h),H.createElement(O3,{color:p,rotation:[0,0,0],scale:a}),H.createElement(O3,{color:y,rotation:[0,0,Math.PI/2],scale:a}),H.createElement(O3,{color:v,rotation:[0,-Math.PI/2,0],scale:a}),!e&&H.createElement(H.Fragment,null,H.createElement(Hv,Ko({arcStyle:p,position:[1,0,0],label:o[0]},S)),H.createElement(Hv,Ko({arcStyle:y,position:[0,1,0],label:o[1]},S)),H.createElement(Hv,Ko({arcStyle:v,position:[0,0,1],label:o[2]},S)),!n&&H.createElement(H.Fragment,null,H.createElement(Hv,Ko({arcStyle:p,position:[-1,0,0]},S)),H.createElement(Hv,Ko({arcStyle:y,position:[0,-1,0]},S)),H.createElement(Hv,Ko({arcStyle:v,position:[0,0,-1]},S)))))},VEe=Vr(Z.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),HEe=Vr(Z.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})),jEe=Vr(Z.jsx("path",{d:"m10 17 5-5-5-5z"})),GEe=Vr(Z.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),qEe=Vr(Z.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),WEe=Vr(Z.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),$Ee=Vr(Z.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"})),XEe=Vr(Z.jsx("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"})),YEe=Vr(Z.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),KEe=(n,e,t,i)=>{const r=[t,{code:e,...i||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(r,"warn","react-i18next::",!0);jg(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...r):console?.warn&&console.warn(...r)},t9={},VP=(n,e,t,i)=>{jg(t)&&t9[t]||(jg(t)&&(t9[t]=new Date),KEe(n,e,t,i))},PW=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},HP=(n,e,t)=>{n.loadNamespaces(e,PW(n,t))},n9=(n,e,t,i)=>{if(jg(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return HP(n,t,i);t.forEach(r=>{n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(e,PW(n,i))},ZEe=(n,e,t={})=>!e.languages||!e.languages.length?(VP(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,r)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!r(i.isLanguageChangingTo,n))return!1}}),jg=n=>typeof n=="string",QEe=n=>typeof n=="object"&&n!==null,JEe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,eTe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},tTe=n=>eTe[n],nTe=n=>n.replace(JEe,tTe);let jP={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:nTe};const iTe=(n={})=>{jP={...jP,...n}},rTe=()=>jP;let DW;const sTe=n=>{DW=n},aTe=()=>DW,oTe={type:"3rdParty",init(n){iTe(n.options.react),sTe(n)}},lTe=H.createContext();class cTe{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const uTe=(n,e)=>{const t=H.useRef();return H.useEffect(()=>{t.current=n},[n,e]),t.current},NW=(n,e,t,i)=>n.getFixedT(e,t,i),fTe=(n,e,t,i)=>H.useCallback(NW(n,e,t,i),[n,e,t,i]),hy=(n,e={})=>{const{i18n:t}=e,{i18n:i,defaultNS:r}=H.useContext(lTe)||{},s=t||i||aTe();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new cTe),!s){VP(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const C=(L,P)=>jg(P)?P:QEe(P)&&jg(P.defaultValue)?P.defaultValue:Array.isArray(L)?L[L.length-1]:L,D=[C,{},!1];return D.t=C,D.i18n={},D.ready=!1,D}s.options.react?.wait&&VP(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...rTe(),...s.options.react,...e},{useSuspense:o,keyPrefix:c}=a;let u=r||s.options?.defaultNS;u=jg(u)?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces?.(u);const h=(s.isInitialized||s.initializedStoreOnce)&&u.every(C=>ZEe(C,s,a)),p=fTe(s,e.lng||null,a.nsMode==="fallback"?u:u[0],c),y=()=>p,v=()=>NW(s,e.lng||null,a.nsMode==="fallback"?u:u[0],c),[_,S]=H.useState(y);let E=u.join();e.lng&&(E=`${e.lng}${E}`);const b=uTe(E),w=H.useRef(!0);H.useEffect(()=>{const{bindI18n:C,bindI18nStore:D}=a;w.current=!0,!h&&!o&&(e.lng?n9(s,e.lng,u,()=>{w.current&&S(v)}):HP(s,u,()=>{w.current&&S(v)})),h&&b&&b!==E&&w.current&&S(v);const L=()=>{w.current&&S(v)};return C&&s?.on(C,L),D&&s?.store.on(D,L),()=>{w.current=!1,s&&C&&C?.split(" ").forEach(P=>s.off(P,L)),D&&s&&D.split(" ").forEach(P=>s.store.off(P,L))}},[s,E]),H.useEffect(()=>{w.current&&h&&S(y)},[s,c,h]);const A=[_,s,h];if(A.t=_,A.i18n=s,A.ready=h,h||!h&&!o)return A;throw new Promise(C=>{e.lng?n9(s,e.lng,u,()=>C()):HP(s,u,()=>C())})},Wp=T_({palette:{background:{paper:"#fff",form:"#f3f3f3",formInput:"#000"},text:{titleBig:"#173A5E",primary:"#fff",secondary:"#46505A",tertiary:"#171A1FFF",white:"#fff"},action:{progress:"#001E3C",success:"#1976d2",deactivate:"#d32f2f"},success:{dark:"#009688"},canvas:{canvasBackgraundColor:"#002"},buttons:{buttonHomeScreen:"#f1f1f1"},formStyles:{containerBackgroundColor:"#d1d1d1ff",cardBackgroundColor:"#f9f9f9",cardBoxShadow:"0 10px 30px rgba(0, 0, 0, 0.99)",buttonForm:"#001E3C",borderColor:"rgb(109, 109, 109)"},paletteBjj:{rojoVibrante:"#FF1E1E",azulMarino:"#002B5B",grisCarbon:"#1C1C1C",amarilloOro:"#FFC300",grisClaro:"#F5F5F5"},typography:{fontFamily:"poppins"}}}),LW=Wp.palette.buttons.buttonHomeScreen,hTe={display:"flex",alignItems:"center",textAlign:"center",position:"absolute",zIndex:10,top:"30px",right:"30px"},dTe={width:55,height:55,backgroundColor:"transparent",border:`2px solid ${LW}`},pTe={color:LW,fontSize:"2.5rem"},I3="components.accountMenu.";function mTe(){const{user:n,isAuthenticated:e}=vde(),{t}=hy(),i=GF(),[r,s]=ar.useState(null),a=!!r,o=y=>{s(y.currentTarget),Sn.setState({isNodeAddViewActive:!1})},c=()=>{s(null)},u=()=>{s(null)},h=()=>{Sn.setState({isLoginWindowActive:!0}),i(uW.loginUser)},p=()=>{Sn.setState({isConfigWindowActive:!0})};return Z.jsxs(ar.Fragment,{children:[Z.jsx(Df,{sx:hTe,children:Z.jsx(lW,{title:t(I3+"title"),children:Z.jsx(wL,{onClick:o,size:"small","aria-controls":a?"menu-user":void 0,"aria-haspopup":"true","aria-expanded":a?"true":void 0,children:Z.jsx(t6,{sx:dTe,children:Z.jsx(XEe,{sx:pTe})})})})}),Z.jsxs(rW,{anchorEl:r,id:"menu-user",open:a,onClose:u,slotProps:{paper:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e?Z.jsxs(Cl,{onClick:c,children:[Z.jsx(px,{children:Z.jsx(t6,{alt:n?.name??"User",src:n?.picture??void 0})}),n?.name]}):Z.jsxs(Cl,{onClick:h,disabled:!0,children:[Z.jsx(px,{children:Z.jsx($Ee,{fontSize:"small"})}),t(I3+"optionsMenu.login")]}),Z.jsx(oS,{}),Z.jsxs(Cl,{onClick:p,children:[Z.jsx(px,{children:Z.jsx(YEe,{fontSize:"small"})}),t(I3+"optionsMenu.configuration")]})]})]})}function gTe(){const n=Sn(i=>i.showAlert),e=Sn(i=>i.alertMessage),t=Sn(i=>i.alertSeverity);return Z.jsx(up,{sx:{width:"80%",position:"absolute",bottom:20,zIndex:9999},spacing:2,children:Z.jsx(Qq,{direction:"left",in:n,mountOnEnter:!0,unmountOnExit:!0,children:Z.jsx(rS,{in:n,children:Z.jsx(Xve,{severity:t,children:e})})})})}const P3=Wp,yTe=({buttonFunction:n,disabled:e,isPositionAbsolute:t})=>Z.jsx(WS,{disabled:e,onClick:n,sx:{...t?{position:"absolute",top:10,right:10}:{},marginRight:"1rem",backgroundColor:VS(P3.palette.formStyles.containerBackgroundColor,.4),"&:hover":{backgroundColor:P3.palette.formStyles.cardBackgroundColor,opacity:.8},color:P3.palette.action.deactivate},children:Z.jsx(qEe,{sx:{fontSize:"2em"}})}),vTe=({cameraControlsRef:n})=>Z.jsxs(Z.Fragment,{children:[Z.jsx(xAe,{cameraControlsRef:n}),Z.jsx("ambientLight",{intensity:d2.intensity}),Z.jsx("directionalLight",{position:d2.position,color:d2.colorLight}),Z.jsx(BEe,{alignment:"top-left",margin:[80,150],children:Z.jsx(FEe,{labelColor:"#fff",axisColors:["red","green","blue"]})})]}),_Te=Wp.palette,bTe=_Te.text;bTe.titleBig;function xTe(n,e,t){var i,r=1;n==null&&(n=0),e==null&&(e=0),t==null&&(t=0);function s(){var a,o=i.length,c,u=0,h=0,p=0;for(a=0;a<o;++a)c=i[a],u+=c.x||0,h+=c.y||0,p+=c.z||0;for(u=(u/o-n)*r,h=(h/o-e)*r,p=(p/o-t)*r,a=0;a<o;++a)c=i[a],u&&(c.x-=u),h&&(c.y-=h),p&&(c.z-=p)}return s.initialize=function(a){i=a},s.x=function(a){return arguments.length?(n=+a,s):n},s.y=function(a){return arguments.length?(e=+a,s):e},s.z=function(a){return arguments.length?(t=+a,s):t},s.strength=function(a){return arguments.length?(r=+a,s):r},s}function STe(n){const e=+this._x.call(null,n);return UW(this.cover(e),e,n)}function UW(n,e,t){if(isNaN(e))return n;var i,r=n._root,s={data:t},a=n._x0,o=n._x1,c,u,h,p,y;if(!r)return n._root=s,n;for(;r.length;)if((h=e>=(c=(a+o)/2))?a=c:o=c,i=r,!(r=r[p=+h]))return i[p]=s,n;if(u=+n._x.call(null,r.data),e===u)return s.next=r,i?i[p]=s:n._root=s,n;do i=i?i[p]=new Array(2):n._root=new Array(2),(h=e>=(c=(a+o)/2))?a=c:o=c;while((p=+h)==(y=+(u>=c)));return i[y]=r,i[p]=s,n}function ETe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,t=new Float64Array(e);let i=1/0,r=-1/0;for(let s=0,a;s<e;++s)isNaN(a=+this._x.call(null,n[s]))||(t[s]=a,a<i&&(i=a),a>r&&(r=a));if(i>r)return this;this.cover(i).cover(r);for(let s=0;s<e;++s)UW(this,t[s],n[s]);return this}function TTe(n){if(isNaN(n=+n))return this;var e=this._x0,t=this._x1;if(isNaN(e))t=(e=Math.floor(n))+1;else{for(var i=t-e||1,r=this._root,s,a;e>n||n>=t;)switch(a=+(n<e),s=new Array(2),s[a]=r,r=s,i*=2,a){case 0:t=e+i;break;case 1:e=t-i;break}this._root&&this._root.length&&(this._root=r)}return this._x0=e,this._x1=t,this}function wTe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function CTe(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Vh(n,e,t){this.node=n,this.x0=e,this.x1=t}function ATe(n,e){var t,i=this._x0,r,s,a=this._x1,o=[],c=this._root,u,h;for(c&&o.push(new Vh(c,i,a)),e==null?e=1/0:(i=n-e,a=n+e);u=o.pop();)if(!(!(c=u.node)||(r=u.x0)>a||(s=u.x1)<i))if(c.length){var p=(r+s)/2;o.push(new Vh(c[1],p,s),new Vh(c[0],r,p)),(h=+(n>=p))&&(u=o[o.length-1],o[o.length-1]=o[o.length-1-h],o[o.length-1-h]=u)}else{var y=Math.abs(n-+this._x.call(null,c.data));y<e&&(e=y,i=n-y,a=n+y,t=c.data)}return t}function MTe(n){if(isNaN(c=+this._x.call(null,n)))return this;var e,t=this._root,i,r,s,a=this._x0,o=this._x1,c,u,h,p,y;if(!t)return this;if(t.length)for(;;){if((h=c>=(u=(a+o)/2))?a=u:o=u,e=t,!(t=t[p=+h]))return this;if(!t.length)break;e[p+1&1]&&(i=e,y=p)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[p]=s:delete e[p],(t=e[0]||e[1])&&t===(e[1]||e[0])&&!t.length&&(i?i[y]=t:this._root=t),this):(this._root=s,this)}function RTe(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function OTe(){return this._root}function ITe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function PTe(n){var e=[],t,i=this._root,r,s,a;for(i&&e.push(new Vh(i,this._x0,this._x1));t=e.pop();)if(!n(i=t.node,s=t.x0,a=t.x1)&&i.length){var o=(s+a)/2;(r=i[1])&&e.push(new Vh(r,o,a)),(r=i[0])&&e.push(new Vh(r,s,o))}return this}function DTe(n){var e=[],t=[],i;for(this._root&&e.push(new Vh(this._root,this._x0,this._x1));i=e.pop();){var r=i.node;if(r.length){var s,a=i.x0,o=i.x1,c=(a+o)/2;(s=r[0])&&e.push(new Vh(s,a,c)),(s=r[1])&&e.push(new Vh(s,c,o))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.x1);return this}function NTe(n){return n[0]}function LTe(n){return arguments.length?(this._x=n,this):this._x}function kW(n,e){var t=new XL(e??NTe,NaN,NaN);return n==null?t:t.addAll(n)}function XL(n,e,t){this._x=n,this._x0=e,this._x1=t,this._root=void 0}function i9(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var ol=kW.prototype=XL.prototype;ol.copy=function(){var n=new XL(this._x,this._x0,this._x1),e=this._root,t,i;if(!e)return n;if(!e.length)return n._root=i9(e),n;for(t=[{source:e,target:n._root=new Array(2)}];e=t.pop();)for(var r=0;r<2;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(2)}):e.target[r]=i9(i));return n};ol.add=STe;ol.addAll=ETe;ol.cover=TTe;ol.data=wTe;ol.extent=CTe;ol.find=ATe;ol.remove=MTe;ol.removeAll=RTe;ol.root=OTe;ol.size=ITe;ol.visit=PTe;ol.visitAfter=DTe;ol.x=LTe;function UTe(n){const e=+this._x.call(null,n),t=+this._y.call(null,n);return zW(this.cover(e,t),e,t,n)}function zW(n,e,t,i){if(isNaN(e)||isNaN(t))return n;var r,s=n._root,a={data:i},o=n._x0,c=n._y0,u=n._x1,h=n._y1,p,y,v,_,S,E,b,w;if(!s)return n._root=a,n;for(;s.length;)if((S=e>=(p=(o+u)/2))?o=p:u=p,(E=t>=(y=(c+h)/2))?c=y:h=y,r=s,!(s=s[b=E<<1|S]))return r[b]=a,n;if(v=+n._x.call(null,s.data),_=+n._y.call(null,s.data),e===v&&t===_)return a.next=s,r?r[b]=a:n._root=a,n;do r=r?r[b]=new Array(4):n._root=new Array(4),(S=e>=(p=(o+u)/2))?o=p:u=p,(E=t>=(y=(c+h)/2))?c=y:h=y;while((b=E<<1|S)===(w=(_>=y)<<1|v>=p));return r[w]=s,r[b]=a,n}function kTe(n){var e,t,i=n.length,r,s,a=new Array(i),o=new Array(i),c=1/0,u=1/0,h=-1/0,p=-1/0;for(t=0;t<i;++t)isNaN(r=+this._x.call(null,e=n[t]))||isNaN(s=+this._y.call(null,e))||(a[t]=r,o[t]=s,r<c&&(c=r),r>h&&(h=r),s<u&&(u=s),s>p&&(p=s));if(c>h||u>p)return this;for(this.cover(c,u).cover(h,p),t=0;t<i;++t)zW(this,a[t],o[t],n[t]);return this}function zTe(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var t=this._x0,i=this._y0,r=this._x1,s=this._y1;if(isNaN(t))r=(t=Math.floor(n))+1,s=(i=Math.floor(e))+1;else{for(var a=r-t||1,o=this._root,c,u;t>n||n>=r||i>e||e>=s;)switch(u=(e<i)<<1|n<t,c=new Array(4),c[u]=o,o=c,a*=2,u){case 0:r=t+a,s=i+a;break;case 1:t=r-a,s=i+a;break;case 2:r=t+a,i=s-a;break;case 3:t=r-a,i=s-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._y0=i,this._x1=r,this._y1=s,this}function BTe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function FTe(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Mo(n,e,t,i,r){this.node=n,this.x0=e,this.y0=t,this.x1=i,this.y1=r}function VTe(n,e,t){var i,r=this._x0,s=this._y0,a,o,c,u,h=this._x1,p=this._y1,y=[],v=this._root,_,S;for(v&&y.push(new Mo(v,r,s,h,p)),t==null?t=1/0:(r=n-t,s=e-t,h=n+t,p=e+t,t*=t);_=y.pop();)if(!(!(v=_.node)||(a=_.x0)>h||(o=_.y0)>p||(c=_.x1)<r||(u=_.y1)<s))if(v.length){var E=(a+c)/2,b=(o+u)/2;y.push(new Mo(v[3],E,b,c,u),new Mo(v[2],a,b,E,u),new Mo(v[1],E,o,c,b),new Mo(v[0],a,o,E,b)),(S=(e>=b)<<1|n>=E)&&(_=y[y.length-1],y[y.length-1]=y[y.length-1-S],y[y.length-1-S]=_)}else{var w=n-+this._x.call(null,v.data),A=e-+this._y.call(null,v.data),C=w*w+A*A;if(C<t){var D=Math.sqrt(t=C);r=n-D,s=e-D,h=n+D,p=e+D,i=v.data}}return i}function HTe(n){if(isNaN(h=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n)))return this;var e,t=this._root,i,r,s,a=this._x0,o=this._y0,c=this._x1,u=this._y1,h,p,y,v,_,S,E,b;if(!t)return this;if(t.length)for(;;){if((_=h>=(y=(a+c)/2))?a=y:c=y,(S=p>=(v=(o+u)/2))?o=v:u=v,e=t,!(t=t[E=S<<1|_]))return this;if(!t.length)break;(e[E+1&3]||e[E+2&3]||e[E+3&3])&&(i=e,b=E)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[E]=s:delete e[E],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[b]=t:this._root=t),this):(this._root=s,this)}function jTe(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function GTe(){return this._root}function qTe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function WTe(n){var e=[],t,i=this._root,r,s,a,o,c;for(i&&e.push(new Mo(i,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!n(i=t.node,s=t.x0,a=t.y0,o=t.x1,c=t.y1)&&i.length){var u=(s+o)/2,h=(a+c)/2;(r=i[3])&&e.push(new Mo(r,u,h,o,c)),(r=i[2])&&e.push(new Mo(r,s,h,u,c)),(r=i[1])&&e.push(new Mo(r,u,a,o,h)),(r=i[0])&&e.push(new Mo(r,s,a,u,h))}return this}function $Te(n){var e=[],t=[],i;for(this._root&&e.push(new Mo(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var r=i.node;if(r.length){var s,a=i.x0,o=i.y0,c=i.x1,u=i.y1,h=(a+c)/2,p=(o+u)/2;(s=r[0])&&e.push(new Mo(s,a,o,h,p)),(s=r[1])&&e.push(new Mo(s,h,o,c,p)),(s=r[2])&&e.push(new Mo(s,a,p,h,u)),(s=r[3])&&e.push(new Mo(s,h,p,c,u))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function XTe(n){return n[0]}function YTe(n){return arguments.length?(this._x=n,this):this._x}function KTe(n){return n[1]}function ZTe(n){return arguments.length?(this._y=n,this):this._y}function BW(n,e,t){var i=new YL(e??XTe,t??KTe,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function YL(n,e,t,i,r,s){this._x=n,this._y=e,this._x0=t,this._y0=i,this._x1=r,this._y1=s,this._root=void 0}function r9(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var Po=BW.prototype=YL.prototype;Po.copy=function(){var n=new YL(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,t,i;if(!e)return n;if(!e.length)return n._root=r9(e),n;for(t=[{source:e,target:n._root=new Array(4)}];e=t.pop();)for(var r=0;r<4;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(4)}):e.target[r]=r9(i));return n};Po.add=UTe;Po.addAll=kTe;Po.cover=zTe;Po.data=BTe;Po.extent=FTe;Po.find=VTe;Po.remove=HTe;Po.removeAll=jTe;Po.root=GTe;Po.size=qTe;Po.visit=WTe;Po.visitAfter=$Te;Po.x=YTe;Po.y=ZTe;function QTe(n){const e=+this._x.call(null,n),t=+this._y.call(null,n),i=+this._z.call(null,n);return FW(this.cover(e,t,i),e,t,i,n)}function FW(n,e,t,i,r){if(isNaN(e)||isNaN(t)||isNaN(i))return n;var s,a=n._root,o={data:r},c=n._x0,u=n._y0,h=n._z0,p=n._x1,y=n._y1,v=n._z1,_,S,E,b,w,A,C,D,L,P,U;if(!a)return n._root=o,n;for(;a.length;)if((C=e>=(_=(c+p)/2))?c=_:p=_,(D=t>=(S=(u+y)/2))?u=S:y=S,(L=i>=(E=(h+v)/2))?h=E:v=E,s=a,!(a=a[P=L<<2|D<<1|C]))return s[P]=o,n;if(b=+n._x.call(null,a.data),w=+n._y.call(null,a.data),A=+n._z.call(null,a.data),e===b&&t===w&&i===A)return o.next=a,s?s[P]=o:n._root=o,n;do s=s?s[P]=new Array(8):n._root=new Array(8),(C=e>=(_=(c+p)/2))?c=_:p=_,(D=t>=(S=(u+y)/2))?u=S:y=S,(L=i>=(E=(h+v)/2))?h=E:v=E;while((P=L<<2|D<<1|C)===(U=(A>=E)<<2|(w>=S)<<1|b>=_));return s[U]=a,s[P]=o,n}function JTe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,t=new Float64Array(e),i=new Float64Array(e),r=new Float64Array(e);let s=1/0,a=1/0,o=1/0,c=-1/0,u=-1/0,h=-1/0;for(let p=0,y,v,_,S;p<e;++p)isNaN(v=+this._x.call(null,y=n[p]))||isNaN(_=+this._y.call(null,y))||isNaN(S=+this._z.call(null,y))||(t[p]=v,i[p]=_,r[p]=S,v<s&&(s=v),v>c&&(c=v),_<a&&(a=_),_>u&&(u=_),S<o&&(o=S),S>h&&(h=S));if(s>c||a>u||o>h)return this;this.cover(s,a,o).cover(c,u,h);for(let p=0;p<e;++p)FW(this,t[p],i[p],r[p],n[p]);return this}function ewe(n,e,t){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(t=+t))return this;var i=this._x0,r=this._y0,s=this._z0,a=this._x1,o=this._y1,c=this._z1;if(isNaN(i))a=(i=Math.floor(n))+1,o=(r=Math.floor(e))+1,c=(s=Math.floor(t))+1;else{for(var u=a-i||1,h=this._root,p,y;i>n||n>=a||r>e||e>=o||s>t||t>=c;)switch(y=(t<s)<<2|(e<r)<<1|n<i,p=new Array(8),p[y]=h,h=p,u*=2,y){case 0:a=i+u,o=r+u,c=s+u;break;case 1:i=a-u,o=r+u,c=s+u;break;case 2:a=i+u,r=o-u,c=s+u;break;case 3:i=a-u,r=o-u,c=s+u;break;case 4:a=i+u,o=r+u,s=c-u;break;case 5:i=a-u,o=r+u,s=c-u;break;case 6:a=i+u,r=o-u,s=c-u;break;case 7:i=a-u,r=o-u,s=c-u;break}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=r,this._z0=s,this._x1=a,this._y1=o,this._z1=c,this}function twe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function nwe(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function er(n,e,t,i,r,s,a){this.node=n,this.x0=e,this.y0=t,this.z0=i,this.x1=r,this.y1=s,this.z1=a}function iwe(n,e,t,i){var r,s=this._x0,a=this._y0,o=this._z0,c,u,h,p,y,v,_=this._x1,S=this._y1,E=this._z1,b=[],w=this._root,A,C;for(w&&b.push(new er(w,s,a,o,_,S,E)),i==null?i=1/0:(s=n-i,a=e-i,o=t-i,_=n+i,S=e+i,E=t+i,i*=i);A=b.pop();)if(!(!(w=A.node)||(c=A.x0)>_||(u=A.y0)>S||(h=A.z0)>E||(p=A.x1)<s||(y=A.y1)<a||(v=A.z1)<o))if(w.length){var D=(c+p)/2,L=(u+y)/2,P=(h+v)/2;b.push(new er(w[7],D,L,P,p,y,v),new er(w[6],c,L,P,D,y,v),new er(w[5],D,u,P,p,L,v),new er(w[4],c,u,P,D,L,v),new er(w[3],D,L,h,p,y,P),new er(w[2],c,L,h,D,y,P),new er(w[1],D,u,h,p,L,P),new er(w[0],c,u,h,D,L,P)),(C=(t>=P)<<2|(e>=L)<<1|n>=D)&&(A=b[b.length-1],b[b.length-1]=b[b.length-1-C],b[b.length-1-C]=A)}else{var U=n-+this._x.call(null,w.data),I=e-+this._y.call(null,w.data),N=t-+this._z.call(null,w.data),F=U*U+I*I+N*N;if(F<i){var z=Math.sqrt(i=F);s=n-z,a=e-z,o=t-z,_=n+z,S=e+z,E=t+z,r=w.data}}return r}const rwe=(n,e,t,i,r,s)=>Math.sqrt((n-i)**2+(e-r)**2+(t-s)**2);function swe(n,e,t,i){const r=[],s=n-i,a=e-i,o=t-i,c=n+i,u=e+i,h=t+i;return this.visit((p,y,v,_,S,E,b)=>{if(!p.length)do{const w=p.data;rwe(n,e,t,this._x(w),this._y(w),this._z(w))<=i&&r.push(w)}while(p=p.next);return y>c||v>u||_>h||S<s||E<a||b<o}),r}function awe(n){if(isNaN(y=+this._x.call(null,n))||isNaN(v=+this._y.call(null,n))||isNaN(_=+this._z.call(null,n)))return this;var e,t=this._root,i,r,s,a=this._x0,o=this._y0,c=this._z0,u=this._x1,h=this._y1,p=this._z1,y,v,_,S,E,b,w,A,C,D,L;if(!t)return this;if(t.length)for(;;){if((w=y>=(S=(a+u)/2))?a=S:u=S,(A=v>=(E=(o+h)/2))?o=E:h=E,(C=_>=(b=(c+p)/2))?c=b:p=b,e=t,!(t=t[D=C<<2|A<<1|w]))return this;if(!t.length)break;(e[D+1&7]||e[D+2&7]||e[D+3&7]||e[D+4&7]||e[D+5&7]||e[D+6&7]||e[D+7&7])&&(i=e,L=D)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[D]=s:delete e[D],(t=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&t===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[L]=t:this._root=t),this):(this._root=s,this)}function owe(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function lwe(){return this._root}function cwe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function uwe(n){var e=[],t,i=this._root,r,s,a,o,c,u,h;for(i&&e.push(new er(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=e.pop();)if(!n(i=t.node,s=t.x0,a=t.y0,o=t.z0,c=t.x1,u=t.y1,h=t.z1)&&i.length){var p=(s+c)/2,y=(a+u)/2,v=(o+h)/2;(r=i[7])&&e.push(new er(r,p,y,v,c,u,h)),(r=i[6])&&e.push(new er(r,s,y,v,p,u,h)),(r=i[5])&&e.push(new er(r,p,a,v,c,y,h)),(r=i[4])&&e.push(new er(r,s,a,v,p,y,h)),(r=i[3])&&e.push(new er(r,p,y,o,c,u,v)),(r=i[2])&&e.push(new er(r,s,y,o,p,u,v)),(r=i[1])&&e.push(new er(r,p,a,o,c,y,v)),(r=i[0])&&e.push(new er(r,s,a,o,p,y,v))}return this}function fwe(n){var e=[],t=[],i;for(this._root&&e.push(new er(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var r=i.node;if(r.length){var s,a=i.x0,o=i.y0,c=i.z0,u=i.x1,h=i.y1,p=i.z1,y=(a+u)/2,v=(o+h)/2,_=(c+p)/2;(s=r[0])&&e.push(new er(s,a,o,c,y,v,_)),(s=r[1])&&e.push(new er(s,y,o,c,u,v,_)),(s=r[2])&&e.push(new er(s,a,v,c,y,h,_)),(s=r[3])&&e.push(new er(s,y,v,c,u,h,_)),(s=r[4])&&e.push(new er(s,a,o,_,y,v,p)),(s=r[5])&&e.push(new er(s,y,o,_,u,v,p)),(s=r[6])&&e.push(new er(s,a,v,_,y,h,p)),(s=r[7])&&e.push(new er(s,y,v,_,u,h,p))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function hwe(n){return n[0]}function dwe(n){return arguments.length?(this._x=n,this):this._x}function pwe(n){return n[1]}function mwe(n){return arguments.length?(this._y=n,this):this._y}function gwe(n){return n[2]}function ywe(n){return arguments.length?(this._z=n,this):this._z}function VW(n,e,t,i){var r=new KL(e??hwe,t??pwe,i??gwe,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?r:r.addAll(n)}function KL(n,e,t,i,r,s,a,o,c){this._x=n,this._y=e,this._z=t,this._x0=i,this._y0=r,this._z0=s,this._x1=a,this._y1=o,this._z1=c,this._root=void 0}function s9(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var Aa=VW.prototype=KL.prototype;Aa.copy=function(){var n=new KL(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,t,i;if(!e)return n;if(!e.length)return n._root=s9(e),n;for(t=[{source:e,target:n._root=new Array(8)}];e=t.pop();)for(var r=0;r<8;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(8)}):e.target[r]=s9(i));return n};Aa.add=QTe;Aa.addAll=JTe;Aa.cover=ewe;Aa.data=twe;Aa.extent=nwe;Aa.find=iwe;Aa.findAllWithinRadius=swe;Aa.remove=awe;Aa.removeAll=owe;Aa.root=lwe;Aa.size=cwe;Aa.visit=uwe;Aa.visitAfter=fwe;Aa.x=dwe;Aa.y=mwe;Aa.z=ywe;function Uh(n){return function(){return n}}function Mh(n){return(n()-.5)*1e-6}function vwe(n){return n.index}function a9(n,e){var t=n.get(e);if(!t)throw new Error("node not found: "+e);return t}function _we(n){var e=vwe,t=y,i,r=Uh(30),s,a,o,c,u,h,p=1;n==null&&(n=[]);function y(b){return 1/Math.min(c[b.source.index],c[b.target.index])}function v(b){for(var w=0,A=n.length;w<p;++w)for(var C=0,D,L,P,U=0,I=0,N=0,F,z;C<A;++C)D=n[C],L=D.source,P=D.target,U=P.x+P.vx-L.x-L.vx||Mh(h),o>1&&(I=P.y+P.vy-L.y-L.vy||Mh(h)),o>2&&(N=P.z+P.vz-L.z-L.vz||Mh(h)),F=Math.sqrt(U*U+I*I+N*N),F=(F-s[C])/F*b*i[C],U*=F,I*=F,N*=F,P.vx-=U*(z=u[C]),o>1&&(P.vy-=I*z),o>2&&(P.vz-=N*z),L.vx+=U*(z=1-z),o>1&&(L.vy+=I*z),o>2&&(L.vz+=N*z)}function _(){if(a){var b,w=a.length,A=n.length,C=new Map(a.map((L,P)=>[e(L,P,a),L])),D;for(b=0,c=new Array(w);b<A;++b)D=n[b],D.index=b,typeof D.source!="object"&&(D.source=a9(C,D.source)),typeof D.target!="object"&&(D.target=a9(C,D.target)),c[D.source.index]=(c[D.source.index]||0)+1,c[D.target.index]=(c[D.target.index]||0)+1;for(b=0,u=new Array(A);b<A;++b)D=n[b],u[b]=c[D.source.index]/(c[D.source.index]+c[D.target.index]);i=new Array(A),S(),s=new Array(A),E()}}function S(){if(a)for(var b=0,w=n.length;b<w;++b)i[b]=+t(n[b],b,n)}function E(){if(a)for(var b=0,w=n.length;b<w;++b)s[b]=+r(n[b],b,n)}return v.initialize=function(b,...w){a=b,h=w.find(A=>typeof A=="function")||Math.random,o=w.find(A=>[1,2,3].includes(A))||2,_()},v.links=function(b){return arguments.length?(n=b,_(),v):n},v.id=function(b){return arguments.length?(e=b,v):e},v.iterations=function(b){return arguments.length?(p=+b,v):p},v.strength=function(b){return arguments.length?(t=typeof b=="function"?b:Uh(+b),S(),v):t},v.distance=function(b){return arguments.length?(r=typeof b=="function"?b:Uh(+b),E(),v):r},v}var bwe={value:()=>{}};function HW(){for(var n=0,e=arguments.length,t={},i;n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new g2(t)}function g2(n){this._=n}function xwe(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}g2.prototype=HW.prototype={constructor:g2,on:function(n,e){var t=this._,i=xwe(n+"",t),r,s=-1,a=i.length;if(arguments.length<2){for(;++s<a;)if((r=(n=i[s]).type)&&(r=Swe(t[r],n.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(r=(n=i[s]).type)t[r]=o9(t[r],n.name,e);else if(e==null)for(r in t)t[r]=o9(t[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new g2(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,s;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,r=s.length;i<r;++i)s[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(e,t)}};function Swe(n,e){for(var t=0,i=n.length,r;t<i;++t)if((r=n[t]).name===e)return r.value}function o9(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=bwe,n=n.slice(0,i).concat(n.slice(i+1));break}return t!=null&&n.push({name:e,value:t}),n}var i_=0,zb=0,yb=0,jW=1e3,KC,Bb,ZC=0,ny=0,UM=0,cS=typeof performance=="object"&&performance.now?performance:Date,GW=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function qW(){return ny||(GW(Ewe),ny=cS.now()+UM)}function Ewe(){ny=0}function GP(){this._call=this._time=this._next=null}GP.prototype=WW.prototype={constructor:GP,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?qW():+t)+(e==null?0:+e),!this._next&&Bb!==this&&(Bb?Bb._next=this:KC=this,Bb=this),this._call=n,this._time=t,qP()},stop:function(){this._call&&(this._call=null,this._time=1/0,qP())}};function WW(n,e,t){var i=new GP;return i.restart(n,e,t),i}function Twe(){qW(),++i_;for(var n=KC,e;n;)(e=ny-n._time)>=0&&n._call.call(void 0,e),n=n._next;--i_}function l9(){ny=(ZC=cS.now())+UM,i_=zb=0;try{Twe()}finally{i_=0,Cwe(),ny=0}}function wwe(){var n=cS.now(),e=n-ZC;e>jW&&(UM-=e,ZC=n)}function Cwe(){for(var n,e=KC,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:KC=t);Bb=n,qP(i)}function qP(n){if(!i_){zb&&(zb=clearTimeout(zb));var e=n-ny;e>24?(n<1/0&&(zb=setTimeout(l9,n-cS.now()-UM)),yb&&(yb=clearInterval(yb))):(yb||(ZC=cS.now(),yb=setInterval(wwe,jW)),i_=1,GW(l9))}}const Awe=1664525,Mwe=1013904223,c9=4294967296;function Rwe(){let n=1;return()=>(n=(Awe*n+Mwe)%c9)/c9}var u9=3;function D3(n){return n.x}function f9(n){return n.y}function Owe(n){return n.z}var Iwe=10,Pwe=Math.PI*(3-Math.sqrt(5)),Dwe=Math.PI*20/(9+Math.sqrt(221));function Nwe(n,e){e=e||2;var t=Math.min(u9,Math.max(1,Math.round(e))),i,r=1,s=.001,a=1-Math.pow(s,1/300),o=0,c=.6,u=new Map,h=WW(v),p=HW("tick","end"),y=Rwe();n==null&&(n=[]);function v(){_(),p.call("tick",i),r<s&&(h.stop(),p.call("end",i))}function _(b){var w,A=n.length,C;b===void 0&&(b=1);for(var D=0;D<b;++D)for(r+=(o-r)*a,u.forEach(function(L){L(r)}),w=0;w<A;++w)C=n[w],C.fx==null?C.x+=C.vx*=c:(C.x=C.fx,C.vx=0),t>1&&(C.fy==null?C.y+=C.vy*=c:(C.y=C.fy,C.vy=0)),t>2&&(C.fz==null?C.z+=C.vz*=c:(C.z=C.fz,C.vz=0));return i}function S(){for(var b=0,w=n.length,A;b<w;++b){if(A=n[b],A.index=b,A.fx!=null&&(A.x=A.fx),A.fy!=null&&(A.y=A.fy),A.fz!=null&&(A.z=A.fz),isNaN(A.x)||t>1&&isNaN(A.y)||t>2&&isNaN(A.z)){var C=Iwe*(t>2?Math.cbrt(.5+b):t>1?Math.sqrt(.5+b):b),D=b*Pwe,L=b*Dwe;t===1?A.x=C:t===2?(A.x=C*Math.cos(D),A.y=C*Math.sin(D)):(A.x=C*Math.sin(D)*Math.cos(L),A.y=C*Math.cos(D),A.z=C*Math.sin(D)*Math.sin(L))}(isNaN(A.vx)||t>1&&isNaN(A.vy)||t>2&&isNaN(A.vz))&&(A.vx=0,t>1&&(A.vy=0),t>2&&(A.vz=0))}}function E(b){return b.initialize&&b.initialize(n,y,t),b}return S(),i={tick:_,restart:function(){return h.restart(v),i},stop:function(){return h.stop(),i},numDimensions:function(b){return arguments.length?(t=Math.min(u9,Math.max(1,Math.round(b))),u.forEach(E),i):t},nodes:function(b){return arguments.length?(n=b,S(),u.forEach(E),i):n},alpha:function(b){return arguments.length?(r=+b,i):r},alphaMin:function(b){return arguments.length?(s=+b,i):s},alphaDecay:function(b){return arguments.length?(a=+b,i):+a},alphaTarget:function(b){return arguments.length?(o=+b,i):o},velocityDecay:function(b){return arguments.length?(c=1-b,i):1-c},randomSource:function(b){return arguments.length?(y=b,u.forEach(E),i):y},force:function(b,w){return arguments.length>1?(w==null?u.delete(b):u.set(b,E(w)),i):u.get(b)},find:function(){var b=Array.prototype.slice.call(arguments),w=b.shift()||0,A=(t>1?b.shift():null)||0,C=(t>2?b.shift():null)||0,D=b.shift()||1/0,L=0,P=n.length,U,I,N,F,z,V;for(D*=D,L=0;L<P;++L)z=n[L],U=w-z.x,I=A-(z.y||0),N=C-(z.z||0),F=U*U+I*I+N*N,F<D&&(V=z,D=F);return V},on:function(b,w){return arguments.length>1?(p.on(b,w),i):p.on(b)}}}function Lwe(){var n,e,t,i,r,s=Uh(-30),a,o=1,c=1/0,u=.81;function h(_){var S,E=n.length,b=(e===1?kW(n,D3):e===2?BW(n,D3,f9):e===3?VW(n,D3,f9,Owe):null).visitAfter(y);for(r=_,S=0;S<E;++S)t=n[S],b.visit(v)}function p(){if(n){var _,S=n.length,E;for(a=new Array(S),_=0;_<S;++_)E=n[_],a[E.index]=+s(E,_,n)}}function y(_){var S=0,E,b,w=0,A,C,D,L,P=_.length;if(P){for(A=C=D=L=0;L<P;++L)(E=_[L])&&(b=Math.abs(E.value))&&(S+=E.value,w+=b,A+=b*(E.x||0),C+=b*(E.y||0),D+=b*(E.z||0));S*=Math.sqrt(4/P),_.x=A/w,e>1&&(_.y=C/w),e>2&&(_.z=D/w)}else{E=_,E.x=E.data.x,e>1&&(E.y=E.data.y),e>2&&(E.z=E.data.z);do S+=a[E.data.index];while(E=E.next)}_.value=S}function v(_,S,E,b,w){if(!_.value)return!0;var A=[E,b,w][e-1],C=_.x-t.x,D=e>1?_.y-t.y:0,L=e>2?_.z-t.z:0,P=A-S,U=C*C+D*D+L*L;if(P*P/u<U)return U<c&&(C===0&&(C=Mh(i),U+=C*C),e>1&&D===0&&(D=Mh(i),U+=D*D),e>2&&L===0&&(L=Mh(i),U+=L*L),U<o&&(U=Math.sqrt(o*U)),t.vx+=C*_.value*r/U,e>1&&(t.vy+=D*_.value*r/U),e>2&&(t.vz+=L*_.value*r/U)),!0;if(_.length||U>=c)return;(_.data!==t||_.next)&&(C===0&&(C=Mh(i),U+=C*C),e>1&&D===0&&(D=Mh(i),U+=D*D),e>2&&L===0&&(L=Mh(i),U+=L*L),U<o&&(U=Math.sqrt(o*U)));do _.data!==t&&(P=a[_.data.index]*r/U,t.vx+=C*P,e>1&&(t.vy+=D*P),e>2&&(t.vz+=L*P));while(_=_.next)}return h.initialize=function(_,...S){n=_,i=S.find(E=>typeof E=="function")||Math.random,e=S.find(E=>[1,2,3].includes(E))||2,p()},h.strength=function(_){return arguments.length?(s=typeof _=="function"?_:Uh(+_),p(),h):s},h.distanceMin=function(_){return arguments.length?(o=_*_,h):Math.sqrt(o)},h.distanceMax=function(_){return arguments.length?(c=_*_,h):Math.sqrt(c)},h.theta=function(_){return arguments.length?(u=_*_,h):Math.sqrt(u)},h}function Uwe(n,e,t,i){var r,s,a=Uh(.1),o,c;typeof n!="function"&&(n=Uh(+n)),e==null&&(e=0),t==null&&(t=0),i==null&&(i=0);function u(p){for(var y=0,v=r.length;y<v;++y){var _=r[y],S=_.x-e||1e-6,E=(_.y||0)-t||1e-6,b=(_.z||0)-i||1e-6,w=Math.sqrt(S*S+E*E+b*b),A=(c[y]-w)*o[y]*p/w;_.vx+=S*A,s>1&&(_.vy+=E*A),s>2&&(_.vz+=b*A)}}function h(){if(r){var p,y=r.length;for(o=new Array(y),c=new Array(y),p=0;p<y;++p)c[p]=+n(r[p],p,r),o[p]=isNaN(c[p])?0:+a(r[p],p,r)}}return u.initialize=function(p,...y){r=p,s=y.find(v=>[1,2,3].includes(v))||2,h()},u.strength=function(p){return arguments.length?(a=typeof p=="function"?p:Uh(+p),h(),u):a},u.radius=function(p){return arguments.length?(n=typeof p=="function"?p:Uh(+p),h(),u):n},u.x=function(p){return arguments.length?(e=+p,u):e},u.y=function(p){return arguments.length?(t=+p,u):t},u.z=function(p){return arguments.length?(i=+p,u):i},u}function kwe(n){Bwe(n);const e=zwe(n);return n.on=e.on,n.off=e.off,n.fire=e.fire,n}function zwe(n){let e=Object.create(null);return{on:function(t,i,r){if(typeof i!="function")throw new Error("callback is expected to be a function");let s=e[t];return s||(s=e[t]=[]),s.push({callback:i,ctx:r}),n},off:function(t,i){if(typeof t>"u")return e=Object.create(null),n;if(e[t])if(typeof i!="function")delete e[t];else{const a=e[t];for(let o=0;o<a.length;++o)a[o].callback===i&&a.splice(o,1)}return n},fire:function(t){const i=e[t];if(!i)return n;let r;arguments.length>1&&(r=Array.prototype.slice.call(arguments,1));for(let s=0;s<i.length;++s){const a=i[s];a.callback.apply(a.ctx,r)}return n}}}function Bwe(n){if(!n)throw new Error("Eventify cannot use falsy object as events subject");const e=["on","fire","off"];for(let t=0;t<e.length;++t)if(n.hasOwnProperty(e[t]))throw new Error("Subject cannot be eventified, since it already has property '"+e[t]+"'")}function Fwe(n){if(n=n||{},"uniqueLinkId"in n&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),n.multigraph=n.uniqueLinkId),n.multigraph===void 0&&(n.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var e=new Map,t=new Map,i={},r=0,s=n.multigraph?C:A,a=[],o=$,c=$,u=$,h=$,p={version:20,addNode:S,addLink:w,removeLink:U,removeNode:b,getNode:E,getNodeCount:D,getLinkCount:L,getEdgeCount:L,getLinksCount:L,getNodesCount:D,getLinks:P,forEachNode:de,forEachLinkedNode:K,forEachLink:V,beginUpdate:u,endUpdate:h,clear:z,hasLink:N,hasNode:E,getLink:N,getLinkById:F};return kwe(p),y(),p;function y(){var Y=p.on;p.on=le;function le(){return p.beginUpdate=u=Q,p.endUpdate=h=re,o=v,c=_,p.on=Y,Y.apply(p,arguments)}}function v(Y,le){a.push({link:Y,changeType:le})}function _(Y,le){a.push({node:Y,changeType:le})}function S(Y,le){if(Y===void 0)throw new Error("Invalid node identifier");u();var pe=E(Y);return pe?(pe.data=le,c(pe,"update")):(pe=new Vwe(Y,le),c(pe,"add")),e.set(Y,pe),h(),pe}function E(Y){return e.get(Y)}function b(Y){var le=E(Y);if(!le)return!1;u();var pe=le.links;return pe&&(pe.forEach(I),le.links=null),e.delete(Y),c(le,"remove"),h(),!0}function w(Y,le,pe){u();var ue=E(Y)||S(Y),ie=E(le)||S(le),he=s(Y,le,pe),ye=t.has(he.id);return t.set(he.id,he),h9(ue,he),Y!==le&&h9(ie,he),o(he,ye?"update":"add"),h(),he}function A(Y,le,pe){var ue=xw(Y,le),ie=t.get(ue);return ie?(ie.data=pe,ie):new d9(Y,le,pe,ue)}function C(Y,le,pe){var ue=xw(Y,le),ie=i.hasOwnProperty(ue);if(ie||N(Y,le)){ie||(i[ue]=0);var he="@"+ ++i[ue];ue=xw(Y+he,le+he)}return new d9(Y,le,pe,ue)}function D(){return e.size}function L(){return t.size}function P(Y){var le=E(Y);return le?le.links:null}function U(Y,le){return le!==void 0&&(Y=N(Y,le)),I(Y)}function I(Y){if(!Y||!t.get(Y.id))return!1;u(),t.delete(Y.id);var le=E(Y.fromId),pe=E(Y.toId);return le&&le.links.delete(Y),pe&&pe.links.delete(Y),o(Y,"remove"),h(),!0}function N(Y,le){if(!(Y===void 0||le===void 0))return t.get(xw(Y,le))}function F(Y){if(Y!==void 0)return t.get(Y)}function z(){u(),de(function(Y){b(Y.id)}),h()}function V(Y){if(typeof Y=="function")for(var le=t.values(),pe=le.next();!pe.done;){if(Y(pe.value))return!0;pe=le.next()}}function K(Y,le,pe){var ue=E(Y);if(ue&&ue.links&&typeof le=="function")return pe?q(ue.links,Y,le):ee(ue.links,Y,le)}function ee(Y,le,pe){for(var ue,ie=Y.values(),he=ie.next();!he.done;){var ye=he.value,Ve=ye.fromId===le?ye.toId:ye.fromId;if(ue=pe(e.get(Ve),ye),ue)return!0;he=ie.next()}}function q(Y,le,pe){for(var ue,ie=Y.values(),he=ie.next();!he.done;){var ye=he.value;if(ye.fromId===le&&(ue=pe(e.get(ye.toId),ye),ue))return!0;he=ie.next()}}function $(){}function Q(){r+=1}function re(){r-=1,r===0&&a.length>0&&(p.fire("changed",a),a.length=0)}function de(Y){if(typeof Y!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+Y);for(var le=e.values(),pe=le.next();!pe.done;){if(Y(pe.value))return!0;pe=le.next()}}}function Vwe(n,e){this.id=n,this.links=null,this.data=e}function h9(n,e){n.links?n.links.add(e):n.links=new Set([e])}function d9(n,e,t,i){this.fromId=n,this.toId=e,this.data=t,this.id=i}function xw(n,e){return n.toString()+" "+e.toString()}var Sw={exports:{}},jv={exports:{}},N3,p9;function $W(){return p9||(p9=1,N3=function(e){return e===0?"x":e===1?"y":e===2?"z":"c"+(e+1)}),N3}var L3,m9;function R_(){if(m9)return L3;m9=1;const n=$W();return L3=function(t){return i;function i(r,s){let a=s&&s.indent||0,o=s&&s.join!==void 0?s.join:`
`,c=Array(a+1).join(" "),u=[];for(let h=0;h<t;++h){let p=n(h),y=h===0?"":c;u.push(y+r.replace(/{var}/g,p))}return u.join(o)}},L3}var g9;function Hwe(){if(g9)return jv.exports;g9=1;const n=R_();jv.exports=e,jv.exports.generateCreateBodyFunctionBody=t,jv.exports.getVectorCode=r,jv.exports.getBodyCode=i;function e(s,a){let o=t(s,a),{Body:c}=new Function(o)();return c}function t(s,a){return`
${r(s,a)}
${i(s)}
return {Body: Body, Vector: Vector};
`}function i(s){let a=n(s),o=a("{var}",{join:", "});return`
function Body(${o}) {
  this.isPinned = false;
  this.pos = new Vector(${o});
  this.force = new Vector();
  this.velocity = new Vector();
  this.mass = 1;

  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.reset = function() {
  this.force.reset();
  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.setPosition = function (${o}) {
  ${a("this.pos.{var} = {var} || 0;",{indent:2})}
};`}function r(s,a){let o=n(s),c="";return a&&(c=`${o(`
	   var v{var};
	Object.defineProperty(this, '{var}', {
	  set: function(v) { 
	    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');
	    v{var} = v; 
	  },
	  get: function() { return v{var}; }
	});`)}`),`function Vector(${o("{var}",{join:", "})}) {
  ${c}
    if (typeof arguments[0] === 'object') {
      // could be another vector
      let v = arguments[0];
      ${o('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}
      ${o("this.{var} = v.{var};",{indent:4})}
    } else {
      ${o('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}
    }
  }
  
  Vector.prototype.reset = function () {
    ${o("this.{var} = ",{join:""})}0;
  };`}return jv.exports}var Eh={exports:{}},y9;function jwe(){if(y9)return Eh.exports;y9=1;const n=R_(),e=$W();Eh.exports=t,Eh.exports.generateQuadTreeFunctionBody=i,Eh.exports.getInsertStackCode=c,Eh.exports.getQuadNodeCode=o,Eh.exports.isSamePosition=r,Eh.exports.getChildBodyCode=a,Eh.exports.setChildBodyCode=s;function t(u){let h=i(u);return new Function(h)()}function i(u){let h=n(u),p=Math.pow(2,u);return`
${c()}
${o(u)}
${r(u)}
${a(u)}
${s(u)}

function createQuadTree(options, random) {
  options = options || {};
  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;
  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;

  var gravity = options.gravity;
  var updateQueue = [];
  var insertStack = new InsertStack();
  var theta = options.theta;

  var nodesCache = [];
  var currentInCache = 0;
  var root = newNode();

  return {
    insertBodies: insertBodies,

    /**
     * Gets root node if it is present
     */
    getRoot: function() {
      return root;
    },

    updateBodyForce: update,

    options: function(newOptions) {
      if (newOptions) {
        if (typeof newOptions.gravity === 'number') {
          gravity = newOptions.gravity;
        }
        if (typeof newOptions.theta === 'number') {
          theta = newOptions.theta;
        }

        return this;
      }

      return {
        gravity: gravity,
        theta: theta
      };
    }
  };

  function newNode() {
    // To avoid pressure on GC we reuse nodes.
    var node = nodesCache[currentInCache];
    if (node) {
${S("      node.")}
      node.body = null;
      node.mass = ${h("node.mass_{var} = ",{join:""})}0;
      ${h("node.min_{var} = node.max_{var} = ",{join:""})}0;
    } else {
      node = new QuadNode();
      nodesCache[currentInCache] = node;
    }

    ++currentInCache;
    return node;
  }

  function update(sourceBody) {
    var queue = updateQueue;
    var v;
    ${h("var d{var};",{indent:4})}
    var r; 
    ${h("var f{var} = 0;",{indent:4})}
    var queueLength = 1;
    var shiftIdx = 0;
    var pushIdx = 1;

    queue[0] = root;

    while (queueLength) {
      var node = queue[shiftIdx];
      var body = node.body;

      queueLength -= 1;
      shiftIdx += 1;
      var differentBody = (body !== sourceBody);
      if (body && differentBody) {
        // If the current node is a leaf node (and it is not source body),
        // calculate the force exerted by the current node on body, and add this
        // amount to body's net force.
        ${h("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Poor man's protection against zero distance.
          ${h("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});
        }

        // This is standard gravitation force calculation but we divide
        // by r^3 to save two operations when normalizing force vector.
        v = gravity * body.mass * sourceBody.mass / (r * r * r);
        ${h("f{var} += v * d{var};",{indent:8})}
      } else if (differentBody) {
        // Otherwise, calculate the ratio s / r,  where s is the width of the region
        // represented by the internal node, and r is the distance between the body
        // and the node's center-of-mass
        ${h("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Sorry about code duplication. I don't want to create many functions
          // right away. Just want to see performance first.
          ${h("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});
        }
        // If s / r < , treat this internal node as a single body, and calculate the
        // force it exerts on sourceBody, and add this amount to sourceBody's net force.
        if ((node.max_${e(0)} - node.min_${e(0)}) / r < theta) {
          // in the if statement above we consider node's width only
          // because the region was made into square during tree creation.
          // Thus there is no difference between using width or height.
          v = gravity * node.mass * sourceBody.mass / (r * r * r);
          ${h("f{var} += v * d{var};",{indent:10})}
        } else {
          // Otherwise, run the procedure recursively on each of the current node's children.

          // I intentionally unfolded this loop, to save several CPU cycles.
${_()}
        }
      }
    }

    ${h("sourceBody.force.{var} += f{var};",{indent:4})}
  }

  function insertBodies(bodies) {
    ${h("var {var}min = Number.MAX_VALUE;",{indent:4})}
    ${h("var {var}max = Number.MIN_VALUE;",{indent:4})}
    var i = bodies.length;

    // To reduce quad tree depth we are looking for exact bounding box of all particles.
    while (i--) {
      var pos = bodies[i].pos;
      ${h("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}
      ${h("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}
    }

    // Makes the bounds square.
    var maxSideLength = -Infinity;
    ${h("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}

    currentInCache = 0;
    root = newNode();
    ${h("root.min_{var} = {var}min;",{indent:4})}
    ${h("root.max_{var} = {var}min + maxSideLength;",{indent:4})}

    i = bodies.length - 1;
    if (i >= 0) {
      root.body = bodies[i];
    }
    while (i--) {
      insert(bodies[i], root);
    }
  }

  function insert(newBody) {
    insertStack.reset();
    insertStack.push(root, newBody);

    while (!insertStack.isEmpty()) {
      var stackItem = insertStack.pop();
      var node = stackItem.node;
      var body = stackItem.body;

      if (!node.body) {
        // This is internal node. Update the total mass of the node and center-of-mass.
        ${h("var {var} = body.pos.{var};",{indent:8})}
        node.mass += body.mass;
        ${h("node.mass_{var} += body.mass * {var};",{indent:8})}

        // Recursively insert the body in the appropriate quadrant.
        // But first find the appropriate quadrant.
        var quadIdx = 0; // Assume we are in the 0's quad.
        ${h("var min_{var} = node.min_{var};",{indent:8})}
        ${h("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}

${v(8)}

        var child = getChild(node, quadIdx);

        if (!child) {
          // The node is internal but this quadrant is not taken. Add
          // subnode to it.
          child = newNode();
          ${h("child.min_{var} = min_{var};",{indent:10})}
          ${h("child.max_{var} = max_{var};",{indent:10})}
          child.body = body;

          setChild(node, quadIdx, child);
        } else {
          // continue searching in this quadrant.
          insertStack.push(child, body);
        }
      } else {
        // We are trying to add to the leaf node.
        // We have to convert current leaf into internal node
        // and continue adding two nodes.
        var oldBody = node.body;
        node.body = null; // internal nodes do not cary bodies

        if (isSamePosition(oldBody.pos, body.pos)) {
          // Prevent infinite subdivision by bumping one node
          // anywhere in this quadrant
          var retriesCount = 3;
          do {
            var offset = random.nextDouble();
            ${h("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}

            ${h("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}
            retriesCount -= 1;
            // Make sure we don't bump it out of the box. If we do, next iteration should fix it
          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));

          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {
            // This is very bad, we ran out of precision.
            // if we do not return from the method we'll get into
            // infinite loop here. So we sacrifice correctness of layout, and keep the app running
            // Next layout iteration should get larger bounding box in the first step and fix this
            return;
          }
        }
        // Next iteration should subdivide node further.
        insertStack.push(node, oldBody);
        insertStack.push(node, body);
      }
    }
  }
}
return createQuadTree;

`;function v(E){let b=[],w=Array(E+1).join(" ");for(let A=0;A<u;++A)b.push(w+`if (${e(A)} > max_${e(A)}) {`),b.push(w+`  quadIdx = quadIdx + ${Math.pow(2,A)};`),b.push(w+`  min_${e(A)} = max_${e(A)};`),b.push(w+`  max_${e(A)} = node.max_${e(A)};`),b.push(w+"}");return b.join(`
`)}function _(){let E=Array(11).join(" "),b=[];for(let w=0;w<p;++w)b.push(E+`if (node.quad${w}) {`),b.push(E+`  queue[pushIdx] = node.quad${w};`),b.push(E+"  queueLength += 1;"),b.push(E+"  pushIdx += 1;"),b.push(E+"}");return b.join(`
`)}function S(E){let b=[];for(let w=0;w<p;++w)b.push(`${E}quad${w} = null;`);return b.join(`
`)}}function r(u){let h=n(u);return`
  function isSamePosition(point1, point2) {
    ${h("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}
  
    return ${h("d{var} < 1e-8",{join:" && "})};
  }  
`}function s(u){var h=Math.pow(2,u);return`
function setChild(node, idx, child) {
  ${p()}
}`;function p(){let y=[];for(let v=0;v<h;++v){let _=v===0?"  ":"  else ";y.push(`${_}if (idx === ${v}) node.quad${v} = child;`)}return y.join(`
`)}}function a(u){return`function getChild(node, idx) {
${h()}
  return null;
}`;function h(){let p=[],y=Math.pow(2,u);for(let v=0;v<y;++v)p.push(`  if (idx === ${v}) return node.quad${v};`);return p.join(`
`)}}function o(u){let h=n(u),p=Math.pow(2,u);var y=`
function QuadNode() {
  // body stored inside this node. In quad tree only leaf nodes (by construction)
  // contain bodies:
  this.body = null;

  // Child nodes are stored in quads. Each quad is presented by number:
  // 0 | 1
  // -----
  // 2 | 3
${v("  this.")}

  // Total mass of current node
  this.mass = 0;

  // Center of mass coordinates
  ${h("this.mass_{var} = 0;",{indent:2})}

  // bounding box coordinates
  ${h("this.min_{var} = 0;",{indent:2})}
  ${h("this.max_{var} = 0;",{indent:2})}
}
`;return y;function v(_){let S=[];for(let E=0;E<p;++E)S.push(`${_}quad${E} = null;`);return S.join(`
`)}}function c(){return`
/**
 * Our implementation of QuadTree is non-recursive to avoid GC hit
 * This data structure represent stack of elements
 * which we are trying to insert into quad tree.
 */
function InsertStack () {
    this.stack = [];
    this.popIdx = 0;
}

InsertStack.prototype = {
    isEmpty: function() {
        return this.popIdx === 0;
    },
    push: function (node, body) {
        var item = this.stack[this.popIdx];
        if (!item) {
            // we are trying to avoid memory pressure: create new element
            // only when absolutely necessary
            this.stack[this.popIdx] = new InsertStackElement(node, body);
        } else {
            item.node = node;
            item.body = body;
        }
        ++this.popIdx;
    },
    pop: function () {
        if (this.popIdx > 0) {
            return this.stack[--this.popIdx];
        }
    },
    reset: function () {
        this.popIdx = 0;
    }
};

function InsertStackElement(node, body) {
    this.node = node; // QuadTree node
    this.body = body; // physical body which needs to be inserted to node
}
`}return Eh.exports}var Ew={exports:{}},v9;function Gwe(){if(v9)return Ew.exports;v9=1,Ew.exports=e,Ew.exports.generateFunctionBody=t;const n=R_();function e(i){let r=t(i);return new Function("bodies","settings","random",r)}function t(i){let r=n(i);return`
  var boundingBox = {
    ${r("min_{var}: 0, max_{var}: 0,",{indent:4})}
  };

  return {
    box: boundingBox,

    update: updateBoundingBox,

    reset: resetBoundingBox,

    getBestNewPosition: function (neighbors) {
      var ${r("base_{var} = 0",{join:", "})};

      if (neighbors.length) {
        for (var i = 0; i < neighbors.length; ++i) {
          let neighborPos = neighbors[i].pos;
          ${r("base_{var} += neighborPos.{var};",{indent:10})}
        }

        ${r("base_{var} /= neighbors.length;",{indent:8})}
      } else {
        ${r("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}
      }

      var springLength = settings.springLength;
      return {
        ${r("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}
      };
    }
  };

  function updateBoundingBox() {
    var i = bodies.length;
    if (i === 0) return; // No bodies - no borders.

    ${r("var max_{var} = -Infinity;",{indent:4})}
    ${r("var min_{var} = Infinity;",{indent:4})}

    while(i--) {
      // this is O(n), it could be done faster with quadtree, if we check the root node bounds
      var bodyPos = bodies[i].pos;
      ${r("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}
      ${r("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}
    }

    ${r("boundingBox.min_{var} = min_{var};",{indent:4})}
    ${r("boundingBox.max_{var} = max_{var};",{indent:4})}
  }

  function resetBoundingBox() {
    ${r("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}
  }
`}return Ew.exports}var Tw={exports:{}},_9;function qwe(){if(_9)return Tw.exports;_9=1;const n=R_();Tw.exports=e,Tw.exports.generateCreateDragForceFunctionBody=t;function e(i){let r=t(i);return new Function("options",r)}function t(i){return`
  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');

  return {
    update: function(body) {
      ${n(i)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}
    }
  };
`}return Tw.exports}var ww={exports:{}},b9;function Wwe(){if(b9)return ww.exports;b9=1;const n=R_();ww.exports=e,ww.exports.generateCreateSpringForceFunctionBody=t;function e(i){let r=t(i);return new Function("options","random",r)}function t(i){let r=n(i);return`
  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');
  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');

  return {
    /**
     * Updates forces acting on a spring
     */
    update: function (spring) {
      var body1 = spring.from;
      var body2 = spring.to;
      var length = spring.length < 0 ? options.springLength : spring.length;
      ${r("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}
      var r = Math.sqrt(${r("d{var} * d{var}",{join:" + "})});

      if (r === 0) {
        ${r("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}
        r = Math.sqrt(${r("d{var} * d{var}",{join:" + "})});
      }

      var d = r - length;
      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;

      ${r("body1.force.{var} += coefficient * d{var}",{indent:6})};
      body1.springCount += 1;
      body1.springLength += r;

      ${r("body2.force.{var} -= coefficient * d{var}",{indent:6})};
      body2.springCount += 1;
      body2.springLength += r;
    }
  };
`}return ww.exports}var Cw={exports:{}},x9;function $we(){if(x9)return Cw.exports;x9=1;const n=R_();Cw.exports=e,Cw.exports.generateIntegratorFunctionBody=t;function e(i){let r=t(i);return new Function("bodies","timeStep","adaptiveTimeStepWeight",r)}function t(i){let r=n(i);return`
  var length = bodies.length;
  if (length === 0) return 0;

  ${r("var d{var} = 0, t{var} = 0;",{indent:2})}

  for (var i = 0; i < length; ++i) {
    var body = bodies[i];
    if (body.isPinned) continue;

    if (adaptiveTimeStepWeight && body.springCount) {
      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);
    }

    var coeff = timeStep / body.mass;

    ${r("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}
    ${r("var v{var} = body.velocity.{var};",{indent:4})}
    var v = Math.sqrt(${r("v{var} * v{var}",{join:" + "})});

    if (v > 1) {
      // We normalize it so that we move within timeStep range. 
      // for the case when v <= 1 - we let velocity to fade out.
      ${r("body.velocity.{var} = v{var} / v;",{indent:6})}
    }

    ${r("d{var} = timeStep * body.velocity.{var};",{indent:4})}

    ${r("body.pos.{var} += d{var};",{indent:4})}

    ${r("t{var} += Math.abs(d{var});",{indent:4})}
  }

  return (${r("t{var} * t{var}",{join:" + "})})/length;
`}return Cw.exports}var U3,S9;function Xwe(){if(S9)return U3;S9=1,U3=n;function n(e,t,i,r){this.from=e,this.to=t,this.length=i,this.coefficient=r}return U3}var k3,E9;function Ywe(){if(E9)return k3;E9=1,k3=n;function n(e,t){var i;if(e||(e={}),t){for(i in t)if(t.hasOwnProperty(i)){var r=e.hasOwnProperty(i),s=typeof t[i],a=!r||typeof e[i]!==s;a?e[i]=t[i]:s==="object"&&(e[i]=n(e[i],t[i]))}}return e}return k3}var z3,T9;function XW(){if(T9)return z3;T9=1;function n(i){t(i);const r=e(i);return i.on=r.on,i.off=r.off,i.fire=r.fire,i}function e(i){let r=Object.create(null);return{on:function(s,a,o){if(typeof a!="function")throw new Error("callback is expected to be a function");let c=r[s];return c||(c=r[s]=[]),c.push({callback:a,ctx:o}),i},off:function(s,a){if(typeof s>"u")return r=Object.create(null),i;if(r[s])if(typeof a!="function")delete r[s];else{const o=r[s];for(let c=0;c<o.length;++c)o[c].callback===a&&o.splice(c,1)}return i},fire:function(s){const a=r[s];if(!a)return i;let o;arguments.length>1&&(o=Array.prototype.slice.call(arguments,1));for(let c=0;c<a.length;++c){const u=a[c];u.callback.apply(u.ctx,o)}return i}}}function t(i){if(!i)throw new Error("Eventify cannot use falsy object as events subject");const r=["on","fire","off"];for(let s=0;s<r.length;++s)if(i.hasOwnProperty(r[s]))throw new Error("Subject cannot be eventified, since it already has property '"+r[s]+"'")}return z3=n,z3}var vb={exports:{}},w9;function Kwe(){if(w9)return vb.exports;w9=1,vb.exports=n,vb.exports.random=n,vb.exports.randomIterator=o;function n(c){var u=typeof c=="number"?c:+new Date;return new e(u)}function e(c){this.seed=c}e.prototype.next=a,e.prototype.nextDouble=s,e.prototype.uniform=s,e.prototype.gaussian=t,e.prototype.random=s;function t(){var c,u,h;do u=this.nextDouble()*2-1,h=this.nextDouble()*2-1,c=u*u+h*h;while(c>=1||c===0);return u*Math.sqrt(-2*Math.log(c)/c)}e.prototype.levy=i;function i(){var c=1.5,u=Math.pow(r(1+c)*Math.sin(Math.PI*c/2)/(r((1+c)/2)*c*Math.pow(2,(c-1)/2)),1/c);return this.gaussian()*u/Math.pow(Math.abs(this.gaussian()),1/c)}function r(c){return Math.sqrt(2*Math.PI/c)*Math.pow(1/Math.E*(c+1/(12*c-1/(10*c))),c)}function s(){var c=this.seed;return c=c+2127912214+(c<<12)&4294967295,c=(c^3345072700^c>>>19)&4294967295,c=c+374761393+(c<<5)&4294967295,c=(c+3550635116^c<<9)&4294967295,c=c+4251993797+(c<<3)&4294967295,c=(c^3042594569^c>>>16)&4294967295,this.seed=c,(c&268435455)/268435456}function a(c){return Math.floor(this.nextDouble()*c)}function o(c,u){var h=u||n();if(typeof h.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:y,shuffle:p};function p(){var v,_,S;for(v=c.length-1;v>0;--v)_=h.next(v+1),S=c[_],c[_]=c[v],c[v]=S;return c}function y(v){var _,S,E;for(_=c.length-1;_>0;--_)S=h.next(_+1),E=c[S],c[S]=c[_],c[_]=E,v(E);c.length&&v(c[0])}}return vb.exports}var B3,C9;function A9(){if(C9)return B3;C9=1,B3=o;var n=Hwe(),e=jwe(),t=Gwe(),i=qwe(),r=Wwe(),s=$we(),a={};function o(h){var p=Xwe(),y=Ywe(),v=XW();if(h){if(h.springCoeff!==void 0)throw new Error("springCoeff was renamed to springCoefficient");if(h.dragCoeff!==void 0)throw new Error("dragCoeff was renamed to dragCoefficient")}h=y(h,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var _=a[h.dimensions];if(!_){var S=h.dimensions;_={Body:n(S,h.debug),createQuadTree:e(S),createBounds:t(S),createDragForce:i(S),createSpringForce:r(S),integrate:s(S)},a[S]=_}var E=_.Body,b=_.createQuadTree,w=_.createBounds,A=_.createDragForce,C=_.createSpringForce,D=_.integrate,L=ie=>new E(ie),P=Kwe().random(42),U=[],I=[],N=b(h,P),F=w(U,h,P),z=C(h,P),V=A(h),K=0,ee=[],q=new Map,$=0;de("nbody",pe),de("spring",ue);var Q={bodies:U,quadTree:N,springs:I,settings:h,addForce:de,removeForce:Y,getForces:le,step:function(){for(var ie=0;ie<ee.length;++ie)ee[ie]($);var he=D(U,h.timeStep,h.adaptiveTimeStepWeight);return $+=1,he},addBody:function(ie){if(!ie)throw new Error("Body is required");return U.push(ie),ie},addBodyAt:function(ie){if(!ie)throw new Error("Body position is required");var he=L(ie);return U.push(he),he},removeBody:function(ie){if(ie){var he=U.indexOf(ie);if(!(he<0))return U.splice(he,1),U.length===0&&F.reset(),!0}},addSpring:function(ie,he,ye,Ve){if(!ie||!he)throw new Error("Cannot add null spring to force simulator");typeof ye!="number"&&(ye=-1);var Xe=new p(ie,he,ye,Ve>=0?Ve:-1);return I.push(Xe),Xe},getTotalMovement:function(){return K},removeSpring:function(ie){if(ie){var he=I.indexOf(ie);if(he>-1)return I.splice(he,1),!0}},getBestNewBodyPosition:function(ie){return F.getBestNewPosition(ie)},getBBox:re,getBoundingBox:re,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(ie){return ie!==void 0?(h.gravity=ie,N.options({gravity:ie}),this):h.gravity},theta:function(ie){return ie!==void 0?(h.theta=ie,N.options({theta:ie}),this):h.theta},random:P};return c(h,Q),v(Q),Q;function re(){return F.update(),F.box}function de(ie,he){if(q.has(ie))throw new Error("Force "+ie+" is already added");q.set(ie,he),ee.push(he)}function Y(ie){var he=ee.indexOf(q.get(ie));he<0||(ee.splice(he,1),q.delete(ie))}function le(){return q}function pe(){if(U.length!==0){N.insertBodies(U);for(var ie=U.length;ie--;){var he=U[ie];he.isPinned||(he.reset(),N.updateBodyForce(he),V.update(he))}}}function ue(){for(var ie=I.length;ie--;)z.update(I[ie])}}function c(h,p){for(var y in h)u(h,p,y)}function u(h,p,y){if(h.hasOwnProperty(y)&&typeof p[y]!="function"){var v=Number.isFinite(h[y]);v?p[y]=function(_){if(_!==void 0){if(!Number.isFinite(_))throw new Error("Value of "+y+" should be a valid number.");return h[y]=_,p}return h[y]}:p[y]=function(_){return _!==void 0?(h[y]=_,p):h[y]}}}return B3}var M9;function Zwe(){if(M9)return Sw.exports;M9=1,Sw.exports=e,Sw.exports.simulator=A9();var n=XW();function e(i,r){if(!i)throw new Error("Graph structure cannot be undefined");var s=r&&r.createSimulator||A9(),a=s(r);if(Array.isArray(r))throw new Error("Physics settings is expected to be an object");var o=i.version>19?q:ee;r&&typeof r.nodeMass=="function"&&(o=r.nodeMass);var c=new Map,u={},h=0,p=a.settings.springTransform||t;L(),A();var y=!1,v={step:function(){if(h===0)return _(!0),!0;var $=a.step();v.lastMove=$,v.fire("step");var Q=$/h,re=Q<=.01;return _(re),re},getNodePosition:function($){return K($).pos},setNodePosition:function($){var Q=K($);Q.setPosition.apply(Q,Array.prototype.slice.call(arguments,1))},getLinkPosition:function($){var Q=u[$];if(Q)return{from:Q.from.pos,to:Q.to.pos}},getGraphRect:function(){return a.getBBox()},forEachBody:S,pinNode:function($,Q){var re=K($.id);re.isPinned=!!Q},isNodePinned:function($){return K($.id).isPinned},dispose:function(){i.off("changed",D),v.fire("disposed")},getBody:w,getSpring:b,getForceVectorLength:E,simulator:a,graph:i,lastMove:0};return n(v),v;function _($){y!==$&&(y=$,C($))}function S($){c.forEach($)}function E(){var $=0,Q=0;return S(function(re){$+=Math.abs(re.force.x),Q+=Math.abs(re.force.y)}),Math.sqrt($*$+Q*Q)}function b($,Q){var re;if(Q===void 0)typeof $!="object"?re=$:re=$.id;else{var de=i.hasLink($,Q);if(!de)return;re=de.id}return u[re]}function w($){return c.get($)}function A(){i.on("changed",D)}function C($){v.fire("stable",$)}function D($){for(var Q=0;Q<$.length;++Q){var re=$[Q];re.changeType==="add"?(re.node&&P(re.node.id),re.link&&I(re.link)):re.changeType==="remove"&&(re.node&&U(re.node),re.link&&N(re.link))}h=i.getNodesCount()}function L(){h=0,i.forEachNode(function($){P($.id),h+=1}),i.forEachLink(I)}function P($){var Q=c.get($);if(!Q){var re=i.getNode($);if(!re)throw new Error("initBody() was called with unknown node id");var de=re.position;if(!de){var Y=F(re);de=a.getBestNewBodyPosition(Y)}Q=a.addBodyAt(de),Q.id=$,c.set($,Q),z($),V(re)&&(Q.isPinned=!0)}}function U($){var Q=$.id,re=c.get(Q);re&&(c.delete(Q),a.removeBody(re))}function I($){z($.fromId),z($.toId);var Q=c.get($.fromId),re=c.get($.toId),de=a.addSpring(Q,re,$.length);p($,de),u[$.id]=de}function N($){var Q=u[$.id];if(Q){var re=i.getNode($.fromId),de=i.getNode($.toId);re&&z(re.id),de&&z(de.id),delete u[$.id],a.removeSpring(Q)}}function F($){var Q=[];if(!$.links)return Q;for(var re=Math.min($.links.length,2),de=0;de<re;++de){var Y=$.links[de],le=Y.fromId!==$.id?c.get(Y.fromId):c.get(Y.toId);le&&le.pos&&Q.push(le)}return Q}function z($){var Q=c.get($);if(Q.mass=o($),Number.isNaN(Q.mass))throw new Error("Node mass should be a number")}function V($){return $&&($.isPinned||$.data&&$.data.isPinned)}function K($){var Q=c.get($);return Q||(P($),Q=c.get($)),Q}function ee($){var Q=i.getLinks($);return Q?1+Q.length/3:1}function q($){var Q=i.getLinks($);return Q?1+Q.size/3:1}}function t(){}return Sw.exports}var Qwe=Zwe();const Jwe=$p(Qwe);function WP(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var e2e=typeof global=="object"&&global&&global.Object===Object&&global,t2e=typeof self=="object"&&self&&self.Object===Object&&self,YW=e2e||t2e||Function("return this")(),F3=function(){return YW.Date.now()},n2e=/\s/;function i2e(n){for(var e=n.length;e--&&n2e.test(n.charAt(e)););return e}var r2e=/^\s+/;function s2e(n){return n&&n.slice(0,i2e(n)+1).replace(r2e,"")}var QC=YW.Symbol,KW=Object.prototype,a2e=KW.hasOwnProperty,o2e=KW.toString,_b=QC?QC.toStringTag:void 0;function l2e(n){var e=a2e.call(n,_b),t=n[_b];try{n[_b]=void 0;var i=!0}catch{}var r=o2e.call(n);return i&&(e?n[_b]=t:delete n[_b]),r}var c2e=Object.prototype,u2e=c2e.toString;function f2e(n){return u2e.call(n)}var h2e="[object Null]",d2e="[object Undefined]",R9=QC?QC.toStringTag:void 0;function p2e(n){return n==null?n===void 0?d2e:h2e:R9&&R9 in Object(n)?l2e(n):f2e(n)}function m2e(n){return n!=null&&typeof n=="object"}var g2e="[object Symbol]";function y2e(n){return typeof n=="symbol"||m2e(n)&&p2e(n)==g2e}var O9=NaN,v2e=/^[-+]0x[0-9a-f]+$/i,_2e=/^0b[01]+$/i,b2e=/^0o[0-7]+$/i,x2e=parseInt;function I9(n){if(typeof n=="number")return n;if(y2e(n))return O9;if(WP(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=WP(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=s2e(n);var t=_2e.test(n);return t||b2e.test(n)?x2e(n.slice(2),t?2:8):v2e.test(n)?O9:+n}var S2e="Expected a function",E2e=Math.max,T2e=Math.min;function w2e(n,e,t){var i,r,s,a,o,c,u=0,h=!1,p=!1,y=!0;if(typeof n!="function")throw new TypeError(S2e);e=I9(e)||0,WP(t)&&(h=!!t.leading,p="maxWait"in t,s=p?E2e(I9(t.maxWait)||0,e):s,y="trailing"in t?!!t.trailing:y);function v(L){var P=i,U=r;return i=r=void 0,u=L,a=n.apply(U,P),a}function _(L){return u=L,o=setTimeout(b,e),h?v(L):a}function S(L){var P=L-c,U=L-u,I=e-P;return p?T2e(I,s-U):I}function E(L){var P=L-c,U=L-u;return c===void 0||P>=e||P<0||p&&U>=s}function b(){var L=F3();if(E(L))return w(L);o=setTimeout(b,S(L))}function w(L){return o=void 0,y&&i?v(L):(i=r=void 0,a)}function A(){o!==void 0&&clearTimeout(o),u=0,i=c=r=o=void 0}function C(){return o===void 0?a:w(F3())}function D(){var L=F3(),P=E(L);if(i=arguments,r=this,c=L,P){if(o===void 0)return _(c);if(p)return clearTimeout(o),o=setTimeout(b,e),v(c)}return o===void 0&&(o=setTimeout(b,e)),a}return D.cancel=A,D.flush=C,D}function P9(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function C2e(n){if(Array.isArray(n))return n}function A2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function M2e(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function R2e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],c=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(h){u=!0,r=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function O2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I2e(n,e){return C2e(n)||R2e(n,e)||P2e(n,e)||O2e()}function P2e(n,e){if(n){if(typeof n=="string")return P9(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P9(n,e):void 0}}var D2e=M2e(function n(e,t){var i=t.default,r=i===void 0?null:i,s=t.triggerUpdate,a=s===void 0?!0:s,o=t.onChange,c=o===void 0?function(u,h){}:o;A2e(this,n),this.name=e,this.defaultVal=r,this.triggerUpdate=a,this.onChange=c});function N2e(n){var e=n.stateInit,t=e===void 0?function(){return{}}:e,i=n.props,r=i===void 0?{}:i,s=n.methods,a=s===void 0?{}:s,o=n.aliases,c=o===void 0?{}:o,u=n.init,h=u===void 0?function(){}:u,p=n.update,y=p===void 0?function(){}:p,v=Object.keys(r).map(function(_){return new D2e(_,r[_])});return function _(){for(var S=arguments.length,E=new Array(S),b=0;b<S;b++)E[b]=arguments[b];var w=!!(this instanceof _&&this.constructor),A=w?E.shift():void 0,C=E[0],D=C===void 0?{}:C,L=Object.assign({},t instanceof Function?t(D):t,{initialised:!1}),P={};function U(F){return I(F,D),N(),U}var I=function(z,V){h.call(U,z,L,V),L.initialised=!0},N=w2e(function(){L.initialised&&(y.call(U,L,P),P={})},1);return v.forEach(function(F){U[F.name]=z(F);function z(V){var K=V.name,ee=V.triggerUpdate,q=ee===void 0?!1:ee,$=V.onChange,Q=$===void 0?function(Y,le){}:$,re=V.defaultVal,de=re===void 0?null:re;return function(Y){var le=L[K];if(!arguments.length)return le;var pe=Y===void 0?de:Y;return L[K]=pe,Q.call(U,pe,L,le),!P.hasOwnProperty(K)&&(P[K]=le),q&&N(),U}}}),Object.keys(a).forEach(function(F){U[F]=function(){for(var z,V=arguments.length,K=new Array(V),ee=0;ee<V;ee++)K[ee]=arguments[ee];return(z=a[F]).call.apply(z,[U,L].concat(K))}}),Object.entries(c).forEach(function(F){var z=I2e(F,2),V=z[0],K=z[1];return U[V]=U[K]}),U.resetProps=function(){return v.forEach(function(F){U[F.name](F.defaultVal)}),U},U.resetProps(),L._rerender=N,w&&A&&U(A),U}}var di=(function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}});class D9 extends Map{constructor(e,t=k2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(N9(this,e))}has(e){return super.has(N9(this,e))}set(e,t){return super.set(L2e(this,e),t)}delete(e){return super.delete(U2e(this,e))}}function N9({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function L2e({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function U2e({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function k2e(n){return n!==null&&typeof n=="object"?n.valueOf():n}function z2e(n,e){let t;if(e===void 0)for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(t<r||t===void 0&&r>=r)&&(t=r)}return t}function B2e(n,e){let t;if(e===void 0)for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(t>r||t===void 0&&r>=r)&&(t=r)}return t}function $P(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function F2e(n){if(Array.isArray(n))return n}function V2e(n){if(Array.isArray(n))return $P(n)}function ZW(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function H2e(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function j2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Wa(n,e){return n.get(ZW(n,e))}function Gv(n,e,t){H2e(n,e),e.set(n,t)}function Aw(n,e,t){return n.set(ZW(n,e),t),t}function G2e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,J2e(i.key),i)}}function q2e(n,e,t){return e&&G2e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function W2e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $2e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],c=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(h){u=!0,r=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function X2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K2e(n,e){return F2e(n)||$2e(n,e)||QW(n,e)||X2e()}function Z2e(n){return V2e(n)||W2e(n)||QW(n)||Y2e()}function Q2e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function J2e(n){var e=Q2e(n,"string");return typeof e=="symbol"?e:e+""}function QW(n,e){if(n){if(typeof n=="string")return $P(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$P(n,e):void 0}}var qv=new WeakMap,bb=new WeakMap,Wv=new WeakMap,V3=new WeakMap,H3=new WeakMap,j3=new WeakMap,eCe=(function(){function n(){j2e(this,n),Gv(this,qv,new Map),Gv(this,bb,new Map),Gv(this,Wv,function(e){return e}),Gv(this,V3,function(){return{}}),Gv(this,H3,function(){}),Gv(this,j3,function(){})}return q2e(n,[{key:"getObj",value:function(t){return Wa(qv,this).get(Wa(Wv,this).call(this,t))}},{key:"getData",value:function(t){return Wa(bb,this).get(t)}},{key:"entries",value:function(){return Z2e(Wa(bb,this).entries()).map(function(t){var i=K2e(t,2),r=i[0],s=i[1];return[s,r]})}},{key:"id",value:function(t){return Aw(Wv,this,di(t)),this}},{key:"onCreateObj",value:function(t){return Aw(V3,this,t),this}},{key:"onUpdateObj",value:function(t){return Aw(H3,this,t),this}},{key:"onRemoveObj",value:function(t){return Aw(j3,this,t),this}},{key:"digest",value:function(t){var i=this;t.filter(function(s){return!Wa(qv,i).has(Wa(Wv,i).call(i,s))}).forEach(function(s){var a=Wa(V3,i).call(i,s);Wa(qv,i).set(Wa(Wv,i).call(i,s),a),Wa(bb,i).set(a,s)});var r=new Map(t.map(function(s){return[Wa(Wv,i).call(i,s),s]}));return Wa(qv,this).forEach(function(s,a){r.has(a)?Wa(H3,i).call(i,s,r.get(a)):(Wa(j3,i).call(i,s,a),Wa(qv,i).delete(a),Wa(bb,i).delete(s))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])})();function tCe(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const L9=Symbol("implicit");function JW(){var n=new D9,e=[],t=[],i=L9;function r(s){let a=n.get(s);if(a===void 0){if(i!==L9)return i;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new D9;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return JW(e,t).unknown(i)},tCe.apply(r,arguments),r}function nCe(n){for(var e=n.length/6|0,t=new Array(e),i=0;i<e;)t[i]="#"+n.slice(i*6,++i*6);return t}const iCe=nCe("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function JC(n){"@babel/helpers - typeof";return JC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JC(n)}var rCe=/^\s+/,sCe=/\s+$/;function Zt(n,e){if(n=n||"",e=e||{},n instanceof Zt)return n;if(!(this instanceof Zt))return new Zt(n,e);var t=aCe(n);this._originalInput=n,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}Zt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,i,r,s,a,o;return t=e.r/255,i=e.g/255,r=e.b/255,t<=.03928?s=t/12.92:s=Math.pow((t+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o},setAlpha:function(e){return this._a=e$(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=k9(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=k9(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+i+"%, "+r+"%)":"hsva("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=U9(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=U9(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+i+"%, "+r+"%)":"hsla("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return z9(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return uCe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(br(this._r,255)*100)+"%",g:Math.round(br(this._g,255)*100)+"%",b:Math.round(br(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(br(this._r,255)*100)+"%, "+Math.round(br(this._g,255)*100)+"%, "+Math.round(br(this._b,255)*100)+"%)":"rgba("+Math.round(br(this._r,255)*100)+"%, "+Math.round(br(this._g,255)*100)+"%, "+Math.round(br(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:SCe[z9(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+B9(this._r,this._g,this._b,this._a),i=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var s=Zt(e);i="#"+B9(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,r=this._a<1&&this._a>=0,s=!t&&r&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Zt(this.toString())},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(pCe,arguments)},brighten:function(){return this._applyModification(mCe,arguments)},darken:function(){return this._applyModification(gCe,arguments)},desaturate:function(){return this._applyModification(fCe,arguments)},saturate:function(){return this._applyModification(hCe,arguments)},greyscale:function(){return this._applyModification(dCe,arguments)},spin:function(){return this._applyModification(yCe,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(bCe,arguments)},complement:function(){return this._applyCombination(vCe,arguments)},monochromatic:function(){return this._applyCombination(xCe,arguments)},splitcomplement:function(){return this._applyCombination(_Ce,arguments)},triad:function(){return this._applyCombination(F9,[3])},tetrad:function(){return this._applyCombination(F9,[4])}};Zt.fromRatio=function(n,e){if(JC(n)=="object"){var t={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?t[i]=n[i]:t[i]=Fb(n[i]));n=t}return Zt(n,e)};function aCe(n){var e={r:0,g:0,b:0},t=1,i=null,r=null,s=null,a=!1,o=!1;return typeof n=="string"&&(n=CCe(n)),JC(n)=="object"&&(Th(n.r)&&Th(n.g)&&Th(n.b)?(e=oCe(n.r,n.g,n.b),a=!0,o=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Th(n.h)&&Th(n.s)&&Th(n.v)?(i=Fb(n.s),r=Fb(n.v),e=cCe(n.h,i,r),a=!0,o="hsv"):Th(n.h)&&Th(n.s)&&Th(n.l)&&(i=Fb(n.s),s=Fb(n.l),e=lCe(n.h,i,s),a=!0,o="hsl"),n.hasOwnProperty("a")&&(t=n.a)),t=e$(t),{ok:a,format:n.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function oCe(n,e,t){return{r:br(n,255)*255,g:br(e,255)*255,b:br(t,255)*255}}function U9(n,e,t){n=br(n,255),e=br(e,255),t=br(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),s,a,o=(i+r)/2;if(i==r)s=a=0;else{var c=i-r;switch(a=o>.5?c/(2-i-r):c/(i+r),i){case n:s=(e-t)/c+(e<t?6:0);break;case e:s=(t-n)/c+2;break;case t:s=(n-e)/c+4;break}s/=6}return{h:s,s:a,l:o}}function lCe(n,e,t){var i,r,s;n=br(n,360),e=br(e,100),t=br(t,100);function a(u,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?u+(h-u)*6*p:p<1/2?h:p<2/3?u+(h-u)*(2/3-p)*6:u}if(e===0)i=r=s=t;else{var o=t<.5?t*(1+e):t+e-t*e,c=2*t-o;i=a(c,o,n+1/3),r=a(c,o,n),s=a(c,o,n-1/3)}return{r:i*255,g:r*255,b:s*255}}function k9(n,e,t){n=br(n,255),e=br(e,255),t=br(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),s,a,o=i,c=i-r;if(a=i===0?0:c/i,i==r)s=0;else{switch(i){case n:s=(e-t)/c+(e<t?6:0);break;case e:s=(t-n)/c+2;break;case t:s=(n-e)/c+4;break}s/=6}return{h:s,s:a,v:o}}function cCe(n,e,t){n=br(n,360)*6,e=br(e,100),t=br(t,100);var i=Math.floor(n),r=n-i,s=t*(1-e),a=t*(1-r*e),o=t*(1-(1-r)*e),c=i%6,u=[t,a,s,s,o,t][c],h=[o,t,t,a,s,s][c],p=[s,s,o,t,t,a][c];return{r:u*255,g:h*255,b:p*255}}function z9(n,e,t,i){var r=[pu(Math.round(n).toString(16)),pu(Math.round(e).toString(16)),pu(Math.round(t).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function uCe(n,e,t,i,r){var s=[pu(Math.round(n).toString(16)),pu(Math.round(e).toString(16)),pu(Math.round(t).toString(16)),pu(t$(i))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function B9(n,e,t,i){var r=[pu(t$(i)),pu(Math.round(n).toString(16)),pu(Math.round(e).toString(16)),pu(Math.round(t).toString(16))];return r.join("")}Zt.equals=function(n,e){return!n||!e?!1:Zt(n).toRgbString()==Zt(e).toRgbString()};Zt.random=function(){return Zt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function fCe(n,e){e=e===0?0:e||10;var t=Zt(n).toHsl();return t.s-=e/100,t.s=kM(t.s),Zt(t)}function hCe(n,e){e=e===0?0:e||10;var t=Zt(n).toHsl();return t.s+=e/100,t.s=kM(t.s),Zt(t)}function dCe(n){return Zt(n).desaturate(100)}function pCe(n,e){e=e===0?0:e||10;var t=Zt(n).toHsl();return t.l+=e/100,t.l=kM(t.l),Zt(t)}function mCe(n,e){e=e===0?0:e||10;var t=Zt(n).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),Zt(t)}function gCe(n,e){e=e===0?0:e||10;var t=Zt(n).toHsl();return t.l-=e/100,t.l=kM(t.l),Zt(t)}function yCe(n,e){var t=Zt(n).toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,Zt(t)}function vCe(n){var e=Zt(n).toHsl();return e.h=(e.h+180)%360,Zt(e)}function F9(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=Zt(n).toHsl(),i=[Zt(n)],r=360/e,s=1;s<e;s++)i.push(Zt({h:(t.h+s*r)%360,s:t.s,l:t.l}));return i}function _Ce(n){var e=Zt(n).toHsl(),t=e.h;return[Zt(n),Zt({h:(t+72)%360,s:e.s,l:e.l}),Zt({h:(t+216)%360,s:e.s,l:e.l})]}function bCe(n,e,t){e=e||6,t=t||30;var i=Zt(n).toHsl(),r=360/t,s=[Zt(n)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,s.push(Zt(i));return s}function xCe(n,e){e=e||6;for(var t=Zt(n).toHsv(),i=t.h,r=t.s,s=t.v,a=[],o=1/e;e--;)a.push(Zt({h:i,s:r,v:s})),s=(s+o)%1;return a}Zt.mix=function(n,e,t){t=t===0?0:t||50;var i=Zt(n).toRgb(),r=Zt(e).toRgb(),s=t/100,a={r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a};return Zt(a)};Zt.readability=function(n,e){var t=Zt(n),i=Zt(e);return(Math.max(t.getLuminance(),i.getLuminance())+.05)/(Math.min(t.getLuminance(),i.getLuminance())+.05)};Zt.isReadable=function(n,e,t){var i=Zt.readability(n,e),r,s;switch(s=!1,r=ACe(t),r.level+r.size){case"AAsmall":case"AAAlarge":s=i>=4.5;break;case"AAlarge":s=i>=3;break;case"AAAsmall":s=i>=7;break}return s};Zt.mostReadable=function(n,e,t){var i=null,r=0,s,a,o,c;t=t||{},a=t.includeFallbackColors,o=t.level,c=t.size;for(var u=0;u<e.length;u++)s=Zt.readability(n,e[u]),s>r&&(r=s,i=Zt(e[u]));return Zt.isReadable(n,i,{level:o,size:c})||!a?i:(t.includeFallbackColors=!1,Zt.mostReadable(n,["#fff","#000"],t))};var XP=Zt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},SCe=Zt.hexNames=ECe(XP);function ECe(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function e$(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function br(n,e){TCe(n)&&(n="100%");var t=wCe(n);return n=Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function kM(n){return Math.min(1,Math.max(0,n))}function wl(n){return parseInt(n,16)}function TCe(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function wCe(n){return typeof n=="string"&&n.indexOf("%")!=-1}function pu(n){return n.length==1?"0"+n:""+n}function Fb(n){return n<=1&&(n=n*100+"%"),n}function t$(n){return Math.round(parseFloat(n)*255).toString(16)}function V9(n){return wl(n)/255}var lu=(function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Th(n){return!!lu.CSS_UNIT.exec(n)}function CCe(n){n=n.replace(rCe,"").replace(sCe,"").toLowerCase();var e=!1;if(XP[n])n=XP[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=lu.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=lu.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=lu.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=lu.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=lu.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=lu.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=lu.hex8.exec(n))?{r:wl(t[1]),g:wl(t[2]),b:wl(t[3]),a:V9(t[4]),format:e?"name":"hex8"}:(t=lu.hex6.exec(n))?{r:wl(t[1]),g:wl(t[2]),b:wl(t[3]),format:e?"name":"hex"}:(t=lu.hex4.exec(n))?{r:wl(t[1]+""+t[1]),g:wl(t[2]+""+t[2]),b:wl(t[3]+""+t[3]),a:V9(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=lu.hex3.exec(n))?{r:wl(t[1]+""+t[1]),g:wl(t[2]+""+t[2]),b:wl(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function ACe(n){var e,t;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),t=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}function YP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function MCe(n){if(Array.isArray(n))return n}function RCe(n){if(Array.isArray(n))return YP(n)}function n$(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function OCe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function i$(n,e,t){return e=r_(e),zCe(n,ZL()?Reflect.construct(e,t||[],r_(n).constructor):e.apply(n,t))}function ICe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r$(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function G3(n,e){return n.get(n$(n,e))}function H9(n,e,t){ICe(n,e),e.set(n,t)}function j9(n,e,t){return n.set(n$(n,e),t),t}function s$(n,e,t){if(ZL())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var r=new(n.bind.apply(n,i));return r}function PCe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,l$(i.key),i)}}function a$(n,e,t){return e&&PCe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function zM(n,e,t){return(e=l$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KP(){return KP=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,e,t){var i=BCe(n,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?n:t):r.value}},KP.apply(null,arguments)}function r_(n){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r_(n)}function o$(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ZP(n,e)}function ZL(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZL=function(){return!!n})()}function DCe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function NCe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],c=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(h){u=!0,r=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function LCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G9(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function kCe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G9(Object(t),!0).forEach(function(i){zM(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):G9(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function zCe(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OCe(n)}function ZP(n,e){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},ZP(n,e)}function gx(n,e){return MCe(n)||NCe(n,e)||c$(n,e)||LCe()}function BCe(n,e){for(;!{}.hasOwnProperty.call(n,e)&&(n=r_(n))!==null;);return n}function q3(n,e,t,i){var r=KP(r_(n.prototype),e,t);return typeof r=="function"?function(s){return r.apply(t,s)}:r}function uu(n){return RCe(n)||DCe(n)||c$(n)||UCe()}function FCe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function l$(n){var e=FCe(n,"string");return typeof e=="symbol"?e:e+""}function QP(n){"@babel/helpers - typeof";return QP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QP(n)}function c$(n,e){if(n){if(typeof n=="string")return YP(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?YP(n,e):void 0}}var u$=function(e){e instanceof Array?e.forEach(u$):(e.map&&e.map.dispose(),e.dispose())},f$=function(e){e.geometry&&e.geometry.dispose(),e.material&&u$(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(f$)},JP=function(e){for(;e.children.length;){var t=e.children[0];e.remove(t),f$(t)}},W3=new WeakMap,Mw=new WeakMap,xb=(function(n){function e(t){var i,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.dataBindAttr,a=s===void 0?"__data":s,o=r.objBindAttr,c=o===void 0?"__threeObj":o;return r$(this,e),i=i$(this,e),zM(i,"scene",void 0),H9(i,W3,void 0),H9(i,Mw,void 0),i.scene=t,j9(W3,i,a),j9(Mw,i,c),i.onRemoveObj(function(){}),i}return o$(e,n),a$(e,[{key:"onCreateObj",value:function(i){var r=this;return q3(e,"onCreateObj",this)([function(s){var a=i(s);return s[G3(Mw,r)]=a,a[G3(W3,r)]=s,r.scene.add(a),a}]),this}},{key:"onRemoveObj",value:function(i){var r=this;return q3(e,"onRemoveObj",this)([function(s,a){var o=q3(e,"getData",r)([s]);i(s,a),r.scene.remove(s),JP(s),delete o[G3(Mw,r)]}]),this}}])})(eCe),Sb=function(e){return isNaN(e)?parseInt(Zt(e).toHex(),16):e},$3=function(e){return isNaN(e)?Zt(e).getAlpha():1},VCe=JW(iCe);function q9(n,e,t){!e||typeof t!="string"||n.filter(function(i){return!i[t]}).forEach(function(i){i[t]=VCe(e(i))})}function HCe(n,e){var t=n.nodes,i=n.links,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=r.nodeFilter,a=s===void 0?function(){return!0}:s,o=r.onLoopError,c=o===void 0?function(v){throw"Invalid DAG structure! Found cycle in node path: ".concat(v.join(" -> "),".")}:o,u={};t.forEach(function(v){return u[e(v)]={data:v,out:[],depth:-1,skip:!a(v)}}),i.forEach(function(v){var _=v.source,S=v.target,E=C(_),b=C(S);if(!u.hasOwnProperty(E))throw"Missing source node with id: ".concat(E);if(!u.hasOwnProperty(b))throw"Missing target node with id: ".concat(b);var w=u[E],A=u[b];w.out.push(A);function C(D){return QP(D)==="object"?e(D):D}});var h=[];y(Object.values(u));var p=Object.assign.apply(Object,[{}].concat(uu(Object.entries(u).filter(function(v){var _=gx(v,2),S=_[1];return!S.skip}).map(function(v){var _=gx(v,2),S=_[0],E=_[1];return zM({},S,E.depth)}))));return p;function y(v){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,E=function(){var C=v[b];if(_.indexOf(C)!==-1){var D=[].concat(uu(_.slice(_.indexOf(C))),[C]).map(function(L){return e(L.data)});return h.some(function(L){return L.length===D.length&&L.every(function(P,U){return P===D[U]})})||(h.push(D),c(D)),1}S>C.depth&&(C.depth=S,y(C.out,[].concat(uu(_),[C]),S+(C.skip?0:1)))},b=0,w=v.length;b<w;b++)E()}}var mn=window.THREE?window.THREE:{Group:Nh,Mesh:ts,MeshLambertMaterial:$N,Color:Ut,BufferGeometry:Nn,BufferAttribute:Fi,Matrix4:an,Vector3:fe,SphereGeometry:ly,CylinderGeometry:__,TubeGeometry:IS,ConeGeometry:b_,Line:Qh,LineBasicMaterial:no,QuadraticBezierCurve3:QA,CubicBezierCurve3:jN,Box3:na},W9={graph:Fwe,forcelayout:Jwe},jCe=2,X3=new mn.BufferGeometry().setAttribute?"setAttribute":"addAttribute",Rw=new mn.BufferGeometry().applyMatrix4?"applyMatrix4":"applyMatrix",GCe=N2e({props:{jsonUrl:{onChange:function(e,t){var i=this;e&&!t.fetchingJson&&(t.fetchingJson=!0,t.onLoading(),fetch(e).then(function(r){return r.json()}).then(function(r){t.fetchingJson=!1,t.onFinishLoading(r),i.graphData(r)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){t.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,t){var i=t.d3ForceLayout.force("charge");i&&i.strength(e>2?-60:-30),e<3&&r(t.graphData.nodes,"z"),e<2&&r(t.graphData.nodes,"y");function r(s,a){s.forEach(function(o){delete o[a],delete o["v".concat(a)]})}}},dagMode:{onChange:function(e,t){!e&&t.forceEngine==="d3"&&(t.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=i.fz=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},linkDirectionalParticleThreeObject:{},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,t,i){return i===void 0?e.d3ForceLayout.force(t):(e.d3ForceLayout.force(t,i),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var t=e.forceEngine!=="ngraph";return e.engineRunning&&i(),r(),s(),this;function i(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||t&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[t?"tick":"step"](),e.onEngineTick());var a=di(e.nodeThreeObjectExtend);e.nodeDataMapper.entries().forEach(function(y){var v=gx(y,2),_=v[0],S=v[1];if(S){var E=t?_:e.layout.getNodePosition(_[e.nodeId]),b=a(_);(!e.nodePositionUpdate||!e.nodePositionUpdate(b?S.children[0]:S,{x:E.x,y:E.y,z:E.z},_)||b)&&(S.position.x=E.x,S.position.y=E.y||0,S.position.z=E.z||0)}});var o=di(e.linkWidth),c=di(e.linkCurvature),u=di(e.linkCurveRotation),h=di(e.linkThreeObjectExtend);e.linkDataMapper.entries().forEach(function(y){var v=gx(y,2),_=v[0],S=v[1];if(S){var E=t?_:e.layout.getLinkPosition(e.layout.graph.getLink(_.source,_.target).id),b=E[t?"source":"from"],w=E[t?"target":"to"];if(!(!b||!w||!b.hasOwnProperty("x")||!w.hasOwnProperty("x"))){p(_);var A=h(_);if(!(e.linkPositionUpdate&&e.linkPositionUpdate(A?S.children[1]:S,{start:{x:b.x,y:b.y,z:b.z},end:{x:w.x,y:w.y,z:w.z}},_)&&!A)){var C=30,D=_.__curve,L=S.children.length?S.children[0]:S;if(L.type==="Line"){if(D){var U=D.getPoints(C);L.geometry.getAttribute("position").array.length!==U.length*3&&L.geometry[X3]("position",new mn.BufferAttribute(new Float32Array(U.length*3),3)),L.geometry.setFromPoints(U)}else{var P=L.geometry.getAttribute("position");(!P||!P.array||P.array.length!==6)&&L.geometry[X3]("position",P=new mn.BufferAttribute(new Float32Array(6),3)),P.array[0]=b.x,P.array[1]=b.y||0,P.array[2]=b.z||0,P.array[3]=w.x,P.array[4]=w.y||0,P.array[5]=w.z||0,P.needsUpdate=!0}L.geometry.computeBoundingSphere()}else if(L.type==="Mesh")if(D){L.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(L.position.set(0,0,0),L.rotation.set(0,0,0),L.scale.set(1,1,1));var ee=Math.ceil(o(_)*10)/10,q=ee/2,$=new mn.TubeGeometry(D,C,q,e.linkResolution,!1);L.geometry.dispose(),L.geometry=$}else{if(!L.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var I=Math.ceil(o(_)*10)/10,N=I/2,F=new mn.CylinderGeometry(N,N,1,e.linkResolution,1,!1);F[Rw](new mn.Matrix4().makeTranslation(0,1/2,0)),F[Rw](new mn.Matrix4().makeRotationX(Math.PI/2)),L.geometry.dispose(),L.geometry=F}var z=new mn.Vector3(b.x,b.y||0,b.z||0),V=new mn.Vector3(w.x,w.y||0,w.z||0),K=z.distanceTo(V);L.position.x=z.x,L.position.y=z.y,L.position.z=z.z,L.scale.z=K,L.parent.localToWorld(V),L.lookAt(V)}}}}});function p(y){var v=t?y:e.layout.getLinkPosition(e.layout.graph.getLink(y.source,y.target).id),_=v[t?"source":"from"],S=v[t?"target":"to"];if(!(!_||!S||!_.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var E=c(y);if(!E)y.__curve=null;else{var b=new mn.Vector3(_.x,_.y||0,_.z||0),w=new mn.Vector3(S.x,S.y||0,S.z||0),A=b.distanceTo(w),C,D=u(y);if(A>0){var L=S.x-_.x,P=S.y-_.y||0,U=new mn.Vector3().subVectors(w,b),I=U.clone().multiplyScalar(E).cross(L!==0||P!==0?new mn.Vector3(0,0,1):new mn.Vector3(0,1,0)).applyAxisAngle(U.normalize(),D).add(new mn.Vector3().addVectors(b,w).divideScalar(2));C=new mn.QuadraticBezierCurve3(b,I,w)}else{var N=E*70,F=-D,z=F+Math.PI/2;C=new mn.CubicBezierCurve3(b,new mn.Vector3(N*Math.cos(z),N*Math.sin(z),0).add(b),new mn.Vector3(N*Math.cos(F),N*Math.sin(F),0).add(b),w)}y.__curve=C}}}}function r(){var a=di(e.linkDirectionalArrowRelPos),o=di(e.linkDirectionalArrowLength),c=di(e.nodeVal);e.arrowDataMapper.entries().forEach(function(u){var h=gx(u,2),p=h[0],y=h[1];if(y){var v=t?p:e.layout.getLinkPosition(e.layout.graph.getLink(p.source,p.target).id),_=v[t?"source":"from"],S=v[t?"target":"to"];if(!(!_||!S||!_.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var E=Math.cbrt(Math.max(0,c(_)||1))*e.nodeRelSize,b=Math.cbrt(Math.max(0,c(S)||1))*e.nodeRelSize,w=o(p),A=a(p),C=p.__curve?function(N){return p.__curve.getPoint(N)}:function(N){var F=function(V,K,ee,q){return K[V]+(ee[V]-K[V])*q||0};return{x:F("x",_,S,N),y:F("y",_,S,N),z:F("z",_,S,N)}},D=p.__curve?p.__curve.getLength():Math.sqrt(["x","y","z"].map(function(N){return Math.pow((S[N]||0)-(_[N]||0),2)}).reduce(function(N,F){return N+F},0)),L=E+w+(D-E-b-w)*A,P=C(L/D),U=C((L-w)/D);["x","y","z"].forEach(function(N){return y.position[N]=U[N]});var I=s$(mn.Vector3,uu(["x","y","z"].map(function(N){return P[N]})));y.parent.localToWorld(I),y.lookAt(I)}}})}function s(){var a=di(e.linkDirectionalParticleSpeed),o=di(e.linkDirectionalParticleOffset);e.graphData.links.forEach(function(c){var u=e.particlesDataMapper.getObj(c),h=u&&u.children,p=c.__singleHopPhotonsObj&&c.__singleHopPhotonsObj.children;if(!((!p||!p.length)&&(!h||!h.length))){var y=t?c:e.layout.getLinkPosition(e.layout.graph.getLink(c.source,c.target).id),v=y[t?"source":"from"],_=y[t?"target":"to"];if(!(!v||!_||!v.hasOwnProperty("x")||!_.hasOwnProperty("x"))){var S=a(c),E=Math.abs(o(c)),b=c.__curve?function(A){return c.__curve.getPoint(A)}:function(A){var C=function(L,P,U,I){return P[L]+(U[L]-P[L])*I||0};return{x:C("x",v,_,A),y:C("y",v,_,A),z:C("z",v,_,A)}},w=[].concat(uu(h||[]),uu(p||[]));w.forEach(function(A,C){var D=A.parent.__linkThreeObjType==="singleHopPhotons";if(A.hasOwnProperty("__progressRatio")||(A.__progressRatio=D?0:(C+E)/h.length),A.__progressRatio+=S,A.__progressRatio>=1)if(!D)A.__progressRatio=A.__progressRatio%1;else{A.parent.remove(A),JP(A);return}var L=A.__progressRatio,P=b(L);A.geometry.type!=="SphereGeometry"&&A.lookAt(P.x,P.y,P.z),["x","y","z"].forEach(function(U){return A.position[U]=P[U]})})}}})}},emitParticle:function(e,t){if(t&&e.graphData.links.includes(t)){if(!t.__singleHopPhotonsObj){var i=new mn.Group;i.__linkThreeObjType="singleHopPhotons",t.__singleHopPhotonsObj=i,e.graphScene.add(i)}var r=di(e.linkDirectionalParticleThreeObject)(t);if(r&&e.linkDirectionalParticleThreeObject===r&&(r=r.clone()),!r){var s=di(e.linkDirectionalParticleWidth),a=Math.ceil(s(t)*10)/10/2,o=e.linkDirectionalParticleResolution,c=new mn.SphereGeometry(a,o,o),u=di(e.linkColor),h=di(e.linkDirectionalParticleColor),p=h(t)||u(t)||"#f0f0f0",y=new mn.Color(Sb(p)),v=e.linkOpacity*3,_=new mn.MeshLambertMaterial({color:y,transparent:!0,opacity:v});r=new mn.Mesh(c,_)}t.__singleHopPhotonsObj.add(r)}return this},getGraphBbox:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(!e.initialised)return null;var i=(function r(s){var a=[];if(s.geometry){s.geometry.computeBoundingBox();var o=new mn.Box3;o.copy(s.geometry.boundingBox).applyMatrix4(s.matrixWorld),a.push(o)}return a.concat.apply(a,uu((s.children||[]).filter(function(c){return!c.hasOwnProperty("__graphObjType")||c.__graphObjType==="node"&&t(c.__data)}).map(r)))})(e.graphScene);return i.length?Object.assign.apply(Object,uu(["x","y","z"].map(function(r){return zM({},r,[B2e(i,function(s){return s.min[r]}),z2e(i,function(s){return s.max[r]})])}))):null}},stateInit:function(){return{d3ForceLayout:Nwe().force("link",_we()).force("charge",Lwe()).force("center",xTe()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,t){t.graphScene=e,t.nodeDataMapper=new xb(e,{objBindAttr:"__threeObj"}),t.linkDataMapper=new xb(e,{objBindAttr:"__lineObj"}),t.arrowDataMapper=new xb(e,{objBindAttr:"__arrowObj"}),t.particlesDataMapper=new xb(e,{objBindAttr:"__photonsObj"})},update:function(e,t){var i=function(he){return he.some(function(ye){return t.hasOwnProperty(ye)})};if(e.engineRunning=!1,typeof e.onUpdate=="function"&&e.onUpdate(),e.nodeAutoColorBy!==null&&i(["nodeAutoColorBy","graphData","nodeColor"])&&q9(e.graphData.nodes,di(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&i(["linkAutoColorBy","graphData","linkColor"])&&q9(e.graphData.links,di(e.linkAutoColorBy),e.linkColor),e._flushObjects||i(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var r=di(e.nodeThreeObject),s=di(e.nodeThreeObjectExtend),a=di(e.nodeVal),o=di(e.nodeColor),c=di(e.nodeVisibility),u={},h={};(e._flushObjects||i(["nodeThreeObject","nodeThreeObjectExtend"]))&&e.nodeDataMapper.clear(),e.nodeDataMapper.onCreateObj(function(ie){var he=r(ie),ye=s(ie);he&&e.nodeThreeObject===he&&(he=he.clone());var Ve;return he&&!ye?Ve=he:(Ve=new mn.Mesh,Ve.__graphDefaultObj=!0,he&&ye&&Ve.add(he)),Ve.__graphObjType="node",Ve}).onUpdateObj(function(ie,he){if(ie.__graphDefaultObj){var ye=a(he)||1,Ve=Math.cbrt(ye)*e.nodeRelSize,Xe=e.nodeResolution;(!ie.geometry.type.match(/^Sphere(Buffer)?Geometry$/)||ie.geometry.parameters.radius!==Ve||ie.geometry.parameters.widthSegments!==Xe)&&(u.hasOwnProperty(ye)||(u[ye]=new mn.SphereGeometry(Ve,Xe,Xe)),ie.geometry.dispose(),ie.geometry=u[ye]);var Ge=o(he),rt=new mn.Color(Sb(Ge||"#ffffaa")),lt=e.nodeOpacity*$3(Ge);(ie.material.type!=="MeshLambertMaterial"||!ie.material.color.equals(rt)||ie.material.opacity!==lt)&&(h.hasOwnProperty(Ge)||(h[Ge]=new mn.MeshLambertMaterial({color:rt,transparent:!0,opacity:lt})),ie.material.dispose(),ie.material=h[Ge])}}).digest(e.graphData.nodes.filter(c))}if(e._flushObjects||i(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","linkDirectionalParticleThreeObject"])){var p=di(e.linkThreeObject),y=di(e.linkThreeObjectExtend),v=di(e.linkMaterial),_=di(e.linkVisibility),S=di(e.linkColor),E=di(e.linkWidth),b={},w={},A={},C=e.graphData.links.filter(_);if((e._flushObjects||i(["linkThreeObject","linkThreeObjectExtend","linkWidth"]))&&e.linkDataMapper.clear(),e.linkDataMapper.onRemoveObj(function(ie){var he=ie.__data&&ie.__data.__singleHopPhotonsObj;he&&(he.parent.remove(he),JP(he),delete ie.__data.__singleHopPhotonsObj)}).onCreateObj(function(ie){var he=p(ie),ye=y(ie);he&&e.linkThreeObject===he&&(he=he.clone());var Ve;if(!he||ye){var Xe=!!E(ie);if(Xe)Ve=new mn.Mesh;else{var Ge=new mn.BufferGeometry;Ge[X3]("position",new mn.BufferAttribute(new Float32Array(6),3)),Ve=new mn.Line(Ge)}}var rt;return he?ye?(rt=new mn.Group,rt.__graphDefaultObj=!0,rt.add(Ve),rt.add(he)):rt=he:(rt=Ve,rt.__graphDefaultObj=!0),rt.renderOrder=10,rt.__graphObjType="link",rt}).onUpdateObj(function(ie,he){if(ie.__graphDefaultObj){var ye=ie.children.length?ie.children[0]:ie,Ve=Math.ceil(E(he)*10)/10,Xe=!!Ve;if(Xe){var Ge=Ve/2,rt=e.linkResolution;if(!ye.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||ye.geometry.parameters.radiusTop!==Ge||ye.geometry.parameters.radialSegments!==rt){if(!b.hasOwnProperty(Ve)){var lt=new mn.CylinderGeometry(Ge,Ge,1,rt,1,!1);lt[Rw](new mn.Matrix4().makeTranslation(0,1/2,0)),lt[Rw](new mn.Matrix4().makeRotationX(Math.PI/2)),b[Ve]=lt}ye.geometry.dispose(),ye.geometry=b[Ve]}}var pt=v(he);if(pt)ye.material=pt;else{var te=S(he),Oe=new mn.Color(Sb(te||"#f0f0f0")),Be=e.linkOpacity*$3(te),Ne=Xe?"MeshLambertMaterial":"LineBasicMaterial";if(ye.material.type!==Ne||!ye.material.color.equals(Oe)||ye.material.opacity!==Be){var Me=Xe?w:A;Me.hasOwnProperty(te)||(Me[te]=new mn[Ne]({color:Oe,transparent:Be<1,opacity:Be,depthWrite:Be>=1})),ye.material.dispose(),ye.material=Me[te]}}}}).digest(C),e.linkDirectionalArrowLength||t.hasOwnProperty("linkDirectionalArrowLength")){var D=di(e.linkDirectionalArrowLength),L=di(e.linkDirectionalArrowColor);e.arrowDataMapper.onCreateObj(function(){var ie=new mn.Mesh(void 0,new mn.MeshLambertMaterial({transparent:!0}));return ie.__linkThreeObjType="arrow",ie}).onUpdateObj(function(ie,he){var ye=D(he),Ve=e.linkDirectionalArrowResolution;if(!ie.geometry.type.match(/^Cone(Buffer)?Geometry$/)||ie.geometry.parameters.height!==ye||ie.geometry.parameters.radialSegments!==Ve){var Xe=new mn.ConeGeometry(ye*.25,ye,Ve);Xe.translate(0,ye/2,0),Xe.rotateX(Math.PI/2),ie.geometry.dispose(),ie.geometry=Xe}var Ge=L(he)||S(he)||"#f0f0f0";ie.material.color=new mn.Color(Sb(Ge)),ie.material.opacity=e.linkOpacity*3*$3(Ge)}).digest(C.filter(D))}if(e.linkDirectionalParticles||t.hasOwnProperty("linkDirectionalParticles")){var P=di(e.linkDirectionalParticles),U=di(e.linkDirectionalParticleWidth),I=di(e.linkDirectionalParticleColor),N=di(e.linkDirectionalParticleThreeObject),F={},z={};e.particlesDataMapper.onCreateObj(function(){var ie=new mn.Group;return ie.__linkThreeObjType="photons",ie.__photonDataMapper=new xb(ie),ie}).onUpdateObj(function(ie,he){var ye=!!ie.children.length&&ie.children[0],Ve=N(he),Xe,Ge;if(Ve)Xe=Ve.geometry,Ge=Ve.material;else{var rt=Math.ceil(U(he)*10)/10/2,lt=e.linkDirectionalParticleResolution;ye&&ye.geometry.parameters.radius===rt&&ye.geometry.parameters.widthSegments===lt?Xe=ye.geometry:(z.hasOwnProperty(rt)||(z[rt]=new mn.SphereGeometry(rt,lt,lt)),Xe=z[rt]);var pt=I(he)||S(he)||"#f0f0f0",te=new mn.Color(Sb(pt)),Oe=e.linkOpacity*3;ye&&ye.material.color.equals(te)&&ye.material.opacity===Oe?Ge=ye.material:(F.hasOwnProperty(pt)||(F[pt]=new mn.MeshLambertMaterial({color:te,transparent:!0,opacity:Oe})),Ge=F[pt])}ye&&(ye.geometry!==Xe&&ye.geometry.dispose(),ye.material!==Ge&&ye.material.dispose());var Be=Math.round(Math.abs(P(he)));ie.__photonDataMapper.id(function(Ne){return Ne.idx}).onCreateObj(function(){return new mn.Mesh(Xe,Ge)}).onUpdateObj(function(Ne){Ne.geometry=Xe,Ne.material=Ge}).digest(uu(new Array(Be)).map(function(Ne,Me){return{idx:Me}}))}).digest(C.filter(P))}}if(e._flushObjects=!1,i(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach(function(ie){ie.source=ie[e.linkSource],ie.target=ie[e.linkTarget]});var V=e.forceEngine!=="ngraph",K;if(V){(K=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var ee=e.d3ForceLayout.force("link");ee&&ee.id(function(ie){return ie[e.nodeId]}).links(e.graphData.links);var q=e.dagMode&&HCe(e.graphData,function(ie){return ie[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),$=Math.max.apply(Math,uu(Object.values(q||[]))),Q=e.dagLevelDistance||e.graphData.nodes.length/($||1)*jCe*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu","zin","zout"].includes(t.dagMode)){var re=["lr","rl"].includes(t.dagMode)?"fx":["td","bu"].includes(t.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(ie){return delete ie[re]})}if(["lr","rl","td","bu","zin","zout"].includes(e.dagMode)){var de=["rl","td","zout"].includes(e.dagMode),Y=function(he){return(q[he[e.nodeId]]-$/2)*Q*(de?-1:1)},le=["lr","rl"].includes(e.dagMode)?"fx":["td","bu"].includes(e.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(ie){return ie[le]=Y(ie)})}e.d3ForceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?Uwe(function(ie){var he=q[ie[e.nodeId]]||-1;return(e.dagMode==="radialin"?$-he:he)*Q}).strength(function(ie){return e.dagNodeFilter(ie)?1:0}):null)}else{var pe=W9.graph();e.graphData.nodes.forEach(function(ie){pe.addNode(ie[e.nodeId])}),e.graphData.links.forEach(function(ie){pe.addLink(ie.source,ie.target)}),K=W9.forcelayout(pe,kCe({dimensions:e.numDimensions},e.ngraphPhysics)),K.graph=pe}for(var ue=0;ue<e.warmupTicks&&!(V&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);ue++)K[V?"tick":"step"]();e.layout=K,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}});function qCe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=(function(r){function s(){var a;r$(this,s);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return a=i$(this,s,[].concat(c)),a.__kapsuleInstance=s$(n,[].concat(uu(t?[a]:[]),c)),a}return o$(s,r),a$(s)})(e);return Object.keys(n()).forEach(function(r){return i.prototype[r]=function(){var s,a=(s=this.__kapsuleInstance)[r].apply(s,arguments);return a===this.__kapsuleInstance?this:a}}),i}var WCe=window.THREE?window.THREE:{Group:Nh},$Ce=qCe(GCe,WCe.Group,!0);function XCe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],c=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;c=!1}else for(;!(c=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(h){u=!0,r=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function YCe(n,e,t){return e=iAe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $9(n,e){return QCe(n)||XCe(n,e)||h$(n,e)||tAe()}function KCe(n){return ZCe(n)||JCe(n)||h$(n)||eAe()}function ZCe(n){if(Array.isArray(n))return eD(n)}function QCe(n){if(Array.isArray(n))return n}function JCe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function h$(n,e){if(n){if(typeof n=="string")return eD(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eD(n,e)}}function eD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function eAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nAe(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function iAe(n){var e=nAe(n,"string");return typeof e=="symbol"?e:String(e)}var rAe=function(e,t){var i=new Set(t);return Object.assign.apply(Object,[{}].concat(KCe(Object.entries(e).filter(function(r){var s=$9(r,1),a=s[0];return!i.has(a)}).map(function(r){var s=$9(r,2),a=s[0],o=s[1];return YCe({},a,o)}))))};function tD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function sAe(n){if(Array.isArray(n))return n}function aAe(n){if(Array.isArray(n))return tD(n)}function oAe(n,e,t){return(e=gAe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lAe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function cAe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],c=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(h){u=!0,r=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function uAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X9(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function eA(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?X9(Object(t),!0).forEach(function(i){oAe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):X9(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function hAe(n,e){if(n==null)return{};var t,i,r=dAe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function dAe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function pAe(n,e){return sAe(n)||cAe(n,e)||d$(n,e)||uAe()}function Y3(n){return aAe(n)||lAe(n)||d$(n)||fAe()}function mAe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gAe(n){var e=mAe(n,"string");return typeof e=="symbol"?e:e+""}function d$(n,e){if(n){if(typeof n=="string")return tD(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?tD(n,e):void 0}}function yAe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.methodNames,i=t===void 0?[]:t,r=e.initPropNames,s=r===void 0?[]:r;return H.forwardRef(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,c=H.useMemo(function(){return new n(Object.fromEntries(s.filter(function(y){return a.hasOwnProperty(y)}).map(function(y){return[y,a[y]]})))},[]);H.useEffect(function(){return c._destructor instanceof Function?c._destructor:void 0},[c]);var u=H.useCallback(function(y){for(var v=arguments.length,_=new Array(v>1?v-1:0),S=1;S<v;S++)_[S-1]=arguments[S];return c[y]instanceof Function?c[y].apply(c,_):void 0},[c]),h=Object.fromEntries(Object.entries(a).filter(function(y){var v=pAe(y,1),_=v[0];return!c[_]||!(c[_]instanceof Function)})),p=H.useRef({});return Object.keys(rAe(a,[].concat(Y3(i),Y3(s),Y3(Object.keys(h))))).filter(function(y){return p.current[y]!==a[y]}).forEach(function(y){return u(y,a[y])}),p.current=a,H.useImperativeHandle(o,function(){return Object.fromEntries(i.map(function(y){return[y,function(){for(var v=arguments.length,_=new Array(v),S=0;S<v;S++)_[S]=arguments[S];return u.apply(void 0,[y].concat(_))}]}))}),H.createElement("primitive",eA(eA({},h),{},{object:c}))})}var vAe=["onNodeHover","onLinkHover","onNodeClick","onLinkClick"],_Ae=yAe($Ce,{initPropNames:[],methodNames:["emitParticle","getGraphBbox","d3ReheatSimulation","d3Force","resetCountdown","tickFrame","refresh"]}),Y9=function(e){var t,i=e.intersections,r=function(a){return a?a.hasOwnProperty("__graphObjType")?a:r(a.parent):null};return r((t=i.find(function(s){return r(s.object)}))===null||t===void 0?void 0:t.object)},Ow=function(e){return e?.__data},bAe=H.forwardRef(function(n,e){var t=n.onNodeHover,i=n.onLinkHover,r=n.onNodeClick,s=n.onLinkClick,a=hAe(n,vAe),o=H.useRef(null),c=H.useCallback(function(h){if(!(!t&&!i)){var p=Y9(h);if(p!==o.current){var y=o.current;o.current=p,y&&(!p||p.__graphObjType!==y.__graphObjType)&&({node:t,link:i}[y?.__graphObjType]||function(){})(null,Ow(y)),({node:t,link:i}[p?.__graphObjType]||function(){})(Ow(p),p?.__graphObjType===y?.__graphObjType?Ow(y):null)}}},[t,i]),u=H.useCallback(function(h){var p=Y9(h),y={node:r,link:s}[p?.__graphObjType];p&&y&&(y(Ow(p),h),h.stopPropagation())},[r,s]);return H.createElement(_Ae,eA(eA({},a),{},{ref:e,onPointerMove:c,onClick:u}))});const xAe=({cameraControlsRef:n})=>{const e=Sn(u=>u.dagModeConfig),t=Sn(u=>u.dagLevelDistanceConfig),i=Sn(u=>u.showFullGraph),r=H.useRef(void 0);XS(()=>r.current?.tickFrame());const s=Tde(),a="system",o=H.useMemo(()=>{if(!s.nodes.length||!s.links.length)return{nodes:[],links:[]};if(i)return s;const u=s.nodes.filter(_=>_.group===a);if(!u.length)return{nodes:[],links:[]};const h=new Set(u.map(_=>_.id)),p=s.links.filter(_=>h.has(_.source)),y=new Set(p.map(_=>_.target)),v=s.nodes.filter(_=>y.has(_.id));return{nodes:[...u,...v],links:p}},[s,i]),c=H.useCallback(u=>{if(!u)return;if(!n.current){console.error("cameraControlsRef no est inicializado.");return}const h=new fe(u.x,u.y,u.z);gde(n.current,h,30),Sn.setState({nodeViewData:u})},[n]);return Z.jsx(bAe,{ref:r,graphData:o,dagMode:e,dagLevelDistance:t,linkWidth:2,linkCurvature:.05,linkDirectionalParticles:4,linkDirectionalParticleWidth:2,onNodeClick:c,nodeAutoColorBy:u=>u.group?cW[u.group]:"gray",nodeThreeObject:u=>Vde(u)})},SAe=ar.forwardRef(function(e,t){return Z.jsx(Qq,{direction:"up",ref:t,...e})}),of="components.navigationgestures.",EAe=()=>{const{t:n}=hy(),e=n(of+"touch.title"),t=n(of+"desk.title"),[i,r]=ar.useState(!0),[s,a]=ar.useState(!1);H.useEffect(()=>{localStorage.getItem(tr.navigationsGestures)==="true"?(r(!1),Sn.setState({overlayDontShowAgain:!0})):(r(!0),Sn.setState({overlayDontShowAgain:!1}))},[]);const o=()=>{Sn.setState({overlayDontShowAgain:s}),r(!1)},c=u=>{const h=u.target.checked;a(h),h?localStorage.setItem(tr.navigationsGestures,"true"):localStorage.removeItem(tr.navigationsGestures)};return Z.jsx(Df,{children:Z.jsxs(Yq,{open:i,slots:{transition:SAe},keepMounted:!0,onClose:o,"aria-describedby":"alert-dialog-slide-description",children:[Z.jsx(Zq,{children:nw()==="Android"||nw()==="iOS"?e:t}),Z.jsx(Kq,{sx:{padding:"20px"},children:Z.jsx(Q1e,{component:"div",id:"alert-dialog-slide-description",sx:{"& div":{marginTop:"20px"}},children:nw()==="iOS"||nw()==="Android"?Z.jsxs(Z.Fragment,{children:[Z.jsxs(up,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/one-swipe.svg",alt:"One Swipe",style:{width:30}}),Z.jsx(Lr,{variant:"h6",children:n(of+"touch.text1")})]}),Z.jsxs(up,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/two-swipe.svg",alt:"Two Swipe",style:{width:30}}),Z.jsx(Lr,{variant:"h6",children:n(of+"touch.text2")})]}),Z.jsxs(up,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/zoom-in.svg",alt:"Scroll",style:{width:30}}),Z.jsx(Lr,{variant:"h6",children:n(of+"touch.text3")})]})]}):Z.jsxs(Z.Fragment,{children:[Z.jsxs(up,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/left-click.svg",alt:"Left Click",style:{width:30}}),Z.jsx(Lr,{variant:"h6",children:"+"}),Z.jsx("img",{src:"gestures/360.svg",alt:"360",style:{width:30}}),Z.jsxs(Lr,{variant:"h6",children:["Clic izquierdo + arrastrar: Orbitar",n(of+"desk.text1")]})]}),Z.jsxs(up,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/right-click.svg",alt:"Right Click",style:{width:30}}),Z.jsx(Lr,{variant:"h6",children:"+"}),Z.jsx("img",{src:"gestures/360.svg",alt:"360",style:{width:30}}),Z.jsx(Lr,{variant:"h6",children:n(of+"desk.text2")})]}),Z.jsxs(up,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/scroll.svg",alt:"Scroll",style:{width:30}}),Z.jsx(Lr,{variant:"h6",children:n(of+"desk.text3")})]})]})})}),Z.jsxs(j1e,{sx:{justifyContent:"space-between"},children:[Z.jsx(ybe,{control:Z.jsx(h1e,{onChange:c}),label:n(of+"checkBoxLabel")}),Z.jsx(WS,{onClick:o,children:n(of+"buttonClose")})]})]})})},wh=Wp,p$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M6 2L6.09863 2.00488C6.32763 2.02757 6.54289 2.12883 6.70703 2.29297L18.207 13.793L18.2754 13.8691C18.5957 14.2619 18.5731 14.8409 18.207 15.207C17.8409 15.5731 17.2619 15.5957 16.8691 15.2754L16.793 15.207L5.58594 4H4V5.58594L15.207 16.793L15.2754 16.8691C15.5957 17.2619 15.5731 17.8409 15.207 18.207C14.8409 18.5731 14.2619 18.5957 13.8691 18.2754L13.793 18.207L2.29297 6.70703C2.10543 6.51949 2 6.26522 2 6V3L2.00488 2.89746C2.05621 2.39333 2.48232 2 3 2H6Z",fill:n}),Z.jsx("path",{d:"M18.293 12.293C18.6835 11.9024 19.3165 11.9024 19.707 12.293C20.0975 12.6835 20.0975 13.3165 19.707 13.707L13.707 19.707C13.3165 20.0976 12.6835 20.0976 12.293 19.707C11.9024 19.3165 11.9024 18.6835 12.293 18.293L18.293 12.293Z",fill:n}),Z.jsx("path",{d:"M15.293 15.293C15.6591 14.9269 16.2381 14.9043 16.6309 15.2246L16.707 15.293L20.707 19.293L20.7754 19.3691C21.0958 19.7619 21.0732 20.3409 20.707 20.707C20.3409 21.0731 19.7619 21.0957 19.3692 20.7754L19.293 20.707L15.293 16.707L15.2246 16.6309C14.9043 16.2381 14.9269 15.6591 15.293 15.293Z",fill:n}),Z.jsx("path",{d:"M20.3691 18.2246C20.7619 17.9043 21.3409 17.9269 21.707 18.293C22.0731 18.6591 22.0957 19.2381 21.7754 19.6309L21.707 19.707L19.707 21.707C19.3165 22.0976 18.6835 22.0976 18.293 21.707C17.9024 21.3165 17.9024 20.6835 18.293 20.293L20.293 18.293L20.3691 18.2246Z",fill:n}),Z.jsx("path",{d:"M21 2L21.1025 2.00488C21.6067 2.05621 22 2.48232 22 3V6C22 6.26522 21.8946 6.51949 21.707 6.70703L18.207 10.207C17.8165 10.5976 17.1835 10.5976 16.793 10.207C16.4024 9.81651 16.4024 9.18349 16.793 8.79297L20 5.58594V4H18.414L15.207 7.20703C14.8165 7.59756 14.1835 7.59756 13.793 7.20703C13.4024 6.81651 13.4024 6.18349 13.793 5.79297L17.293 2.29297L17.3662 2.22656C17.5442 2.08073 17.7679 2 18 2H21Z",fill:n}),Z.jsx("path",{d:"M4.29298 13.293C4.65909 12.9269 5.2381 12.9043 5.63087 13.2246L5.70704 13.293L9.70704 17.293L9.7754 17.3691C10.0958 17.7619 10.0732 18.3409 9.70704 18.707C9.34092 19.0731 8.76192 19.0957 8.36915 18.7754L8.29298 18.707L4.29298 14.707L4.22462 14.6309C3.90427 14.2381 3.92686 13.6591 4.29298 13.293Z",fill:n}),Z.jsx("path",{d:"M6.29295 16.293C6.68348 15.9024 7.31649 15.9024 7.70702 16.293C8.09754 16.6835 8.09754 17.3165 7.70702 17.707L4.70702 20.707C4.31649 21.0976 3.68348 21.0976 3.29295 20.707C2.90243 20.3165 2.90243 19.6835 3.29295 19.293L6.29295 16.293Z",fill:n}),Z.jsx("path",{d:"M2.29298 18.293C2.65909 17.9269 3.2381 17.9043 3.63087 18.2246L3.70704 18.293L5.70704 20.293L5.7754 20.3691C6.09575 20.7619 6.07316 21.3409 5.70704 21.707C5.34093 22.0731 4.76192 22.0957 4.36915 21.7754L4.29298 21.707L2.29298 19.707L2.22462 19.6309C1.90427 19.2381 1.92686 18.6591 2.29298 18.293Z",fill:n})]})}),m$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M19 7C19.4167 7 19.7901 7.25831 19.9365 7.64844L22.9365 15.6484C23.0927 16.0648 22.9548 16.5345 22.5986 16.8008C21.5568 17.5791 20.297 18 19 18C17.703 18 16.4432 17.5791 15.4014 16.8008C15.0452 16.5345 14.9073 16.0648 15.0635 15.6484L18.0635 7.64844L18.1289 7.50879C18.3041 7.19791 18.6353 7 19 7ZM17.2246 15.5811C17.7758 15.8544 18.3816 16 19 16C19.6181 16 20.2234 15.8541 20.7744 15.5811L19 10.8486L17.2246 15.5811Z",fill:n}),Z.jsx("path",{d:"M4.99999 7C5.41673 7 5.79007 7.25831 5.93652 7.64844L8.93652 15.6484C9.09266 16.0648 8.95478 16.5345 8.59863 16.8008C7.55684 17.5791 6.29703 18 4.99999 18C3.70296 18 2.44315 17.5791 1.40136 16.8008C1.04521 16.5345 0.907331 16.0648 1.06347 15.6484L4.06347 7.64844L4.1289 7.50879C4.30409 7.19791 4.63531 7 4.99999 7ZM3.2246 15.5811C3.7758 15.8544 4.38156 16 4.99999 16C5.61814 16 6.22342 15.8541 6.77441 15.5811L4.99999 10.8486L3.2246 15.5811Z",fill:n}),Z.jsx("path",{d:"M17 20C17.5523 20 18 20.4477 18 21C18 21.5523 17.5523 22 17 22H7C6.44772 22 6 21.5523 6 21C6 20.4477 6.44772 20 7 20H17Z",fill:n}),Z.jsx("path",{d:"M11 21V3C11 2.44772 11.4477 2 12 2C12.5523 2 13 2.44772 13 3V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21Z",fill:n}),Z.jsx("path",{d:"M11.6602 4.05956C11.9161 3.96704 12.2008 3.98224 12.4473 4.10546L12.8213 4.2871C14.7407 5.18917 17.3374 5.99999 19 5.99999H21C21.5523 5.99999 22 6.44771 22 6.99999C22 7.55228 21.5523 7.99999 21 7.99999H19C16.929 7.99999 14.0476 7.06705 12 6.10937C9.95245 7.06705 7.07096 7.99999 5 7.99999H3C2.44772 7.99999 2 7.55228 2 6.99999C2 6.44771 2.44772 5.99999 3 5.99999H5C6.77342 5.99999 9.60934 5.07716 11.5527 4.10546L11.6602 4.05956Z",fill:n})]})}),g$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M20 15C20.6738 15.6738 20.7051 15.706 20.7061 15.708L20.7051 15.709C20.7044 15.7097 20.7039 15.7112 20.7031 15.7119C20.7017 15.7133 20.6998 15.7143 20.6982 15.7158C20.695 15.719 20.6913 15.7229 20.6875 15.7266C20.6799 15.7338 20.671 15.742 20.6611 15.751C20.6412 15.7691 20.6161 15.7904 20.5869 15.8145C20.5282 15.8628 20.4504 15.9224 20.3516 15.9883C20.1536 16.1203 19.8731 16.2779 19.4961 16.4287C18.7402 16.731 17.6125 17 16 17C14.2809 17 12.8607 16.4214 11.6289 15.9287C10.3608 15.4215 9.28069 15 8 15C6.61272 15 5.74022 15.2311 5.24609 15.4287C4.99834 15.5278 4.84105 15.6203 4.75781 15.6758L4.68457 15.7285C4.68649 15.7268 4.68964 15.7242 4.69336 15.7207L4.70605 15.708L4.70508 15.707C4.41908 15.9922 3.99044 16.0784 3.61719 15.9238C3.24359 15.769 3 15.4044 3 15V3C3 2.73478 3.10543 2.48051 3.29297 2.29297L4 3C3.32619 2.32619 3.29494 2.29399 3.29395 2.29199L3.29492 2.29102C3.29565 2.2903 3.29612 2.28884 3.29688 2.28809C3.29829 2.28668 3.30022 2.28568 3.30176 2.28418C3.30504 2.28097 3.30867 2.27709 3.3125 2.27344C3.32014 2.26615 3.32902 2.25798 3.33887 2.24902C3.35878 2.23092 3.38385 2.20963 3.41309 2.18555C3.4718 2.1372 3.54963 2.07759 3.64844 2.01172C3.84641 1.87973 4.12685 1.72211 4.50391 1.57129C5.25978 1.26899 6.38752 1 8 1C9.71915 1 11.1393 1.57856 12.3711 2.07129C13.6392 2.57853 14.7193 3 16 3C17.3873 3 18.2598 2.76894 18.7539 2.57129C19.0017 2.47216 19.159 2.37971 19.2422 2.32422L19.3154 2.27148C19.3135 2.27323 19.3104 2.27575 19.3066 2.2793L19.2949 2.29102C19.5809 2.00658 20.01 1.92174 20.3828 2.07617C20.7564 2.23098 21 2.59558 21 3V15C21 15.2652 20.8946 15.5195 20.707 15.707L20 15ZM8 3C6.61272 3 5.74022 3.23106 5.24609 3.42871C5.15107 3.46673 5.06933 3.50372 5 3.53809V13.3984C5.72765 13.1743 6.70797 13 8 13C9.71915 13 11.1393 13.5786 12.3711 14.0713C13.6392 14.5785 14.7193 15 16 15C17.3873 15 18.2598 14.7689 18.7539 14.5713C18.8491 14.5332 18.9306 14.4954 19 14.4609V4.60059C18.2723 4.82481 17.2922 5 16 5C14.2809 5 12.8607 4.42144 11.6289 3.92871C10.3608 3.42147 9.28069 3 8 3Z",fill:n}),Z.jsx("path",{d:"M3 22V15C3 14.4477 3.44772 14 4 14C4.55228 14 5 14.4477 5 15V22C5 22.5523 4.55228 23 4 23C3.44772 23 3 22.5523 3 22Z",fill:n})]})}),y$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:Z.jsx("path",{d:"M13.3511 1.00426C13.6035 0.979434 13.8584 1.01916 14.0913 1.11949L14.2056 1.17516L14.315 1.23961C14.5276 1.37773 14.7014 1.56768 14.8208 1.79137L14.8765 1.90563L14.9214 2.02477C15.0012 2.26511 15.0193 2.52186 14.9732 2.77086L14.9439 2.89488C14.9403 2.90782 14.9372 2.92116 14.9331 2.93395L13.0132 8.95348L12.9966 9.00035H19.9995C20.377 8.99962 20.7472 9.10533 21.0669 9.30602C21.3874 9.50722 21.6438 9.79572 21.8072 10.1371C21.9705 10.4784 22.0342 10.8589 21.9898 11.2347C21.9509 11.5635 21.8311 11.8768 21.6421 12.1468L21.5562 12.2601L21.4976 12.3265L11.5972 22.5267L11.5962 22.5257C11.3775 22.7596 11.0908 22.9195 10.7749 22.9779C10.4404 23.0398 10.0945 22.986 9.79446 22.8255C9.49446 22.6651 9.25781 22.4067 9.12356 22.0941C8.98947 21.7816 8.96599 21.4328 9.05618 21.1048L9.06692 21.0658L10.9868 15.0463L11.0034 15.0004H3.99954V14.9994C3.62242 14.9999 3.25259 14.8942 2.93313 14.6937C2.61282 14.4926 2.35623 14.2048 2.1929 13.8636C2.02953 13.5222 1.96587 13.1409 2.01028 12.765C2.05474 12.3893 2.2055 12.0334 2.44388 11.7396L2.50247 11.6732L12.4029 1.47399C12.6216 1.23994 12.9092 1.08127 13.2251 1.02281L13.3511 1.00426ZM4.00247 13.0004H10.9995C11.3221 12.9998 11.6401 13.0771 11.9263 13.2259C12.2132 13.3752 12.4602 13.5914 12.645 13.8568C12.8299 14.1223 12.9474 14.4294 12.9878 14.7504C13.0261 15.055 12.9904 15.363 12.8902 15.6527L12.8931 15.6537L11.6265 19.6244L19.9976 11.0004H12.9995V10.9994C12.6774 10.9998 12.3596 10.9234 12.0738 10.7748C11.7868 10.6255 11.5399 10.4084 11.355 10.1429C11.1703 9.87756 11.0527 9.57115 11.0122 9.25035C10.9738 8.94533 11.0084 8.63614 11.1089 8.34606H11.107L12.3726 4.37438L4.00247 13.0004Z",fill:n})})}),v$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M11 22V2C11 1.44772 11.4477 1 12 1C12.5523 1 13 1.44772 13 2V22C13 22.5523 12.5523 23 12 23C11.4477 23 11 22.5523 11 22Z",fill:n}),Z.jsx("path",{d:"M14.293 18.293C14.6835 17.9025 15.3165 17.9025 15.707 18.293C16.0976 18.6835 16.0976 19.3166 15.707 19.7071L12.707 22.7071C12.3409 23.0732 11.7619 23.0958 11.3692 22.7754L11.293 22.7071L8.29298 19.7071L8.22462 19.6309C7.90427 19.2381 7.92686 18.6591 8.29298 18.293C8.65909 17.9269 9.2381 17.9043 9.63087 18.2247L9.70704 18.293L12 20.586L14.293 18.293Z",fill:n}),Z.jsx("path",{d:"M18.293 8.29298C18.6591 7.92686 19.2381 7.90427 19.6308 8.22462L19.707 8.29298L22.707 11.293L22.7754 11.3692C23.0744 11.7357 23.0744 12.2643 22.7754 12.6309L22.707 12.707L19.707 15.707C19.3165 16.0976 18.6835 16.0976 18.293 15.707C17.9024 15.3165 17.9024 14.6835 18.293 14.293L20.5859 12L18.293 9.70704L18.2246 9.63087C17.9042 9.2381 17.9268 8.65909 18.293 8.29298Z",fill:n}),Z.jsx("path",{d:"M22 11C22.5523 11 23 11.4477 23 12C23 12.5523 22.5523 13 22 13H2C1.44772 13 1 12.5523 1 12C1 11.4477 1.44772 11 2 11H22Z",fill:n}),Z.jsx("path",{d:"M4.29295 8.29302C4.68348 7.90249 5.31649 7.90249 5.70702 8.29302C6.09754 8.68354 6.09754 9.31655 5.70702 9.70708L3.41405 12L5.70702 14.293L5.77538 14.3692C6.09573 14.762 6.07313 15.341 5.70702 15.7071C5.3409 16.0732 4.7619 16.0958 4.36913 15.7754L4.29295 15.7071L1.29295 12.7071C0.90243 12.3166 0.90243 11.6835 1.29295 11.293L4.29295 8.29302Z",fill:n}),Z.jsx("path",{d:"M11.3691 1.22462C11.7619 0.904269 12.3409 0.926863 12.707 1.29298L15.707 4.29298L15.7754 4.36915C16.0957 4.76192 16.0731 5.34092 15.707 5.70704C15.3409 6.07316 14.7619 6.09575 14.3691 5.7754L14.293 5.70704L12 3.41407L9.70702 5.70704C9.31649 6.09757 8.68348 6.09757 8.29295 5.70704C7.90243 5.31652 7.90243 4.6835 8.29295 4.29298L11.293 1.29298L11.3691 1.22462Z",fill:n})]})}),_$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M9.00034 5.5C9.00034 4.74769 8.85652 4.07212 8.59019 3.62109C8.35769 3.22741 8.04163 3.00009 7.50034 3C6.41936 3 5.58527 3.56869 4.97398 4.52051C4.42658 5.37285 4.10152 6.48084 4.01987 7.55371L4.00034 8.01074V8.01172C3.98724 9.10357 4.19941 9.85934 4.44468 10.6592C4.69309 11.4693 5.00034 12.388 5.00034 13.6201V16L5.00523 16.0986C5.02792 16.3276 5.12918 16.5429 5.29331 16.707C5.48083 16.8945 5.73521 17 6.00034 17C6.26544 16.9999 6.51992 16.8945 6.70737 16.707C6.87143 16.5429 6.97278 16.3276 6.99546 16.0986L7.00034 16V14.1797C7.00041 12.468 7.56853 10.9122 8.05796 9.53809C8.5659 8.11204 9.00034 6.85579 9.00034 5.5ZM11.0003 5.5C11.0003 7.2541 10.4338 8.82762 9.94175 10.209C9.43125 11.6422 9.00041 12.8716 9.00034 14.1797V16L8.98569 16.2969C8.91745 16.9834 8.61354 17.6289 8.12144 18.1211C7.55891 18.6836 6.79587 18.9999 6.00034 19C5.20469 19 4.44088 18.6837 3.87827 18.1211C3.38627 17.6289 3.08324 16.9834 3.01499 16.2969L3.00034 16V13.6201C3.00034 12.7323 2.79161 12.0908 2.53257 11.2461C2.27037 10.3911 1.98349 9.3962 2.00034 7.98828C2.01714 6.47649 2.42719 4.785 3.29136 3.43945C4.17007 2.07138 5.57144 1 7.50034 1C8.82841 1.00011 9.76191 1.67264 10.3119 2.60352C10.828 3.47749 11.0003 4.55234 11.0003 5.5Z",fill:n}),Z.jsx("path",{d:"M15 20V18.1797C14.9999 16.8716 14.5681 15.6422 14.0576 14.209C13.5656 12.8277 13 11.254 13 9.5C13 8.55234 13.1714 7.47749 13.6875 6.60352C14.2375 5.67242 15.1716 5 16.5 5C18.429 5 19.8303 6.07131 20.709 7.43945C21.5731 8.785 21.9832 10.4765 22 11.9883L21.9922 12.4971C21.9449 13.6425 21.6972 14.4979 21.4678 15.2461C21.2087 16.0909 21 16.7323 21 17.6201V20C21 20.7957 20.6837 21.5585 20.1211 22.1211C19.5585 22.6837 18.7957 23 18 23C17.2043 23 16.4415 22.6837 15.8789 22.1211C15.3867 21.6289 15.0829 20.9835 15.0146 20.2969L15 20ZM15 9.5C15 10.8558 15.4344 12.112 15.9424 13.5381C16.4318 14.9122 16.9999 16.468 17 18.1797V20L17.0049 20.0986C17.0276 20.3276 17.1288 20.5429 17.293 20.707C17.4805 20.8946 17.7348 21 18 21C18.2652 21 18.5195 20.8946 18.707 20.707C18.8946 20.5195 19 20.2652 19 20V17.6201C19 16.388 19.3073 15.4693 19.5557 14.6592C19.8009 13.8594 20.0131 13.1035 20 12.0117V12.0107C19.9866 10.8029 19.6519 9.49466 19.0264 8.52051C18.4151 7.56869 17.581 7 16.5 7C15.9585 7 15.6427 7.22738 15.4102 7.62109C15.1438 8.07212 15 8.74766 15 9.5Z",fill:n}),Z.jsx("path",{d:"M20 16C20.5523 16 21 16.4477 21 17C21 17.5523 20.5523 18 20 18H16C15.4477 18 15 17.5523 15 17C15 16.4477 15.4477 16 16 16H20Z",fill:n}),Z.jsx("path",{d:"M8 12C8.55228 12 9 12.4477 9 13C9 13.5523 8.55228 14 8 14H4C3.44772 14 3 13.5523 3 13C3 12.4477 3.44772 12 4 12H8Z",fill:n})]})}),b$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:Z.jsx("path",{d:"M19 5.99955C16.6805 5.99955 13.9706 4.66296 12.1104 3.03959V3.04057C12.0796 3.01427 12.0405 2.99955 12 2.99955C11.9595 2.99955 11.9204 3.01427 11.8896 3.04057L11.8887 3.03959C10.0971 4.60157 7.48931 5.91506 5.21875 5.99564L5 5.99955V12.9996L5.00879 13.4117C5.09782 15.4371 5.8465 16.9384 6.98633 18.106C8.07404 19.22 9.55305 20.0641 11.2539 20.7232L11.9961 20.9947L12.0186 21.0015C14.0236 20.3018 15.7728 19.381 17.0137 18.1079C18.229 16.861 19 15.2354 19 12.9996V5.99955ZM21 12.9996C21 15.7637 20.021 17.8888 18.4463 19.5044C16.8988 21.0921 14.8204 22.1442 12.6689 22.8941L12.6611 22.897C12.233 23.0421 11.7688 23.0369 11.3438 22.8843V22.8853C11.3379 22.8833 11.3321 22.8805 11.3262 22.8785C11.3246 22.8779 11.3228 22.8781 11.3213 22.8775V22.8765C9.17204 22.132 7.09956 21.0847 5.55566 19.5035C4.07782 17.9898 3.12517 16.0279 3.01172 13.5113L3 12.9996V5.99955C3.00012 5.46928 3.21097 4.96045 3.58594 4.58549C3.96099 4.21056 4.46967 3.99955 5 3.99955L5.32129 3.98783C6.95847 3.86731 9.05353 2.86212 10.582 1.52689L10.5908 1.52006L10.7422 1.40092C11.1082 1.1406 11.5477 0.99955 12 0.99955C12.4523 0.99955 12.8918 1.1406 13.2578 1.40092L13.4092 1.52006L13.418 1.52689L13.7324 1.79154C15.3383 3.0868 17.4277 3.99955 19 3.99955C19.5303 3.99955 20.039 4.21056 20.4141 4.58549C20.789 4.96046 20.9999 5.46928 21 5.99955V12.9996Z",fill:n})})}),nD=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24  ",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M4 4V9H9V4H4ZM11 9C11 10.1046 10.1046 11 9 11H4C2.89543 11 2 10.1046 2 9V4C2 2.89543 2.89543 2 4 2H9C10.1046 2 11 2.89543 11 4V9Z",fill:n}),Z.jsx("path",{d:"M15 4V9H20V4H15ZM22 9C22 10.1046 21.1046 11 20 11H15C13.8954 11 13 10.1046 13 9V4C13 2.89543 13.8954 2 15 2H20C21.1046 2 22 2.89543 22 4V9Z",fill:n}),Z.jsx("path",{d:"M15 15V20H20V15H15ZM22 20C22 21.1046 21.1046 22 20 22H15C13.8954 22 13 21.1046 13 20V15C13 13.8954 13.8954 13 15 13H20C21.1046 13 22 13.8954 22 15V20Z",fill:n}),Z.jsx("path",{d:"M4 15V20H9V15H4ZM11 20C11 21.1046 10.1046 22 9 22H4C2.89543 22 2 21.1046 2 20V15C2 13.8954 2.89543 13 4 13H9C10.1046 13 11 13.8954 11 15V20Z",fill:n})]})}),x$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24  ",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M19 10C19 6.15228 15.8477 3 12 3C8.15228 3 5 6.15228 5 10C5 13.8477 8.15228 17 12 17H20C20.5523 17 21 17.4477 21 18C21 18.5523 20.5523 19 20 19H12C7.04772 19 3 14.9523 3 10C3 5.04772 7.04772 1 12 1C16.9523 1 21 5.04772 21 10C21 10.5523 20.5523 11 20 11C19.4477 11 19 10.5523 19 10Z",fill:n}),Z.jsx("path",{d:"M15.293 13.293C15.6591 12.9269 16.2381 12.9043 16.6309 13.2246L16.707 13.293L20.707 17.293L20.7754 17.3692C21.0957 17.7619 21.0731 18.3409 20.707 18.707L16.707 22.707C16.3165 23.0976 15.6835 23.0976 15.293 22.707C14.9024 22.3165 14.9024 21.6835 15.293 21.293L18.5859 18L15.293 14.707L15.2246 14.6309C14.9043 14.2381 14.9269 13.6591 15.293 13.293Z",fill:n})]})});wh.palette.text.secondary,wh.palette.text.secondary,wh.palette.text.secondary,wh.palette.text.secondary,wh.palette.text.secondary,wh.palette.text.secondary,wh.palette.text.secondary,wh.palette.text.secondary,wh.palette.text.secondary;const K9={Guard:p$,Control:m$,Pass:g$,Submission:y$,TachiWaza:_$,Defense:b$,System:nD,Switch:v$,Transition:x$,default:nD},QL=Wp.palette,BM=QL.formStyles,FM=QL.text;BM.containerBackgroundColor;BM.cardBackgroundColor;FM.secondary,QL.typography.fontFamily;BM.buttonForm,FM.primary;FM.secondary;`${BM.borderColor}`;FM.secondary;var K3,Z9;function TAe(){return Z9||(Z9=1,K3=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(!n(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=i;r--!==0;){var a=s[r];if(!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}),K3}var wAe=TAe();const CAe=$p(wAe);var Iw={exports:{}},Z3,Q9;function AAe(){if(Q9)return Z3;Q9=1;var n;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return n=function(){var e={},t={};return e.on=function(i,r){var s={name:i,handler:r};return t[i]=t[i]||[],t[i].unshift(s),s},e.off=function(i){var r=t[i.name].indexOf(i);r!==-1&&t[i.name].splice(r,1)},e.trigger=function(i,r){var s=t[i],a;if(s)for(a=s.length;a--;)s[a].handler(r)},e},Z3=n,Z3}var Pw={exports:{}},Q3,J9;function MAe(){if(J9)return Q3;J9=1,Q3=function(r,s,a){var o=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script");typeof s=="function"&&(a=s,s={}),s=s||{},a=a||function(){},c.type=s.type||"text/javascript",c.charset=s.charset||"utf8",c.async="async"in s?!!s.async:!0,c.src=r,s.attrs&&n(c,s.attrs),s.text&&(c.text=""+s.text);var u="onload"in c?e:t;u(c,a),c.onload||e(c,a),o.appendChild(c)};function n(i,r){for(var s in r)i.setAttribute(s,r[s])}function e(i,r){i.onload=function(){this.onerror=this.onload=null,r(null,i)},i.onerror=function(){this.onerror=this.onload=null,r(new Error("Failed to load "+this.src),i)}}function t(i,r){i.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,r(null,i))}}return Q3}var eF;function RAe(){return eF||(eF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=MAe(),i=r(t);function r(s){return s&&s.__esModule?s:{default:s}}e.default=function(s){var a=new Promise(function(o){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){o(window.YT);return}else{var c=window.location.protocol==="http:"?"http:":"https:";(0,i.default)(c+"//www.youtube.com/iframe_api",function(h){h&&s.trigger("error",h)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),o(window.YT)}});return a},n.exports=e.default})(Pw,Pw.exports)),Pw.exports}var Dw={exports:{}},Nw={exports:{}},Lw={exports:{}},J3,tF;function OAe(){if(tF)return J3;tF=1;var n=1e3,e=n*60,t=e*60,i=t*24,r=i*365.25;J3=function(u,h){h=h||{};var p=typeof u;if(p==="string"&&u.length>0)return s(u);if(p==="number"&&isNaN(u)===!1)return h.long?o(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var h=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(h){var p=parseFloat(h[1]),y=(h[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return p*r;case"days":case"day":case"d":return p*i;case"hours":case"hour":case"hrs":case"hr":case"h":return p*t;case"minutes":case"minute":case"mins":case"min":case"m":return p*e;case"seconds":case"second":case"secs":case"sec":case"s":return p*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(u){return u>=i?Math.round(u/i)+"d":u>=t?Math.round(u/t)+"h":u>=e?Math.round(u/e)+"m":u>=n?Math.round(u/n)+"s":u+"ms"}function o(u){return c(u,i,"day")||c(u,t,"hour")||c(u,e,"minute")||c(u,n,"second")||u+" ms"}function c(u,h,p){if(!(u<h))return u<h*1.5?Math.floor(u/h)+" "+p:Math.ceil(u/h)+" "+p+"s"}return J3}var nF;function IAe(){return nF||(nF=1,(function(n,e){e=n.exports=r.debug=r.default=r,e.coerce=c,e.disable=a,e.enable=s,e.enabled=o,e.humanize=OAe(),e.names=[],e.skips=[],e.formatters={};var t;function i(u){var h=0,p;for(p in u)h=(h<<5)-h+u.charCodeAt(p),h|=0;return e.colors[Math.abs(h)%e.colors.length]}function r(u){function h(){if(h.enabled){var p=h,y=+new Date,v=y-(t||y);p.diff=v,p.prev=t,p.curr=y,t=y;for(var _=new Array(arguments.length),S=0;S<_.length;S++)_[S]=arguments[S];_[0]=e.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");var E=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,function(w,A){if(w==="%%")return w;E++;var C=e.formatters[A];if(typeof C=="function"){var D=_[E];w=C.call(p,D),_.splice(E,1),E--}return w}),e.formatArgs.call(p,_);var b=h.log||e.log||console.log.bind(console);b.apply(p,_)}}return h.namespace=u,h.enabled=e.enabled(u),h.useColors=e.useColors(),h.color=i(u),typeof e.init=="function"&&e.init(h),h}function s(u){e.save(u),e.names=[],e.skips=[];for(var h=(typeof u=="string"?u:"").split(/[\s,]+/),p=h.length,y=0;y<p;y++)h[y]&&(u=h[y].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.substr(1)+"$")):e.names.push(new RegExp("^"+u+"$")))}function a(){e.enable("")}function o(u){var h,p;for(h=0,p=e.skips.length;h<p;h++)if(e.skips[h].test(u))return!1;for(h=0,p=e.names.length;h<p;h++)if(e.names[h].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}})(Lw,Lw.exports)),Lw.exports}var iF;function PAe(){return iF||(iF=1,(function(n,e){var t={};e=n.exports=IAe(),e.log=s,e.formatArgs=r,e.save=a,e.load=o,e.useColors=i,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:c(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function i(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(u){try{return JSON.stringify(u)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}};function r(u){var h=this.useColors;if(u[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+u[0]+(h?"%c ":" ")+"+"+e.humanize(this.diff),!!h){var p="color: "+this.color;u.splice(1,0,p,"color: inherit");var y=0,v=0;u[0].replace(/%[a-zA-Z%]/g,function(_){_!=="%%"&&(y++,_==="%c"&&(v=y))}),u.splice(v,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(u){try{u==null?e.storage.removeItem("debug"):e.storage.debug=u}catch{}}function o(){var u;try{u=e.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=t.DEBUG),u}e.enable(o());function c(){try{return window.localStorage}catch{}}})(Nw,Nw.exports)),Nw.exports}var Uw={exports:{}},rF;function DAe(){return rF||(rF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],n.exports=e.default})(Uw,Uw.exports)),Uw.exports}var kw={exports:{}},sF;function NAe(){return sF||(sF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=e.default})(kw,kw.exports)),kw.exports}var zw={exports:{}},Bw={exports:{}},aF;function LAe(){return aF||(aF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=e.default})(Bw,Bw.exports)),Bw.exports}var oF;function UAe(){return oF||(oF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=LAe(),i=r(t);function r(s){return s&&s.__esModule?s:{default:s}}e.default={pauseVideo:{acceptableStates:[i.default.ENDED,i.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[i.default.ENDED,i.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[i.default.ENDED,i.default.PLAYING,i.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=e.default})(zw,zw.exports)),zw.exports}var lF;function kAe(){return lF||(lF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=PAe(),i=h(t),r=DAe(),s=h(r),a=NAe(),o=h(a),c=UAe(),u=h(c);function h(v){return v&&v.__esModule?v:{default:v}}var p=(0,i.default)("youtube-player"),y={};y.proxyEvents=function(v){var _={},S=function(P){var U="on"+P.slice(0,1).toUpperCase()+P.slice(1);_[U]=function(I){p('event "%s"',U,I),v.trigger(P,I)}},E=!0,b=!1,w=void 0;try{for(var A=o.default[Symbol.iterator](),C;!(E=(C=A.next()).done);E=!0){var D=C.value;S(D)}}catch(L){b=!0,w=L}finally{try{!E&&A.return&&A.return()}finally{if(b)throw w}}return _},y.promisifyPlayer=function(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S={},E=function(U){_&&u.default[U]?S[U]=function(){for(var I=arguments.length,N=Array(I),F=0;F<I;F++)N[F]=arguments[F];return v.then(function(z){var V=u.default[U],K=z.getPlayerState(),ee=z[U].apply(z,N);return V.stateChangeRequired||Array.isArray(V.acceptableStates)&&V.acceptableStates.indexOf(K)===-1?new Promise(function(q){var $=function Q(){var re=z.getPlayerState(),de=void 0;typeof V.timeout=="number"&&(de=setTimeout(function(){z.removeEventListener("onStateChange",Q),q()},V.timeout)),Array.isArray(V.acceptableStates)&&V.acceptableStates.indexOf(re)!==-1&&(z.removeEventListener("onStateChange",Q),clearTimeout(de),q())};z.addEventListener("onStateChange",$)}).then(function(){return ee}):ee})}:S[U]=function(){for(var I=arguments.length,N=Array(I),F=0;F<I;F++)N[F]=arguments[F];return v.then(function(z){return z[U].apply(z,N)})}},b=!0,w=!1,A=void 0;try{for(var C=s.default[Symbol.iterator](),D;!(b=(D=C.next()).done);b=!0){var L=D.value;E(L)}}catch(P){w=!0,A=P}finally{try{!b&&C.return&&C.return()}finally{if(w)throw A}}return S},e.default=y,n.exports=e.default})(Dw,Dw.exports)),Dw.exports}var cF;function zAe(){return cF||(cF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},i=AAe(),r=u(i),s=RAe(),a=u(s),o=kAe(),c=u(o);function u(p){return p&&p.__esModule?p:{default:p}}var h=void 0;e.default=function(p){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=(0,r.default)();if(h||(h=(0,a.default)(_)),y.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');y.events=c.default.proxyEvents(_);var S=new Promise(function(b){if((typeof p>"u"?"undefined":t(p))==="object"&&p.playVideo instanceof Function){var w=p;b(w)}else h.then(function(A){var C=new A.Player(p,y);return _.on("ready",function(){b(C)}),null})}),E=c.default.promisifyPlayer(S,v);return E.on=_.on,E.off=_.off,E},n.exports=e.default})(Iw,Iw.exports)),Iw.exports}var BAe=zAe();const FAe=$p(BAe);var VAe=Object.defineProperty,HAe=Object.defineProperties,jAe=Object.getOwnPropertyDescriptors,uF=Object.getOwnPropertySymbols,GAe=Object.prototype.hasOwnProperty,qAe=Object.prototype.propertyIsEnumerable,fF=(n,e,t)=>e in n?VAe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,iD=(n,e)=>{for(var t in e||(e={}))GAe.call(e,t)&&fF(n,t,e[t]);if(uF)for(var t of uF(e))qAe.call(e,t)&&fF(n,t,e[t]);return n},rD=(n,e)=>HAe(n,jAe(e)),WAe=(n,e,t)=>new Promise((i,r)=>{var s=c=>{try{o(t.next(c))}catch(u){r(u)}},a=c=>{try{o(t.throw(c))}catch(u){r(u)}},o=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,a);o((t=t.apply(n,e)).next())});function $Ae(n,e){var t,i;if(n.videoId!==e.videoId)return!0;const r=((t=n.opts)==null?void 0:t.playerVars)||{},s=((i=e.opts)==null?void 0:i.playerVars)||{};return r.start!==s.start||r.end!==s.end}function hF(n={}){return rD(iD({},n),{height:0,width:0,playerVars:rD(iD({},n.playerVars),{autoplay:0,start:0,end:0})})}function XAe(n,e){return n.videoId!==e.videoId||!CAe(hF(n.opts),hF(e.opts))}function YAe(n,e){var t,i,r,s;return n.id!==e.id||n.className!==e.className||((t=n.opts)==null?void 0:t.width)!==((i=e.opts)==null?void 0:i.width)||((r=n.opts)==null?void 0:r.height)!==((s=e.opts)==null?void 0:s.height)||n.iframeClassName!==e.iframeClassName||n.title!==e.title}var KAe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},ZAe={videoId:va.string,id:va.string,className:va.string,iframeClassName:va.string,style:va.object,title:va.string,loading:va.oneOf(["lazy","eager"]),opts:va.objectOf(va.any),onReady:va.func,onError:va.func,onPlay:va.func,onPause:va.func,onEnd:va.func,onStateChange:va.func,onPlaybackRateChange:va.func,onPlaybackQualityChange:va.func},y2=class extends ar.Component{constructor(n){super(n),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var t,i;return(i=(t=this.props).onReady)==null?void 0:i.call(t,e)},this.onPlayerError=e=>{var t,i;return(i=(t=this.props).onError)==null?void 0:i.call(t,e)},this.onPlayerStateChange=e=>{var t,i,r,s,a,o,c,u;switch((i=(t=this.props).onStateChange)==null||i.call(t,e),e.data){case y2.PlayerState.ENDED:(s=(r=this.props).onEnd)==null||s.call(r,e);break;case y2.PlayerState.PLAYING:(o=(a=this.props).onPlay)==null||o.call(a,e);break;case y2.PlayerState.PAUSED:(u=(c=this.props).onPause)==null||u.call(c,e);break}},this.onPlayerPlaybackRateChange=e=>{var t,i;return(i=(t=this.props).onPlaybackRateChange)==null?void 0:i.call(t,e)},this.onPlayerPlaybackQualityChange=e=>{var t,i;return(i=(t=this.props).onPlaybackQualityChange)==null?void 0:i.call(t,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=rD(iD({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=FAe(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(t=>{this.props.title&&t.setAttribute("title",this.props.title),this.props.loading&&t.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(t=>{this.props.id?t.setAttribute("id",this.props.id):t.removeAttribute("id"),this.props.iframeClassName?t.setAttribute("class",this.props.iframeClassName):t.removeAttribute("class"),this.props.opts&&this.props.opts.width?t.setAttribute("width",this.props.opts.width.toString()):t.removeAttribute("width"),this.props.opts&&this.props.opts.height?t.setAttribute("height",this.props.opts.height.toString()):t.removeAttribute("height"),this.props.title?t.setAttribute("title",this.props.title):t.setAttribute("title","YouTube video player"),this.props.loading?t.setAttribute("loading",this.props.loading):t.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,t,i,r;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let s=!1;const a={videoId:this.props.videoId};if((t=this.props.opts)!=null&&t.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(a.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(a.endSeconds=this.props.opts.playerVars.end)),s){(i=this.internalPlayer)==null||i.loadVideoById(a);return}(r=this.internalPlayer)==null||r.cueVideoById(a)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(n){return WAe(this,null,function*(){YAe(n,this.props)&&this.updatePlayer(),XAe(n,this.props)&&(yield this.resetPlayer()),$Ae(n,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return ar.createElement("div",{className:this.props.className,style:this.props.style},ar.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},VM=y2;VM.propTypes=ZAe;VM.defaultProps=KAe;VM.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var QAe=VM;const JAe={position:"relative",width:"100%",paddingTop:"56.25%",background:"#000",borderRadius:"4px",overflow:"hidden",marginBottom:"25px","& iframe":{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},eMe="components.nodeConnectionViewer.",tMe=({open:n,onClose:e,nodeData:t})=>{const i=_de(t?.id??0),r=bde(i?.tab_ids),s=H.useRef(null),{t:a}=hy();return H.useLayoutEffect(()=>{if(!s.current)return;s.current.scrollTo({top:0,behavior:"auto"}),CA.timeline().to(s.current,{opacity:0,y:20,duration:.3,ease:"power1.inOut"}).set(s.current,{scrollTop:0}).to(s.current,{opacity:1,y:0,duration:.4,ease:"power2.out"}),Sn.setState({connectionViewerActiveStep:null})},[t]),Z.jsxs(Yq,{open:n,onClose:e,fullWidth:!0,maxWidth:"md",children:[Z.jsxs(Zq,{sx:{fontWeight:600,fontSize:"1.4rem"},children:[" ",NP(t?.name??"Node Name")," "]}),Z.jsxs(Kq,{dividers:!0,ref:s,sx:{overflowY:"auto"},children:[Z.jsxs(Df,{sx:JAe,children:[" ",t?.videoid&&t.videoid.length>30?Z.jsx("iframe",{src:`https://drive.google.com/file/d/${t.videoid}/preview`,width:"640",height:"360",allow:"autoplay",allowFullScreen:!0}):Z.jsx(QAe,{videoId:t?.videoid})," "]}),Z.jsxs(up,{direction:"row",spacing:1,mb:2,children:[" ",r.map(o=>Z.jsx(b_e,{label:NP(localStorage.getItem(tr.languageUser)==="es"?o.title_es||o.label:o.title_en||o.label),color:"success",size:"small",variant:"outlined"},o.id))," "]}),Z.jsx(oS,{sx:{my:2}})," ",Z.jsx(nMe,{nodeId:t?.id?t.id:0})," ",t?.description?.summary&&Z.jsxs(Df,{children:[Z.jsxs(Lr,{variant:"h4",gutterBottom:!0,children:[" ",a(eMe+"descriptionLabel")," "]}),Z.jsxs(Lr,{variant:"subtitle2",children:[" ",t.description.summary," "]}),Z.jsxs(kL,{children:[" ",t.description.points.map((o,c)=>Z.jsxs(eW,{sx:{py:.4},children:[" ",Z.jsx(jEe,{}),Z.jsx(zL,{primary:o})]},c))," "]})]})," "]})]})},op="components.nodeConnectionViewer.";function dF({children:n,activeTab:e,index:t}){const i=e===t;return Z.jsx(rS,{in:i,timeout:400,unmountOnExit:!0,children:Z.jsx(Df,{role:"tabpanel",id:`tabpanel-${t}`,"aria-labelledby":`tab-${t}`,sx:{p:2},children:n})})}function pF(n){return{id:`tab-${n}`,"aria-controls":`tabpanel-${n}`}}function nMe({nodeId:n}){const{t:e}=hy(),t=Sn(u=>u.linksData),i=Sn(u=>u.connectionViewerActiveStep),r=(u,h)=>{Sn.setState(p=>({connectionViewerActiveStep:p.connectionViewerActiveStep===h?null:h}))},s=u=>typeof u=="object"&&u!==null&&"id"in u,a=H.useMemo(()=>t.filter(u=>s(u.source)&&u.source.id===n||u.source===n).map(u=>u.target),[t,n]),o=H.useMemo(()=>t.filter(u=>s(u.target)&&u.target.id===n||u.target===n).map(u=>u.source),[t,n]),c=(u,h)=>u.length===0?Z.jsx(Lr,{variant:"body2",children:h}):Z.jsx(kL,{dense:!0,children:u.map((p,y)=>s(p)?Z.jsx(ar.Fragment,{children:Z.jsxs(WS,{sx:{width:"100%","& .MuiListItemText-primary, .MuiListItemText-secondary":{fontSize:"0.7rem",fontFamily:Wp.palette.typography.fontFamily}},children:[Z.jsxs(eW,{onClick:()=>{Sn.setState({nodeViewData:p})},children:[Z.jsx(px,{children:(()=>{const v=NP(p.group||"groupEmpty"),_=K9[v]||K9.default;return Z.jsx(_,{color:"primary"})})()}),Z.jsx(zL,{primary:p.name||`${e(op+"node")} ${p.id}`,secondary:p.group||e(op+"groupEmpty")})]}),y<u.length-1&&Z.jsx(oS,{variant:"inset"})]})},p.id):null)});return Z.jsxs(Df,{sx:{width:"100%","& .MuiTab-root":{fontSize:"0.85rem",fontFamily:Wp.palette.typography.fontFamily}},children:[Z.jsx(Df,{sx:{borderBottom:1,borderColor:"divider"},children:Z.jsxs(cSe,{value:i??!1,onChange:r,"aria-label":"Node connection viewer tabs",centered:!0,children:[Z.jsx(_6,{icon:Z.jsx(VEe,{}),iconPosition:"start",label:e(op+"ArrowBackToolTip"),...pF(0),onClick:()=>{i===0&&Sn.setState({connectionViewerActiveStep:null})}}),Z.jsx(_6,{icon:Z.jsx(HEe,{}),iconPosition:"end",label:e(op+"ArrowForwardToolTip"),...pF(1),onClick:()=>{i===1&&Sn.setState({connectionViewerActiveStep:null})}})]})}),Z.jsxs(dF,{activeTab:i,index:0,children:[Z.jsx(Lr,{variant:"subtitle2",gutterBottom:!0,children:e(op+"targetLabel")}),c(o,e(op+"targetLinksLabel"))]}),Z.jsxs(dF,{activeTab:i,index:1,children:[Z.jsx(Lr,{variant:"subtitle2",gutterBottom:!0,children:e(op+"sourceLabel")}),c(a,e(op+"sourceLinksLabel"))]})]})}const iMe={width:"80%",height:"90%",padding:"2rem",backgroundColor:"white",borderRadius:"10px",display:"flex",flexDirection:"column",position:"absolute",zIndex:"10",overflow:"auto"},Fw={marginBottom:"2rem",display:"flex",flexDirection:"row","& .MuiInputBase-root, .MuiFormControl-root":{width:"100%"}},rMe={width:"100%"},cs="components.configWindow.",sMe=()=>{const n=Sn(I=>I.languageGlobal),e=Sn(I=>I.dagModeConfig),t=Sn(I=>I.dagLevelDistanceConfig),i=Sn(I=>I.systemBjjSelectedNodes),r=Sn(I=>I.systemBjjSelectedLinks),[s,a]=H.useState(n),[o,c]=H.useState(e),[u,h]=H.useState(t),[p,y]=H.useState(i),[v,_]=H.useState(r),S=Sn(I=>I.loadSystems),E=Sn(I=>I.systemsOptions);H.useEffect(()=>{S()},[S]);const{t:b,i18n:w}=hy(),A=()=>{Sn.setState({languageGlobal:n,dagModeConfig:e,dagLevelDistanceConfig:t,isConfigWindowActive:!1})},C=I=>{const N=I.target.value;a({locale:N})},D=I=>{const N=I.target.value;c(N)},L=I=>{const N=Number(I.target.value);!Number.isNaN(N)&&N>=0&&N<=100&&h(N)},P=(I,N)=>{y(F=>F.includes(I)?F.filter(z=>z!==I):[...F,I]),_(F=>F.includes(N)?F.filter(z=>z!==N):[...F,N])},U=()=>{w.changeLanguage(s.locale),localStorage.setItem(tr.languageUser,s.locale),localStorage.setItem(tr.dagModeCache,o),localStorage.setItem(tr.dagLevelDistanceCache,String(u)),localStorage.setItem(tr.systemsCacheNameNodes,JSON.stringify(p)),localStorage.setItem(tr.systemsCacheNameLinks,JSON.stringify(v)),Sn.setState({languageGlobal:s,dagModeConfig:o,dagLevelDistanceConfig:u,systemBjjSelectedNodes:p,systemBjjSelectedLinks:v,isConfigWindowActive:!1})};return Z.jsxs(Df,{sx:iMe,children:[Z.jsx(yTe,{buttonFunction:A,isPositionAbsolute:!0}),Z.jsx(Lr,{variant:"h4",sx:{fontWeight:"600",marginBottom:"2rem"},children:b(cs+"title")}),Z.jsxs(Ub,{fullWidth:!0,sx:Fw,children:[Z.jsx(h2,{id:"language-select-label",children:b(cs+"language.label")}),Z.jsxs(GC,{labelId:"language-select-label",id:"language-select",defaultValue:n.locale,label:b(cs+"language.label"),onChange:C,children:[Z.jsx(Cl,{value:"es",children:b(cs+"es")}),Z.jsx(Cl,{value:"en",children:b(cs+"en")})]}),Z.jsx(pw,{content:b(cs+"language.description")})]}),Z.jsxs(Ub,{fullWidth:!0,sx:Fw,children:[Z.jsx(h2,{id:"dagMode-select-label",children:b(cs+"dagMode")}),Z.jsxs(GC,{labelId:"dagMode-select-label",id:"dagMode-select",value:o,label:b(cs+"dagMode"),onChange:D,children:[Z.jsx(Cl,{value:"td",children:b(cs+"dagMode.td")}),Z.jsx(Cl,{value:"bu",children:b(cs+"dagMode.bu")}),Z.jsx(Cl,{value:"lr",children:b(cs+"dagMode.lr")}),Z.jsx(Cl,{value:"rl",children:b(cs+"dagMode.rl")}),Z.jsx(Cl,{value:"radialout",children:b(cs+"dagMode.radialout")}),Z.jsx(Cl,{value:"radialin",children:b(cs+"dagMode.radialin")}),Z.jsx(Cl,{value:null,children:b(cs+"dagMode.none")})]}),Z.jsx(pw,{content:b(cs+"dagMode.description")})]}),Z.jsxs(Ub,{fullWidth:!0,sx:Fw,children:[Z.jsx(pSe,{id:"outlined-number",label:b(cs+"dagLevelDistance"),type:"number",value:u,onChange:L,slotProps:{inputLabel:{shrink:!0}}}),Z.jsx(pw,{content:b(cs+"dagLevelDistance.description")})]}),Z.jsx(h2,{id:"system-select-label",children:b(cs+"system")}),Z.jsxs(Ub,{fullWidth:!0,sx:Fw,children:[Z.jsx(A_,{sx:rMe,children:Z.jsx(nW,{dense:!0,children:E.map(I=>Z.jsx(Df,{sx:{marginBottom:2},children:Z.jsxs(Qye,{children:[Z.jsx(Sve,{expandIcon:Z.jsx(WEe,{}),"aria-controls":"panel1-content",id:"panel1-header",children:Z.jsx(Lr,{component:"span",children:I.name})}),Z.jsx(nve,{children:I.systems.map(N=>Z.jsxs(Cl,{selected:p.includes(N.valueNodes),onClick:()=>P(N.valueNodes,N.valueLinks),children:[p.includes(N.valueNodes)&&Z.jsx(px,{children:Z.jsx(GEe,{color:"primary"})}),Z.jsx(zL,{children:N.label})]},N.valueNodes))})]})},I.label))})}),Z.jsx(pw,{content:b(cs+"system.description")})]}),Z.jsx(WS,{variant:"contained",color:"primary",onClick:U,children:b(cs+"buttonClose")})]})},aMe=ar.memo(sMe),oMe=Wp.palette.typography.fontFamily,lMe=Z.jsx(xq,{styles:{html:{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh"},body:{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh"},"#root":{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh",fontFamily:oMe}}}),cMe={display:"flex",alignItems:"center",justifyContent:"center"},uMe={width:"100vw",height:"100vh"},mF="components.app.",fMe=()=>{const n=Sn(u=>u.nodeViewData),e=Sn(u=>u.isNodeSceneViewActive),t=Sn(u=>u.isConfigWindowActive),i=Sn(u=>u.overlayDontShowAgain),r=Sn(u=>u.showFullGraph),s=()=>{Sn.setState({showFullGraph:!r})},{t:a}=hy(),o=H.useRef(null),c=H.useCallback(()=>{Sn.setState({isNodeSceneViewActive:!1}),o.current&&yde(o.current)},[o]);return Z.jsxs(Z.Fragment,{children:[lMe,Z.jsxs("div",{style:cMe,children:[t?Z.jsx(aMe,{}):Z.jsx(mTe,{}),Z.jsxs("div",{style:uMe,children:[t?Z.jsx(Z.Fragment,{}):Z.jsx(WS,{style:{position:"absolute",top:20,left:20,zIndex:10,backgroundColor:"white",padding:"0.5rem 1rem"},onClick:s,children:r?` ${a(mF+"collapsedNodes")}`:` ${a(mF+"expandNodes")}`}),Z.jsxs(wEe,{camera:{fov:ug.fov,near:ug.near,far:ug.far,position:ug.position},style:{backgroundColor:d2.canvasBackgraundColor},children:[Z.jsx(vTe,{cameraControlsRef:o}),Z.jsx(DEe,{ref:o,dollySpeed:ug.dollySpeed,maxDistance:ug.maxDistance,minDistance:ug.minDistance})]})]}),i?null:Z.jsx(EAe,{}),Z.jsx(gTe,{}),Z.jsx(tMe,{open:e,onClose:c,nodeData:n})]})]})};function hMe(){const n=Sn(t=>t.systemBjjSelectedNodes),{i18n:e}=hy();return H.useEffect(()=>{const t=localStorage.getItem(tr.languageUser)??tr.languageDefault;Sn.setState({languageGlobal:{locale:t}}),localStorage.setItem(tr.dagModeCache,tr.dagMode),localStorage.setItem(tr.dagLevelDistanceCache,String(tr.dagLevelDistance)),localStorage.setItem(tr.languageUser,t),e.changeLanguage(t)},[n]),Z.jsx(xY,{children:Z.jsx(XF,{path:uW.root,element:Z.jsx(fMe,{})})})}const wn=n=>typeof n=="string",Eb=()=>{let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t},gF=n=>n==null?"":""+n,dMe=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},pMe=/###/g,yF=n=>n&&n.indexOf("###")>-1?n.replace(pMe,"."):n,vF=n=>!n||wn(n),yx=(n,e,t)=>{const i=wn(e)?e.split("."):e;let r=0;for(;r<i.length-1;){if(vF(n))return{};const s=yF(i[r]);!n[s]&&t&&(n[s]=new t),Object.prototype.hasOwnProperty.call(n,s)?n=n[s]:n={},++r}return vF(n)?{}:{obj:n,k:yF(i[r])}},_F=(n,e,t)=>{const{obj:i,k:r}=yx(n,e,Object);if(i!==void 0||e.length===1){i[r]=t;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=yx(n,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=yx(n,a,Object),o?.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=t},mMe=(n,e,t,i)=>{const{obj:r,k:s}=yx(n,e,Object);r[s]=r[s]||[],r[s].push(t)},tA=(n,e)=>{const{obj:t,k:i}=yx(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},gMe=(n,e,t)=>{const i=tA(n,t);return i!==void 0?i:tA(e,t)},S$=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?wn(n[i])||n[i]instanceof String||wn(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):S$(n[i],e[i],t):n[i]=e[i]);return n},$v=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var yMe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const vMe=n=>wn(n)?n.replace(/[&<>"'\/]/g,e=>yMe[e]):n;class _Me{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const bMe=[" ",",","?","!",";"],xMe=new _Me(20),SMe=(n,e,t)=>{e=e||"",t=t||"";const i=bMe.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(i.length===0)return!0;const r=xMe.getRegExp(`(${i.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!r.test(n);if(!s){const a=n.indexOf(t);a>0&&!r.test(n.substring(0,a))&&(s=!0)}return s},sD=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let r=n;for(let s=0;s<i.length;){if(!r||typeof r!="object")return;let a,o="";for(let c=s;c<i.length;++c)if(c!==s&&(o+=t),o+=i[c],a=r[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<i.length-1)continue;s+=c-s+1;break}r=a}return r},uS=n=>n?.replace("_","-"),EMe={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};class nA{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||EMe,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,r){return r&&!this.debug?null:(wn(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new nA(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new nA(this.logger,e)}}var bf=new nA;class HM{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const r=this.observers[i].get(t)||0;this.observers[i].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,s])=>{for(let a=0;a<s;a++)r(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,s])=>{for(let a=0;a<s;a++)r.apply(r,[e,...t])})}}class bF extends HM{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i,r={}){const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,a=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],i&&(Array.isArray(i)?o.push(...i):wn(i)&&s?o.push(...i.split(s)):o.push(i)));const c=tA(this.data,o);return!c&&!t&&!i&&e.indexOf(".")>-1&&(e=o[0],t=o[1],i=o.slice(2).join(".")),c||!a||!wn(i)?c:sD(this.data?.[e]?.[t],i,s)}addResource(e,t,i,r,s={silent:!1}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,t];i&&(o=o.concat(a?i.split(a):i)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),_F(this.data,o,r),s.silent||this.emit("added",e,t,i,r)}addResources(e,t,i,r={silent:!1}){for(const s in i)(wn(i[s])||Array.isArray(i[s]))&&this.addResource(e,t,s,i[s],{silent:!0});r.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,r,s,a={silent:!1,skipCopy:!1}){let o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),r=i,i=t,t=o[1]),this.addNamespaces(t);let c=tA(this.data,o)||{};a.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?S$(c,i,s):c={...c,...i},_F(this.data,o,c),a.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var E$={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,r){return n.forEach(s=>{e=this.processors[s]?.process(e,t,i,r)??e}),e}};const T$=Symbol("i18next/PATH_KEY");function TMe(){const n=[],e=Object.create(null);let t;return e.get=(i,r)=>(t?.revoke?.(),r===T$?n:(n.push(r),t=Proxy.revocable(i,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function aD(n,e){const{[T$]:t}=n(TMe());return t.join(e?.keySeparator??".")}const xF={},eI=n=>!wn(n)&&typeof n!="boolean"&&typeof n!="number";class iA extends HM{constructor(e,t={}){super(),dMe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=bf.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const i={...t};if(e==null)return!1;const r=this.resolve(e,i);if(r?.res===void 0)return!1;const s=eI(r.res);return!(i.returnObjects===!1&&s)}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const a=i&&e.indexOf(i)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!SMe(e,i,r);if(a&&!o){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:wn(s)?[s]:s};const u=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(r)}return{key:e,namespaces:wn(s)?[s]:s}}translate(e,t,i){let r=typeof t=="object"?{...t}:t;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";typeof e=="function"&&(e=aD(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const s=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(e[e.length-1],r),u=c[c.length-1];let h=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const p=r.lng||this.language,y=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p?.toLowerCase()==="cimode")return y?s?{res:`${u}${h}${o}`,usedKey:o,exactUsedKey:o,usedLng:p,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:`${u}${h}${o}`:s?{res:o,usedKey:o,exactUsedKey:o,usedLng:p,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:o;const v=this.resolve(e,r);let _=v?.res;const S=v?.usedKey||o,E=v?.exactUsedKey||o,b=["[object Number]","[object Function]","[object RegExp]"],w=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,C=r.count!==void 0&&!wn(r.count),D=iA.hasDefaultValue(r),L=C?this.pluralResolver.getSuffix(p,r.count,r):"",P=r.ordinal&&C?this.pluralResolver.getSuffix(p,r.count,{ordinal:!1}):"",U=C&&!r.ordinal&&r.count===0,I=U&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${L}`]||r[`defaultValue${P}`]||r.defaultValue;let N=_;A&&!_&&D&&(N=I);const F=eI(N),z=Object.prototype.toString.apply(N);if(A&&N&&F&&b.indexOf(z)<0&&!(wn(w)&&Array.isArray(N))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,N,{...r,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(v.res=V,v.usedParams=this.getUsedParamsDetails(r),v):V}if(a){const V=Array.isArray(N),K=V?[]:{},ee=V?E:S;for(const q in N)if(Object.prototype.hasOwnProperty.call(N,q)){const $=`${ee}${a}${q}`;D&&!_?K[q]=this.translate($,{...r,defaultValue:eI(I)?I[q]:void 0,joinArrays:!1,ns:c}):K[q]=this.translate($,{...r,joinArrays:!1,ns:c}),K[q]===$&&(K[q]=N[q])}_=K}}else if(A&&wn(w)&&Array.isArray(_))_=_.join(w),_&&(_=this.extendTranslation(_,e,r,i));else{let V=!1,K=!1;!this.isValidLookup(_)&&D&&(V=!0,_=I),this.isValidLookup(_)||(K=!0,_=o);const q=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&K?void 0:_,$=D&&I!==_&&this.options.updateMissing;if(K||V||$){if(this.logger.log($?"updateKey":"missingKey",p,u,o,$?I:_),a){const Y=this.resolve(o,{...r,keySeparator:!1});Y&&Y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Q=[];const re=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&re&&re[0])for(let Y=0;Y<re.length;Y++)Q.push(re[Y]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(r.lng||this.language):Q.push(r.lng||this.language);const de=(Y,le,pe)=>{const ue=D&&pe!==_?pe:q;this.options.missingKeyHandler?this.options.missingKeyHandler(Y,u,le,ue,$,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(Y,u,le,ue,$,r),this.emit("missingKey",Y,u,le,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?Q.forEach(Y=>{const le=this.pluralResolver.getSuffixes(Y,r);U&&r[`defaultValue${this.options.pluralSeparator}zero`]&&le.indexOf(`${this.options.pluralSeparator}zero`)<0&&le.push(`${this.options.pluralSeparator}zero`),le.forEach(pe=>{de([Y],o+pe,r[`defaultValue${pe}`]||I)})}):de(Q,o,I))}_=this.extendTranslation(_,e,r,v,i),K&&_===o&&this.options.appendNamespaceToMissingKey&&(_=`${u}${h}${o}`),(K||V)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${h}${o}`:o,V?_:void 0,r))}return s?(v.res=_,v.usedParams=this.getUsedParamsDetails(r),v):_}extendTranslation(e,t,i,r,s){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const c=wn(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const p=e.match(this.interpolator.nestingRegexp);u=p&&p.length}let h=i.replace&&!wn(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,i.lng||this.language||r.usedLng,i),c){const p=e.match(this.interpolator.nestingRegexp),y=p&&p.length;u<y&&(i.nest=!1)}!i.lng&&r&&r.res&&(i.lng=this.language||r.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>s?.[0]===p[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):this.translate(...p,t),i)),i.interpolation&&this.interpolator.reset()}const a=i.postProcess||this.options.postProcess,o=wn(a)?[a]:a;return e!=null&&o?.length&&i.applyPostProcessor!==!1&&(e=E$.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,t={}){let i,r,s,a,o;return wn(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(i))return;const u=this.extractFromKey(c,t),h=u.key;r=h;let p=u.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const y=t.count!==void 0&&!wn(t.count),v=y&&!t.ordinal&&t.count===0,_=t.context!==void 0&&(wn(t.context)||typeof t.context=="number")&&t.context!=="",S=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);p.forEach(E=>{this.isValidLookup(i)||(o=E,!xF[`${S[0]}-${E}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(xF[`${S[0]}-${E}`]=!0,this.logger.warn(`key "${r}" for languages "${S.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(b=>{if(this.isValidLookup(i))return;a=b;const w=[h];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(w,h,b,E,t);else{let C;y&&(C=this.pluralResolver.getSuffix(b,t.count,t));const D=`${this.options.pluralSeparator}zero`,L=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(t.ordinal&&C.indexOf(L)===0&&w.push(h+C.replace(L,this.options.pluralSeparator)),w.push(h+C),v&&w.push(h+D)),_){const P=`${h}${this.options.contextSeparator||"_"}${t.context}`;w.push(P),y&&(t.ordinal&&C.indexOf(L)===0&&w.push(P+C.replace(L,this.options.pluralSeparator)),w.push(P+C),v&&w.push(P+D))}}let A;for(;A=w.pop();)this.isValidLookup(i)||(s=A,i=this.getResource(b,E,A,t))}))})}),{res:i,usedKey:r,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,i,r):this.resourceStore.getResource(e,t,i,r)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!wn(e.replace);let r=i?e.replace:e;if(i&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!i){r={...r};for(const s of t)delete r[s]}return r}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class SF{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=bf.create("languageUtils")}getScriptPartFromCode(e){if(e=uS(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=uS(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(wn(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const r=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const r=this.getScriptPartFromCode(i);if(this.isSupportedCode(r))return t=r;const s=this.getLanguagePartFromCode(i);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),wn(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),r=[],s=a=>{a&&(this.isSupportedCode(a)?r.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return wn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):wn(e)&&s(this.formatLanguageCode(e)),i.forEach(a=>{r.indexOf(a)<0&&s(this.formatLanguageCode(a))}),r}}const EF={zero:0,one:1,two:2,few:3,many:4,other:5},TF={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class wMe{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=bf.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const i=uS(e==="dev"?"en":e),r=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:i,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(i,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),TF;if(!e.match(/-|_/))return TF;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,t)}return this.pluralRulesCache[s]=a,a}needsPlural(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,i={}){return this.getSuffixes(e,i).map(r=>`${t}${r}`)}getSuffixes(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((r,s)=>EF[r]-EF[s]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,t,i={}){const r=this.getRule(e,i);return r?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const wF=(n,e,t,i=".",r=!0)=>{let s=gMe(n,e,t);return!s&&r&&wn(t)&&(s=sD(n,t,i),s===void 0&&(s=sD(e,t,i))),s},tI=n=>n.replace(/\$/g,"$$$$");class CF{constructor(e={}){this.logger=bf.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:r,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:c,formatSeparator:u,unescapeSuffix:h,unescapePrefix:p,nestingPrefix:y,nestingPrefixEscaped:v,nestingSuffix:_,nestingSuffixEscaped:S,nestingOptionsSeparator:E,maxReplaces:b,alwaysFormat:w}=e.interpolation;this.escape=t!==void 0?t:vMe,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?$v(s):a||"{{",this.suffix=o?$v(o):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=y?$v(y):v||$v("$t("),this.nestingSuffix=_?$v(_):S||$v(")"),this.nestingOptionsSeparator=E||",",this.maxReplaces=b||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>t?.source===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,i,r){let s,a,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=v=>{if(v.indexOf(this.formatSeparator)<0){const b=wF(t,c,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,i,{...r,...t,interpolationkey:v}):b}const _=v.split(this.formatSeparator),S=_.shift().trim(),E=_.join(this.formatSeparator).trim();return this.format(wF(t,c,S,this.options.keySeparator,this.options.ignoreJSONStructure),E,i,{...r,...t,interpolationkey:S})};this.resetRegExp();const h=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>tI(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?tI(this.escape(v)):tI(v)}].forEach(v=>{for(o=0;s=v.regex.exec(e);){const _=s[1].trim();if(a=u(_),a===void 0)if(typeof h=="function"){const E=h(e,s,r);a=wn(E)?E:""}else if(r&&Object.prototype.hasOwnProperty.call(r,_))a="";else if(p){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${e}`),a="";else!wn(a)&&!this.useRawValueToEscape&&(a=gF(a));const S=v.safeValue(a);if(e=e.replace(s[0],S),p?(v.regex.lastIndex+=a.length,v.regex.lastIndex-=s[0].length):v.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t,i={}){let r,s,a;const o=(c,u)=>{const h=this.nestingOptionsSeparator;if(c.indexOf(h)<0)return c;const p=c.split(new RegExp(`${h}[ ]*{`));let y=`{${p[1]}`;c=p[0],y=this.interpolate(y,a);const v=y.match(/'/g),_=y.match(/"/g);((v?.length??0)%2===0&&!_||_.length%2!==0)&&(y=y.replace(/'/g,'"'));try{a=JSON.parse(y),u&&(a={...u,...a})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,S),`${c}${h}${y}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;r=this.nestingRegexp.exec(e);){let c=[];a={...i},a=a.replace&&!wn(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(u!==-1&&(c=r[1].slice(u).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),r[1]=r[1].slice(0,u)),s=t(o.call(this,r[1].trim(),a),a),s&&r[0]===e&&!wn(s))return s;wn(s)||(s=gF(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),c.length&&(s=c.reduce((h,p)=>this.format(h,p,i.lng,{...i,interpolationkey:r[1].trim()}),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}}const CMe=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(a=>{if(a){const[o,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),h=o.trim();t[h]||(t[h]=u),u==="false"&&(t[h]=!1),u==="true"&&(t[h]=!0),isNaN(u)||(t[h]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},AF=n=>{const e={};return(t,i,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s={...s,[r.interpolationkey]:void 0});const a=i+JSON.stringify(s);let o=e[a];return o||(o=n(uS(i),r),e[a]=o),o(t)}},AMe=n=>(e,t,i)=>n(uS(t),i)(e);class MMe{constructor(e={}){this.logger=bf.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const i=t.cacheInBuiltFormats?AF:AMe;this.formats={number:i((r,s)=>{const a=new Intl.NumberFormat(r,{...s});return o=>a.format(o)}),currency:i((r,s)=>{const a=new Intl.NumberFormat(r,{...s,style:"currency"});return o=>a.format(o)}),datetime:i((r,s)=>{const a=new Intl.DateTimeFormat(r,{...s});return o=>a.format(o)}),relativetime:i((r,s)=>{const a=new Intl.RelativeTimeFormat(r,{...s});return o=>a.format(o,s.range||"day")}),list:i((r,s)=>{const a=new Intl.ListFormat(r,{...s});return o=>a.format(o)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=AF(t)}format(e,t,i,r={}){const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,c)=>{const{formatName:u,formatOptions:h}=CMe(c);if(this.formats[u]){let p=o;try{const y=r?.formatParams?.[r.interpolationkey]||{},v=y.locale||y.lng||r.locale||r.lng||i;p=this.formats[u](o,v,{...h,...r,...y})}catch(y){this.logger.warn(y)}return p}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const RMe=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class OMe extends HM{constructor(e,t,i,r={}){super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=bf.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,r.backend,r)}queueLoad(e,t,i,r){const s={},a={},o={},c={};return e.forEach(u=>{let h=!0;t.forEach(p=>{const y=`${u}|${p}`;!i.reload&&this.store.hasResourceBundle(u,p)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?a[y]===void 0&&(a[y]=!0):(this.state[y]=1,h=!1,a[y]===void 0&&(a[y]=!0),s[y]===void 0&&(s[y]=!0),c[p]===void 0&&(c[p]=!0)))}),h||(o[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(e,t,i){const r=e.split("|"),s=r[0],a=r[1];t&&this.emit("failedLoading",s,a,t),!t&&i&&this.store.addResourceBundle(s,a,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const o={};this.queue.forEach(c=>{mMe(c.loaded,[s],a),RMe(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{o[u]||(o[u]={});const h=c.loaded[u];h.length&&h.forEach(p=>{o[u][p]===void 0&&(o[u][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(e,t,i,r=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:r,wait:s,callback:a});return}this.readingCalls++;const o=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(u&&h&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,r+1,s*2,a)},s);return}a(u,h)},c=this.backend[i].bind(this.backend);if(c.length===2){try{const u=c(e,t);u&&typeof u.then=="function"?u.then(h=>o(null,h)).catch(o):o(null,u)}catch(u){o(u)}return}return c(e,t,o)}prepareLoading(e,t,i={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();wn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),wn(t)&&(t=[t]);const s=this.queueLoad(e,t,i,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e,t=""){const i=e.split("|"),r=i[0],s=i[1];this.read(r,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${s} for language ${r} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${s} for language ${r}`,o),this.loaded(e,a,o)})}saveMissing(e,t,i,r,s,a={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const c={...a,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let h;u.length===5?h=u(e,t,i,r,c):h=u(e,t,i,r),h&&typeof h.then=="function"?h.then(p=>o(null,p)).catch(o):o(null,h)}catch(h){o(h)}else u(e,t,i,r,o,c)}!e||!e[0]||this.store.addResource(e[0],t,i,r)}}}const MF=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),wn(n[1])&&(e.defaultValue=n[1]),wn(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),RF=n=>(wn(n.ns)&&(n.ns=[n.ns]),wn(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),wn(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),Vw=()=>{},IMe=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class vx extends HM{constructor(e={},t){if(super(),this.options=RF(e),this.services={},this.logger=bf,this.modules={external:[]},IMe(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(wn(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=MF();this.options={...i,...this.options,...RF(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler);const r=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?bf.init(r(this.modules.logger),this.options):bf.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=MMe;const h=new SF(this.options);this.store=new bF(this.options.resources,this.options);const p=this.services;p.logger=bf,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new wMe(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(p.formatter=r(u),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new CF(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new OMe(r(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(v,..._)=>{this.emit(v,..._)}),this.modules.languageDetector&&(p.languageDetector=r(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=r(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new iA(this.services,this.options),this.translator.on("*",(v,..._)=>{this.emit(v,..._)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Vw),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...h)=>this.store[u](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...h)=>(this.store[u](...h),this)});const o=Eb(),c=()=>{const u=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(p),t(h,p)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),o}loadResources(e,t=Vw){let i=t;const r=wn(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const s=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};r?a(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>a(c)),this.options.preload?.forEach?.(o=>a(o)),this.services.backendConnector.load(s,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(o)})}else i(null)}reloadResources(e,t,i){const r=Eb();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=Vw),this.services.backendConnector.reload(e,t,s=>{r.resolve(),i(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&E$.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const i=Eb();this.emit("languageChanging",e);const r=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},s=(o,c)=>{c?this.isLanguageChangingTo===e&&(r(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve((...u)=>this.t(...u)),t&&t(o,(...u)=>this.t(...u))},a=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const c=wn(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(wn(o)?[o]:o);u&&(this.language||r(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,h=>{s(h,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,t,i){const r=(s,a,...o)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([s,a].concat(o)):c={...a},c.lng=c.lng||r.lng,c.lngs=c.lngs||r.lngs,c.ns=c.ns||r.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||i||r.keyPrefix);const u=this.options.keySeparator||".";let h;return c.keyPrefix&&Array.isArray(s)?h=s.map(p=>(typeof p=="function"&&(p=aD(p,{...this.options,...a})),`${c.keyPrefix}${u}${p}`)):(typeof s=="function"&&(s=aD(s,{...this.options,...a})),h=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(h,c)};return wn(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=i,r}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const a=(o,c)=>{const u=this.services.backendConnector.state[`${o}|${c}`];return u===-1||u===0||u===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(i,e)&&(!r||a(s,e)))}loadNamespaces(e,t){const i=Eb();return this.options.ns?(wn(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{i.resolve(),t&&t(r)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=Eb();wn(e)&&(e=[e]);const r=this.options.preload||[],s=e.filter(a=>r.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=r.concat(s),this.loadResources(a=>{i.resolve(),t&&t(a)}),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const r=new Intl.Locale(e);if(r&&r.getTextInfo){const s=r.getTextInfo();if(s&&s.direction)return s.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new SF(MF());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const i=new vx(e,t);return i.createInstance=vx.createInstance,i}cloneInstance(e={},t=Vw){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},s=new vx(r);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i){const o=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((h,p)=>(h[p]={...c[u][p]},h),c[u]),c),{});s.store=new bF(o,r),s.services.resourceStore=s.store}return e.interpolation&&(s.services.interpolator=new CF(r)),s.translator=new iA(s.services,r),s.translator.on("*",(o,...c)=>{s.emit(o,...c)}),s.init(r,t),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Do=vx.createInstance();Do.createInstance;Do.dir;Do.init;Do.loadResources;Do.reloadResources;Do.use;Do.changeLanguage;Do.getFixedT;Do.t;Do.exists;Do.setDefaultNamespace;Do.hasLoadedNamespace;Do.loadNamespaces;Do.loadLanguages;const PMe={app:{closed:"Session closed",login:"Session started",collapsedNodes:"Collapse Nodes",expandNodes:"Expand Nodes"},accountMenu:{title:"User Menu",triggerAlert:"Session closed",optionsMenu:{login:"Log in",addNode:"Add Node",configuration:"Settings",logOut:"Log out"}},configWindow:{title:"Settings","language.label":"Language","language.description":"Select the preferred application language.",es:"Spanish",en:"English",dagMode:"Hierarchy layout direction","dagMode.description":"Determines how nodes are positioned based on their hierarchy.","dagMode.td":"Top  Down","dagMode.bu":"Bottom  Up","dagMode.lr":"Left  Right","dagMode.rl":"Right  Left","dagMode.radialout":"Radial Outward","dagMode.radialin":"Radial Inward","dagMode.none":"No hierarchy",dagLevelDistance:"Level separation","dagLevelDistance.description":"Sets the spacing between each hierarchical level in the graph(0 - 100).",buttonClose:"Close and Save",system:"Select System Bjj","system.description":"Select the Brazilian Jiu-Jitsu systems you want to load into the visualization. Each activated system will add its positions and transitions to the main graph."},buttonAddNode:{title:"Add Nodes"},navigationgestures:{touch:{title:"Use touch gestures to navigate the scene",text1:"Swipe with one finger: Orbit",text2:"Swipe with two fingers: Pan view",text3:"Pinch with two fingers: Zoom in/out"},desk:{title:"Use the mouse to navigate the scene",text1:"Left click + drag: Orbit",text2:"Right click + drag: Pan view",text3:"Mouse wheel (scroll): Zoom in/out"},checkBoxLabel:"Do not show this again",buttonClose:"Close"},loginUser:{title:"Login to your account",loginGoogle:"Log in with Google"},nodeView:{title:"Video Player",subTitle:"View and analyze the video content below.",brandTitle:"Timestamp Controls",brandSubTitle:"Define the start and end points for specific video segments.",timeBrand:"Select video timestamps:",timeBrandPreview:"Select preview timestamps:",timeBrandInit:"Start:",timeBrandEnd:"End:",timeBrandAll:"Use full video"},nodeConnectionViewer:{ArrowBackToolTip:"Go Back",ArrowForwardToolTip:"Go Forward",groupEmpty:"Unassigned Group",node:"Node",sourceLinksLabel:"This node has no outgoing connections.",targetLinksLabel:"This node has no incoming connections.",sourceLabel:"Outgoing Connections",targetLabel:"Incoming Connections",descriptionLabel:"Description"}},DMe={components:PMe},NMe={app:{closed:"Sesin  cerrada",login:"Sesin  iniciada",collapsedNodes:"Colapsar Nodos",expandNodes:"Expandir Nodos"},accountMenu:{title:"Men Usuario",triggerAlert:"Sesin Cerrada",optionsMenu:{login:"Iniciar sesin",addNode:"Agregar Nodo",configuration:"Configuracin",logOut:"Cerrar sesin"}},configWindow:{title:"Configuracin","language.label":"Idioma","language.description":"Selecciona el idioma preferido de la aplicacin.",es:"Espaol",en:"Ingls",dagMode:"Direccin del layout jerrquico","dagMode.description":"Determina cmo se disponen los nodos en el espacio segn su jerarqua.","dagMode.td":"Arriba  Abajo","dagMode.bu":"Abajo  Arriba","dagMode.lr":"Izquierda  Derecha","dagMode.rl":"Derecha  Izquierda","dagMode.radialout":"Radial  Hacia afuera","dagMode.radialin":"Radial  Hacia adentro","dagMode.none":"Sin jerarqua",dagLevelDistance:"Separacin entre niveles","dagLevelDistance.description":"Define la distancia entre cada nivel jerrquico en el grafo(0 - 100).",buttonClose:"Cerrar y Guardar",system:"Escoger Sistema BJJ","system.description":"Selecciona los sistemas de Jiu-Jitsu Brasileo que deseas cargar en la visualizacin. Cada sistema activado aadir sus posiciones y transiciones al grafo principal."},buttonAddNode:{title:"Agregar Nodos"},navigationgestures:{touch:{title:"Usa gestos tctiles para navegar la escena",text1:"Deslizar con un dedo: Orbitar",text2:"Deslizar con dos dedos: Desplazar vista",text3:"Pellizcar con dos dedos Acercar/Alejar (Zoom)"},desk:{title:"Usa el mouse para navegar la escena",text1:"Clic izquierdo + arrastrar: Orbitar",text2:"Clic derecho + arrastrar: Desplazar vista",text3:"Rueda del mouse (scroll): Acercar/Alejar"},checkBoxLabel:"No volver a mostrar esto",buttonClose:"Cerrar"},loginUser:{title:"Inicia sesin en tu cuenta",loginGoogle:"Iniciar sesin con Google"},nodeView:{title:"Reproductor de Video",subTitle:"Visualice y analice el contenido del video a continuacin.",brandTitle:"Controles de Marcas de Tiempo",brandSubTitle:"Defina los puntos de inicio y fin para segmentos especficos del video.",timeBrand:"Seleccionar marcas de tiempo del video:",timeBrandPreview:"Seleccionar marcas de tiempo del preview: ",timeBrandInit:"Inicio: ",timeBrandEnd:"Final: ",timeBrandAll:"Usar video completo"},nodeConnectionViewer:{ArrowBackToolTip:"Retroceder",ArrowForwardToolTip:"Avanzar",groupEmpty:"Grupo no asignado",node:"Nodo",sourceLinksLabel:"Este nodo no tiene conexiones salientes.",targetLinksLabel:"Este nodo no tiene conexiones entrantes.",sourceLabel:"Conexiones salientes",targetLabel:"Conexiones entrantes",descriptionLabel:"Descripcin"}},LMe={components:NMe},UMe={en:{translation:DMe},es:{translation:LMe}};Do.use(oTe).init({resources:UMe,fallbackLng:tr.languageDefault,debug:!1,interpolation:{escapeValue:!1}});TX.createRoot(document.getElementById("root")).render(Z.jsx(H.StrictMode,{children:Z.jsx(ZK,{domain:void 0,clientId:void 0,authorizationParams:{redirect_uri:window.location.origin},cacheLocation:"localstorage",useRefreshTokens:!0,children:Z.jsx(qY,{basename:"/",children:Z.jsx(hMe,{})})})}));
