function fX(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function $p(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yR={exports:{}},N1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H4;function hX(){if(H4)return N1;H4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return N1.Fragment=e,N1.jsx=t,N1.jsxs=t,N1}var j4;function dX(){return j4||(j4=1,yR.exports=hX()),yR.exports}var Z=dX(),vR={exports:{}},wn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G4;function pX(){if(G4)return wn;G4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=y&&Y[y]||Y["@@iterator"],typeof Y=="function"?Y:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function x(Y,le,pe){this.props=Y,this.context=le,this.refs=E,this.updater=pe||_}x.prototype.isReactComponent={},x.prototype.setState=function(Y,le){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,le,"setState")},x.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function w(){}w.prototype=x.prototype;function M(Y,le,pe){this.props=Y,this.context=le,this.refs=E,this.updater=pe||_}var C=M.prototype=new w;C.constructor=M,S(C,x.prototype),C.isPureReactComponent=!0;var D=Array.isArray;function L(){}var I={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function P(Y,le,pe){var ue=pe.ref;return{$$typeof:n,type:Y,key:le,ref:ue!==void 0?ue:null,props:pe}}function U(Y,le){return P(Y.type,le,Y.props)}function V(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function z(Y){var le={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(pe){return le[pe]})}var F=/\/+/g;function K(Y,le){return typeof Y=="object"&&Y!==null&&Y.key!=null?z(""+Y.key):le.toString(36)}function ee(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(L,L):(Y.status="pending",Y.then(function(le){Y.status==="pending"&&(Y.status="fulfilled",Y.value=le)},function(le){Y.status==="pending"&&(Y.status="rejected",Y.reason=le)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function q(Y,le,pe,ue,ie){var he=typeof Y;(he==="undefined"||he==="boolean")&&(Y=null);var ye=!1;if(Y===null)ye=!0;else switch(he){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(Y.$$typeof){case n:case e:ye=!0;break;case h:return ye=Y._init,q(ye(Y._payload),le,pe,ue,ie)}}if(ye)return ie=ie(Y),ye=ue===""?"."+K(Y,0):ue,D(ie)?(pe="",ye!=null&&(pe=ye.replace(F,"$&/")+"/"),q(ie,le,pe,"",function(Ge){return Ge})):ie!=null&&(V(ie)&&(ie=U(ie,pe+(ie.key==null||Y&&Y.key===ie.key?"":(""+ie.key).replace(F,"$&/")+"/")+ye)),le.push(ie)),1;ye=0;var Ve=ue===""?".":ue+":";if(D(Y))for(var Xe=0;Xe<Y.length;Xe++)ue=Y[Xe],he=Ve+K(ue,Xe),ye+=q(ue,le,pe,he,ie);else if(Xe=v(Y),typeof Xe=="function")for(Y=Xe.call(Y),Xe=0;!(ue=Y.next()).done;)ue=ue.value,he=Ve+K(ue,Xe++),ye+=q(ue,le,pe,he,ie);else if(he==="object"){if(typeof Y.then=="function")return q(ee(Y),le,pe,ue,ie);throw le=String(Y),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return ye}function $(Y,le,pe){if(Y==null)return Y;var ue=[],ie=0;return q(Y,ue,"","",function(he){return le.call(pe,he,ie++)}),ue}function Q(Y){if(Y._status===-1){var le=Y._result;le=le(),le.then(function(pe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=pe)},function(pe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=pe)}),Y._status===-1&&(Y._status=0,Y._result=le)}if(Y._status===1)return Y._result.default;throw Y._result}var se=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},de={map:$,forEach:function(Y,le,pe){$(Y,function(){le.apply(this,arguments)},pe)},count:function(Y){var le=0;return $(Y,function(){le++}),le},toArray:function(Y){return $(Y,function(le){return le})||[]},only:function(Y){if(!V(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return wn.Activity=p,wn.Children=de,wn.Component=x,wn.Fragment=t,wn.Profiler=r,wn.PureComponent=M,wn.StrictMode=i,wn.Suspense=c,wn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,wn.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return I.H.useMemoCache(Y)}},wn.cache=function(Y){return function(){return Y.apply(null,arguments)}},wn.cacheSignal=function(){return null},wn.cloneElement=function(Y,le,pe){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var ue=S({},Y.props),ie=Y.key;if(le!=null)for(he in le.key!==void 0&&(ie=""+le.key),le)!N.call(le,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&le.ref===void 0||(ue[he]=le[he]);var he=arguments.length-2;if(he===1)ue.children=pe;else if(1<he){for(var ye=Array(he),Ve=0;Ve<he;Ve++)ye[Ve]=arguments[Ve+2];ue.children=ye}return P(Y.type,ie,ue)},wn.createContext=function(Y){return Y={$$typeof:a,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},wn.createElement=function(Y,le,pe){var ue,ie={},he=null;if(le!=null)for(ue in le.key!==void 0&&(he=""+le.key),le)N.call(le,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ie[ue]=le[ue]);var ye=arguments.length-2;if(ye===1)ie.children=pe;else if(1<ye){for(var Ve=Array(ye),Xe=0;Xe<ye;Xe++)Ve[Xe]=arguments[Xe+2];ie.children=Ve}if(Y&&Y.defaultProps)for(ue in ye=Y.defaultProps,ye)ie[ue]===void 0&&(ie[ue]=ye[ue]);return P(Y,he,ie)},wn.createRef=function(){return{current:null}},wn.forwardRef=function(Y){return{$$typeof:o,render:Y}},wn.isValidElement=V,wn.lazy=function(Y){return{$$typeof:h,_payload:{_status:-1,_result:Y},_init:Q}},wn.memo=function(Y,le){return{$$typeof:u,type:Y,compare:le===void 0?null:le}},wn.startTransition=function(Y){var le=I.T,pe={};I.T=pe;try{var ue=Y(),ie=I.S;ie!==null&&ie(pe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(L,se)}catch(he){se(he)}finally{le!==null&&pe.types!==null&&(le.types=pe.types),I.T=le}},wn.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},wn.use=function(Y){return I.H.use(Y)},wn.useActionState=function(Y,le,pe){return I.H.useActionState(Y,le,pe)},wn.useCallback=function(Y,le){return I.H.useCallback(Y,le)},wn.useContext=function(Y){return I.H.useContext(Y)},wn.useDebugValue=function(){},wn.useDeferredValue=function(Y,le){return I.H.useDeferredValue(Y,le)},wn.useEffect=function(Y,le){return I.H.useEffect(Y,le)},wn.useEffectEvent=function(Y){return I.H.useEffectEvent(Y)},wn.useId=function(){return I.H.useId()},wn.useImperativeHandle=function(Y,le,pe){return I.H.useImperativeHandle(Y,le,pe)},wn.useInsertionEffect=function(Y,le){return I.H.useInsertionEffect(Y,le)},wn.useLayoutEffect=function(Y,le){return I.H.useLayoutEffect(Y,le)},wn.useMemo=function(Y,le){return I.H.useMemo(Y,le)},wn.useOptimistic=function(Y,le){return I.H.useOptimistic(Y,le)},wn.useReducer=function(Y,le,pe){return I.H.useReducer(Y,le,pe)},wn.useRef=function(Y){return I.H.useRef(Y)},wn.useState=function(Y){return I.H.useState(Y)},wn.useSyncExternalStore=function(Y,le,pe){return I.H.useSyncExternalStore(Y,le,pe)},wn.useTransition=function(){return I.H.useTransition()},wn.version="19.2.3",wn}var q4;function t_(){return q4||(q4=1,vR.exports=pX()),vR.exports}var H=t_();const ar=$p(H),K3=fX({__proto__:null,default:ar},[H]);var _R={exports:{}},L1={},bR={exports:{}},xR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W4;function mX(){return W4||(W4=1,(function(n){function e(q,$){var Q=q.length;q.push($);e:for(;0<Q;){var se=Q-1>>>1,de=q[se];if(0<r(de,$))q[se]=$,q[Q]=de,Q=se;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var $=q[0],Q=q.pop();if(Q!==$){q[0]=Q;e:for(var se=0,de=q.length,Y=de>>>1;se<Y;){var le=2*(se+1)-1,pe=q[le],ue=le+1,ie=q[ue];if(0>r(pe,Q))ue<de&&0>r(ie,pe)?(q[se]=ie,q[ue]=Q,se=ue):(q[se]=pe,q[le]=Q,se=le);else if(ue<de&&0>r(ie,Q))q[se]=ie,q[ue]=Q,se=ue;else break e}}return $}function r(q,$){var Q=q.sortIndex-$.sortIndex;return Q!==0?Q:q.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var c=[],u=[],h=1,p=null,y=3,v=!1,_=!1,S=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function C(q){for(var $=t(u);$!==null;){if($.callback===null)i(u);else if($.startTime<=q)i(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=t(u)}}function D(q){if(S=!1,C(q),!_)if(t(c)!==null)_=!0,L||(L=!0,z());else{var $=t(u);$!==null&&ee(D,$.startTime-q)}}var L=!1,I=-1,N=5,P=-1;function U(){return E?!0:!(n.unstable_now()-P<N)}function V(){if(E=!1,L){var q=n.unstable_now();P=q;var $=!0;try{e:{_=!1,S&&(S=!1,w(I),I=-1),v=!0;var Q=y;try{t:{for(C(q),p=t(c);p!==null&&!(p.expirationTime>q&&U());){var se=p.callback;if(typeof se=="function"){p.callback=null,y=p.priorityLevel;var de=se(p.expirationTime<=q);if(q=n.unstable_now(),typeof de=="function"){p.callback=de,C(q),$=!0;break t}p===t(c)&&i(c),C(q)}else i(c);p=t(c)}if(p!==null)$=!0;else{var Y=t(u);Y!==null&&ee(D,Y.startTime-q),$=!1}}break e}finally{p=null,y=Q,v=!1}$=void 0}}finally{$?z():L=!1}}}var z;if(typeof M=="function")z=function(){M(V)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=V,z=function(){K.postMessage(null)}}else z=function(){x(V,0)};function ee(q,$){I=x(function(){q(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(q){switch(y){case 1:case 2:case 3:var $=3;break;default:$=y}var Q=y;y=$;try{return q()}finally{y=Q}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=y;y=q;try{return $()}finally{y=Q}},n.unstable_scheduleCallback=function(q,$,Q){var se=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,q){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Q+de,q={id:h++,callback:$,priorityLevel:q,startTime:Q,expirationTime:de,sortIndex:-1},Q>se?(q.sortIndex=Q,e(u,q),t(c)===null&&q===t(u)&&(S?(w(I),I=-1):S=!0,ee(D,Q-se))):(q.sortIndex=de,e(c,q),_||v||(_=!0,L||(L=!0,z()))),q},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(q){var $=y;return function(){var Q=y;y=$;try{return q.apply(this,arguments)}finally{y=Q}}}})(xR)),xR}var $4;function gX(){return $4||($4=1,bR.exports=mX()),bR.exports}var SR={exports:{}},Va={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X4;function yX(){if(X4)return Va;X4=1;var n=t_();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,u,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:c,containerInfo:u,implementation:h}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Va.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Va.createPortal=function(c,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(c,u,null,h)},Va.flushSync=function(c){var u=a.T,h=i.p;try{if(a.T=null,i.p=2,c)return c()}finally{a.T=u,i.p=h,i.d.f()}},Va.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(c,u))},Va.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Va.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var h=u.as,p=o(h,u.crossOrigin),y=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?i.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:v}):h==="script"&&i.d.X(c,{crossOrigin:p,integrity:y,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Va.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=o(u.as,u.crossOrigin);i.d.M(c,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(c)},Va.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,p=o(h,u.crossOrigin);i.d.L(c,h,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Va.preloadModule=function(c,u){if(typeof c=="string")if(u){var h=o(u.as,u.crossOrigin);i.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(c)},Va.requestFormReset=function(c){i.d.r(c)},Va.unstable_batchedUpdates=function(c,u){return c(u)},Va.useFormState=function(c,u,h){return a.H.useFormState(c,u,h)},Va.useFormStatus=function(){return a.H.useHostTransitionStatus()},Va.version="19.2.3",Va}var Y4;function CF(){if(Y4)return SR.exports;Y4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),SR.exports=yX(),SR.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K4;function vX(){if(K4)return L1;K4=1;var n=gX(),e=t_(),t=CF();function i(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var f=l,g=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(g=f.return),l=f.return;while(l)}return f.tag===3?g:null}function a(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function o(l){if(l.tag===31){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function c(l){if(s(l)!==l)throw Error(i(188))}function u(l){var f=l.alternate;if(!f){if(f=s(l),f===null)throw Error(i(188));return f!==l?null:l}for(var g=l,b=f;;){var R=g.return;if(R===null)break;var k=R.alternate;if(k===null){if(b=R.return,b!==null){g=b;continue}break}if(R.child===k.child){for(k=R.child;k;){if(k===g)return c(R),l;if(k===b)return c(R),f;k=k.sibling}throw Error(i(188))}if(g.return!==b.return)g=R,b=k;else{for(var W=!1,ne=R.child;ne;){if(ne===g){W=!0,g=R,b=k;break}if(ne===b){W=!0,b=R,g=k;break}ne=ne.sibling}if(!W){for(ne=k.child;ne;){if(ne===g){W=!0,g=k,b=R;break}if(ne===b){W=!0,b=k,g=R;break}ne=ne.sibling}if(!W)throw Error(i(189))}}if(g.alternate!==b)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?l:f}function h(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=h(l),f!==null)return f;l=l.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),M=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(l){return l===null||typeof l!="object"?null:(l=V&&l[V]||l["@@iterator"],typeof l=="function"?l:null)}var F=Symbol.for("react.client.reference");function K(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===F?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case S:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case L:return"SuspenseList";case P:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case _:return"Portal";case M:return l.displayName||"Context";case w:return(l._context.displayName||"Context")+".Consumer";case C:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case I:return f=l.displayName||null,f!==null?f:K(l.type)||"Memo";case N:f=l._payload,l=l._init;try{return K(l(f))}catch{}}return null}var ee=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},se=[],de=-1;function Y(l){return{current:l}}function le(l){0>de||(l.current=se[de],se[de]=null,de--)}function pe(l,f){de++,se[de]=l.current,l.current=f}var ue=Y(null),ie=Y(null),he=Y(null),ye=Y(null);function Ve(l,f){switch(pe(he,f),pe(ie,l),pe(ue,null),f.nodeType){case 9:case 11:l=(l=f.documentElement)&&(l=l.namespaceURI)?f4(l):0;break;default:if(l=f.tagName,f=f.namespaceURI)f=f4(f),l=h4(f,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}le(ue),pe(ue,l)}function Xe(){le(ue),le(ie),le(he)}function Ge(l){l.memoizedState!==null&&pe(ye,l);var f=ue.current,g=h4(f,l.type);f!==g&&(pe(ie,l),pe(ue,g))}function rt(l){ie.current===l&&(le(ue),le(ie)),ye.current===l&&(le(ye),O1._currentValue=Q)}var ot,pt;function te(l){if(ot===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);ot=f&&f[1]||"",pt=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+l+pt}var Oe=!1;function Be(l,f){if(!l||Oe)return"";Oe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(We){var ke=We}Reflect.construct(l,[],tt)}else{try{tt.call()}catch(We){ke=We}l.call(tt.prototype)}}else{try{throw Error()}catch(We){ke=We}(tt=l())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(We){if(We&&ke&&typeof We.stack=="string")return[We.stack,ke.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=b.DetermineComponentFrameRoot(),W=k[0],ne=k[1];if(W&&ne){var ge=W.split(`
`),Pe=ne.split(`
`);for(R=b=0;b<ge.length&&!ge[b].includes("DetermineComponentFrameRoot");)b++;for(;R<Pe.length&&!Pe[R].includes("DetermineComponentFrameRoot");)R++;if(b===ge.length||R===Pe.length)for(b=ge.length-1,R=Pe.length-1;1<=b&&0<=R&&ge[b]!==Pe[R];)R--;for(;1<=b&&0<=R;b--,R--)if(ge[b]!==Pe[R]){if(b!==1||R!==1)do if(b--,R--,0>R||ge[b]!==Pe[R]){var Ye=`
`+ge[b].replace(" at new "," at ");return l.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",l.displayName)),Ye}while(1<=b&&0<=R);break}}}finally{Oe=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?te(g):""}function Ne(l,f){switch(l.tag){case 26:case 27:case 5:return te(l.type);case 16:return te("Lazy");case 13:return l.child!==f&&f!==null?te("Suspense Fallback"):te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return Be(l.type,!1);case 11:return Be(l.type.render,!1);case 1:return Be(l.type,!0);case 31:return te("Activity");default:return""}}function Me(l){try{var f="",g=null;do f+=Ne(l,g),g=l,l=l.return;while(l);return f}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var ct=Object.prototype.hasOwnProperty,qe=n.unstable_scheduleCallback,ae=n.unstable_cancelCallback,J=n.unstable_shouldYield,Se=n.unstable_requestPaint,Ae=n.unstable_now,Ze=n.unstable_getCurrentPriorityLevel,Re=n.unstable_ImmediatePriority,lt=n.unstable_UserBlockingPriority,ut=n.unstable_NormalPriority,Dt=n.unstable_LowPriority,kt=n.unstable_IdlePriority,$e=n.log,dt=n.unstable_setDisableYieldValue,wt=null,At=null;function vt(l){if(typeof $e=="function"&&dt(l),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(wt,l)}catch{}}var jt=Math.clz32?Math.clz32:ve,at=Math.log,Lt=Math.LN2;function ve(l){return l>>>=0,l===0?32:31-(at(l)/Lt|0)|0}var gt=256,Fe=262144,Qe=4194304;function xt(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function _t(l,f,g){var b=l.pendingLanes;if(b===0)return 0;var R=0,k=l.suspendedLanes,W=l.pingedLanes;l=l.warmLanes;var ne=b&134217727;return ne!==0?(b=ne&~k,b!==0?R=xt(b):(W&=ne,W!==0?R=xt(W):g||(g=ne&~l,g!==0&&(R=xt(g))))):(ne=b&~k,ne!==0?R=xt(ne):W!==0?R=xt(W):g||(g=b&~l,g!==0&&(R=xt(g)))),R===0?0:f!==0&&f!==R&&(f&k)===0&&(k=R&-R,g=f&-f,k>=g||k===32&&(g&4194048)!==0)?f:R}function Zt(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function $n(l,f){switch(l){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zt(){var l=Qe;return Qe<<=1,(Qe&62914560)===0&&(Qe=4194304),l}function Qt(l){for(var f=[],g=0;31>g;g++)f.push(l);return f}function St(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Mt(l,f,g,b,R,k){var W=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var ne=l.entanglements,ge=l.expirationTimes,Pe=l.hiddenUpdates;for(g=W&~g;0<g;){var Ye=31-jt(g),tt=1<<Ye;ne[Ye]=0,ge[Ye]=-1;var ke=Pe[Ye];if(ke!==null)for(Pe[Ye]=null,Ye=0;Ye<ke.length;Ye++){var We=ke[Ye];We!==null&&(We.lane&=-536870913)}g&=~tt}b!==0&&kn(l,b,0),k!==0&&R===0&&l.tag!==0&&(l.suspendedLanes|=k&~(W&~f))}function kn(l,f,g){l.pendingLanes|=f,l.suspendedLanes&=~f;var b=31-jt(f);l.entangledLanes|=f,l.entanglements[b]=l.entanglements[b]|1073741824|g&261930}function vn(l,f){var g=l.entangledLanes|=f;for(l=l.entanglements;g;){var b=31-jt(g),R=1<<b;R&f|l[b]&f&&(l[b]|=f),g&=~R}}function zn(l,f){var g=f&-f;return g=(g&42)!==0?1:Li(g),(g&(l.suspendedLanes|f))!==0?0:g}function Li(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Rs(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function $i(){var l=$.p;return l!==0?l:(l=window.event,l===void 0?32:L4(l.type))}function Fr(l,f){var g=$.p;try{return $.p=l,f()}finally{$.p=g}}var Vr=Math.random().toString(36).slice(2),dn="__reactFiber$"+Vr,fr="__reactProps$"+Vr,aa="__reactContainer$"+Vr,ll="__reactEvents$"+Vr,io="__reactListeners$"+Vr,sd="__reactHandles$"+Vr,Pc="__reactResources$"+Vr,ro="__reactMarker$"+Vr;function cl(l){delete l[dn],delete l[fr],delete l[ll],delete l[io],delete l[sd]}function re(l){var f=l[dn];if(f)return f;for(var g=l.parentNode;g;){if(f=g[aa]||g[dn]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(l=_4(l);l!==null;){if(g=l[dn])return g;l=_4(l)}return f}l=g,g=l.parentNode}return null}function _e(l){if(l=l[dn]||l[aa]){var f=l.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return l}return null}function Le(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l.stateNode;throw Error(i(33))}function De(l){var f=l[Pc];return f||(f=l[Pc]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function xe(l){l[ro]=!0}var st=new Set,Tt={};function Ct(l,f){Rt(l,f),Rt(l+"Capture",f)}function Rt(l,f){for(Tt[l]=f,l=0;l<f.length;l++)st.add(f[l])}var sn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jt={},Gt={};function Bn(l){return ct.call(Gt,l)?!0:ct.call(Jt,l)?!1:sn.test(l)?Gt[l]=!0:(Jt[l]=!0,!1)}function Ln(l,f,g){if(Bn(f))if(g===null)l.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(f);return;case"boolean":var b=f.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){l.removeAttribute(f);return}}l.setAttribute(f,""+g)}}function bi(l,f,g){if(g===null)l.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttribute(f,""+g)}}function Wn(l,f,g,b){if(b===null)l.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(f,g,""+b)}}function on(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function $t(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function hr(l,f,g){var b=Object.getOwnPropertyDescriptor(l.constructor.prototype,f);if(!l.hasOwnProperty(f)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var R=b.get,k=b.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return R.call(this)},set:function(W){g=""+W,k.call(this,W)}}),Object.defineProperty(l,f,{enumerable:b.enumerable}),{getValue:function(){return g},setValue:function(W){g=""+W},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function Gn(l){if(!l._valueTracker){var f=$t(l)?"checked":"value";l._valueTracker=hr(l,f,""+l[f])}}function ms(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var g=f.getValue(),b="";return l&&(b=$t(l)?l.checked?"true":"false":l.value),l=b,l!==g?(f.setValue(l),!0):!1}function oa(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var nr=/[\n"\\]/g;function Ai(l){return l.replace(nr,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function ei(l,f,g,b,R,k,W,ne){l.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?l.type=W:l.removeAttribute("type"),f!=null?W==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+on(f)):l.value!==""+on(f)&&(l.value=""+on(f)):W!=="submit"&&W!=="reset"||l.removeAttribute("value"),f!=null?Hr(l,W,on(f)):g!=null?Hr(l,W,on(g)):b!=null&&l.removeAttribute("value"),R==null&&k!=null&&(l.defaultChecked=!!k),R!=null&&(l.checked=R&&typeof R!="function"&&typeof R!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?l.name=""+on(ne):l.removeAttribute("name")}function Er(l,f,g,b,R,k,W,ne){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(l.type=k),f!=null||g!=null){if(!(k!=="submit"&&k!=="reset"||f!=null)){Gn(l);return}g=g!=null?""+on(g):"",f=f!=null?""+on(f):g,ne||f===l.value||(l.value=f),l.defaultValue=f}b=b??R,b=typeof b!="function"&&typeof b!="symbol"&&!!b,l.checked=ne?l.checked:!!b,l.defaultChecked=!!b,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(l.name=W),Gn(l)}function Hr(l,f,g){f==="number"&&oa(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function cn(l,f,g,b){if(l=l.options,f){f={};for(var R=0;R<g.length;R++)f["$"+g[R]]=!0;for(g=0;g<l.length;g++)R=f.hasOwnProperty("$"+l[g].value),l[g].selected!==R&&(l[g].selected=R),R&&b&&(l[g].defaultSelected=!0)}else{for(g=""+on(g),f=null,R=0;R<l.length;R++){if(l[R].value===g){l[R].selected=!0,b&&(l[R].defaultSelected=!0);return}f!==null||l[R].disabled||(f=l[R])}f!==null&&(f.selected=!0)}}function or(l,f,g){if(f!=null&&(f=""+on(f),f!==l.value&&(l.value=f),g==null)){l.defaultValue!==f&&(l.defaultValue=f);return}l.defaultValue=g!=null?""+on(g):""}function Os(l,f,g,b){if(f==null){if(b!=null){if(g!=null)throw Error(i(92));if(ee(b)){if(1<b.length)throw Error(i(93));b=b[0]}g=b}g==null&&(g=""),f=g}g=on(f),l.defaultValue=g,b=l.textContent,b===g&&b!==""&&b!==null&&(l.value=b),Gn(l)}function Tr(l,f){if(f){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=f;return}}l.textContent=f}var ad=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(l,f,g){var b=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?b?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="":b?l.setProperty(f,g):typeof g!="number"||g===0||ad.has(f)?f==="float"?l.cssFloat=g:l[f]=(""+g).trim():l[f]=g+"px"}function nm(l,f,g){if(f!=null&&typeof f!="object")throw Error(i(62));if(l=l.style,g!=null){for(var b in g)!g.hasOwnProperty(b)||f!=null&&f.hasOwnProperty(b)||(b.indexOf("--")===0?l.setProperty(b,""):b==="float"?l.cssFloat="":l[b]="");for(var R in f)b=f[R],f.hasOwnProperty(R)&&g[R]!==b&&Eu(l,R,b)}else for(var k in f)f.hasOwnProperty(k)&&Eu(l,k,f[k])}function Lf(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ul(l){return dy.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function is(){}var Tu=null;function Uf(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Vl=null,la=null;function im(l){var f=_e(l);if(f&&(l=f.stateNode)){var g=l[fr]||null;e:switch(l=f.stateNode,f.type){case"input":if(ei(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Ai(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var b=g[f];if(b!==l&&b.form===l.form){var R=b[fr]||null;if(!R)throw Error(i(90));ei(b,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(f=0;f<g.length;f++)b=g[f],b.form===l.form&&ms(b)}break e;case"textarea":or(l,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&cn(l,!!g.multiple,f,!1)}}}var od=!1;function rm(l,f,g){if(od)return l(f,g);od=!0;try{var b=l(f);return b}finally{if(od=!1,(Vl!==null||la!==null)&&(oe(),Vl&&(f=Vl,l=la,la=Vl=null,im(f),l)))for(f=0;f<l.length;f++)im(l[f])}}function Fs(l,f){var g=l.stateNode;if(g===null)return null;var b=g[fr]||null;if(b===null)return null;g=b[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(i(231,f,typeof g));return g}var No=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ld=!1;if(No)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){ld=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{ld=!1}var so=null,kf=null,Ma=null;function jl(){if(Ma)return Ma;var l,f=kf,g=f.length,b,R="value"in so?so.value:so.textContent,k=R.length;for(l=0;l<g&&f[l]===R[l];l++);var W=g-l;for(b=1;b<=W&&f[g-b]===R[k-b];b++);return Ma=R.slice(l,1<b?1-b:void 0)}function Gl(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function Dc(){return!0}function Vi(){return!1}function gs(l){function f(g,b,R,k,W){this._reactName=g,this._targetInst=R,this.type=b,this.nativeEvent=k,this.target=W,this.currentTarget=null;for(var ne in l)l.hasOwnProperty(ne)&&(g=l[ne],this[ne]=g?g(k):k[ne]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Dc:Vi,this.isPropagationStopped=Vi,this}return p(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),f}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=gs(ql),Ra=p({},ql,{view:0,detail:0}),zf=gs(Ra),Nc,Cu,Vs,Au=p({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Vs&&(Vs&&l.type==="mousemove"?(Nc=l.screenX-Vs.screenX,Cu=l.screenY-Vs.screenY):Cu=Nc=0,Vs=l),Nc)},movementY:function(l){return"movementY"in l?l.movementY:Cu}}),py=gs(Au),lr=p({},Au,{dataTransfer:0}),sm=gs(lr),cd=p({},Ra,{relatedTarget:0}),Lc=gs(cd),am=p({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),Bf=gs(am),Ff=p({},ql,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),ud=gs(Ff),Mu=p({},ql,{data:0}),fd=gs(Mu),om={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lm(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=Hf[l])?!!f[l]:!1}function Wl(){return lm}var hd=p({},Ra,{key:function(l){if(l.key){var f=om[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=Gl(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Vf[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(l){return l.type==="keypress"?Gl(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Gl(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),dd=gs(hd),$l=p({},Au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jf=gs($l),cm=p({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),Lo=gs(cm),pd=p({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),md=gs(pd),Hs=p({},Au,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),fl=gs(Hs),Uo=p({},ql,{newState:0,oldState:0}),Xl=gs(Uo),A=[9,13,27,32],j=No&&"CompositionEvent"in window,X=null;No&&"documentMode"in document&&(X=document.documentMode);var ce=No&&"TextEvent"in window&&!X,Ee=No&&(!j||X&&8<X&&11>=X),je=" ",Et=!1;function fi(l,f){switch(l){case"keyup":return A.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ir(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Rn=!1;function wr(l,f){switch(l){case"compositionend":return ir(f);case"keypress":return f.which!==32?null:(Et=!0,je);case"textInput":return l=f.data,l===je&&Et?null:l;default:return null}}function rs(l,f){if(Rn)return l==="compositionend"||!j&&fi(l,f)?(l=jl(),Ma=kf=so=null,Rn=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Ee&&f.locale!=="ko"?null:f.data;default:return null}}var jr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ca(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!jr[l.type]:f==="textarea"}function Uc(l,f,g,b){Vl?la?la.push(b):la=[b]:Vl=b,f=PE(f,"onChange"),0<f.length&&(g=new wu("onChange","change",null,g,b),l.push({event:g,listeners:f}))}var Yl=null,gd=null;function w_(l){s4(l,0)}function yd(l){var f=Le(l);if(ms(f))return l}function C_(l,f){if(l==="change")return f}var um=!1;if(No){var Gf;if(No){var Xi="oninput"in document;if(!Xi){var HS=document.createElement("div");HS.setAttribute("oninput","return;"),Xi=typeof HS.oninput=="function"}Gf=Xi}else Gf=!1;um=Gf&&(!document.documentMode||9<document.documentMode)}function jS(){Yl&&(Yl.detachEvent("onpropertychange",A_),gd=Yl=null)}function A_(l){if(l.propertyName==="value"&&yd(gd)){var f=[];Uc(f,gd,l,Uf(l)),rm(w_,f)}}function fm(l,f,g){l==="focusin"?(jS(),Yl=f,gd=g,Yl.attachEvent("onpropertychange",A_)):l==="focusout"&&jS()}function Ru(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return yd(gd)}function GS(l,f){if(l==="click")return yd(f)}function qS(l,f){if(l==="input"||l==="change")return yd(f)}function qf(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var Yi=typeof Object.is=="function"?Object.is:qf;function vd(l,f){if(Yi(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var g=Object.keys(l),b=Object.keys(f);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var R=g[b];if(!ct.call(f,R)||!Yi(l[R],f[R]))return!1}return!0}function M_(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function R_(l,f){var g=M_(l);l=0;for(var b;g;){if(g.nodeType===3){if(b=l+g.textContent.length,l<=f&&b>=f)return{node:g,offset:f-l};l=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=M_(g)}}function my(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?my(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function gy(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var f=oa(l.document);f instanceof l.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)l=f.contentWindow;else break;f=oa(l.document)}return f}function _d(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}var WS=No&&"documentMode"in document&&11>=document.documentMode,bd=null,yy=null,xd=null,ao=!1;function vy(l,f,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;ao||bd==null||bd!==oa(b)||(b=bd,"selectionStart"in b&&_d(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),xd&&vd(xd,b)||(xd=b,b=PE(yy,"onSelect"),0<b.length&&(f=new wu("onSelect","select",null,f,g),l.push({event:f,listeners:b}),f.target=bd)))}function Ou(l,f){var g={};return g[l.toLowerCase()]=f.toLowerCase(),g["Webkit"+l]="webkit"+f,g["Moz"+l]="moz"+f,g}var Sd={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionrun:Ou("Transition","TransitionRun"),transitionstart:Ou("Transition","TransitionStart"),transitioncancel:Ou("Transition","TransitionCancel"),transitionend:Ou("Transition","TransitionEnd")},hm={},ua={};No&&(ua=document.createElement("div").style,"AnimationEvent"in window||(delete Sd.animationend.animation,delete Sd.animationiteration.animation,delete Sd.animationstart.animation),"TransitionEvent"in window||delete Sd.transitionend.transition);function Iu(l){if(hm[l])return hm[l];if(!Sd[l])return l;var f=Sd[l],g;for(g in f)if(f.hasOwnProperty(g)&&g in ua)return hm[l]=f[g];return l}var Oa=Iu("animationend"),O_=Iu("animationiteration"),Kl=Iu("animationstart"),Ed=Iu("transitionrun"),Pu=Iu("transitionstart"),I_=Iu("transitioncancel"),_y=Iu("transitionend"),kc=new Map,by="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");by.push("scrollEnd");function js(l,f){kc.set(l,f),Ct(f,[l])}var Du=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},ys=[],Wf=0,xy=0;function Nu(){for(var l=Wf,f=xy=Wf=0;f<l;){var g=ys[f];ys[f++]=null;var b=ys[f];ys[f++]=null;var R=ys[f];ys[f++]=null;var k=ys[f];if(ys[f++]=null,b!==null&&R!==null){var W=b.pending;W===null?R.next=R:(R.next=W.next,W.next=R),b.pending=R}k!==0&&Sy(g,R,k)}}function dm(l,f,g,b){ys[Wf++]=l,ys[Wf++]=f,ys[Wf++]=g,ys[Wf++]=b,xy|=b,l.lanes|=b,l=l.alternate,l!==null&&(l.lanes|=b)}function Td(l,f,g,b){return dm(l,f,g,b),wd(l)}function Lu(l,f){return dm(l,null,null,f),wd(l)}function Sy(l,f,g){l.lanes|=g;var b=l.alternate;b!==null&&(b.lanes|=g);for(var R=!1,k=l.return;k!==null;)k.childLanes|=g,b=k.alternate,b!==null&&(b.childLanes|=g),k.tag===22&&(l=k.stateNode,l===null||l._visibility&1||(R=!0)),l=k,k=k.return;return l.tag===3?(k=l.stateNode,R&&f!==null&&(R=31-jt(g),l=k.hiddenUpdates,b=l[R],b===null?l[R]=[f]:b.push(f),f.lane=g|536870912),k):null}function wd(l){if(50<ch)throw ch=0,uh=null,Error(i(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}var Uu={};function $S(l,f,g,b){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(l,f,g,b){return new $S(l,f,g,b)}function ha(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Zl(l,f){var g=l.alternate;return g===null?(g=fa(l.tag,f,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=f,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,f=l.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function Gs(l,f){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,f=g.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function pm(l,f,g,b,R,k){var W=0;if(b=l,typeof l=="function")ha(l)&&(W=1);else if(typeof l=="string")W=J$(l,g,ue.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case P:return l=fa(31,g,f,R),l.elementType=P,l.lanes=k,l;case S:return zc(g.children,R,k,f);case E:W=8,R|=24;break;case x:return l=fa(12,g,f,R|2),l.elementType=x,l.lanes=k,l;case D:return l=fa(13,g,f,R),l.elementType=D,l.lanes=k,l;case L:return l=fa(19,g,f,R),l.elementType=L,l.lanes=k,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case M:W=10;break e;case w:W=9;break e;case C:W=11;break e;case I:W=14;break e;case N:W=16,b=null;break e}W=29,g=Error(i(130,l===null?"null":typeof l,"")),b=null}return f=fa(W,g,f,R),f.elementType=l,f.type=b,f.lanes=k,f}function zc(l,f,g,b){return l=fa(7,l,b,f),l.lanes=g,l}function Ey(l,f,g){return l=fa(6,l,null,f),l.lanes=g,l}function XS(l){var f=fa(18,null,null,0);return f.stateNode=l,f}function hl(l,f,g){return f=fa(4,l.children!==null?l.children:[],l.key,f),f.lanes=g,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}var P_=new WeakMap;function Ia(l,f){if(typeof l=="object"&&l!==null){var g=P_.get(l);return g!==void 0?g:(f={value:l,source:f,stack:Me(f)},P_.set(l,f),f)}return{value:l,source:f,stack:Me(f)}}var dl=[],$f=0,mm=null,Cd=0,oo=[],Pa=0,Ql=null,Jl=1,ec="";function Bc(l,f){dl[$f++]=Cd,dl[$f++]=mm,mm=l,Cd=f}function D_(l,f,g){oo[Pa++]=Jl,oo[Pa++]=ec,oo[Pa++]=Ql,Ql=l;var b=Jl;l=ec;var R=32-jt(b)-1;b&=~(1<<R),g+=1;var k=32-jt(f)+R;if(30<k){var W=R-R%5;k=(b&(1<<W)-1).toString(32),b>>=W,R-=W,Jl=1<<32-jt(f)+R|g<<R|b,ec=k+l}else Jl=1<<k|g<<R|b,ec=l}function Ty(l){l.return!==null&&(Bc(l,1),D_(l,1,0))}function ku(l){for(;l===mm;)mm=dl[--$f],dl[$f]=null,Cd=dl[--$f],dl[$f]=null;for(;l===Ql;)Ql=oo[--Pa],oo[Pa]=null,ec=oo[--Pa],oo[Pa]=null,Jl=oo[--Pa],oo[Pa]=null}function gm(l,f){oo[Pa++]=Jl,oo[Pa++]=ec,oo[Pa++]=Ql,Jl=f.id,ec=f.overflow,Ql=l}var vs=null,Hi=null,Zn=!1,Fc=null,_s=!1,wy=Error(i(519));function Xn(l){var f=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ym(Ia(f,l)),wy}function Cy(l){var f=l.stateNode,g=l.type,b=l.memoizedProps;switch(f[dn]=l,f[fr]=b,g){case"dialog":Qn("cancel",f),Qn("close",f);break;case"iframe":case"object":case"embed":Qn("load",f);break;case"video":case"audio":for(g=0;g<w1.length;g++)Qn(w1[g],f);break;case"source":Qn("error",f);break;case"img":case"image":case"link":Qn("error",f),Qn("load",f);break;case"details":Qn("toggle",f);break;case"input":Qn("invalid",f),Er(f,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":Qn("invalid",f);break;case"textarea":Qn("invalid",f),Os(f,b.value,b.defaultValue,b.children)}g=b.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||b.suppressHydrationWarning===!0||c4(f.textContent,g)?(b.popover!=null&&(Qn("beforetoggle",f),Qn("toggle",f)),b.onScroll!=null&&Qn("scroll",f),b.onScrollEnd!=null&&Qn("scrollend",f),b.onClick!=null&&(f.onclick=is),f=!0):f=!1,f||Xn(l,!0)}function YS(l){for(vs=l.return;vs;)switch(vs.tag){case 5:case 31:case 13:_s=!1;return;case 27:case 3:_s=!0;return;default:vs=vs.return}}function Xf(l){if(l!==vs)return!1;if(!Zn)return YS(l),Zn=!0,!1;var f=l.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||nR(l.type,l.memoizedProps)),g=!g),g&&Hi&&Xn(l),YS(l),f===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));Hi=v4(l)}else if(f===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));Hi=v4(l)}else f===27?(f=Hi,qd(l.type)?(l=oR,oR=null,Hi=l):Hi=f):Hi=vs?fc(l.stateNode.nextSibling):null;return!0}function Yf(){Hi=vs=null,Zn=!1}function N_(){var l=Fc;return l!==null&&(Ks===null?Ks=l:Ks.push.apply(Ks,l),Fc=null),l}function ym(l){Fc===null?Fc=[l]:Fc.push(l)}var L_=Y(null),Vc=null,qs=null;function Hc(l,f,g){pe(L_,f._currentValue),f._currentValue=g}function ko(l){l._currentValue=L_.current,le(L_)}function jc(l,f,g){for(;l!==null;){var b=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),l===g)break;l=l.return}}function Ay(l,f,g,b){var R=l.child;for(R!==null&&(R.return=l);R!==null;){var k=R.dependencies;if(k!==null){var W=R.child;k=k.firstContext;e:for(;k!==null;){var ne=k;k=R;for(var ge=0;ge<f.length;ge++)if(ne.context===f[ge]){k.lanes|=g,ne=k.alternate,ne!==null&&(ne.lanes|=g),jc(k.return,g,l),b||(W=null);break e}k=ne.next}}else if(R.tag===18){if(W=R.return,W===null)throw Error(i(341));W.lanes|=g,k=W.alternate,k!==null&&(k.lanes|=g),jc(W,g,l),W=null}else W=R.child;if(W!==null)W.return=R;else for(W=R;W!==null;){if(W===l){W=null;break}if(R=W.sibling,R!==null){R.return=W.return,W=R;break}W=W.return}R=W}}function zu(l,f,g,b){l=null;for(var R=f,k=!1;R!==null;){if(!k){if((R.flags&524288)!==0)k=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var W=R.alternate;if(W===null)throw Error(i(387));if(W=W.memoizedProps,W!==null){var ne=R.type;Yi(R.pendingProps.value,W.value)||(l!==null?l.push(ne):l=[ne])}}else if(R===ye.current){if(W=R.alternate,W===null)throw Error(i(387));W.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(l!==null?l.push(O1):l=[O1])}R=R.return}l!==null&&Ay(f,l,g,b),f.flags|=262144}function Ad(l){for(l=l.firstContext;l!==null;){if(!Yi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Kf(l){Vc=l,qs=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function bs(l){return U_(Vc,l)}function vm(l,f){return Vc===null&&Kf(l),U_(l,f)}function U_(l,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},qs===null){if(l===null)throw Error(i(308));qs=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else qs=qs.next=f;return g}var KS=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(g,b){l.push(b)}};this.abort=function(){f.aborted=!0,l.forEach(function(g){return g()})}},ZS=n.unstable_scheduleCallback,k_=n.unstable_NormalPriority,Xt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function z_(){return{controller:new KS,data:new Map,refCount:0}}function Is(l){l.refCount--,l.refCount===0&&ZS(k_,function(){l.controller.abort()})}var Zf=null,B_=0,Gc=0,pl=null;function Md(l,f){if(Zf===null){var g=Zf=[];B_=0,Gc=$M(),pl={status:"pending",value:void 0,then:function(b){g.push(b)}}}return B_++,f.then(F_,F_),f}function F_(){if(--B_===0&&Zf!==null){pl!==null&&(pl.status="fulfilled");var l=Zf;Zf=null,Gc=0,pl=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function V_(l,f){var g=[],b={status:"pending",value:null,reason:null,then:function(R){g.push(R)}};return l.then(function(){b.status="fulfilled",b.value=f;for(var R=0;R<g.length;R++)(0,g[R])(f)},function(R){for(b.status="rejected",b.reason=R,R=0;R<g.length;R++)(0,g[R])(void 0)}),b}var QS=q.S;q.S=function(l,f){Hd=Ae(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&Md(l,f),QS!==null&&QS(l,f)};var Bu=Y(null);function tc(){var l=Bu.current;return l!==null?l:Si.pooledCache}function Rd(l,f){f===null?pe(Bu,Bu.current):pe(Bu,f.pool)}function My(){var l=tc();return l===null?null:{parent:Xt._currentValue,pool:l}}var Fu=Error(i(460)),_m=Error(i(474)),ml=Error(i(542)),bm={then:function(){}};function JS(l){return l=l.status,l==="fulfilled"||l==="rejected"}function H_(l,f,g){switch(g=l[g],g===void 0?l.push(f):g!==f&&(f.then(is,is),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,j_(l),l;default:if(typeof f.status=="string")f.then(is,is);else{if(l=Si,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=f,l.status="pending",l.then(function(b){if(f.status==="pending"){var R=f;R.status="fulfilled",R.value=b}},function(b){if(f.status==="pending"){var R=f;R.status="rejected",R.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,j_(l),l}throw nn=f,Fu}}function Qf(l){try{var f=l._init;return f(l._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(nn=g,Fu):g}}var nn=null;function Ry(){if(nn===null)throw Error(i(459));var l=nn;return nn=null,l}function j_(l){if(l===Fu||l===ml)throw Error(i(483))}var Vu=null,Hu=0;function Oy(l){var f=Hu;return Hu+=1,Vu===null&&(Vu=[]),H_(Vu,l,f)}function xm(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function Sm(l,f){throw f.$$typeof===y?Error(i(525)):(l=Object.prototype.toString.call(f),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function Od(l){function f(we,be){if(l){var Ie=we.deletions;Ie===null?(we.deletions=[be],we.flags|=16):Ie.push(be)}}function g(we,be){if(!l)return null;for(;be!==null;)f(we,be),be=be.sibling;return null}function b(we){for(var be=new Map;we!==null;)we.key!==null?be.set(we.key,we):be.set(we.index,we),we=we.sibling;return be}function R(we,be){return we=Zl(we,be),we.index=0,we.sibling=null,we}function k(we,be,Ie){return we.index=Ie,l?(Ie=we.alternate,Ie!==null?(Ie=Ie.index,Ie<be?(we.flags|=67108866,be):Ie):(we.flags|=67108866,be)):(we.flags|=1048576,be)}function W(we){return l&&we.alternate===null&&(we.flags|=67108866),we}function ne(we,be,Ie,et){return be===null||be.tag!==6?(be=Ey(Ie,we.mode,et),be.return=we,be):(be=R(be,Ie),be.return=we,be)}function ge(we,be,Ie,et){var en=Ie.type;return en===S?Ye(we,be,Ie.props.children,et,Ie.key):be!==null&&(be.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===N&&Qf(en)===be.type)?(be=R(be,Ie.props),xm(be,Ie),be.return=we,be):(be=pm(Ie.type,Ie.key,Ie.props,null,we.mode,et),xm(be,Ie),be.return=we,be)}function Pe(we,be,Ie,et){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ie.containerInfo||be.stateNode.implementation!==Ie.implementation?(be=hl(Ie,we.mode,et),be.return=we,be):(be=R(be,Ie.children||[]),be.return=we,be)}function Ye(we,be,Ie,et,en){return be===null||be.tag!==7?(be=zc(Ie,we.mode,et,en),be.return=we,be):(be=R(be,Ie),be.return=we,be)}function tt(we,be,Ie){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Ey(""+be,we.mode,Ie),be.return=we,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case v:return Ie=pm(be.type,be.key,be.props,null,we.mode,Ie),xm(Ie,be),Ie.return=we,Ie;case _:return be=hl(be,we.mode,Ie),be.return=we,be;case N:return be=Qf(be),tt(we,be,Ie)}if(ee(be)||z(be))return be=zc(be,we.mode,Ie,null),be.return=we,be;if(typeof be.then=="function")return tt(we,Oy(be),Ie);if(be.$$typeof===M)return tt(we,vm(we,be),Ie);Sm(we,be)}return null}function ke(we,be,Ie,et){var en=be!==null?be.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return en!==null?null:ne(we,be,""+Ie,et);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case v:return Ie.key===en?ge(we,be,Ie,et):null;case _:return Ie.key===en?Pe(we,be,Ie,et):null;case N:return Ie=Qf(Ie),ke(we,be,Ie,et)}if(ee(Ie)||z(Ie))return en!==null?null:Ye(we,be,Ie,et,null);if(typeof Ie.then=="function")return ke(we,be,Oy(Ie),et);if(Ie.$$typeof===M)return ke(we,be,vm(we,Ie),et);Sm(we,Ie)}return null}function We(we,be,Ie,et,en){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return we=we.get(Ie)||null,ne(be,we,""+et,en);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case v:return we=we.get(et.key===null?Ie:et.key)||null,ge(be,we,et,en);case _:return we=we.get(et.key===null?Ie:et.key)||null,Pe(be,we,et,en);case N:return et=Qf(et),We(we,be,Ie,et,en)}if(ee(et)||z(et))return we=we.get(Ie)||null,Ye(be,we,et,en,null);if(typeof et.then=="function")return We(we,be,Ie,Oy(et),en);if(et.$$typeof===M)return We(we,be,Ie,vm(be,et),en);Sm(be,et)}return null}function Vt(we,be,Ie,et){for(var en=null,Ti=null,qt=be,Vn=be=0,ii=null;qt!==null&&Vn<Ie.length;Vn++){qt.index>Vn?(ii=qt,qt=null):ii=qt.sibling;var wi=ke(we,qt,Ie[Vn],et);if(wi===null){qt===null&&(qt=ii);break}l&&qt&&wi.alternate===null&&f(we,qt),be=k(wi,be,Vn),Ti===null?en=wi:Ti.sibling=wi,Ti=wi,qt=ii}if(Vn===Ie.length)return g(we,qt),Zn&&Bc(we,Vn),en;if(qt===null){for(;Vn<Ie.length;Vn++)qt=tt(we,Ie[Vn],et),qt!==null&&(be=k(qt,be,Vn),Ti===null?en=qt:Ti.sibling=qt,Ti=qt);return Zn&&Bc(we,Vn),en}for(qt=b(qt);Vn<Ie.length;Vn++)ii=We(qt,we,Vn,Ie[Vn],et),ii!==null&&(l&&ii.alternate!==null&&qt.delete(ii.key===null?Vn:ii.key),be=k(ii,be,Vn),Ti===null?en=ii:Ti.sibling=ii,Ti=ii);return l&&qt.forEach(function(Kd){return f(we,Kd)}),Zn&&Bc(we,Vn),en}function ln(we,be,Ie,et){if(Ie==null)throw Error(i(151));for(var en=null,Ti=null,qt=be,Vn=be=0,ii=null,wi=Ie.next();qt!==null&&!wi.done;Vn++,wi=Ie.next()){qt.index>Vn?(ii=qt,qt=null):ii=qt.sibling;var Kd=ke(we,qt,wi.value,et);if(Kd===null){qt===null&&(qt=ii);break}l&&qt&&Kd.alternate===null&&f(we,qt),be=k(Kd,be,Vn),Ti===null?en=Kd:Ti.sibling=Kd,Ti=Kd,qt=ii}if(wi.done)return g(we,qt),Zn&&Bc(we,Vn),en;if(qt===null){for(;!wi.done;Vn++,wi=Ie.next())wi=tt(we,wi.value,et),wi!==null&&(be=k(wi,be,Vn),Ti===null?en=wi:Ti.sibling=wi,Ti=wi);return Zn&&Bc(we,Vn),en}for(qt=b(qt);!wi.done;Vn++,wi=Ie.next())wi=We(qt,we,Vn,wi.value,et),wi!==null&&(l&&wi.alternate!==null&&qt.delete(wi.key===null?Vn:wi.key),be=k(wi,be,Vn),Ti===null?en=wi:Ti.sibling=wi,Ti=wi);return l&&qt.forEach(function(uX){return f(we,uX)}),Zn&&Bc(we,Vn),en}function qi(we,be,Ie,et){if(typeof Ie=="object"&&Ie!==null&&Ie.type===S&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case v:e:{for(var en=Ie.key;be!==null;){if(be.key===en){if(en=Ie.type,en===S){if(be.tag===7){g(we,be.sibling),et=R(be,Ie.props.children),et.return=we,we=et;break e}}else if(be.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===N&&Qf(en)===be.type){g(we,be.sibling),et=R(be,Ie.props),xm(et,Ie),et.return=we,we=et;break e}g(we,be);break}else f(we,be);be=be.sibling}Ie.type===S?(et=zc(Ie.props.children,we.mode,et,Ie.key),et.return=we,we=et):(et=pm(Ie.type,Ie.key,Ie.props,null,we.mode,et),xm(et,Ie),et.return=we,we=et)}return W(we);case _:e:{for(en=Ie.key;be!==null;){if(be.key===en)if(be.tag===4&&be.stateNode.containerInfo===Ie.containerInfo&&be.stateNode.implementation===Ie.implementation){g(we,be.sibling),et=R(be,Ie.children||[]),et.return=we,we=et;break e}else{g(we,be);break}else f(we,be);be=be.sibling}et=hl(Ie,we.mode,et),et.return=we,we=et}return W(we);case N:return Ie=Qf(Ie),qi(we,be,Ie,et)}if(ee(Ie))return Vt(we,be,Ie,et);if(z(Ie)){if(en=z(Ie),typeof en!="function")throw Error(i(150));return Ie=en.call(Ie),ln(we,be,Ie,et)}if(typeof Ie.then=="function")return qi(we,be,Oy(Ie),et);if(Ie.$$typeof===M)return qi(we,be,vm(we,Ie),et);Sm(we,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,be!==null&&be.tag===6?(g(we,be.sibling),et=R(be,Ie),et.return=we,we=et):(g(we,be),et=Ey(Ie,we.mode,et),et.return=we,we=et),W(we)):g(we,be)}return function(we,be,Ie,et){try{Hu=0;var en=qi(we,be,Ie,et);return Vu=null,en}catch(qt){if(qt===Fu||qt===ml)throw qt;var Ti=fa(29,qt,null,we.mode);return Ti.lanes=et,Ti.return=we,Ti}finally{}}}var Jf=Od(!0),eE=Od(!1),ju=!1;function G_(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function q_(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function nc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function qc(l,f,g){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(ti&2)!==0){var R=b.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),b.pending=f,f=wd(l),Sy(l,null,g),f}return dm(l,b,f,g),wd(l)}function Gu(l,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var b=f.lanes;b&=l.pendingLanes,g|=b,f.lanes=g,vn(l,g)}}function Iy(l,f){var g=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var R=null,k=null;if(g=g.firstBaseUpdate,g!==null){do{var W={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};k===null?R=k=W:k=k.next=W,g=g.next}while(g!==null);k===null?R=k=f:k=k.next=f}else R=k=f;g={baseState:b.baseState,firstBaseUpdate:R,lastBaseUpdate:k,shared:b.shared,callbacks:b.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=f:l.next=f,g.lastBaseUpdate=f}var W_=!1;function Em(){if(W_){var l=pl;if(l!==null)throw l}}function eh(l,f,g,b){W_=!1;var R=l.updateQueue;ju=!1;var k=R.firstBaseUpdate,W=R.lastBaseUpdate,ne=R.shared.pending;if(ne!==null){R.shared.pending=null;var ge=ne,Pe=ge.next;ge.next=null,W===null?k=Pe:W.next=Pe,W=ge;var Ye=l.alternate;Ye!==null&&(Ye=Ye.updateQueue,ne=Ye.lastBaseUpdate,ne!==W&&(ne===null?Ye.firstBaseUpdate=Pe:ne.next=Pe,Ye.lastBaseUpdate=ge))}if(k!==null){var tt=R.baseState;W=0,Ye=Pe=ge=null,ne=k;do{var ke=ne.lane&-536870913,We=ke!==ne.lane;if(We?(Yn&ke)===ke:(b&ke)===ke){ke!==0&&ke===Gc&&(W_=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var Vt=l,ln=ne;ke=f;var qi=g;switch(ln.tag){case 1:if(Vt=ln.payload,typeof Vt=="function"){tt=Vt.call(qi,tt,ke);break e}tt=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=ln.payload,ke=typeof Vt=="function"?Vt.call(qi,tt,ke):Vt,ke==null)break e;tt=p({},tt,ke);break e;case 2:ju=!0}}ke=ne.callback,ke!==null&&(l.flags|=64,We&&(l.flags|=8192),We=R.callbacks,We===null?R.callbacks=[ke]:We.push(ke))}else We={lane:ke,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Ye===null?(Pe=Ye=We,ge=tt):Ye=Ye.next=We,W|=ke;if(ne=ne.next,ne===null){if(ne=R.shared.pending,ne===null)break;We=ne,ne=We.next,We.next=null,R.lastBaseUpdate=We,R.shared.pending=null}}while(!0);Ye===null&&(ge=tt),R.baseState=ge,R.firstBaseUpdate=Pe,R.lastBaseUpdate=Ye,k===null&&(R.shared.lanes=0),_o|=W,l.lanes=W,l.memoizedState=tt}}function ic(l,f){if(typeof l!="function")throw Error(i(191,l));l.call(f)}function Ps(l,f){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)ic(g[l],f)}var lo=Y(null),da=Y(0);function $_(l,f){l=Or,pe(da,l),pe(lo,f),Or=l|f.baseLanes}function X_(){pe(da,Or),pe(lo,lo.current)}function Ws(){Or=da.current,le(lo),le(da)}var ss=Y(null),zo=null;function qu(l){var f=l.alternate;pe(dr,dr.current&1),pe(ss,l),zo===null&&(f===null||lo.current!==null||f.memoizedState!==null)&&(zo=l)}function Y_(l){pe(dr,dr.current),pe(ss,l),zo===null&&(zo=l)}function tE(l){l.tag===22?(pe(dr,dr.current),pe(ss,l),zo===null&&(zo=l)):Wc()}function Wc(){pe(dr,dr.current),pe(ss,ss.current)}function co(l){le(ss),zo===l&&(zo=null),le(dr)}var dr=Y(0);function Py(l){for(var f=l;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||sR(g)||aR(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Da=0,un=null,Ii=null,Gr=null,Dy=!1,rc=!1,th=!1,Ny=0,Tm=0,sc=null,kM=0;function pr(){throw Error(i(321))}function K_(l,f){if(f===null)return!1;for(var g=0;g<f.length&&g<l.length;g++)if(!Yi(l[g],f[g]))return!1;return!0}function Z_(l,f,g,b,R,k){return Da=k,un=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,q.H=l===null||l.memoizedState===null?xE:Dd,th=!1,k=g(b,R),th=!1,rc&&(k=iE(f,g,b,R)),nE(l),k}function nE(l){q.H=Rm;var f=Ii!==null&&Ii.next!==null;if(Da=0,Gr=Ii=un=null,Dy=!1,Tm=0,sc=null,f)throw Error(i(300));l===null||Ki||(l=l.dependencies,l!==null&&Ad(l)&&(Ki=!0))}function iE(l,f,g,b){un=l;var R=0;do{if(rc&&(sc=null),Tm=0,rc=!1,25<=R)throw Error(i(301));if(R+=1,Gr=Ii=null,l.updateQueue!=null){var k=l.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}q.H=Om,k=f(g,b)}while(rc);return k}function zM(){var l=q.H,f=l.useState()[0];return f=typeof f.then=="function"?Cm(f):f,l=l.useState()[0],(Ii!==null?Ii.memoizedState:null)!==l&&(un.flags|=1024),f}function Q_(){var l=Ny!==0;return Ny=0,l}function J_(l,f,g){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~g}function e1(l){if(Dy){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Dy=!1}Da=0,Gr=Ii=un=null,rc=!1,Tm=Ny=0,sc=null}function pa(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?un.memoizedState=Gr=l:Gr=Gr.next=l,Gr}function Cr(){if(Ii===null){var l=un.alternate;l=l!==null?l.memoizedState:null}else l=Ii.next;var f=Gr===null?un.memoizedState:Gr.next;if(f!==null)Gr=f,Ii=l;else{if(l===null)throw un.alternate===null?Error(i(467)):Error(i(310));Ii=l,l={memoizedState:Ii.memoizedState,baseState:Ii.baseState,baseQueue:Ii.baseQueue,queue:Ii.queue,next:null},Gr===null?un.memoizedState=Gr=l:Gr=Gr.next=l}return Gr}function wm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cm(l){var f=Tm;return Tm+=1,sc===null&&(sc=[]),l=H_(sc,l,f),f=un,(Gr===null?f.memoizedState:Gr.next)===null&&(f=f.alternate,q.H=f===null||f.memoizedState===null?xE:Dd),l}function Ly(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Cm(l);if(l.$$typeof===M)return bs(l)}throw Error(i(438,String(l)))}function t1(l){var f=null,g=un.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var b=un.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(R){return R.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=wm(),un.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(l),b=0;b<l;b++)g[b]=U;return f.index++,g}function $c(l,f){return typeof f=="function"?f(l):f}function Uy(l){var f=Cr();return n1(f,Ii,l)}function n1(l,f,g){var b=l.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=g;var R=l.baseQueue,k=b.pending;if(k!==null){if(R!==null){var W=R.next;R.next=k.next,k.next=W}f.baseQueue=R=k,b.pending=null}if(k=l.baseState,R===null)l.memoizedState=k;else{f=R.next;var ne=W=null,ge=null,Pe=f,Ye=!1;do{var tt=Pe.lane&-536870913;if(tt!==Pe.lane?(Yn&tt)===tt:(Da&tt)===tt){var ke=Pe.revertLane;if(ke===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),tt===Gc&&(Ye=!0);else if((Da&ke)===ke){Pe=Pe.next,ke===Gc&&(Ye=!0);continue}else tt={lane:0,revertLane:Pe.revertLane,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},ge===null?(ne=ge=tt,W=k):ge=ge.next=tt,un.lanes|=ke,_o|=ke;tt=Pe.action,th&&g(k,tt),k=Pe.hasEagerState?Pe.eagerState:g(k,tt)}else ke={lane:tt,revertLane:Pe.revertLane,gesture:Pe.gesture,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},ge===null?(ne=ge=ke,W=k):ge=ge.next=ke,un.lanes|=tt,_o|=tt;Pe=Pe.next}while(Pe!==null&&Pe!==f);if(ge===null?W=k:ge.next=ne,!Yi(k,l.memoizedState)&&(Ki=!0,Ye&&(g=pl,g!==null)))throw g;l.memoizedState=k,l.baseState=W,l.baseQueue=ge,b.lastRenderedState=k}return R===null&&(b.lanes=0),[l.memoizedState,b.dispatch]}function ky(l){var f=Cr(),g=f.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=l;var b=g.dispatch,R=g.pending,k=f.memoizedState;if(R!==null){g.pending=null;var W=R=R.next;do k=l(k,W.action),W=W.next;while(W!==R);Yi(k,f.memoizedState)||(Ki=!0),f.memoizedState=k,f.baseQueue===null&&(f.baseState=k),g.lastRenderedState=k}return[k,b]}function i1(l,f,g){var b=un,R=Cr(),k=Zn;if(k){if(g===void 0)throw Error(i(407));g=g()}else g=f();var W=!Yi((Ii||R).memoizedState,g);if(W&&(R.memoizedState=g,Ki=!0),R=R.queue,l1(s1.bind(null,b,R,l),[l]),R.getSnapshot!==f||W||Gr!==null&&Gr.memoizedState.tag&1){if(b.flags|=2048,Id(9,{destroy:void 0},r1.bind(null,b,R,g,f),null),Si===null)throw Error(i(349));k||(Da&127)!==0||rE(b,f,g)}return g}function rE(l,f,g){l.flags|=16384,l={getSnapshot:f,value:g},f=un.updateQueue,f===null?(f=wm(),un.updateQueue=f,f.stores=[l]):(g=f.stores,g===null?f.stores=[l]:g.push(l))}function r1(l,f,g,b){f.value=g,f.getSnapshot=b,a1(f)&&zy(l)}function s1(l,f,g){return g(function(){a1(f)&&zy(l)})}function a1(l){var f=l.getSnapshot;l=l.value;try{var g=f();return!Yi(l,g)}catch{return!0}}function zy(l){var f=Lu(l,2);f!==null&&m(f,l,2)}function Am(l){var f=pa();if(typeof l=="function"){var g=l;if(l=g(),th){vt(!0);try{g()}finally{vt(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:l},f}function sE(l,f,g,b){return l.baseState=g,n1(l,Ii,typeof b=="function"?b:$c)}function BM(l,f,g,b,R){if(Xc(l))throw Error(i(485));if(l=f.action,l!==null){var k={payload:R,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){k.listeners.push(W)}};q.T!==null?g(!0):k.isTransition=!1,b(k),g=f.pending,g===null?(k.next=f.pending=k,aE(f,k)):(k.next=g.next,f.pending=g.next=k)}}function aE(l,f){var g=f.action,b=f.payload,R=l.state;if(f.isTransition){var k=q.T,W={};q.T=W;try{var ne=g(R,b),ge=q.S;ge!==null&&ge(W,ne),oE(l,f,ne)}catch(Pe){By(l,f,Pe)}finally{k!==null&&W.types!==null&&(k.types=W.types),q.T=k}}else try{k=g(R,b),oE(l,f,k)}catch(Pe){By(l,f,Pe)}}function oE(l,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(b){o1(l,f,b)},function(b){return By(l,f,b)}):o1(l,f,g)}function o1(l,f,g){f.status="fulfilled",f.value=g,lE(f),l.state=g,f=l.pending,f!==null&&(g=f.next,g===f?l.pending=null:(g=g.next,f.next=g,aE(l,g)))}function By(l,f,g){var b=l.pending;if(l.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=g,lE(f),f=f.next;while(f!==b)}l.action=null}function lE(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function cE(l,f){return f}function uE(l,f){if(Zn){var g=Si.formState;if(g!==null){e:{var b=un;if(Zn){if(Hi){t:{for(var R=Hi,k=_s;R.nodeType!==8;){if(!k){R=null;break t}if(R=fc(R.nextSibling),R===null){R=null;break t}}k=R.data,R=k==="F!"||k==="F"?R:null}if(R){Hi=fc(R.nextSibling),b=R.data==="F!";break e}}Xn(b)}b=!1}b&&(f=g[0])}}return g=pa(),g.memoizedState=g.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cE,lastRenderedState:f},g.queue=b,g=bE.bind(null,un,b),b.dispatch=g,b=Am(!1),k=Mm.bind(null,un,!1,b.queue),b=pa(),R={state:f,dispatch:null,action:l,pending:null},b.queue=R,g=BM.bind(null,un,R,k,g),R.dispatch=g,b.memoizedState=l,[f,g,!1]}function fE(l){var f=Cr();return hE(f,Ii,l)}function hE(l,f,g){if(f=n1(l,f,cE)[0],l=Uy($c)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var b=Cm(f)}catch(W){throw W===Fu?ml:W}else b=f;f=Cr();var R=f.queue,k=R.dispatch;return g!==f.memoizedState&&(un.flags|=2048,Id(9,{destroy:void 0},FM.bind(null,R,g),null)),[b,k,l]}function FM(l,f){l.action=f}function dE(l){var f=Cr(),g=Ii;if(g!==null)return hE(f,g,l);Cr(),f=f.memoizedState,g=Cr();var b=g.queue.dispatch;return g.memoizedState=l,[f,b,!1]}function Id(l,f,g,b){return l={tag:l,create:g,deps:b,inst:f,next:null},f=un.updateQueue,f===null&&(f=wm(),un.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=l.next=l:(b=g.next,g.next=l,l.next=b,f.lastEffect=l),l}function pE(){return Cr().memoizedState}function Fy(l,f,g,b){var R=pa();un.flags|=l,R.memoizedState=Id(1|f,{destroy:void 0},g,b===void 0?null:b)}function Vy(l,f,g,b){var R=Cr();b=b===void 0?null:b;var k=R.memoizedState.inst;Ii!==null&&b!==null&&K_(b,Ii.memoizedState.deps)?R.memoizedState=Id(f,k,g,b):(un.flags|=l,R.memoizedState=Id(1|f,k,g,b))}function mE(l,f){Fy(8390656,8,l,f)}function l1(l,f){Vy(2048,8,l,f)}function gE(l){un.flags|=4;var f=un.updateQueue;if(f===null)f=wm(),un.updateQueue=f,f.events=[l];else{var g=f.events;g===null?f.events=[l]:g.push(l)}}function yE(l){var f=Cr().memoizedState;return gE({ref:f,nextImpl:l}),function(){if((ti&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}function vE(l,f){return Vy(4,2,l,f)}function uo(l,f){return Vy(4,4,l,f)}function c1(l,f){if(typeof f=="function"){l=l();var g=f(l);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function Hy(l,f,g){g=g!=null?g.concat([l]):null,Vy(4,4,c1.bind(null,f,l),g)}function jy(){}function u1(l,f){var g=Cr();f=f===void 0?null:f;var b=g.memoizedState;return f!==null&&K_(f,b[1])?b[0]:(g.memoizedState=[l,f],l)}function f1(l,f){var g=Cr();f=f===void 0?null:f;var b=g.memoizedState;if(f!==null&&K_(f,b[1]))return b[0];if(b=l(),th){vt(!0);try{l()}finally{vt(!1)}}return g.memoizedState=[b,f],b}function h1(l,f,g){return g===void 0||(Da&1073741824)!==0&&(Yn&261930)===0?l.memoizedState=f:(l.memoizedState=g,l=d(),un.lanes|=l,_o|=l,g)}function d1(l,f,g,b){return Yi(g,f)?g:lo.current!==null?(l=h1(l,g,b),Yi(l,f)||(Ki=!0),l):(Da&42)===0||(Da&1073741824)!==0&&(Yn&261930)===0?(Ki=!0,l.memoizedState=g):(l=d(),un.lanes|=l,_o|=l,f)}function p1(l,f,g,b,R){var k=$.p;$.p=k!==0&&8>k?k:8;var W=q.T,ne={};q.T=ne,Mm(l,!1,f,g);try{var ge=R(),Pe=q.S;if(Pe!==null&&Pe(ne,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ye=V_(ge,b);Pd(l,f,Ye,ga(l))}else Pd(l,f,b,ga(l))}catch(tt){Pd(l,f,{then:function(){},status:"rejected",reason:tt},ga())}finally{$.p=k,W!==null&&ne.types!==null&&(W.types=ne.types),q.T=W}}function VM(){}function m1(l,f,g,b){if(l.tag!==5)throw Error(i(476));var R=_E(l).queue;p1(l,R,f,Q,g===null?VM:function(){return g1(l),g(b)})}function _E(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:Q},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:g},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function g1(l){var f=_E(l);f.next===null&&(f=l.alternate.memoizedState),Pd(l,f.next.queue,{},ga())}function y1(){return bs(O1)}function Ds(){return Cr().memoizedState}function v1(){return Cr().memoizedState}function HM(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var g=ga();l=nc(g);var b=qc(f,l,g);b!==null&&(m(b,f,g),Gu(b,f,g)),f={cache:z_()},l.payload=f;return}f=f.return}}function jM(l,f,g){var b=ga();g={lane:b,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Xc(l)?nh(f,g):(g=Td(l,f,g,b),g!==null&&(m(g,l,b),Na(g,f,b)))}function bE(l,f,g){var b=ga();Pd(l,f,g,b)}function Pd(l,f,g,b){var R={lane:b,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(Xc(l))nh(f,R);else{var k=l.alternate;if(l.lanes===0&&(k===null||k.lanes===0)&&(k=f.lastRenderedReducer,k!==null))try{var W=f.lastRenderedState,ne=k(W,g);if(R.hasEagerState=!0,R.eagerState=ne,Yi(ne,W))return dm(l,f,R,0),Si===null&&Nu(),!1}catch{}finally{}if(g=Td(l,f,R,b),g!==null)return m(g,l,b),Na(g,f,b),!0}return!1}function Mm(l,f,g,b){if(b={lane:2,revertLane:$M(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},Xc(l)){if(f)throw Error(i(479))}else f=Td(l,g,b,2),f!==null&&m(f,l,2)}function Xc(l){var f=l.alternate;return l===un||f!==null&&f===un}function nh(l,f){rc=Dy=!0;var g=l.pending;g===null?f.next=f:(f.next=g.next,g.next=f),l.pending=f}function Na(l,f,g){if((g&4194048)!==0){var b=f.lanes;b&=l.pendingLanes,g|=b,f.lanes=g,vn(l,g)}}var Rm={readContext:bs,use:Ly,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useLayoutEffect:pr,useInsertionEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useSyncExternalStore:pr,useId:pr,useHostTransitionStatus:pr,useFormState:pr,useActionState:pr,useOptimistic:pr,useMemoCache:pr,useCacheRefresh:pr};Rm.useEffectEvent=pr;var xE={readContext:bs,use:Ly,useCallback:function(l,f){return pa().memoizedState=[l,f===void 0?null:f],l},useContext:bs,useEffect:mE,useImperativeHandle:function(l,f,g){g=g!=null?g.concat([l]):null,Fy(4194308,4,c1.bind(null,f,l),g)},useLayoutEffect:function(l,f){return Fy(4194308,4,l,f)},useInsertionEffect:function(l,f){Fy(4,2,l,f)},useMemo:function(l,f){var g=pa();f=f===void 0?null:f;var b=l();if(th){vt(!0);try{l()}finally{vt(!1)}}return g.memoizedState=[b,f],b},useReducer:function(l,f,g){var b=pa();if(g!==void 0){var R=g(f);if(th){vt(!0);try{g(f)}finally{vt(!1)}}}else R=f;return b.memoizedState=b.baseState=R,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:R},b.queue=l,l=l.dispatch=jM.bind(null,un,l),[b.memoizedState,l]},useRef:function(l){var f=pa();return l={current:l},f.memoizedState=l},useState:function(l){l=Am(l);var f=l.queue,g=bE.bind(null,un,f);return f.dispatch=g,[l.memoizedState,g]},useDebugValue:jy,useDeferredValue:function(l,f){var g=pa();return h1(g,l,f)},useTransition:function(){var l=Am(!1);return l=p1.bind(null,un,l.queue,!0,!1),pa().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,g){var b=un,R=pa();if(Zn){if(g===void 0)throw Error(i(407));g=g()}else{if(g=f(),Si===null)throw Error(i(349));(Yn&127)!==0||rE(b,f,g)}R.memoizedState=g;var k={value:g,getSnapshot:f};return R.queue=k,mE(s1.bind(null,b,k,l),[l]),b.flags|=2048,Id(9,{destroy:void 0},r1.bind(null,b,k,g,f),null),g},useId:function(){var l=pa(),f=Si.identifierPrefix;if(Zn){var g=ec,b=Jl;g=(b&~(1<<32-jt(b)-1)).toString(32)+g,f="_"+f+"R_"+g,g=Ny++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=kM++,f="_"+f+"r_"+g.toString(32)+"_";return l.memoizedState=f},useHostTransitionStatus:y1,useFormState:uE,useActionState:uE,useOptimistic:function(l){var f=pa();f.memoizedState=f.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=Mm.bind(null,un,!0,g),g.dispatch=f,[l,f]},useMemoCache:t1,useCacheRefresh:function(){return pa().memoizedState=HM.bind(null,un)},useEffectEvent:function(l){var f=pa(),g={impl:l};return f.memoizedState=g,function(){if((ti&2)!==0)throw Error(i(440));return g.impl.apply(void 0,arguments)}}},Dd={readContext:bs,use:Ly,useCallback:u1,useContext:bs,useEffect:l1,useImperativeHandle:Hy,useInsertionEffect:vE,useLayoutEffect:uo,useMemo:f1,useReducer:Uy,useRef:pE,useState:function(){return Uy($c)},useDebugValue:jy,useDeferredValue:function(l,f){var g=Cr();return d1(g,Ii.memoizedState,l,f)},useTransition:function(){var l=Uy($c)[0],f=Cr().memoizedState;return[typeof l=="boolean"?l:Cm(l),f]},useSyncExternalStore:i1,useId:Ds,useHostTransitionStatus:y1,useFormState:fE,useActionState:fE,useOptimistic:function(l,f){var g=Cr();return sE(g,Ii,l,f)},useMemoCache:t1,useCacheRefresh:v1};Dd.useEffectEvent=yE;var Om={readContext:bs,use:Ly,useCallback:u1,useContext:bs,useEffect:l1,useImperativeHandle:Hy,useInsertionEffect:vE,useLayoutEffect:uo,useMemo:f1,useReducer:ky,useRef:pE,useState:function(){return ky($c)},useDebugValue:jy,useDeferredValue:function(l,f){var g=Cr();return Ii===null?h1(g,l,f):d1(g,Ii.memoizedState,l,f)},useTransition:function(){var l=ky($c)[0],f=Cr().memoizedState;return[typeof l=="boolean"?l:Cm(l),f]},useSyncExternalStore:i1,useId:Ds,useHostTransitionStatus:y1,useFormState:dE,useActionState:dE,useOptimistic:function(l,f){var g=Cr();return Ii!==null?sE(g,Ii,l,f):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:t1,useCacheRefresh:v1};Om.useEffectEvent=yE;function Nd(l,f,g,b){f=l.memoizedState,g=g(b,f),g=g==null?f:p({},f,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var Im={enqueueSetState:function(l,f,g){l=l._reactInternals;var b=ga(),R=nc(b);R.payload=f,g!=null&&(R.callback=g),f=qc(l,R,b),f!==null&&(m(f,l,b),Gu(f,l,b))},enqueueReplaceState:function(l,f,g){l=l._reactInternals;var b=ga(),R=nc(b);R.tag=1,R.payload=f,g!=null&&(R.callback=g),f=qc(l,R,b),f!==null&&(m(f,l,b),Gu(f,l,b))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var g=ga(),b=nc(g);b.tag=2,f!=null&&(b.callback=f),f=qc(l,b,g),f!==null&&(m(f,l,g),Gu(f,l,g))}};function SE(l,f,g,b,R,k,W){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,k,W):f.prototype&&f.prototype.isPureReactComponent?!vd(g,b)||!vd(R,k):!0}function EE(l,f,g,b){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,b),f.state!==l&&Im.enqueueReplaceState(f,f.state,null)}function Ns(l,f){var g=f;if("ref"in f){g={};for(var b in f)b!=="ref"&&(g[b]=f[b])}if(l=l.defaultProps){g===f&&(g=p({},g));for(var R in l)g[R]===void 0&&(g[R]=l[R])}return g}function _1(l){Du(l)}function TE(l){console.error(l)}function Gy(l){Du(l)}function qy(l,f){try{var g=l.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function wE(l,f,g){try{var b=l.onCaughtError;b(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function b1(l,f,g){return g=nc(g),g.tag=3,g.payload={element:null},g.callback=function(){qy(l,f)},g}function Ld(l){return l=nc(l),l.tag=3,l}function La(l,f,g,b){var R=g.type.getDerivedStateFromError;if(typeof R=="function"){var k=b.value;l.payload=function(){return R(k)},l.callback=function(){wE(f,g,b)}}var W=g.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(l.callback=function(){wE(f,g,b),typeof R!="function"&&(uc===null?uc=new Set([this]):uc.add(this));var ne=b.stack;this.componentDidCatch(b.value,{componentStack:ne!==null?ne:""})})}function fo(l,f,g,b,R){if(g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=g.alternate,f!==null&&zu(f,g,R,!0),g=ss.current,g!==null){switch(g.tag){case 31:case 13:return zo===null?_n():g.alternate===null&&Ei===0&&(Ei=3),g.flags&=-257,g.flags|=65536,g.lanes=R,b===bm?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([b]):f.add(b),GM(l,b,R)),!1;case 22:return g.flags|=65536,b===bm?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([b]):g.add(b)),GM(l,b,R)),!1}throw Error(i(435,g.tag))}return GM(l,b,R),_n(),!1}if(Zn)return f=ss.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=R,b!==wy&&(l=Error(i(422),{cause:b}),ym(Ia(l,g)))):(b!==wy&&(f=Error(i(423),{cause:b}),ym(Ia(f,g))),l=l.current.alternate,l.flags|=65536,R&=-R,l.lanes|=R,b=Ia(b,g),R=b1(l.stateNode,b,R),Iy(l,R),Ei!==4&&(Ei=2)),!1;var k=Error(i(520),{cause:b});if(k=Ia(k,g),bl===null?bl=[k]:bl.push(k),Ei!==4&&(Ei=2),f===null)return!0;b=Ia(b,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,l=R&-R,g.lanes|=l,l=b1(g.stateNode,b,l),Iy(g,l),!1;case 1:if(f=g.type,k=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(uc===null||!uc.has(k))))return g.flags|=65536,R&=-R,g.lanes|=R,R=Ld(R),La(R,l,g,b),Iy(g,R),!1}g=g.return}while(g!==null);return!1}var Wy=Error(i(461)),Ki=!1;function mr(l,f,g,b){f.child=l===null?eE(f,null,g,b):Jf(f,l.child,g,b)}function Pm(l,f,g,b,R){g=g.render;var k=f.ref;if("ref"in b){var W={};for(var ne in b)ne!=="ref"&&(W[ne]=b[ne])}else W=b;return Kf(f),b=Z_(l,f,g,W,k,R),ne=Q_(),l!==null&&!Ki?(J_(l,f,R),vl(l,f,R)):(Zn&&ne&&Ty(f),f.flags|=1,mr(l,f,b,R),f.child)}function Dm(l,f,g,b,R){if(l===null){var k=g.type;return typeof k=="function"&&!ha(k)&&k.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=k,ho(l,f,k,b,R)):(l=pm(g.type,null,b,f,f.mode,R),l.ref=f.ref,l.return=f,f.child=l)}if(k=l.child,!$u(l,R)){var W=k.memoizedProps;if(g=g.compare,g=g!==null?g:vd,g(W,b)&&l.ref===f.ref)return vl(l,f,R)}return f.flags|=1,l=Zl(k,b),l.ref=f.ref,l.return=f,f.child=l}function ho(l,f,g,b,R){if(l!==null){var k=l.memoizedProps;if(vd(k,b)&&l.ref===f.ref)if(Ki=!1,f.pendingProps=b=k,$u(l,R))(l.flags&131072)!==0&&(Ki=!0);else return f.lanes=l.lanes,vl(l,f,R)}return Ud(l,f,g,b,R)}function po(l,f,g,b){var R=b.children,k=l!==null?l.memoizedState:null;if(l===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((f.flags&128)!==0){if(k=k!==null?k.baseLanes|g:g,l!==null){for(b=f.child=l.child,R=0;b!==null;)R=R|b.lanes|b.childLanes,b=b.sibling;b=R&~k}else b=0,f.child=null;return ac(l,f,k,g,b)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&Rd(f,k!==null?k.cachePool:null),k!==null?$_(f,k):X_(),tE(f);else return b=f.lanes=536870912,ac(l,f,k!==null?k.baseLanes|g:g,g,b)}else k!==null?(Rd(f,k.cachePool),$_(f,k),Wc(),f.memoizedState=null):(l!==null&&Rd(f,null),X_(),Wc());return mr(l,f,R,g),f.child}function gl(l,f){return l!==null&&l.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function ac(l,f,g,b,R){var k=tc();return k=k===null?null:{parent:Xt._currentValue,pool:k},f.memoizedState={baseLanes:g,cachePool:k},l!==null&&Rd(f,null),X_(),tE(f),l!==null&&zu(l,f,b,!0),f.childLanes=R,null}function Bo(l,f){return f=kd({mode:f.mode,children:f.children},l.mode),f.ref=l.ref,l.child=f,f.return=l,f}function xs(l,f,g){return Jf(f,l.child,null,g),l=Bo(f,f.pendingProps),l.flags|=2,co(f),f.memoizedState=null,l}function Nm(l,f,g){var b=f.pendingProps,R=(f.flags&128)!==0;if(f.flags&=-129,l===null){if(Zn){if(b.mode==="hidden")return l=Bo(f,b),f.lanes=536870912,gl(null,l);if(Y_(f),(l=Hi)?(l=y4(l,_s),l=l!==null&&l.data==="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:Ql!==null?{id:Jl,overflow:ec}:null,retryLane:536870912,hydrationErrors:null},g=XS(l),g.return=f,f.child=g,vs=f,Hi=null)):l=null,l===null)throw Xn(f);return f.lanes=536870912,null}return Bo(f,b)}var k=l.memoizedState;if(k!==null){var W=k.dehydrated;if(Y_(f),R)if(f.flags&256)f.flags&=-257,f=xs(l,f,g);else if(f.memoizedState!==null)f.child=l.child,f.flags|=128,f=null;else throw Error(i(558));else if(Ki||zu(l,f,g,!1),R=(g&l.childLanes)!==0,Ki||R){if(b=Si,b!==null&&(W=zn(b,g),W!==0&&W!==k.retryLane))throw k.retryLane=W,Lu(l,W),m(b,l,W),Wy;_n(),f=xs(l,f,g)}else l=k.treeContext,Hi=fc(W.nextSibling),vs=f,Zn=!0,Fc=null,_s=!1,l!==null&&gm(f,l),f=Bo(f,b),f.flags|=4096;return f}return l=Zl(l.child,{mode:b.mode,children:b.children}),l.ref=f.ref,f.child=l,l.return=f,l}function yl(l,f){var g=f.ref;if(g===null)l!==null&&l.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(l===null||l.ref!==g)&&(f.flags|=4194816)}}function Ud(l,f,g,b,R){return Kf(f),g=Z_(l,f,g,b,void 0,R),b=Q_(),l!==null&&!Ki?(J_(l,f,R),vl(l,f,R)):(Zn&&b&&Ty(f),f.flags|=1,mr(l,f,g,R),f.child)}function $s(l,f,g,b,R,k){return Kf(f),f.updateQueue=null,g=iE(f,b,g,R),nE(l),b=Q_(),l!==null&&!Ki?(J_(l,f,k),vl(l,f,k)):(Zn&&b&&Ty(f),f.flags|=1,mr(l,f,g,k),f.child)}function Ls(l,f,g,b,R){if(Kf(f),f.stateNode===null){var k=Uu,W=g.contextType;typeof W=="object"&&W!==null&&(k=bs(W)),k=new g(b,k),f.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Im,f.stateNode=k,k._reactInternals=f,k=f.stateNode,k.props=b,k.state=f.memoizedState,k.refs={},G_(f),W=g.contextType,k.context=typeof W=="object"&&W!==null?bs(W):Uu,k.state=f.memoizedState,W=g.getDerivedStateFromProps,typeof W=="function"&&(Nd(f,g,W,b),k.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(W=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),W!==k.state&&Im.enqueueReplaceState(k,k.state,null),eh(f,b,k,R),Em(),k.state=f.memoizedState),typeof k.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(l===null){k=f.stateNode;var ne=f.memoizedProps,ge=Ns(g,ne);k.props=ge;var Pe=k.context,Ye=g.contextType;W=Uu,typeof Ye=="object"&&Ye!==null&&(W=bs(Ye));var tt=g.getDerivedStateFromProps;Ye=typeof tt=="function"||typeof k.getSnapshotBeforeUpdate=="function",ne=f.pendingProps!==ne,Ye||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ne||Pe!==W)&&EE(f,k,b,W),ju=!1;var ke=f.memoizedState;k.state=ke,eh(f,b,k,R),Em(),Pe=f.memoizedState,ne||ke!==Pe||ju?(typeof tt=="function"&&(Nd(f,g,tt,b),Pe=f.memoizedState),(ge=ju||SE(f,g,ge,b,ke,Pe,W))?(Ye||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(f.flags|=4194308)):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=Pe),k.props=b,k.state=Pe,k.context=W,b=ge):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{k=f.stateNode,q_(l,f),W=f.memoizedProps,Ye=Ns(g,W),k.props=Ye,tt=f.pendingProps,ke=k.context,Pe=g.contextType,ge=Uu,typeof Pe=="object"&&Pe!==null&&(ge=bs(Pe)),ne=g.getDerivedStateFromProps,(Pe=typeof ne=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(W!==tt||ke!==ge)&&EE(f,k,b,ge),ju=!1,ke=f.memoizedState,k.state=ke,eh(f,b,k,R),Em();var We=f.memoizedState;W!==tt||ke!==We||ju||l!==null&&l.dependencies!==null&&Ad(l.dependencies)?(typeof ne=="function"&&(Nd(f,g,ne,b),We=f.memoizedState),(Ye=ju||SE(f,g,Ye,b,ke,We,ge)||l!==null&&l.dependencies!==null&&Ad(l.dependencies))?(Pe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(b,We,ge),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(b,We,ge)),typeof k.componentDidUpdate=="function"&&(f.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof k.componentDidUpdate!="function"||W===l.memoizedProps&&ke===l.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||W===l.memoizedProps&&ke===l.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=We),k.props=b,k.state=We,k.context=ge,b=Ye):(typeof k.componentDidUpdate!="function"||W===l.memoizedProps&&ke===l.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||W===l.memoizedProps&&ke===l.memoizedState||(f.flags|=1024),b=!1)}return k=b,yl(l,f),b=(f.flags&128)!==0,k||b?(k=f.stateNode,g=b&&typeof g.getDerivedStateFromError!="function"?null:k.render(),f.flags|=1,l!==null&&b?(f.child=Jf(f,l.child,null,R),f.child=Jf(f,null,g,R)):mr(l,f,g,R),f.memoizedState=k.state,l=f.child):l=vl(l,f,R),l}function si(l,f,g,b){return Yf(),f.flags|=256,mr(l,f,g,b),f.child}var mo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fo(l){return{baseLanes:l,cachePool:My()}}function Lm(l,f,g){return l=l!==null?l.childLanes&~g:0,f&&(l|=ni),l}function go(l,f,g){var b=f.pendingProps,R=!1,k=(f.flags&128)!==0,W;if((W=k)||(W=l!==null&&l.memoizedState===null?!1:(dr.current&2)!==0),W&&(R=!0,f.flags&=-129),W=(f.flags&32)!==0,f.flags&=-33,l===null){if(Zn){if(R?qu(f):Wc(),(l=Hi)?(l=y4(l,_s),l=l!==null&&l.data!=="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:Ql!==null?{id:Jl,overflow:ec}:null,retryLane:536870912,hydrationErrors:null},g=XS(l),g.return=f,f.child=g,vs=f,Hi=null)):l=null,l===null)throw Xn(f);return aR(l)?f.lanes=32:f.lanes=536870912,null}var ne=b.children;return b=b.fallback,R?(Wc(),R=f.mode,ne=kd({mode:"hidden",children:ne},R),b=zc(b,R,g,null),ne.return=f,b.return=f,ne.sibling=b,f.child=ne,b=f.child,b.memoizedState=Fo(g),b.childLanes=Lm(l,W,g),f.memoizedState=mo,gl(null,b)):(qu(f),Wu(f,ne))}var ge=l.memoizedState;if(ge!==null&&(ne=ge.dehydrated,ne!==null)){if(k)f.flags&256?(qu(f),f.flags&=-257,f=zd(l,f,g)):f.memoizedState!==null?(Wc(),f.child=l.child,f.flags|=128,f=null):(Wc(),ne=b.fallback,R=f.mode,b=kd({mode:"visible",children:b.children},R),ne=zc(ne,R,g,null),ne.flags|=2,b.return=f,ne.return=f,b.sibling=ne,f.child=b,Jf(f,l.child,null,g),b=f.child,b.memoizedState=Fo(g),b.childLanes=Lm(l,W,g),f.memoizedState=mo,f=gl(null,b));else if(qu(f),aR(ne)){if(W=ne.nextSibling&&ne.nextSibling.dataset,W)var Pe=W.dgst;W=Pe,b=Error(i(419)),b.stack="",b.digest=W,ym({value:b,source:null,stack:null}),f=zd(l,f,g)}else if(Ki||zu(l,f,g,!1),W=(g&l.childLanes)!==0,Ki||W){if(W=Si,W!==null&&(b=zn(W,g),b!==0&&b!==ge.retryLane))throw ge.retryLane=b,Lu(l,b),m(W,l,b),Wy;sR(ne)||_n(),f=zd(l,f,g)}else sR(ne)?(f.flags|=192,f.child=l.child,f=null):(l=ge.treeContext,Hi=fc(ne.nextSibling),vs=f,Zn=!0,Fc=null,_s=!1,l!==null&&gm(f,l),f=Wu(f,b.children),f.flags|=4096);return f}return R?(Wc(),ne=b.fallback,R=f.mode,ge=l.child,Pe=ge.sibling,b=Zl(ge,{mode:"hidden",children:b.children}),b.subtreeFlags=ge.subtreeFlags&65011712,Pe!==null?ne=Zl(Pe,ne):(ne=zc(ne,R,g,null),ne.flags|=2),ne.return=f,b.return=f,b.sibling=ne,f.child=b,gl(null,b),b=f.child,ne=l.child.memoizedState,ne===null?ne=Fo(g):(R=ne.cachePool,R!==null?(ge=Xt._currentValue,R=R.parent!==ge?{parent:ge,pool:ge}:R):R=My(),ne={baseLanes:ne.baseLanes|g,cachePool:R}),b.memoizedState=ne,b.childLanes=Lm(l,W,g),f.memoizedState=mo,gl(l.child,b)):(qu(f),g=l.child,l=g.sibling,g=Zl(g,{mode:"visible",children:b.children}),g.return=f,g.sibling=null,l!==null&&(W=f.deletions,W===null?(f.deletions=[l],f.flags|=16):W.push(l)),f.child=g,f.memoizedState=null,g)}function Wu(l,f){return f=kd({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function kd(l,f){return l=fa(22,l,null,f),l.lanes=0,l}function zd(l,f,g){return Jf(f,l.child,null,g),l=Wu(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function ih(l,f,g){l.lanes|=f;var b=l.alternate;b!==null&&(b.lanes|=f),jc(l.return,f,g)}function Um(l,f,g,b,R,k){var W=l.memoizedState;W===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:R,treeForkCount:k}:(W.isBackwards=f,W.rendering=null,W.renderingStartTime=0,W.last=b,W.tail=g,W.tailMode=R,W.treeForkCount=k)}function km(l,f,g){var b=f.pendingProps,R=b.revealOrder,k=b.tail;b=b.children;var W=dr.current,ne=(W&2)!==0;if(ne?(W=W&1|2,f.flags|=128):W&=1,pe(dr,W),mr(l,f,b,g),b=Zn?Cd:0,!ne&&l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&ih(l,g,f);else if(l.tag===19)ih(l,g,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(R){case"forwards":for(g=f.child,R=null;g!==null;)l=g.alternate,l!==null&&Py(l)===null&&(R=g),g=g.sibling;g=R,g===null?(R=f.child,f.child=null):(R=g.sibling,g.sibling=null),Um(f,!1,R,g,k,b);break;case"backwards":case"unstable_legacy-backwards":for(g=null,R=f.child,f.child=null;R!==null;){if(l=R.alternate,l!==null&&Py(l)===null){f.child=R;break}l=R.sibling,R.sibling=g,g=R,R=l}Um(f,!0,g,null,k,b);break;case"together":Um(f,!1,null,null,void 0,b);break;default:f.memoizedState=null}return f.child}function vl(l,f,g){if(l!==null&&(f.dependencies=l.dependencies),_o|=f.lanes,(g&f.childLanes)===0)if(l!==null){if(zu(l,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(i(153));if(f.child!==null){for(l=f.child,g=Zl(l,l.pendingProps),f.child=g,g.return=f;l.sibling!==null;)l=l.sibling,g=g.sibling=Zl(l,l.pendingProps),g.return=f;g.sibling=null}return f.child}function $u(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&Ad(l)))}function zm(l,f,g){switch(f.tag){case 3:Ve(f,f.stateNode.containerInfo),Hc(f,Xt,l.memoizedState.cache),Yf();break;case 27:case 5:Ge(f);break;case 4:Ve(f,f.stateNode.containerInfo);break;case 10:Hc(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Y_(f),null;break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(qu(f),f.flags|=128,null):(g&f.child.childLanes)!==0?go(l,f,g):(qu(f),l=vl(l,f,g),l!==null?l.sibling:null);qu(f);break;case 19:var R=(l.flags&128)!==0;if(b=(g&f.childLanes)!==0,b||(zu(l,f,g,!1),b=(g&f.childLanes)!==0),R){if(b)return km(l,f,g);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),pe(dr,dr.current),b)break;return null;case 22:return f.lanes=0,po(l,f,g,f.pendingProps);case 24:Hc(f,Xt,l.memoizedState.cache)}return vl(l,f,g)}function $y(l,f,g){if(l!==null)if(l.memoizedProps!==f.pendingProps)Ki=!0;else{if(!$u(l,g)&&(f.flags&128)===0)return Ki=!1,zm(l,f,g);Ki=(l.flags&131072)!==0}else Ki=!1,Zn&&(f.flags&1048576)!==0&&D_(f,Cd,f.index);switch(f.lanes=0,f.tag){case 16:e:{var b=f.pendingProps;if(l=Qf(f.elementType),f.type=l,typeof l=="function")ha(l)?(b=Ns(l,b),f.tag=1,f=Ls(null,f,l,b,g)):(f.tag=0,f=Ud(null,f,l,b,g));else{if(l!=null){var R=l.$$typeof;if(R===C){f.tag=11,f=Pm(null,f,l,b,g);break e}else if(R===I){f.tag=14,f=Dm(null,f,l,b,g);break e}}throw f=K(l)||l,Error(i(306,f,""))}}return f;case 0:return Ud(l,f,f.type,f.pendingProps,g);case 1:return b=f.type,R=Ns(b,f.pendingProps),Ls(l,f,b,R,g);case 3:e:{if(Ve(f,f.stateNode.containerInfo),l===null)throw Error(i(387));b=f.pendingProps;var k=f.memoizedState;R=k.element,q_(l,f),eh(f,b,null,g);var W=f.memoizedState;if(b=W.cache,Hc(f,Xt,b),b!==k.cache&&Ay(f,[Xt],g,!0),Em(),b=W.element,k.isDehydrated)if(k={element:b,isDehydrated:!1,cache:W.cache},f.updateQueue.baseState=k,f.memoizedState=k,f.flags&256){f=si(l,f,b,g);break e}else if(b!==R){R=Ia(Error(i(424)),f),ym(R),f=si(l,f,b,g);break e}else{switch(l=f.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Hi=fc(l.firstChild),vs=f,Zn=!0,Fc=null,_s=!0,g=eE(f,null,b,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Yf(),b===R){f=vl(l,f,g);break e}mr(l,f,b,g)}f=f.child}return f;case 26:return yl(l,f),l===null?(g=E4(f.type,null,f.pendingProps,null))?f.memoizedState=g:Zn||(g=f.type,l=f.pendingProps,b=DE(he.current).createElement(g),b[dn]=f,b[fr]=l,ya(b,g,l),xe(b),f.stateNode=b):f.memoizedState=E4(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:return Ge(f),l===null&&Zn&&(b=f.stateNode=b4(f.type,f.pendingProps,he.current),vs=f,_s=!0,R=Hi,qd(f.type)?(oR=R,Hi=fc(b.firstChild)):Hi=R),mr(l,f,f.pendingProps.children,g),yl(l,f),l===null&&(f.flags|=4194304),f.child;case 5:return l===null&&Zn&&((R=b=Hi)&&(b=F$(b,f.type,f.pendingProps,_s),b!==null?(f.stateNode=b,vs=f,Hi=fc(b.firstChild),_s=!1,R=!0):R=!1),R||Xn(f)),Ge(f),R=f.type,k=f.pendingProps,W=l!==null?l.memoizedProps:null,b=k.children,nR(R,k)?b=null:W!==null&&nR(R,W)&&(f.flags|=32),f.memoizedState!==null&&(R=Z_(l,f,zM,null,null,g),O1._currentValue=R),yl(l,f),mr(l,f,b,g),f.child;case 6:return l===null&&Zn&&((l=g=Hi)&&(g=V$(g,f.pendingProps,_s),g!==null?(f.stateNode=g,vs=f,Hi=null,l=!0):l=!1),l||Xn(f)),null;case 13:return go(l,f,g);case 4:return Ve(f,f.stateNode.containerInfo),b=f.pendingProps,l===null?f.child=Jf(f,null,b,g):mr(l,f,b,g),f.child;case 11:return Pm(l,f,f.type,f.pendingProps,g);case 7:return mr(l,f,f.pendingProps,g),f.child;case 8:return mr(l,f,f.pendingProps.children,g),f.child;case 12:return mr(l,f,f.pendingProps.children,g),f.child;case 10:return b=f.pendingProps,Hc(f,f.type,b.value),mr(l,f,b.children,g),f.child;case 9:return R=f.type._context,b=f.pendingProps.children,Kf(f),R=bs(R),b=b(R),f.flags|=1,mr(l,f,b,g),f.child;case 14:return Dm(l,f,f.type,f.pendingProps,g);case 15:return ho(l,f,f.type,f.pendingProps,g);case 19:return km(l,f,g);case 31:return Nm(l,f,g);case 22:return po(l,f,g,f.pendingProps);case 24:return Kf(f),b=bs(Xt),l===null?(R=tc(),R===null&&(R=Si,k=z_(),R.pooledCache=k,k.refCount++,k!==null&&(R.pooledCacheLanes|=g),R=k),f.memoizedState={parent:b,cache:R},G_(f),Hc(f,Xt,R)):((l.lanes&g)!==0&&(q_(l,f),eh(f,null,null,g),Em()),R=l.memoizedState,k=f.memoizedState,R.parent!==b?(R={parent:b,cache:b},f.memoizedState=R,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=R),Hc(f,Xt,b)):(b=k.cache,Hc(f,Xt,b),b!==R.cache&&Ay(f,[Xt],g,!0))),mr(l,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}function Ua(l){l.flags|=4}function Xu(l,f,g,b,R){if((f=(l.mode&32)!==0)&&(f=!1),f){if(l.flags|=16777216,(R&335544128)===R)if(l.stateNode.complete)l.flags|=8192;else if(bt())l.flags|=8192;else throw nn=bm,_m}else l.flags&=-16777217}function Yc(l,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!M4(f))if(bt())l.flags|=8192;else throw nn=bm,_m}function Bd(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?zt():536870912,l.lanes|=f,bo|=f)}function Bm(l,f){if(!Zn)switch(l.tailMode){case"hidden":f=l.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function Mi(l){var f=l.alternate!==null&&l.alternate.child===l.child,g=0,b=0;if(f)for(var R=l.child;R!==null;)g|=R.lanes|R.childLanes,b|=R.subtreeFlags&65011712,b|=R.flags&65011712,R.return=l,R=R.sibling;else for(R=l.child;R!==null;)g|=R.lanes|R.childLanes,b|=R.subtreeFlags,b|=R.flags,R.return=l,R=R.sibling;return l.subtreeFlags|=b,l.childLanes=g,f}function x1(l,f,g){var b=f.pendingProps;switch(ku(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(f),null;case 1:return Mi(f),null;case 3:return g=f.stateNode,b=null,l!==null&&(b=l.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),ko(Xt),Xe(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Xf(f)?Ua(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,N_())),Mi(f),null;case 26:var R=f.type,k=f.memoizedState;return l===null?(Ua(f),k!==null?(Mi(f),Yc(f,k)):(Mi(f),Xu(f,R,null,b,g))):k?k!==l.memoizedState?(Ua(f),Mi(f),Yc(f,k)):(Mi(f),f.flags&=-16777217):(l=l.memoizedProps,l!==b&&Ua(f),Mi(f),Xu(f,R,l,b,g)),null;case 27:if(rt(f),g=he.current,R=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==b&&Ua(f);else{if(!b){if(f.stateNode===null)throw Error(i(166));return Mi(f),null}l=ue.current,Xf(f)?Cy(f):(l=b4(R,b,g),f.stateNode=l,Ua(f))}return Mi(f),null;case 5:if(rt(f),R=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==b&&Ua(f);else{if(!b){if(f.stateNode===null)throw Error(i(166));return Mi(f),null}if(k=ue.current,Xf(f))Cy(f);else{var W=DE(he.current);switch(k){case 1:k=W.createElementNS("http://www.w3.org/2000/svg",R);break;case 2:k=W.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;default:switch(R){case"svg":k=W.createElementNS("http://www.w3.org/2000/svg",R);break;case"math":k=W.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;case"script":k=W.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof b.is=="string"?W.createElement("select",{is:b.is}):W.createElement("select"),b.multiple?k.multiple=!0:b.size&&(k.size=b.size);break;default:k=typeof b.is=="string"?W.createElement(R,{is:b.is}):W.createElement(R)}}k[dn]=f,k[fr]=b;e:for(W=f.child;W!==null;){if(W.tag===5||W.tag===6)k.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===f)break e;for(;W.sibling===null;){if(W.return===null||W.return===f)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}f.stateNode=k;e:switch(ya(k,R,b),R){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Ua(f)}}return Mi(f),Xu(f,f.type,l===null?null:l.memoizedProps,f.pendingProps,g),null;case 6:if(l&&f.stateNode!=null)l.memoizedProps!==b&&Ua(f);else{if(typeof b!="string"&&f.stateNode===null)throw Error(i(166));if(l=he.current,Xf(f)){if(l=f.stateNode,g=f.memoizedProps,b=null,R=vs,R!==null)switch(R.tag){case 27:case 5:b=R.memoizedProps}l[dn]=f,l=!!(l.nodeValue===g||b!==null&&b.suppressHydrationWarning===!0||c4(l.nodeValue,g)),l||Xn(f,!0)}else l=DE(l).createTextNode(b),l[dn]=f,f.stateNode=l}return Mi(f),null;case 31:if(g=f.memoizedState,l===null||l.memoizedState!==null){if(b=Xf(f),g!==null){if(l===null){if(!b)throw Error(i(318));if(l=f.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(557));l[dn]=f}else Yf(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Mi(f),l=!1}else g=N_(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=g),l=!0;if(!l)return f.flags&256?(co(f),f):(co(f),null);if((f.flags&128)!==0)throw Error(i(558))}return Mi(f),null;case 13:if(b=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(R=Xf(f),b!==null&&b.dehydrated!==null){if(l===null){if(!R)throw Error(i(318));if(R=f.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(i(317));R[dn]=f}else Yf(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Mi(f),R=!1}else R=N_(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=R),R=!0;if(!R)return f.flags&256?(co(f),f):(co(f),null)}return co(f),(f.flags&128)!==0?(f.lanes=g,f):(g=b!==null,l=l!==null&&l.memoizedState!==null,g&&(b=f.child,R=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(R=b.alternate.memoizedState.cachePool.pool),k=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(k=b.memoizedState.cachePool.pool),k!==R&&(b.flags|=2048)),g!==l&&g&&(f.child.flags|=8192),Bd(f,f.updateQueue),Mi(f),null);case 4:return Xe(),l===null&&ZM(f.stateNode.containerInfo),Mi(f),null;case 10:return ko(f.type),Mi(f),null;case 19:if(le(dr),b=f.memoizedState,b===null)return Mi(f),null;if(R=(f.flags&128)!==0,k=b.rendering,k===null)if(R)Bm(b,!1);else{if(Ei!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(k=Py(l),k!==null){for(f.flags|=128,Bm(b,!1),l=k.updateQueue,f.updateQueue=l,Bd(f,l),f.subtreeFlags=0,l=g,g=f.child;g!==null;)Gs(g,l),g=g.sibling;return pe(dr,dr.current&1|2),Zn&&Bc(f,b.treeForkCount),f.child}l=l.sibling}b.tail!==null&&Ae()>xo&&(f.flags|=128,R=!0,Bm(b,!1),f.lanes=4194304)}else{if(!R)if(l=Py(k),l!==null){if(f.flags|=128,R=!0,l=l.updateQueue,f.updateQueue=l,Bd(f,l),Bm(b,!0),b.tail===null&&b.tailMode==="hidden"&&!k.alternate&&!Zn)return Mi(f),null}else 2*Ae()-b.renderingStartTime>xo&&g!==536870912&&(f.flags|=128,R=!0,Bm(b,!1),f.lanes=4194304);b.isBackwards?(k.sibling=f.child,f.child=k):(l=b.last,l!==null?l.sibling=k:f.child=k,b.last=k)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=Ae(),l.sibling=null,g=dr.current,pe(dr,R?g&1|2:g&1),Zn&&Bc(f,b.treeForkCount),l):(Mi(f),null);case 22:case 23:return co(f),Ws(),b=f.memoizedState!==null,l!==null?l.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?(g&536870912)!==0&&(f.flags&128)===0&&(Mi(f),f.subtreeFlags&6&&(f.flags|=8192)):Mi(f),g=f.updateQueue,g!==null&&Bd(f,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==g&&(f.flags|=2048),l!==null&&le(Bu),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),ko(Xt),Mi(f),null;case 25:return null;case 30:return null}throw Error(i(156,f.tag))}function Xy(l,f){switch(ku(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return ko(Xt),Xe(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return rt(f),null;case 31:if(f.memoizedState!==null){if(co(f),f.alternate===null)throw Error(i(340));Yf()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 13:if(co(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(i(340));Yf()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return le(dr),null;case 4:return Xe(),null;case 10:return ko(f.type),null;case 22:case 23:return co(f),Ws(),l!==null&&le(Bu),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return ko(Xt),null;case 25:return null;default:return null}}function rh(l,f){switch(ku(f),f.tag){case 3:ko(Xt),Xe();break;case 26:case 27:case 5:rt(f);break;case 4:Xe();break;case 31:f.memoizedState!==null&&co(f);break;case 13:co(f);break;case 19:le(dr);break;case 10:ko(f.type);break;case 22:case 23:co(f),Ws(),l!==null&&le(Bu);break;case 24:ko(Xt)}}function oc(l,f){try{var g=f.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var R=b.next;g=R;do{if((g.tag&l)===l){b=void 0;var k=g.create,W=g.inst;b=k(),W.destroy=b}g=g.next}while(g!==R)}}catch(ne){Ui(f,f.return,ne)}}function Vo(l,f,g){try{var b=f.updateQueue,R=b!==null?b.lastEffect:null;if(R!==null){var k=R.next;b=k;do{if((b.tag&l)===l){var W=b.inst,ne=W.destroy;if(ne!==void 0){W.destroy=void 0,R=f;var ge=g,Pe=ne;try{Pe()}catch(Ye){Ui(R,ge,Ye)}}}b=b.next}while(b!==k)}}catch(Ye){Ui(f,f.return,Ye)}}function Yu(l){var f=l.updateQueue;if(f!==null){var g=l.stateNode;try{Ps(f,g)}catch(b){Ui(l,l.return,b)}}}function S1(l,f,g){g.props=Ns(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(b){Ui(l,f,b)}}function lc(l,f){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var b=l.stateNode;break;case 30:b=l.stateNode;break;default:b=l.stateNode}typeof g=="function"?l.refCleanup=g(b):g.current=b}}catch(R){Ui(l,f,R)}}function yo(l,f){var g=l.ref,b=l.refCleanup;if(g!==null)if(typeof b=="function")try{b()}catch(R){Ui(l,f,R)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(R){Ui(l,f,R)}else g.current=null}function vo(l){var f=l.type,g=l.memoizedProps,b=l.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&b.focus();break e;case"img":g.src?b.src=g.src:g.srcSet&&(b.srcset=g.srcSet)}}catch(R){Ui(l,l.return,R)}}function Ho(l,f,g){try{var b=l.stateNode;N$(b,l.type,g,f),b[fr]=f}catch(R){Ui(l,l.return,R)}}function qr(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&qd(l.type)||l.tag===4}function cc(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||qr(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&qd(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function On(l,f,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(l,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(l),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=is));else if(b!==4&&(b===27&&qd(l.type)&&(g=l.stateNode,f=null),l=l.child,l!==null))for(On(l,f,g),l=l.sibling;l!==null;)On(l,f,g),l=l.sibling}function yi(l,f,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,f?g.insertBefore(l,f):g.appendChild(l);else if(b!==4&&(b===27&&qd(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(yi(l,f,g),l=l.sibling;l!==null;)yi(l,f,g),l=l.sibling}function Ar(l){var f=l.stateNode,g=l.memoizedProps;try{for(var b=l.type,R=f.attributes;R.length;)f.removeAttributeNode(R[0]);ya(f,b,g),f[dn]=l,f[fr]=g}catch(k){Ui(l,l.return,k)}}var jo=!1,Zi=!1,Kc=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,gr=null;function Fd(l,f){if(l=l.containerInfo,eR=FE,l=gy(l),_d(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var R=b.anchorOffset,k=b.focusNode;b=b.focusOffset;try{g.nodeType,k.nodeType}catch{g=null;break e}var W=0,ne=-1,ge=-1,Pe=0,Ye=0,tt=l,ke=null;t:for(;;){for(var We;tt!==g||R!==0&&tt.nodeType!==3||(ne=W+R),tt!==k||b!==0&&tt.nodeType!==3||(ge=W+b),tt.nodeType===3&&(W+=tt.nodeValue.length),(We=tt.firstChild)!==null;)ke=tt,tt=We;for(;;){if(tt===l)break t;if(ke===g&&++Pe===R&&(ne=W),ke===k&&++Ye===b&&(ge=W),(We=tt.nextSibling)!==null)break;tt=ke,ke=tt.parentNode}tt=We}g=ne===-1||ge===-1?null:{start:ne,end:ge}}else g=null}g=g||{start:0,end:0}}else g=null;for(tR={focusedElem:l,selectionRange:g},FE=!1,gr=f;gr!==null;)if(f=gr,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,gr=l;else for(;gr!==null;){switch(f=gr,k=f.alternate,l=f.flags,f.tag){case 0:if((l&4)!==0&&(l=f.updateQueue,l=l!==null?l.events:null,l!==null))for(g=0;g<l.length;g++)R=l[g],R.ref.impl=R.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&k!==null){l=void 0,g=f,R=k.memoizedProps,k=k.memoizedState,b=g.stateNode;try{var Vt=Ns(g.type,R);l=b.getSnapshotBeforeUpdate(Vt,k),b.__reactInternalSnapshotBeforeUpdate=l}catch(ln){Ui(g,g.return,ln)}}break;case 3:if((l&1024)!==0){if(l=f.stateNode.containerInfo,g=l.nodeType,g===9)rR(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":rR(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=f.sibling,l!==null){l.return=f.return,gr=l;break}gr=f.return}}function CE(l,f,g){var b=g.flags;switch(g.tag){case 0:case 11:case 15:Zc(l,g),b&4&&oc(5,g);break;case 1:if(Zc(l,g),b&4)if(l=g.stateNode,f===null)try{l.componentDidMount()}catch(W){Ui(g,g.return,W)}else{var R=Ns(g.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(R,f,l.__reactInternalSnapshotBeforeUpdate)}catch(W){Ui(g,g.return,W)}}b&64&&Yu(g),b&512&&lc(g,g.return);break;case 3:if(Zc(l,g),b&64&&(l=g.updateQueue,l!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{Ps(l,f)}catch(W){Ui(g,g.return,W)}}break;case 27:f===null&&b&4&&Ar(g);case 26:case 5:Zc(l,g),f===null&&b&4&&vo(g),b&512&&lc(g,g.return);break;case 12:Zc(l,g);break;case 31:Zc(l,g),b&4&&Ky(l,g);break;case 13:Zc(l,g),b&4&&E1(l,g),b&64&&(l=g.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(g=S$.bind(null,g),H$(l,g))));break;case 22:if(b=g.memoizedState!==null||jo,!b){f=f!==null&&f.memoizedState!==null||Zi,R=jo;var k=Zi;jo=b,(Zi=f)&&!k?xi(l,g,(g.subtreeFlags&8772)!==0):Zc(l,g),jo=R,Zi=k}break;case 30:break;default:Zc(l,g)}}function Yy(l){var f=l.alternate;f!==null&&(l.alternate=null,Yy(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&cl(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var ai=null,Wr=!1;function Xs(l,f,g){for(g=g.child;g!==null;)Ku(l,f,g),g=g.sibling}function Ku(l,f,g){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(wt,g)}catch{}switch(g.tag){case 26:Zi||yo(g,f),Xs(l,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Zi||yo(g,f);var b=ai,R=Wr;qd(g.type)&&(ai=g.stateNode,Wr=!1),Xs(l,f,g),A1(g.stateNode),ai=b,Wr=R;break;case 5:Zi||yo(g,f);case 6:if(b=ai,R=Wr,ai=null,Xs(l,f,g),ai=b,Wr=R,ai!==null)if(Wr)try{(ai.nodeType===9?ai.body:ai.nodeName==="HTML"?ai.ownerDocument.body:ai).removeChild(g.stateNode)}catch(k){Ui(g,f,k)}else try{ai.removeChild(g.stateNode)}catch(k){Ui(g,f,k)}break;case 18:ai!==null&&(Wr?(l=ai,m4(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,g.stateNode),ov(l)):m4(ai,g.stateNode));break;case 4:b=ai,R=Wr,ai=g.stateNode.containerInfo,Wr=!0,Xs(l,f,g),ai=b,Wr=R;break;case 0:case 11:case 14:case 15:Vo(2,g,f),Zi||Vo(4,g,f),Xs(l,f,g);break;case 1:Zi||(yo(g,f),b=g.stateNode,typeof b.componentWillUnmount=="function"&&S1(g,f,b)),Xs(l,f,g);break;case 21:Xs(l,f,g);break;case 22:Zi=(b=Zi)||g.memoizedState!==null,Xs(l,f,g),Zi=b;break;default:Xs(l,f,g)}}function Ky(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{ov(l)}catch(g){Ui(f,f.return,g)}}}function E1(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{ov(l)}catch(g){Ui(f,f.return,g)}}function AE(l){switch(l.tag){case 31:case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new Fm),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new Fm),f;default:throw Error(i(435,l.tag))}}function Mr(l,f){var g=AE(l);f.forEach(function(b){if(!g.has(b)){g.add(b);var R=E$.bind(null,l,b);b.then(R,R)}})}function Ys(l,f){var g=f.deletions;if(g!==null)for(var b=0;b<g.length;b++){var R=g[b],k=l,W=f,ne=W;e:for(;ne!==null;){switch(ne.tag){case 27:if(qd(ne.type)){ai=ne.stateNode,Wr=!1;break e}break;case 5:ai=ne.stateNode,Wr=!1;break e;case 3:case 4:ai=ne.stateNode.containerInfo,Wr=!0;break e}ne=ne.return}if(ai===null)throw Error(i(160));Ku(k,W,R),ai=null,Wr=!1,k=R.alternate,k!==null&&(k.return=null),R.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)Zu(f,l),f=f.sibling}var ka=null;function Zu(l,f){var g=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ys(f,l),yr(l),b&4&&(Vo(3,l,l.return),oc(3,l),Vo(5,l,l.return));break;case 1:Ys(f,l),yr(l),b&512&&(Zi||g===null||yo(g,g.return)),b&64&&jo&&(l=l.updateQueue,l!==null&&(b=l.callbacks,b!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?b:g.concat(b))));break;case 26:var R=ka;if(Ys(f,l),yr(l),b&512&&(Zi||g===null||yo(g,g.return)),b&4){var k=g!==null?g.memoizedState:null;if(b=l.memoizedState,g===null)if(b===null)if(l.stateNode===null){e:{b=l.type,g=l.memoizedProps,R=R.ownerDocument||R;t:switch(b){case"title":k=R.getElementsByTagName("title")[0],(!k||k[ro]||k[dn]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=R.createElement(b),R.head.insertBefore(k,R.querySelector("head > title"))),ya(k,b,g),k[dn]=l,xe(k),b=k;break e;case"link":var W=C4("link","href",R).get(b+(g.href||""));if(W){for(var ne=0;ne<W.length;ne++)if(k=W[ne],k.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&k.getAttribute("rel")===(g.rel==null?null:g.rel)&&k.getAttribute("title")===(g.title==null?null:g.title)&&k.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){W.splice(ne,1);break t}}k=R.createElement(b),ya(k,b,g),R.head.appendChild(k);break;case"meta":if(W=C4("meta","content",R).get(b+(g.content||""))){for(ne=0;ne<W.length;ne++)if(k=W[ne],k.getAttribute("content")===(g.content==null?null:""+g.content)&&k.getAttribute("name")===(g.name==null?null:g.name)&&k.getAttribute("property")===(g.property==null?null:g.property)&&k.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&k.getAttribute("charset")===(g.charSet==null?null:g.charSet)){W.splice(ne,1);break t}}k=R.createElement(b),ya(k,b,g),R.head.appendChild(k);break;default:throw Error(i(468,b))}k[dn]=l,xe(k),b=k}l.stateNode=b}else A4(R,l.type,l.stateNode);else l.stateNode=w4(R,b,l.memoizedProps);else k!==b?(k===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):k.count--,b===null?A4(R,l.type,l.stateNode):w4(R,b,l.memoizedProps)):b===null&&l.stateNode!==null&&Ho(l,l.memoizedProps,g.memoizedProps)}break;case 27:Ys(f,l),yr(l),b&512&&(Zi||g===null||yo(g,g.return)),g!==null&&b&4&&Ho(l,l.memoizedProps,g.memoizedProps);break;case 5:if(Ys(f,l),yr(l),b&512&&(Zi||g===null||yo(g,g.return)),l.flags&32){R=l.stateNode;try{Tr(R,"")}catch(Vt){Ui(l,l.return,Vt)}}b&4&&l.stateNode!=null&&(R=l.memoizedProps,Ho(l,R,g!==null?g.memoizedProps:R)),b&1024&&(Kc=!0);break;case 6:if(Ys(f,l),yr(l),b&4){if(l.stateNode===null)throw Error(i(162));b=l.memoizedProps,g=l.stateNode;try{g.nodeValue=b}catch(Vt){Ui(l,l.return,Vt)}}break;case 3:if(UE=null,R=ka,ka=NE(f.containerInfo),Ys(f,l),ka=R,yr(l),b&4&&g!==null&&g.memoizedState.isDehydrated)try{ov(f.containerInfo)}catch(Vt){Ui(l,l.return,Vt)}Kc&&(Kc=!1,ME(l));break;case 4:b=ka,ka=NE(l.stateNode.containerInfo),Ys(f,l),yr(l),ka=b;break;case 12:Ys(f,l),yr(l);break;case 31:Ys(f,l),yr(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,Mr(l,b)));break;case 13:Ys(f,l),yr(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(eu=Ae()),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,Mr(l,b)));break;case 22:R=l.memoizedState!==null;var ge=g!==null&&g.memoizedState!==null,Pe=jo,Ye=Zi;if(jo=Pe||R,Zi=Ye||ge,Ys(f,l),Zi=Ye,jo=Pe,yr(l),b&8192)e:for(f=l.stateNode,f._visibility=R?f._visibility&-2:f._visibility|1,R&&(g===null||ge||jo||Zi||sh(l)),g=null,f=l;;){if(f.tag===5||f.tag===26){if(g===null){ge=g=f;try{if(k=ge.stateNode,R)W=k.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{ne=ge.stateNode;var tt=ge.memoizedProps.style,ke=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;ne.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(Vt){Ui(ge,ge.return,Vt)}}}else if(f.tag===6){if(g===null){ge=f;try{ge.stateNode.nodeValue=R?"":ge.memoizedProps}catch(Vt){Ui(ge,ge.return,Vt)}}}else if(f.tag===18){if(g===null){ge=f;try{var We=ge.stateNode;R?g4(We,!0):g4(ge.stateNode,!1)}catch(Vt){Ui(ge,ge.return,Vt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}b&4&&(b=l.updateQueue,b!==null&&(g=b.retryQueue,g!==null&&(b.retryQueue=null,Mr(l,g))));break;case 19:Ys(f,l),yr(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,Mr(l,b)));break;case 30:break;case 21:break;default:Ys(f,l),yr(l)}}function yr(l){var f=l.flags;if(f&2){try{for(var g,b=l.return;b!==null;){if(qr(b)){g=b;break}b=b.return}if(g==null)throw Error(i(160));switch(g.tag){case 27:var R=g.stateNode,k=cc(l);yi(l,k,R);break;case 5:var W=g.stateNode;g.flags&32&&(Tr(W,""),g.flags&=-33);var ne=cc(l);yi(l,ne,W);break;case 3:case 4:var ge=g.stateNode.containerInfo,Pe=cc(l);On(l,Pe,ge);break;default:throw Error(i(161))}}catch(Ye){Ui(l,l.return,Ye)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function ME(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;ME(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),l=l.sibling}}function Zc(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)CE(l,f.alternate,f),f=f.sibling}function sh(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:Vo(4,f,f.return),sh(f);break;case 1:yo(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&S1(f,f.return,g),sh(f);break;case 27:A1(f.stateNode);case 26:case 5:yo(f,f.return),sh(f);break;case 22:f.memoizedState===null&&sh(f);break;case 30:sh(f);break;default:sh(f)}l=l.sibling}}function xi(l,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,R=l,k=f,W=k.flags;switch(k.tag){case 0:case 11:case 15:xi(R,k,g),oc(4,k);break;case 1:if(xi(R,k,g),b=k,R=b.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Pe){Ui(b,b.return,Pe)}if(b=k,R=b.updateQueue,R!==null){var ne=b.stateNode;try{var ge=R.shared.hiddenCallbacks;if(ge!==null)for(R.shared.hiddenCallbacks=null,R=0;R<ge.length;R++)ic(ge[R],ne)}catch(Pe){Ui(b,b.return,Pe)}}g&&W&64&&Yu(k),lc(k,k.return);break;case 27:Ar(k);case 26:case 5:xi(R,k,g),g&&b===null&&W&4&&vo(k),lc(k,k.return);break;case 12:xi(R,k,g);break;case 31:xi(R,k,g),g&&W&4&&Ky(R,k);break;case 13:xi(R,k,g),g&&W&4&&E1(R,k);break;case 22:k.memoizedState===null&&xi(R,k,g),lc(k,k.return);break;case 30:break;default:xi(R,k,g)}f=f.sibling}}function Zy(l,f){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&Is(g))}function Qc(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&Is(l))}function as(l,f,g,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)cr(l,f,g,b),f=f.sibling}function cr(l,f,g,b){var R=f.flags;switch(f.tag){case 0:case 11:case 15:as(l,f,g,b),R&2048&&oc(9,f);break;case 1:as(l,f,g,b);break;case 3:as(l,f,g,b),R&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&Is(l)));break;case 12:if(R&2048){as(l,f,g,b),l=f.stateNode;try{var k=f.memoizedProps,W=k.id,ne=k.onPostCommit;typeof ne=="function"&&ne(W,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ge){Ui(f,f.return,ge)}}else as(l,f,g,b);break;case 31:as(l,f,g,b);break;case 13:as(l,f,g,b);break;case 23:break;case 22:k=f.stateNode,W=f.alternate,f.memoizedState!==null?k._visibility&2?as(l,f,g,b):Vd(l,f):k._visibility&2?as(l,f,g,b):(k._visibility|=2,Qu(l,f,g,b,(f.subtreeFlags&10256)!==0||!1)),R&2048&&Zy(W,f);break;case 24:as(l,f,g,b),R&2048&&Qc(f.alternate,f);break;default:as(l,f,g,b)}}function Qu(l,f,g,b,R){for(R=R&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var k=l,W=f,ne=g,ge=b,Pe=W.flags;switch(W.tag){case 0:case 11:case 15:Qu(k,W,ne,ge,R),oc(8,W);break;case 23:break;case 22:var Ye=W.stateNode;W.memoizedState!==null?Ye._visibility&2?Qu(k,W,ne,ge,R):Vd(k,W):(Ye._visibility|=2,Qu(k,W,ne,ge,R)),R&&Pe&2048&&Zy(W.alternate,W);break;case 24:Qu(k,W,ne,ge,R),R&&Pe&2048&&Qc(W.alternate,W);break;default:Qu(k,W,ne,ge,R)}f=f.sibling}}function Vd(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=l,b=f,R=b.flags;switch(b.tag){case 22:Vd(g,b),R&2048&&Zy(b.alternate,b);break;case 24:Vd(g,b),R&2048&&Qc(b.alternate,b);break;default:Vd(g,b)}f=f.sibling}}var vr=8192;function ah(l,f,g){if(l.subtreeFlags&vr)for(l=l.child;l!==null;)Rr(l,f,g),l=l.sibling}function Rr(l,f,g){switch(l.tag){case 26:ah(l,f,g),l.flags&vr&&l.memoizedState!==null&&eX(g,ka,l.memoizedState,l.memoizedProps);break;case 5:ah(l,f,g);break;case 3:case 4:var b=ka;ka=NE(l.stateNode.containerInfo),ah(l,f,g),ka=b;break;case 22:l.memoizedState===null&&(b=l.alternate,b!==null&&b.memoizedState!==null?(b=vr,vr=16777216,ah(l,f,g),vr=b):ah(l,f,g));break;default:ah(l,f,g)}}function za(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function ma(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];gr=b,Vm(b,l)}za(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)oh(l),l=l.sibling}function oh(l){switch(l.tag){case 0:case 11:case 15:ma(l),l.flags&2048&&Vo(9,l,l.return);break;case 3:ma(l);break;case 12:ma(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&2&&(l.return===null||l.return.tag!==13)?(f._visibility&=-3,Qy(l)):ma(l);break;default:ma(l)}}function Qy(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];gr=b,Vm(b,l)}za(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:Vo(8,f,f.return),Qy(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,Qy(f));break;default:Qy(f)}l=l.sibling}}function Vm(l,f){for(;gr!==null;){var g=gr;switch(g.tag){case 0:case 11:case 15:Vo(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var b=g.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Is(g.memoizedState.cache)}if(b=g.child,b!==null)b.return=g,gr=b;else e:for(g=l;gr!==null;){b=gr;var R=b.sibling,k=b.return;if(Yy(b),b===g){gr=null;break e}if(R!==null){R.return=k,gr=R;break e}gr=k}}}var Jy={getCacheForType:function(l){var f=bs(Xt),g=f.data.get(l);return g===void 0&&(g=l(),f.data.set(l,g)),g},cacheSignal:function(){return bs(Xt).controller.signal}},ev=typeof WeakMap=="function"?WeakMap:Map,ti=0,Si=null,In=null,Yn=0,Yt=0,qn=null,En=!1,Fn=!1,Pi=!1,Or=0,Ei=0,_o=0,Jc=0,_l=0,ni=0,bo=0,bl=null,Ks=null,Ba=!1,eu=0,Hd=0,xo=1/0,jd=null,uc=null,ur=0,xl=null,So=null,Go=0,tu=0,lh=null,tv=null,ch=0,uh=null;function ga(){return(ti&2)!==0&&Yn!==0?Yn&-Yn:q.T!==null?$M():$i()}function d(){if(ni===0)if((Yn&536870912)===0||Zn){var l=Fe;Fe<<=1,(Fe&3932160)===0&&(Fe=262144),ni=l}else ni=536870912;return l=ss.current,l!==null&&(l.flags|=32),ni}function m(l,f,g){(l===Si&&(Yt===2||Yt===9)||l.cancelPendingCommit!==null)&&(Ce(l,0),G(l,Yn,ni,!1)),St(l,g),((ti&2)===0||l!==Si)&&(l===Si&&((ti&2)===0&&(Jc|=g),Ei===4&&G(l,Yn,ni,!1)),Ju(l))}function T(l,f,g){if((ti&6)!==0)throw Error(i(327));var b=!g&&(f&127)===0&&(f&l.expiredLanes)===0||Zt(l,f),R=b?fh(l,f):Fa(l,f,!0),k=b;do{if(R===0){Fn&&!b&&G(l,f,0,!1);break}else{if(g=l.current.alternate,k&&!B(g)){R=Fa(l,f,!1),k=!1;continue}if(R===2){if(k=f,l.errorRecoveryDisabledLanes&k)var W=0;else W=l.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){f=W;e:{var ne=l;R=bl;var ge=ne.current.memoizedState.isDehydrated;if(ge&&(Ce(ne,W).flags|=256),W=Fa(ne,W,!1),W!==2){if(Pi&&!ge){ne.errorRecoveryDisabledLanes|=k,Jc|=k,R=4;break e}k=Ks,Ks=R,k!==null&&(Ks===null?Ks=k:Ks.push.apply(Ks,k))}R=W}if(k=!1,R!==2)continue}}if(R===1){Ce(l,0),G(l,f,0,!0);break}e:{switch(b=l,k=R,k){case 0:case 1:throw Error(i(345));case 4:if((f&4194048)!==f)break;case 6:G(b,f,ni,!En);break e;case 2:Ks=null;break;case 3:case 5:break;default:throw Error(i(329))}if((f&62914560)===f&&(R=eu+300-Ae(),10<R)){if(G(b,f,ni,!En),_t(b,0,!0)!==0)break e;Go=f,b.timeoutHandle=d4(O.bind(null,b,g,Ks,jd,Ba,f,ni,Jc,bo,En,k,"Throttled",-0,0),R);break e}O(b,g,Ks,jd,Ba,f,ni,Jc,bo,En,k,null,-0,0)}}break}while(!0);Ju(l)}function O(l,f,g,b,R,k,W,ne,ge,Pe,Ye,tt,ke,We){if(l.timeoutHandle=-1,tt=f.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:is},Rr(f,k,tt);var Vt=(k&62914560)===k?eu-Ae():(k&4194048)===k?Hd-Ae():0;if(Vt=tX(tt,Vt),Vt!==null){Go=k,l.cancelPendingCommit=Vt(fn.bind(null,l,f,k,g,b,R,W,ne,ge,Ye,tt,null,ke,We)),G(l,k,W,!Pe);return}}fn(l,f,k,g,b,R,W,ne,ge)}function B(l){for(var f=l;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var b=0;b<g.length;b++){var R=g[b],k=R.getSnapshot;R=R.value;try{if(!Yi(k(),R))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function G(l,f,g,b){f&=~_l,f&=~Jc,l.suspendedLanes|=f,l.pingedLanes&=~f,b&&(l.warmLanes|=f),b=l.expirationTimes;for(var R=f;0<R;){var k=31-jt(R),W=1<<k;b[k]=-1,R&=~W}g!==0&&kn(l,g,f)}function oe(){return(ti&6)===0?(T1(0),!1):!0}function me(){if(In!==null){if(Yt===0)var l=In.return;else l=In,qs=Vc=null,e1(l),Vu=null,Hu=0,l=In;for(;l!==null;)rh(l.alternate,l),l=l.return;In=null}}function Ce(l,f){var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,k$(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),Go=0,me(),Si=l,In=g=Zl(l.current,null),Yn=f,Yt=0,qn=null,En=!1,Fn=Zt(l,f),Pi=!1,bo=ni=_l=Jc=_o=Ei=0,Ks=bl=null,Ba=!1,(f&8)!==0&&(f|=f&32);var b=l.entangledLanes;if(b!==0)for(l=l.entanglements,b&=f;0<b;){var R=31-jt(b),k=1<<R;f|=l[R],b&=~k}return Or=f,Nu(),g}function Je(l,f){un=null,q.H=Rm,f===Fu||f===ml?(f=Ry(),Yt=3):f===_m?(f=Ry(),Yt=4):Yt=f===Wy?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,qn=f,In===null&&(Ei=1,qy(l,Ia(f,l.current)))}function bt(){var l=ss.current;return l===null?!0:(Yn&4194048)===Yn?zo===null:(Yn&62914560)===Yn||(Yn&536870912)!==0?l===zo:!1}function Ot(){var l=q.H;return q.H=Rm,l===null?Rm:l}function Nt(){var l=q.A;return q.A=Jy,l}function _n(){Ei=4,En||(Yn&4194048)!==Yn&&ss.current!==null||(Fn=!0),(_o&134217727)===0&&(Jc&134217727)===0||Si===null||G(Si,Yn,ni,!1)}function Fa(l,f,g){var b=ti;ti|=2;var R=Ot(),k=Nt();(Si!==l||Yn!==f)&&(jd=null,Ce(l,f)),f=!1;var W=Ei;e:do try{if(Yt!==0&&In!==null){var ne=In,ge=qn;switch(Yt){case 8:me(),W=6;break e;case 3:case 2:case 9:case 6:ss.current===null&&(f=!0);var Pe=Yt;if(Yt=0,qn=null,ft(l,ne,ge,Pe),g&&Fn){W=0;break e}break;default:Pe=Yt,Yt=0,qn=null,ft(l,ne,ge,Pe)}}Hm(),W=Ei;break}catch(Ye){Je(l,Ye)}while(!0);return f&&l.shellSuspendCounter++,qs=Vc=null,ti=b,q.H=R,q.A=k,In===null&&(Si=null,Yn=0,Nu()),W}function Hm(){for(;In!==null;)Te(In)}function fh(l,f){var g=ti;ti|=2;var b=Ot(),R=Nt();Si!==l||Yn!==f?(jd=null,xo=Ae()+500,Ce(l,f)):Fn=Zt(l,f);e:do try{if(Yt!==0&&In!==null){f=In;var k=qn;t:switch(Yt){case 1:Yt=0,qn=null,ft(l,f,k,1);break;case 2:case 9:if(JS(k)){Yt=0,qn=null,He(f);break}f=function(){Yt!==2&&Yt!==9||Si!==l||(Yt=7),Ju(l)},k.then(f,f);break e;case 3:Yt=7;break e;case 4:Yt=5;break e;case 7:JS(k)?(Yt=0,qn=null,He(f)):(Yt=0,qn=null,ft(l,f,k,7));break;case 5:var W=null;switch(In.tag){case 26:W=In.memoizedState;case 5:case 27:var ne=In;if(W?M4(W):ne.stateNode.complete){Yt=0,qn=null;var ge=ne.sibling;if(ge!==null)In=ge;else{var Pe=ne.return;Pe!==null?(In=Pe,Wt(Pe)):In=null}break t}}Yt=0,qn=null,ft(l,f,k,5);break;case 6:Yt=0,qn=null,ft(l,f,k,6);break;case 8:me(),Ei=6;break e;default:throw Error(i(462))}}Ue();break}catch(Ye){Je(l,Ye)}while(!0);return qs=Vc=null,q.H=b,q.A=R,ti=g,In!==null?0:(Si=null,Yn=0,Nu(),Ei)}function Ue(){for(;In!==null&&!J();)Te(In)}function Te(l){var f=$y(l.alternate,l,Or);l.memoizedProps=l.pendingProps,f===null?Wt(l):In=f}function He(l){var f=l,g=f.alternate;switch(f.tag){case 15:case 0:f=$s(g,f,f.pendingProps,f.type,void 0,Yn);break;case 11:f=$s(g,f,f.pendingProps,f.type.render,f.ref,Yn);break;case 5:e1(f);default:rh(g,f),f=In=Gs(f,Or),f=$y(g,f,Or)}l.memoizedProps=l.pendingProps,f===null?Wt(l):In=f}function ft(l,f,g,b){qs=Vc=null,e1(f),Vu=null,Hu=0;var R=f.return;try{if(fo(l,R,f,g,Yn)){Ei=1,qy(l,Ia(g,l.current)),In=null;return}}catch(k){if(R!==null)throw In=R,k;Ei=1,qy(l,Ia(g,l.current)),In=null;return}f.flags&32768?(Zn||b===1?l=!0:Fn||(Yn&536870912)!==0?l=!1:(En=l=!0,(b===2||b===9||b===3||b===6)&&(b=ss.current,b!==null&&b.tag===13&&(b.flags|=16384))),ji(f,l)):Wt(f)}function Wt(l){var f=l;do{if((f.flags&32768)!==0){ji(f,En);return}l=f.return;var g=x1(f.alternate,f,Or);if(g!==null){In=g;return}if(f=f.sibling,f!==null){In=f;return}In=f=l}while(f!==null);Ei===0&&(Ei=5)}function ji(l,f){do{var g=Xy(l.alternate,l);if(g!==null){g.flags&=32767,In=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(l=l.sibling,l!==null)){In=l;return}In=l=g}while(l!==null);Ei=6,In=null}function fn(l,f,g,b,R,k,W,ne,ge){l.cancelPendingCommit=null;do nv();while(ur!==0);if((ti&6)!==0)throw Error(i(327));if(f!==null){if(f===l.current)throw Error(i(177));if(k=f.lanes|f.childLanes,k|=xy,Mt(l,g,k,W,ne,ge),l===Si&&(In=Si=null,Yn=0),So=f,xl=l,Go=g,tu=k,lh=R,tv=b,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,T$(ut,function(){return KL(),null})):(l.callbackNode=null,l.callbackPriority=0),b=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||b){b=q.T,q.T=null,R=$.p,$.p=2,W=ti,ti|=4;try{Fd(l,f,g)}finally{ti=W,$.p=R,q.T=b}}ur=1,oi(),os(),li()}}function oi(){if(ur===1){ur=0;var l=xl,f=So,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=q.T,q.T=null;var b=$.p;$.p=2;var R=ti;ti|=4;try{Zu(f,l);var k=tR,W=gy(l.containerInfo),ne=k.focusedElem,ge=k.selectionRange;if(W!==ne&&ne&&ne.ownerDocument&&my(ne.ownerDocument.documentElement,ne)){if(ge!==null&&_d(ne)){var Pe=ge.start,Ye=ge.end;if(Ye===void 0&&(Ye=Pe),"selectionStart"in ne)ne.selectionStart=Pe,ne.selectionEnd=Math.min(Ye,ne.value.length);else{var tt=ne.ownerDocument||document,ke=tt&&tt.defaultView||window;if(ke.getSelection){var We=ke.getSelection(),Vt=ne.textContent.length,ln=Math.min(ge.start,Vt),qi=ge.end===void 0?ln:Math.min(ge.end,Vt);!We.extend&&ln>qi&&(W=qi,qi=ln,ln=W);var we=R_(ne,ln),be=R_(ne,qi);if(we&&be&&(We.rangeCount!==1||We.anchorNode!==we.node||We.anchorOffset!==we.offset||We.focusNode!==be.node||We.focusOffset!==be.offset)){var Ie=tt.createRange();Ie.setStart(we.node,we.offset),We.removeAllRanges(),ln>qi?(We.addRange(Ie),We.extend(be.node,be.offset)):(Ie.setEnd(be.node,be.offset),We.addRange(Ie))}}}}for(tt=[],We=ne;We=We.parentNode;)We.nodeType===1&&tt.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<tt.length;ne++){var et=tt[ne];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}FE=!!eR,tR=eR=null}finally{ti=R,$.p=b,q.T=g}}l.current=f,ur=2}}function os(){if(ur===2){ur=0;var l=xl,f=So,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=q.T,q.T=null;var b=$.p;$.p=2;var R=ti;ti|=4;try{CE(l,f.alternate,f)}finally{ti=R,$.p=b,q.T=g}}ur=3}}function li(){if(ur===4||ur===3){ur=0,Se();var l=xl,f=So,g=Go,b=tv;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?ur=5:(ur=0,So=xl=null,nu(l,l.pendingLanes));var R=l.pendingLanes;if(R===0&&(uc=null),Rs(g),f=f.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(wt,f,void 0,(f.current.flags&128)===128)}catch{}if(b!==null){f=q.T,R=$.p,$.p=2,q.T=null;try{for(var k=l.onRecoverableError,W=0;W<b.length;W++){var ne=b[W];k(ne.value,{componentStack:ne.stack})}}finally{q.T=f,$.p=R}}(Go&3)!==0&&nv(),Ju(l),R=l.pendingLanes,(g&261930)!==0&&(R&42)!==0?l===uh?ch++:(ch=0,uh=l):ch=0,T1(0)}}function nu(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,Is(f)))}function nv(){return oi(),os(),li(),KL()}function KL(){if(ur!==5)return!1;var l=xl,f=tu;tu=0;var g=Rs(Go),b=q.T,R=$.p;try{$.p=32>g?32:g,q.T=null,g=lh,lh=null;var k=xl,W=Go;if(ur=0,So=xl=null,Go=0,(ti&6)!==0)throw Error(i(331));var ne=ti;if(ti|=4,oh(k.current),cr(k,k.current,W,g),ti=ne,T1(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(wt,k)}catch{}return!0}finally{$.p=R,q.T=b,nu(l,f)}}function ZL(l,f,g){f=Ia(g,f),f=b1(l.stateNode,f,2),l=qc(l,f,2),l!==null&&(St(l,2),Ju(l))}function Ui(l,f,g){if(l.tag===3)ZL(l,l,g);else for(;f!==null;){if(f.tag===3){ZL(f,l,g);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(uc===null||!uc.has(b))){l=Ia(g,l),g=Ld(2),b=qc(f,g,2),b!==null&&(La(g,b,f,l),St(b,2),Ju(b));break}}f=f.return}}function GM(l,f,g){var b=l.pingCache;if(b===null){b=l.pingCache=new ev;var R=new Set;b.set(f,R)}else R=b.get(f),R===void 0&&(R=new Set,b.set(f,R));R.has(g)||(Pi=!0,R.add(g),l=x$.bind(null,l,f,g),f.then(l,l))}function x$(l,f,g){var b=l.pingCache;b!==null&&b.delete(f),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,Si===l&&(Yn&g)===g&&(Ei===4||Ei===3&&(Yn&62914560)===Yn&&300>Ae()-eu?(ti&2)===0&&Ce(l,0):_l|=g,bo===Yn&&(bo=0)),Ju(l)}function QL(l,f){f===0&&(f=zt()),l=Lu(l,f),l!==null&&(St(l,f),Ju(l))}function S$(l){var f=l.memoizedState,g=0;f!==null&&(g=f.retryLane),QL(l,g)}function E$(l,f){var g=0;switch(l.tag){case 31:case 13:var b=l.stateNode,R=l.memoizedState;R!==null&&(g=R.retryLane);break;case 19:b=l.stateNode;break;case 22:b=l.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(f),QL(l,g)}function T$(l,f){return qe(l,f)}var RE=null,iv=null,qM=!1,OE=!1,WM=!1,Gd=0;function Ju(l){l!==iv&&l.next===null&&(iv===null?RE=iv=l:iv=iv.next=l),OE=!0,qM||(qM=!0,C$())}function T1(l,f){if(!WM&&OE){WM=!0;do for(var g=!1,b=RE;b!==null;){if(l!==0){var R=b.pendingLanes;if(R===0)var k=0;else{var W=b.suspendedLanes,ne=b.pingedLanes;k=(1<<31-jt(42|l)+1)-1,k&=R&~(W&~ne),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(g=!0,n4(b,k))}else k=Yn,k=_t(b,b===Si?k:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(k&3)===0||Zt(b,k)||(g=!0,n4(b,k));b=b.next}while(g);WM=!1}}function w$(){JL()}function JL(){OE=qM=!1;var l=0;Gd!==0&&U$()&&(l=Gd);for(var f=Ae(),g=null,b=RE;b!==null;){var R=b.next,k=e4(b,f);k===0?(b.next=null,g===null?RE=R:g.next=R,R===null&&(iv=g)):(g=b,(l!==0||(k&3)!==0)&&(OE=!0)),b=R}ur!==0&&ur!==5||T1(l),Gd!==0&&(Gd=0)}function e4(l,f){for(var g=l.suspendedLanes,b=l.pingedLanes,R=l.expirationTimes,k=l.pendingLanes&-62914561;0<k;){var W=31-jt(k),ne=1<<W,ge=R[W];ge===-1?((ne&g)===0||(ne&b)!==0)&&(R[W]=$n(ne,f)):ge<=f&&(l.expiredLanes|=ne),k&=~ne}if(f=Si,g=Yn,g=_t(l,l===f?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b=l.callbackNode,g===0||l===f&&(Yt===2||Yt===9)||l.cancelPendingCommit!==null)return b!==null&&b!==null&&ae(b),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||Zt(l,g)){if(f=g&-g,f===l.callbackPriority)return f;switch(b!==null&&ae(b),Rs(g)){case 2:case 8:g=lt;break;case 32:g=ut;break;case 268435456:g=kt;break;default:g=ut}return b=t4.bind(null,l),g=qe(g,b),l.callbackPriority=f,l.callbackNode=g,f}return b!==null&&b!==null&&ae(b),l.callbackPriority=2,l.callbackNode=null,2}function t4(l,f){if(ur!==0&&ur!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(nv()&&l.callbackNode!==g)return null;var b=Yn;return b=_t(l,l===Si?b:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b===0?null:(T(l,b,f),e4(l,Ae()),l.callbackNode!=null&&l.callbackNode===g?t4.bind(null,l):null)}function n4(l,f){if(nv())return null;T(l,f,!0)}function C$(){z$(function(){(ti&6)!==0?qe(Re,w$):JL()})}function $M(){if(Gd===0){var l=Gc;l===0&&(l=gt,gt<<=1,(gt&261888)===0&&(gt=256)),Gd=l}return Gd}function i4(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:ul(""+l)}function r4(l,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,l.id&&g.setAttribute("form",l.id),f.parentNode.insertBefore(g,f),l=new FormData(l),g.parentNode.removeChild(g),l}function A$(l,f,g,b,R){if(f==="submit"&&g&&g.stateNode===R){var k=i4((R[fr]||null).action),W=b.submitter;W&&(f=(f=W[fr]||null)?i4(f.formAction):W.getAttribute("formAction"),f!==null&&(k=f,W=null));var ne=new wu("action","action",null,b,R);l.push({event:ne,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Gd!==0){var ge=W?r4(R,W):new FormData(R);m1(g,{pending:!0,data:ge,method:R.method,action:k},null,ge)}}else typeof k=="function"&&(ne.preventDefault(),ge=W?r4(R,W):new FormData(R),m1(g,{pending:!0,data:ge,method:R.method,action:k},k,ge))},currentTarget:R}]})}}for(var XM=0;XM<by.length;XM++){var YM=by[XM],M$=YM.toLowerCase(),R$=YM[0].toUpperCase()+YM.slice(1);js(M$,"on"+R$)}js(Oa,"onAnimationEnd"),js(O_,"onAnimationIteration"),js(Kl,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(Ed,"onTransitionRun"),js(Pu,"onTransitionStart"),js(I_,"onTransitionCancel"),js(_y,"onTransitionEnd"),Rt("onMouseEnter",["mouseout","mouseover"]),Rt("onMouseLeave",["mouseout","mouseover"]),Rt("onPointerEnter",["pointerout","pointerover"]),Rt("onPointerLeave",["pointerout","pointerover"]),Ct("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ct("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ct("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ct("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ct("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ct("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var w1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(w1));function s4(l,f){f=(f&4)!==0;for(var g=0;g<l.length;g++){var b=l[g],R=b.event;b=b.listeners;e:{var k=void 0;if(f)for(var W=b.length-1;0<=W;W--){var ne=b[W],ge=ne.instance,Pe=ne.currentTarget;if(ne=ne.listener,ge!==k&&R.isPropagationStopped())break e;k=ne,R.currentTarget=Pe;try{k(R)}catch(Ye){Du(Ye)}R.currentTarget=null,k=ge}else for(W=0;W<b.length;W++){if(ne=b[W],ge=ne.instance,Pe=ne.currentTarget,ne=ne.listener,ge!==k&&R.isPropagationStopped())break e;k=ne,R.currentTarget=Pe;try{k(R)}catch(Ye){Du(Ye)}R.currentTarget=null,k=ge}}}}function Qn(l,f){var g=f[ll];g===void 0&&(g=f[ll]=new Set);var b=l+"__bubble";g.has(b)||(a4(f,l,2,!1),g.add(b))}function KM(l,f,g){var b=0;f&&(b|=4),a4(g,l,b,f)}var IE="_reactListening"+Math.random().toString(36).slice(2);function ZM(l){if(!l[IE]){l[IE]=!0,st.forEach(function(g){g!=="selectionchange"&&(O$.has(g)||KM(g,!1,l),KM(g,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[IE]||(f[IE]=!0,KM("selectionchange",!1,f))}}function a4(l,f,g,b){switch(L4(f)){case 2:var R=rX;break;case 8:R=sX;break;default:R=hR}g=R.bind(null,f,g,l),R=void 0,!ld||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(R=!0),b?R!==void 0?l.addEventListener(f,g,{capture:!0,passive:R}):l.addEventListener(f,g,!0):R!==void 0?l.addEventListener(f,g,{passive:R}):l.addEventListener(f,g,!1)}function QM(l,f,g,b,R){var k=b;if((f&1)===0&&(f&2)===0&&b!==null)e:for(;;){if(b===null)return;var W=b.tag;if(W===3||W===4){var ne=b.stateNode.containerInfo;if(ne===R)break;if(W===4)for(W=b.return;W!==null;){var ge=W.tag;if((ge===3||ge===4)&&W.stateNode.containerInfo===R)return;W=W.return}for(;ne!==null;){if(W=re(ne),W===null)return;if(ge=W.tag,ge===5||ge===6||ge===26||ge===27){b=k=W;continue e}ne=ne.parentNode}}b=b.return}rm(function(){var Pe=k,Ye=Uf(g),tt=[];e:{var ke=kc.get(l);if(ke!==void 0){var We=wu,Vt=l;switch(l){case"keypress":if(Gl(g)===0)break e;case"keydown":case"keyup":We=dd;break;case"focusin":Vt="focus",We=Lc;break;case"focusout":Vt="blur",We=Lc;break;case"beforeblur":case"afterblur":We=Lc;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=Lo;break;case Oa:case O_:case Kl:We=Bf;break;case _y:We=md;break;case"scroll":case"scrollend":We=zf;break;case"wheel":We=fl;break;case"copy":case"cut":case"paste":We=ud;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=jf;break;case"toggle":case"beforetoggle":We=Xl}var ln=(f&4)!==0,qi=!ln&&(l==="scroll"||l==="scrollend"),we=ln?ke!==null?ke+"Capture":null:ke;ln=[];for(var be=Pe,Ie;be!==null;){var et=be;if(Ie=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||Ie===null||we===null||(et=Fs(be,we),et!=null&&ln.push(C1(be,et,Ie))),qi)break;be=be.return}0<ln.length&&(ke=new We(ke,Vt,null,g,Ye),tt.push({event:ke,listeners:ln}))}}if((f&7)===0){e:{if(ke=l==="mouseover"||l==="pointerover",We=l==="mouseout"||l==="pointerout",ke&&g!==Tu&&(Vt=g.relatedTarget||g.fromElement)&&(re(Vt)||Vt[aa]))break e;if((We||ke)&&(ke=Ye.window===Ye?Ye:(ke=Ye.ownerDocument)?ke.defaultView||ke.parentWindow:window,We?(Vt=g.relatedTarget||g.toElement,We=Pe,Vt=Vt?re(Vt):null,Vt!==null&&(qi=s(Vt),ln=Vt.tag,Vt!==qi||ln!==5&&ln!==27&&ln!==6)&&(Vt=null)):(We=null,Vt=Pe),We!==Vt)){if(ln=py,et="onMouseLeave",we="onMouseEnter",be="mouse",(l==="pointerout"||l==="pointerover")&&(ln=jf,et="onPointerLeave",we="onPointerEnter",be="pointer"),qi=We==null?ke:Le(We),Ie=Vt==null?ke:Le(Vt),ke=new ln(et,be+"leave",We,g,Ye),ke.target=qi,ke.relatedTarget=Ie,et=null,re(Ye)===Pe&&(ln=new ln(we,be+"enter",Vt,g,Ye),ln.target=Ie,ln.relatedTarget=qi,et=ln),qi=et,We&&Vt)t:{for(ln=I$,we=We,be=Vt,Ie=0,et=we;et;et=ln(et))Ie++;et=0;for(var en=be;en;en=ln(en))et++;for(;0<Ie-et;)we=ln(we),Ie--;for(;0<et-Ie;)be=ln(be),et--;for(;Ie--;){if(we===be||be!==null&&we===be.alternate){ln=we;break t}we=ln(we),be=ln(be)}ln=null}else ln=null;We!==null&&o4(tt,ke,We,ln,!1),Vt!==null&&qi!==null&&o4(tt,qi,Vt,ln,!0)}}e:{if(ke=Pe?Le(Pe):window,We=ke.nodeName&&ke.nodeName.toLowerCase(),We==="select"||We==="input"&&ke.type==="file")var Ti=C_;else if(ca(ke))if(um)Ti=qS;else{Ti=Ru;var qt=fm}else We=ke.nodeName,!We||We.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Pe&&Lf(Pe.elementType)&&(Ti=C_):Ti=GS;if(Ti&&(Ti=Ti(l,Pe))){Uc(tt,Ti,g,Ye);break e}qt&&qt(l,ke,Pe),l==="focusout"&&Pe&&ke.type==="number"&&Pe.memoizedProps.value!=null&&Hr(ke,"number",ke.value)}switch(qt=Pe?Le(Pe):window,l){case"focusin":(ca(qt)||qt.contentEditable==="true")&&(bd=qt,yy=Pe,xd=null);break;case"focusout":xd=yy=bd=null;break;case"mousedown":ao=!0;break;case"contextmenu":case"mouseup":case"dragend":ao=!1,vy(tt,g,Ye);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":vy(tt,g,Ye)}var Vn;if(j)e:{switch(l){case"compositionstart":var ii="onCompositionStart";break e;case"compositionend":ii="onCompositionEnd";break e;case"compositionupdate":ii="onCompositionUpdate";break e}ii=void 0}else Rn?fi(l,g)&&(ii="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(ii="onCompositionStart");ii&&(Ee&&g.locale!=="ko"&&(Rn||ii!=="onCompositionStart"?ii==="onCompositionEnd"&&Rn&&(Vn=jl()):(so=Ye,kf="value"in so?so.value:so.textContent,Rn=!0)),qt=PE(Pe,ii),0<qt.length&&(ii=new fd(ii,l,null,g,Ye),tt.push({event:ii,listeners:qt}),Vn?ii.data=Vn:(Vn=ir(g),Vn!==null&&(ii.data=Vn)))),(Vn=ce?wr(l,g):rs(l,g))&&(ii=PE(Pe,"onBeforeInput"),0<ii.length&&(qt=new fd("onBeforeInput","beforeinput",null,g,Ye),tt.push({event:qt,listeners:ii}),qt.data=Vn)),A$(tt,l,Pe,g,Ye)}s4(tt,f)})}function C1(l,f,g){return{instance:l,listener:f,currentTarget:g}}function PE(l,f){for(var g=f+"Capture",b=[];l!==null;){var R=l,k=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||k===null||(R=Fs(l,g),R!=null&&b.unshift(C1(l,R,k)),R=Fs(l,f),R!=null&&b.push(C1(l,R,k))),l.tag===3)return b;l=l.return}return[]}function I$(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function o4(l,f,g,b,R){for(var k=f._reactName,W=[];g!==null&&g!==b;){var ne=g,ge=ne.alternate,Pe=ne.stateNode;if(ne=ne.tag,ge!==null&&ge===b)break;ne!==5&&ne!==26&&ne!==27||Pe===null||(ge=Pe,R?(Pe=Fs(g,k),Pe!=null&&W.unshift(C1(g,Pe,ge))):R||(Pe=Fs(g,k),Pe!=null&&W.push(C1(g,Pe,ge)))),g=g.return}W.length!==0&&l.push({event:f,listeners:W})}var P$=/\r\n?/g,D$=/\u0000|\uFFFD/g;function l4(l){return(typeof l=="string"?l:""+l).replace(P$,`
`).replace(D$,"")}function c4(l,f){return f=l4(f),l4(l)===f}function Gi(l,f,g,b,R,k){switch(g){case"children":typeof b=="string"?f==="body"||f==="textarea"&&b===""||Tr(l,b):(typeof b=="number"||typeof b=="bigint")&&f!=="body"&&Tr(l,""+b);break;case"className":bi(l,"class",b);break;case"tabIndex":bi(l,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(l,g,b);break;case"style":nm(l,b,k);break;case"data":if(f!=="object"){bi(l,"data",b);break}case"src":case"href":if(b===""&&(f!=="a"||g!=="href")){l.removeAttribute(g);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(g);break}b=ul(""+b),l.setAttribute(g,b);break;case"action":case"formAction":if(typeof b=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(g==="formAction"?(f!=="input"&&Gi(l,f,"name",R.name,R,null),Gi(l,f,"formEncType",R.formEncType,R,null),Gi(l,f,"formMethod",R.formMethod,R,null),Gi(l,f,"formTarget",R.formTarget,R,null)):(Gi(l,f,"encType",R.encType,R,null),Gi(l,f,"method",R.method,R,null),Gi(l,f,"target",R.target,R,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(g);break}b=ul(""+b),l.setAttribute(g,b);break;case"onClick":b!=null&&(l.onclick=is);break;case"onScroll":b!=null&&Qn("scroll",l);break;case"onScrollEnd":b!=null&&Qn("scrollend",l);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(i(61));if(g=b.__html,g!=null){if(R.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"multiple":l.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":l.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){l.removeAttribute("xlink:href");break}g=ul(""+b),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,""+b):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":b===!0?l.setAttribute(g,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,b):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?l.setAttribute(g,b):l.removeAttribute(g);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?l.removeAttribute(g):l.setAttribute(g,b);break;case"popover":Qn("beforetoggle",l),Qn("toggle",l),Ln(l,"popover",b);break;case"xlinkActuate":Wn(l,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Wn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Wn(l,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Wn(l,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Wn(l,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Wn(l,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Wn(l,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Wn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Wn(l,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Ln(l,"is",b);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=hy.get(g)||g,Ln(l,g,b))}}function JM(l,f,g,b,R,k){switch(g){case"style":nm(l,b,k);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(i(61));if(g=b.__html,g!=null){if(R.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"children":typeof b=="string"?Tr(l,b):(typeof b=="number"||typeof b=="bigint")&&Tr(l,""+b);break;case"onScroll":b!=null&&Qn("scroll",l);break;case"onScrollEnd":b!=null&&Qn("scrollend",l);break;case"onClick":b!=null&&(l.onclick=is);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tt.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(R=g.endsWith("Capture"),f=g.slice(2,R?g.length-7:void 0),k=l[fr]||null,k=k!=null?k[g]:null,typeof k=="function"&&l.removeEventListener(f,k,R),typeof b=="function")){typeof k!="function"&&k!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(f,b,R);break e}g in l?l[g]=b:b===!0?l.setAttribute(g,""):Ln(l,g,b)}}}function ya(l,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qn("error",l),Qn("load",l);var b=!1,R=!1,k;for(k in g)if(g.hasOwnProperty(k)){var W=g[k];if(W!=null)switch(k){case"src":b=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:Gi(l,f,k,W,g,null)}}R&&Gi(l,f,"srcSet",g.srcSet,g,null),b&&Gi(l,f,"src",g.src,g,null);return;case"input":Qn("invalid",l);var ne=k=W=R=null,ge=null,Pe=null;for(b in g)if(g.hasOwnProperty(b)){var Ye=g[b];if(Ye!=null)switch(b){case"name":R=Ye;break;case"type":W=Ye;break;case"checked":ge=Ye;break;case"defaultChecked":Pe=Ye;break;case"value":k=Ye;break;case"defaultValue":ne=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(i(137,f));break;default:Gi(l,f,b,Ye,g,null)}}Er(l,k,ne,ge,Pe,W,R,!1);return;case"select":Qn("invalid",l),b=W=k=null;for(R in g)if(g.hasOwnProperty(R)&&(ne=g[R],ne!=null))switch(R){case"value":k=ne;break;case"defaultValue":W=ne;break;case"multiple":b=ne;default:Gi(l,f,R,ne,g,null)}f=k,g=W,l.multiple=!!b,f!=null?cn(l,!!b,f,!1):g!=null&&cn(l,!!b,g,!0);return;case"textarea":Qn("invalid",l),k=R=b=null;for(W in g)if(g.hasOwnProperty(W)&&(ne=g[W],ne!=null))switch(W){case"value":b=ne;break;case"defaultValue":R=ne;break;case"children":k=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(91));break;default:Gi(l,f,W,ne,g,null)}Os(l,b,R,k);return;case"option":for(ge in g)if(g.hasOwnProperty(ge)&&(b=g[ge],b!=null))switch(ge){case"selected":l.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Gi(l,f,ge,b,g,null)}return;case"dialog":Qn("beforetoggle",l),Qn("toggle",l),Qn("cancel",l),Qn("close",l);break;case"iframe":case"object":Qn("load",l);break;case"video":case"audio":for(b=0;b<w1.length;b++)Qn(w1[b],l);break;case"image":Qn("error",l),Qn("load",l);break;case"details":Qn("toggle",l);break;case"embed":case"source":case"link":Qn("error",l),Qn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in g)if(g.hasOwnProperty(Pe)&&(b=g[Pe],b!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:Gi(l,f,Pe,b,g,null)}return;default:if(Lf(f)){for(Ye in g)g.hasOwnProperty(Ye)&&(b=g[Ye],b!==void 0&&JM(l,f,Ye,b,g,void 0));return}}for(ne in g)g.hasOwnProperty(ne)&&(b=g[ne],b!=null&&Gi(l,f,ne,b,g,null))}function N$(l,f,g,b){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,k=null,W=null,ne=null,ge=null,Pe=null,Ye=null;for(We in g){var tt=g[We];if(g.hasOwnProperty(We)&&tt!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":ge=tt;default:b.hasOwnProperty(We)||Gi(l,f,We,null,b,tt)}}for(var ke in b){var We=b[ke];if(tt=g[ke],b.hasOwnProperty(ke)&&(We!=null||tt!=null))switch(ke){case"type":k=We;break;case"name":R=We;break;case"checked":Pe=We;break;case"defaultChecked":Ye=We;break;case"value":W=We;break;case"defaultValue":ne=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(i(137,f));break;default:We!==tt&&Gi(l,f,ke,We,b,tt)}}ei(l,W,ne,ge,Pe,Ye,k,R);return;case"select":We=W=ne=ke=null;for(k in g)if(ge=g[k],g.hasOwnProperty(k)&&ge!=null)switch(k){case"value":break;case"multiple":We=ge;default:b.hasOwnProperty(k)||Gi(l,f,k,null,b,ge)}for(R in b)if(k=b[R],ge=g[R],b.hasOwnProperty(R)&&(k!=null||ge!=null))switch(R){case"value":ke=k;break;case"defaultValue":ne=k;break;case"multiple":W=k;default:k!==ge&&Gi(l,f,R,k,b,ge)}f=ne,g=W,b=We,ke!=null?cn(l,!!g,ke,!1):!!b!=!!g&&(f!=null?cn(l,!!g,f,!0):cn(l,!!g,g?[]:"",!1));return;case"textarea":We=ke=null;for(ne in g)if(R=g[ne],g.hasOwnProperty(ne)&&R!=null&&!b.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:Gi(l,f,ne,null,b,R)}for(W in b)if(R=b[W],k=g[W],b.hasOwnProperty(W)&&(R!=null||k!=null))switch(W){case"value":ke=R;break;case"defaultValue":We=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:R!==k&&Gi(l,f,W,R,b,k)}or(l,ke,We);return;case"option":for(var Vt in g)if(ke=g[Vt],g.hasOwnProperty(Vt)&&ke!=null&&!b.hasOwnProperty(Vt))switch(Vt){case"selected":l.selected=!1;break;default:Gi(l,f,Vt,null,b,ke)}for(ge in b)if(ke=b[ge],We=g[ge],b.hasOwnProperty(ge)&&ke!==We&&(ke!=null||We!=null))switch(ge){case"selected":l.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:Gi(l,f,ge,ke,b,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ln in g)ke=g[ln],g.hasOwnProperty(ln)&&ke!=null&&!b.hasOwnProperty(ln)&&Gi(l,f,ln,null,b,ke);for(Pe in b)if(ke=b[Pe],We=g[Pe],b.hasOwnProperty(Pe)&&ke!==We&&(ke!=null||We!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(i(137,f));break;default:Gi(l,f,Pe,ke,b,We)}return;default:if(Lf(f)){for(var qi in g)ke=g[qi],g.hasOwnProperty(qi)&&ke!==void 0&&!b.hasOwnProperty(qi)&&JM(l,f,qi,void 0,b,ke);for(Ye in b)ke=b[Ye],We=g[Ye],!b.hasOwnProperty(Ye)||ke===We||ke===void 0&&We===void 0||JM(l,f,Ye,ke,b,We);return}}for(var we in g)ke=g[we],g.hasOwnProperty(we)&&ke!=null&&!b.hasOwnProperty(we)&&Gi(l,f,we,null,b,ke);for(tt in b)ke=b[tt],We=g[tt],!b.hasOwnProperty(tt)||ke===We||ke==null&&We==null||Gi(l,f,tt,ke,b,We)}function u4(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L$(){if(typeof performance.getEntriesByType=="function"){for(var l=0,f=0,g=performance.getEntriesByType("resource"),b=0;b<g.length;b++){var R=g[b],k=R.transferSize,W=R.initiatorType,ne=R.duration;if(k&&ne&&u4(W)){for(W=0,ne=R.responseEnd,b+=1;b<g.length;b++){var ge=g[b],Pe=ge.startTime;if(Pe>ne)break;var Ye=ge.transferSize,tt=ge.initiatorType;Ye&&u4(tt)&&(ge=ge.responseEnd,W+=Ye*(ge<ne?1:(ne-Pe)/(ge-Pe)))}if(--b,f+=8*(k+W)/(R.duration/1e3),l++,10<l)break}}if(0<l)return f/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var eR=null,tR=null;function DE(l){return l.nodeType===9?l:l.ownerDocument}function f4(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h4(l,f){if(l===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&f==="foreignObject"?0:l}function nR(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var iR=null;function U$(){var l=window.event;return l&&l.type==="popstate"?l===iR?!1:(iR=l,!0):(iR=null,!1)}var d4=typeof setTimeout=="function"?setTimeout:void 0,k$=typeof clearTimeout=="function"?clearTimeout:void 0,p4=typeof Promise=="function"?Promise:void 0,z$=typeof queueMicrotask=="function"?queueMicrotask:typeof p4<"u"?function(l){return p4.resolve(null).then(l).catch(B$)}:d4;function B$(l){setTimeout(function(){throw l})}function qd(l){return l==="head"}function m4(l,f){var g=f,b=0;do{var R=g.nextSibling;if(l.removeChild(g),R&&R.nodeType===8)if(g=R.data,g==="/$"||g==="/&"){if(b===0){l.removeChild(R),ov(f);return}b--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")b++;else if(g==="html")A1(l.ownerDocument.documentElement);else if(g==="head"){g=l.ownerDocument.head,A1(g);for(var k=g.firstChild;k;){var W=k.nextSibling,ne=k.nodeName;k[ro]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&k.rel.toLowerCase()==="stylesheet"||g.removeChild(k),k=W}}else g==="body"&&A1(l.ownerDocument.body);g=R}while(g);ov(f)}function g4(l,f){var g=l;l=0;do{var b=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),b&&b.nodeType===8)if(g=b.data,g==="/$"){if(l===0)break;l--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||l++;g=b}while(g)}function rR(l){var f=l.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":rR(g),cl(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function F$(l,f,g,b){for(;l.nodeType===1;){var R=g;if(l.nodeName.toLowerCase()!==f.toLowerCase()){if(!b&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(b){if(!l[ro])switch(f){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(k=l.getAttribute("rel"),k==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(k!==R.rel||l.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||l.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||l.getAttribute("title")!==(R.title==null?null:R.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(k=l.getAttribute("src"),(k!==(R.src==null?null:R.src)||l.getAttribute("type")!==(R.type==null?null:R.type)||l.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&k&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(f==="input"&&l.type==="hidden"){var k=R.name==null?null:""+R.name;if(R.type==="hidden"&&l.getAttribute("name")===k)return l}else return l;if(l=fc(l.nextSibling),l===null)break}return null}function V$(l,f,g){if(f==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=fc(l.nextSibling),l===null))return null;return l}function y4(l,f){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=fc(l.nextSibling),l===null))return null;return l}function sR(l){return l.data==="$?"||l.data==="$~"}function aR(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function H$(l,f){var g=l.ownerDocument;if(l.data==="$~")l._reactRetry=f;else if(l.data!=="$?"||g.readyState!=="loading")f();else{var b=function(){f(),g.removeEventListener("DOMContentLoaded",b)};g.addEventListener("DOMContentLoaded",b),l._reactRetry=b}}function fc(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return l}var oR=null;function v4(l){l=l.nextSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"||g==="/&"){if(f===0)return fc(l.nextSibling);f--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||f++}l=l.nextSibling}return null}function _4(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(f===0)return l;f--}else g!=="/$"&&g!=="/&"||f++}l=l.previousSibling}return null}function b4(l,f,g){switch(f=DE(g),l){case"html":if(l=f.documentElement,!l)throw Error(i(452));return l;case"head":if(l=f.head,!l)throw Error(i(453));return l;case"body":if(l=f.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}function A1(l){for(var f=l.attributes;f.length;)l.removeAttributeNode(f[0]);cl(l)}var hc=new Map,x4=new Set;function NE(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var hh=$.d;$.d={f:j$,r:G$,D:q$,C:W$,L:$$,m:X$,X:K$,S:Y$,M:Z$};function j$(){var l=hh.f(),f=oe();return l||f}function G$(l){var f=_e(l);f!==null&&f.tag===5&&f.type==="form"?g1(f):hh.r(l)}var rv=typeof document>"u"?null:document;function S4(l,f,g){var b=rv;if(b&&typeof f=="string"&&f){var R=Ai(f);R='link[rel="'+l+'"][href="'+R+'"]',typeof g=="string"&&(R+='[crossorigin="'+g+'"]'),x4.has(R)||(x4.add(R),l={rel:l,crossOrigin:g,href:f},b.querySelector(R)===null&&(f=b.createElement("link"),ya(f,"link",l),xe(f),b.head.appendChild(f)))}}function q$(l){hh.D(l),S4("dns-prefetch",l,null)}function W$(l,f){hh.C(l,f),S4("preconnect",l,f)}function $$(l,f,g){hh.L(l,f,g);var b=rv;if(b&&l&&f){var R='link[rel="preload"][as="'+Ai(f)+'"]';f==="image"&&g&&g.imageSrcSet?(R+='[imagesrcset="'+Ai(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(R+='[imagesizes="'+Ai(g.imageSizes)+'"]')):R+='[href="'+Ai(l)+'"]';var k=R;switch(f){case"style":k=sv(l);break;case"script":k=av(l)}hc.has(k)||(l=p({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:l,as:f},g),hc.set(k,l),b.querySelector(R)!==null||f==="style"&&b.querySelector(M1(k))||f==="script"&&b.querySelector(R1(k))||(f=b.createElement("link"),ya(f,"link",l),xe(f),b.head.appendChild(f)))}}function X$(l,f){hh.m(l,f);var g=rv;if(g&&l){var b=f&&typeof f.as=="string"?f.as:"script",R='link[rel="modulepreload"][as="'+Ai(b)+'"][href="'+Ai(l)+'"]',k=R;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=av(l)}if(!hc.has(k)&&(l=p({rel:"modulepreload",href:l},f),hc.set(k,l),g.querySelector(R)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(R1(k)))return}b=g.createElement("link"),ya(b,"link",l),xe(b),g.head.appendChild(b)}}}function Y$(l,f,g){hh.S(l,f,g);var b=rv;if(b&&l){var R=De(b).hoistableStyles,k=sv(l);f=f||"default";var W=R.get(k);if(!W){var ne={loading:0,preload:null};if(W=b.querySelector(M1(k)))ne.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":f},g),(g=hc.get(k))&&lR(l,g);var ge=W=b.createElement("link");xe(ge),ya(ge,"link",l),ge._p=new Promise(function(Pe,Ye){ge.onload=Pe,ge.onerror=Ye}),ge.addEventListener("load",function(){ne.loading|=1}),ge.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,LE(W,f,b)}W={type:"stylesheet",instance:W,count:1,state:ne},R.set(k,W)}}}function K$(l,f){hh.X(l,f);var g=rv;if(g&&l){var b=De(g).hoistableScripts,R=av(l),k=b.get(R);k||(k=g.querySelector(R1(R)),k||(l=p({src:l,async:!0},f),(f=hc.get(R))&&cR(l,f),k=g.createElement("script"),xe(k),ya(k,"link",l),g.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},b.set(R,k))}}function Z$(l,f){hh.M(l,f);var g=rv;if(g&&l){var b=De(g).hoistableScripts,R=av(l),k=b.get(R);k||(k=g.querySelector(R1(R)),k||(l=p({src:l,async:!0,type:"module"},f),(f=hc.get(R))&&cR(l,f),k=g.createElement("script"),xe(k),ya(k,"link",l),g.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},b.set(R,k))}}function E4(l,f,g,b){var R=(R=he.current)?NE(R):null;if(!R)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=sv(g.href),g=De(R).hoistableStyles,b=g.get(f),b||(b={type:"style",instance:null,count:0,state:null},g.set(f,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=sv(g.href);var k=De(R).hoistableStyles,W=k.get(l);if(W||(R=R.ownerDocument||R,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(l,W),(k=R.querySelector(M1(l)))&&!k._p&&(W.instance=k,W.state.loading=5),hc.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},hc.set(l,g),k||Q$(R,l,g,W.state))),f&&b===null)throw Error(i(528,""));return W}if(f&&b!==null)throw Error(i(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=av(g),g=De(R).hoistableScripts,b=g.get(f),b||(b={type:"script",instance:null,count:0,state:null},g.set(f,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function sv(l){return'href="'+Ai(l)+'"'}function M1(l){return'link[rel="stylesheet"]['+l+"]"}function T4(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function Q$(l,f,g,b){l.querySelector('link[rel="preload"][as="style"]['+f+"]")?b.loading=1:(f=l.createElement("link"),b.preload=f,f.addEventListener("load",function(){return b.loading|=1}),f.addEventListener("error",function(){return b.loading|=2}),ya(f,"link",g),xe(f),l.head.appendChild(f))}function av(l){return'[src="'+Ai(l)+'"]'}function R1(l){return"script[async]"+l}function w4(l,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var b=l.querySelector('style[data-href~="'+Ai(g.href)+'"]');if(b)return f.instance=b,xe(b),b;var R=p({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return b=(l.ownerDocument||l).createElement("style"),xe(b),ya(b,"style",R),LE(b,g.precedence,l),f.instance=b;case"stylesheet":R=sv(g.href);var k=l.querySelector(M1(R));if(k)return f.state.loading|=4,f.instance=k,xe(k),k;b=T4(g),(R=hc.get(R))&&lR(b,R),k=(l.ownerDocument||l).createElement("link"),xe(k);var W=k;return W._p=new Promise(function(ne,ge){W.onload=ne,W.onerror=ge}),ya(k,"link",b),f.state.loading|=4,LE(k,g.precedence,l),f.instance=k;case"script":return k=av(g.src),(R=l.querySelector(R1(k)))?(f.instance=R,xe(R),R):(b=g,(R=hc.get(k))&&(b=p({},g),cR(b,R)),l=l.ownerDocument||l,R=l.createElement("script"),xe(R),ya(R,"link",b),l.head.appendChild(R),f.instance=R);case"void":return null;default:throw Error(i(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(b=f.instance,f.state.loading|=4,LE(b,g.precedence,l));return f.instance}function LE(l,f,g){for(var b=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=b.length?b[b.length-1]:null,k=R,W=0;W<b.length;W++){var ne=b[W];if(ne.dataset.precedence===f)k=ne;else if(k!==R)break}k?k.parentNode.insertBefore(l,k.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(l,f.firstChild))}function lR(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.title==null&&(l.title=f.title)}function cR(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.integrity==null&&(l.integrity=f.integrity)}var UE=null;function C4(l,f,g){if(UE===null){var b=new Map,R=UE=new Map;R.set(g,b)}else R=UE,b=R.get(g),b||(b=new Map,R.set(g,b));if(b.has(l))return b;for(b.set(l,null),g=g.getElementsByTagName(l),R=0;R<g.length;R++){var k=g[R];if(!(k[ro]||k[dn]||l==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var W=k.getAttribute(f)||"";W=l+W;var ne=b.get(W);ne?ne.push(k):b.set(W,[k])}}return b}function A4(l,f,g){l=l.ownerDocument||l,l.head.insertBefore(g,f==="title"?l.querySelector("head > title"):null)}function J$(l,f,g){if(g===1||f.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return l=f.disabled,typeof f.precedence=="string"&&l==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function M4(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function eX(l,f,g,b){if(g.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var R=sv(b.href),k=f.querySelector(M1(R));if(k){f=k._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(l.count++,l=kE.bind(l),f.then(l,l)),g.state.loading|=4,g.instance=k,xe(k);return}k=f.ownerDocument||f,b=T4(b),(R=hc.get(R))&&lR(b,R),k=k.createElement("link"),xe(k);var W=k;W._p=new Promise(function(ne,ge){W.onload=ne,W.onerror=ge}),ya(k,"link",b),g.instance=k}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(l.count++,g=kE.bind(l),f.addEventListener("load",g),f.addEventListener("error",g))}}var uR=0;function tX(l,f){return l.stylesheets&&l.count===0&&BE(l,l.stylesheets),0<l.count||0<l.imgCount?function(g){var b=setTimeout(function(){if(l.stylesheets&&BE(l,l.stylesheets),l.unsuspend){var k=l.unsuspend;l.unsuspend=null,k()}},6e4+f);0<l.imgBytes&&uR===0&&(uR=62500*L$());var R=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&BE(l,l.stylesheets),l.unsuspend)){var k=l.unsuspend;l.unsuspend=null,k()}},(l.imgBytes>uR?50:800)+f);return l.unsuspend=g,function(){l.unsuspend=null,clearTimeout(b),clearTimeout(R)}}:null}function kE(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)BE(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var zE=null;function BE(l,f){l.stylesheets=null,l.unsuspend!==null&&(l.count++,zE=new Map,f.forEach(nX,l),zE=null,kE.call(l))}function nX(l,f){if(!(f.state.loading&4)){var g=zE.get(l);if(g)var b=g.get(null);else{g=new Map,zE.set(l,g);for(var R=l.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<R.length;k++){var W=R[k];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(g.set(W.dataset.precedence,W),b=W)}b&&g.set(null,b)}R=f.instance,W=R.getAttribute("data-precedence"),k=g.get(W)||b,k===b&&g.set(null,R),g.set(W,R),this.count++,b=kE.bind(this),R.addEventListener("load",b),R.addEventListener("error",b),k?k.parentNode.insertBefore(R,k.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(R,l.firstChild)),f.state.loading|=4}}var O1={$$typeof:M,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function iX(l,f,g,b,R,k,W,ne,ge){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qt(0),this.hiddenUpdates=Qt(null),this.identifierPrefix=b,this.onUncaughtError=R,this.onCaughtError=k,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function R4(l,f,g,b,R,k,W,ne,ge,Pe,Ye,tt){return l=new iX(l,f,g,W,ge,Pe,Ye,tt,ne),f=1,k===!0&&(f|=24),k=fa(3,null,null,f),l.current=k,k.stateNode=l,f=z_(),f.refCount++,l.pooledCache=f,f.refCount++,k.memoizedState={element:b,isDehydrated:g,cache:f},G_(k),l}function O4(l){return l?(l=Uu,l):Uu}function I4(l,f,g,b,R,k){R=O4(R),b.context===null?b.context=R:b.pendingContext=R,b=nc(f),b.payload={element:g},k=k===void 0?null:k,k!==null&&(b.callback=k),g=qc(l,b,f),g!==null&&(m(g,l,f),Gu(g,l,f))}function P4(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<f?g:f}}function fR(l,f){P4(l,f),(l=l.alternate)&&P4(l,f)}function D4(l){if(l.tag===13||l.tag===31){var f=Lu(l,67108864);f!==null&&m(f,l,67108864),fR(l,67108864)}}function N4(l){if(l.tag===13||l.tag===31){var f=ga();f=Li(f);var g=Lu(l,f);g!==null&&m(g,l,f),fR(l,f)}}var FE=!0;function rX(l,f,g,b){var R=q.T;q.T=null;var k=$.p;try{$.p=2,hR(l,f,g,b)}finally{$.p=k,q.T=R}}function sX(l,f,g,b){var R=q.T;q.T=null;var k=$.p;try{$.p=8,hR(l,f,g,b)}finally{$.p=k,q.T=R}}function hR(l,f,g,b){if(FE){var R=dR(b);if(R===null)QM(l,f,b,VE,g),U4(l,b);else if(oX(R,l,f,g,b))b.stopPropagation();else if(U4(l,b),f&4&&-1<aX.indexOf(l)){for(;R!==null;){var k=_e(R);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var W=xt(k.pendingLanes);if(W!==0){var ne=k;for(ne.pendingLanes|=2,ne.entangledLanes|=2;W;){var ge=1<<31-jt(W);ne.entanglements[1]|=ge,W&=~ge}Ju(k),(ti&6)===0&&(xo=Ae()+500,T1(0))}}break;case 31:case 13:ne=Lu(k,2),ne!==null&&m(ne,k,2),oe(),fR(k,2)}if(k=dR(b),k===null&&QM(l,f,b,VE,g),k===R)break;R=k}R!==null&&b.stopPropagation()}else QM(l,f,b,null,g)}}function dR(l){return l=Uf(l),pR(l)}var VE=null;function pR(l){if(VE=null,l=re(l),l!==null){var f=s(l);if(f===null)l=null;else{var g=f.tag;if(g===13){if(l=a(f),l!==null)return l;l=null}else if(g===31){if(l=o(f),l!==null)return l;l=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null)}}return VE=l,null}function L4(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case Re:return 2;case lt:return 8;case ut:case Dt:return 32;case kt:return 268435456;default:return 32}default:return 32}}var mR=!1,Wd=null,$d=null,Xd=null,I1=new Map,P1=new Map,Yd=[],aX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U4(l,f){switch(l){case"focusin":case"focusout":Wd=null;break;case"dragenter":case"dragleave":$d=null;break;case"mouseover":case"mouseout":Xd=null;break;case"pointerover":case"pointerout":I1.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":P1.delete(f.pointerId)}}function D1(l,f,g,b,R,k){return l===null||l.nativeEvent!==k?(l={blockedOn:f,domEventName:g,eventSystemFlags:b,nativeEvent:k,targetContainers:[R]},f!==null&&(f=_e(f),f!==null&&D4(f)),l):(l.eventSystemFlags|=b,f=l.targetContainers,R!==null&&f.indexOf(R)===-1&&f.push(R),l)}function oX(l,f,g,b,R){switch(f){case"focusin":return Wd=D1(Wd,l,f,g,b,R),!0;case"dragenter":return $d=D1($d,l,f,g,b,R),!0;case"mouseover":return Xd=D1(Xd,l,f,g,b,R),!0;case"pointerover":var k=R.pointerId;return I1.set(k,D1(I1.get(k)||null,l,f,g,b,R)),!0;case"gotpointercapture":return k=R.pointerId,P1.set(k,D1(P1.get(k)||null,l,f,g,b,R)),!0}return!1}function k4(l){var f=re(l.target);if(f!==null){var g=s(f);if(g!==null){if(f=g.tag,f===13){if(f=a(g),f!==null){l.blockedOn=f,Fr(l.priority,function(){N4(g)});return}}else if(f===31){if(f=o(g),f!==null){l.blockedOn=f,Fr(l.priority,function(){N4(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function HE(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var g=dR(l.nativeEvent);if(g===null){g=l.nativeEvent;var b=new g.constructor(g.type,g);Tu=b,g.target.dispatchEvent(b),Tu=null}else return f=_e(g),f!==null&&D4(f),l.blockedOn=g,!1;f.shift()}return!0}function z4(l,f,g){HE(l)&&g.delete(f)}function lX(){mR=!1,Wd!==null&&HE(Wd)&&(Wd=null),$d!==null&&HE($d)&&($d=null),Xd!==null&&HE(Xd)&&(Xd=null),I1.forEach(z4),P1.forEach(z4)}function jE(l,f){l.blockedOn===f&&(l.blockedOn=null,mR||(mR=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,lX)))}var GE=null;function B4(l){GE!==l&&(GE=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){GE===l&&(GE=null);for(var f=0;f<l.length;f+=3){var g=l[f],b=l[f+1],R=l[f+2];if(typeof b!="function"){if(pR(b||g)===null)continue;break}var k=_e(g);k!==null&&(l.splice(f,3),f-=3,m1(k,{pending:!0,data:R,method:g.method,action:b},b,R))}}))}function ov(l){function f(ge){return jE(ge,l)}Wd!==null&&jE(Wd,l),$d!==null&&jE($d,l),Xd!==null&&jE(Xd,l),I1.forEach(f),P1.forEach(f);for(var g=0;g<Yd.length;g++){var b=Yd[g];b.blockedOn===l&&(b.blockedOn=null)}for(;0<Yd.length&&(g=Yd[0],g.blockedOn===null);)k4(g),g.blockedOn===null&&Yd.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(b=0;b<g.length;b+=3){var R=g[b],k=g[b+1],W=R[fr]||null;if(typeof k=="function")W||B4(g);else if(W){var ne=null;if(k&&k.hasAttribute("formAction")){if(R=k,W=k[fr]||null)ne=W.formAction;else if(pR(R)!==null)continue}else ne=W.action;typeof ne=="function"?g[b+1]=ne:(g.splice(b,3),b-=3),B4(g)}}}function F4(){function l(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(W){return R=W})},focusReset:"manual",scroll:"manual"})}function f(){R!==null&&(R(),R=null),b||setTimeout(g,20)}function g(){if(!b&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,R=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(g,100),function(){b=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),R!==null&&(R(),R=null)}}}function gR(l){this._internalRoot=l}qE.prototype.render=gR.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(i(409));var g=f.current,b=ga();I4(g,b,l,f,null,null)},qE.prototype.unmount=gR.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;I4(l.current,2,null,l,null,null),oe(),f[aa]=null}};function qE(l){this._internalRoot=l}qE.prototype.unstable_scheduleHydration=function(l){if(l){var f=$i();l={blockedOn:null,target:l,priority:f};for(var g=0;g<Yd.length&&f!==0&&f<Yd[g].priority;g++);Yd.splice(g,0,l),g===0&&k4(l)}};var V4=e.version;if(V4!=="19.2.3")throw Error(i(527,V4,"19.2.3"));$.findDOMNode=function(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=u(f),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var cX={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var WE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!WE.isDisabled&&WE.supportsFiber)try{wt=WE.inject(cX),At=WE}catch{}}return L1.createRoot=function(l,f){if(!r(l))throw Error(i(299));var g=!1,b="",R=_1,k=TE,W=Gy;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(R=f.onUncaughtError),f.onCaughtError!==void 0&&(k=f.onCaughtError),f.onRecoverableError!==void 0&&(W=f.onRecoverableError)),f=R4(l,1,!1,null,null,g,b,null,R,k,W,F4),l[aa]=f.current,ZM(l),new gR(f)},L1.hydrateRoot=function(l,f,g){if(!r(l))throw Error(i(299));var b=!1,R="",k=_1,W=TE,ne=Gy,ge=null;return g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&(R=g.identifierPrefix),g.onUncaughtError!==void 0&&(k=g.onUncaughtError),g.onCaughtError!==void 0&&(W=g.onCaughtError),g.onRecoverableError!==void 0&&(ne=g.onRecoverableError),g.formState!==void 0&&(ge=g.formState)),f=R4(l,1,!0,f,g??null,b,R,ge,k,W,ne,F4),f.context=O4(null),g=f.current,b=ga(),b=Li(b),R=nc(b),R.callback=null,qc(g,R,b),g=b,f.current.lanes=g,St(f,g),Ju(f),l[aa]=f.current,ZM(l),new qE(f)},L1.version="19.2.3",L1}var Z4;function _X(){if(Z4)return _R.exports;Z4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_R.exports=vX(),_R.exports}var bX=_X();/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Q4="popstate";function xX(n={}){function e(i,r){let{pathname:s,search:a,hash:o}=i.location;return Z3("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:px(r)}return EX(e,t,null,n)}function kr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mu(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SX(){return Math.random().toString(36).substring(2,10)}function J4(n,e){return{usr:n.state,key:n.key,idx:e}}function Z3(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?n_(e):e,state:t,key:e&&e.key||i||SX()}}function px({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function n_(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function EX(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o="POP",c=null,u=h();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function h(){return(a.state||{idx:null}).idx}function p(){o="POP";let E=h(),x=E==null?null:E-u;u=E,c&&c({action:o,location:S.location,delta:x})}function y(E,x){o="PUSH";let w=Z3(S.location,E,x);u=h()+1;let M=J4(w,u),C=S.createHref(w);try{a.pushState(M,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(C)}s&&c&&c({action:o,location:S.location,delta:1})}function v(E,x){o="REPLACE";let w=Z3(S.location,E,x);u=h();let M=J4(w,u),C=S.createHref(w);a.replaceState(M,"",C),s&&c&&c({action:o,location:S.location,delta:0})}function _(E){return TX(E)}let S={get action(){return o},get location(){return n(r,a)},listen(E){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Q4,p),c=E,()=>{r.removeEventListener(Q4,p),c=null}},createHref(E){return e(r,E)},createURL:_,encodeLocation(E){let x=_(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:y,replace:v,go(E){return a.go(E)}};return S}function TX(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),kr(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:px(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function AF(n,e,t="/"){return wX(n,e,t,!1)}function wX(n,e,t,i){let r=typeof e=="string"?n_(e):e,s=Vh(r.pathname||"/",t);if(s==null)return null;let a=MF(n);CX(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=kX(s);o=LX(a[c],u,i)}return o}function MF(n,e=[],t=[],i="",r=!1){let s=(a,o,c=r,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&c)return;kr(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let p=Uh([i,h.relativePath]),y=t.concat(h);a.children&&a.children.length>0&&(kr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),MF(a.children,e,y,p,c)),!(a.path==null&&!a.index)&&e.push({path:p,score:DX(p,a.index),routesMeta:y})};return n.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))s(a,o);else for(let c of RF(a.path))s(a,o,!0,c)}),e}function RF(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=RF(i.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),r&&o.push(...a),o.map(c=>n.startsWith("/")&&c===""?"/":c)}function CX(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:NX(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var AX=/^:[\w-]+$/,MX=3,RX=2,OX=1,IX=10,PX=-2,eU=n=>n==="*";function DX(n,e){let t=n.split("/"),i=t.length;return t.some(eU)&&(i+=PX),e&&(i+=RX),t.filter(r=>!eU(r)).reduce((r,s)=>r+(AX.test(s)?MX:s===""?OX:IX),i)}function NX(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function LX(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let c=i[o],u=o===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=u2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),y=c.route;if(!p&&u&&t&&!i[i.length-1].route.index&&(p=u2({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:Uh([s,p.pathname]),pathnameBase:VX(Uh([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=Uh([s,p.pathnameBase]))}return a}function u2(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=UX(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,{paramName:h,isOptional:p},y)=>{if(h==="*"){let _=o[y]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=o[y];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function UX(n,e=!1,t=!0){mu(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(i.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function kX(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mu(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Vh(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var OF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zX=n=>OF.test(n);function BX(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?n_(n):n,s;if(t)if(zX(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),mu(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=tU(t.substring(1),"/"):s=tU(t,e)}else s=e;return{pathname:s,search:HX(i),hash:jX(r)}}function tU(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function ER(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FX(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function IF(n){let e=FX(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function PF(n,e,t,i=!1){let r;typeof n=="string"?r=n_(n):(r={...n},kr(!r.pathname||!r.pathname.includes("?"),ER("?","pathname","search",r)),kr(!r.pathname||!r.pathname.includes("#"),ER("#","pathname","hash",r)),kr(!r.search||!r.search.includes("#"),ER("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let p=e.length-1;if(!i&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),p-=1;r.pathname=y.join("/")}o=p>=0?e[p]:"/"}let c=BX(r,o),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var Uh=n=>n.join("/").replace(/\/\/+/g,"/"),VX=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),HX=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jX=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,GX=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function qX(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function WX(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var DF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function NF(n,e){let t=n;if(typeof t!="string"||!OF.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,r=!1;if(DF)try{let s=new URL(window.location.href),a=t.startsWith("//")?new URL(s.protocol+t):new URL(t),o=Vh(a.pathname,e);a.origin===s.origin&&o!=null?t=o+a.search+a.hash:r=!0}catch{mu(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LF=["POST","PUT","PATCH","DELETE"];new Set(LF);var $X=["GET",...LF];new Set($X);var i_=H.createContext(null);i_.displayName="DataRouter";var ZC=H.createContext(null);ZC.displayName="DataRouterState";var XX=H.createContext(!1),UF=H.createContext({isTransitioning:!1});UF.displayName="ViewTransition";var YX=H.createContext(new Map);YX.displayName="Fetchers";var KX=H.createContext(null);KX.displayName="Await";var Mc=H.createContext(null);Mc.displayName="Navigation";var iS=H.createContext(null);iS.displayName="Location";var nd=H.createContext({outlet:null,matches:[],isDataRoute:!1});nd.displayName="Route";var tD=H.createContext(null);tD.displayName="RouteError";var kF="REACT_ROUTER_ERROR",ZX="REDIRECT",QX="ROUTE_ERROR_RESPONSE";function JX(n){if(n.startsWith(`${kF}:${ZX}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function eY(n){if(n.startsWith(`${kF}:${QX}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new GX(e.status,e.statusText,e.data)}catch{}}function tY(n,{relative:e}={}){kr(rS(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=H.useContext(Mc),{hash:r,pathname:s,search:a}=sS(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:Uh([t,s])),i.createHref({pathname:o,search:a,hash:r})}function rS(){return H.useContext(iS)!=null}function ny(){return kr(rS(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(iS).location}var zF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BF(n){H.useContext(Mc).static||H.useLayoutEffect(n)}function FF(){let{isDataRoute:n}=H.useContext(nd);return n?pY():nY()}function nY(){kr(rS(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(i_),{basename:e,navigator:t}=H.useContext(Mc),{matches:i}=H.useContext(nd),{pathname:r}=ny(),s=JSON.stringify(IF(i)),a=H.useRef(!1);return BF(()=>{a.current=!0}),H.useCallback((c,u={})=>{if(mu(a.current,zF),!a.current)return;if(typeof c=="number"){t.go(c);return}let h=PF(c,JSON.parse(s),r,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Uh([e,h.pathname])),(u.replace?t.replace:t.push)(h,u.state,u)},[e,t,s,r,n])}H.createContext(null);function sS(n,{relative:e}={}){let{matches:t}=H.useContext(nd),{pathname:i}=ny(),r=JSON.stringify(IF(t));return H.useMemo(()=>PF(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function iY(n,e){return VF(n,e)}function VF(n,e,t,i,r){kr(rS(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=H.useContext(Mc),{matches:a}=H.useContext(nd),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",p=o&&o.route;{let w=p&&p.path||"";jF(u,!p||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let y=ny(),v;if(e){let w=typeof e=="string"?n_(e):e;kr(h==="/"||w.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${w.pathname}" was given in the \`location\` prop.`),v=w}else v=y;let _=v.pathname||"/",S=_;if(h!=="/"){let w=h.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(w.length).join("/")}let E=AF(n,{pathname:S});mu(p||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),mu(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=lY(E&&E.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Uh([h,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:Uh([h,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),a,t,i,r);return e&&x?H.createElement(iS.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function rY(){let n=dY(),e=qX(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:s},"ErrorBoundary")," or"," ",H.createElement("code",{style:s},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:r},t):null,a)}var sY=H.createElement(rY,null),HF=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=eY(n.digest);t&&(n=t)}let e=n!==void 0?H.createElement(nd.Provider,{value:this.props.routeContext},H.createElement(tD.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?H.createElement(aY,{error:n},e):e}};HF.contextType=XX;var TR=new WeakMap;function aY({children:n,error:e}){let{basename:t}=H.useContext(Mc);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=JX(e.digest);if(i){let r=TR.get(e);if(r)throw r;let s=NF(i.location,t);if(DF&&!TR.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw TR.set(e,a),a}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return n}function oY({routeContext:n,match:e,children:t}){let i=H.useContext(i_);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(nd.Provider,{value:n},t)}function lY(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t?.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);kr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let o=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:y,errors:v}=t,_=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){o=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=t&&i?(h,p)=>{i(h,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:WX(t.matches),errorInfo:p})}:void 0;return s.reduceRight((h,p,y)=>{let v,_=!1,S=null,E=null;t&&(v=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||sY,o&&(c<0&&y===0?(jF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):c===y&&(_=!0,E=p.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,y+1)),w=()=>{let M;return v?M=S:_?M=E:p.route.Component?M=H.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=h,H.createElement(oY,{match:p,routeContext:{outlet:h,matches:x,isDataRoute:t!=null},children:M})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?H.createElement(HF,{location:t.location,revalidation:t.revalidation,component:S,error:v,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:u}):w()},null)}function nD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cY(n){let e=H.useContext(i_);return kr(e,nD(n)),e}function uY(n){let e=H.useContext(ZC);return kr(e,nD(n)),e}function fY(n){let e=H.useContext(nd);return kr(e,nD(n)),e}function iD(n){let e=fY(n),t=e.matches[e.matches.length-1];return kr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function hY(){return iD("useRouteId")}function dY(){let n=H.useContext(tD),e=uY("useRouteError"),t=iD("useRouteError");return n!==void 0?n:e.errors?.[t]}function pY(){let{router:n}=cY("useNavigate"),e=iD("useNavigate"),t=H.useRef(!1);return BF(()=>{t.current=!0}),H.useCallback(async(r,s={})=>{mu(t.current,zF),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var nU={};function jF(n,e,t){!e&&!nU[n]&&(nU[n]=!0,mu(!1,t))}H.memo(mY);function mY({routes:n,future:e,state:t,onError:i}){return VF(n,void 0,t,i,e)}function GF(n){kr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gY({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){kr(!rS(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),c=H.useMemo(()=>({basename:o,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[o,r,s,a]);typeof t=="string"&&(t=n_(t));let{pathname:u="/",search:h="",hash:p="",state:y=null,key:v="default"}=t,_=H.useMemo(()=>{let S=Vh(u,o);return S==null?null:{location:{pathname:S,search:h,hash:p,state:y,key:v},navigationType:i}},[o,u,h,p,y,v,i]);return mu(_!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:H.createElement(Mc.Provider,{value:c},H.createElement(iS.Provider,{children:e,value:_}))}function yY({children:n,location:e}){return iY(Q3(n),e)}function Q3(n,e=[]){let t=[];return H.Children.forEach(n,(i,r)=>{if(!H.isValidElement(i))return;let s=[...e,r];if(i.type===H.Fragment){t.push.apply(t,Q3(i.props.children,s));return}kr(i.type===GF,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Q3(i.props.children,s)),t.push(a)}),t}var Nw="get",Lw="application/x-www-form-urlencoded";function QC(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function vY(n){return QC(n)&&n.tagName.toLowerCase()==="button"}function _Y(n){return QC(n)&&n.tagName.toLowerCase()==="form"}function bY(n){return QC(n)&&n.tagName.toLowerCase()==="input"}function xY(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function SY(n,e){return n.button===0&&(!e||e==="_self")&&!xY(n)}var $E=null;function EY(){if($E===null)try{new FormData(document.createElement("form"),0),$E=!1}catch{$E=!0}return $E}var TY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wR(n){return n!=null&&!TY.has(n)?(mu(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lw}"`),null):n}function wY(n,e){let t,i,r,s,a;if(_Y(n)){let o=n.getAttribute("action");i=o?Vh(o,e):null,t=n.getAttribute("method")||Nw,r=wR(n.getAttribute("enctype"))||Lw,s=new FormData(n)}else if(vY(n)||bY(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||o.getAttribute("action");if(i=c?Vh(c,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||Nw,r=wR(n.getAttribute("formenctype"))||wR(o.getAttribute("enctype"))||Lw,s=new FormData(o,n),!EY()){let{name:u,type:h,value:p}=n;if(h==="image"){let y=u?`${u}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else u&&s.append(u,p)}}else{if(QC(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nw,i=null,r=Lw,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rD(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function CY(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Vh(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function AY(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MY(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function RY(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await AY(s,t);return a.links?a.links():[]}return[]}));return DY(i.flat(1).filter(MY).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function iU(n,e,t,i,r,s){let a=(c,u)=>t[u]?c.route.id!==t[u].route.id:!0,o=(c,u)=>t[u].pathname!==c.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==c.params["*"];return s==="assets"?e.filter((c,u)=>a(c,u)||o(c,u)):s==="data"?e.filter((c,u)=>{let h=i.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(a(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function OY(n,e,{includeHydrateFallback:t}={}){return IY(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function IY(n){return[...new Set(n)]}function PY(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function DY(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(PY(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function qF(){let n=H.useContext(i_);return rD(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function NY(){let n=H.useContext(ZC);return rD(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var sD=H.createContext(void 0);sD.displayName="FrameworkContext";function WF(){let n=H.useContext(sD);return rD(n,"You must render this element inside a <HydratedRouter> element"),n}function LY(n,e){let t=H.useContext(sD),[i,r]=H.useState(!1),[s,a]=H.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:p}=e,y=H.useRef(null);H.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let S=x=>{x.forEach(w=>{a(w.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[n]),H.useEffect(()=>{if(i){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[i]);let v=()=>{r(!0)},_=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,y,{}]:[s,y,{onFocus:U1(o,v),onBlur:U1(c,_),onMouseEnter:U1(u,v),onMouseLeave:U1(h,_),onTouchStart:U1(p,v)}]:[!1,y,{}]}function U1(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function UY({page:n,...e}){let{router:t}=qF(),i=H.useMemo(()=>AF(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?H.createElement(zY,{page:n,matches:i,...e}):null}function kY(n){let{manifest:e,routeModules:t}=WF(),[i,r]=H.useState([]);return H.useEffect(()=>{let s=!1;return RY(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function zY({page:n,matches:e,...t}){let i=ny(),{manifest:r,routeModules:s}=WF(),{basename:a}=qF(),{loaderData:o,matches:c}=NY(),u=H.useMemo(()=>iU(n,e,c,r,i,"data"),[n,e,c,r,i]),h=H.useMemo(()=>iU(n,e,c,r,i,"assets"),[n,e,c,r,i]),p=H.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,S=!1;if(e.forEach(x=>{let w=r.routes[x.route.id];!w||!w.hasLoader||(!u.some(M=>M.route.id===x.route.id)&&x.route.id in o&&s[x.route.id]?.shouldRevalidate||w.hasClientLoader?S=!0:_.add(x.route.id))}),_.size===0)return[];let E=CY(n,a,"data");return S&&_.size>0&&E.searchParams.set("_routes",e.filter(x=>_.has(x.route.id)).map(x=>x.route.id).join(",")),[E.pathname+E.search]},[a,o,i,r,u,e,n,s]),y=H.useMemo(()=>OY(h,r),[h,r]),v=kY(h);return H.createElement(H.Fragment,null,p.map(_=>H.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>H.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),v.map(({key:_,link:S})=>H.createElement("link",{key:_,nonce:t.nonce,...S})))}function BY(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var FY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FY&&(window.__reactRouterVersion="7.11.0")}catch{}function VY({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=H.useRef();r.current==null&&(r.current=xX({window:i,v5Compat:!0}));let s=r.current,[a,o]=H.useState({action:s.action,location:s.location}),c=H.useCallback(u=>{t===!1?o(u):H.startTransition(()=>o(u))},[t]);return H.useLayoutEffect(()=>s.listen(c),[s,c]),H.createElement(gY,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t})}var $F=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XF=H.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:o,target:c,to:u,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:y,...v},_){let{basename:S,unstable_useTransitions:E}=H.useContext(Mc),x=typeof u=="string"&&$F.test(u),w=NF(u,S);u=w.to;let M=tY(u,{relative:r}),[C,D,L]=LY(i,v),I=qY(u,{replace:a,state:o,target:c,preventScrollReset:h,relative:r,viewTransition:p,unstable_defaultShouldRevalidate:y,unstable_useTransitions:E});function N(U){e&&e(U),U.defaultPrevented||I(U)}let P=H.createElement("a",{...v,...L,href:w.absoluteURL||M,onClick:w.isExternal||s?e:N,ref:BY(_,D),target:c,"data-discover":!x&&t==="render"?"true":void 0});return C&&!x?H.createElement(H.Fragment,null,P,H.createElement(UY,{page:M})):P});XF.displayName="Link";var HY=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:o,children:c,...u},h){let p=sS(a,{relative:u.relative}),y=ny(),v=H.useContext(ZC),{navigator:_,basename:S}=H.useContext(Mc),E=v!=null&&KY(p)&&o===!0,x=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,w=y.pathname,M=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(w=w.toLowerCase(),M=M?M.toLowerCase():null,x=x.toLowerCase()),M&&S&&(M=Vh(M,S)||M);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let D=w===x||!r&&w.startsWith(x)&&w.charAt(C)==="/",L=M!=null&&(M===x||!r&&M.startsWith(x)&&M.charAt(x.length)==="/"),I={isActive:D,isPending:L,isTransitioning:E},N=D?e:void 0,P;typeof i=="function"?P=i(I):P=[i,D?"active":null,L?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(I):s;return H.createElement(XF,{...u,"aria-current":N,className:P,ref:h,style:U,to:a,viewTransition:o},typeof c=="function"?c(I):c)});HY.displayName="NavLink";var jY=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=Nw,action:o,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:y,...v},_)=>{let{unstable_useTransitions:S}=H.useContext(Mc),E=XY(),x=YY(o,{relative:u}),w=a.toLowerCase()==="get"?"get":"post",M=typeof o=="string"&&$F.test(o),C=D=>{if(c&&c(D),D.defaultPrevented)return;D.preventDefault();let L=D.nativeEvent.submitter,I=L?.getAttribute("formmethod")||a,N=()=>E(L||D.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:r,state:s,relative:u,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:y});S&&t!==!1?H.startTransition(()=>N()):N()};return H.createElement("form",{ref:_,method:w,action:x,onSubmit:i?c:C,...v,"data-discover":!M&&n==="render"?"true":void 0})});jY.displayName="Form";function GY(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YF(n){let e=H.useContext(i_);return kr(e,GY(n)),e}function qY(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}={}){let u=FF(),h=ny(),p=sS(n,{relative:s});return H.useCallback(y=>{if(SY(y,e)){y.preventDefault();let v=t!==void 0?t:px(h)===px(p),_=()=>u(n,{replace:v,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:o});c?H.startTransition(()=>_()):_()}},[h,u,p,t,i,e,n,r,s,a,o,c])}var WY=0,$Y=()=>`__${String(++WY)}__`;function XY(){let{router:n}=YF("useSubmit"),{basename:e}=H.useContext(Mc),t=hY(),i=n.fetch,r=n.navigate;return H.useCallback(async(s,a={})=>{let{action:o,method:c,encType:u,formData:h,body:p}=wY(s,e);if(a.navigate===!1){let y=a.fetcherKey||$Y();await i(y,t,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await r(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,t])}function YY(n,{relative:e}={}){let{basename:t}=H.useContext(Mc),i=H.useContext(nd);kr(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...sS(n||".",{relative:e})},a=ny();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),c=o.getAll("index");if(c.some(h=>h==="")){o.delete("index"),c.filter(p=>p).forEach(p=>o.append("index",p));let h=o.toString();s.search=h?`?${h}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Uh([t,s.pathname])),px(s)}function KY(n,{relative:e}={}){let t=H.useContext(UF);kr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=YF("useViewTransitionState"),r=sS(n,{relative:e});if(!t.isTransitioning)return!1;let s=Vh(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=Vh(t.nextLocation.pathname,i)||t.nextLocation.pathname;return u2(r.pathname,a)!=null||u2(r.pathname,s)!=null}var KF=CF();const XE=$p(KF);var J3=function(n,e){return J3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},J3(n,e)};function ZY(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");J3(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Qs=function(){return Qs=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Qs.apply(this,arguments)};function rU(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function jm(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(h){try{u(i.next(h))}catch(p){a(p)}}function c(h){try{u(i.throw(h))}catch(p){a(p)}}function u(h){h.done?s(h.value):r(h.value).then(o,c)}u((i=i.apply(n,e||[])).next())})}function Gm(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(h){return c([u,h])}}function c(u){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(t=0)),t;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(h){u=[6,h],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function QY(n,e,t){for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}function uf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}var bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aD(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function oD(n,e){return n(e={exports:{}},e.exports),e.exports}var dg=oD((function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function i(){var r=this;this.locked=new Map,this.addToLocked=function(s,a){var o=r.locked.get(s);o===void 0?a===void 0?r.locked.set(s,[]):r.locked.set(s,[a]):a!==void 0&&(o.unshift(a),r.locked.set(s,o))},this.isLocked=function(s){return r.locked.has(s)},this.lock=function(s){return new Promise((function(a,o){r.isLocked(s)?r.addToLocked(s,a):(r.addToLocked(s),a())}))},this.unlock=function(s){var a=r.locked.get(s);if(a!==void 0&&a.length!==0){var o=a.pop();r.locked.set(s,a),o!==void 0&&setTimeout(o,0)}else r.locked.delete(s)}}return i.getInstance=function(){return i.instance===void 0&&(i.instance=new i),i.instance},i})();e.default=function(){return t.getInstance()}}));aD(dg);var JY=aD(oD((function(n,e){var t=bg&&bg.__awaiter||function(h,p,y,v){return new(y||(y=Promise))((function(_,S){function E(M){try{w(v.next(M))}catch(C){S(C)}}function x(M){try{w(v.throw(M))}catch(C){S(C)}}function w(M){M.done?_(M.value):new y((function(C){C(M.value)})).then(E,x)}w((v=v.apply(h,p||[])).next())}))},i=bg&&bg.__generator||function(h,p){var y,v,_,S,E={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return S={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function x(w){return function(M){return(function(C){if(y)throw new TypeError("Generator is already executing.");for(;E;)try{if(y=1,v&&(_=2&C[0]?v.return:C[0]?v.throw||((_=v.return)&&_.call(v),0):v.next)&&!(_=_.call(v,C[1])).done)return _;switch(v=0,_&&(C=[2&C[0],_.value]),C[0]){case 0:case 1:_=C;break;case 4:return E.label++,{value:C[1],done:!1};case 5:E.label++,v=C[1],C=[0];continue;case 7:C=E.ops.pop(),E.trys.pop();continue;default:if(_=E.trys,!((_=_.length>0&&_[_.length-1])||C[0]!==6&&C[0]!==2)){E=0;continue}if(C[0]===3&&(!_||C[1]>_[0]&&C[1]<_[3])){E.label=C[1];break}if(C[0]===6&&E.label<_[1]){E.label=_[1],_=C;break}if(_&&E.label<_[2]){E.label=_[2],E.ops.push(C);break}_[2]&&E.ops.pop(),E.trys.pop();continue}C=p.call(h,E)}catch(D){C=[6,D],v=0}finally{y=_=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}})([w,M])}}},r=bg;Object.defineProperty(e,"__esModule",{value:!0});var s="browser-tabs-lock-key",a={key:function(h){return t(r,void 0,void 0,(function(){return i(this,(function(p){throw new Error("Unsupported")}))}))},getItem:function(h){return t(r,void 0,void 0,(function(){return i(this,(function(p){throw new Error("Unsupported")}))}))},clear:function(){return t(r,void 0,void 0,(function(){return i(this,(function(h){return[2,window.localStorage.clear()]}))}))},removeItem:function(h){return t(r,void 0,void 0,(function(){return i(this,(function(p){throw new Error("Unsupported")}))}))},setItem:function(h,p){return t(r,void 0,void 0,(function(){return i(this,(function(y){throw new Error("Unsupported")}))}))},keySync:function(h){return window.localStorage.key(h)},getItemSync:function(h){return window.localStorage.getItem(h)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(h){return window.localStorage.removeItem(h)},setItemSync:function(h,p){return window.localStorage.setItem(h,p)}};function o(h){return new Promise((function(p){return setTimeout(p,h)}))}function c(h){for(var p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",y="",v=0;v<h;v++)y+=p[Math.floor(Math.random()*p.length)];return y}var u=(function(){function h(p){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=p,h.waiters===void 0&&(h.waiters=[])}return h.prototype.acquireLock=function(p,y){return y===void 0&&(y=5e3),t(this,void 0,void 0,(function(){var v,_,S,E,x,w,M;return i(this,(function(C){switch(C.label){case 0:v=Date.now()+c(4),_=Date.now()+y,S=s+"-"+p,E=this.storageHandler===void 0?a:this.storageHandler,C.label=1;case 1:return Date.now()<_?[4,o(30)]:[3,8];case 2:return C.sent(),E.getItemSync(S)!==null?[3,5]:(x=this.id+"-"+p+"-"+v,[4,o(Math.floor(25*Math.random()))]);case 3:return C.sent(),E.setItemSync(S,JSON.stringify({id:this.id,iat:v,timeoutKey:x,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return C.sent(),(w=E.getItemSync(S))!==null&&(M=JSON.parse(w)).id===this.id&&M.iat===v?(this.acquiredIatSet.add(v),this.refreshLockWhileAcquired(S,v),[2,!0]):[3,7];case 5:return h.lockCorrector(this.storageHandler===void 0?a:this.storageHandler),[4,this.waitForSomethingToChange(_)];case 6:C.sent(),C.label=7;case 7:return v=Date.now()+c(4),[3,1];case 8:return[2,!1]}}))}))},h.prototype.refreshLockWhileAcquired=function(p,y){return t(this,void 0,void 0,(function(){var v=this;return i(this,(function(_){return setTimeout((function(){return t(v,void 0,void 0,(function(){var S,E,x;return i(this,(function(w){switch(w.label){case 0:return[4,dg.default().lock(y)];case 1:return w.sent(),this.acquiredIatSet.has(y)?(S=this.storageHandler===void 0?a:this.storageHandler,(E=S.getItemSync(p))===null?(dg.default().unlock(y),[2]):((x=JSON.parse(E)).timeRefreshed=Date.now(),S.setItemSync(p,JSON.stringify(x)),dg.default().unlock(y),this.refreshLockWhileAcquired(p,y),[2])):(dg.default().unlock(y),[2])}}))}))}),1e3),[2]}))}))},h.prototype.waitForSomethingToChange=function(p){return t(this,void 0,void 0,(function(){return i(this,(function(y){switch(y.label){case 0:return[4,new Promise((function(v){var _=!1,S=Date.now(),E=!1;function x(){if(E||(window.removeEventListener("storage",x),h.removeFromWaiting(x),clearTimeout(w),E=!0),!_){_=!0;var M=50-(Date.now()-S);M>0?setTimeout(v,M):v(null)}}window.addEventListener("storage",x),h.addToWaiting(x);var w=setTimeout(x,Math.max(0,p-Date.now()))}))];case 1:return y.sent(),[2]}}))}))},h.addToWaiting=function(p){this.removeFromWaiting(p),h.waiters!==void 0&&h.waiters.push(p)},h.removeFromWaiting=function(p){h.waiters!==void 0&&(h.waiters=h.waiters.filter((function(y){return y!==p})))},h.notifyWaiters=function(){h.waiters!==void 0&&h.waiters.slice().forEach((function(p){return p()}))},h.prototype.releaseLock=function(p){return t(this,void 0,void 0,(function(){return i(this,(function(y){switch(y.label){case 0:return[4,this.releaseLock__private__(p)];case 1:return[2,y.sent()]}}))}))},h.prototype.releaseLock__private__=function(p){return t(this,void 0,void 0,(function(){var y,v,_,S;return i(this,(function(E){switch(E.label){case 0:return y=this.storageHandler===void 0?a:this.storageHandler,v=s+"-"+p,(_=y.getItemSync(v))===null?[2]:(S=JSON.parse(_)).id!==this.id?[3,2]:[4,dg.default().lock(S.iat)];case 1:E.sent(),this.acquiredIatSet.delete(S.iat),y.removeItemSync(v),dg.default().unlock(S.iat),h.notifyWaiters(),E.label=2;case 2:return[2]}}))}))},h.lockCorrector=function(p){for(var y=Date.now()-5e3,v=p,_=[],S=0;;){var E=v.keySync(S);if(E===null)break;_.push(E),S++}for(var x=!1,w=0;w<_.length;w++){var M=_[w];if(M.includes(s)){var C=v.getItemSync(M);if(C!==null){var D=JSON.parse(C);(D.timeRefreshed===void 0&&D.timeAcquired<y||D.timeRefreshed!==void 0&&D.timeRefreshed<y)&&(v.removeItemSync(M),x=!0)}}}x&&h.notifyWaiters()},h.waiters=void 0,h})();e.default=u})));const eK={timeoutInSeconds:60},ZF={name:"auth0-spa-js",version:"2.11.0"},QF=()=>Date.now();class Zr extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,Zr.prototype)}static fromPayload({error:e,error_description:t}){return new Zr(e,t)}}class lD extends Zr{constructor(e,t,i,r=null){super(e,t),this.state=i,this.appState=r,Object.setPrototypeOf(this,lD.prototype)}}let tK=class JF extends Zr{constructor(e,t,i,r,s=null){super(e,t),this.connection=i,this.state=r,this.appState=s,Object.setPrototypeOf(this,JF.prototype)}},eI=class eV extends Zr{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,eV.prototype)}},nK=class tV extends eI{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,tV.prototype)}},iK=class nV extends Zr{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,nV.prototype)}};class cD extends Zr{constructor(){super("popup_open","Unable to open a popup for loginWithPopup - window.open returned `null`"),Object.setPrototypeOf(this,cD.prototype)}}let rK=class iV extends Zr{constructor(e,t,i){super(e,t),this.mfa_token=i,Object.setPrototypeOf(this,iV.prototype)}},rV=class sV extends Zr{constructor(e,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${f2(e,["default"])}', scope: '${f2(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,sV.prototype)}};class uD extends Zr{constructor(e,t){super("missing_scopes",`Missing requested scopes after refresh (audience: '${f2(e,["default"])}', missing scope: '${f2(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,uD.prototype)}}let aV=class oV extends Zr{constructor(e){super("use_dpop_nonce","Server rejected DPoP proof: wrong nonce"),this.newDpopNonce=e,Object.setPrototypeOf(this,oV.prototype)}};function f2(n,e=[]){return n&&!e.includes(n)?n:""}const h2=()=>window.crypto,k1=()=>{const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(h2().getRandomValues(new Uint8Array(43))).forEach((t=>e+=n[t%n.length])),e},CR=n=>btoa(n),sK=[{key:"name",type:["string"]},{key:"version",type:["string","number"]},{key:"env",type:["object"]}],aK=n=>Object.keys(n).reduce(((e,t)=>{const i=sK.find((r=>r.key===t));return i&&i.type.includes(typeof n[t])&&(e[t]=n[t]),e}),{}),tI=n=>{var{clientId:e}=n,t=uf(n,["clientId"]);return new URLSearchParams((i=>Object.keys(i).filter((r=>i[r]!==void 0)).reduce(((r,s)=>Object.assign(Object.assign({},r),{[s]:i[s]})),{}))(Object.assign({client_id:e},t))).toString()},sU=async n=>await h2().subtle.digest({name:"SHA-256"},new TextEncoder().encode(n)),aU=n=>(e=>decodeURIComponent(atob(e).split("").map((t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2))).join("")))(n.replace(/_/g,"/").replace(/-/g,"+")),oU=n=>{const e=new Uint8Array(n);return(t=>{const i={"+":"-","/":"_","=":""};return t.replace(/[+/=]/g,(r=>i[r]))})(window.btoa(String.fromCharCode(...Array.from(e))))},oK=new TextEncoder,lK=new TextDecoder;function Ub(n){return typeof n=="string"?oK.encode(n):lK.decode(n)}function lU(n){if(typeof n.modulusLength!="number"||n.modulusLength<2048)throw new uK(`${n.name} modulusLength must be at least 2048 bits`)}async function cK(n,e,t){if(t.usages.includes("sign")===!1)throw new TypeError('private CryptoKey instances used for signing assertions must include "sign" in their "usages"');const i=`${kb(Ub(JSON.stringify(n)))}.${kb(Ub(JSON.stringify(e)))}`;return`${i}.${kb(await crypto.subtle.sign((function(r){switch(r.algorithm.name){case"ECDSA":return{name:r.algorithm.name,hash:"SHA-256"};case"RSA-PSS":return lU(r.algorithm),{name:r.algorithm.name,saltLength:32};case"RSASSA-PKCS1-v1_5":return lU(r.algorithm),{name:r.algorithm.name};case"Ed25519":return{name:r.algorithm.name}}throw new Sg})(t),t,Ub(i)))}`}let nI;Uint8Array.prototype.toBase64?nI=n=>(n instanceof ArrayBuffer&&(n=new Uint8Array(n)),n.toBase64({alphabet:"base64url",omitPadding:!0})):nI=e=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));const t=[];for(let i=0;i<e.byteLength;i+=32768)t.push(String.fromCharCode.apply(null,e.subarray(i,i+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};function kb(n){return nI(n)}class Sg extends Error{constructor(e){var t;super(e??"operation not supported"),this.name=this.constructor.name,(t=Error.captureStackTrace)===null||t===void 0||t.call(Error,this,this.constructor)}}class uK extends Error{constructor(e){var t;super(e),this.name=this.constructor.name,(t=Error.captureStackTrace)===null||t===void 0||t.call(Error,this,this.constructor)}}function fK(n){switch(n.algorithm.name){case"RSA-PSS":return(function(e){if(e.algorithm.hash.name==="SHA-256")return"PS256";throw new Sg("unsupported RsaHashedKeyAlgorithm hash name")})(n);case"RSASSA-PKCS1-v1_5":return(function(e){if(e.algorithm.hash.name==="SHA-256")return"RS256";throw new Sg("unsupported RsaHashedKeyAlgorithm hash name")})(n);case"ECDSA":return(function(e){if(e.algorithm.namedCurve==="P-256")return"ES256";throw new Sg("unsupported EcKeyAlgorithm namedCurve")})(n);case"Ed25519":return"Ed25519";default:throw new Sg("unsupported CryptoKey algorithm name")}}function lV(n){return n instanceof CryptoKey}function cV(n){return lV(n)&&n.type==="public"}async function hK(n,e,t,i,r,s){const a=n?.privateKey,o=n?.publicKey;if(!lV(c=a)||c.type!=="private")throw new TypeError('"keypair.privateKey" must be a private CryptoKey');var c;if(!cV(o))throw new TypeError('"keypair.publicKey" must be a public CryptoKey');if(o.extractable!==!0)throw new TypeError('"keypair.publicKey.extractable" must be true');if(typeof e!="string")throw new TypeError('"htu" must be a string');if(typeof t!="string")throw new TypeError('"htm" must be a string');if(i!==void 0&&typeof i!="string")throw new TypeError('"nonce" must be a string or undefined');if(r!==void 0&&typeof r!="string")throw new TypeError('"accessToken" must be a string or undefined');return cK({alg:fK(a),typ:"dpop+jwt",jwk:await uV(o)},Object.assign(Object.assign({},s),{iat:Math.floor(Date.now()/1e3),jti:crypto.randomUUID(),htm:t,nonce:i,htu:e,ath:r?kb(await crypto.subtle.digest("SHA-256",Ub(r))):void 0}),a)}async function uV(n){const{kty:e,e:t,n:i,x:r,y:s,crv:a}=await crypto.subtle.exportKey("jwk",n);return{kty:e,crv:a,e:t,n:i,x:r,y:s}}const dK=["authorization_code","refresh_token","urn:ietf:params:oauth:grant-type:token-exchange"];function pK(){return(async function(n,e){var t;let i;if(n.length===0)throw new TypeError('"alg" must be a non-empty string');switch(n){case"PS256":i={name:"RSA-PSS",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"RS256":i={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"ES256":i={name:"ECDSA",namedCurve:"P-256"};break;case"Ed25519":i={name:"Ed25519"};break;default:throw new Sg}return crypto.subtle.generateKey(i,(t=e?.extractable)!==null&&t!==void 0&&t,["sign","verify"])})("ES256",{extractable:!1})}function mK(n){return(async function(e){if(!cV(e))throw new TypeError('"publicKey" must be a public CryptoKey');if(e.extractable!==!0)throw new TypeError('"publicKey.extractable" must be true');const t=await uV(e);let i;switch(t.kty){case"EC":i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};break;case"OKP":i={crv:t.crv,kty:t.kty,x:t.x};break;case"RSA":i={e:t.e,kty:t.kty,n:t.n};break;default:throw new Sg("unsupported JWK kty")}return kb(await crypto.subtle.digest({name:"SHA-256"},Ub(JSON.stringify(i))))})(n.publicKey)}function gK({keyPair:n,url:e,method:t,nonce:i,accessToken:r}){const s=(function(a){const o=new URL(a);return o.search="",o.hash="",o.href})(e);return hK(n,s,t,i,r)}const yK=async(n,e)=>{const t=await fetch(n,e);return{ok:t.ok,json:await t.json(),headers:(i=t.headers,[...i].reduce(((r,[s,a])=>(r[s]=a,r)),{}))};var i},vK=async(n,e,t)=>{const i=new AbortController;let r;return e.signal=i.signal,Promise.race([yK(n,e),new Promise(((s,a)=>{r=setTimeout((()=>{i.abort(),a(new Error("Timeout when executing 'fetch'"))}),t)}))]).finally((()=>{clearTimeout(r)}))},_K=async(n,e,t,i,r,s,a,o)=>{return c={auth:{audience:e,scope:t},timeout:r,fetchUrl:n,fetchOptions:i,useFormData:a,useMrrt:o},u=s,new Promise((function(h,p){const y=new MessageChannel;y.port1.onmessage=function(v){v.data.error?p(new Error(v.data.error)):h(v.data),y.port1.close()},u.postMessage(c,[y.port2])}));var c,u},bK=async(n,e,t,i,r,s,a=1e4,o)=>r?_K(n,e,t,i,a,r,s,o):vK(n,i,a);async function fV(n,e,t,i,r,s,a,o,c,u){if(c){const M=await c.generateProof({url:n,method:r.method||"GET",nonce:await c.getNonce()});r.headers=Object.assign(Object.assign({},r.headers),{dpop:M})}let h,p=null;for(let M=0;M<3;M++)try{h=await bK(n,t,i,r,s,a,e,o),p=null;break}catch(C){p=C}if(p)throw p;const y=h.json,{error:v,error_description:_}=y,S=uf(y,["error","error_description"]),{headers:E,ok:x}=h;let w;if(c&&(w=E["dpop-nonce"],w&&await c.setNonce(w)),!x){const M=_||`HTTP error. Unable to fetch ${n}`;if(v==="mfa_required")throw new rK(v,M,S.mfa_token);if(v==="missing_refresh_token")throw new rV(t,i);if(v==="use_dpop_nonce"){if(!c||!w||u)throw new aV(w);return fV(n,e,t,i,r,s,a,o,c,!0)}throw new Zr(v||"request_error",M)}return S}async function xK(n,e){var{baseUrl:t,timeout:i,audience:r,scope:s,auth0Client:a,useFormData:o,useMrrt:c,dpop:u}=n,h=uf(n,["baseUrl","timeout","audience","scope","auth0Client","useFormData","useMrrt","dpop"]);const p=h.grant_type==="urn:ietf:params:oauth:grant-type:token-exchange",y=h.grant_type==="refresh_token"&&c,v=Object.assign(Object.assign(Object.assign(Object.assign({},h),p&&r&&{audience:r}),p&&s&&{scope:s}),y&&{audience:r,scope:s}),_=o?tI(v):JSON.stringify(v),S=(E=h.grant_type,dK.includes(E));var E;return await fV(`${t}/oauth/token`,i,r||"default",s,{method:"POST",body:_,headers:{"Content-Type":o?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(aK(a||ZF)))}},e,o,c,S?u:void 0)}const Uw=(...n)=>{return(e=n.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e},YE=(n,e,t)=>{let i;return t&&(i=n[t]),i||(i=n.default),Uw(i,e)};class vc{constructor(e,t="@@auth0spajs@@",i){this.prefix=t,this.suffix=i,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[t,i,r,s]=e.split("::");return new vc({clientId:i,scope:s,audience:r},t)}static fromCacheEntry(e){const{scope:t,audience:i,client_id:r}=e;return new vc({scope:t,audience:i,clientId:r})}}class SK{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter((e=>e.startsWith("@@auth0spajs@@")))}}class hV{constructor(){this.enclosedCache=(function(){let e={};return{set(t,i){e[t]=i},get(t){const i=e[t];if(i)return i},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}})()}}class EK{constructor(e,t,i){this.cache=e,this.keyManifest=t,this.nowProvider=i||QF}async setIdToken(e,t,i){var r;const s=this.getIdTokenCacheKey(e);await this.cache.set(s,{id_token:t,decodedToken:i}),await((r=this.keyManifest)===null||r===void 0?void 0:r.add(s))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const i=await this.get(e);return!i||!i.id_token||!i.decodedToken?void 0:{id_token:i.id_token,decodedToken:i.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0,i=!1,r){var s;let a=await this.cache.get(e.toKey());if(!a){const u=await this.getCacheKeys();if(!u)return;const h=this.matchExistingCacheKey(e,u);if(h&&(a=await this.cache.get(h)),!h&&i&&r!=="cache-only")return this.getEntryWithRefreshToken(e,u)}if(!a)return;const o=await this.nowProvider(),c=Math.floor(o/1e3);return a.expiresAt-t<c?a.body.refresh_token?this.modifiedCachedEntry(a,e):(await this.cache.remove(e.toKey()),void await((s=this.keyManifest)===null||s===void 0?void 0:s.remove(e.toKey()))):a.body}async modifiedCachedEntry(e,t){return e.body={refresh_token:e.body.refresh_token,audience:e.body.audience,scope:e.body.scope},await this.cache.set(t.toKey(),e),{refresh_token:e.body.refresh_token,audience:e.body.audience,scope:e.body.scope}}async set(e){var t;const i=new vc({clientId:e.client_id,scope:e.scope,audience:e.audience}),r=await this.wrapCacheEntry(e);await this.cache.set(i.toKey(),r),await((t=this.keyManifest)===null||t===void 0?void 0:t.add(i.toKey()))}async remove(e,t,i){const r=new vc({clientId:e,scope:i,audience:t});await this.cache.remove(r.toKey())}async clear(e){var t;const i=await this.getCacheKeys();i&&(await i.filter((r=>!e||r.includes(e))).reduce((async(r,s)=>{await r,await this.cache.remove(s)}),Promise.resolve()),await((t=this.keyManifest)===null||t===void 0?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new vc({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,t){return t.filter((i=>{var r;const s=vc.fromKey(i),a=new Set(s.scope&&s.scope.split(" ")),o=((r=e.scope)===null||r===void 0?void 0:r.split(" "))||[],c=s.scope&&o.reduce(((u,h)=>u&&a.has(h)),!0);return s.prefix==="@@auth0spajs@@"&&s.clientId===e.clientId&&s.audience===e.audience&&c}))[0]}async getEntryWithRefreshToken(e,t){var i;for(const r of t){const s=vc.fromKey(r);if(s.prefix==="@@auth0spajs@@"&&s.clientId===e.clientId){const a=await this.cache.get(r);if(!((i=a?.body)===null||i===void 0)&&i.refresh_token)return this.modifiedCachedEntry(a,e)}}}async updateEntry(e,t){var i;const r=await this.getCacheKeys();if(r)for(const s of r){const a=await this.cache.get(s);if(((i=a?.body)===null||i===void 0?void 0:i.refresh_token)===e){const o=Object.assign(Object.assign({},a.body),{refresh_token:t});await this.set(o)}}}}class TK{constructor(e,t,i){this.storage=e,this.clientId=t,this.cookieDomain=i,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const z1=n=>typeof n=="number",wK=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],CK=n=>{if(!n.id_token)throw new Error("ID token is required but missing");const e=(s=>{const a=s.split("."),[o,c,u]=a;if(a.length!==3||!o||!c||!u)throw new Error("ID token could not be decoded");const h=JSON.parse(aU(c)),p={__raw:s},y={};return Object.keys(h).forEach((v=>{p[v]=h[v],wK.includes(v)||(y[v]=h[v])})),{encoded:{header:o,payload:c,signature:u},header:JSON.parse(aU(o)),claims:p,user:y}})(n.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==n.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${n.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(n.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==n.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${n.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==n.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but found "${e.claims.aud}"`);if(n.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==n.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${n.nonce}", found "${e.claims.nonce}"`)}if(n.max_age&&!z1(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!z1(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!z1(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const t=n.leeway||60,i=new Date(n.now||Date.now()),r=new Date(0);if(r.setUTCSeconds(e.claims.exp+t),i>r)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${i}) is after expiration time (${r})`);if(e.claims.nbf!=null&&z1(e.claims.nbf)){const s=new Date(0);if(s.setUTCSeconds(e.claims.nbf-t),i<s)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${i}) is before ${s}`)}if(e.claims.auth_time!=null&&z1(e.claims.auth_time)){const s=new Date(0);if(s.setUTCSeconds(parseInt(e.claims.auth_time)+n.max_age+t),i>s)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${i}) is after last auth at ${s}`)}if(n.organization){const s=n.organization.trim();if(s.startsWith("org_")){const a=s;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(a!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${a}", found "${e.claims.org_id}"`)}else{const a=s.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(a!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${a}", found "${e.claims.org_name}"`)}}return e};var Eg=oD((function(n,e){var t=bg&&bg.__assign||function(){return t=Object.assign||function(c){for(var u,h=1,p=arguments.length;h<p;h++)for(var y in u=arguments[h])Object.prototype.hasOwnProperty.call(u,y)&&(c[y]=u[y]);return c},t.apply(this,arguments)};function i(c,u){if(!u)return"";var h="; "+c;return u===!0?h:h+"="+u}function r(c,u,h){return encodeURIComponent(c).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(u).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+(function(p){if(typeof p.expires=="number"){var y=new Date;y.setMilliseconds(y.getMilliseconds()+864e5*p.expires),p.expires=y}return i("Expires",p.expires?p.expires.toUTCString():"")+i("Domain",p.domain)+i("Path",p.path)+i("Secure",p.secure)+i("SameSite",p.sameSite)})(h)}function s(c){for(var u={},h=c?c.split("; "):[],p=/(%[\dA-F]{2})+/gi,y=0;y<h.length;y++){var v=h[y].split("="),_=v.slice(1).join("=");_.charAt(0)==='"'&&(_=_.slice(1,-1));try{u[v[0].replace(p,decodeURIComponent)]=_.replace(p,decodeURIComponent)}catch{}}return u}function a(){return s(document.cookie)}function o(c,u,h){document.cookie=r(c,u,t({path:"/"},h))}e.__esModule=!0,e.encode=r,e.parse=s,e.getAll=a,e.get=function(c){return a()[c]},e.set=o,e.remove=function(c,u){o(c,"",t(t({},u),{expires:-1}))}}));aD(Eg),Eg.encode,Eg.parse,Eg.getAll;var AK=Eg.get,dV=Eg.set,pV=Eg.remove;const $v={get(n){const e=AK(n);if(e!==void 0)return JSON.parse(e)},save(n,e,t){let i={};window.location.protocol==="https:"&&(i={secure:!0,sameSite:"none"}),t?.daysUntilExpire&&(i.expires=t.daysUntilExpire),t?.cookieDomain&&(i.domain=t.cookieDomain),dV(n,JSON.stringify(e),i)},remove(n,e){let t={};e?.cookieDomain&&(t.domain=e.cookieDomain),pV(n,t)}},MK={get(n){return $v.get(n)||$v.get(`_legacy_${n}`)},save(n,e,t){let i={};window.location.protocol==="https:"&&(i={secure:!0}),t?.daysUntilExpire&&(i.expires=t.daysUntilExpire),t?.cookieDomain&&(i.domain=t.cookieDomain),dV(`_legacy_${n}`,JSON.stringify(e),i),$v.save(n,e,t)},remove(n,e){let t={};e?.cookieDomain&&(t.domain=e.cookieDomain),pV(n,t),$v.remove(n,e),$v.remove(`_legacy_${n}`,e)}},RK={get(n){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(n);return e!=null?JSON.parse(e):void 0},save(n,e){sessionStorage.setItem(n,JSON.stringify(e))},remove(n){sessionStorage.removeItem(n)}};var up;(function(n){n.Code="code",n.ConnectCode="connect_code"})(up||(up={}));function OK(n,e,t){var i=e===void 0?null:e,r=(function(c,u){var h=atob(c);if(u){for(var p=new Uint8Array(h.length),y=0,v=h.length;y<v;++y)p[y]=h.charCodeAt(y);return String.fromCharCode.apply(null,new Uint16Array(p.buffer))}return h})(n,t!==void 0&&t),s=r.indexOf(`
`,10)+1,a=r.substring(s)+(i?"//# sourceMappingURL="+i:""),o=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(o)}var cU,uU,fU,AR,IK=(cU="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YSx1c2VNcnJ0OmZ9LHBvcnRzOltwXX0pPT57bGV0IGgsdSxsPXt9O2NvbnN0e2F1ZGllbmNlOmQsc2NvcGU6eX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2lmKHU9KChlLHQpPT5vW24oZSx0KV0pKGQseSksIXUmJmYpe2NvbnN0IGU9by5sYXRlc3RfcmVmcmVzaF90b2tlbix0PSgoZSx0KT0+e2NvbnN0IHI9T2JqZWN0LmtleXMobykuZmluZCgocj0+e2lmKCJsYXRlc3RfcmVmcmVzaF90b2tlbiIhPT1yKXtjb25zdCBzPSgoZSx0KT0+dC5zdGFydHNXaXRoKGAke2V9fGApKSh0LHIpLG89ci5zcGxpdCgifCIpWzFdLnNwbGl0KCIgIiksbj1lLnNwbGl0KCIgIikuZXZlcnkoKGU9Pm8uaW5jbHVkZXMoZSkpKTtyZXR1cm4gcyYmbn19KSk7cmV0dXJuISFyfSkoeSxkKTtlJiYhdCYmKHU9ZSl9aWYoIXUpdGhyb3cgbmV3IHQoZCx5KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpfWxldCBqLGs7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGo9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1qLnNpZ25hbCk7dHJ5e2s9YXdhaXQgUHJvbWlzZS5yYWNlKFsoXz1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsXykpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIHAucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFrKXJldHVybiBqJiZqLmFib3J0KCksdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO2c9ay5oZWFkZXJzLGw9Wy4uLmddLnJlZHVjZSgoKGUsW3Qscl0pPT4oZVt0XT1yLGUpKSx7fSksaD1hd2FpdCBrLmpzb24oKSxoLnJlZnJlc2hfdG9rZW4/KGYmJihvLmxhdGVzdF9yZWZyZXNoX3Rva2VuPWgucmVmcmVzaF90b2tlbixPPXUsYj1oLnJlZnJlc2hfdG9rZW4sT2JqZWN0LmVudHJpZXMobykuZm9yRWFjaCgoKFtlLHRdKT0+e3Q9PT1PJiYob1tlXT1iKX0pKSksKChlLHQscik9PntvW24odCxyKV09ZX0pKGgucmVmcmVzaF90b2tlbixkLHkpLGRlbGV0ZSBoLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KShkLHkpLHAucG9zdE1lc3NhZ2Uoe29rOmsub2ssanNvbjpoLGhlYWRlcnM6bH0pfWNhdGNoKGUpe3AucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yOmUuZXJyb3IsZXJyb3JfZGVzY3JpcHRpb246ZS5tZXNzYWdlfSxoZWFkZXJzOmx9KX12YXIgTyxiLGcsX30pKX0oKTsKCg==",uU=null,fU=!1,function(n){return AR=AR||OK(cU,uU,fU),new Worker(AR,n)});const MR={};class PK{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const i=new Set(((t=await this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);i.add(e),await this.cache.set(this.manifestKey,{keys:[...i]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const i=new Set(t.keys);return i.delete(e),i.size>0?await this.cache.set(this.manifestKey,{keys:[...i]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const DK={memory:()=>new hV().enclosedCache,localstorage:()=>new SK},hU=n=>DK[n],dU=n=>{const{openUrl:e,onRedirect:t}=n,i=uf(n,["openUrl","onRedirect"]);return Object.assign(Object.assign({},i),{openUrl:e===!1||e?e:t})},pU=(n,e)=>{const t=e?.split(" ")||[];return(n?.split(" ")||[]).every((i=>t.includes(i)))},qm={NONCE:"nonce",KEYPAIR:"keypair"};class NK{constructor(e){this.clientId=e}getVersion(){return 1}createDbHandle(){const e=window.indexedDB.open("auth0-spa-js",this.getVersion());return new Promise(((t,i)=>{e.onupgradeneeded=()=>Object.values(qm).forEach((r=>e.result.createObjectStore(r))),e.onerror=()=>i(e.error),e.onsuccess=()=>t(e.result)}))}async getDbHandle(){return this.dbHandle||(this.dbHandle=await this.createDbHandle()),this.dbHandle}async executeDbRequest(e,t,i){const r=i((await this.getDbHandle()).transaction(e,t).objectStore(e));return new Promise(((s,a)=>{r.onsuccess=()=>s(r.result),r.onerror=()=>a(r.error)}))}buildKey(e){const t=e?`_${e}`:"auth0";return`${this.clientId}::${t}`}setNonce(e,t){return this.save(qm.NONCE,this.buildKey(t),e)}setKeyPair(e){return this.save(qm.KEYPAIR,this.buildKey(),e)}async save(e,t,i){await this.executeDbRequest(e,"readwrite",(r=>r.put(i,t)))}findNonce(e){return this.find(qm.NONCE,this.buildKey(e))}findKeyPair(){return this.find(qm.KEYPAIR,this.buildKey())}find(e,t){return this.executeDbRequest(e,"readonly",(i=>i.get(t)))}async deleteBy(e,t){const i=await this.executeDbRequest(e,"readonly",(r=>r.getAllKeys()));i?.filter(t).map((r=>this.executeDbRequest(e,"readwrite",(s=>s.delete(r)))))}deleteByClientId(e,t){return this.deleteBy(e,(i=>typeof i=="string"&&i.startsWith(`${t}::`)))}clearNonces(){return this.deleteByClientId(qm.NONCE,this.clientId)}clearKeyPairs(){return this.deleteByClientId(qm.KEYPAIR,this.clientId)}}class LK{constructor(e){this.storage=new NK(e)}getNonce(e){return this.storage.findNonce(e)}setNonce(e,t){return this.storage.setNonce(e,t)}async getOrGenerateKeyPair(){let e=await this.storage.findKeyPair();return e||(e=await pK(),await this.storage.setKeyPair(e)),e}async generateProof(e){const t=await this.getOrGenerateKeyPair();return gK(Object.assign({keyPair:t},e))}async calculateThumbprint(){return mK(await this.getOrGenerateKeyPair())}async clear(){await Promise.all([this.storage.clearNonces(),this.storage.clearKeyPairs()])}}var Jv;(function(n){n.Bearer="Bearer",n.DPoP="DPoP"})(Jv||(Jv={}));class UK{constructor(e,t){this.hooks=t,this.config=Object.assign(Object.assign({},e),{fetch:e.fetch||(typeof window>"u"?fetch:window.fetch.bind(window))})}isAbsoluteUrl(e){return/^(https?:)?\/\//i.test(e)}buildUrl(e,t){if(t){if(this.isAbsoluteUrl(t))return t;if(e)return`${e.replace(/\/?\/$/,"")}/${t.replace(/^\/+/,"")}`}throw new TypeError("`url` must be absolute or `baseUrl` non-empty.")}getAccessToken(e){return this.config.getAccessToken?this.config.getAccessToken(e):this.hooks.getAccessToken(e)}extractUrl(e){return typeof e=="string"?e:e instanceof URL?e.href:e.url}buildBaseRequest(e,t){if(!this.config.baseUrl)return new Request(e,t);const i=this.buildUrl(this.config.baseUrl,this.extractUrl(e)),r=e instanceof Request?new Request(i,e):i;return new Request(r,t)}setAuthorizationHeader(e,t,i=Jv.Bearer){e.headers.set("authorization",`${i} ${t}`)}async setDpopProofHeader(e,t){if(!this.config.dpopNonceId)return;const i=await this.hooks.getDpopNonce(),r=await this.hooks.generateDpopProof({accessToken:t,method:e.method,nonce:i,url:e.url});e.headers.set("dpop",r)}async prepareRequest(e,t){const i=await this.getAccessToken(t);let r,s;typeof i=="string"?(r=this.config.dpopNonceId?Jv.DPoP:Jv.Bearer,s=i):(r=i.token_type,s=i.access_token),this.setAuthorizationHeader(e,s,r),r===Jv.DPoP&&await this.setDpopProofHeader(e,s)}getHeader(e,t){return Array.isArray(e)?new Headers(e).get(t)||"":typeof e.get=="function"?e.get(t)||"":e[t]||""}hasUseDpopNonceError(e){if(e.status!==401)return!1;const t=this.getHeader(e.headers,"www-authenticate");return t.includes("invalid_dpop_nonce")||t.includes("use_dpop_nonce")}async handleResponse(e,t){const i=this.getHeader(e.headers,"dpop-nonce");if(i&&await this.hooks.setDpopNonce(i),!this.hasUseDpopNonceError(e))return e;if(!i||!t.onUseDpopNonceError)throw new aV(i);return t.onUseDpopNonceError()}async internalFetchWithAuth(e,t,i,r){const s=this.buildBaseRequest(e,t);await this.prepareRequest(s,r);const a=await this.config.fetch(s);return this.handleResponse(a,i)}fetchWithAuth(e,t,i){const r={onUseDpopNonceError:()=>this.internalFetchWithAuth(e,t,Object.assign(Object.assign({},r),{onUseDpopNonceError:void 0}),i)};return this.internalFetchWithAuth(e,t,r,i)}}class kK{constructor(e,t){this.myAccountFetcher=e,this.apiBase=t}async connectAccount(e){const t=await this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return this._handleResponse(t)}async completeAccount(e){const t=await this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/complete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return this._handleResponse(t)}async _handleResponse(e){let t;try{t=await e.text(),t=JSON.parse(t)}catch(i){throw new d2({type:"invalid_json",status:e.status,title:"Invalid JSON response",detail:t||String(i)})}if(e.ok)return t;throw new d2(t)}}class d2 extends Error{constructor({type:e,status:t,title:i,detail:r,validation_errors:s}){super(r),this.name="MyAccountApiError",this.type=e,this.status=t,this.title=i,this.detail=r,this.validation_errors=s,Object.setPrototypeOf(this,d2.prototype)}}const RR=new JY;class zK{constructor(e){let t,i;if(this.userCache=new hV().enclosedCache,this.activeLockKeys=new Set,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{const c=Array.from(this.activeLockKeys);for(const u of c)await RR.releaseLock(u);this.activeLockKeys.clear(),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!h2())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(h2().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)i=e.cache;else{if(t=e.cacheLocation||"memory",!hU(t))throw new Error(`Invalid cache location "${t}"`);i=hU(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?$v:MK,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(c=>`auth0.${c}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const r=e.useCookiesForTransactions?this.cookieStorage:RK;var s;this.scope=((c,u,...h)=>{if(typeof c!="object")return{default:Uw(u,c,...h)};let p={default:Uw(u,...h)};return Object.keys(c).forEach((y=>{const v=c[y];p[y]=Uw(u,v,...h)})),p})(this.options.authorizationParams.scope,"openid",this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new TK(r,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||QF,this.cacheManager=new EK(i,i.allKeys?void 0:new PK(i,this.options.clientId),this.nowProvider),this.dpop=this.options.useDpop?new LK(this.options.clientId):void 0,this.domainUrl=(s=this.options.domain,/^https?:\/\//.test(s)?s:`https://${s}`),this.tokenIssuer=((c,u)=>c?c.startsWith("https://")?c:`https://${c}/`:`${u}/`)(this.options.issuer,this.domainUrl);const a=`${this.domainUrl}/me/`,o=this.createFetcher(Object.assign(Object.assign({},this.options.useDpop&&{dpopNonceId:"__auth0_my_account_api__"}),{getAccessToken:()=>this.getTokenSilently({authorizationParams:{scope:"create:me:connected_accounts",audience:a},detailedResponse:!0})}));this.myAccountApi=new kK(o,a),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new IK)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||ZF)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${tI(e)}`)}async _verifyIdToken(e,t,i){const r=await this.nowProvider();return CK({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:i,leeway:this.options.leeway,max_age:(s=this.options.authorizationParams.max_age,typeof s!="string"?s:parseInt(s,10)||void 0),now:r});var s}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,i){var r;const s=CR(k1()),a=CR(k1()),o=k1(),c=await sU(o),u=oU(c),h=await((r=this.dpop)===null||r===void 0?void 0:r.calculateThumbprint()),p=((v,_,S,E,x,w,M,C,D)=>Object.assign(Object.assign(Object.assign({client_id:v.clientId},v.authorizationParams),S),{scope:YE(_,S.scope,S.audience),response_type:"code",response_mode:C||"query",state:E,nonce:x,redirect_uri:M||v.authorizationParams.redirect_uri,code_challenge:w,code_challenge_method:"S256",dpop_jkt:D}))(this.options,this.scope,e,s,a,u,e.redirect_uri||this.options.authorizationParams.redirect_uri||i,t?.response_mode,h),y=this._authorizeUrl(p);return{nonce:a,code_verifier:o,scope:p.scope,audience:p.audience||"default",redirect_uri:p.redirect_uri,state:s,url:y}}async loginWithPopup(e,t){var i;if(e=e||{},!(t=t||{}).popup&&(t.popup=(o=>{const c=window.screenX+(window.innerWidth-400)/2,u=window.screenY+(window.innerHeight-600)/2;return window.open(o,"auth0:authorize:popup",`left=${c},top=${u},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!t.popup))throw new cD;const r=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=r.url;const s=await(o=>new Promise(((c,u)=>{let h;const p=setInterval((()=>{o.popup&&o.popup.closed&&(clearInterval(p),clearTimeout(y),window.removeEventListener("message",h,!1),u(new iK(o.popup)))}),1e3),y=setTimeout((()=>{clearInterval(p),u(new nK(o.popup)),window.removeEventListener("message",h,!1)}),1e3*(o.timeoutInSeconds||60));h=function(v){if(v.data&&v.data.type==="authorization_response"){if(clearTimeout(y),clearInterval(p),window.removeEventListener("message",h,!1),o.popup.close(),v.data.response.error)return u(Zr.fromPayload(v.data.response));c(v.data.response)}},window.addEventListener("message",h)})))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(r.state!==s.state)throw new Zr("state_mismatch","Invalid state");const a=((i=e.authorizationParams)===null||i===void 0?void 0:i.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:r.audience,scope:r.scope,code_verifier:r.code_verifier,grant_type:"authorization_code",code:s.code,redirect_uri:r.redirect_uri},{nonceIn:r.nonce,organization:a})}async getUser(){var e;const t=await this._getIdTokenFromCache();return(e=t?.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return(e=t?.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var t;const i=dU(e),{openUrl:r,fragment:s,appState:a}=i,o=uf(i,["openUrl","fragment","appState"]),c=((t=o.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,u=await this._prepareAuthorizeUrl(o.authorizationParams||{}),{url:h}=u,p=uf(u,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},p),{appState:a,response_type:up.Code}),c&&{organization:c}));const y=s?`${h}#${s}`:h;r?await r(y):window.location.assign(y)}async handleRedirectCallback(e=window.location.href){const t=e.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");const i=this.transactionManager.get();if(!i)throw new Zr("missing_transaction","Invalid state");this.transactionManager.remove();const r=(s=>{s.indexOf("#")>-1&&(s=s.substring(0,s.indexOf("#")));const a=new URLSearchParams(s);return{state:a.get("state"),code:a.get("code")||void 0,connect_code:a.get("connect_code")||void 0,error:a.get("error")||void 0,error_description:a.get("error_description")||void 0}})(t.join(""));return i.response_type===up.ConnectCode?this._handleConnectAccountRedirectCallback(r,i):this._handleLoginRedirectCallback(r,i)}async _handleLoginRedirectCallback(e,t){const{code:i,state:r,error:s,error_description:a}=e;if(s)throw new lD(s,a||s,r,t.appState);if(!t.code_verifier||t.state&&t.state!==r)throw new Zr("state_mismatch","Invalid state");const o=t.organization,c=t.nonce,u=t.redirect_uri;return await this._requestToken(Object.assign({audience:t.audience,scope:t.scope,code_verifier:t.code_verifier,grant_type:"authorization_code",code:i},u?{redirect_uri:u}:{}),{nonceIn:c,organization:o}),{appState:t.appState,response_type:up.Code}}async _handleConnectAccountRedirectCallback(e,t){const{connect_code:i,state:r,error:s,error_description:a}=e;if(s)throw new tK(s,a||s,t.connection,r,t.appState);if(!i)throw new Zr("missing_connect_code","Missing connect code");if(!(t.code_verifier&&t.state&&t.auth_session&&t.redirect_uri&&t.state===r))throw new Zr("state_mismatch","Invalid state");const o=await this.myAccountApi.completeAccount({auth_session:t.auth_session,connect_code:i,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier});return Object.assign(Object.assign({},o),{appState:t.appState,response_type:up.ConnectCode})}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var t,i;const r=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:YE(this.scope,(t=e.authorizationParams)===null||t===void 0?void 0:t.scope,((i=e.authorizationParams)===null||i===void 0?void 0:i.audience)||this.options.authorizationParams.audience)})}),s=await((a,o)=>{let c=MR[o];return c||(c=a().finally((()=>{delete MR[o],c=null})),MR[o]=c),c})((()=>this._getTokenSilently(r)),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return e.detailedResponse?s:s?.access_token}async _getTokenSilently(e){const{cacheMode:t}=e,i=uf(e,["cacheMode"]);if(t!=="off"){const o=await this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId,cacheMode:t});if(o)return o}if(t==="cache-only")return;const r=(s=this.options.clientId,a=i.authorizationParams.audience||"default",`auth0.lock.getTokenSilently.${s}.${a}`);var s,a;if(!await(async(o,c=3)=>{for(let u=0;u<c;u++)if(await o())return!0;return!1})((()=>RR.acquireLock(r,5e3)),10))throw new eI;this.activeLockKeys.add(r),this.activeLockKeys.size===1&&window.addEventListener("pagehide",this._releaseLockOnPageHide);try{if(t!=="off"){const v=await this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId});if(v)return v}const o=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(i):await this._getTokenFromIFrame(i),{id_token:c,token_type:u,access_token:h,oauthTokenScope:p,expires_in:y}=o;return Object.assign(Object.assign({id_token:c,token_type:u,access_token:h},p?{scope:p}:null),{expires_in:y})}finally{await RR.releaseLock(r),this.activeLockKeys.delete(r),this.activeLockKeys.size===0&&window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}async getTokenWithPopup(e={},t={}){var i,r;const s=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:YE(this.scope,(i=e.authorizationParams)===null||i===void 0?void 0:i.scope,((r=e.authorizationParams)===null||r===void 0?void 0:r.audience)||this.options.authorizationParams.audience)})});return t=Object.assign(Object.assign({},eK),t),await this.loginWithPopup(s,t),(await this.cacheManager.get(new vc({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt)).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const t=e.logoutParams||{},{federated:i}=t,r=uf(t,["federated"]),s=i?"&federated":"";return this._url(`/v2/logout?${tI(Object.assign({clientId:e.clientId},r))}`)+s}async logout(e={}){var t;const i=dU(e),{openUrl:r}=i,s=uf(i,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@"),await((t=this.dpop)===null||t===void 0?void 0:t.clear());const a=this._buildLogoutUrl(s);r?await r(a):r!==!1&&window.location.assign(a)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),i=this.cookieStorage.get(this.orgHintCookieName);i&&!t.organization&&(t.organization=i);const{url:r,state:s,nonce:a,code_verifier:o,redirect_uri:c,scope:u,audience:h}=await this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Zr("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const p=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds;let y;try{y=new URL(this.domainUrl).origin}catch{y=this.domainUrl}const v=await((S,E,x=60)=>new Promise(((w,M)=>{const C=window.document.createElement("iframe");C.setAttribute("width","0"),C.setAttribute("height","0"),C.style.display="none";const D=()=>{window.document.body.contains(C)&&(window.document.body.removeChild(C),window.removeEventListener("message",L,!1))};let L;const I=setTimeout((()=>{M(new eI),D()}),1e3*x);L=function(N){if(N.origin!=E||!N.data||N.data.type!=="authorization_response")return;const P=N.source;P&&P.close(),N.data.response.error?M(Zr.fromPayload(N.data.response)):w(N.data.response),clearTimeout(I),window.removeEventListener("message",L,!1),setTimeout(D,2e3)},window.addEventListener("message",L,!1),window.document.body.appendChild(C),C.setAttribute("src",S)})))(r,y,p);if(s!==v.state)throw new Zr("state_mismatch","Invalid state");const _=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:o,code:v.code,grant_type:"authorization_code",redirect_uri:c,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:t.organization});return Object.assign(Object.assign({},_),{scope:u,oauthTokenScope:_.scope,audience:h})}catch(p){throw p.error==="login_required"&&this.logout({openUrl:!1}),p}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new vc({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt);if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new rV(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const i=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,r=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null,s=((h,p,y,v)=>{var _;if(h&&y&&v){if(p.audience!==y)return p.scope;const S=v.split(" "),E=((_=p.scope)===null||_===void 0?void 0:_.split(" "))||[],x=E.every((w=>S.includes(w)));return S.length>=E.length&&x?v:p.scope}return p.scope})(this.options.useMrrt,e.authorizationParams,t?.audience,t?.scope);try{const h=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:i}),r&&{timeout:r}),{scopesToRequest:s});if(h.refresh_token&&this.options.useMrrt&&t?.refresh_token&&await this.cacheManager.updateEntry(t.refresh_token,h.refresh_token),this.options.useMrrt&&(a=t?.audience,o=t?.scope,c=e.authorizationParams.audience,u=e.authorizationParams.scope,(a!==c||!pU(u,o))&&!pU(s,h.scope))){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);await this.cacheManager.remove(this.options.clientId,e.authorizationParams.audience,e.authorizationParams.scope);const p=((y,v)=>{const _=y?.split(" ")||[],S=v?.split(" ")||[];return _.filter((E=>S.indexOf(E)==-1)).join(",")})(s,h.scope);throw new uD(e.authorizationParams.audience||"default",p)}return Object.assign(Object.assign({},h),{scope:e.authorizationParams.scope,oauthTokenScope:h.scope,audience:e.authorizationParams.audience||"default"})}catch(h){if((h.message.indexOf("Missing Refresh Token")>-1||h.message&&h.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw h}var a,o,c,u}async _saveEntryInCache(e){const{id_token:t,decodedToken:i}=e,r=uf(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:i}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(r)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",t=this.scope[e],i=await this.cacheManager.getIdToken(new vc({clientId:this.options.clientId,audience:e,scope:t})),r=this.userCache.get("@@user@@");return i&&i.id_token===r?.id_token?r:(this.userCache.set("@@user@@",i),i)}async _getEntryFromCache({scope:e,audience:t,clientId:i,cacheMode:r}){const s=await this.cacheManager.get(new vc({scope:e,audience:t,clientId:i}),60,this.options.useMrrt,r);if(s&&s.access_token){const{token_type:a,access_token:o,oauthTokenScope:c,expires_in:u}=s,h=await this._getIdTokenFromCache();return h&&Object.assign(Object.assign({id_token:h.id_token,token_type:a||"Bearer",access_token:o},c?{scope:c}:null),{expires_in:u})}}async _requestToken(e,t){const{nonceIn:i,organization:r,scopesToRequest:s}=t||{},a=await xK(Object.assign(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs,useMrrt:this.options.useMrrt,dpop:this.dpop},e),{scope:s||e.scope}),this.worker),o=await this._verifyIdToken(a.id_token,i,r);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},a),{decodedToken:o,scope:e.scope,audience:e.audience||"default"}),a.scope?{oauthTokenScope:a.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(r||o.claims.org_id),Object.assign(Object.assign({},a),{decodedToken:o})}async exchangeToken(e){return this._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:e.subject_token,subject_token_type:e.subject_token_type,scope:YE(this.scope,e.scope,e.audience||this.options.authorizationParams.audience),audience:e.audience||this.options.authorizationParams.audience,organization:e.organization||this.options.authorizationParams.organization})}_assertDpop(e){if(!e)throw new Error("`useDpop` option must be enabled before using DPoP.")}getDpopNonce(e){return this._assertDpop(this.dpop),this.dpop.getNonce(e)}setDpopNonce(e,t){return this._assertDpop(this.dpop),this.dpop.setNonce(e,t)}generateDpopProof(e){return this._assertDpop(this.dpop),this.dpop.generateProof(e)}createFetcher(e={}){return new UK(e,{isDpopEnabled:()=>!!this.options.useDpop,getAccessToken:t=>{var i;return this.getTokenSilently({authorizationParams:{scope:(i=t?.scope)===null||i===void 0?void 0:i.join(" "),audience:t?.audience},detailedResponse:!0})},getDpopNonce:()=>this.getDpopNonce(e.dpopNonceId),setDpopNonce:t=>this.setDpopNonce(t,e.dpopNonceId),generateDpopProof:t=>this.generateDpopProof(t)})}async connectAccountWithRedirect(e){const{openUrl:t,appState:i,connection:r,scopes:s,authorization_params:a,redirectUri:o=this.options.authorizationParams.redirect_uri||window.location.origin}=e;if(!r)throw new Error("connection is required");const c=CR(k1()),u=k1(),h=await sU(u),p=oU(h),{connect_uri:y,connect_params:v,auth_session:_}=await this.myAccountApi.connectAccount({connection:r,scopes:s,redirect_uri:o,state:c,code_challenge:p,code_challenge_method:"S256",authorization_params:a});this.transactionManager.create({state:c,code_verifier:u,auth_session:_,redirect_uri:o,appState:i,connection:r,response_type:up.ConnectCode});const S=new URL(y);S.searchParams.set("ticket",v.ticket),t?await t(S.toString()):window.location.assign(S)}}var mV={isAuthenticated:!1,isLoading:!0,error:void 0,user:void 0},Eo=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},BK=Qs(Qs({},mV),{buildAuthorizeUrl:Eo,buildLogoutUrl:Eo,getAccessTokenSilently:Eo,getAccessTokenWithPopup:Eo,getIdTokenClaims:Eo,exchangeToken:Eo,loginWithRedirect:Eo,loginWithPopup:Eo,connectAccountWithRedirect:Eo,logout:Eo,handleRedirectCallback:Eo,getDpopNonce:Eo,setDpopNonce:Eo,generateDpopProof:Eo,createFetcher:Eo}),gV=H.createContext(BK),mU=(function(n){ZY(e,n);function e(t,i){var r=n.call(this,i??t)||this;return r.error=t,r.error_description=i,Object.setPrototypeOf(r,e.prototype),r}return e})(Error),FK=/[?&](?:connect_)?code=[^&]+/,VK=/[?&]state=[^&]+/,HK=/[?&]error=[^&]+/,jK=function(n){return n===void 0&&(n=window.location.search),(FK.test(n)||HK.test(n))&&VK.test(n)},yV=function(n){return function(e){if(e instanceof Error)return e;if(e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"){if("error_description"in e&&typeof e.error_description=="string"){var t=e;return new mU(t.error,t.error_description)}var i=e;return new mU(i.error)}return new Error(n)}},gU=yV("Login failed"),KE=yV("Get access token failed"),vV=function(n){var e,t;n?.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),n.authorizationParams=(e=n.authorizationParams)!==null&&e!==void 0?e:{},n.authorizationParams.redirect_uri=n.redirectUri,delete n.redirectUri),!((t=n?.authorizationParams)===null||t===void 0)&&t.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),n.authorizationParams.redirect_uri=n.authorizationParams.redirectUri,delete n.authorizationParams.redirectUri)},GK=function(n,e){switch(e.type){case"LOGIN_POPUP_STARTED":return Qs(Qs({},n),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return Qs(Qs({},n),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return n.user===e.user?n:Qs(Qs({},n),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return Qs(Qs({},n),{isAuthenticated:!1,user:void 0});case"ERROR":return Qs(Qs({},n),{isLoading:!1,error:e.error})}},qK=function(n){return vV(n),Qs(Qs({},n),{auth0Client:{name:"auth0-react",version:"2.11.0"}})},WK=function(n){var e;window.history.replaceState({},document.title,(e=n.returnTo)!==null&&e!==void 0?e:window.location.pathname)},$K=function(n){var e=n.children,t=n.skipRedirectCallback,i=n.onRedirectCallback,r=i===void 0?WK:i,s=n.context,a=s===void 0?gV:s,o=rU(n,["children","skipRedirectCallback","onRedirectCallback","context"]),c=H.useState(function(){return new zK(qK(o))})[0],u=H.useReducer(GK,mV),h=u[0],p=u[1],y=H.useRef(!1),v=H.useCallback(function(z){return p({type:"ERROR",error:z}),z},[]);H.useEffect(function(){y.current||(y.current=!0,(function(){return jm(void 0,void 0,void 0,function(){var z,F,K,ee,q,$,Q;return Gm(this,function(se){switch(se.label){case 0:return se.trys.push([0,7,,8]),z=void 0,jK()&&!t?[4,c.handleRedirectCallback()]:[3,3];case 1:return F=se.sent(),K=F.appState,ee=K===void 0?{}:K,q=F.response_type,$=rU(F,["appState","response_type"]),[4,c.getUser()];case 2:return z=se.sent(),ee.response_type=q,q===up.ConnectCode&&(ee.connectedAccount=$),r(ee,z),[3,6];case 3:return[4,c.checkSession()];case 4:return se.sent(),[4,c.getUser()];case 5:z=se.sent(),se.label=6;case 6:return p({type:"INITIALISED",user:z}),[3,8];case 7:return Q=se.sent(),v(gU(Q)),[3,8];case 8:return[2]}})})})())},[c,r,t,v]);var _=H.useCallback(function(z){return vV(z),c.loginWithRedirect(z)},[c]),S=H.useCallback(function(z,F){return jm(void 0,void 0,void 0,function(){var K,ee;return Gm(this,function(q){switch(q.label){case 0:p({type:"LOGIN_POPUP_STARTED"}),q.label=1;case 1:return q.trys.push([1,3,,4]),[4,c.loginWithPopup(z,F)];case 2:return q.sent(),[3,4];case 3:return K=q.sent(),v(gU(K)),[2];case 4:return[4,c.getUser()];case 5:return ee=q.sent(),p({type:"LOGIN_POPUP_COMPLETE",user:ee}),[2]}})})},[c,v]),E=H.useCallback(function(){for(var z=[],F=0;F<arguments.length;F++)z[F]=arguments[F];return jm(void 0,QY([],z),void 0,function(K){return K===void 0&&(K={}),Gm(this,function(ee){switch(ee.label){case 0:return[4,c.logout(K)];case 1:return ee.sent(),(K.openUrl||K.openUrl===!1)&&p({type:"LOGOUT"}),[2]}})})},[c]),x=H.useCallback(function(z){return jm(void 0,void 0,void 0,function(){var F,K,ee,q;return Gm(this,function($){switch($.label){case 0:return $.trys.push([0,2,3,5]),[4,c.getTokenSilently(z)];case 1:return F=$.sent(),[3,5];case 2:throw K=$.sent(),KE(K);case 3:return ee=p,q={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,c.getUser()];case 4:return ee.apply(void 0,[(q.user=$.sent(),q)]),[7];case 5:return[2,F]}})})},[c]),w=H.useCallback(function(z,F){return jm(void 0,void 0,void 0,function(){var K,ee,q,$;return Gm(this,function(Q){switch(Q.label){case 0:return Q.trys.push([0,2,3,5]),[4,c.getTokenWithPopup(z,F)];case 1:return K=Q.sent(),[3,5];case 2:throw ee=Q.sent(),KE(ee);case 3:return q=p,$={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,c.getUser()];case 4:return q.apply(void 0,[($.user=Q.sent(),$)]),[7];case 5:return[2,K]}})})},[c]),M=H.useCallback(function(z){return c.connectAccountWithRedirect(z)},[c]),C=H.useCallback(function(){return c.getIdTokenClaims()},[c]),D=H.useCallback(function(z){return jm(void 0,void 0,void 0,function(){var F,K,ee,q;return Gm(this,function($){switch($.label){case 0:return $.trys.push([0,2,3,5]),[4,c.exchangeToken(z)];case 1:return F=$.sent(),[3,5];case 2:throw K=$.sent(),KE(K);case 3:return ee=p,q={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,c.getUser()];case 4:return ee.apply(void 0,[(q.user=$.sent(),q)]),[7];case 5:return[2,F]}})})},[c]),L=H.useCallback(function(z){return jm(void 0,void 0,void 0,function(){var F,K,ee;return Gm(this,function(q){switch(q.label){case 0:return q.trys.push([0,2,3,5]),[4,c.handleRedirectCallback(z)];case 1:return[2,q.sent()];case 2:throw F=q.sent(),KE(F);case 3:return K=p,ee={type:"HANDLE_REDIRECT_COMPLETE"},[4,c.getUser()];case 4:return K.apply(void 0,[(ee.user=q.sent(),ee)]),[7];case 5:return[2]}})})},[c]),I=H.useCallback(function(z){return c.getDpopNonce(z)},[c]),N=H.useCallback(function(z,F){return c.setDpopNonce(z,F)},[c]),P=H.useCallback(function(z){return c.generateDpopProof(z)},[c]),U=H.useCallback(function(z){return c.createFetcher(z)},[c]),V=H.useMemo(function(){return Qs(Qs({},h),{getAccessTokenSilently:x,getAccessTokenWithPopup:w,getIdTokenClaims:C,exchangeToken:D,loginWithRedirect:_,loginWithPopup:S,connectAccountWithRedirect:M,logout:E,handleRedirectCallback:L,getDpopNonce:I,setDpopNonce:N,generateDpopProof:P,createFetcher:U})},[h,x,w,C,D,_,S,M,E,L,I,N,P,U]);return ar.createElement(a.Provider,{value:V},e)},XK=function(n){return n===void 0&&(n=gV),H.useContext(n)};const yU=n=>{let e;const t=new Set,i=(u,h)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const y=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(v=>v(e,y))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>c,subscribe:u=>(t.add(u),()=>t.delete(u))},c=e=n(i,r,o);return o},_V=(n=>n?yU(n):yU),YK=n=>n;function KK(n,e=YK){const t=ar.useSyncExternalStore(n.subscribe,ar.useCallback(()=>e(n.getState()),[n,e]),ar.useCallback(()=>e(n.getInitialState()),[n,e]));return ar.useDebugValue(t),t}const vU=n=>{const e=_V(n),t=i=>KK(e,i);return Object.assign(t,e),t},ZK=(n=>n?vU(n):vU);function bV(n="debug",...e){}const QK=()=>{};var _U={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},JK=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],a=n[t++],o=n[t++],c=((r&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},SV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,o=a?n[r+1]:0,c=r+2<n.length,u=c?n[r+2]:0,h=s>>2,p=(s&3)<<4|o>>4;let y=(o&15)<<2|u>>6,v=u&63;c||(v=64,a||(y=64)),i.push(t[h],t[p],t[y],t[v])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(xV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):JK(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],o=r<n.length?t[n.charAt(r)]:0;++r;const u=r<n.length?t[n.charAt(r)]:64;++r;const p=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||o==null||u==null||p==null)throw new eZ;const y=s<<2|o>>4;if(i.push(y),u!==64){const v=o<<4&240|u>>2;if(i.push(v),p!==64){const _=u<<6&192|p;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class eZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tZ=function(n){const e=xV(n);return SV.encodeByteArray(e,!0)},p2=function(n){return tZ(n).replace(/\./g,"")},EV=function(n){try{return SV.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iZ=()=>nZ().__FIREBASE_DEFAULTS__,rZ=()=>{if(typeof process>"u"||typeof _U>"u")return;const n=_U.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sZ=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&EV(n[1]);return e&&JSON.parse(e)},JC=()=>{try{return QK()||iZ()||rZ()||sZ()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},TV=n=>{var e,t;return(t=(e=JC())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},aZ=n=>{const e=TV(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},wV=()=>{var n;return(n=JC())===null||n===void 0?void 0:n.config},CV=n=>{var e;return(e=JC())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AV(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lZ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[p2(JSON.stringify(t)),p2(JSON.stringify(a)),""].join(".")}const zb={};function cZ(){const n={prod:[],emulator:[]};for(const e of Object.keys(zb))zb[e]?n.emulator.push(e):n.prod.push(e);return n}function uZ(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let bU=!1;function MV(n,e){if(typeof window>"u"||typeof document>"u"||!r_(window.location.host)||zb[n]===e||zb[n]||bU)return;zb[n]=e;function t(y){return`__firebase__banner__${y}`}const i="__firebase__banner",s=cZ().prod.length>0;function a(){const y=document.getElementById(i);y&&y.remove()}function o(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function u(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{bU=!0,a()},y}function h(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=uZ(i),v=t("text"),_=document.getElementById(v)||document.createElement("span"),S=t("learnmore"),E=document.getElementById(S)||document.createElement("a"),x=t("preprendIcon"),w=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const M=y.element;o(M),h(E,S);const C=u();c(w,x),M.append(w,_,E,C),document.body.appendChild(M)}s?(_.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eo())}function hZ(){var n;const e=(n=JC())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dZ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pZ(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mZ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gZ(){const n=eo();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yZ(){return!hZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vZ(){try{return typeof indexedDB=="object"}catch{return!1}}function _Z(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ="FirebaseError";class id extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=bZ,Object.setPrototypeOf(this,id.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,aS.prototype.create)}}class aS{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?xZ(s,i):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new id(r,o,i)}}function xZ(n,e){return n.replace(SZ,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const SZ=/\{\$([^}]+)}/g;function EZ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gg(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],a=e[r];if(xU(s)&&xU(a)){if(!Gg(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function xU(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function TZ(n,e){const t=new wZ(n,e);return t.subscribe.bind(t)}class wZ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");CZ(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=OR),r.error===void 0&&(r.error=OR),r.complete===void 0&&(r.complete=OR);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CZ(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function OR(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(n){return n&&n._delegate?n._delegate:n}class qg{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AZ=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new oZ;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RZ(e))try{this.getOrInitializeService({instanceIdentifier:pg})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=pg){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pg){return this.instances.has(e)}getOptions(e=pg){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&a.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:MZ(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=pg){return this.component?this.component.multipleInstances?e:pg:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function MZ(n){return n===pg?void 0:n}function RZ(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AZ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ri||(ri={}));const IZ={debug:ri.DEBUG,verbose:ri.VERBOSE,info:ri.INFO,warn:ri.WARN,error:ri.ERROR,silent:ri.SILENT},PZ=ri.INFO,DZ={[ri.DEBUG]:"log",[ri.VERBOSE]:"log",[ri.INFO]:"info",[ri.WARN]:"warn",[ri.ERROR]:"error"},NZ=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=DZ[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let fD=class{constructor(e){this.name=e,this._logLevel=PZ,this._logHandler=NZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ri))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ri.DEBUG,...e),this._logHandler(this,ri.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ri.VERBOSE,...e),this._logHandler(this,ri.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ri.INFO,...e),this._logHandler(this,ri.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ri.WARN,...e),this._logHandler(this,ri.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ri.ERROR,...e),this._logHandler(this,ri.ERROR,...e)}};const LZ=(n,e)=>e.some(t=>n instanceof t);let SU,EU;function UZ(){return SU||(SU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kZ(){return EU||(EU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RV=new WeakMap,iI=new WeakMap,OV=new WeakMap,IR=new WeakMap,hD=new WeakMap;function zZ(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Sp(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&RV.set(t,n)}).catch(()=>{}),hD.set(e,n),e}function BZ(n){if(iI.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});iI.set(n,e)}let rI={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return iI.get(n);if(e==="objectStoreNames")return n.objectStoreNames||OV.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sp(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function FZ(n){rI=n(rI)}function VZ(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(PR(this),e,...t);return OV.set(i,e.sort?e.sort():[e]),Sp(i)}:kZ().includes(n)?function(...e){return n.apply(PR(this),e),Sp(RV.get(this))}:function(...e){return Sp(n.apply(PR(this),e))}}function HZ(n){return typeof n=="function"?VZ(n):(n instanceof IDBTransaction&&BZ(n),LZ(n,UZ())?new Proxy(n,rI):n)}function Sp(n){if(n instanceof IDBRequest)return zZ(n);if(IR.has(n))return IR.get(n);const e=HZ(n);return e!==n&&(IR.set(n,e),hD.set(e,n)),e}const PR=n=>hD.get(n);function jZ(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(n,e),o=Sp(a);return i&&a.addEventListener("upgradeneeded",c=>{i(Sp(a.result),c.oldVersion,c.newVersion,Sp(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const GZ=["get","getKey","getAll","getAllKeys","count"],qZ=["put","add","delete","clear"],DR=new Map;function TU(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(DR.get(e))return DR.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=qZ.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||GZ.includes(t)))return;const s=async function(a,...o){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),r&&c.done]))[0]};return DR.set(e,s),s}FZ(n=>({...n,get:(e,t,i)=>TU(e,t)||n.get(e,t,i),has:(e,t)=>!!TU(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($Z(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function $Z(n){const e=n.getComponent();return e?.type==="VERSION"}const sI="@firebase/app",wU="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new fD("@firebase/app"),XZ="@firebase/app-compat",YZ="@firebase/analytics-compat",KZ="@firebase/analytics",ZZ="@firebase/app-check-compat",QZ="@firebase/app-check",JZ="@firebase/auth",eQ="@firebase/auth-compat",tQ="@firebase/database",nQ="@firebase/data-connect",iQ="@firebase/database-compat",rQ="@firebase/functions",sQ="@firebase/functions-compat",aQ="@firebase/installations",oQ="@firebase/installations-compat",lQ="@firebase/messaging",cQ="@firebase/messaging-compat",uQ="@firebase/performance",fQ="@firebase/performance-compat",hQ="@firebase/remote-config",dQ="@firebase/remote-config-compat",pQ="@firebase/storage",mQ="@firebase/storage-compat",gQ="@firebase/firestore",yQ="@firebase/ai",vQ="@firebase/firestore-compat",_Q="firebase",bQ="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="[DEFAULT]",xQ={[sI]:"fire-core",[XZ]:"fire-core-compat",[KZ]:"fire-analytics",[YZ]:"fire-analytics-compat",[QZ]:"fire-app-check",[ZZ]:"fire-app-check-compat",[JZ]:"fire-auth",[eQ]:"fire-auth-compat",[tQ]:"fire-rtdb",[nQ]:"fire-data-connect",[iQ]:"fire-rtdb-compat",[rQ]:"fire-fn",[sQ]:"fire-fn-compat",[aQ]:"fire-iid",[oQ]:"fire-iid-compat",[lQ]:"fire-fcm",[cQ]:"fire-fcm-compat",[uQ]:"fire-perf",[fQ]:"fire-perf-compat",[hQ]:"fire-rc",[dQ]:"fire-rc-compat",[pQ]:"fire-gcs",[mQ]:"fire-gcs-compat",[gQ]:"fire-fst",[vQ]:"fire-fst-compat",[yQ]:"fire-vertex","fire-js":"fire-js",[_Q]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new Map,SQ=new Map,oI=new Map;function CU(n,e){try{n.container.addComponent(e)}catch(t){Hh.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function x0(n){const e=n.name;if(oI.has(e))return Hh.debug(`There were multiple attempts to register component ${e}.`),!1;oI.set(e,n);for(const t of m2.values())CU(t,n);for(const t of SQ.values())CU(t,n);return!0}function dD(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function df(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ep=new aS("app","Firebase",EQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qg("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ep.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=bQ;function IV(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:aI,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Ep.create("bad-app-name",{appName:String(r)});if(t||(t=wV()),!t)throw Ep.create("no-options");const s=m2.get(r);if(s){if(Gg(t,s.options)&&Gg(i,s.config))return s;throw Ep.create("duplicate-app",{appName:r})}const a=new OZ(r);for(const c of oI.values())a.addComponent(c);const o=new TQ(t,i,a);return m2.set(r,o),o}function PV(n=aI){const e=m2.get(n);if(!e&&n===aI&&wV())return IV();if(!e)throw Ep.create("no-app",{appName:n});return e}function Tp(n,e,t){var i;let r=(i=xQ[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hh.warn(o.join(" "));return}x0(new qg(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ="firebase-heartbeat-database",CQ=1,mx="firebase-heartbeat-store";let NR=null;function DV(){return NR||(NR=jZ(wQ,CQ,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(mx)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ep.create("idb-open",{originalErrorMessage:n.message})})),NR}async function AQ(n){try{const t=(await DV()).transaction(mx),i=await t.objectStore(mx).get(NV(n));return await t.done,i}catch(e){if(e instanceof id)Hh.warn(e.message);else{const t=Ep.create("idb-get",{originalErrorMessage:e?.message});Hh.warn(t.message)}}}async function AU(n,e){try{const i=(await DV()).transaction(mx,"readwrite");await i.objectStore(mx).put(e,NV(n)),await i.done}catch(t){if(t instanceof id)Hh.warn(t.message);else{const i=Ep.create("idb-set",{originalErrorMessage:t?.message});Hh.warn(i.message)}}}function NV(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MQ=1024,RQ=30;class OQ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PQ(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=MU();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>RQ){const a=DQ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Hh.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=MU(),{heartbeatsToSend:i,unsentEntries:r}=IQ(this._heartbeatsCache.heartbeats),s=p2(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Hh.warn(t),""}}}function MU(){return new Date().toISOString().substring(0,10)}function IQ(n,e=MQ){const t=[];let i=n.slice();for(const r of n){const s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),RU(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),RU(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class PQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vZ()?_Z().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AQ(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return AU(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return AU(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function RU(n){return p2(JSON.stringify({version:2,heartbeats:n})).length}function DQ(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NQ(n){x0(new qg("platform-logger",e=>new WZ(e),"PRIVATE")),x0(new qg("heartbeat",e=>new OQ(e),"PRIVATE")),Tp(sI,wU,n),Tp(sI,wU,"esm2017"),Tp("fire-js","")}NQ("");var OU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wp,LV;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,N){function P(){}P.prototype=N.prototype,I.D=N.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(U,V,z){for(var F=Array(arguments.length-2),K=2;K<arguments.length;K++)F[K-2]=arguments[K];return N.prototype[V].apply(U,F)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,N,P){P||(P=0);var U=Array(16);if(typeof N=="string")for(var V=0;16>V;++V)U[V]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(V=0;16>V;++V)U[V]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=I.g[0],P=I.g[1],V=I.g[2];var z=I.g[3],F=N+(z^P&(V^z))+U[0]+3614090360&4294967295;N=P+(F<<7&4294967295|F>>>25),F=z+(V^N&(P^V))+U[1]+3905402710&4294967295,z=N+(F<<12&4294967295|F>>>20),F=V+(P^z&(N^P))+U[2]+606105819&4294967295,V=z+(F<<17&4294967295|F>>>15),F=P+(N^V&(z^N))+U[3]+3250441966&4294967295,P=V+(F<<22&4294967295|F>>>10),F=N+(z^P&(V^z))+U[4]+4118548399&4294967295,N=P+(F<<7&4294967295|F>>>25),F=z+(V^N&(P^V))+U[5]+1200080426&4294967295,z=N+(F<<12&4294967295|F>>>20),F=V+(P^z&(N^P))+U[6]+2821735955&4294967295,V=z+(F<<17&4294967295|F>>>15),F=P+(N^V&(z^N))+U[7]+4249261313&4294967295,P=V+(F<<22&4294967295|F>>>10),F=N+(z^P&(V^z))+U[8]+1770035416&4294967295,N=P+(F<<7&4294967295|F>>>25),F=z+(V^N&(P^V))+U[9]+2336552879&4294967295,z=N+(F<<12&4294967295|F>>>20),F=V+(P^z&(N^P))+U[10]+4294925233&4294967295,V=z+(F<<17&4294967295|F>>>15),F=P+(N^V&(z^N))+U[11]+2304563134&4294967295,P=V+(F<<22&4294967295|F>>>10),F=N+(z^P&(V^z))+U[12]+1804603682&4294967295,N=P+(F<<7&4294967295|F>>>25),F=z+(V^N&(P^V))+U[13]+4254626195&4294967295,z=N+(F<<12&4294967295|F>>>20),F=V+(P^z&(N^P))+U[14]+2792965006&4294967295,V=z+(F<<17&4294967295|F>>>15),F=P+(N^V&(z^N))+U[15]+1236535329&4294967295,P=V+(F<<22&4294967295|F>>>10),F=N+(V^z&(P^V))+U[1]+4129170786&4294967295,N=P+(F<<5&4294967295|F>>>27),F=z+(P^V&(N^P))+U[6]+3225465664&4294967295,z=N+(F<<9&4294967295|F>>>23),F=V+(N^P&(z^N))+U[11]+643717713&4294967295,V=z+(F<<14&4294967295|F>>>18),F=P+(z^N&(V^z))+U[0]+3921069994&4294967295,P=V+(F<<20&4294967295|F>>>12),F=N+(V^z&(P^V))+U[5]+3593408605&4294967295,N=P+(F<<5&4294967295|F>>>27),F=z+(P^V&(N^P))+U[10]+38016083&4294967295,z=N+(F<<9&4294967295|F>>>23),F=V+(N^P&(z^N))+U[15]+3634488961&4294967295,V=z+(F<<14&4294967295|F>>>18),F=P+(z^N&(V^z))+U[4]+3889429448&4294967295,P=V+(F<<20&4294967295|F>>>12),F=N+(V^z&(P^V))+U[9]+568446438&4294967295,N=P+(F<<5&4294967295|F>>>27),F=z+(P^V&(N^P))+U[14]+3275163606&4294967295,z=N+(F<<9&4294967295|F>>>23),F=V+(N^P&(z^N))+U[3]+4107603335&4294967295,V=z+(F<<14&4294967295|F>>>18),F=P+(z^N&(V^z))+U[8]+1163531501&4294967295,P=V+(F<<20&4294967295|F>>>12),F=N+(V^z&(P^V))+U[13]+2850285829&4294967295,N=P+(F<<5&4294967295|F>>>27),F=z+(P^V&(N^P))+U[2]+4243563512&4294967295,z=N+(F<<9&4294967295|F>>>23),F=V+(N^P&(z^N))+U[7]+1735328473&4294967295,V=z+(F<<14&4294967295|F>>>18),F=P+(z^N&(V^z))+U[12]+2368359562&4294967295,P=V+(F<<20&4294967295|F>>>12),F=N+(P^V^z)+U[5]+4294588738&4294967295,N=P+(F<<4&4294967295|F>>>28),F=z+(N^P^V)+U[8]+2272392833&4294967295,z=N+(F<<11&4294967295|F>>>21),F=V+(z^N^P)+U[11]+1839030562&4294967295,V=z+(F<<16&4294967295|F>>>16),F=P+(V^z^N)+U[14]+4259657740&4294967295,P=V+(F<<23&4294967295|F>>>9),F=N+(P^V^z)+U[1]+2763975236&4294967295,N=P+(F<<4&4294967295|F>>>28),F=z+(N^P^V)+U[4]+1272893353&4294967295,z=N+(F<<11&4294967295|F>>>21),F=V+(z^N^P)+U[7]+4139469664&4294967295,V=z+(F<<16&4294967295|F>>>16),F=P+(V^z^N)+U[10]+3200236656&4294967295,P=V+(F<<23&4294967295|F>>>9),F=N+(P^V^z)+U[13]+681279174&4294967295,N=P+(F<<4&4294967295|F>>>28),F=z+(N^P^V)+U[0]+3936430074&4294967295,z=N+(F<<11&4294967295|F>>>21),F=V+(z^N^P)+U[3]+3572445317&4294967295,V=z+(F<<16&4294967295|F>>>16),F=P+(V^z^N)+U[6]+76029189&4294967295,P=V+(F<<23&4294967295|F>>>9),F=N+(P^V^z)+U[9]+3654602809&4294967295,N=P+(F<<4&4294967295|F>>>28),F=z+(N^P^V)+U[12]+3873151461&4294967295,z=N+(F<<11&4294967295|F>>>21),F=V+(z^N^P)+U[15]+530742520&4294967295,V=z+(F<<16&4294967295|F>>>16),F=P+(V^z^N)+U[2]+3299628645&4294967295,P=V+(F<<23&4294967295|F>>>9),F=N+(V^(P|~z))+U[0]+4096336452&4294967295,N=P+(F<<6&4294967295|F>>>26),F=z+(P^(N|~V))+U[7]+1126891415&4294967295,z=N+(F<<10&4294967295|F>>>22),F=V+(N^(z|~P))+U[14]+2878612391&4294967295,V=z+(F<<15&4294967295|F>>>17),F=P+(z^(V|~N))+U[5]+4237533241&4294967295,P=V+(F<<21&4294967295|F>>>11),F=N+(V^(P|~z))+U[12]+1700485571&4294967295,N=P+(F<<6&4294967295|F>>>26),F=z+(P^(N|~V))+U[3]+2399980690&4294967295,z=N+(F<<10&4294967295|F>>>22),F=V+(N^(z|~P))+U[10]+4293915773&4294967295,V=z+(F<<15&4294967295|F>>>17),F=P+(z^(V|~N))+U[1]+2240044497&4294967295,P=V+(F<<21&4294967295|F>>>11),F=N+(V^(P|~z))+U[8]+1873313359&4294967295,N=P+(F<<6&4294967295|F>>>26),F=z+(P^(N|~V))+U[15]+4264355552&4294967295,z=N+(F<<10&4294967295|F>>>22),F=V+(N^(z|~P))+U[6]+2734768916&4294967295,V=z+(F<<15&4294967295|F>>>17),F=P+(z^(V|~N))+U[13]+1309151649&4294967295,P=V+(F<<21&4294967295|F>>>11),F=N+(V^(P|~z))+U[4]+4149444226&4294967295,N=P+(F<<6&4294967295|F>>>26),F=z+(P^(N|~V))+U[11]+3174756917&4294967295,z=N+(F<<10&4294967295|F>>>22),F=V+(N^(z|~P))+U[2]+718787259&4294967295,V=z+(F<<15&4294967295|F>>>17),F=P+(z^(V|~N))+U[9]+3951481745&4294967295,I.g[0]=I.g[0]+N&4294967295,I.g[1]=I.g[1]+(V+(F<<21&4294967295|F>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+z&4294967295}i.prototype.u=function(I,N){N===void 0&&(N=I.length);for(var P=N-this.blockSize,U=this.B,V=this.h,z=0;z<N;){if(V==0)for(;z<=P;)r(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<N;)if(U[V++]=I.charCodeAt(z++),V==this.blockSize){r(this,U),V=0;break}}else for(;z<N;)if(U[V++]=I[z++],V==this.blockSize){r(this,U),V=0;break}}this.h=V,this.o+=N},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var N=1;N<I.length-8;++N)I[N]=0;var P=8*this.o;for(N=I.length-8;N<I.length;++N)I[N]=P&255,P/=256;for(this.u(I),I=Array(16),N=P=0;4>N;++N)for(var U=0;32>U;U+=8)I[P++]=this.g[N]>>>U&255;return I};function s(I,N){var P=o;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=N(I)}function a(I,N){this.h=N;for(var P=[],U=!0,V=I.length-1;0<=V;V--){var z=I[V]|0;U&&z==N||(P[V]=z,U=!1)}this.g=P}var o={};function c(I){return-128<=I&&128>I?s(I,function(N){return new a([N|0],0>N?-1:0)}):new a([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return E(u(-I));for(var N=[],P=1,U=0;I>=P;U++)N[U]=I/P|0,P*=4294967296;return new a(N,0)}function h(I,N){if(I.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(I.charAt(0)=="-")return E(h(I.substring(1),N));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(N,8)),U=p,V=0;V<I.length;V+=8){var z=Math.min(8,I.length-V),F=parseInt(I.substring(V,V+z),N);8>z?(z=u(Math.pow(N,z)),U=U.j(z).add(u(F))):(U=U.j(P),U=U.add(u(F)))}return U}var p=c(0),y=c(1),v=c(16777216);n=a.prototype,n.m=function(){if(S(this))return-E(this).m();for(var I=0,N=1,P=0;P<this.g.length;P++){var U=this.i(P);I+=(0<=U?U:4294967296+U)*N,N*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(S(this))return"-"+E(this).toString(I);for(var N=u(Math.pow(I,6)),P=this,U="";;){var V=C(P,N).g;P=x(P,V.j(N));var z=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=V,_(P))return z+U;for(;6>z.length;)z="0"+z;U=z+U}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var N=0;N<I.g.length;N++)if(I.g[N]!=0)return!1;return!0}function S(I){return I.h==-1}n.l=function(I){return I=x(this,I),S(I)?-1:_(I)?0:1};function E(I){for(var N=I.g.length,P=[],U=0;U<N;U++)P[U]=~I.g[U];return new a(P,~I.h).add(y)}n.abs=function(){return S(this)?E(this):this},n.add=function(I){for(var N=Math.max(this.g.length,I.g.length),P=[],U=0,V=0;V<=N;V++){var z=U+(this.i(V)&65535)+(I.i(V)&65535),F=(z>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);U=F>>>16,z&=65535,F&=65535,P[V]=F<<16|z}return new a(P,P[P.length-1]&-2147483648?-1:0)};function x(I,N){return I.add(E(N))}n.j=function(I){if(_(this)||_(I))return p;if(S(this))return S(I)?E(this).j(E(I)):E(E(this).j(I));if(S(I))return E(this.j(E(I)));if(0>this.l(v)&&0>I.l(v))return u(this.m()*I.m());for(var N=this.g.length+I.g.length,P=[],U=0;U<2*N;U++)P[U]=0;for(U=0;U<this.g.length;U++)for(var V=0;V<I.g.length;V++){var z=this.i(U)>>>16,F=this.i(U)&65535,K=I.i(V)>>>16,ee=I.i(V)&65535;P[2*U+2*V]+=F*ee,w(P,2*U+2*V),P[2*U+2*V+1]+=z*ee,w(P,2*U+2*V+1),P[2*U+2*V+1]+=F*K,w(P,2*U+2*V+1),P[2*U+2*V+2]+=z*K,w(P,2*U+2*V+2)}for(U=0;U<N;U++)P[U]=P[2*U+1]<<16|P[2*U];for(U=N;U<2*N;U++)P[U]=0;return new a(P,0)};function w(I,N){for(;(I[N]&65535)!=I[N];)I[N+1]+=I[N]>>>16,I[N]&=65535,N++}function M(I,N){this.g=I,this.h=N}function C(I,N){if(_(N))throw Error("division by zero");if(_(I))return new M(p,p);if(S(I))return N=C(E(I),N),new M(E(N.g),E(N.h));if(S(N))return N=C(I,E(N)),new M(E(N.g),N.h);if(30<I.g.length){if(S(I)||S(N))throw Error("slowDivide_ only works with positive integers.");for(var P=y,U=N;0>=U.l(I);)P=D(P),U=D(U);var V=L(P,1),z=L(U,1);for(U=L(U,2),P=L(P,2);!_(U);){var F=z.add(U);0>=F.l(I)&&(V=V.add(P),z=F),U=L(U,1),P=L(P,1)}return N=x(I,V.j(N)),new M(V,N)}for(V=p;0<=I.l(N);){for(P=Math.max(1,Math.floor(I.m()/N.m())),U=Math.ceil(Math.log(P)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),z=u(P),F=z.j(N);S(F)||0<F.l(I);)P-=U,z=u(P),F=z.j(N);_(z)&&(z=y),V=V.add(z),I=x(I,F)}return new M(V,I)}n.A=function(I){return C(this,I).h},n.and=function(I){for(var N=Math.max(this.g.length,I.g.length),P=[],U=0;U<N;U++)P[U]=this.i(U)&I.i(U);return new a(P,this.h&I.h)},n.or=function(I){for(var N=Math.max(this.g.length,I.g.length),P=[],U=0;U<N;U++)P[U]=this.i(U)|I.i(U);return new a(P,this.h|I.h)},n.xor=function(I){for(var N=Math.max(this.g.length,I.g.length),P=[],U=0;U<N;U++)P[U]=this.i(U)^I.i(U);return new a(P,this.h^I.h)};function D(I){for(var N=I.g.length+1,P=[],U=0;U<N;U++)P[U]=I.i(U)<<1|I.i(U-1)>>>31;return new a(P,I.h)}function L(I,N){var P=N>>5;N%=32;for(var U=I.g.length-P,V=[],z=0;z<U;z++)V[z]=0<N?I.i(z+P)>>>N|I.i(z+P+1)<<32-N:I.i(z+P);return new a(V,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,LV=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,wp=a}).apply(typeof OU<"u"?OU:typeof self<"u"?self:typeof window<"u"?window:{});var ZE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UV,_b,kV,kw,lI,zV,BV,FV;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,j,X){return A==Array.prototype||A==Object.prototype||(A[j]=X.value),A};function t(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof ZE=="object"&&ZE];for(var j=0;j<A.length;++j){var X=A[j];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var i=t(this);function r(A,j){if(j)e:{var X=i;A=A.split(".");for(var ce=0;ce<A.length-1;ce++){var Ee=A[ce];if(!(Ee in X))break e;X=X[Ee]}A=A[A.length-1],ce=X[A],j=j(ce),j!=ce&&j!=null&&e(X,A,{configurable:!0,writable:!0,value:j})}}function s(A,j){A instanceof String&&(A+="");var X=0,ce=!1,Ee={next:function(){if(!ce&&X<A.length){var je=X++;return{value:j(je,A[je]),done:!1}}return ce=!0,{done:!0,value:void 0}}};return Ee[Symbol.iterator]=function(){return Ee},Ee}r("Array.prototype.values",function(A){return A||function(){return s(this,function(j,X){return X})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(A){var j=typeof A;return j=j!="object"?j:A?Array.isArray(A)?"array":j:"null",j=="array"||j=="object"&&typeof A.length=="number"}function u(A){var j=typeof A;return j=="object"&&A!=null||j=="function"}function h(A,j,X){return A.call.apply(A.bind,arguments)}function p(A,j,X){if(!A)throw Error();if(2<arguments.length){var ce=Array.prototype.slice.call(arguments,2);return function(){var Ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ee,ce),A.apply(j,Ee)}}return function(){return A.apply(j,arguments)}}function y(A,j,X){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function v(A,j){var X=Array.prototype.slice.call(arguments,1);return function(){var ce=X.slice();return ce.push.apply(ce,arguments),A.apply(this,ce)}}function _(A,j){function X(){}X.prototype=j.prototype,A.aa=j.prototype,A.prototype=new X,A.prototype.constructor=A,A.Qb=function(ce,Ee,je){for(var Et=Array(arguments.length-2),fi=2;fi<arguments.length;fi++)Et[fi-2]=arguments[fi];return j.prototype[Ee].apply(ce,Et)}}function S(A){const j=A.length;if(0<j){const X=Array(j);for(let ce=0;ce<j;ce++)X[ce]=A[ce];return X}return[]}function E(A,j){for(let X=1;X<arguments.length;X++){const ce=arguments[X];if(c(ce)){const Ee=A.length||0,je=ce.length||0;A.length=Ee+je;for(let Et=0;Et<je;Et++)A[Ee+Et]=ce[Et]}else A.push(ce)}}class x{constructor(j,X){this.i=j,this.j=X,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function w(A){return/^[\s\xa0]*$/.test(A)}function M(){var A=o.navigator;return A&&(A=A.userAgent)?A:""}function C(A){return C[" "](A),A}C[" "]=function(){};var D=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function L(A,j,X){for(const ce in A)j.call(X,A[ce],ce,A)}function I(A,j){for(const X in A)j.call(void 0,A[X],X,A)}function N(A){const j={};for(const X in A)j[X]=A[X];return j}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(A,j){let X,ce;for(let Ee=1;Ee<arguments.length;Ee++){ce=arguments[Ee];for(X in ce)A[X]=ce[X];for(let je=0;je<P.length;je++)X=P[je],Object.prototype.hasOwnProperty.call(ce,X)&&(A[X]=ce[X])}}function V(A){var j=1;A=A.split(":");const X=[];for(;0<j&&A.length;)X.push(A.shift()),j--;return A.length&&X.push(A.join(":")),X}function z(A){o.setTimeout(()=>{throw A},0)}function F(){var A=se;let j=null;return A.g&&(j=A.g,A.g=A.g.next,A.g||(A.h=null),j.next=null),j}class K{constructor(){this.h=this.g=null}add(j,X){const ce=ee.get();ce.set(j,X),this.h?this.h.next=ce:this.g=ce,this.h=ce}}var ee=new x(()=>new q,A=>A.reset());class q{constructor(){this.next=this.g=this.h=null}set(j,X){this.h=j,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let $,Q=!1,se=new K,de=()=>{const A=o.Promise.resolve(void 0);$=()=>{A.then(Y)}};var Y=()=>{for(var A;A=F();){try{A.h.call(A.g)}catch(X){z(X)}var j=ee;j.j(A),100>j.h&&(j.h++,A.next=j.g,j.g=A)}Q=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(A,j){this.type=A,this.g=this.target=j,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ue=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var A=!1,j=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const X=()=>{};o.addEventListener("test",X,j),o.removeEventListener("test",X,j)}catch{}return A})();function ie(A,j){if(pe.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var X=this.type=A.type,ce=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=j,j=A.relatedTarget){if(D){e:{try{C(j.nodeName);var Ee=!0;break e}catch{}Ee=!1}Ee||(j=null)}}else X=="mouseover"?j=A.fromElement:X=="mouseout"&&(j=A.toElement);this.relatedTarget=j,ce?(this.clientX=ce.clientX!==void 0?ce.clientX:ce.pageX,this.clientY=ce.clientY!==void 0?ce.clientY:ce.pageY,this.screenX=ce.screenX||0,this.screenY=ce.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:he[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&ie.aa.h.call(this)}}_(ie,pe);var he={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Xe(A,j,X,ce,Ee){this.listener=A,this.proxy=null,this.src=j,this.type=X,this.capture=!!ce,this.ha=Ee,this.key=++Ve,this.da=this.fa=!1}function Ge(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function rt(A){this.src=A,this.g={},this.h=0}rt.prototype.add=function(A,j,X,ce,Ee){var je=A.toString();A=this.g[je],A||(A=this.g[je]=[],this.h++);var Et=pt(A,j,ce,Ee);return-1<Et?(j=A[Et],X||(j.fa=!1)):(j=new Xe(j,this.src,je,!!ce,Ee),j.fa=X,A.push(j)),j};function ot(A,j){var X=j.type;if(X in A.g){var ce=A.g[X],Ee=Array.prototype.indexOf.call(ce,j,void 0),je;(je=0<=Ee)&&Array.prototype.splice.call(ce,Ee,1),je&&(Ge(j),A.g[X].length==0&&(delete A.g[X],A.h--))}}function pt(A,j,X,ce){for(var Ee=0;Ee<A.length;++Ee){var je=A[Ee];if(!je.da&&je.listener==j&&je.capture==!!X&&je.ha==ce)return Ee}return-1}var te="closure_lm_"+(1e6*Math.random()|0),Oe={};function Be(A,j,X,ce,Ee){if(Array.isArray(j)){for(var je=0;je<j.length;je++)Be(A,j[je],X,ce,Ee);return null}return X=Ze(X),A&&A[ye]?A.K(j,X,u(ce)?!!ce.capture:!1,Ee):Ne(A,j,X,!1,ce,Ee)}function Ne(A,j,X,ce,Ee,je){if(!j)throw Error("Invalid event type");var Et=u(Ee)?!!Ee.capture:!!Ee,fi=Se(A);if(fi||(A[te]=fi=new rt(A)),X=fi.add(j,X,ce,Et,je),X.proxy)return X;if(ce=Me(),X.proxy=ce,ce.src=A,ce.listener=X,A.addEventListener)ue||(Ee=Et),Ee===void 0&&(Ee=!1),A.addEventListener(j.toString(),ce,Ee);else if(A.attachEvent)A.attachEvent(ae(j.toString()),ce);else if(A.addListener&&A.removeListener)A.addListener(ce);else throw Error("addEventListener and attachEvent are unavailable.");return X}function Me(){function A(X){return j.call(A.src,A.listener,X)}const j=J;return A}function ct(A,j,X,ce,Ee){if(Array.isArray(j))for(var je=0;je<j.length;je++)ct(A,j[je],X,ce,Ee);else ce=u(ce)?!!ce.capture:!!ce,X=Ze(X),A&&A[ye]?(A=A.i,j=String(j).toString(),j in A.g&&(je=A.g[j],X=pt(je,X,ce,Ee),-1<X&&(Ge(je[X]),Array.prototype.splice.call(je,X,1),je.length==0&&(delete A.g[j],A.h--)))):A&&(A=Se(A))&&(j=A.g[j.toString()],A=-1,j&&(A=pt(j,X,ce,Ee)),(X=-1<A?j[A]:null)&&qe(X))}function qe(A){if(typeof A!="number"&&A&&!A.da){var j=A.src;if(j&&j[ye])ot(j.i,A);else{var X=A.type,ce=A.proxy;j.removeEventListener?j.removeEventListener(X,ce,A.capture):j.detachEvent?j.detachEvent(ae(X),ce):j.addListener&&j.removeListener&&j.removeListener(ce),(X=Se(j))?(ot(X,A),X.h==0&&(X.src=null,j[te]=null)):Ge(A)}}}function ae(A){return A in Oe?Oe[A]:Oe[A]="on"+A}function J(A,j){if(A.da)A=!0;else{j=new ie(j,this);var X=A.listener,ce=A.ha||A.src;A.fa&&qe(A),A=X.call(ce,j)}return A}function Se(A){return A=A[te],A instanceof rt?A:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ze(A){return typeof A=="function"?A:(A[Ae]||(A[Ae]=function(j){return A.handleEvent(j)}),A[Ae])}function Re(){le.call(this),this.i=new rt(this),this.M=this,this.F=null}_(Re,le),Re.prototype[ye]=!0,Re.prototype.removeEventListener=function(A,j,X,ce){ct(this,A,j,X,ce)};function lt(A,j){var X,ce=A.F;if(ce)for(X=[];ce;ce=ce.F)X.push(ce);if(A=A.M,ce=j.type||j,typeof j=="string")j=new pe(j,A);else if(j instanceof pe)j.target=j.target||A;else{var Ee=j;j=new pe(ce,A),U(j,Ee)}if(Ee=!0,X)for(var je=X.length-1;0<=je;je--){var Et=j.g=X[je];Ee=ut(Et,ce,!0,j)&&Ee}if(Et=j.g=A,Ee=ut(Et,ce,!0,j)&&Ee,Ee=ut(Et,ce,!1,j)&&Ee,X)for(je=0;je<X.length;je++)Et=j.g=X[je],Ee=ut(Et,ce,!1,j)&&Ee}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var A=this.i,j;for(j in A.g){for(var X=A.g[j],ce=0;ce<X.length;ce++)Ge(X[ce]);delete A.g[j],A.h--}}this.F=null},Re.prototype.K=function(A,j,X,ce){return this.i.add(String(A),j,!1,X,ce)},Re.prototype.L=function(A,j,X,ce){return this.i.add(String(A),j,!0,X,ce)};function ut(A,j,X,ce){if(j=A.i.g[String(j)],!j)return!0;j=j.concat();for(var Ee=!0,je=0;je<j.length;++je){var Et=j[je];if(Et&&!Et.da&&Et.capture==X){var fi=Et.listener,ir=Et.ha||Et.src;Et.fa&&ot(A.i,Et),Ee=fi.call(ir,ce)!==!1&&Ee}}return Ee&&!ce.defaultPrevented}function Dt(A,j,X){if(typeof A=="function")X&&(A=y(A,X));else if(A&&typeof A.handleEvent=="function")A=y(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:o.setTimeout(A,j||0)}function kt(A){A.g=Dt(()=>{A.g=null,A.i&&(A.i=!1,kt(A))},A.l);const j=A.h;A.h=null,A.m.apply(null,j)}class $e extends le{constructor(j,X){super(),this.m=j,this.l=X,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dt(A){le.call(this),this.h=A,this.g={}}_(dt,le);var wt=[];function At(A){L(A.g,function(j,X){this.g.hasOwnProperty(X)&&qe(j)},A),A.g={}}dt.prototype.N=function(){dt.aa.N.call(this),At(this)},dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vt=o.JSON.stringify,jt=o.JSON.parse,at=class{stringify(A){return o.JSON.stringify(A,void 0)}parse(A){return o.JSON.parse(A,void 0)}};function Lt(){}Lt.prototype.h=null;function ve(A){return A.h||(A.h=A.i())}function gt(){}var Fe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qe(){pe.call(this,"d")}_(Qe,pe);function xt(){pe.call(this,"c")}_(xt,pe);var _t={},Zt=null;function $n(){return Zt=Zt||new Re}_t.La="serverreachability";function zt(A){pe.call(this,_t.La,A)}_(zt,pe);function Qt(A){const j=$n();lt(j,new zt(j))}_t.STAT_EVENT="statevent";function St(A,j){pe.call(this,_t.STAT_EVENT,A),this.stat=j}_(St,pe);function Mt(A){const j=$n();lt(j,new St(j,A))}_t.Ma="timingevent";function kn(A,j){pe.call(this,_t.Ma,A),this.size=j}_(kn,pe);function vn(A,j){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){A()},j)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function Li(A,j,X,ce,Ee,je){A.info(function(){if(A.g)if(je)for(var Et="",fi=je.split("&"),ir=0;ir<fi.length;ir++){var Rn=fi[ir].split("=");if(1<Rn.length){var wr=Rn[0];Rn=Rn[1];var rs=wr.split("_");Et=2<=rs.length&&rs[1]=="type"?Et+(wr+"="+Rn+"&"):Et+(wr+"=redacted&")}}else Et=null;else Et=je;return"XMLHTTP REQ ("+ce+") [attempt "+Ee+"]: "+j+`
`+X+`
`+Et})}function Rs(A,j,X,ce,Ee,je,Et){A.info(function(){return"XMLHTTP RESP ("+ce+") [ attempt "+Ee+"]: "+j+`
`+X+`
`+je+" "+Et})}function $i(A,j,X,ce){A.info(function(){return"XMLHTTP TEXT ("+j+"): "+Vr(A,X)+(ce?" "+ce:"")})}function Fr(A,j){A.info(function(){return"TIMEOUT: "+j})}zn.prototype.info=function(){};function Vr(A,j){if(!A.g)return j;if(!j)return null;try{var X=JSON.parse(j);if(X){for(A=0;A<X.length;A++)if(Array.isArray(X[A])){var ce=X[A];if(!(2>ce.length)){var Ee=ce[1];if(Array.isArray(Ee)&&!(1>Ee.length)){var je=Ee[0];if(je!="noop"&&je!="stop"&&je!="close")for(var Et=1;Et<Ee.length;Et++)Ee[Et]=""}}}}return vt(X)}catch{return j}}var dn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},aa;function ll(){}_(ll,Lt),ll.prototype.g=function(){return new XMLHttpRequest},ll.prototype.i=function(){return{}},aa=new ll;function io(A,j,X,ce){this.j=A,this.i=j,this.l=X,this.R=ce||1,this.U=new dt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sd}function sd(){this.i=null,this.g="",this.h=!1}var Pc={},ro={};function cl(A,j,X){A.L=1,A.v=or(Ai(j)),A.m=X,A.P=!0,re(A,null)}function re(A,j){A.F=Date.now(),De(A),A.A=Ai(A.v);var X=A.A,ce=A.R;Array.isArray(ce)||(ce=[String(ce)]),Vl(X.i,"t",ce),A.C=0,X=A.j.J,A.h=new sd,A.g=Lo(A.j,X?j:null,!A.m),0<A.O&&(A.M=new $e(y(A.Y,A,A.g),A.O)),j=A.U,X=A.g,ce=A.ca;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&(wt[0]=Ee.toString()),Ee=wt);for(var je=0;je<Ee.length;je++){var Et=Be(X,Ee[je],ce||j.handleEvent,!1,j.h||j);if(!Et)break;j.g[Et.key]=Et}j=A.H?N(A.H):{},A.m?(A.u||(A.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,j)):(A.u="GET",A.g.ea(A.A,A.u,null,j)),Qt(),Li(A.i,A.u,A.A,A.l,A.R,A.m)}io.prototype.ca=function(A){A=A.target;const j=this.M;j&&Vs(A)==3?j.j():this.Y(A)},io.prototype.Y=function(A){try{if(A==this.g)e:{const rs=Vs(this.g);var j=this.g.Ba();const jr=this.g.Z();if(!(3>rs)&&(rs!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||rs!=4||j==7||(j==8||0>=jr?Qt(3):Qt(2)),st(this);var X=this.g.Z();this.X=X;t:if(_e(this)){var ce=Au(this.g);A="";var Ee=ce.length,je=Vs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ct(this),Tt(this);var Et="";break t}this.h.i=new o.TextDecoder}for(j=0;j<Ee;j++)this.h.h=!0,A+=this.h.i.decode(ce[j],{stream:!(je&&j==Ee-1)});ce.length=0,this.h.g+=A,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=X==200,Rs(this.i,this.u,this.A,this.l,this.R,rs,X),this.o){if(this.T&&!this.K){t:{if(this.g){var fi,ir=this.g;if((fi=ir.g?ir.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(fi)){var Rn=fi;break t}}Rn=null}if(X=Rn)$i(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rt(this,X);else{this.o=!1,this.s=3,Mt(12),Ct(this),Tt(this);break e}}if(this.P){X=!0;let ca;for(;!this.J&&this.C<Et.length;)if(ca=Le(this,Et),ca==ro){rs==4&&(this.s=4,Mt(14),X=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(ca==Pc){this.s=4,Mt(15),$i(this.i,this.l,Et,"[Invalid Chunk]"),X=!1;break}else $i(this.i,this.l,ca,null),Rt(this,ca);if(_e(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rs!=4||Et.length!=0||this.h.h||(this.s=1,Mt(16),X=!1),this.o=this.o&&X,!X)$i(this.i,this.l,Et,"[Invalid Chunked Response]"),Ct(this),Tt(this);else if(0<Et.length&&!this.W){this.W=!0;var wr=this.j;wr.g==this&&wr.ba&&!wr.M&&(wr.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),Hf(wr),wr.M=!0,Mt(11))}}else $i(this.i,this.l,Et,null),Rt(this,Et);rs==4&&Ct(this),this.o&&!this.J&&(rs==4?hd(this.j,this):(this.o=!1,De(this)))}else py(this.g),X==400&&0<Et.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Ct(this),Tt(this)}}}catch{}finally{}};function _e(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function Le(A,j){var X=A.C,ce=j.indexOf(`
`,X);return ce==-1?ro:(X=Number(j.substring(X,ce)),isNaN(X)?Pc:(ce+=1,ce+X>j.length?ro:(j=j.slice(ce,ce+X),A.C=ce+X,j)))}io.prototype.cancel=function(){this.J=!0,Ct(this)};function De(A){A.S=Date.now()+A.I,xe(A,A.I)}function xe(A,j){if(A.B!=null)throw Error("WatchDog timer not null");A.B=vn(y(A.ba,A),j)}function st(A){A.B&&(o.clearTimeout(A.B),A.B=null)}io.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(Fr(this.i,this.A),this.L!=2&&(Qt(),Mt(17)),Ct(this),this.s=2,Tt(this)):xe(this,this.S-A)};function Tt(A){A.j.G==0||A.J||hd(A.j,A)}function Ct(A){st(A);var j=A.M;j&&typeof j.ma=="function"&&j.ma(),A.M=null,At(A.U),A.g&&(j=A.g,A.g=null,j.abort(),j.ma())}function Rt(A,j){try{var X=A.j;if(X.G!=0&&(X.g==A||Ln(X.h,A))){if(!A.K&&Ln(X.h,A)&&X.G==3){try{var ce=X.Da.g.parse(j)}catch{ce=null}if(Array.isArray(ce)&&ce.length==3){var Ee=ce;if(Ee[0]==0){e:if(!X.u){if(X.g)if(X.g.F+3e3<A.F)Wl(X),Lc(X);else break e;Vf(X),Mt(18)}}else X.za=Ee[1],0<X.za-X.T&&37500>Ee[2]&&X.F&&X.v==0&&!X.C&&(X.C=vn(y(X.Za,X),6e3));if(1>=Bn(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else $l(X,11)}else if((A.K||X.g==A)&&Wl(X),!w(j))for(Ee=X.Da.g.parse(j),j=0;j<Ee.length;j++){let Rn=Ee[j];if(X.T=Rn[0],Rn=Rn[1],X.G==2)if(Rn[0]=="c"){X.K=Rn[1],X.ia=Rn[2];const wr=Rn[3];wr!=null&&(X.la=wr,X.j.info("VER="+X.la));const rs=Rn[4];rs!=null&&(X.Aa=rs,X.j.info("SVER="+X.Aa));const jr=Rn[5];jr!=null&&typeof jr=="number"&&0<jr&&(ce=1.5*jr,X.L=ce,X.j.info("backChannelRequestTimeoutMs_="+ce)),ce=X;const ca=A.g;if(ca){const Uc=ca.g?ca.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uc){var je=ce.h;je.g||Uc.indexOf("spdy")==-1&&Uc.indexOf("quic")==-1&&Uc.indexOf("h2")==-1||(je.j=je.l,je.g=new Set,je.h&&(bi(je,je.h),je.h=null))}if(ce.D){const Yl=ca.g?ca.g.getResponseHeader("X-HTTP-Session-Id"):null;Yl&&(ce.ya=Yl,cn(ce.I,ce.D,Yl))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-A.F,X.j.info("Handshake RTT: "+X.R+"ms")),ce=X;var Et=A;if(ce.qa=cm(ce,ce.J?ce.ia:null,ce.W),Et.K){Wn(ce.h,Et);var fi=Et,ir=ce.L;ir&&(fi.I=ir),fi.B&&(st(fi),De(fi)),ce.g=Et}else om(ce);0<X.i.length&&Bf(X)}else Rn[0]!="stop"&&Rn[0]!="close"||$l(X,7);else X.G==3&&(Rn[0]=="stop"||Rn[0]=="close"?Rn[0]=="stop"?$l(X,7):cd(X):Rn[0]!="noop"&&X.l&&X.l.ta(Rn),X.v=0)}}Qt(4)}catch{}}var sn=class{constructor(A,j){this.g=A,this.map=j}};function Jt(A){this.l=A||10,o.PerformanceNavigationTiming?(A=o.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function Bn(A){return A.h?1:A.g?A.g.size:0}function Ln(A,j){return A.h?A.h==j:A.g?A.g.has(j):!1}function bi(A,j){A.g?A.g.add(j):A.h=j}function Wn(A,j){A.h&&A.h==j?A.h=null:A.g&&A.g.has(j)&&A.g.delete(j)}Jt.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function on(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let j=A.i;for(const X of A.g.values())j=j.concat(X.D);return j}return S(A.i)}function $t(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(c(A)){for(var j=[],X=A.length,ce=0;ce<X;ce++)j.push(A[ce]);return j}j=[],X=0;for(ce in A)j[X++]=A[ce];return j}function hr(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(c(A)||typeof A=="string"){var j=[];A=A.length;for(var X=0;X<A;X++)j.push(X);return j}j=[],X=0;for(const ce in A)j[X++]=ce;return j}}}function Gn(A,j){if(A.forEach&&typeof A.forEach=="function")A.forEach(j,void 0);else if(c(A)||typeof A=="string")Array.prototype.forEach.call(A,j,void 0);else for(var X=hr(A),ce=$t(A),Ee=ce.length,je=0;je<Ee;je++)j.call(void 0,ce[je],X&&X[je],A)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(A,j){if(A){A=A.split("&");for(var X=0;X<A.length;X++){var ce=A[X].indexOf("="),Ee=null;if(0<=ce){var je=A[X].substring(0,ce);Ee=A[X].substring(ce+1)}else je=A[X];j(je,Ee?decodeURIComponent(Ee.replace(/\+/g," ")):"")}}}function nr(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof nr){this.h=A.h,ei(this,A.j),this.o=A.o,this.g=A.g,Er(this,A.s),this.l=A.l;var j=A.i,X=new ul;X.i=j.i,j.g&&(X.g=new Map(j.g),X.h=j.h),Hr(this,X),this.m=A.m}else A&&(j=String(A).match(ms))?(this.h=!1,ei(this,j[1]||"",!0),this.o=Os(j[2]||""),this.g=Os(j[3]||"",!0),Er(this,j[4]),this.l=Os(j[5]||"",!0),Hr(this,j[6]||"",!0),this.m=Os(j[7]||"")):(this.h=!1,this.i=new ul(null,this.h))}nr.prototype.toString=function(){var A=[],j=this.j;j&&A.push(Tr(j,Eu,!0),":");var X=this.g;return(X||j=="file")&&(A.push("//"),(j=this.o)&&A.push(Tr(j,Eu,!0),"@"),A.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.s,X!=null&&A.push(":",String(X))),(X=this.l)&&(this.g&&X.charAt(0)!="/"&&A.push("/"),A.push(Tr(X,X.charAt(0)=="/"?Lf:nm,!0))),(X=this.i.toString())&&A.push("?",X),(X=this.m)&&A.push("#",Tr(X,dy)),A.join("")};function Ai(A){return new nr(A)}function ei(A,j,X){A.j=X?Os(j,!0):j,A.j&&(A.j=A.j.replace(/:$/,""))}function Er(A,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);A.s=j}else A.s=null}function Hr(A,j,X){j instanceof ul?(A.i=j,im(A.i,A.h)):(X||(j=Tr(j,hy)),A.i=new ul(j,A.h))}function cn(A,j,X){A.i.set(j,X)}function or(A){return cn(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function Os(A,j){return A?j?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function Tr(A,j,X){return typeof A=="string"?(A=encodeURI(A).replace(j,ad),X&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function ad(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var Eu=/[#\/\?@]/g,nm=/[#\?:]/g,Lf=/[#\?]/g,hy=/[#\?@]/g,dy=/#/g;function ul(A,j){this.h=this.g=null,this.i=A||null,this.j=!!j}function is(A){A.g||(A.g=new Map,A.h=0,A.i&&oa(A.i,function(j,X){A.add(decodeURIComponent(j.replace(/\+/g," ")),X)}))}n=ul.prototype,n.add=function(A,j){is(this),this.i=null,A=la(this,A);var X=this.g.get(A);return X||this.g.set(A,X=[]),X.push(j),this.h+=1,this};function Tu(A,j){is(A),j=la(A,j),A.g.has(j)&&(A.i=null,A.h-=A.g.get(j).length,A.g.delete(j))}function Uf(A,j){return is(A),j=la(A,j),A.g.has(j)}n.forEach=function(A,j){is(this),this.g.forEach(function(X,ce){X.forEach(function(Ee){A.call(j,Ee,ce,this)},this)},this)},n.na=function(){is(this);const A=Array.from(this.g.values()),j=Array.from(this.g.keys()),X=[];for(let ce=0;ce<j.length;ce++){const Ee=A[ce];for(let je=0;je<Ee.length;je++)X.push(j[ce])}return X},n.V=function(A){is(this);let j=[];if(typeof A=="string")Uf(this,A)&&(j=j.concat(this.g.get(la(this,A))));else{A=Array.from(this.g.values());for(let X=0;X<A.length;X++)j=j.concat(A[X])}return j},n.set=function(A,j){return is(this),this.i=null,A=la(this,A),Uf(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[j]),this.h+=1,this},n.get=function(A,j){return A?(A=this.V(A),0<A.length?String(A[0]):j):j};function Vl(A,j,X){Tu(A,j),0<X.length&&(A.i=null,A.g.set(la(A,j),S(X)),A.h+=X.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],j=Array.from(this.g.keys());for(var X=0;X<j.length;X++){var ce=j[X];const je=encodeURIComponent(String(ce)),Et=this.V(ce);for(ce=0;ce<Et.length;ce++){var Ee=je;Et[ce]!==""&&(Ee+="="+encodeURIComponent(String(Et[ce]))),A.push(Ee)}}return this.i=A.join("&")};function la(A,j){return j=String(j),A.j&&(j=j.toLowerCase()),j}function im(A,j){j&&!A.j&&(is(A),A.i=null,A.g.forEach(function(X,ce){var Ee=ce.toLowerCase();ce!=Ee&&(Tu(this,ce),Vl(this,Ee,X))},A)),A.j=j}function od(A,j){const X=new zn;if(o.Image){const ce=new Image;ce.onload=v(Fs,X,"TestLoadImage: loaded",!0,j,ce),ce.onerror=v(Fs,X,"TestLoadImage: error",!1,j,ce),ce.onabort=v(Fs,X,"TestLoadImage: abort",!1,j,ce),ce.ontimeout=v(Fs,X,"TestLoadImage: timeout",!1,j,ce),o.setTimeout(function(){ce.ontimeout&&ce.ontimeout()},1e4),ce.src=A}else j(!1)}function rm(A,j){const X=new zn,ce=new AbortController,Ee=setTimeout(()=>{ce.abort(),Fs(X,"TestPingServer: timeout",!1,j)},1e4);fetch(A,{signal:ce.signal}).then(je=>{clearTimeout(Ee),je.ok?Fs(X,"TestPingServer: ok",!0,j):Fs(X,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(Ee),Fs(X,"TestPingServer: error",!1,j)})}function Fs(A,j,X,ce,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),ce(X)}catch{}}function No(){this.g=new at}function ld(A,j,X){const ce=X||"";try{Gn(A,function(Ee,je){let Et=Ee;u(Ee)&&(Et=vt(Ee)),j.push(ce+je+"="+encodeURIComponent(Et))})}catch(Ee){throw j.push(ce+"type="+encodeURIComponent("_badmap")),Ee}}function Hl(A){this.l=A.Ub||null,this.j=A.eb||!1}_(Hl,Lt),Hl.prototype.g=function(){return new so(this.l,this.j)},Hl.prototype.i=(function(A){return function(){return A}})({});function so(A,j){Re.call(this),this.D=A,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(so,Re),n=so.prototype,n.open=function(A,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=j,this.readyState=1,jl(this)},n.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(j.body=A),(this.D||o).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ma(this)),this.readyState=0},n.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,jl(this)),this.g&&(this.readyState=3,jl(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kf(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function kf(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}n.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var j=A.value?A.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!A.done}))&&(this.response=this.responseText+=j)}A.done?Ma(this):jl(this),this.readyState==3&&kf(this)}},n.Ra=function(A){this.g&&(this.response=this.responseText=A,Ma(this))},n.Qa=function(A){this.g&&(this.response=A,Ma(this))},n.ga=function(){this.g&&Ma(this)};function Ma(A){A.readyState=4,A.l=null,A.j=null,A.v=null,jl(A)}n.setRequestHeader=function(A,j){this.u.append(A,j)},n.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],j=this.h.entries();for(var X=j.next();!X.done;)X=X.value,A.push(X[0]+": "+X[1]),X=j.next();return A.join(`\r
`)};function jl(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(so.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Gl(A){let j="";return L(A,function(X,ce){j+=ce,j+=":",j+=X,j+=`\r
`}),j}function Dc(A,j,X){e:{for(ce in X){var ce=!1;break e}ce=!0}ce||(X=Gl(X),typeof A=="string"?X!=null&&encodeURIComponent(String(X)):cn(A,j,X))}function Vi(A){Re.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Vi,Re);var gs=/^https?$/i,ql=["POST","PUT"];n=Vi.prototype,n.Ha=function(A){this.J=A},n.ea=function(A,j,X,ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);j=j?j.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():aa.g(),this.v=this.o?ve(this.o):ve(aa),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(j,String(A),!0),this.B=!1}catch(je){wu(this,je);return}if(A=X||"",X=new Map(this.headers),ce)if(Object.getPrototypeOf(ce)===Object.prototype)for(var Ee in ce)X.set(Ee,ce[Ee]);else if(typeof ce.keys=="function"&&typeof ce.get=="function")for(const je of ce.keys())X.set(je,ce.get(je));else throw Error("Unknown input type for opt_headers: "+String(ce));ce=Array.from(X.keys()).find(je=>je.toLowerCase()=="content-type"),Ee=o.FormData&&A instanceof o.FormData,!(0<=Array.prototype.indexOf.call(ql,j,void 0))||ce||Ee||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[je,Et]of X)this.g.setRequestHeader(je,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cu(this),this.u=!0,this.g.send(A),this.u=!1}catch(je){wu(this,je)}};function wu(A,j){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=j,A.m=5,Ra(A),Nc(A)}function Ra(A){A.A||(A.A=!0,lt(A,"complete"),lt(A,"error"))}n.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,lt(this,"complete"),lt(this,"abort"),Nc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nc(this,!0)),Vi.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?zf(this):this.bb())},n.bb=function(){zf(this)};function zf(A){if(A.h&&typeof a<"u"&&(!A.v[1]||Vs(A)!=4||A.Z()!=2)){if(A.u&&Vs(A)==4)Dt(A.Ea,0,A);else if(lt(A,"readystatechange"),Vs(A)==4){A.h=!1;try{const Et=A.Z();e:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var X;if(!(X=j)){var ce;if(ce=Et===0){var Ee=String(A.D).match(ms)[1]||null;!Ee&&o.self&&o.self.location&&(Ee=o.self.location.protocol.slice(0,-1)),ce=!gs.test(Ee?Ee.toLowerCase():"")}X=ce}if(X)lt(A,"complete"),lt(A,"success");else{A.m=6;try{var je=2<Vs(A)?A.g.statusText:""}catch{je=""}A.l=je+" ["+A.Z()+"]",Ra(A)}}finally{Nc(A)}}}}function Nc(A,j){if(A.g){Cu(A);const X=A.g,ce=A.v[0]?()=>{}:null;A.g=null,A.v=null,j||lt(A,"ready");try{X.onreadystatechange=ce}catch{}}}function Cu(A){A.I&&(o.clearTimeout(A.I),A.I=null)}n.isActive=function(){return!!this.g};function Vs(A){return A.g?A.g.readyState:0}n.Z=function(){try{return 2<Vs(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(A){if(this.g){var j=this.g.responseText;return A&&j.indexOf(A)==0&&(j=j.substring(A.length)),jt(j)}};function Au(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function py(A){const j={};A=(A.g&&2<=Vs(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let ce=0;ce<A.length;ce++){if(w(A[ce]))continue;var X=V(A[ce]);const Ee=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const je=j[Ee]||[];j[Ee]=je,je.push(X)}I(j,function(ce){return ce.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(A,j,X){return X&&X.internalChannelParams&&X.internalChannelParams[A]||j}function sm(A){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,A),this.cb=lr("retryDelaySeedMs",1e4,A),this.Wa=lr("forwardChannelMaxRetries",2,A),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new Jt(A&&A.concurrentRequestLimit),this.Da=new No,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=sm.prototype,n.la=8,n.G=1,n.connect=function(A,j,X,ce){Mt(0),this.W=A,this.H=j||{},X&&ce!==void 0&&(this.H.OSID=X,this.H.OAID=ce),this.F=this.X,this.I=cm(this,null,this.W),Bf(this)};function cd(A){if(am(A),A.G==3){var j=A.U++,X=Ai(A.I);if(cn(X,"SID",A.K),cn(X,"RID",j),cn(X,"TYPE","terminate"),Mu(A,X),j=new io(A,A.j,j),j.L=2,j.v=or(Ai(X)),X=!1,o.navigator&&o.navigator.sendBeacon)try{X=o.navigator.sendBeacon(j.v.toString(),"")}catch{}!X&&o.Image&&(new Image().src=j.v,X=!0),X||(j.g=Lo(j.j,null),j.g.ea(j.v)),j.F=Date.now(),De(j)}jf(A)}function Lc(A){A.g&&(Hf(A),A.g.cancel(),A.g=null)}function am(A){Lc(A),A.u&&(o.clearTimeout(A.u),A.u=null),Wl(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&o.clearTimeout(A.s),A.s=null)}function Bf(A){if(!Gt(A.h)&&!A.s){A.s=!0;var j=A.Ga;$||de(),Q||($(),Q=!0),se.add(j,A),A.B=0}}function Ff(A,j){return Bn(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=j.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=vn(y(A.Ga,A,j),dd(A,A.B)),A.B++,!0)}n.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const Ee=new io(this,this.j,A);let je=this.o;if(this.S&&(je?(je=N(je),U(je,this.S)):je=this.S),this.m!==null||this.O||(Ee.H=je,je=null),this.P)e:{for(var j=0,X=0;X<this.i.length;X++){t:{var ce=this.i[X];if("__data__"in ce.map&&(ce=ce.map.__data__,typeof ce=="string")){ce=ce.length;break t}ce=void 0}if(ce===void 0)break;if(j+=ce,4096<j){j=X;break e}if(j===4096||X===this.i.length-1){j=X+1;break e}}j=1e3}else j=1e3;j=fd(this,Ee,j),X=Ai(this.I),cn(X,"RID",A),cn(X,"CVER",22),this.D&&cn(X,"X-HTTP-Session-Id",this.D),Mu(this,X),je&&(this.O?j="headers="+encodeURIComponent(String(Gl(je)))+"&"+j:this.m&&Dc(X,this.m,je)),bi(this.h,Ee),this.Ua&&cn(X,"TYPE","init"),this.P?(cn(X,"$req",j),cn(X,"SID","null"),Ee.T=!0,cl(Ee,X,null)):cl(Ee,X,j),this.G=2}}else this.G==3&&(A?ud(this,A):this.i.length==0||Gt(this.h)||ud(this))};function ud(A,j){var X;j?X=j.l:X=A.U++;const ce=Ai(A.I);cn(ce,"SID",A.K),cn(ce,"RID",X),cn(ce,"AID",A.T),Mu(A,ce),A.m&&A.o&&Dc(ce,A.m,A.o),X=new io(A,A.j,X,A.B+1),A.m===null&&(X.H=A.o),j&&(A.i=j.D.concat(A.i)),j=fd(A,X,1e3),X.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),bi(A.h,X),cl(X,ce,j)}function Mu(A,j){A.H&&L(A.H,function(X,ce){cn(j,ce,X)}),A.l&&Gn({},function(X,ce){cn(j,ce,X)})}function fd(A,j,X){X=Math.min(A.i.length,X);var ce=A.l?y(A.l.Na,A.l,A):null;e:{var Ee=A.i;let je=-1;for(;;){const Et=["count="+X];je==-1?0<X?(je=Ee[0].g,Et.push("ofs="+je)):je=0:Et.push("ofs="+je);let fi=!0;for(let ir=0;ir<X;ir++){let Rn=Ee[ir].g;const wr=Ee[ir].map;if(Rn-=je,0>Rn)je=Math.max(0,Ee[ir].g-100),fi=!1;else try{ld(wr,Et,"req"+Rn+"_")}catch{ce&&ce(wr)}}if(fi){ce=Et.join("&");break e}}}return A=A.i.splice(0,X),j.D=A,ce}function om(A){if(!A.g&&!A.u){A.Y=1;var j=A.Fa;$||de(),Q||($(),Q=!0),se.add(j,A),A.v=0}}function Vf(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=vn(y(A.Fa,A),dd(A,A.v)),A.v++,!0)}n.Fa=function(){if(this.u=null,lm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=vn(y(this.ab,this),A)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Lc(this),lm(this))};function Hf(A){A.A!=null&&(o.clearTimeout(A.A),A.A=null)}function lm(A){A.g=new io(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var j=Ai(A.qa);cn(j,"RID","rpc"),cn(j,"SID",A.K),cn(j,"AID",A.T),cn(j,"CI",A.F?"0":"1"),!A.F&&A.ja&&cn(j,"TO",A.ja),cn(j,"TYPE","xmlhttp"),Mu(A,j),A.m&&A.o&&Dc(j,A.m,A.o),A.L&&(A.g.I=A.L);var X=A.g;A=A.ia,X.L=1,X.v=or(Ai(j)),X.m=null,X.P=!0,re(X,A)}n.Za=function(){this.C!=null&&(this.C=null,Lc(this),Vf(this),Mt(19))};function Wl(A){A.C!=null&&(o.clearTimeout(A.C),A.C=null)}function hd(A,j){var X=null;if(A.g==j){Wl(A),Hf(A),A.g=null;var ce=2}else if(Ln(A.h,j))X=j.D,Wn(A.h,j),ce=1;else return;if(A.G!=0){if(j.o)if(ce==1){X=j.m?j.m.length:0,j=Date.now()-j.F;var Ee=A.B;ce=$n(),lt(ce,new kn(ce,X)),Bf(A)}else om(A);else if(Ee=j.s,Ee==3||Ee==0&&0<j.X||!(ce==1&&Ff(A,j)||ce==2&&Vf(A)))switch(X&&0<X.length&&(j=A.h,j.i=j.i.concat(X)),Ee){case 1:$l(A,5);break;case 4:$l(A,10);break;case 3:$l(A,6);break;default:$l(A,2)}}}function dd(A,j){let X=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(X*=2),X*j}function $l(A,j){if(A.j.info("Error code "+j),j==2){var X=y(A.fb,A),ce=A.Xa;const Ee=!ce;ce=new nr(ce||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ei(ce,"https"),or(ce),Ee?od(ce.toString(),X):rm(ce.toString(),X)}else Mt(2);A.G=0,A.l&&A.l.sa(j),jf(A),am(A)}n.fb=function(A){A?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function jf(A){if(A.G=0,A.ka=[],A.l){const j=on(A.h);(j.length!=0||A.i.length!=0)&&(E(A.ka,j),E(A.ka,A.i),A.h.i.length=0,S(A.i),A.i.length=0),A.l.ra()}}function cm(A,j,X){var ce=X instanceof nr?Ai(X):new nr(X);if(ce.g!="")j&&(ce.g=j+"."+ce.g),Er(ce,ce.s);else{var Ee=o.location;ce=Ee.protocol,j=j?j+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;var je=new nr(null);ce&&ei(je,ce),j&&(je.g=j),Ee&&Er(je,Ee),X&&(je.l=X),ce=je}return X=A.D,j=A.ya,X&&j&&cn(ce,X,j),cn(ce,"VER",A.la),Mu(A,ce),ce}function Lo(A,j,X){if(j&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=A.Ca&&!A.pa?new Vi(new Hl({eb:X})):new Vi(A.pa),j.Ha(A.J),j}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pd(){}n=pd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function md(){}md.prototype.g=function(A,j){return new Hs(A,j)};function Hs(A,j){Re.call(this),this.g=new sm(j),this.l=A,this.h=j&&j.messageUrlParams||null,A=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(A?A["X-WebChannel-Content-Type"]=j.messageContentType:A={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(A?A["X-WebChannel-Client-Profile"]=j.va:A={"X-WebChannel-Client-Profile":j.va}),this.g.S=A,(A=j&&j.Sb)&&!w(A)&&(this.g.m=A),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!w(j)&&(this.g.D=j,A=this.h,A!==null&&j in A&&(A=this.h,j in A&&delete A[j])),this.j=new Xl(this)}_(Hs,Re),Hs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hs.prototype.close=function(){cd(this.g)},Hs.prototype.o=function(A){var j=this.g;if(typeof A=="string"){var X={};X.__data__=A,A=X}else this.u&&(X={},X.__data__=vt(A),A=X);j.i.push(new sn(j.Ya++,A)),j.G==3&&Bf(j)},Hs.prototype.N=function(){this.g.l=null,delete this.j,cd(this.g),delete this.g,Hs.aa.N.call(this)};function fl(A){Qe.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var j=A.__sm__;if(j){e:{for(const X in j){A=X;break e}A=void 0}(this.i=A)&&(A=this.i,j=j!==null&&A in j?j[A]:void 0),this.data=j}else this.data=A}_(fl,Qe);function Uo(){xt.call(this),this.status=1}_(Uo,xt);function Xl(A){this.g=A}_(Xl,pd),Xl.prototype.ua=function(){lt(this.g,"a")},Xl.prototype.ta=function(A){lt(this.g,new fl(A))},Xl.prototype.sa=function(A){lt(this.g,new Uo)},Xl.prototype.ra=function(){lt(this.g,"b")},md.prototype.createWebChannel=md.prototype.g,Hs.prototype.send=Hs.prototype.o,Hs.prototype.open=Hs.prototype.m,Hs.prototype.close=Hs.prototype.close,FV=function(){return new md},BV=function(){return $n()},zV=_t,lI={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dn.NO_ERROR=0,dn.TIMEOUT=8,dn.HTTP_ERROR=6,kw=dn,fr.COMPLETE="complete",kV=fr,gt.EventType=Fe,Fe.OPEN="a",Fe.CLOSE="b",Fe.ERROR="c",Fe.MESSAGE="d",Re.prototype.listen=Re.prototype.K,_b=gt,Vi.prototype.listenOnce=Vi.prototype.L,Vi.prototype.getLastError=Vi.prototype.Ka,Vi.prototype.getLastErrorCode=Vi.prototype.Ba,Vi.prototype.getStatus=Vi.prototype.Z,Vi.prototype.getResponseJson=Vi.prototype.Oa,Vi.prototype.getResponseText=Vi.prototype.oa,Vi.prototype.send=Vi.prototype.ea,Vi.prototype.setWithCredentials=Vi.prototype.Ha,UV=Vi}).apply(typeof ZE<"u"?ZE:typeof self<"u"?self:typeof window<"u"?window:{});const IU="@firebase/firestore",PU="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xa.UNAUTHENTICATED=new Xa(null),Xa.GOOGLE_CREDENTIALS=new Xa("google-credentials-uid"),Xa.FIRST_PARTY=new Xa("first-party-uid"),Xa.MOCK_USER=new Xa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a_="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=new fD("@firebase/firestore");function Xv(){return Wg.logLevel}function Ft(n,...e){if(Wg.logLevel<=ri.DEBUG){const t=e.map(pD);Wg.debug(`Firestore (${a_}): ${n}`,...t)}}function jh(n,...e){if(Wg.logLevel<=ri.ERROR){const t=e.map(pD);Wg.error(`Firestore (${a_}): ${n}`,...t)}}function Ip(n,...e){if(Wg.logLevel<=ri.WARN){const t=e.map(pD);Wg.warn(`Firestore (${a_}): ${n}`,...t)}}function pD(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,VV(n,i,t)}function VV(n,e,t){let i=`FIRESTORE (${a_}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw jh(i),new Error(i)}function zr(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||VV(e,r,i)}function gi(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bt extends id{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xa.UNAUTHENTICATED)))}shutdown(){}}class UQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class kQ{constructor(e){this.t=e,this.currentUser=Xa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){zr(this.o===void 0,42304);let i=this.i;const r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new Cp;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cp,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await r(this.currentUser)}))},o=c=>{Ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>o(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cp)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(zr(typeof i.accessToken=="string",31837,{l:i}),new HV(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zr(e===null||typeof e=="string",2055,{h:e}),new Xa(e)}}class zQ{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Xa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BQ{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new zQ(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Xa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FQ{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,df(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){zr(this.o===void 0,3512);const i=s=>{s.error!=null&&Ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Ft("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>i(s)))};const r=s=>{Ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>r(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DU(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(zr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new DU(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=VQ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}}function Kn(n,e){return n<e?-1:n>e?1:0}function cI(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Kn(i,r);{const s=jV(),a=HQ(s.encode(NU(n,t)),s.encode(NU(e,t)));return a!==0?a:Kn(i,r)}}t+=i>65535?2:1}return Kn(n.length,e.length)}function NU(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function HQ(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Kn(n[t],e[t]);return Kn(n.length,e.length)}function S0(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU="__name__";class lf{constructor(e,t,i){t===void 0?t=0:t>e.length&&Mn(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Mn(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return lf.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lf?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=lf.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return Kn(e.length,t.length)}static compareSegments(e,t){const i=lf.isNumericId(e),r=lf.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?lf.extractNumericId(e).compare(lf.extractNumericId(t)):cI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wp.fromString(e.substring(4,e.length-2))}}class sr extends lf{construct(e,t,i){return new sr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Bt(mt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new sr(t)}static emptyPath(){return new sr([])}}const jQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ka extends lf{construct(e,t,i){return new Ka(e,t,i)}static isValidIdentifier(e){return jQ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ka.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LU}static keyField(){return new Ka([LU])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Bt(mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const o=e[r];if(o==="\\"){if(r+1===e.length)throw new Bt(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Bt(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else o==="`"?(a=!a,r++):o!=="."||a?(i+=o,r++):(s(),r++)}if(s(),a)throw new Bt(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ka(t)}static emptyPath(){return new Ka([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.path=e}static fromPath(e){return new tn(sr.fromString(e))}static fromName(e){return new tn(sr.fromString(e).popFirst(5))}static empty(){return new tn(sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&sr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return sr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new sr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(n,e,t){if(!t)throw new Bt(mt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function GQ(n,e,t,i){if(e===!0&&i===!0)throw new Bt(mt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function UU(n){if(!tn.isDocumentKey(n))throw new Bt(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kU(n){if(tn.isDocumentKey(n))throw new Bt(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qV(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function eA(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Mn(12329,{type:typeof n})}function gx(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Bt(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=eA(n);throw new Bt(mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n,e){const t={typeString:n};return e&&(t.value=e),t}function lS(n,e){if(!qV(n))throw new Bt(mt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const a=n[i];if(r&&typeof a!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${i}' field to equal '${s.value}'`;break}}if(t)throw new Bt(mt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=-62135596800,BU=1e6;class xr{static now(){return xr.fromMillis(Date.now())}static fromDate(e){return xr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*BU);return new xr(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zU)throw new Bt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BU}_compareTo(e){return this.seconds===e.seconds?Kn(this.nanoseconds,e.nanoseconds):Kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lS(e,xr._jsonSchema))return new xr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xr._jsonSchemaVersion="firestore/timestamp/1.0",xr._jsonSchema={type:Ms("string",xr._jsonSchemaVersion),seconds:Ms("number"),nanoseconds:Ms("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{static fromTimestamp(e){return new Cn(e)}static min(){return new Cn(new xr(0,0))}static max(){return new Cn(new xr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=-1;function qQ(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Cn.fromTimestamp(i===1e9?new xr(t+1,0):new xr(t,i));return new Pp(r,tn.empty(),e)}function WQ(n){return new Pp(n.readTime,n.key,yx)}class Pp{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Pp(Cn.min(),tn.empty(),yx)}static max(){return new Pp(Cn.max(),tn.empty(),yx)}}function $Q(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=tn.comparator(n.documentKey,e.documentKey),t!==0?t:Kn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(n){if(n.code!==mt.FAILED_PRECONDITION||n.message!==XQ)throw n;Ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nt(((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof nt?t:nt.resolve(t)}catch(t){return nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.reject(t)}static resolve(e){return new nt(((t,i)=>{t(e)}))}static reject(e){return new nt(((t,i)=>{i(e)}))}static waitFor(e){return new nt(((t,i)=>{let r=0,s=0,a=!1;e.forEach((o=>{++r,o.next((()=>{++s,a&&s===r&&t()}),(c=>i(c)))})),a=!0,s===r&&t()}))}static or(e){let t=nt.resolve(!1);for(const i of e)t=t.next((r=>r?nt.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,s)=>{i.push(t.call(this,r,s))})),this.waitFor(i)}static mapArray(e,t){return new nt(((i,r)=>{const s=e.length,a=new Array(s);let o=0;for(let c=0;c<s;c++){const u=c;t(e[u]).next((h=>{a[u]=h,++o,o===s&&i(a)}),(h=>r(h)))}}))}static doWhile(e,t){return new nt(((i,r)=>{const s=()=>{e()===!0?t().next((()=>{s()}),r):i()};s()}))}}function KQ(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function o_(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}nA.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ=-1;function iA(n){return n==null}function g2(n){return n===0&&1/n==-1/0}function QQ(n){return typeof n=="number"&&Number.isInteger(n)&&!g2(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="";function JQ(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=FU(e)),e=eJ(n.get(t),e);return FU(e)}function eJ(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="";break;case WV:t+="";break;default:t+=s}}return t}function FU(n){return n+WV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function l_(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $V(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,t){this.comparator=e,this.root=t||_a.EMPTY}insert(e,t){return new ds(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_a.BLACK,null,null))}remove(e){return new ds(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_a.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new QE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new QE(this.root,e,this.comparator,!1)}getReverseIterator(){return new QE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new QE(this.root,e,this.comparator,!0)}}class QE{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _a{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??_a.RED,this.left=r??_a.EMPTY,this.right=s??_a.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new _a(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _a.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return _a.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_a.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Mn(27949);return e+(this.isRed()?0:1)}}_a.EMPTY=null,_a.RED=!0,_a.BLACK=!1;_a.EMPTY=new class{constructor(){this.size=0}get key(){throw Mn(57766)}get value(){throw Mn(16141)}get color(){throw Mn(16727)}get left(){throw Mn(29726)}get right(){throw Mn(36894)}copy(e,t,i,r,s){return this}insert(e,t,i){return new _a(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.comparator=e,this.data=new ds(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HU(this.data.getIterator())}getIteratorFrom(e){return new HU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof ks)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ks(this.comparator);return t.data=e,t}}class HU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.fields=e,e.sort(Ka.comparator)}static empty(){return new gp([])}unionWith(e){let t=new ks(Ka.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new gp(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return S0(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new XV("Invalid base64 string: "+s):s}})(e);return new Ca(t)}static fromUint8Array(e){const t=(function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s})(e);return new Ca(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ca.EMPTY_BYTE_STRING=new Ca("");const tJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dp(n){if(zr(!!n,39018),typeof n=="string"){let e=0;const t=tJ.exec(n);if(zr(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:us(n.seconds),nanos:us(n.nanos)}}function us(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Np(n){return typeof n=="string"?Ca.fromBase64String(n):Ca.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV="server_timestamp",KV="__type__",ZV="__previous_value__",QV="__local_write_time__";function gD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[KV])===null||t===void 0?void 0:t.stringValue)===YV}function rA(n){const e=n.mapValue.fields[ZV];return gD(e)?rA(e):e}function vx(n){const e=Dp(n.mapValue.fields[QV].timestampValue);return new xr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e,t,i,r,s,a,o,c,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const y2="(default)";class _x{constructor(e,t){this.projectId=e,this.database=t||y2}static empty(){return new _x("","")}get isDefaultDatabase(){return this.database===y2}isEqual(e){return e instanceof _x&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV="__type__",iJ="__max__",JE={mapValue:{}},e8="__vector__",v2="value";function Lp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gD(n)?4:sJ(n)?9007199254740991:rJ(n)?10:11:Mn(28295,{value:n})}function Of(n,e){if(n===e)return!0;const t=Lp(n);if(t!==Lp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vx(n).isEqual(vx(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Dp(r.timestampValue),o=Dp(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,s){return Np(r.bytesValue).isEqual(Np(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,s){return us(r.geoPointValue.latitude)===us(s.geoPointValue.latitude)&&us(r.geoPointValue.longitude)===us(s.geoPointValue.longitude)})(n,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return us(r.integerValue)===us(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=us(r.doubleValue),o=us(s.doubleValue);return a===o?g2(a)===g2(o):isNaN(a)&&isNaN(o)}return!1})(n,e);case 9:return S0(n.arrayValue.values||[],e.arrayValue.values||[],Of);case 10:case 11:return(function(r,s){const a=r.mapValue.fields||{},o=s.mapValue.fields||{};if(VU(a)!==VU(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!Of(a[c],o[c])))return!1;return!0})(n,e);default:return Mn(52216,{left:n})}}function bx(n,e){return(n.values||[]).find((t=>Of(t,e)))!==void 0}function E0(n,e){if(n===e)return 0;const t=Lp(n),i=Lp(e);if(t!==i)return Kn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kn(n.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=us(s.integerValue||s.doubleValue),c=us(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1})(n,e);case 3:return jU(n.timestampValue,e.timestampValue);case 4:return jU(vx(n),vx(e));case 5:return cI(n.stringValue,e.stringValue);case 6:return(function(s,a){const o=Np(s),c=Np(a);return o.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),c=a.split("/");for(let u=0;u<o.length&&u<c.length;u++){const h=Kn(o[u],c[u]);if(h!==0)return h}return Kn(o.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=Kn(us(s.latitude),us(a.latitude));return o!==0?o:Kn(us(s.longitude),us(a.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return GU(n.arrayValue,e.arrayValue);case 10:return(function(s,a){var o,c,u,h;const p=s.fields||{},y=a.fields||{},v=(o=p[v2])===null||o===void 0?void 0:o.arrayValue,_=(c=y[v2])===null||c===void 0?void 0:c.arrayValue,S=Kn(((u=v?.values)===null||u===void 0?void 0:u.length)||0,((h=_?.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:GU(v,_)})(n.mapValue,e.mapValue);case 11:return(function(s,a){if(s===JE.mapValue&&a===JE.mapValue)return 0;if(s===JE.mapValue)return 1;if(a===JE.mapValue)return-1;const o=s.fields||{},c=Object.keys(o),u=a.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const y=cI(c[p],h[p]);if(y!==0)return y;const v=E0(o[c[p]],u[h[p]]);if(v!==0)return v}return Kn(c.length,h.length)})(n.mapValue,e.mapValue);default:throw Mn(23264,{le:t})}}function jU(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Kn(n,e);const t=Dp(n),i=Dp(e),r=Kn(t.seconds,i.seconds);return r!==0?r:Kn(t.nanos,i.nanos)}function GU(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=E0(t[r],i[r]);if(s)return s}return Kn(t.length,i.length)}function T0(n){return uI(n)}function uI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Dp(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Np(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return tn.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=uI(s);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${uI(t.fields[a])}`;return r+"}"})(n.mapValue):Mn(61005,{value:n})}function zw(n){switch(Lp(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rA(n);return e?16+zw(e):16;case 5:return 2*n.stringValue.length;case 6:return Np(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,s)=>r+zw(s)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return l_(i.fields,((s,a)=>{r+=s.length+zw(a)})),r})(n.mapValue);default:throw Mn(13486,{value:n})}}function qU(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fI(n){return!!n&&"integerValue"in n}function yD(n){return!!n&&"arrayValue"in n}function WU(n){return!!n&&"nullValue"in n}function $U(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function LR(n){return!!n&&"mapValue"in n}function rJ(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[JV])===null||t===void 0?void 0:t.stringValue)===e8}function Bb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return l_(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Bb(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sJ(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===iJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.value=e}static empty(){return new pf({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!LR(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bb(t)}setAll(e){let t=Ka.emptyPath(),i={},r=[];e.forEach(((a,o)=>{if(!t.isImmediateParentOf(o)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=o.popLast()}a?i[o.lastSegment()]=Bb(a):r.push(o.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());LR(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Of(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];LR(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){l_(t,((r,s)=>e[r]=s));for(const r of i)delete e[r]}clone(){return new pf(Bb(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t,i,r,s,a,o){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ya(e,0,Cn.min(),Cn.min(),Cn.min(),pf.empty(),0)}static newFoundDocument(e,t,i,r){return new Ya(e,1,t,Cn.min(),i,r,0)}static newNoDocument(e,t){return new Ya(e,2,t,Cn.min(),Cn.min(),pf.empty(),0)}static newUnknownDocument(e,t){return new Ya(e,3,t,Cn.min(),Cn.min(),pf.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Cn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Cn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ya&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ya(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t){this.position=e,this.inclusive=t}}function XU(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(s.field.isKeyField()?i=tn.comparator(tn.fromName(a.referenceValue),t.key):i=E0(a,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function YU(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Of(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,t="asc"){this.field=e,this.dir=t}}function aJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{}class As extends t8{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new lJ(e,t,i):t==="array-contains"?new fJ(e,i):t==="in"?new hJ(e,i):t==="not-in"?new dJ(e,i):t==="array-contains-any"?new pJ(e,i):new As(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new cJ(e,i):new uJ(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(E0(t,this.value)):t!==null&&Lp(this.value)===Lp(t)&&this.matchesComparison(E0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Mn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yu extends t8{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new yu(e,t)}matches(e){return n8(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function n8(n){return n.op==="and"}function i8(n){return oJ(n)&&n8(n)}function oJ(n){for(const e of n.filters)if(e instanceof yu)return!1;return!0}function hI(n){if(n instanceof As)return n.field.canonicalString()+n.op.toString()+T0(n.value);if(i8(n))return n.filters.map((e=>hI(e))).join(",");{const e=n.filters.map((t=>hI(t))).join(",");return`${n.op}(${e})`}}function r8(n,e){return n instanceof As?(function(i,r){return r instanceof As&&i.op===r.op&&i.field.isEqual(r.field)&&Of(i.value,r.value)})(n,e):n instanceof yu?(function(i,r){return r instanceof yu&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((s,a,o)=>s&&r8(a,r.filters[o])),!0):!1})(n,e):void Mn(19439)}function s8(n){return n instanceof As?(function(t){return`${t.field.canonicalString()} ${t.op} ${T0(t.value)}`})(n):n instanceof yu?(function(t){return t.op.toString()+" {"+t.getFilters().map(s8).join(" ,")+"}"})(n):"Filter"}class lJ extends As{constructor(e,t,i){super(e,t,i),this.key=tn.fromName(i.referenceValue)}matches(e){const t=tn.comparator(e.key,this.key);return this.matchesComparison(t)}}class cJ extends As{constructor(e,t){super(e,"in",t),this.keys=a8("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class uJ extends As{constructor(e,t){super(e,"not-in",t),this.keys=a8("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function a8(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>tn.fromName(i.referenceValue)))}class fJ extends As{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yD(t)&&bx(t.arrayValue,this.value)}}class hJ extends As{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bx(this.value.arrayValue,t)}}class dJ extends As{constructor(e,t){super(e,"not-in",t)}matches(e){if(bx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!bx(this.value.arrayValue,t)}}class pJ extends As{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yD(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>bx(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(e,t=null,i=[],r=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=o,this.Pe=null}}function KU(n,e=null,t=[],i=[],r=null,s=null,a=null){return new mJ(n,e,t,i,r,s,a)}function vD(n){const e=gi(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>hI(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(s){return s.field.canonicalString()+s.dir})(i))).join(","),iA(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>T0(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>T0(i))).join(",")),e.Pe=t}return e.Pe}function _D(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!aJ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!r8(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YU(n.startAt,e.startAt)&&YU(n.endAt,e.endAt)}function dI(n){return tn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,t=null,i=[],r=[],s=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function gJ(n,e,t,i,r,s,a,o){return new cS(n,e,t,i,r,s,a,o)}function bD(n){return new cS(n)}function ZU(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function o8(n){return n.collectionGroup!==null}function Fb(n){const e=gi(n);if(e.Te===null){e.Te=[];const t=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new ks(Ka.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(o=o.add(u.field))}))})),o})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new b2(s,i))})),t.has(Ka.keyField().canonicalString())||e.Te.push(new b2(Ka.keyField(),i))}return e.Te}function xf(n){const e=gi(n);return e.Ie||(e.Ie=yJ(e,Fb(n))),e.Ie}function yJ(n,e){if(n.limitType==="F")return KU(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const s=r.dir==="desc"?"asc":"desc";return new b2(r.field,s)}));const t=n.endAt?new _2(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new _2(n.startAt.position,n.startAt.inclusive):null;return KU(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function pI(n,e){const t=n.filters.concat([e]);return new cS(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mI(n,e,t){return new cS(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sA(n,e){return _D(xf(n),xf(e))&&n.limitType===e.limitType}function l8(n){return`${vD(xf(n))}|lt:${n.limitType}`}function Yv(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>s8(r))).join(", ")}]`),iA(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>T0(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>T0(r))).join(",")),`Target(${i})`})(xf(n))}; limitType=${n.limitType})`}function aA(n,e){return e.isFoundDocument()&&(function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):tn.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)})(n,e)&&(function(i,r){for(const s of Fb(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(a,o,c){const u=XU(a,o,c);return a.inclusive?u<=0:u<0})(i.startAt,Fb(i),r)||i.endAt&&!(function(a,o,c){const u=XU(a,o,c);return a.inclusive?u>=0:u>0})(i.endAt,Fb(i),r))})(n,e)}function vJ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function c8(n){return(e,t)=>{let i=!1;for(const r of Fb(n)){const s=_J(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function _J(n,e,t){const i=n.field.isKeyField()?tn.comparator(e.key,t.key):(function(s,a,o){const c=a.data.field(s),u=o.data.field(s);return c!==null&&u!==null?E0(c,u):Mn(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Mn(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){l_(this.inner,((t,i)=>{for(const[r,s]of i)e(r,s)}))}isEmpty(){return $V(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bJ=new ds(tn.comparator);function Up(){return bJ}const u8=new ds(tn.comparator);function bb(...n){let e=u8;for(const t of n)e=e.insert(t.key,t);return e}function xJ(n){let e=u8;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Tg(){return Vb()}function f8(){return Vb()}function Vb(){return new iy((n=>n.toString()),((n,e)=>n.isEqual(e)))}const SJ=new ks(tn.comparator);function _i(...n){let e=SJ;for(const t of n)e=e.add(t);return e}const EJ=new ks(Kn);function TJ(){return EJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:g2(e)?"-0":e}}function h8(n){return{integerValue:""+n}}function wJ(n,e){return QQ(e)?h8(e):xD(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this._=void 0}}function CJ(n,e,t){return n instanceof gI?(function(r,s){const a={fields:{[KV]:{stringValue:YV},[QV]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&gD(s)&&(s=rA(s)),s&&(a.fields[ZV]=s),{mapValue:a}})(t,e):n instanceof x2?d8(n,e):n instanceof S2?p8(n,e):(function(r,s){const a=MJ(r,s),o=QU(a)+QU(r.Ee);return fI(a)&&fI(r.Ee)?h8(o):xD(r.serializer,o)})(n,e)}function AJ(n,e,t){return n instanceof x2?d8(n,e):n instanceof S2?p8(n,e):t}function MJ(n,e){return n instanceof yI?(function(i){return fI(i)||(function(s){return!!s&&"doubleValue"in s})(i)})(e)?e:{integerValue:0}:null}class gI extends oA{}class x2 extends oA{constructor(e){super(),this.elements=e}}function d8(n,e){const t=m8(e);for(const i of n.elements)t.some((r=>Of(r,i)))||t.push(i);return{arrayValue:{values:t}}}class S2 extends oA{constructor(e){super(),this.elements=e}}function p8(n,e){let t=m8(e);for(const i of n.elements)t=t.filter((r=>!Of(r,i)));return{arrayValue:{values:t}}}class yI extends oA{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function QU(n){return us(n.integerValue||n.doubleValue)}function m8(n){return yD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function RJ(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof x2&&r instanceof x2||i instanceof S2&&r instanceof S2?S0(i.elements,r.elements,Of):i instanceof yI&&r instanceof yI?Of(i.Ee,r.Ee):i instanceof gI&&r instanceof gI})(n.transform,e.transform)}class Pg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pg}static exists(e){return new Pg(void 0,e)}static updateTime(e){return new Pg(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bw(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class SD{}function g8(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new IJ(n.key,Pg.none()):new ED(n.key,n.data,Pg.none());{const t=n.data,i=pf.empty();let r=new ks(Ka.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new lA(n.key,i,new gp(r.toArray()),Pg.none())}}function OJ(n,e,t){n instanceof ED?(function(r,s,a){const o=r.value.clone(),c=e5(r.fieldTransforms,s,a.transformResults);o.setAll(c),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(n,e,t):n instanceof lA?(function(r,s,a){if(!Bw(r.precondition,s))return void s.convertToUnknownDocument(a.version);const o=e5(r.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(y8(r)),c.setAll(o),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(n,e,t):(function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function Hb(n,e,t,i){return n instanceof ED?(function(s,a,o,c){if(!Bw(s.precondition,a))return o;const u=s.value.clone(),h=t5(s.fieldTransforms,c,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null})(n,e,t,i):n instanceof lA?(function(s,a,o,c){if(!Bw(s.precondition,a))return o;const u=t5(s.fieldTransforms,c,a),h=a.data;return h.setAll(y8(s)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(n,e,t,i):(function(s,a,o){return Bw(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(n,e,t)}function JU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&S0(i,r,((s,a)=>RJ(s,a)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ED extends SD{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class lA extends SD{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function y8(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function e5(n,e,t){const i=new Map;zr(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,o=e.data.field(s.field);i.set(s.field,AJ(a,o,t[r]))}return i}function t5(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,CJ(s,a,e))}return i}class IJ extends SD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&OJ(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Hb(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Hb(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=f8();return this.mutations.forEach((r=>{const s=e.get(r.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=t.has(r.key)?null:o;const c=g8(a,o);c!==null&&i.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(Cn.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),_i())}isEqual(e){return this.batchId===e.batchId&&S0(this.mutations,e.mutations,((t,i)=>JU(t,i)))&&S0(this.baseMutations,e.baseMutations,((t,i)=>JU(t,i)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Es,hi;function v8(n){if(n===void 0)return jh("GRPC error has no .code"),mt.UNKNOWN;switch(n){case Es.OK:return mt.OK;case Es.CANCELLED:return mt.CANCELLED;case Es.UNKNOWN:return mt.UNKNOWN;case Es.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case Es.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case Es.INTERNAL:return mt.INTERNAL;case Es.UNAVAILABLE:return mt.UNAVAILABLE;case Es.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case Es.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case Es.NOT_FOUND:return mt.NOT_FOUND;case Es.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case Es.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case Es.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case Es.ABORTED:return mt.ABORTED;case Es.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case Es.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case Es.DATA_LOSS:return mt.DATA_LOSS;default:return Mn(39323,{code:n})}}(hi=Es||(Es={}))[hi.OK=0]="OK",hi[hi.CANCELLED=1]="CANCELLED",hi[hi.UNKNOWN=2]="UNKNOWN",hi[hi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hi[hi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hi[hi.NOT_FOUND=5]="NOT_FOUND",hi[hi.ALREADY_EXISTS=6]="ALREADY_EXISTS",hi[hi.PERMISSION_DENIED=7]="PERMISSION_DENIED",hi[hi.UNAUTHENTICATED=16]="UNAUTHENTICATED",hi[hi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hi[hi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hi[hi.ABORTED=10]="ABORTED",hi[hi.OUT_OF_RANGE=11]="OUT_OF_RANGE",hi[hi.UNIMPLEMENTED=12]="UNIMPLEMENTED",hi[hi.INTERNAL=13]="INTERNAL",hi[hi.UNAVAILABLE=14]="UNAVAILABLE",hi[hi.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LJ=new wp([4294967295,4294967295],0);function n5(n){const e=jV().encode(n),t=new LV;return t.update(e),new Uint8Array(t.digest())}function i5(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new wp([t,i],0),new wp([r,s],0)]}class TD{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new xb(`Invalid padding: ${t}`);if(i<0)throw new xb(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new xb(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new xb(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=wp.fromNumber(this.fe)}pe(e,t,i){let r=e.add(t.multiply(wp.fromNumber(i)));return r.compare(LJ)===1&&(r=new wp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=n5(e),[i,r]=i5(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);if(!this.ye(a))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new TD(s,r,t);return i.forEach((o=>a.insert(o))),a}insert(e){if(this.fe===0)return;const t=n5(e),[i,r]=i5(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);this.we(a)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class xb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,uS.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new cA(Cn.min(),r,new ds(Kn),Up(),_i())}}class uS{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new uS(i,t,_i(),_i(),_i())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t,i,r){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=r}}class _8{constructor(e,t){this.targetId=e,this.De=t}}class b8{constructor(e,t,i=Ca.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class r5{constructor(){this.ve=0,this.Ce=s5(),this.Fe=Ca.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=_i(),t=_i(),i=_i();return this.Ce.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Mn(38017,{changeType:s})}})),new uS(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=s5()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,zr(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class UJ{constructor(e){this.We=e,this.Ge=new Map,this.ze=Up(),this.je=eT(),this.Je=eT(),this.He=new ds(Kn)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:Mn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((i,r)=>{this.nt(r)&&t(r)}))}it(e){const t=e.targetId,i=e.De.count,r=this.st(t);if(r){const s=r.target;if(dI(s))if(i===0){const a=new tn(s.path);this.Xe(t,a,Ya.newNoDocument(a,Cn.min()))}else zr(i===1,20013,{expectedCount:i});else{const a=this.ot(t);if(a!==i){const o=this._t(e),c=o?this.ut(o,e,a):1;if(c!==0){this.rt(t);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let a,o;try{a=Np(i).toUint8Array()}catch(c){if(c instanceof XV)return Ip("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new TD(a,r,s)}catch(c){return Ip(c instanceof xb?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.fe===0?null:o}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let r=0;return i.forEach((s=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,s,null),r++)})),r}Pt(e){const t=new Map;this.Ge.forEach(((s,a)=>{const o=this.st(a);if(o){if(s.current&&dI(o.target)){const c=new tn(o.target.path);this.Tt(c).has(a)||this.It(a,c)||this.Xe(a,c,Ya.newNoDocument(c,e))}s.Ne&&(t.set(a,s.Le()),s.ke())}}));let i=_i();this.Je.forEach(((s,a)=>{let o=!0;a.forEachWhile((c=>{const u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(i=i.add(s))})),this.ze.forEach(((s,a)=>a.setReadTime(e)));const r=new cA(e,t,this.He,this.ze,i);return this.ze=Up(),this.je=eT(),this.Je=eT(),this.He=new ds(Kn),r}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new r5,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ks(Kn),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ks(Kn),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Ft("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new r5),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function eT(){return new ds(tn.comparator)}function s5(){return new ds(tn.comparator)}const kJ={asc:"ASCENDING",desc:"DESCENDING"},zJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BJ={and:"AND",or:"OR"};class FJ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vI(n,e){return n.useProto3Json||iA(e)?e:{value:e}}function _I(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x8(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function l0(n){return zr(!!n,49232),Cn.fromTimestamp((function(t){const i=Dp(t);return new xr(i.seconds,i.nanos)})(n))}function S8(n,e){return bI(n,e).canonicalString()}function bI(n,e){const t=(function(r){return new sr(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function E8(n){const e=sr.fromString(n);return zr(M8(e),10190,{key:e.toString()}),e}function UR(n,e){const t=E8(e);if(t.get(1)!==n.databaseId.projectId)throw new Bt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Bt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tn(w8(t))}function T8(n,e){return S8(n.databaseId,e)}function VJ(n){const e=E8(n);return e.length===4?sr.emptyPath():w8(e)}function a5(n){return new sr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function w8(n){return zr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function HJ(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Mn(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=(function(u,h){return u.useProto3Json?(zr(h===void 0||typeof h=="string",58123),Ca.fromBase64String(h||"")):(zr(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ca.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(u){const h=u.code===void 0?mt.UNKNOWN:v8(u.code);return new Bt(h,u.message||"")})(a);t=new b8(i,r,s,o||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=UR(n,i.document.name),s=l0(i.document.updateTime),a=i.document.createTime?l0(i.document.createTime):Cn.min(),o=new pf({mapValue:{fields:i.document.fields}}),c=Ya.newFoundDocument(r,s,a,o),u=i.targetIds||[],h=i.removedTargetIds||[];t=new Fw(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=UR(n,i.document),s=i.readTime?l0(i.readTime):Cn.min(),a=Ya.newNoDocument(r,s),o=i.removedTargetIds||[];t=new Fw([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=UR(n,i.document),s=i.removedTargetIds||[];t=new Fw([],s,r,null)}else{if(!("filter"in e))return Mn(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new NJ(r,s),o=i.targetId;t=new _8(o,a)}}return t}function jJ(n,e){return{documents:[T8(n,e.path)]}}function GJ(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=T8(n,r);const s=(function(u){if(u.length!==0)return A8(yu.create(u,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const a=(function(u){if(u.length!==0)return u.map((h=>(function(y){return{field:Kv(y.field),direction:$J(y.dir)}})(h)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=vI(n,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{Vt:t,parent:r}}function qJ(n){let e=VJ(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){zr(i===1,65062);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=(function(p){const y=C8(p);return y instanceof yu&&i8(y)?y.getFilters():[y]})(t.where));let a=[];t.orderBy&&(a=(function(p){return p.map((y=>(function(_){return new b2(Zv(_.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(y)))})(t.orderBy));let o=null;t.limit&&(o=(function(p){let y;return y=typeof p=="object"?p.value:p,iA(y)?null:y})(t.limit));let c=null;t.startAt&&(c=(function(p){const y=!!p.before,v=p.values||[];return new _2(v,y)})(t.startAt));let u=null;return t.endAt&&(u=(function(p){const y=!p.before,v=p.values||[];return new _2(v,y)})(t.endAt)),gJ(e,r,a,s,o,"F",c,u)}function WJ(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mn(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function C8(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Zv(t.unaryFilter.field);return As.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Zv(t.unaryFilter.field);return As.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zv(t.unaryFilter.field);return As.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Zv(t.unaryFilter.field);return As.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mn(61313);default:return Mn(60726)}})(n):n.fieldFilter!==void 0?(function(t){return As.create(Zv(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mn(58110);default:return Mn(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return yu.create(t.compositeFilter.filters.map((i=>C8(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Mn(1026)}})(t.compositeFilter.op))})(n):Mn(30097,{filter:n})}function $J(n){return kJ[n]}function XJ(n){return zJ[n]}function YJ(n){return BJ[n]}function Kv(n){return{fieldPath:n.canonicalString()}}function Zv(n){return Ka.fromServerFormat(n.fieldPath)}function A8(n){return n instanceof As?(function(t){if(t.op==="=="){if($U(t.value))return{unaryFilter:{field:Kv(t.field),op:"IS_NAN"}};if(WU(t.value))return{unaryFilter:{field:Kv(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($U(t.value))return{unaryFilter:{field:Kv(t.field),op:"IS_NOT_NAN"}};if(WU(t.value))return{unaryFilter:{field:Kv(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kv(t.field),op:XJ(t.op),value:t.value}}})(n):n instanceof yu?(function(t){const i=t.getFilters().map((r=>A8(r)));return i.length===1?i[0]:{compositeFilter:{op:YJ(t.op),filters:i}}})(n):Mn(54877,{filter:n})}function M8(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t,i,r,s=Cn.min(),a=Cn.min(),o=Ca.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new yp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e){this.gt=e}}function ZJ(n){const e=qJ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mI(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QJ{constructor(){this.Dn=new JJ}addToCollectionParentIndex(e,t){return this.Dn.add(t),nt.resolve()}getCollectionParents(e,t){return nt.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return nt.resolve()}deleteFieldIndex(e,t){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,t){return nt.resolve()}getDocumentsMatchingTarget(e,t){return nt.resolve(null)}getIndexType(e,t){return nt.resolve(0)}getFieldIndexes(e,t){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,t){return nt.resolve(Pp.min())}getMinOffsetFromCollectionGroup(e,t){return nt.resolve(Pp.min())}updateCollectionGroup(e,t,i){return nt.resolve()}updateIndexEntries(e,t){return nt.resolve()}}class JJ{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ks(sr.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ks(sr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R8=41943040;class Xo{static withCacheSize(e){return new Xo(e,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo.DEFAULT_COLLECTION_PERCENTILE=10,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xo.DEFAULT=new Xo(R8,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xo.DISABLED=new Xo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new w0(0)}static ur(){return new w0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5="LruGarbageCollector",eee=1048576;function c5([n,e],[t,i]){const r=Kn(n,t);return r===0?Kn(e,i):r}class tee{constructor(e){this.Tr=e,this.buffer=new ks(c5),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();c5(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nee{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ft(l5,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){o_(t)?Ft(l5,"Ignoring IndexedDB error during garbage collection: ",t):await tA(t)}await this.Rr(3e5)}))}}class iee{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return nt.resolve(nA.ue);const i=new tee(t);return this.Vr.forEachTarget(e,(r=>i.Er(r.sequenceNumber))).next((()=>this.Vr.gr(e,(r=>i.Er(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(o5)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o5):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,r,s,a,o,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(e,r)))).next((p=>(i=p,o=Date.now(),this.removeTargets(e,i,t)))).next((p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,i)))).next((p=>(u=Date.now(),Xv()<=ri.DEBUG&&Ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${r} in `+(o-a)+`ms
	Removed ${s} targets in `+(c-o)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p}))))}}function ree(n,e){return new iee(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(){this.changes=new iy((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ya.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?nt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oee{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&Hb(i.mutation,r,gp.empty(),xr.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,_i()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=_i()){const r=Tg();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((s=>{let a=bb();return s.forEach(((o,c)=>{a=a.insert(o,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const i=Tg();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,_i())))}populateOverlays(e,t,i){const r=[];return i.forEach((s=>{t.has(s)||r.push(s)})),this.documentOverlayCache.getOverlays(e,r).next((s=>{s.forEach(((a,o)=>{t.set(a,o)}))}))}computeViews(e,t,i,r){let s=Up();const a=Vb(),o=(function(){return Vb()})();return t.forEach(((c,u)=>{const h=i.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof lA)?s=s.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),Hb(h.mutation,u,h.mutation.getFieldMask(),xr.now())):a.set(u.key,gp.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((u,h)=>a.set(u,h))),t.forEach(((u,h)=>{var p;return o.set(u,new aee(h,(p=a.get(u))!==null&&p!==void 0?p:null))})),o)))}recalculateAndSaveOverlays(e,t){const i=Vb();let r=new ds(((a,o)=>a-o)),s=_i();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const o of a)o.keys().forEach((c=>{const u=t.get(c);if(u===null)return;let h=i.get(c)||gp.empty();h=o.applyToLocalView(u,h),i.set(c,h);const p=(r.get(o.batchId)||_i()).add(c);r=r.insert(o.batchId,p)}))})).next((()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,h=c.value,p=f8();h.forEach((y=>{if(!s.has(y)){const v=g8(t.get(y),i.get(y));v!==null&&p.set(y,v),s=s.add(y)}})),a.push(this.documentOverlayCache.saveOverlays(e,u,p))}return nt.waitFor(a)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return(function(a){return tn.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):o8(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):nt.resolve(Tg());let o=yx,c=s;return a.next((u=>nt.forEach(u,((h,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(h)?nt.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{c=c.insert(h,y)}))))).next((()=>this.populateOverlays(e,u,s))).next((()=>this.computeViews(e,c,u,_i()))).next((h=>({batchId:o,changes:xJ(h)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tn(t)).next((i=>{let r=bb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let a=bb();return this.indexManager.getCollectionParents(e,s).next((o=>nt.forEach(o,(c=>{const u=(function(p,y){return new cS(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next((h=>{h.forEach(((p,y)=>{a=a.insert(p,y)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r)))).next((a=>{s.forEach(((c,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Ya.newInvalidDocument(h)))}));let o=bb();return a.forEach(((c,u)=>{const h=s.get(c);h!==void 0&&Hb(h.mutation,u,gp.empty(),xr.now()),aA(t,u)&&(o=o.insert(c,u))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lee{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return nt.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:l0(r.createTime)}})(t)),nt.resolve()}getNamedQuery(e,t){return nt.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(r){return{name:r.name,query:ZJ(r.bundledQuery),readTime:l0(r.readTime)}})(t)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(){this.overlays=new ds(tn.comparator),this.kr=new Map}getOverlay(e,t){return nt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Tg();return nt.forEach(t,(r=>this.getOverlay(e,r).next((s=>{s!==null&&i.set(r,s)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,s)=>{this.wt(e,t,s)})),nt.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach((s=>this.overlays=this.overlays.remove(s))),this.kr.delete(i)),nt.resolve()}getOverlaysForCollection(e,t,i){const r=Tg(),s=t.length+1,a=new tn(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return nt.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ds(((u,h)=>u-h));const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let h=s.get(u.largestBatchId);h===null&&(h=Tg(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const o=Tg(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,h)=>o.set(u,h))),!(o.size()>=r)););return nt.resolve(o)}wt(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new DJ(t,i));let s=this.kr.get(t);s===void 0&&(s=_i(),this.kr.set(t,s)),this.kr.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uee{constructor(){this.sessionToken=Ca.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.qr=new ks(Js.Qr),this.$r=new ks(Js.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new Js(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new Js(e,t))}Gr(e,t){e.forEach((i=>this.removeReference(i,t)))}zr(e){const t=new tn(new sr([])),i=new Js(t,e),r=new Js(t,e+1),s=[];return this.$r.forEachInRange([i,r],(a=>{this.Wr(a),s.push(a.key)})),s}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new tn(new sr([])),i=new Js(t,e),r=new Js(t,e+1);let s=_i();return this.$r.forEachInRange([i,r],(a=>{s=s.add(a.key)})),s}containsKey(e){const t=new Js(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Js{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return tn.comparator(e.key,t.key)||Kn(e.Hr,t.Hr)}static Ur(e,t){return Kn(e.Hr,t.Hr)||tn.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ks(Js.Qr)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new PJ(s,t,i,r);this.mutationQueue.push(a);for(const o of r)this.Yr=this.Yr.add(new Js(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return nt.resolve(a)}lookupMutationBatch(e,t){return nt.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Xr(i),s=r<0?0:r;return nt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?ZQ:this.er-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Js(t,0),r=new Js(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([i,r],(a=>{const o=this.Zr(a.Hr);s.push(o)})),nt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ks(Kn);return t.forEach((r=>{const s=new Js(r,0),a=new Js(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],(o=>{i=i.add(o.Hr)}))})),nt.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;tn.isDocumentKey(s)||(s=s.child(""));const a=new Js(new tn(s),0);let o=new ks(Kn);return this.Yr.forEachWhile((c=>{const u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(o=o.add(c.Hr)),!0)}),a),nt.resolve(this.ei(o))}ei(e){const t=[];return e.forEach((i=>{const r=this.Zr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){zr(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return nt.forEach(t.mutations,(r=>{const s=new Js(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Yr=i}))}rr(e){}containsKey(e,t){const i=new Js(t,0),r=this.Yr.firstAfterOrEqual(i);return nt.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(e){this.ni=e,this.docs=(function(){return new ds(tn.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return nt.resolve(i?i.document.mutableCopy():Ya.newInvalidDocument(t))}getEntries(e,t){let i=Up();return t.forEach((r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ya.newInvalidDocument(r))})),nt.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Up();const a=t.path,o=new tn(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||$Q(WQ(h),i)<=0||(r.has(h.key)||aA(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return nt.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Mn(9500)}ri(e,t){return nt.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new dee(this)}getSize(e){return nt.resolve(this.size)}}class dee extends see{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(i)})),nt.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(e){this.persistence=e,this.ii=new iy((t=>vD(t)),_D),this.lastRemoteSnapshotVersion=Cn.min(),this.highestTargetId=0,this.si=0,this.oi=new wD,this.targetCount=0,this._i=w0.ar()}forEachTarget(e,t){return this.ii.forEach(((i,r)=>t(r))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),nt.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new w0(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,nt.resolve()}updateTargetData(e,t){return this.hr(t),nt.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.ii.forEach(((a,o)=>{o.sequenceNumber<=t&&i.get(o.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),nt.waitFor(s).next((()=>r))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return nt.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),nt.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((a=>{s.push(r.markPotentiallyOrphaned(e,a))})),nt.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),nt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return nt.resolve(i)}containsKey(e,t){return nt.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,t){this.ai={},this.overlays={},this.ui=new nA(0),this.ci=!1,this.ci=!0,this.li=new uee,this.referenceDelegate=e(this),this.hi=new pee(this),this.indexManager=new QJ,this.remoteDocumentCache=(function(r){return new hee(r)})((i=>this.referenceDelegate.Pi(i))),this.serializer=new KJ(t),this.Ti=new lee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cee,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new fee(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){Ft("MemoryPersistence","Starting transaction:",e);const r=new mee(this.ui.next());return this.referenceDelegate.Ii(),i(r).next((s=>this.referenceDelegate.di(r).next((()=>s)))).toPromise().then((s=>(r.raiseOnCommittedEvent(),s)))}Ei(e,t){return nt.or(Object.values(this.ai).map((i=>()=>i.containsKey(e,t))))}}class mee extends YQ{constructor(e){super(),this.currentSequenceNumber=e}}class CD{constructor(e){this.persistence=e,this.Ai=new wD,this.Ri=null}static Vi(e){return new CD(e)}get mi(){if(this.Ri)return this.Ri;throw Mn(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),nt.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),nt.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),nt.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((r=>this.mi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((s=>this.mi.add(s.toString())))})).next((()=>i.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.mi,(i=>{const r=tn.fromPath(i);return this.fi(e,r).next((s=>{s||t.removeEntry(r,Cn.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return nt.or([()=>nt.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class E2{constructor(e,t){this.persistence=e,this.gi=new iy((i=>JQ(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=ree(this,t)}static Vi(e,t){return new E2(e,t)}Ii(){}di(e){return nt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}yr(e){let t=0;return this.gr(e,(i=>{t++})).next((()=>t))}gr(e,t){return nt.forEach(this.gi,((i,r)=>this.Sr(e,i,r).next((s=>s?nt.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(e,(a=>this.Sr(e,a,t).next((o=>{o||(i++,s.removeEntry(a,Cn.min()))})))).next((()=>s.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),nt.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),nt.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),nt.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),nt.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zw(e.data.value)),t}Sr(e,t,i){return nt.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.gi.get(t);return nt.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=r}static Es(e,t){let i=_i(),r=_i();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new AD(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yee{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return yZ()?8:KQ(eo())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.ps(e,t).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ys(e,t,r,i).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new gee;return this.ws(e,t,a).next((o=>{if(s.result=o,this.Rs)return this.Ss(e,t,a,o.size)}))})).next((()=>s.result))}Ss(e,t,i,r){return i.documentReadCount<this.Vs?(Xv()<=ri.DEBUG&&Ft("QueryEngine","SDK will not create cache indexes for query:",Yv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(Xv()<=ri.DEBUG&&Ft("QueryEngine","Query:",Yv(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Xv()<=ri.DEBUG&&Ft("QueryEngine","The SDK decides to create cache indexes for query:",Yv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xf(t))):nt.resolve())}ps(e,t){if(ZU(t))return nt.resolve(null);let i=xf(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=mI(t,null,"F"),i=xf(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((s=>{const a=_i(...s);return this.gs.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,i).next((c=>{const u=this.bs(t,o);return this.Ds(t,u,a,c.readTime)?this.ps(e,mI(t,null,"F")):this.vs(e,u,t,c)}))))})))))}ys(e,t,i,r){return ZU(t)||r.isEqual(Cn.min())?nt.resolve(null):this.gs.getDocuments(e,i).next((s=>{const a=this.bs(t,s);return this.Ds(t,a,i,r)?nt.resolve(null):(Xv()<=ri.DEBUG&&Ft("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yv(t)),this.vs(e,a,t,qQ(r,yx)).next((o=>o)))}))}bs(e,t){let i=new ks(c8(e));return t.forEach(((r,s)=>{aA(e,s)&&(i=i.add(s))})),i}Ds(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(e,t,i){return Xv()<=ri.DEBUG&&Ft("QueryEngine","Using full collection scan to execute query:",Yv(t)),this.gs.getDocumentsMatchingQuery(e,t,Pp.min(),i)}vs(e,t,i,r){return this.gs.getDocumentsMatchingQuery(e,i,r).next((s=>(t.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="LocalStore",vee=3e8;class _ee{constructor(e,t,i,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new ds(Kn),this.Ms=new iy((s=>vD(s)),_D),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oee(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function bee(n,e,t,i){return new _ee(n,e,t,i)}async function I8(n,e){const t=gi(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((s=>(r=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(i)))).next((s=>{const a=[],o=[];let c=_i();for(const u of r){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next((u=>({Bs:u,removedBatchIds:a,addedBatchIds:o})))}))}))}function P8(n){const e=gi(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function xee(n,e){const t=gi(n),i=e.snapshotVersion;let r=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=t.Os.newChangeBuffer({trackRemovals:!0});r=t.Fs;const o=[];e.targetChanges.forEach(((h,p)=>{const y=r.get(p);if(!y)return;o.push(t.hi.removeMatchingKeys(s,h.removedDocuments,p).next((()=>t.hi.addMatchingKeys(s,h.addedDocuments,p))));let v=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Ca.EMPTY_BYTE_STRING,Cn.min()).withLastLimboFreeSnapshotVersion(Cn.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(p,v),(function(S,E,x){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=vee?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0})(y,v,h)&&o.push(t.hi.updateTargetData(s,v))}));let c=Up(),u=_i();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))})),o.push(See(s,a,e.documentUpdates).next((h=>{c=h.Ls,u=h.ks}))),!i.isEqual(Cn.min())){const h=t.hi.getLastRemoteSnapshotVersion(s).next((p=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,i)));o.push(h)}return nt.waitFor(o).next((()=>a.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,c,u))).next((()=>c))})).then((s=>(t.Fs=r,s)))}function See(n,e,t){let i=_i(),r=_i();return t.forEach((s=>i=i.add(s))),e.getEntries(n,i).next((s=>{let a=Up();return t.forEach(((o,c)=>{const u=s.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(o)),c.isNoDocument()&&c.version.isEqual(Cn.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):Ft(MD,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)})),{Ls:a,ks:r}}))}function Eee(n,e){const t=gi(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.hi.getTargetData(i,e).next((s=>s?(r=s,nt.resolve(r)):t.hi.allocateTargetId(i).next((a=>(r=new yp(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i}))}async function xI(n,e,t){const i=gi(n),r=i.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,(a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!o_(a))throw a;Ft(MD,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(r.target)}function u5(n,e,t){const i=gi(n);let r=Cn.min(),s=_i();return i.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,u,h){const p=gi(c),y=p.Ms.get(h);return y!==void 0?nt.resolve(p.Fs.get(y)):p.hi.getTargetData(u,h)})(i,a,xf(e)).next((o=>{if(o)return r=o.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(a,o.targetId).next((c=>{s=c}))})).next((()=>i.Cs.getDocumentsMatchingQuery(a,e,t?r:Cn.min(),t?s:_i()))).next((o=>(Tee(i,vJ(e),o),{documents:o,qs:s})))))}function Tee(n,e,t){let i=n.xs.get(e)||Cn.min();t.forEach(((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)})),n.xs.set(e,i)}class f5{constructor(){this.activeTargetIds=TJ()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wee{constructor(){this.Fo=new f5,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new f5,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="ConnectivityMonitor";class d5{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ft(h5,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ft(h5,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tT=null;function SI(){return tT===null?tT=(function(){return 268435456+Math.round(2147483648*Math.random())})():tT++,"0x"+tT.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="RestConnection",Aee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mee{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===y2?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,t,i,r,s){const a=SI(),o=this.Go(e,t.toUriEncodedString());Ft(kR,`Sending RPC '${e}' ${a}:`,o,i);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,r,s);const{host:u}=new URL(o),h=r_(u);return this.jo(e,o,c,i,h).then((p=>(Ft(kR,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw Ip(kR,`RPC '${e}' ${a} failed with error: `,p,"url: ",o,"request:",i),p}))}Jo(e,t,i,r,s,a){return this.Wo(e,t,i,r,s)}zo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+a_})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,s)=>e[s]=r)),i&&i.headers.forEach(((r,s)=>e[s]=r))}Go(e,t){const i=Aee[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="WebChannelConnection";class Oee extends Mee{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,r,s){const a=SI();return new Promise(((o,c)=>{const u=new UV;u.setWithCredentials(!0),u.listenOnce(kV.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case kw.NO_ERROR:const p=u.getResponseJson();Ft(Ha,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),o(p);break;case kw.TIMEOUT:Ft(Ha,`RPC '${e}' ${a} timed out`),c(new Bt(mt.DEADLINE_EXCEEDED,"Request time out"));break;case kw.HTTP_ERROR:const y=u.getStatus();if(Ft(Ha,`RPC '${e}' ${a} failed with status:`,y,"response text:",u.getResponseText()),y>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v?.error;if(_&&_.status&&_.message){const S=(function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(w)>=0?w:mt.UNKNOWN})(_.status);c(new Bt(S,_.message))}else c(new Bt(mt.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Bt(mt.UNAVAILABLE,"Connection failed."));break;default:Mn(9055,{c_:e,streamId:a,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{Ft(Ha,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(r);Ft(Ha,`RPC '${e}' ${a} sending request:`,r),u.send(t,"POST",h,i,15)}))}P_(e,t,i){const r=SI(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=FV(),o=BV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const h=s.join("");Ft(Ha,`Creating RPC '${e}' stream ${r}: ${h}`,c);const p=a.createWebChannel(h,c);this.T_(p);let y=!1,v=!1;const _=new Ree({Ho:E=>{v?Ft(Ha,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(y||(Ft(Ha,`Opening RPC '${e}' stream ${r} transport.`),p.open(),y=!0),Ft(Ha,`RPC '${e}' stream ${r} sending:`,E),p.send(E))},Yo:()=>p.close()}),S=(E,x,w)=>{E.listen(x,(M=>{try{w(M)}catch(C){setTimeout((()=>{throw C}),0)}}))};return S(p,_b.EventType.OPEN,(()=>{v||(Ft(Ha,`RPC '${e}' stream ${r} transport opened.`),_.s_())})),S(p,_b.EventType.CLOSE,(()=>{v||(v=!0,Ft(Ha,`RPC '${e}' stream ${r} transport closed`),_.__(),this.I_(p))})),S(p,_b.EventType.ERROR,(E=>{v||(v=!0,Ip(Ha,`RPC '${e}' stream ${r} transport errored. Name:`,E.name,"Message:",E.message),_.__(new Bt(mt.UNAVAILABLE,"The operation could not be completed")))})),S(p,_b.EventType.MESSAGE,(E=>{var x;if(!v){const w=E.data[0];zr(!!w,16349);const M=w,C=M?.error||((x=M[0])===null||x===void 0?void 0:x.error);if(C){Ft(Ha,`RPC '${e}' stream ${r} received error:`,C);const D=C.status;let L=(function(P){const U=Es[P];if(U!==void 0)return v8(U)})(D),I=C.message;L===void 0&&(L=mt.INTERNAL,I="Unknown error status: "+D+" with message "+C.message),v=!0,_.__(new Bt(L,I)),p.close()}else Ft(Ha,`RPC '${e}' stream ${r} received:`,w),_.a_(w)}})),S(o,zV.STAT_EVENT,(E=>{E.stat===lI.PROXY?Ft(Ha,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===lI.NOPROXY&&Ft(Ha,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{_.o_()}),0),_}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function zR(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n){return new FJ(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-i);r>0&&Ft("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="PersistentStream";class Iee{constructor(e,t,i,r,s,a,o,c){this.Fi=e,this.w_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new D8(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===mt.RESOURCE_EXHAUSTED?(jh(t.toString()),jh("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===mt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.b_===t&&this.W_(i,r)}),(i=>{e((()=>{const r=new Bt(mt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)}))}))}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.e_((()=>{i((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((r=>{i((()=>this.G_(r)))})),this.stream.onMessage((r=>{i((()=>++this.C_==1?this.j_(r):this.onNext(r)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Ft(p5,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(Ft(p5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Pee extends Iee{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=HJ(this.serializer,e),i=(function(s){if(!("targetChange"in s))return Cn.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Cn.min():a.readTime?l0(a.readTime):Cn.min()})(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=a5(this.serializer),t.addTarget=(function(s,a){let o;const c=a.target;if(o=dI(c)?{documents:jJ(s,c)}:{query:GJ(s,c).Vt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=x8(s,a.resumeToken);const u=vI(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Cn.min())>0){o.readTime=_I(s,a.snapshotVersion.toTimestamp());const u=vI(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o})(this.serializer,e);const i=WJ(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=a5(this.serializer),t.removeTarget=e,this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{}class Nee extends Dee{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new Bt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Wo(e,bI(t,i),r,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Bt(mt.UNKNOWN,s.toString())}))}Jo(e,t,i,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Jo(e,bI(t,i),r,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Bt(mt.UNKNOWN,a.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class Lee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(jh(t),this._a=!1):Ft("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="RemoteStore";class Uee{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo((a=>{i.enqueueAndForget((async()=>{hS(this)&&(Ft(C0,"Restarting streams for network reachability change."),await(async function(c){const u=gi(c);u.Ia.add(4),await fS(u),u.Aa.set("Unknown"),u.Ia.delete(4),await fA(u)})(this))}))})),this.Aa=new Lee(i,r)}}async function fA(n){if(hS(n))for(const e of n.da)await e(!0)}async function fS(n){for(const e of n.da)await e(!1)}function N8(n,e){const t=gi(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),PD(t)?ID(t):c_(t).x_()&&OD(t,e))}function RD(n,e){const t=gi(n),i=c_(t);t.Ta.delete(e),i.x_()&&L8(t,e),t.Ta.size===0&&(i.x_()?i.B_():hS(t)&&t.Aa.set("Unknown"))}function OD(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Cn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}c_(n).H_(e)}function L8(n,e){n.Ra.$e(e),c_(n).Y_(e)}function ID(n){n.Ra=new UJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),c_(n).start(),n.Aa.aa()}function PD(n){return hS(n)&&!c_(n).M_()&&n.Ta.size>0}function hS(n){return gi(n).Ia.size===0}function U8(n){n.Ra=void 0}async function kee(n){n.Aa.set("Online")}async function zee(n){n.Ta.forEach(((e,t)=>{OD(n,e)}))}async function Bee(n,e){U8(n),PD(n)?(n.Aa.la(e),ID(n)):n.Aa.set("Unknown")}async function Fee(n,e,t){if(n.Aa.set("Online"),e instanceof b8&&e.state===2&&e.cause)try{await(async function(r,s){const a=s.cause;for(const o of s.targetIds)r.Ta.has(o)&&(await r.remoteSyncer.rejectListen(o,a),r.Ta.delete(o),r.Ra.removeTarget(o))})(n,e)}catch(i){Ft(C0,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await m5(n,i)}else if(e instanceof Fw?n.Ra.Ye(e):e instanceof _8?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Cn.min()))try{const i=await P8(n.localStore);t.compareTo(i)>=0&&await(function(s,a){const o=s.Ra.Pt(a);return o.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.Ta.get(u);h&&s.Ta.set(u,h.withResumeToken(c.resumeToken,a))}})),o.targetMismatches.forEach(((c,u)=>{const h=s.Ta.get(c);if(!h)return;s.Ta.set(c,h.withResumeToken(Ca.EMPTY_BYTE_STRING,h.snapshotVersion)),L8(s,c);const p=new yp(h.target,c,u,h.sequenceNumber);OD(s,p)})),s.remoteSyncer.applyRemoteEvent(o)})(n,t)}catch(i){Ft(C0,"Failed to raise snapshot:",i),await m5(n,i)}}async function m5(n,e,t){if(!o_(e))throw e;n.Ia.add(1),await fS(n),n.Aa.set("Offline"),t||(t=()=>P8(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ft(C0,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await fA(n)}))}async function g5(n,e){const t=gi(n);t.asyncQueue.verifyOperationInProgress(),Ft(C0,"RemoteStore received new credentials");const i=hS(t);t.Ia.add(3),await fS(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await fA(t)}async function Vee(n,e){const t=gi(n);e?(t.Ia.delete(2),await fA(t)):e||(t.Ia.add(2),await fS(t),t.Aa.set("Unknown"))}function c_(n){return n.Va||(n.Va=(function(t,i,r){const s=gi(t);return s.ia(),new Pee(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(n.datastore,n.asyncQueue,{Zo:kee.bind(null,n),e_:zee.bind(null,n),n_:Bee.bind(null,n),J_:Fee.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),PD(n)?ID(n):n.Aa.set("Unknown")):(await n.Va.stop(),U8(n))}))),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Cp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,o=new DD(e,t,a,r,s);return o.start(i),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Bt(mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function k8(n,e){if(jh("AsyncQueue",`${e}: ${n}`),o_(n))return new Bt(mt.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{static emptySet(e){return new c0(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||tn.comparator(t.key,i.key):(t,i)=>tn.comparator(t.key,i.key),this.keyedMap=bb(),this.sortedSet=new ds(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof c0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new c0;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.fa=new ds(tn.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Mn(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,i)=>{e.push(i)})),e}}class A0{constructor(e,t,i,r,s,a,o,c,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,s){const a=[];return t.forEach((o=>{a.push({type:0,doc:o})})),new A0(e,t,c0.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class jee{constructor(){this.queries=v5(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const r=gi(t),s=r.queries;r.queries=v5(),s.forEach(((a,o)=>{for(const c of o.wa)c.onError(i)}))})(this,new Bt(mt.ABORTED,"Firestore shutting down"))}}function v5(){return new iy((n=>l8(n)),sA)}async function z8(n,e){const t=gi(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.Sa()&&e.ba()&&(i=2):(s=new Hee,i=e.ba()?0:1);try{switch(i){case 0:s.ya=await t.onListen(r,!0);break;case 1:s.ya=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(a){const o=k8(a,`Initialization of query '${Yv(e.query)}' failed`);return void e.onError(o)}t.queries.set(r,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&ND(t)}async function B8(n,e){const t=gi(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?r=e.ba()?0:1:!s.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Gee(n,e){const t=gi(n);let i=!1;for(const r of e){const s=r.query,a=t.queries.get(s);if(a){for(const o of a.wa)o.Ca(r)&&(i=!0);a.ya=r}}i&&ND(t)}function qee(n,e,t){const i=gi(n),r=i.queries.get(e);if(r)for(const s of r.wa)s.onError(t);i.queries.delete(e)}function ND(n){n.Da.forEach((e=>{e.next()}))}var EI,_5;(_5=EI||(EI={})).Fa="default",_5.Cache="cache";class F8{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new A0(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=A0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==EI.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.key=e}}class H8{constructor(e){this.key=e}}class Wee{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=_i(),this.mutatedKeys=_i(),this.Xa=c8(e),this.eu=new c0(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new y5,r=t?t.eu:this.eu;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((h,p)=>{const y=r.get(h),v=aA(this.query,p)?p:null,_=!!y&&this.mutatedKeys.has(y.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;y&&v?y.data.isEqual(v.data)?_!==S&&(i.track({type:3,doc:v}),E=!0):this.iu(y,v)||(i.track({type:2,doc:v}),E=!0,(c&&this.Xa(v,c)>0||u&&this.Xa(v,u)<0)&&(o=!0)):!y&&v?(i.track({type:0,doc:v}),E=!0):y&&!v&&(i.track({type:1,doc:y}),E=!0,(c||u)&&(o=!0)),E&&(v?(a=a.add(v),s=S?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{eu:a,ru:i,Ds:o,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort(((h,p)=>(function(v,_){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mn(20277,{At:E})}};return S(v)-S(_)})(h.type,p.type)||this.Xa(h.doc,p.doc))),this.su(i),r=r!=null&&r;const o=t&&!r?this.ou():[],c=this.Za.size===0&&this.current&&!r?1:0,u=c!==this.Ya;return this.Ya=c,a.length!==0||u?{snapshot:new A0(this.query,e.eu,s,a,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new y5,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=_i(),this.eu.forEach((i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))}));const t=[];return e.forEach((i=>{this.Za.has(i)||t.push(new H8(i))})),this.Za.forEach((i=>{e.has(i)||t.push(new V8(i))})),t}uu(e){this.Ha=e.qs,this.Za=_i();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return A0.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const LD="SyncEngine";class $ee{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Xee{constructor(e){this.key=e,this.lu=!1}}class Yee{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new iy((o=>l8(o)),sA),this.Tu=new Map,this.Iu=new Set,this.du=new ds(tn.comparator),this.Eu=new Map,this.Au=new wD,this.Ru={},this.Vu=new Map,this.mu=w0.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Kee(n,e,t=!0){const i=$8(n);let r;const s=i.Pu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.cu()):r=await j8(i,e,t,!0),r}async function Zee(n,e){const t=$8(n);await j8(t,e,!0,!1)}async function j8(n,e,t,i){const r=await Eee(n.localStore,xf(e)),s=r.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let o;return i&&(o=await Qee(n,e,s,a==="current",r.resumeToken)),n.isPrimaryClient&&t&&N8(n.remoteStore,r),o}async function Qee(n,e,t,i,r){n.gu=(p,y,v)=>(async function(S,E,x,w){let M=E.view.nu(x);M.Ds&&(M=await u5(S.localStore,E.query,!1).then((({documents:I})=>E.view.nu(I,M))));const C=w&&w.targetChanges.get(E.targetId),D=w&&w.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(M,S.isPrimaryClient,C,D);return x5(S,E.targetId,L._u),L.snapshot})(n,p,y,v);const s=await u5(n.localStore,e,!0),a=new Wee(e,s.qs),o=a.nu(s.documents),c=uS.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=a.applyChanges(o,n.isPrimaryClient,c);x5(n,t,u._u);const h=new $ee(e,t,a);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot}async function Jee(n,e,t){const i=gi(n),r=i.Pu.get(e),s=i.Tu.get(r.targetId);if(s.length>1)return i.Tu.set(r.targetId,s.filter((a=>!sA(a,e)))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await xI(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&RD(i.remoteStore,r.targetId),TI(i,r.targetId)})).catch(tA)):(TI(i,r.targetId),await xI(i.localStore,r.targetId,!0))}async function ete(n,e){const t=gi(n),i=t.Pu.get(e),r=t.Tu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),RD(t.remoteStore,i.targetId))}async function G8(n,e){const t=gi(n);try{const i=await xee(t.localStore,e);e.targetChanges.forEach(((r,s)=>{const a=t.Eu.get(s);a&&(zr(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.lu=!0:r.modifiedDocuments.size>0?zr(a.lu,14607):r.removedDocuments.size>0&&(zr(a.lu,42227),a.lu=!1))})),await W8(t,i,e)}catch(i){await tA(i)}}function b5(n,e,t){const i=gi(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Pu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&r.push(o.snapshot)})),(function(a,o){const c=gi(a);c.onlineState=o;let u=!1;c.queries.forEach(((h,p)=>{for(const y of p.wa)y.va(o)&&(u=!0)})),u&&ND(c)})(i.eventManager,e),r.length&&i.hu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function tte(n,e,t){const i=gi(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Eu.get(e),s=r&&r.key;if(s){let a=new ds(tn.comparator);a=a.insert(s,Ya.newNoDocument(s,Cn.min()));const o=_i().add(s),c=new cA(Cn.min(),new Map,new ds(Kn),a,o);await G8(i,c),i.du=i.du.remove(s),i.Eu.delete(e),UD(i)}else await xI(i.localStore,e,!1).then((()=>TI(i,e,t))).catch(tA)}function TI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((i=>{n.Au.containsKey(i)||q8(n,i)}))}function q8(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(RD(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),UD(n))}function x5(n,e,t){for(const i of t)i instanceof V8?(n.Au.addReference(i.key,e),nte(n,i)):i instanceof H8?(Ft(LD,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||q8(n,i.key)):Mn(19791,{yu:i})}function nte(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(Ft(LD,"New document in limbo: "+t),n.Iu.add(i),UD(n))}function UD(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new tn(sr.fromString(e)),i=n.mu.next();n.Eu.set(i,new Xee(t)),n.du=n.du.insert(t,i),N8(n.remoteStore,new yp(xf(bD(t.path)),i,"TargetPurposeLimboResolution",nA.ue))}}async function W8(n,e,t){const i=gi(n),r=[],s=[],a=[];i.Pu.isEmpty()||(i.Pu.forEach(((o,c)=>{a.push(i.gu(c,e,t).then((u=>{var h;if((u||t)&&i.isPrimaryClient){const p=u?!u.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){r.push(u);const p=AD.Es(c.targetId,u);s.push(p)}})))})),await Promise.all(a),i.hu.J_(r),await(async function(c,u){const h=gi(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>nt.forEach(u,(y=>nt.forEach(y.Is,(v=>h.persistence.referenceDelegate.addReference(p,y.targetId,v))).next((()=>nt.forEach(y.ds,(v=>h.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))))))}catch(p){if(!o_(p))throw p;Ft(MD,"Failed to update sequence numbers: "+p)}for(const p of u){const y=p.targetId;if(!p.fromCache){const v=h.Fs.get(y),_=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(_);h.Fs=h.Fs.insert(y,S)}}})(i.localStore,s))}async function ite(n,e){const t=gi(n);if(!t.currentUser.isEqual(e)){Ft(LD,"User change. New user:",e.toKey());const i=await I8(t.localStore,e);t.currentUser=e,(function(s,a){s.Vu.forEach((o=>{o.forEach((c=>{c.reject(new Bt(mt.CANCELLED,a))}))})),s.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await W8(t,i.Bs)}}function rte(n,e){const t=gi(n),i=t.Eu.get(e);if(i&&i.lu)return _i().add(i.key);{let r=_i();const s=t.Tu.get(e);if(!s)return r;for(const a of s){const o=t.Pu.get(a);r=r.unionWith(o.view.tu)}return r}}function $8(n){const e=gi(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=G8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tte.bind(null,e),e.hu.J_=Gee.bind(null,e.eventManager),e.hu.pu=qee.bind(null,e.eventManager),e}class T2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uA(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return bee(this.persistence,new yee,e.initialUser,this.serializer)}Du(e){return new O8(CD.Vi,this.serializer)}bu(e){return new wee}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}T2.provider={build:()=>new T2};class ste extends T2{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){zr(this.persistence.referenceDelegate instanceof E2,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new nee(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Xo.withCacheSize(this.cacheSizeBytes):Xo.DEFAULT;return new O8((i=>E2.Vi(i,t)),this.serializer)}}class wI{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>b5(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ite.bind(null,this.syncEngine),await Vee(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jee})()}createDatastore(e){const t=uA(e.databaseInfo.databaseId),i=(function(s){return new Oee(s)})(e.databaseInfo);return(function(s,a,o,c){return new Nee(s,a,o,c)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,s,a,o){return new Uee(i,r,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(t=>b5(this.syncEngine,t,0)),(function(){return d5.C()?new d5:new Cee})())}createSyncEngine(e,t){return(function(r,s,a,o,c,u,h){const p=new Yee(r,s,a,o,c,u);return h&&(p.fu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(r){const s=gi(r);Ft(C0,"RemoteStore shutting down."),s.Ia.add(5),await fS(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}wI.provider={build:()=>new wI};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):jh("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="FirestoreClient";class ate{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Xa.UNAUTHENTICATED,this.clientId=mD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,(async a=>{Ft(kp,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(i,(a=>(Ft(kp,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=k8(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function BR(n,e){n.asyncQueue.verifyOperationInProgress(),Ft(kp,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await I8(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>{Ip("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{Ft("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((r=>{Ip("Terminating Firestore due to IndexedDb database deletion failed",r)}))})),n._offlineComponents=e}async function S5(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ote(n);Ft(kp,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>g5(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>g5(e.remoteStore,r))),n._onlineComponents=e}async function ote(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ft(kp,"Using user provided OfflineComponentProvider");try{await BR(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===mt.FAILED_PRECONDITION||r.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;Ip("Error using user provided cache. Falling back to memory cache: "+t),await BR(n,new T2)}}else Ft(kp,"Using default OfflineComponentProvider"),await BR(n,new ste(void 0));return n._offlineComponents}async function lte(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ft(kp,"Using user provided OnlineComponentProvider"),await S5(n,n._uninitializedComponentsProvider._online)):(Ft(kp,"Using default OnlineComponentProvider"),await S5(n,new wI))),n._onlineComponents}async function Y8(n){const e=await lte(n),t=e.eventManager;return t.onListen=Kee.bind(null,e.syncEngine),t.onUnlisten=Jee.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Zee.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ete.bind(null,e.syncEngine),t}function cte(n,e,t={}){const i=new Cp;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,c,u){const h=new X8({next:y=>{h.Ou(),a.enqueueAndForget((()=>B8(s,p)));const v=y.docs.has(o);!v&&y.fromCache?u.reject(new Bt(mt.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&c&&c.source==="server"?u.reject(new Bt(mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new F8(bD(o.path),h,{includeMetadataChanges:!0,ka:!0});return z8(s,p)})(await Y8(n),n.asyncQueue,e,t,i))),i.promise}function ute(n,e,t={}){const i=new Cp;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,c,u){const h=new X8({next:y=>{h.Ou(),a.enqueueAndForget((()=>B8(s,p))),y.fromCache&&c.source==="server"?u.reject(new Bt(mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new F8(o,h,{includeMetadataChanges:!0,ka:!0});return z8(s,p)})(await Y8(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="firestore.googleapis.com",T5=!0;class w5{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Bt(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Z8,this.ssl=T5}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:T5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=R8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eee)throw new Bt(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K8((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Bt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Bt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Bt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hA{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Bt(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Bt(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new LQ;switch(i.type){case"firstParty":return new BQ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Bt(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=E5.get(t);i&&(Ft("ComponentProvider","Removing Datastore"),E5.delete(t),i.terminate())})(this),Promise.resolve()}}function fte(n,e,t,i={}){var r;n=gx(n,hA);const s=r_(e),a=n._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s&&(AV(`https://${c}`),MV("Firestore",!0)),a.host!==Z8&&a.host!==c&&Ip("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:s,emulatorOptions:i});if(!Gg(u,o)&&(n._setSettings(u),i.mockUserToken)){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=Xa.MOCK_USER;else{h=lZ(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Bt(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xa(y)}n._authCredentials=new UQ(new HV(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new u_(this.firestore,e,this._query)}}class Us{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ap(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Us(this.firestore,e,this._key)}toJSON(){return{type:Us._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(lS(t,Us._jsonSchema))return new Us(e,i||null,new tn(sr.fromString(t.referencePath)))}}Us._jsonSchemaVersion="firestore/documentReference/1.0",Us._jsonSchema={type:Ms("string",Us._jsonSchemaVersion),referencePath:Ms("string")};class Ap extends u_{constructor(e,t,i){super(e,t,bD(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Us(this.firestore,null,new tn(e))}withConverter(e){return new Ap(this.firestore,e,this._path)}}function kD(n,e,...t){if(n=gu(n),GV("collection","path",e),n instanceof hA){const i=sr.fromString(e,...t);return kU(i),new Ap(n,null,i)}{if(!(n instanceof Us||n instanceof Ap))throw new Bt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sr.fromString(e,...t));return kU(i),new Ap(n.firestore,null,i)}}function hte(n,e,...t){if(n=gu(n),arguments.length===1&&(e=mD.newId()),GV("doc","path",e),n instanceof hA){const i=sr.fromString(e,...t);return UU(i),new Us(n,null,new tn(i))}{if(!(n instanceof Us||n instanceof Ap))throw new Bt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sr.fromString(e,...t));return UU(i),new Us(n.firestore,n instanceof Ap?n.converter:null,new tn(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="AsyncQueue";class A5{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new D8(this,"async_queue_retry"),this.oc=()=>{const i=zR();i&&Ft(C5,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=zR();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=zR();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Cp;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!o_(e))throw e;Ft(C5,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((i=>{throw this.tc=i,this.nc=!1,jh("INTERNAL UNHANDLED ERROR: ",M5(i)),i})).then((i=>(this.nc=!1,i))))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=DD.createAndSchedule(this,e,t,i,(s=>this.lc(s)));return this.ec.push(r),r}ac(){this.tc&&Mn(47125,{hc:M5(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function M5(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class zD extends hA{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new A5,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A5(e),this._firestoreClient=void 0,await e}}}function dte(n,e){const t=typeof n=="object"?n:PV(),i=typeof n=="string"?n:y2,r=dD(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=aZ("firestore");s&&fte(r,...s)}return r}function Q8(n){if(n._terminated)throw new Bt(mt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||pte(n),n._firestoreClient}function pte(n){var e,t,i;const r=n._freezeSettings(),s=(function(o,c,u,h){return new nJ(o,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,K8(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new ate(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _c(Ca.fromBase64String(e))}catch(t){throw new Bt(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _c(Ca.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_c._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lS(e,_c._jsonSchema))return _c.fromBase64String(e.bytes)}}_c._jsonSchemaVersion="firestore/bytes/1.0",_c._jsonSchema={type:Ms("string",_c._jsonSchemaVersion),bytes:Ms("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Bt(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ka(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bt(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bt(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Kn(this._lat,e._lat)||Kn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sf._jsonSchemaVersion}}static fromJSON(e){if(lS(e,Sf._jsonSchema))return new Sf(e.latitude,e.longitude)}}Sf._jsonSchemaVersion="firestore/geoPoint/1.0",Sf._jsonSchema={type:Ms("string",Sf._jsonSchemaVersion),latitude:Ms("number"),longitude:Ms("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ef._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lS(e,Ef._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ef(e.vectorValues);throw new Bt(mt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ef._jsonSchemaVersion="firestore/vectorValue/1.0",Ef._jsonSchema={type:Ms("string",Ef._jsonSchemaVersion),vectorValues:Ms("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte=/^__.*__$/;function t7(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mn(40011,{Ec:n})}}class BD{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new BD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.fc(e),r}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return CI(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(t7(this.Ec)&&mte.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class gte{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||uA(e)}Dc(e,t,i,r=!1){return new BD({Ec:e,methodName:t,bc:i,path:Ka.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yte(n){const e=n._freezeSettings(),t=uA(n._databaseId);return new gte(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vte(n,e,t,i=!1){return FD(t,n.Dc(i?4:3,e))}function FD(n,e){if(n7(n=gu(n)))return bte("Unsupported field value:",e,n),_te(n,e);if(n instanceof e7)return(function(i,r){if(!t7(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(i,r){const s=[];let a=0;for(const o of i){let c=FD(o,r.yc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}})(n,e)}return(function(i,r){if((i=gu(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wJ(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=xr.fromDate(i);return{timestampValue:_I(r.serializer,s)}}if(i instanceof xr){const s=new xr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_I(r.serializer,s)}}if(i instanceof Sf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof _c)return{bytesValue:x8(r.serializer,i._byteString)};if(i instanceof Us){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:S8(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Ef)return(function(a,o){return{mapValue:{fields:{[JV]:{stringValue:e8},[v2]:{arrayValue:{values:a.toArray().map((u=>{if(typeof u!="number")throw o.wc("VectorValues must only contain numeric values.");return xD(o.serializer,u)}))}}}}}})(i,r);throw r.wc(`Unsupported field value: ${eA(i)}`)})(n,e)}function _te(n,e){const t={};return $V(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):l_(n,((i,r)=>{const s=FD(r,e.Vc(i));s!=null&&(t[i]=s)})),{mapValue:{fields:t}}}function n7(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xr||n instanceof Sf||n instanceof _c||n instanceof Us||n instanceof e7||n instanceof Ef)}function bte(n,e,t){if(!n7(t)||!qV(t)){const i=eA(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}const xte=new RegExp("[~\\*/\\[\\]]");function Ste(n,e,t){if(e.search(xte)>=0)throw CI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new J8(...e.split("."))._internalPath}catch{throw CI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function CI(n,e,t,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${i}`),a&&(c+=` in document ${r}`),c+=")"),new Bt(mt.INVALID_ARGUMENT,o+n+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Us(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ete(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(VD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Ete extends i7{data(){return super.data()}}function VD(n,e){return typeof e=="string"?Ste(n,e):e instanceof J8?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tte(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Bt(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HD{}class wte extends HD{}function Cte(n,e,...t){let i=[];e instanceof HD&&i.push(e),i=i.concat(t),(function(s){const a=s.filter((c=>c instanceof jD)).length,o=s.filter((c=>c instanceof dA)).length;if(a>1||a>0&&o>0)throw new Bt(mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class dA extends wte{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new dA(e,t,i)}_apply(e){const t=this._parse(e);return r7(e._query,t),new u_(e.firestore,e.converter,pI(e._query,t))}_parse(e){const t=yte(e.firestore);return(function(s,a,o,c,u,h,p){let y;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Bt(mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){O5(p,h);const _=[];for(const S of p)_.push(R5(c,s,S));y={arrayValue:{values:_}}}else y=R5(c,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||O5(p,h),y=vte(o,a,p,h==="in"||h==="not-in");return As.create(u,h,y)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ate(n,e,t){const i=e,r=VD("where",n);return dA._create(r,i,t)}class jD extends HD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jD(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:yu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,s){let a=r;const o=s.getFlattenedFilters();for(const c of o)r7(a,c),a=pI(a,c)})(e._query,t),new u_(e.firestore,e.converter,pI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function R5(n,e,t){if(typeof(t=gu(t))=="string"){if(t==="")throw new Bt(mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o8(e)&&t.indexOf("/")!==-1)throw new Bt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(sr.fromString(t));if(!tn.isDocumentKey(i))throw new Bt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qU(n,new tn(i))}if(t instanceof Us)return qU(n,t._key);throw new Bt(mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eA(t)}.`)}function O5(n,e){if(!Array.isArray(n)||n.length===0)throw new Bt(mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function r7(n,e){const t=(function(r,s){for(const a of r)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Bt(mt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Bt(mt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Mte{convertValue(e,t="none"){switch(Lp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return us(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Np(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Mn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return l_(e,((r,s)=>{i[r]=this.convertValue(s,t)})),i}convertVectorValue(e){var t,i,r;const s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[v2].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map((a=>us(a.doubleValue)));return new Ef(s)}convertGeoPoint(e){return new Sf(us(e.latitude),us(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=rA(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(vx(e));default:return null}}convertTimestamp(e){const t=Dp(e);return new xr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=sr.fromString(e);zr(M8(i),9688,{name:e});const r=new _x(i.get(1),i.get(3)),s=new tn(i.popFirst(5));return r.isEqual(t)||jh(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Sb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dg extends i7{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(VD("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Bt(mt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Dg._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Dg._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dg._jsonSchema={type:Ms("string",Dg._jsonSchemaVersion),bundleSource:Ms("string","DocumentSnapshot"),bundleName:Ms("string"),bundle:Ms("string")};class Vw extends Dg{data(e={}){return super.data(e)}}class u0{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Sb(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Vw(this._firestore,this._userDataWriter,i.key,i,new Sb(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Bt(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map((o=>{const c=new Vw(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Sb(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const c=new Vw(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Sb(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,h=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:Rte(o.type),doc:c,oldIndex:u,newIndex:h}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Bt(mt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=u0._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mD.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Rte(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mn(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ote(n){n=gx(n,Us);const e=gx(n.firestore,zD);return cte(Q8(e),n._key).then((t=>Ite(e,n,t)))}u0._jsonSchemaVersion="firestore/querySnapshot/1.0",u0._jsonSchema={type:Ms("string",u0._jsonSchemaVersion),bundleSource:Ms("string","QuerySnapshot"),bundleName:Ms("string"),bundle:Ms("string")};class s7 extends Mte{constructor(e){super(),this.firestore=e}convertBytes(e){return new _c(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Us(this.firestore,null,t)}}function GD(n){n=gx(n,u_);const e=gx(n.firestore,zD),t=Q8(e),i=new s7(e);return Tte(n._query),ute(t,n._query).then((r=>new u0(e,i,n,r)))}function Ite(n,e,t){const i=t.docs.get(e._key),r=new s7(n);return new Dg(n,r,e._key,i,new Sb(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){a_=r})(s_),x0(new qg("firestore",((i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),o=new zD(new kQ(i.getProvider("auth-internal")),new FQ(a,i.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Bt(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _x(u.options.projectId,h)})(a,r),a);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Tp(IU,PU,e),Tp(IU,PU,"esm2017")})();var Pte="firebase",Dte="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tp(Pte,Dte,"app");function qD(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function a7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nte=a7,o7=new aS("auth","Firebase",a7());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new fD("@firebase/auth");function Lte(n,...e){w2.logLevel<=ri.WARN&&w2.warn(`Auth (${s_}): ${n}`,...e)}function Hw(n,...e){w2.logLevel<=ri.ERROR&&w2.error(`Auth (${s_}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n,...e){throw WD(n,...e)}function Tf(n,...e){return WD(n,...e)}function l7(n,e,t){const i=Object.assign(Object.assign({},Nte()),{[e]:t});return new aS("auth","Firebase",i).create(e,{appName:n.name})}function Ng(n){return l7(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WD(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return o7.create(n,...e)}function xn(n,e,...t){if(!n)throw WD(e,...t)}function Ih(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hw(e),new Error(e)}function qh(n,e){n||Ih(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Ute(){return I5()==="http:"||I5()==="https:"}function I5(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kte(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ute()||pZ()||"connection"in navigator)?navigator.onLine:!0}function zte(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t){this.shortDelay=e,this.longDelay=t,qh(t>e,"Short delay should be less than long delay!"),this.isMobile=fZ()||mZ()}get(){return kte()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(n,e){qh(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ih("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ih("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ih("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fte=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vte=new dS(3e4,6e4);function XD(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function f_(n,e,t,i,r={}){return u7(n,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const o=oS(Object.assign({key:n.config.apiKey},a)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:c},s);return dZ()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&r_(n.emulatorConfig.host)&&(u.credentials="include"),c7.fetch()(await f7(n,n.config.apiHost,t,o),u)})}async function u7(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Bte),e);try{const r=new jte(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw nT(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw nT(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw nT(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw nT(n,"user-disabled",a);const h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw l7(n,h,u);Gh(n,h)}}catch(r){if(r instanceof id)throw r;Gh(n,"network-request-failed",{message:String(r)})}}async function Hte(n,e,t,i,r={}){const s=await f_(n,e,t,i,r);return"mfaPendingCredential"in s&&Gh(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function f7(n,e,t,i){const r=`${e}${t}?${i}`,s=n,a=s.config.emulator?$D(n.config,r):`${n.config.apiScheme}://${r}`;return Fte.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class jte{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Tf(this.auth,"network-request-failed")),Vte.get())})}}function nT(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Tf(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gte(n,e){return f_(n,"POST","/v1/accounts:delete",e)}async function C2(n,e){return f_(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qte(n,e=!1){const t=gu(n),i=await t.getIdToken(e),r=YD(i);xn(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s?.sign_in_provider;return{claims:r,token:i,authTime:jb(FR(r.auth_time)),issuedAtTime:jb(FR(r.iat)),expirationTime:jb(FR(r.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function FR(n){return Number(n)*1e3}function YD(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Hw("JWT malformed, contained fewer than 3 sections"),null;try{const r=EV(t);return r?JSON.parse(r):(Hw("Failed to decode base64 JWT payload"),null)}catch(r){return Hw("Caught error parsing JWT payload as JSON",r?.toString()),null}}function P5(n){const e=YD(n);return xn(e,"internal-error"),xn(typeof e.exp<"u","internal-error"),xn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof id&&Wte(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Wte({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jb(this.lastLoginAt),this.creationTime=jb(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(n){var e;const t=n.auth,i=await n.getIdToken(),r=await xx(n,C2(t,{idToken:i}));xn(r?.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?h7(s.providerUserInfo):[],o=Yte(n.providerData,a),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!o?.length,h=c?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new MI(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function Xte(n){const e=gu(n);await A2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yte(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function h7(n){return n.map(e=>{var{providerId:t}=e,i=qD(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kte(n,e){const t=await u7(n,{},async()=>{const i=oS({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,a=await f7(n,r,"/v1/token",`key=${s}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:i};return n.emulatorConfig&&r_(n.emulatorConfig.host)&&(c.credentials="include"),c7.fetch()(a,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Zte(n,e){return f_(n,"POST","/v2/accounts:revokeToken",XD(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xn(e.idToken,"internal-error"),xn(typeof e.idToken<"u","internal-error"),xn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xn(e.length!==0,"internal-error");const t=P5(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await Kte(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,a=new f0;return i&&(xn(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(xn(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(xn(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new f0,this.toJSON())}_performRefresh(){return Ih("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n,e){xn(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class hu{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=qD(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $te(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new MI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await xx(this,this.stsTokenManager.getToken(this.auth,e));return xn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qte(this,e)}reload(){return Xte(this)}_assign(e){this!==e&&(xn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await A2(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(df(this.auth.app))return Promise.reject(Ng(this.auth));const e=await this.getIdToken();return await xx(this,Gte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,a,o,c,u,h;const p=(i=t.displayName)!==null&&i!==void 0?i:void 0,y=(r=t.email)!==null&&r!==void 0?r:void 0,v=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,_=(a=t.photoURL)!==null&&a!==void 0?a:void 0,S=(o=t.tenantId)!==null&&o!==void 0?o:void 0,E=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=t.createdAt)!==null&&u!==void 0?u:void 0,w=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:M,emailVerified:C,isAnonymous:D,providerData:L,stsTokenManager:I}=t;xn(M&&I,e,"internal-error");const N=f0.fromJSON(this.name,I);xn(typeof M=="string",e,"internal-error"),Zd(p,e.name),Zd(y,e.name),xn(typeof C=="boolean",e,"internal-error"),xn(typeof D=="boolean",e,"internal-error"),Zd(v,e.name),Zd(_,e.name),Zd(S,e.name),Zd(E,e.name),Zd(x,e.name),Zd(w,e.name);const P=new hu({uid:M,auth:e,email:y,emailVerified:C,displayName:p,isAnonymous:D,photoURL:_,phoneNumber:v,tenantId:S,stsTokenManager:N,createdAt:x,lastLoginAt:w});return L&&Array.isArray(L)&&(P.providerData=L.map(U=>Object.assign({},U))),E&&(P._redirectEventId=E),P}static async _fromIdTokenResponse(e,t,i=!1){const r=new f0;r.updateFromServerResponse(t);const s=new hu({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await A2(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];xn(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?h7(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!s?.length,o=new f0;o.updateFromIdToken(i);const c=new hu({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new MI(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=new Map;function Ph(n){qh(n instanceof Function,"Expected a class definition");let e=D5.get(n);return e?(qh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,D5.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}d7.type="NONE";const N5=d7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n,e,t){return`firebase:${n}:${e}:${t}`}class h0{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=jw(this.userKey,r.apiKey,s),this.fullPersistenceKey=jw("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await C2(this.auth,{idToken:e}).catch(()=>{});return t?hu._fromGetAccountInfoResponse(this.auth,t,e):null}return hu._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new h0(Ph(N5),e,i);const r=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||Ph(N5);const a=jw(i,e.config.apiKey,e.name);let o=null;for(const u of t)try{const h=await u._get(a);if(h){let p;if(typeof h=="string"){const y=await C2(e,{idToken:h}).catch(()=>{});if(!y)break;p=await hu._fromGetAccountInfoResponse(e,y,h)}else p=hu._fromJSON(e,h);u!==s&&(o=p),s=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new h0(s,e,i):(s=c[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new h0(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_7(e))return"Blackberry";if(b7(e))return"Webos";if(m7(e))return"Safari";if((e.includes("chrome/")||g7(e))&&!e.includes("edge/"))return"Chrome";if(v7(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function p7(n=eo()){return/firefox\//i.test(n)}function m7(n=eo()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g7(n=eo()){return/crios\//i.test(n)}function y7(n=eo()){return/iemobile/i.test(n)}function v7(n=eo()){return/android/i.test(n)}function _7(n=eo()){return/blackberry/i.test(n)}function b7(n=eo()){return/webos/i.test(n)}function KD(n=eo()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Qte(n=eo()){var e;return KD(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Jte(){return gZ()&&document.documentMode===10}function x7(n=eo()){return KD(n)||v7(n)||b7(n)||_7(n)||/windows phone/i.test(n)||y7(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(n,e=[]){let t;switch(n){case"Browser":t=L5(eo());break;case"Worker":t=`${L5(eo())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${s_}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((a,o)=>{try{const c=e(s);a(c)}catch(c){o(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tne(n,e={}){return f_(n,"GET","/v2/passwordPolicy",XD(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nne=6;class ine{constructor(e){var t,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:nne,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,a,o;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),c}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U5(this),this.idTokenSubscription=new U5(this),this.beforeStateQueue=new ene(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ph(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await h0.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await C2(this,{idToken:e}),i=await hu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(df(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===o)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await A2(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zte()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(df(this.app))return Promise.reject(Ng(this));const t=e?gu(e):null;return t&&xn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return df(this.app)?Promise.reject(Ng(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return df(this.app)?Promise.reject(Ng(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ph(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tne(this),t=new ine(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new aS("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Zte(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ph(e)||this._popupRedirectResolver;xn(t,this,"argument-error"),this.redirectPersistenceManager=await h0.create(this,[Ph(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(xn(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,i,r);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(df(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Lte(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ZD(n){return gu(n)}class U5{constructor(e){this.auth=e,this.observer=null,this.addObserver=TZ(t=>this.observer=t)}get next(){return xn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QD={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sne(n){QD=n}function ane(n){return QD.loadJS(n)}function one(){return QD.gapiScript}function lne(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cne(n,e){const t=dD(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(Gg(s,e??{}))return r;Gh(r,"already-initialized")}return t.initialize({options:e})}function une(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ph);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function fne(n,e,t){const i=ZD(n);xn(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=E7(e),{host:a,port:o}=hne(e),c=o===null?"":`:${o}`,u={url:`${s}//${a}${c}/`},h=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){xn(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xn(Gg(u,i.config.emulator)&&Gg(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,r_(a)?(AV(`${s}//${a}${c}`),MV("Auth",!0)):dne()}function E7(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hne(n){const e=E7(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:k5(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:k5(a)}}}function k5(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dne(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ih("not implemented")}_getIdTokenResponse(e){return Ih("not implemented")}_linkToIdToken(e,t){return Ih("not implemented")}_getReauthenticationResolver(e){return Ih("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(n,e){return Hte(n,"POST","/v1/accounts:signInWithIdp",XD(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pne="http://localhost";class $g extends T7{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $g(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gh("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=qD(t,["providerId","signInMethod"]);if(!i||!r)return null;const a=new $g(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return d0(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,d0(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,d0(e,t)}buildRequest(){const e={requestUri:pne,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=oS(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS extends w7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends pS{constructor(){super("facebook.com")}static credential(e){return $g._fromParams({providerId:fp.PROVIDER_ID,signInMethod:fp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fp.credentialFromTaggedObject(e)}static credentialFromError(e){return fp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fp.credential(e.oauthAccessToken)}catch{return null}}}fp.FACEBOOK_SIGN_IN_METHOD="facebook.com";fp.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends pS{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $g._fromParams({providerId:Mh.PROVIDER_ID,signInMethod:Mh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mh.credentialFromTaggedObject(e)}static credentialFromError(e){return Mh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Mh.credential(t,i)}catch{return null}}}Mh.GOOGLE_SIGN_IN_METHOD="google.com";Mh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends pS{constructor(){super("github.com")}static credential(e){return $g._fromParams({providerId:hp.PROVIDER_ID,signInMethod:hp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hp.credentialFromTaggedObject(e)}static credentialFromError(e){return hp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hp.credential(e.oauthAccessToken)}catch{return null}}}hp.GITHUB_SIGN_IN_METHOD="github.com";hp.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends pS{constructor(){super("twitter.com")}static credential(e,t){return $g._fromParams({providerId:dp.PROVIDER_ID,signInMethod:dp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return dp.credentialFromTaggedObject(e)}static credentialFromError(e){return dp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return dp.credential(t,i)}catch{return null}}}dp.TWITTER_SIGN_IN_METHOD="twitter.com";dp.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await hu._fromIdTokenResponse(e,i,r),a=z5(i);return new M0({user:s,providerId:a,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=z5(i);return new M0({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function z5(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2 extends id{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,M2.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new M2(e,t,i,r)}}function C7(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?M2._fromErrorAndOperation(n,s,e,i):s})}async function mne(n,e,t=!1){const i=await xx(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return M0._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gne(n,e,t=!1){const{auth:i}=n;if(df(i.app))return Promise.reject(Ng(i));const r="reauthenticate";try{const s=await xx(n,C7(i,r,e,n),t);xn(s.idToken,i,"internal-error");const a=YD(s.idToken);xn(a,i,"internal-error");const{sub:o}=a;return xn(n.uid===o,i,"user-mismatch"),M0._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&Gh(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yne(n,e,t=!1){if(df(n.app))return Promise.reject(Ng(n));const i="signIn",r=await C7(n,i,e),s=await M0._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}function vne(n,e,t,i){return gu(n).onIdTokenChanged(e,t,i)}function _ne(n,e,t){return gu(n).beforeAuthStateChanged(e,t)}const R2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(R2,"1"),this.storage.removeItem(R2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bne=1e3,xne=10;class M7 extends A7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!t&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Jte()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,xne):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},bne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}M7.type="LOCAL";const Sne=M7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7 extends A7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}R7.type="SESSION";const O7=R7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ene(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new pA(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(a).map(async u=>u(t.origin,s)),c=await Ene(o);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((o,c)=>{const u=JD("",20);r.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const y=p;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(y.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(){return window}function wne(n){wf().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(){return typeof wf().WorkerGlobalScope<"u"&&typeof wf().importScripts=="function"}async function Cne(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ane(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Mne(){return I7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7="firebaseLocalStorageDb",Rne=1,O2="firebaseLocalStorage",D7="fbase_key";class mS{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mA(n,e){return n.transaction([O2],e?"readwrite":"readonly").objectStore(O2)}function One(){const n=indexedDB.deleteDatabase(P7);return new mS(n).toPromise()}function RI(){const n=indexedDB.open(P7,Rne);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(O2,{keyPath:D7})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(O2)?e(i):(i.close(),await One(),e(await RI()))})})}async function B5(n,e,t){const i=mA(n,!0).put({[D7]:e,value:t});return new mS(i).toPromise()}async function Ine(n,e){const t=mA(n,!1).get(e),i=await new mS(t).toPromise();return i===void 0?null:i.value}function F5(n,e){const t=mA(n,!0).delete(e);return new mS(t).toPromise()}const Pne=800,Dne=3;class N7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await RI(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Dne)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pA._getInstance(Mne()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Cne(),!this.activeServiceWorker)return;this.sender=new Tne(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ane()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await RI();return await B5(e,R2,"1"),await F5(e,R2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>B5(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Ine(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>F5(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=mA(r,!1).getAll();return new mS(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N7.type="LOCAL";const Nne=N7;new dS(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lne(n,e){return e?Ph(e):(xn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN extends T7{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return d0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return d0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return d0(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Une(n){return yne(n.auth,new eN(n),n.bypassAuthState)}function kne(n){const{auth:e,user:t}=n;return xn(t,e,"internal-error"),gne(t,new eN(n),n.bypassAuthState)}async function zne(n){const{auth:e,user:t}=n;return xn(t,e,"internal-error"),mne(t,new eN(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Une;case"linkViaPopup":case"linkViaRedirect":return zne;case"reauthViaPopup":case"reauthViaRedirect":return kne;default:Gh(this.auth,"internal-error")}}resolve(e){qh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bne=new dS(2e3,1e4);class e0 extends L7{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,e0.currentPopupAction&&e0.currentPopupAction.cancel(),e0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xn(e,this.auth,"internal-error"),e}async onExecution(){qh(this.filter.length===1,"Popup operations only handle one event");const e=JD();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tf(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e0.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tf(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bne.get())};e()}}e0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fne="pendingRedirect",Gw=new Map;class Vne extends L7{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Gw.get(this.auth._key());if(!e){try{const i=await Hne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Gw.set(this.auth._key(),e)}return this.bypassAuthState||Gw.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hne(n,e){const t=qne(e),i=Gne(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function jne(n,e){Gw.set(n._key(),e)}function Gne(n){return Ph(n._redirectPersistence)}function qne(n){return jw(Fne,n.config.apiKey,n.name)}async function Wne(n,e,t=!1){if(df(n.app))return Promise.reject(Ng(n));const i=ZD(n),r=Lne(i,e),a=await new Vne(i,r,t).execute();return a&&!t&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne=600*1e3;class Xne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yne(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!U7(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Tf(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$ne&&this.cachedEventUids.clear(),this.cachedEventUids.has(V5(e))}saveEventToCache(e){this.cachedEventUids.add(V5(e)),this.lastProcessedEventTime=Date.now()}}function V5(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function U7({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Yne(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U7(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kne(n,e={}){return f_(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qne=/^https?/;async function Jne(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Kne(n);for(const t of e)try{if(eie(t))return}catch{}Gh(n,"unauthorized-domain")}function eie(n){const e=AI(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!Qne.test(t))return!1;if(Zne.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tie=new dS(3e4,6e4);function H5(){const n=wf().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nie(n){return new Promise((e,t)=>{var i,r,s;function a(){H5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H5(),t(Tf(n,"network-request-failed"))},timeout:tie.get()})}if(!((r=(i=wf().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=wf().gapi)===null||s===void 0)&&s.load)a();else{const o=lne("iframefcb");return wf()[o]=()=>{gapi.load?a():t(Tf(n,"network-request-failed"))},ane(`${one()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw qw=null,e})}let qw=null;function iie(n){return qw=qw||nie(n),qw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rie=new dS(5e3,15e3),sie="__/auth/iframe",aie="emulator/auth/iframe",oie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cie(n){const e=n.config;xn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$D(e,aie):`https://${n.config.authDomain}/${sie}`,i={apiKey:e.apiKey,appName:n.name,v:s_},r=lie.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${oS(i).slice(1)}`}async function uie(n){const e=await iie(n),t=wf().gapi;return xn(t,n,"internal-error"),e.open({where:document.body,url:cie(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oie,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Tf(n,"network-request-failed"),o=wf().setTimeout(()=>{s(a)},rie.get());function c(){wf().clearTimeout(o),r(i)}i.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hie=500,die=600,pie="_blank",mie="http://localhost";class j5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gie(n,e,t,i=hie,r=die){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const c=Object.assign(Object.assign({},fie),{width:i.toString(),height:r.toString(),top:s,left:a}),u=eo().toLowerCase();t&&(o=g7(u)?pie:t),p7(u)&&(e=e||mie,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[v,_])=>`${y}${v}=${_},`,"");if(Qte(u)&&o!=="_self")return yie(e||"",o),new j5(null);const p=window.open(e||"",o,h);xn(p,n,"popup-blocked");try{p.focus()}catch{}return new j5(p)}function yie(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vie="__/auth/handler",_ie="emulator/auth/handler",bie=encodeURIComponent("fac");async function G5(n,e,t,i,r,s){xn(n.config.authDomain,n,"auth-domain-config-required"),xn(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:s_,eventId:r};if(e instanceof w7){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",EZ(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof pS){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}n.tenantId&&(a.tid=n.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const c=await n._getAppCheckToken(),u=c?`#${bie}=${encodeURIComponent(c)}`:"";return`${xie(n)}?${oS(o).slice(1)}${u}`}function xie({config:n}){return n.emulator?$D(n,_ie):`https://${n.authDomain}/${vie}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="webStorageSupport";class Sie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O7,this._completeRedirectFn=Wne,this._overrideRedirectResult=jne}async _openPopup(e,t,i,r){var s;qh((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await G5(e,t,i,AI(),r);return gie(e,a,JD())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await G5(e,t,i,AI(),r);return wne(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(qh(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await uie(e),i=new Xne(e);return t.register("authEvent",r=>(xn(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(VR,{type:VR},r=>{var s;const a=(s=r?.[0])===null||s===void 0?void 0:s[VR];a!==void 0&&t(!!a),Gh(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Jne(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return x7()||m7()||KD()}}const Eie=Sie;var q5="@firebase/auth",W5="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wie(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cie(n){x0(new qg("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;xn(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S7(n)},u=new rne(i,r,s,c);return une(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),x0(new qg("auth-internal",e=>{const t=ZD(e.getProvider("auth").getImmediate());return(i=>new Tie(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tp(q5,W5,wie(n)),Tp(q5,W5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aie=300,Mie=CV("authIdTokenMaxAge")||Aie;let $5=null;const Rie=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Mie)return;const r=t?.token;$5!==r&&($5=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Oie(n=PV()){const e=dD(n,"auth");if(e.isInitialized())return e.getImmediate();const t=cne(n,{popupRedirectResolver:Eie,persistence:[Nne,Sne,O7]}),i=CV("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=Rie(s.toString());_ne(t,a,()=>a(t.currentUser)),vne(t,o=>a(o))}}const r=TV("auth");return r&&fne(t,`http://${r}`),t}function Iie(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}sne({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Tf("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Iie().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cie("Browser");const Pie={apiKey:"AIzaSyD6drh2aoyblA6iwk80Ko26FHK2HK_cNmk",authDomain:"black-triangle-bjj.firebaseapp.com",projectId:"black-triangle-bjj",storageBucket:"black-triangle-bjj.firebasestorage.app",messagingSenderId:"128924794161",appId:"1:128924794161:web:7968a2a259fbc8899cc410",measurementId:"G-LBWF7DFVF5"},k7=IV(Pie),gA=dte(k7);Oie(k7);new Mh;function wh(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function z7(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Pl={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},R0={duration:.5,overwrite:!1,delay:0},tN,Sa,Sr,bc=1e8,Ji=1/bc,OI=Math.PI*2,Die=OI/4,Nie=0,B7=Math.sqrt,Lie=Math.cos,Uie=Math.sin,sa=function(e){return typeof e=="string"},Jr=function(e){return typeof e=="function"},Wh=function(e){return typeof e=="number"},nN=function(e){return typeof e>"u"},If=function(e){return typeof e=="object"},Qo=function(e){return e!==!1},iN=function(){return typeof window<"u"},iT=function(e){return Jr(e)||sa(e)},F7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ja=Array.isArray,kie=/random\([^)]+\)/g,zie=/,\s*/g,X5=/(?:-?\.?\d|\.)+/gi,V7=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,t0=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,HR=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,H7=/[+-]=-?[.\d]+/,Bie=/[^,'"\[\]\s]+/gi,Fie=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Nr,cf,II,rN,Ul={},I2={},j7,G7=function(e){return(I2=O0(e,Ul))&&rl},sN=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Sx=function(e,t){return!t&&console.warn(e)},q7=function(e,t){return e&&(Ul[e]=t)&&I2&&(I2[e]=t)||Ul},Ex=function(){return 0},Vie={suppressEvents:!0,isStart:!0,kill:!1},Ww={suppressEvents:!0,kill:!1},Hie={suppressEvents:!0},aN={},Mp=[],PI={},W7,Al={},jR={},Y5=30,$w=[],oN="",lN=function(e){var t=e[0],i,r;if(If(t)||Jr(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=$w.length;r--&&!$w[r].targetTest(t););i=$w[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new gH(e[r],i)))||e.splice(r,1);return e},Lg=function(e){return e._gsap||lN(xc(e))[0]._gsap},$7=function(e,t,i){return(i=e[t])&&Jr(i)?e[t]():nN(i)&&e.getAttribute&&e.getAttribute(t)||i},Jo=function(e,t){return(e=e.split(",")).forEach(t)||e},fs=function(e){return Math.round(e*1e5)/1e5||0},Dr=function(e){return Math.round(e*1e7)/1e7||0},p0=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},jie=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},P2=function(){var e=Mp.length,t=Mp.slice(0),i,r;for(PI={},Mp.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},cN=function(e){return!!(e._initted||e._startAt||e.add)},X7=function(e,t,i,r){Mp.length&&!Sa&&P2(),e.render(t,i,!!(Sa&&t<0&&cN(e))),Mp.length&&!Sa&&P2()},Y7=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Bie).length<2?t:sa(e)?e.trim():e},K7=function(e){return e},kl=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},Gie=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},O0=function(e,t){for(var i in t)e[i]=t[i];return e},K5=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=If(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},D2=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},Gb=function(e){var t=e.parent||Nr,i=e.keyframes?Gie(Ja(e.keyframes)):kl;if(Qo(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},qie=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},Z7=function(e,t,i,r,s){var a=e[r],o;if(s)for(o=t[s];a&&a[s]>o;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},yA=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=t._prev,a=t._next;s?s._next=a:e[i]===t&&(e[i]=a),a?a._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},zp=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ug=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},Wie=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},DI=function(e,t,i,r){return e._startAt&&(Sa?e._startAt.revert(Ww):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},$ie=function n(e){return!e||e._ts&&n(e.parent)},Z5=function(e){return e._repeat?I0(e._tTime,e=e.duration()+e._rDelay)*e:0},I0=function(e,t){var i=Math.floor(e=Dr(e/t));return e&&i===e?i-1:i},N2=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},vA=function(e){return e._end=Dr(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ji)||0))},_A=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Dr(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),vA(e),i._dirty||Ug(i,e)),e},Q7=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=N2(e.rawTime(),t),(!t._dur||gS(0,t.totalDuration(),i)-t._tTime>Ji)&&t.render(i,!0)),Ug(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-Ji}},mf=function(e,t,i,r){return t.parent&&zp(t),t._start=Dr((Wh(i)?i:i||e!==Nr?mc(e,i,t):e._time)+t._delay),t._end=Dr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Z7(e,t,"_first","_last",e._sort?"_start":0),NI(t)||(e._recent=t),r||Q7(e,t),e._ts<0&&_A(e,e._tTime),e},J7=function(e,t){return(Ul.ScrollTrigger||sN("scrollTrigger",t))&&Ul.ScrollTrigger.create(t,e)},eH=function(e,t,i,r,s){if(fN(e,t,s),!e._initted)return 1;if(!i&&e._pt&&!Sa&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&W7!==Ml.frame)return Mp.push(e),e._lazy=[s,r],1},Xie=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},NI=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Yie=function(e,t,i,r){var s=e.ratio,a=t<0||!t&&(!e._start&&Xie(e)&&!(!e._initted&&NI(e))||(e._ts<0||e._dp._ts<0)&&!NI(e))?0:1,o=e._rDelay,c=0,u,h,p;if(o&&e._repeat&&(c=gS(0,e._tDur,t),h=I0(c,o),e._yoyo&&h&1&&(a=1-a),h!==I0(e._tTime,o)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||Sa||r||e._zTime===Ji||!t&&e._zTime){if(!e._initted&&eH(e,t,r,i,c))return;for(p=e._zTime,e._zTime=t||(i?Ji:0),i||(i=t&&!p),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,u=e._pt;u;)u.r(a,u.d),u=u._next;t<0&&DI(e,t,i,!0),e._onUpdate&&!i&&Ol(e,"onUpdate"),c&&e._repeat&&!i&&e.parent&&Ol(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&zp(e,1),!i&&!Sa&&(Ol(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Kie=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},P0=function(e,t,i,r){var s=e._repeat,a=Dr(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:Dr(a*(s+1)+e._rDelay*s):a,o>0&&!r&&_A(e,e._tTime=e._tDur*o),e.parent&&vA(e),i||Ug(e.parent,e),e},Q5=function(e){return e instanceof Co?Ug(e):P0(e,e._dur)},Zie={_start:0,endTime:Ex,totalDuration:Ex},mc=function n(e,t,i){var r=e.labels,s=e._recent||Zie,a=e.duration()>=bc?s.endTime(!1):e._dur,o,c,u;return sa(t)&&(isNaN(t)||t in r)?(c=t.charAt(0),u=t.substr(-1)==="%",o=t.indexOf("="),c==="<"||c===">"?(o>=0&&(t=t.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(o<0?s:i).totalDuration()/100:1)):o<0?(t in r||(r[t]=a),r[t]):(c=parseFloat(t.charAt(o-1)+t.substr(o+1)),u&&i&&(c=c/100*(Ja(i)?i[0]:i).totalDuration()),o>1?n(e,t.substr(0,o-1),i)+c:a+c)):t==null?a:+t},qb=function(e,t,i){var r=Wh(t[1]),s=(r?2:1)+(e<2?0:1),a=t[s],o,c;if(r&&(a.duration=t[1]),a.parent=i,e){for(o=a,c=i;c&&!("immediateRender"in o);)o=c.vars.defaults||{},c=Qo(c.vars.inherit)&&c.parent;a.immediateRender=Qo(o.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new Ts(t[0],a,t[s+1])},Xp=function(e,t){return e||e===0?t(e):t},gS=function(e,t,i){return i<e?e:i>t?t:i},Za=function(e,t){return!sa(e)||!(t=Fie.exec(e))?"":t[1]},Qie=function(e,t,i){return Xp(i,function(r){return gS(e,t,r)})},LI=[].slice,tH=function(e,t){return e&&If(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&If(e[0]))&&!e.nodeType&&e!==cf},Jie=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var s;return sa(r)&&!t||tH(r,1)?(s=i).push.apply(s,xc(r)):i.push(r)})||i},xc=function(e,t,i){return Sr&&!t&&Sr.selector?Sr.selector(e):sa(e)&&!i&&(II||!D0())?LI.call((t||rN).querySelectorAll(e),0):Ja(e)?Jie(e,i):tH(e)?LI.call(e,0):e?[e]:[]},UI=function(e){return e=xc(e)[0]||Sx("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return xc(t,i.querySelectorAll?i:i===e?Sx("Invalid scope")||rN.createElement("div"):e)}},nH=function(e){return e.sort(function(){return .5-Math.random()})},iH=function(e){if(Jr(e))return e;var t=If(e)?e:{each:e},i=kg(t.ease),r=t.from||0,s=parseFloat(t.base)||0,a={},o=r>0&&r<1,c=isNaN(r)||o,u=t.axis,h=r,p=r;return sa(r)?h=p={center:.5,edges:.5,end:1}[r]||0:!o&&c&&(h=r[0],p=r[1]),function(y,v,_){var S=(_||t).length,E=a[S],x,w,M,C,D,L,I,N,P;if(!E){if(P=t.grid==="auto"?0:(t.grid||[1,bc])[1],!P){for(I=-bc;I<(I=_[P++].getBoundingClientRect().left)&&P<S;);P<S&&P--}for(E=a[S]=[],x=c?Math.min(P,S)*h-.5:r%P,w=P===bc?0:c?S*p/P-.5:r/P|0,I=0,N=bc,L=0;L<S;L++)M=L%P-x,C=w-(L/P|0),E[L]=D=u?Math.abs(u==="y"?C:M):B7(M*M+C*C),D>I&&(I=D),D<N&&(N=D);r==="random"&&nH(E),E.max=I-N,E.min=N,E.v=S=(parseFloat(t.amount)||parseFloat(t.each)*(P>S?S-1:u?u==="y"?S/P:P:Math.max(P,S/P))||0)*(r==="edges"?-1:1),E.b=S<0?s-S:s,E.u=Za(t.amount||t.each)||0,i=i&&S<0?dH(i):i}return S=(E[y]-E.min)/E.max||0,Dr(E.b+(i?i(S):S)*E.v)+E.u}},kI=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Dr(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(Wh(i)?0:Za(i))}},rH=function(e,t){var i=Ja(e),r,s;return!i&&If(e)&&(r=i=e.radius||bc,e.values?(e=xc(e.values),(s=!Wh(e[0]))&&(r*=r)):e=kI(e.increment)),Xp(t,i?Jr(e)?function(a){return s=e(a),Math.abs(s-a)<=r?s:a}:function(a){for(var o=parseFloat(s?a.x:a),c=parseFloat(s?a.y:0),u=bc,h=0,p=e.length,y,v;p--;)s?(y=e[p].x-o,v=e[p].y-c,y=y*y+v*v):y=Math.abs(e[p]-o),y<u&&(u=y,h=p);return h=!r||u<=r?e[h]:a,s||h===a||Wh(a)?h:h+Za(a)}:kI(e))},sH=function(e,t,i,r){return Xp(Ja(e)?!t:i===!0?!!(i=0):!r,function(){return Ja(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},ere=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,a){return a(s)},r)}},tre=function(e,t){return function(i){return e(parseFloat(i))+(t||Za(i))}},nre=function(e,t,i){return oH(e,t,0,1,i)},aH=function(e,t,i){return Xp(i,function(r){return e[~~t(r)]})},ire=function n(e,t,i){var r=t-e;return Ja(e)?aH(e,n(0,e.length),t):Xp(i,function(s){return(r+(s-e)%r)%r+e})},rre=function n(e,t,i){var r=t-e,s=r*2;return Ja(e)?aH(e,n(0,e.length-1),t):Xp(i,function(a){return a=(s+(a-e)%s)%s||0,e+(a>r?s-a:a)})},Tx=function(e){return e.replace(kie,function(t){var i=t.indexOf("[")+1,r=t.substring(i||7,i?t.indexOf("]"):t.length-1).split(zie);return sH(i?r:+r[0],i?0:+r[1],+r[2]||1e-5)})},oH=function(e,t,i,r,s){var a=t-e,o=r-i;return Xp(s,function(c){return i+((c-e)/a*o||0)})},sre=function n(e,t,i,r){var s=isNaN(e+t)?0:function(v){return(1-v)*e+v*t};if(!s){var a=sa(e),o={},c,u,h,p,y;if(i===!0&&(r=1)&&(i=null),a)e={p:e},t={p:t};else if(Ja(e)&&!Ja(t)){for(h=[],p=e.length,y=p-2,u=1;u<p;u++)h.push(n(e[u-1],e[u]));p--,s=function(_){_*=p;var S=Math.min(y,~~_);return h[S](_-S)},i=t}else r||(e=O0(Ja(e)?[]:{},e));if(!h){for(c in t)uN.call(o,e,c,"get",t[c]);s=function(_){return pN(_,o)||(a?e.p:e)}}}return Xp(i,s)},J5=function(e,t,i){var r=e.labels,s=bc,a,o,c;for(a in r)o=r[a]-t,o<0==!!i&&o&&s>(o=Math.abs(o))&&(c=a,s=o);return c},Ol=function(e,t,i){var r=e.vars,s=r[t],a=Sr,o=e._ctx,c,u,h;if(s)return c=r[t+"Params"],u=r.callbackScope||e,i&&Mp.length&&P2(),o&&(Sr=o),h=c?s.apply(u,c):s.call(u),Sr=a,h},Eb=function(e){return zp(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Sa),e.progress()<1&&Ol(e,"onInterrupt"),e},n0,lH=[],cH=function(e){if(e)if(e=!e.name&&e.default||e,iN()||e.headless){var t=e.name,i=Jr(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:Ex,render:pN,add:uN,kill:xre,modifier:bre,rawVars:0},a={targetTest:0,get:0,getSetter:dN,aliases:{},register:0};if(D0(),e!==r){if(Al[t])return;kl(r,kl(D2(e,s),a)),O0(r.prototype,O0(s,D2(e,a))),Al[r.prop=t]=r,e.targetTest&&($w.push(r),aN[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}q7(t,r),e.register&&e.register(rl,r,el)}else lH.push(e)},Qi=255,Tb={aqua:[0,Qi,Qi],lime:[0,Qi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Qi],navy:[0,0,128],white:[Qi,Qi,Qi],olive:[128,128,0],yellow:[Qi,Qi,0],orange:[Qi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Qi,0,0],pink:[Qi,192,203],cyan:[0,Qi,Qi],transparent:[Qi,Qi,Qi,0]},GR=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*Qi+.5|0},uH=function(e,t,i){var r=e?Wh(e)?[e>>16,e>>8&Qi,e&Qi]:0:Tb.black,s,a,o,c,u,h,p,y,v,_;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Tb[e])r=Tb[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+s+s+a+a+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&Qi,r&Qi,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&Qi,e&Qi]}else if(e.substr(0,3)==="hsl"){if(r=_=e.match(X5),!t)c=+r[0]%360/360,u=+r[1]/100,h=+r[2]/100,a=h<=.5?h*(u+1):h+u-h*u,s=h*2-a,r.length>3&&(r[3]*=1),r[0]=GR(c+1/3,s,a),r[1]=GR(c,s,a),r[2]=GR(c-1/3,s,a);else if(~e.indexOf("="))return r=e.match(V7),i&&r.length<4&&(r[3]=1),r}else r=e.match(X5)||Tb.transparent;r=r.map(Number)}return t&&!_&&(s=r[0]/Qi,a=r[1]/Qi,o=r[2]/Qi,p=Math.max(s,a,o),y=Math.min(s,a,o),h=(p+y)/2,p===y?c=u=0:(v=p-y,u=h>.5?v/(2-p-y):v/(p+y),c=p===s?(a-o)/v+(a<o?6:0):p===a?(o-s)/v+2:(s-a)/v+4,c*=60),r[0]=~~(c+.5),r[1]=~~(u*100+.5),r[2]=~~(h*100+.5)),i&&r.length<4&&(r[3]=1),r},fH=function(e){var t=[],i=[],r=-1;return e.split(Rp).forEach(function(s){var a=s.match(t0)||[];t.push.apply(t,a),i.push(r+=a.length+1)}),t.c=i,t},ek=function(e,t,i){var r="",s=(e+r).match(Rp),a=t?"hsla(":"rgba(",o=0,c,u,h,p;if(!s)return e;if(s=s.map(function(y){return(y=uH(y,t,1))&&a+(t?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),i&&(h=fH(e),c=i.c,c.join(r)!==h.c.join(r)))for(u=e.replace(Rp,"1").split(t0),p=u.length-1;o<p;o++)r+=u[o]+(~c.indexOf(o)?s.shift()||a+"0,0,0,0)":(h.length?h:s.length?s:i).shift());if(!u)for(u=e.split(Rp),p=u.length-1;o<p;o++)r+=u[o]+s[o];return r+u[p]},Rp=(function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Tb)n+="|"+e+"\\b";return new RegExp(n+")","gi")})(),are=/hsl[a]?\(/,hH=function(e){var t=e.join(" "),i;if(Rp.lastIndex=0,Rp.test(t))return i=are.test(t),e[1]=ek(e[1],i),e[0]=ek(e[0],i,fH(e[1])),!0},wx,Ml=(function(){var n=Date.now,e=500,t=33,i=n(),r=i,s=1e3/240,a=s,o=[],c,u,h,p,y,v,_=function S(E){var x=n()-r,w=E===!0,M,C,D,L;if((x>e||x<0)&&(i+=x-t),r+=x,D=r-i,M=D-a,(M>0||w)&&(L=++p.frame,y=D-p.time*1e3,p.time=D=D/1e3,a+=M+(M>=s?4:s-M),C=1),w||(c=u(S)),C)for(v=0;v<o.length;v++)o[v](D,y,L,E)};return p={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(E){return y/(1e3/(E||60))},wake:function(){j7&&(!II&&iN()&&(cf=II=window,rN=cf.document||{},Ul.gsap=rl,(cf.gsapVersions||(cf.gsapVersions=[])).push(rl.version),G7(I2||cf.GreenSockGlobals||!cf.gsap&&cf||{}),lH.forEach(cH)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&p.sleep(),u=h||function(E){return setTimeout(E,a-p.time*1e3+1|0)},wx=1,_(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(c),wx=0,u=Ex},lagSmoothing:function(E,x){e=E||1/0,t=Math.min(x||33,e)},fps:function(E){s=1e3/(E||240),a=p.time*1e3+s},add:function(E,x,w){var M=x?function(C,D,L,I){E(C,D,L,I),p.remove(M)}:E;return p.remove(E),o[w?"unshift":"push"](M),D0(),M},remove:function(E,x){~(x=o.indexOf(E))&&o.splice(x,1)&&v>=x&&v--},_listeners:o},p})(),D0=function(){return!wx&&Ml.wake()},ui={},ore=/^[\d.\-M][\d.\-,\s]/,lre=/["']/g,cre=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,a=i.length,o,c,u;s<a;s++)c=i[s],o=s!==a-1?c.lastIndexOf(","):c.length,u=c.substr(0,o),t[r]=isNaN(u)?u.replace(lre,"").trim():+u,r=c.substr(o+1).trim();return t},ure=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},fre=function(e){var t=(e+"").split("("),i=ui[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[cre(t[1])]:ure(e).split(",").map(Y7)):ui._CE&&ore.test(e)?ui._CE("",e):i},dH=function(e){return function(t){return 1-e(1-t)}},pH=function n(e,t){for(var i=e._first,r;i;)i instanceof Co?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},kg=function(e,t){return e&&(Jr(e)?e:ui[e]||fre(e))||t},ry=function(e,t,i,r){i===void 0&&(i=function(c){return 1-t(1-c)}),r===void 0&&(r=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var s={easeIn:t,easeOut:i,easeInOut:r},a;return Jo(e,function(o){ui[o]=Ul[o]=s,ui[a=o.toLowerCase()]=i;for(var c in s)ui[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=ui[o+"."+c]=s[c]}),s},mH=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},qR=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),a=s/OI*(Math.asin(1/r)||0),o=function(h){return h===1?1:r*Math.pow(2,-10*h)*Uie((h-a)*s)+1},c=e==="out"?o:e==="in"?function(u){return 1-o(1-u)}:mH(o);return s=OI/s,c.config=function(u,h){return n(e,u,h)},c},WR=function n(e,t){t===void 0&&(t=1.70158);var i=function(a){return a?--a*a*((t+1)*a+t)+1:0},r=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:mH(i);return r.config=function(s){return n(e,s)},r};Jo("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;ry(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});ui.Linear.easeNone=ui.none=ui.Linear.easeIn;ry("Elastic",qR("in"),qR("out"),qR());(function(n,e){var t=1/e,i=2*t,r=2.5*t,s=function(o){return o<t?n*o*o:o<i?n*Math.pow(o-1.5/e,2)+.75:o<r?n*(o-=2.25/e)*o+.9375:n*Math.pow(o-2.625/e,2)+.984375};ry("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);ry("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});ry("Circ",function(n){return-(B7(1-n*n)-1)});ry("Sine",function(n){return n===1?1:-Lie(n*Die)+1});ry("Back",WR("in"),WR("out"),WR());ui.SteppedEase=ui.steps=Ul.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0,a=1-Ji;return function(o){return((r*gS(0,a,o)|0)+s)*i}}};R0.ease=ui["quad.out"];Jo("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return oN+=n+","+n+"Params,"});var gH=function(e,t){this.id=Nie++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:$7,this.set=t?t.getSetter:dN},Cx=(function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,P0(this,+t.duration,1,1),this.data=t.data,Sr&&(this._ctx=Sr,Sr.data.push(this)),wx||Ml.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,P0(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(D0(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(_A(this,i),!s._dp||s.parent||Q7(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&mf(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Ji||!this._initted&&this._dur&&i||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),X7(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Z5(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Z5(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?I0(this._tTime,s)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-Ji?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?N2(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Ji?0:this._rts,this.totalTime(gS(-Math.abs(this._delay),this.totalDuration(),s),r!==!1),vA(this),Wie(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(D0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ji&&(this._tTime-=Ji)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=Dr(i);var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&mf(r,this,this._start-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Qo(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?N2(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=Hie);var r=Sa;return Sa=i,cN(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Sa=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,Q5(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,Q5(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(mc(this,i),Qo(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Qo(r)),this._dur||(this._zTime=-Ji),this},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Ji:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ji,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-Ji)},e.eventCallback=function(i,r,s){var a=this.vars;return arguments.length>1?(r?(a[i]=r,s&&(a[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete a[i],this):a[i]},e.then=function(i){var r=this,s=r._prom;return new Promise(function(a){var o=Jr(i)?i:K7,c=function(){var h=r.then;r.then=null,s&&s(),Jr(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=h),a(o),r.then=h};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?c():r._prom=c})},e.kill=function(){Eb(this)},n})();kl(Cx.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ji,_prom:0,_ps:!1,_rts:1});var Co=(function(n){z7(e,n);function e(i,r){var s;return i===void 0&&(i={}),s=n.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=Qo(i.sortChildren),Nr&&mf(i.parent||Nr,wh(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&J7(wh(s),i.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,a){return qb(0,arguments,this),this},t.from=function(r,s,a){return qb(1,arguments,this),this},t.fromTo=function(r,s,a,o){return qb(2,arguments,this),this},t.set=function(r,s,a){return s.duration=0,s.parent=this,Gb(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Ts(r,s,mc(this,a),1),this},t.call=function(r,s,a){return mf(this,Ts.delayedCall(0,r,s),a)},t.staggerTo=function(r,s,a,o,c,u,h){return a.duration=s,a.stagger=a.stagger||o,a.onComplete=u,a.onCompleteParams=h,a.parent=this,new Ts(r,a,mc(this,c)),this},t.staggerFrom=function(r,s,a,o,c,u,h){return a.runBackwards=1,Gb(a).immediateRender=Qo(a.immediateRender),this.staggerTo(r,s,a,o,c,u,h)},t.staggerFromTo=function(r,s,a,o,c,u,h,p){return o.startAt=a,Gb(o).immediateRender=Qo(o.immediateRender),this.staggerTo(r,s,o,c,u,h,p)},t.render=function(r,s,a){var o=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,h=r<=0?0:Dr(r),p=this._zTime<0!=r<0&&(this._initted||!u),y,v,_,S,E,x,w,M,C,D,L,I;if(this!==Nr&&h>c&&r>=0&&(h=c),h!==this._tTime||a||p){if(o!==this._time&&u&&(h+=this._time-o,r+=this._time-o),y=h,C=this._start,M=this._ts,x=!M,p&&(u||(o=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(L=this._yoyo,E=u+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(E*100+r,s,a);if(y=Dr(h%E),h===c?(S=this._repeat,y=u):(D=Dr(h/E),S=~~D,S&&S===D&&(y=u,S--),y>u&&(y=u)),D=I0(this._tTime,E),!o&&this._tTime&&D!==S&&this._tTime-D*E-this._dur<=0&&(D=S),L&&S&1&&(y=u-y,I=1),S!==D&&!this._lock){var N=L&&D&1,P=N===(L&&S&1);if(S<D&&(N=!N),o=N?0:h%u?u:h,this._lock=1,this.render(o||(I?0:Dr(S*E)),s,!u)._lock=0,this._tTime=h,!s&&this.parent&&Ol(this,"onRepeat"),this.vars.repeatRefresh&&!I&&(this.invalidate()._lock=1,D=S),o&&o!==this._time||x!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,P&&(this._lock=2,o=N?u:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!I&&this.invalidate()),this._lock=0,!this._ts&&!x)return this;pH(this,I)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=Kie(this,Dr(o),Dr(y)),w&&(h-=y-(y=w._start))),this._tTime=h,this._time=y,this._act=!M,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&h&&u&&!s&&!D&&(Ol(this,"onStart"),this._tTime!==h))return this;if(y>=o&&r>=0)for(v=this._first;v;){if(_=v._next,(v._act||y>=v._start)&&v._ts&&w!==v){if(v.parent!==this)return this.render(r,s,a);if(v.render(v._ts>0?(y-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(y-v._start)*v._ts,s,a),y!==this._time||!this._ts&&!x){w=0,_&&(h+=this._zTime=-Ji);break}}v=_}else{v=this._last;for(var U=r<0?r:y;v;){if(_=v._prev,(v._act||U<=v._end)&&v._ts&&w!==v){if(v.parent!==this)return this.render(r,s,a);if(v.render(v._ts>0?(U-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(U-v._start)*v._ts,s,a||Sa&&cN(v)),y!==this._time||!this._ts&&!x){w=0,_&&(h+=this._zTime=U?-Ji:Ji);break}}v=_}}if(w&&!s&&(this.pause(),w.render(y>=o?0:-Ji)._zTime=y>=o?1:-1,this._ts))return this._start=C,vA(this),this.render(r,s,a);this._onUpdate&&!s&&Ol(this,"onUpdate",!0),(h===c&&this._tTime>=this.totalDuration()||!h&&o)&&(C===this._start||Math.abs(M)!==Math.abs(this._ts))&&(this._lock||((r||!u)&&(h===c&&this._ts>0||!h&&this._ts<0)&&zp(this,1),!s&&!(r<0&&!o)&&(h||o||!c)&&(Ol(this,h===c&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var a=this;if(Wh(s)||(s=mc(this,s,r)),!(r instanceof Cx)){if(Ja(r))return r.forEach(function(o){return a.add(o,s)}),this;if(sa(r))return this.addLabel(r,s);if(Jr(r))r=Ts.delayedCall(0,r);else return this}return this!==r?mf(this,r,s):this},t.getChildren=function(r,s,a,o){r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),o===void 0&&(o=-bc);for(var c=[],u=this._first;u;)u._start>=o&&(u instanceof Ts?s&&c.push(u):(a&&c.push(u),r&&c.push.apply(c,u.getChildren(!0,s,a)))),u=u._next;return c},t.getById=function(r){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===r)return s[a]},t.remove=function(r){return sa(r)?this.removeLabel(r):Jr(r)?this.killTweensOf(r):(r.parent===this&&yA(this,r),r===this._recent&&(this._recent=this._last),Ug(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Dr(Ml.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=mc(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,a){var o=Ts.delayedCall(0,s||Ex,a);return o.data="isPause",this._hasPause=1,mf(this,o,mc(this,r))},t.removePause=function(r){var s=this._first;for(r=mc(this,r);s;)s._start===r&&s.data==="isPause"&&zp(s),s=s._next},t.killTweensOf=function(r,s,a){for(var o=this.getTweensOf(r,a),c=o.length;c--;)vp!==o[c]&&o[c].kill(r,s);return this},t.getTweensOf=function(r,s){for(var a=[],o=xc(r),c=this._first,u=Wh(s),h;c;)c instanceof Ts?jie(c._targets,o)&&(u?(!vp||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&a.push(c):(h=c.getTweensOf(o,s)).length&&a.push.apply(a,h),c=c._next;return a},t.tweenTo=function(r,s){s=s||{};var a=this,o=mc(a,r),c=s,u=c.startAt,h=c.onStart,p=c.onStartParams,y=c.immediateRender,v,_=Ts.to(a,kl({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:s.duration||Math.abs((o-(u&&"time"in u?u.time:a._time))/a.timeScale())||Ji,onStart:function(){if(a.pause(),!v){var E=s.duration||Math.abs((o-(u&&"time"in u?u.time:a._time))/a.timeScale());_._dur!==E&&P0(_,E,0,1).render(_._time,!0,!0),v=1}h&&h.apply(_,p||[])}},s));return y?_.render(0):_},t.tweenFromTo=function(r,s,a){return this.tweenTo(s,kl({startAt:{time:mc(this,r)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),J5(this,mc(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),J5(this,mc(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Ji)},t.shiftChildren=function(r,s,a){a===void 0&&(a=0);var o=this._first,c=this.labels,u;for(r=Dr(r);o;)o._start>=a&&(o._start+=r,o._end+=r),o=o._next;if(s)for(u in c)c[u]>=a&&(c[u]+=r);return Ug(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Ug(this)},t.totalDuration=function(r){var s=0,a=this,o=a._last,c=bc,u,h,p;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(p=a.parent;o;)u=o._prev,o._dirty&&o.totalDuration(),h=o._start,h>c&&a._sort&&o._ts&&!a._lock?(a._lock=1,mf(a,o,h-o._delay,1)._lock=0):c=h,h<0&&o._ts&&(s-=h,(!p&&!a._dp||p&&p.smoothChildTiming)&&(a._start+=Dr(h/a._ts),a._time-=h,a._tTime-=h),a.shiftChildren(-h,!1,-1/0),c=0),o._end>s&&o._ts&&(s=o._end),o=u;P0(a,a===Nr&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if(Nr._ts&&(X7(Nr,N2(r,Nr)),W7=Ml.frame),Ml.frame>=Y5){Y5+=Pl.autoSleep||120;var s=Nr._first;if((!s||!s._ts)&&Pl.autoSleep&&Ml._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Ml.sleep()}}},e})(Cx);kl(Co.prototype,{_lock:0,_hasPause:0,_forcing:0});var hre=function(e,t,i,r,s,a,o){var c=new el(this._pt,e,t,0,1,SH,null,s),u=0,h=0,p,y,v,_,S,E,x,w;for(c.b=i,c.e=r,i+="",r+="",(x=~r.indexOf("random("))&&(r=Tx(r)),a&&(w=[i,r],a(w,e,t),i=w[0],r=w[1]),y=i.match(HR)||[];p=HR.exec(r);)_=p[0],S=r.substring(u,p.index),v?v=(v+1)%5:S.substr(-5)==="rgba("&&(v=1),_!==y[h++]&&(E=parseFloat(y[h-1])||0,c._pt={_next:c._pt,p:S||h===1?S:",",s:E,c:_.charAt(1)==="="?p0(E,_)-E:parseFloat(_)-E,m:v&&v<4?Math.round:0},u=HR.lastIndex);return c.c=u<r.length?r.substring(u,r.length):"",c.fp=o,(H7.test(r)||x)&&(c.e=0),this._pt=c,c},uN=function(e,t,i,r,s,a,o,c,u,h){Jr(r)&&(r=r(s||0,e,a));var p=e[t],y=i!=="get"?i:Jr(p)?u?e[t.indexOf("set")||!Jr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():p,v=Jr(p)?u?yre:bH:hN,_;if(sa(r)&&(~r.indexOf("random(")&&(r=Tx(r)),r.charAt(1)==="="&&(_=p0(y,r)+(Za(y)||0),(_||_===0)&&(r=_))),!h||y!==r||zI)return!isNaN(y*r)&&r!==""?(_=new el(this._pt,e,t,+y||0,r-(y||0),typeof p=="boolean"?_re:xH,0,v),u&&(_.fp=u),o&&_.modifier(o,this,e),this._pt=_):(!p&&!(t in e)&&sN(t,r),hre.call(this,e,t,y,r,v,c||Pl.stringFilter,u))},dre=function(e,t,i,r,s){if(Jr(e)&&(e=Wb(e,s,t,i,r)),!If(e)||e.style&&e.nodeType||Ja(e)||F7(e))return sa(e)?Wb(e,s,t,i,r):e;var a={},o;for(o in e)a[o]=Wb(e[o],s,t,i,r);return a},yH=function(e,t,i,r,s,a){var o,c,u,h;if(Al[e]&&(o=new Al[e]).init(s,o.rawVars?t[e]:dre(t[e],r,s,a,i),i,r,a)!==!1&&(i._pt=c=new el(i._pt,s,e,0,1,o.render,o,0,o.priority),i!==n0))for(u=i._ptLookup[i._targets.indexOf(s)],h=o._props.length;h--;)u[o._props[h]]=c;return o},vp,zI,fN=function n(e,t,i){var r=e.vars,s=r.ease,a=r.startAt,o=r.immediateRender,c=r.lazy,u=r.onUpdate,h=r.runBackwards,p=r.yoyoEase,y=r.keyframes,v=r.autoRevert,_=e._dur,S=e._startAt,E=e._targets,x=e.parent,w=x&&x.data==="nested"?x.vars.targets:E,M=e._overwrite==="auto"&&!tN,C=e.timeline,D,L,I,N,P,U,V,z,F,K,ee,q,$;if(C&&(!y||!s)&&(s="none"),e._ease=kg(s,R0.ease),e._yEase=p?dH(kg(p===!0?s:p,R0.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!C&&!!r.runBackwards,!C||y&&!r.stagger){if(z=E[0]?Lg(E[0]).harness:0,q=z&&r[z.prop],D=D2(r,aN),S&&(S._zTime<0&&S.progress(1),t<0&&h&&o&&!v?S.render(-1,!0):S.revert(h&&_?Ww:Vie),S._lazy=0),a){if(zp(e._startAt=Ts.set(E,kl({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:!S&&Qo(c),startAt:null,delay:0,onUpdate:u&&function(){return Ol(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Sa||!o&&!v)&&e._startAt.revert(Ww),o&&_&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(h&&_&&!S){if(t&&(o=!1),I=kl({overwrite:!1,data:"isFromStart",lazy:o&&!S&&Qo(c),immediateRender:o,stagger:0,parent:x},D),q&&(I[z.prop]=q),zp(e._startAt=Ts.set(E,I)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Sa?e._startAt.revert(Ww):e._startAt.render(-1,!0)),e._zTime=t,!o)n(e._startAt,Ji,Ji);else if(!t)return}for(e._pt=e._ptCache=0,c=_&&Qo(c)||c&&!_,L=0;L<E.length;L++){if(P=E[L],V=P._gsap||lN(E)[L]._gsap,e._ptLookup[L]=K={},PI[V.id]&&Mp.length&&P2(),ee=w===E?L:w.indexOf(P),z&&(F=new z).init(P,q||D,e,ee,w)!==!1&&(e._pt=N=new el(e._pt,P,F.name,0,1,F.render,F,0,F.priority),F._props.forEach(function(Q){K[Q]=N}),F.priority&&(U=1)),!z||q)for(I in D)Al[I]&&(F=yH(I,D,e,ee,P,w))?F.priority&&(U=1):K[I]=N=uN.call(e,P,I,"get",D[I],ee,w,0,r.stringFilter);e._op&&e._op[L]&&e.kill(P,e._op[L]),M&&e._pt&&(vp=e,Nr.killTweensOf(P,K,e.globalTime(t)),$=!e.parent,vp=0),e._pt&&c&&(PI[V.id]=1)}U&&EH(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!$,y&&t<=0&&C.render(bc,!0,!0)},pre=function(e,t,i,r,s,a,o,c){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],h,p,y,v;if(!u)for(u=e._ptCache[t]=[],y=e._ptLookup,v=e._targets.length;v--;){if(h=y[v][t],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==t&&h.fp!==t;)h=h._next;if(!h)return zI=1,e.vars[t]="+=0",fN(e,o),zI=0,c?Sx(t+" not eligible for reset"):1;u.push(h)}for(v=u.length;v--;)p=u[v],h=p._pt||p,h.s=(r||r===0)&&!s?r:h.s+(r||0)+a*h.c,h.c=i-h.s,p.e&&(p.e=fs(i)+Za(p.e)),p.b&&(p.b=h.s+Za(p.b))},mre=function(e,t){var i=e[0]?Lg(e[0]).harness:0,r=i&&i.aliases,s,a,o,c;if(!r)return t;s=O0({},t);for(a in r)if(a in s)for(c=r[a].split(","),o=c.length;o--;)s[c[o]]=s[a];return s},gre=function(e,t,i,r){var s=t.ease||r||"power1.inOut",a,o;if(Ja(t))o=i[e]||(i[e]=[]),t.forEach(function(c,u){return o.push({t:u/(t.length-1)*100,v:c,e:s})});else for(a in t)o=i[a]||(i[a]=[]),a==="ease"||o.push({t:parseFloat(e),v:t[a],e:s})},Wb=function(e,t,i,r,s){return Jr(e)?e.call(t,i,r,s):sa(e)&&~e.indexOf("random(")?Tx(e):e},vH=oN+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_H={};Jo(vH+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return _H[n]=1});var Ts=(function(n){z7(e,n);function e(i,r,s,a){var o;typeof r=="number"&&(s.duration=r,r=s,s=null),o=n.call(this,a?r:Gb(r))||this;var c=o.vars,u=c.duration,h=c.delay,p=c.immediateRender,y=c.stagger,v=c.overwrite,_=c.keyframes,S=c.defaults,E=c.scrollTrigger,x=c.yoyoEase,w=r.parent||Nr,M=(Ja(i)||F7(i)?Wh(i[0]):"length"in r)?[i]:xc(i),C,D,L,I,N,P,U,V;if(o._targets=M.length?lN(M):Sx("GSAP target "+i+" not found. https://gsap.com",!Pl.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=v,_||y||iT(u)||iT(h)){if(r=o.vars,C=o.timeline=new Co({data:"nested",defaults:S||{},targets:w&&w.data==="nested"?w.vars.targets:M}),C.kill(),C.parent=C._dp=wh(o),C._start=0,y||iT(u)||iT(h)){if(I=M.length,U=y&&iH(y),If(y))for(N in y)~vH.indexOf(N)&&(V||(V={}),V[N]=y[N]);for(D=0;D<I;D++)L=D2(r,_H),L.stagger=0,x&&(L.yoyoEase=x),V&&O0(L,V),P=M[D],L.duration=+Wb(u,wh(o),D,P,M),L.delay=(+Wb(h,wh(o),D,P,M)||0)-o._delay,!y&&I===1&&L.delay&&(o._delay=h=L.delay,o._start+=h,L.delay=0),C.to(P,L,U?U(D,P,M):0),C._ease=ui.none;C.duration()?u=h=0:o.timeline=0}else if(_){Gb(kl(C.vars.defaults,{ease:"none"})),C._ease=kg(_.ease||r.ease||"none");var z=0,F,K,ee;if(Ja(_))_.forEach(function(q){return C.to(M,q,">")}),C.duration();else{L={};for(N in _)N==="ease"||N==="easeEach"||gre(N,_[N],L,_.easeEach);for(N in L)for(F=L[N].sort(function(q,$){return q.t-$.t}),z=0,D=0;D<F.length;D++)K=F[D],ee={ease:K.e,duration:(K.t-(D?F[D-1].t:0))/100*u},ee[N]=K.v,C.to(M,ee,z),z+=ee.duration;C.duration()<u&&C.to({},{duration:u-C.duration()})}}u||o.duration(u=C.duration())}else o.timeline=0;return v===!0&&!tN&&(vp=wh(o),Nr.killTweensOf(M),vp=0),mf(w,wh(o),s),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(p||!u&&!_&&o._start===Dr(w._time)&&Qo(p)&&$ie(wh(o))&&w.data!=="nested")&&(o._tTime=-Ji,o.render(Math.max(0,-h)||0)),E&&J7(wh(o),E),o}var t=e.prototype;return t.render=function(r,s,a){var o=this._time,c=this._tDur,u=this._dur,h=r<0,p=r>c-Ji&&!h?c:r<Ji?0:r,y,v,_,S,E,x,w,M,C;if(!u)Yie(this,r,s,a);else if(p!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(y=p,M=this.timeline,this._repeat){if(S=u+this._rDelay,this._repeat<-1&&h)return this.totalTime(S*100+r,s,a);if(y=Dr(p%S),p===c?(_=this._repeat,y=u):(E=Dr(p/S),_=~~E,_&&_===E?(y=u,_--):y>u&&(y=u)),x=this._yoyo&&_&1,x&&(C=this._yEase,y=u-y),E=I0(this._tTime,S),y===o&&!a&&this._initted&&_===E)return this._tTime=p,this;_!==E&&(M&&this._yEase&&pH(M,x),this.vars.repeatRefresh&&!x&&!this._lock&&y!==S&&this._initted&&(this._lock=a=1,this.render(Dr(S*_),!0).invalidate()._lock=0))}if(!this._initted){if(eH(this,h?r:y,a,s,p))return this._tTime=0,this;if(o!==this._time&&!(a&&this.vars.repeatRefresh&&_!==E))return this;if(u!==this._dur)return this.render(r,s,a)}if(this._tTime=p,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(C||this._ease)(y/u),this._from&&(this.ratio=w=1-w),!o&&p&&!s&&!E&&(Ol(this,"onStart"),this._tTime!==p))return this;for(v=this._pt;v;)v.r(w,v.d),v=v._next;M&&M.render(r<0?r:M._dur*M._ease(y/this._dur),s,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(h&&DI(this,r,s,a),Ol(this,"onUpdate")),this._repeat&&_!==E&&this.vars.onRepeat&&!s&&this.parent&&Ol(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(h&&!this._onUpdate&&DI(this,r,!0,!0),(r||!u)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&zp(this,1),!s&&!(h&&!o)&&(p||o||x)&&(Ol(this,p===c?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,a,o,c){wx||Ml.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||fN(this,u),h=this._ease(u/this._dur),pre(this,r,s,a,o,h,u,c)?this.resetTo(r,s,a,o,1):(_A(this,0),this.parent||Z7(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Eb(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Sa),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,vp&&vp.vars.overwrite!==!0)._first||Eb(this),this.parent&&a!==this.timeline.totalDuration()&&P0(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,c=r?xc(r):o,u=this._ptLookup,h=this._pt,p,y,v,_,S,E,x;if((!s||s==="all")&&qie(o,c))return s==="all"&&(this._pt=0),Eb(this);for(p=this._op=this._op||[],s!=="all"&&(sa(s)&&(S={},Jo(s,function(w){return S[w]=1}),s=S),s=mre(o,s)),x=o.length;x--;)if(~c.indexOf(o[x])){y=u[x],s==="all"?(p[x]=s,_=y,v={}):(v=p[x]=p[x]||{},_=s);for(S in _)E=y&&y[S],E&&((!("kill"in E.d)||E.d.kill(S)===!0)&&yA(this,E,"_pt"),delete y[S]),v!=="all"&&(v[S]=1)}return this._initted&&!this._pt&&h&&Eb(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return qb(1,arguments)},e.delayedCall=function(r,s,a,o){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(r,s,a){return qb(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,a){return Nr.killTweensOf(r,s,a)},e})(Cx);kl(Ts.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Jo("staggerTo,staggerFrom,staggerFromTo",function(n){Ts[n]=function(){var e=new Co,t=LI.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var hN=function(e,t,i){return e[t]=i},bH=function(e,t,i){return e[t](i)},yre=function(e,t,i,r){return e[t](r.fp,i)},vre=function(e,t,i){return e.setAttribute(t,i)},dN=function(e,t){return Jr(e[t])?bH:nN(e[t])&&e.setAttribute?vre:hN},xH=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},_re=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},SH=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},pN=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},bre=function(e,t,i,r){for(var s=this._pt,a;s;)a=s._next,s.p===r&&s.modifier(e,t,i),s=a},xre=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?yA(this,t,"_pt"):t.dep||(i=1),t=r;return!i},Sre=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},EH=function(e){for(var t=e._pt,i,r,s,a;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:a)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:a=t,t=i}e._pt=s},el=(function(){function n(t,i,r,s,a,o,c,u,h){this.t=i,this.s=s,this.c=a,this.p=r,this.r=o||xH,this.d=c||this,this.set=u||hN,this.pr=h||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=Sre,this.m=i,this.mt=s,this.tween=r},n})();Jo(oN+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return aN[n]=1});Ul.TweenMax=Ul.TweenLite=Ts;Ul.TimelineLite=Ul.TimelineMax=Co;Nr=new Co({sortChildren:!1,defaults:R0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Pl.stringFilter=hH;var zg=[],Xw={},Ere=[],tk=0,Tre=0,$R=function(e){return(Xw[e]||Ere).map(function(t){return t()})},BI=function(){var e=Date.now(),t=[];e-tk>2&&($R("matchMediaInit"),zg.forEach(function(i){var r=i.queries,s=i.conditions,a,o,c,u;for(o in r)a=cf.matchMedia(r[o]).matches,a&&(c=1),a!==s[o]&&(s[o]=a,u=1);u&&(i.revert(),c&&t.push(i))}),$R("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),tk=e,$R("matchMedia"))},TH=(function(){function n(t,i){this.selector=i&&UI(i),this.data=[],this._r=[],this.isReverted=!1,this.id=Tre++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,s){Jr(i)&&(s=r,r=i,i=Jr);var a=this,o=function(){var u=Sr,h=a.selector,p;return u&&u!==a&&u.data.push(a),s&&(a.selector=UI(s)),Sr=a,p=r.apply(a,arguments),Jr(p)&&a._r.push(p),Sr=u,a.selector=h,a.isReverted=!1,p};return a.last=o,i===Jr?o(a,function(c){return a.add(null,c)}):i?a[i]=o:o},e.ignore=function(i){var r=Sr;Sr=null,i(this),Sr=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof Ts&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i?(function(){for(var o=s.getTweens(),c=s.data.length,u;c--;)u=s.data[c],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(h){return o.splice(o.indexOf(h),1)}));for(o.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,p){return p.g-h.g||-1/0}).forEach(function(h){return h.t.revert(i)}),c=s.data.length;c--;)u=s.data[c],u instanceof Co?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Ts)&&u.revert&&u.revert(i);s._r.forEach(function(h){return h(i,s)}),s.isReverted=!0})():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),r)for(var a=zg.length;a--;)zg[a].id===this.id&&zg.splice(a,1)},e.revert=function(i){this.kill(i||{})},n})(),wre=(function(){function n(t){this.contexts=[],this.scope=t,Sr&&Sr.data.push(this)}var e=n.prototype;return e.add=function(i,r,s){If(i)||(i={matches:i});var a=new TH(0,s||this.scope),o=a.conditions={},c,u,h;Sr&&!a.selector&&(a.selector=Sr.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=i;for(u in i)u==="all"?h=1:(c=cf.matchMedia(i[u]),c&&(zg.indexOf(a)<0&&zg.push(a),(o[u]=c.matches)&&(h=1),c.addListener?c.addListener(BI):c.addEventListener("change",BI)));return h&&r(a,function(p){return a.add(null,p)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n})(),L2={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return cH(r)})},timeline:function(e){return new Co(e)},getTweensOf:function(e,t){return Nr.getTweensOf(e,t)},getProperty:function(e,t,i,r){sa(e)&&(e=xc(e)[0]);var s=Lg(e||{}).get,a=i?K7:Y7;return i==="native"&&(i=""),e&&(t?a((Al[t]&&Al[t].get||s)(e,t,i,r)):function(o,c,u){return a((Al[o]&&Al[o].get||s)(e,o,c,u))})},quickSetter:function(e,t,i){if(e=xc(e),e.length>1){var r=e.map(function(h){return rl.quickSetter(h,t,i)}),s=r.length;return function(h){for(var p=s;p--;)r[p](h)}}e=e[0]||{};var a=Al[t],o=Lg(e),c=o.harness&&(o.harness.aliases||{})[t]||t,u=a?function(h){var p=new a;n0._pt=0,p.init(e,i?h+i:h,n0,0,[e]),p.render(1,p),n0._pt&&pN(1,n0)}:o.set(e,c);return a?u:function(h){return u(e,c,i?h+i:h,o,1)}},quickTo:function(e,t,i){var r,s=rl.to(e,kl((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),i||{})),a=function(c,u,h){return s.resetTo(t,c,u,h)};return a.tween=s,a},isTweening:function(e){return Nr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=kg(e.ease,R0.ease)),K5(R0,e||{})},config:function(e){return K5(Pl,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,s=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!Al[o]&&!Ul[o]&&Sx(t+" effect requires "+o+" plugin.")}),jR[t]=function(o,c,u){return i(xc(o),kl(c||{},s),u)},a&&(Co.prototype[t]=function(o,c,u){return this.add(jR[t](o,If(c)?c:(u=c)&&{},this),u)})},registerEase:function(e,t){ui[e]=kg(t)},parseEase:function(e,t){return arguments.length?kg(e,t):ui},getById:function(e){return Nr.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new Co(e),r,s;for(i.smoothChildTiming=Qo(e.smoothChildTiming),Nr.remove(i),i._dp=0,i._time=i._tTime=Nr._time,r=Nr._first;r;)s=r._next,(t||!(!r._dur&&r instanceof Ts&&r.vars.onComplete===r._targets[0]))&&mf(i,r,r._start-r._delay),r=s;return mf(Nr,i,0),i},context:function(e,t){return e?new TH(e,t):Sr},matchMedia:function(e){return new wre(e)},matchMediaRefresh:function(){return zg.forEach(function(e){var t=e.conditions,i,r;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||BI()},addEventListener:function(e,t){var i=Xw[e]||(Xw[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=Xw[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:ire,wrapYoyo:rre,distribute:iH,random:sH,snap:rH,normalize:nre,getUnit:Za,clamp:Qie,splitColor:uH,toArray:xc,selector:UI,mapRange:oH,pipe:ere,unitize:tre,interpolate:sre,shuffle:nH},install:G7,effects:jR,ticker:Ml,updateRoot:Co.updateRoot,plugins:Al,globalTimeline:Nr,core:{PropTween:el,globals:q7,Tween:Ts,Timeline:Co,Animation:Cx,getCache:Lg,_removeLinkedListItem:yA,reverting:function(){return Sa},context:function(e){return e&&Sr&&(Sr.data.push(e),e._ctx=Sr),Sr},suppressOverwrites:function(e){return tN=e}}};Jo("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return L2[n]=Ts[n]});Ml.add(Co.updateRoot);n0=L2.to({},{duration:0});var Cre=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},Are=function(e,t){var i=e._targets,r,s,a;for(r in t)for(s=i.length;s--;)a=e._ptLookup[s][r],a&&(a=a.d)&&(a._pt&&(a=Cre(a,r)),a&&a.modifier&&a.modifier(t[r],e,i[s],r))},XR=function(e,t){return{name:e,headless:1,rawVars:1,init:function(r,s,a){a._onInit=function(o){var c,u;if(sa(s)&&(c={},Jo(s,function(h){return c[h]=1}),s=c),t){c={};for(u in s)c[u]=t(s[u]);s=c}Are(o,s)}}}},rl=L2.registerPlugin({name:"attr",init:function(e,t,i,r,s){var a,o,c;this.tween=i;for(a in t)c=e.getAttribute(a)||"",o=this.add(e,"setAttribute",(c||0)+"",t[a],r,s,0,0,a),o.op=a,o.b=c,this._props.push(a)},render:function(e,t){for(var i=t._pt;i;)Sa?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},XR("roundProps",kI),XR("modifiers"),XR("snap",rH))||L2;Ts.version=Co.version=rl.version="3.14.2";j7=1;iN()&&D0();ui.Power0;ui.Power1;ui.Power2;ui.Power3;ui.Power4;ui.Linear;ui.Quad;ui.Cubic;ui.Quart;ui.Quint;ui.Strong;ui.Elastic;ui.Back;ui.SteppedEase;ui.Bounce;ui.Sine;ui.Expo;ui.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var nk,_p,m0,mN,wg,ik,gN,Mre=function(){return typeof window<"u"},$h={},mg=180/Math.PI,g0=Math.PI/180,lv=Math.atan2,rk=1e8,yN=/([A-Z])/g,Rre=/(left|right|width|margin|padding|x)/i,Ore=/[\s,\(]\S/,vf={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},FI=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Ire=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Pre=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Dre=function(e,t){return t.set(t.t,t.p,e===1?t.e:e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Nre=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},wH=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},CH=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Lre=function(e,t,i){return e.style[t]=i},Ure=function(e,t,i){return e.style.setProperty(t,i)},kre=function(e,t,i){return e._gsap[t]=i},zre=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},Bre=function(e,t,i,r,s){var a=e._gsap;a.scaleX=a.scaleY=i,a.renderTransform(s,a)},Fre=function(e,t,i,r,s){var a=e._gsap;a[t]=i,a.renderTransform(s,a)},Lr="transform",tl=Lr+"Origin",Vre=function n(e,t){var i=this,r=this.target,s=r.style,a=r._gsap;if(e in $h&&s){if(this.tfm=this.tfm||{},e!=="transform")e=vf[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=Ch(r,o)}):this.tfm[e]=a.x?a[e]:Ch(r,e),e===tl&&(this.tfm.zOrigin=a.zOrigin);else return vf.transform.split(",").forEach(function(o){return n.call(i,o,t)});if(this.props.indexOf(Lr)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(tl,t,"")),e=Lr}(s||t)&&this.props.push(e,t,s[e])},AH=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Hre=function(){var e=this.props,t=this.target,i=t.style,r=t._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(yN,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=gN(),(!s||!s.isStart)&&!i[Lr]&&(AH(i),r.zOrigin&&i[tl]&&(i[tl]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},MH=function(e,t){var i={target:e,props:[],revert:Hre,save:Vre};return e._gsap||rl.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return i.save(r)}),i},RH,VI=function(e,t){var i=_p.createElementNS?_p.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):_p.createElement(e);return i&&i.style?i:_p.createElement(e)},Il=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(yN,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,N0(t)||t,1)||""},sk="O,Moz,ms,Ms,Webkit".split(","),N0=function(e,t,i){var r=t||wg,s=r.style,a=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(sk[a]+e in s););return a<0?null:(a===3?"ms":a>=0?sk[a]:"")+e},HI=function(){Mre()&&window.document&&(nk=window,_p=nk.document,m0=_p.documentElement,wg=VI("div")||{style:{}},VI("div"),Lr=N0(Lr),tl=Lr+"Origin",wg.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",RH=!!N0("perspective"),gN=rl.core.reverting,mN=1)},ak=function(e){var t=e.ownerSVGElement,i=VI("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",i.appendChild(r),m0.appendChild(i);try{s=r.getBBox()}catch{}return i.removeChild(r),m0.removeChild(i),s},ok=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},OH=function(e){var t,i;try{t=e.getBBox()}catch{t=ak(e),i=1}return t&&(t.width||t.height)||i||(t=ak(e)),t&&!t.width&&!t.x&&!t.y?{x:+ok(e,["x","cx","x1"])||0,y:+ok(e,["y","cy","y1"])||0,width:0,height:0}:t},IH=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&OH(e))},Bp=function(e,t){if(t){var i=e.style,r;t in $h&&t!==tl&&(t=Lr),i.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(r==="--"?t:t.replace(yN,"-$1").toLowerCase())):i.removeAttribute(t)}},bp=function(e,t,i,r,s,a){var o=new el(e._pt,t,i,0,1,a?CH:wH);return e._pt=o,o.b=r,o.e=s,e._props.push(i),o},lk={deg:1,rad:1,turn:1},jre={grid:1,flex:1},Fp=function n(e,t,i,r){var s=parseFloat(i)||0,a=(i+"").trim().substr((s+"").length)||"px",o=wg.style,c=Rre.test(t),u=e.tagName.toLowerCase()==="svg",h=(u?"client":"offset")+(c?"Width":"Height"),p=100,y=r==="px",v=r==="%",_,S,E,x;if(r===a||!s||lk[r]||lk[a])return s;if(a!=="px"&&!y&&(s=n(e,t,i,"px")),x=e.getCTM&&IH(e),(v||a==="%")&&($h[t]||~t.indexOf("adius")))return _=x?e.getBBox()[c?"width":"height"]:e[h],fs(v?s/_*p:s/100*_);if(o[c?"width":"height"]=p+(y?a:r),S=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!u?e:e.parentNode,x&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===_p||!S.appendChild)&&(S=_p.body),E=S._gsap,E&&v&&E.width&&c&&E.time===Ml.time&&!E.uncache)return fs(s/E.width*p);if(v&&(t==="height"||t==="width")){var w=e.style[t];e.style[t]=p+r,_=e[h],w?e.style[t]=w:Bp(e,t)}else(v||a==="%")&&!jre[Il(S,"display")]&&(o.position=Il(e,"position")),S===e&&(o.position="static"),S.appendChild(wg),_=wg[h],S.removeChild(wg),o.position="absolute";return c&&v&&(E=Lg(S),E.time=Ml.time,E.width=S[h]),fs(y?_*s/p:_&&s?p/_*s:0)},Ch=function(e,t,i,r){var s;return mN||HI(),t in vf&&t!=="transform"&&(t=vf[t],~t.indexOf(",")&&(t=t.split(",")[0])),$h[t]&&t!=="transform"?(s=Mx(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:k2(Il(e,tl))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=U2[t]&&U2[t](e,t,i)||Il(e,t)||$7(e,t)||(t==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?Fp(e,t,s,i)+i:s},Gre=function(e,t,i,r){if(!i||i==="none"){var s=N0(t,e,1),a=s&&Il(e,s,1);a&&a!==i?(t=s,i=a):t==="borderColor"&&(i=Il(e,"borderTopColor"))}var o=new el(this._pt,e.style,t,0,1,SH),c=0,u=0,h,p,y,v,_,S,E,x,w,M,C,D;if(o.b=i,o.e=r,i+="",r+="",r.substring(0,6)==="var(--"&&(r=Il(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(S=e.style[t],e.style[t]=r,r=Il(e,t)||r,S?e.style[t]=S:Bp(e,t)),h=[i,r],hH(h),i=h[0],r=h[1],y=i.match(t0)||[],D=r.match(t0)||[],D.length){for(;p=t0.exec(r);)E=p[0],w=r.substring(c,p.index),_?_=(_+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(_=1),E!==(S=y[u++]||"")&&(v=parseFloat(S)||0,C=S.substr((v+"").length),E.charAt(1)==="="&&(E=p0(v,E)+C),x=parseFloat(E),M=E.substr((x+"").length),c=t0.lastIndex-M.length,M||(M=M||Pl.units[t]||C,c===r.length&&(r+=M,o.e+=M)),C!==M&&(v=Fp(e,t,S,M)||0),o._pt={_next:o._pt,p:w||u===1?w:",",s:v,c:x-v,m:_&&_<4||t==="zIndex"?Math.round:0});o.c=c<r.length?r.substring(c,r.length):""}else o.r=t==="display"&&r==="none"?CH:wH;return H7.test(r)&&(o.e=0),this._pt=o,o},ck={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},qre=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=ck[i]||i,t[1]=ck[r]||r,t.join(" ")},Wre=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,s=t.u,a=i._gsap,o,c,u;if(s==="all"||s===!0)r.cssText="",c=1;else for(s=s.split(","),u=s.length;--u>-1;)o=s[u],$h[o]&&(c=1,o=o==="transformOrigin"?tl:Lr),Bp(i,o);c&&(Bp(i,Lr),a&&(a.svg&&i.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",Mx(i,1),a.uncache=1,AH(r)))}},U2={clearProps:function(e,t,i,r,s){if(s.data!=="isFromStart"){var a=e._pt=new el(e._pt,t,i,0,0,Wre);return a.u=r,a.pr=-10,a.tween=s,e._props.push(i),1}}},Ax=[1,0,0,1,0,0],PH={},DH=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},uk=function(e){var t=Il(e,Lr);return DH(t)?Ax:t.substr(7).match(V7).map(fs)},vN=function(e,t){var i=e._gsap||Lg(e),r=e.style,s=uk(e),a,o,c,u;return i.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?Ax:s):(s===Ax&&!e.offsetParent&&e!==m0&&!i.svg&&(c=r.display,r.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,o=e.nextElementSibling,m0.appendChild(e)),s=uk(e),c?r.display=c:Bp(e,"display"),u&&(o?a.insertBefore(e,o):a?a.appendChild(e):m0.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},jI=function(e,t,i,r,s,a){var o=e._gsap,c=s||vN(e,!0),u=o.xOrigin||0,h=o.yOrigin||0,p=o.xOffset||0,y=o.yOffset||0,v=c[0],_=c[1],S=c[2],E=c[3],x=c[4],w=c[5],M=t.split(" "),C=parseFloat(M[0])||0,D=parseFloat(M[1])||0,L,I,N,P;i?c!==Ax&&(I=v*E-_*S)&&(N=C*(E/I)+D*(-S/I)+(S*w-E*x)/I,P=C*(-_/I)+D*(v/I)-(v*w-_*x)/I,C=N,D=P):(L=OH(e),C=L.x+(~M[0].indexOf("%")?C/100*L.width:C),D=L.y+(~(M[1]||M[0]).indexOf("%")?D/100*L.height:D)),r||r!==!1&&o.smooth?(x=C-u,w=D-h,o.xOffset=p+(x*v+w*S)-x,o.yOffset=y+(x*_+w*E)-w):o.xOffset=o.yOffset=0,o.xOrigin=C,o.yOrigin=D,o.smooth=!!r,o.origin=t,o.originIsAbsolute=!!i,e.style[tl]="0px 0px",a&&(bp(a,o,"xOrigin",u,C),bp(a,o,"yOrigin",h,D),bp(a,o,"xOffset",p,o.xOffset),bp(a,o,"yOffset",y,o.yOffset)),e.setAttribute("data-svg-origin",C+" "+D)},Mx=function(e,t){var i=e._gsap||new gH(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,s=i.scaleX<0,a="px",o="deg",c=getComputedStyle(e),u=Il(e,tl)||"0",h,p,y,v,_,S,E,x,w,M,C,D,L,I,N,P,U,V,z,F,K,ee,q,$,Q,se,de,Y,le,pe,ue,ie;return h=p=y=S=E=x=w=M=C=0,v=_=1,i.svg=!!(e.getCTM&&IH(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(r[Lr]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Lr]!=="none"?c[Lr]:"")),r.scale=r.rotate=r.translate="none"),I=vN(e,i.svg),i.svg&&(i.uncache?(Q=e.getBBox(),u=i.xOrigin-Q.x+"px "+(i.yOrigin-Q.y)+"px",$=""):$=!t&&e.getAttribute("data-svg-origin"),jI(e,$||u,!!$||i.originIsAbsolute,i.smooth!==!1,I)),D=i.xOrigin||0,L=i.yOrigin||0,I!==Ax&&(V=I[0],z=I[1],F=I[2],K=I[3],h=ee=I[4],p=q=I[5],I.length===6?(v=Math.sqrt(V*V+z*z),_=Math.sqrt(K*K+F*F),S=V||z?lv(z,V)*mg:0,w=F||K?lv(F,K)*mg+S:0,w&&(_*=Math.abs(Math.cos(w*g0))),i.svg&&(h-=D-(D*V+L*F),p-=L-(D*z+L*K))):(ie=I[6],pe=I[7],de=I[8],Y=I[9],le=I[10],ue=I[11],h=I[12],p=I[13],y=I[14],N=lv(ie,le),E=N*mg,N&&(P=Math.cos(-N),U=Math.sin(-N),$=ee*P+de*U,Q=q*P+Y*U,se=ie*P+le*U,de=ee*-U+de*P,Y=q*-U+Y*P,le=ie*-U+le*P,ue=pe*-U+ue*P,ee=$,q=Q,ie=se),N=lv(-F,le),x=N*mg,N&&(P=Math.cos(-N),U=Math.sin(-N),$=V*P-de*U,Q=z*P-Y*U,se=F*P-le*U,ue=K*U+ue*P,V=$,z=Q,F=se),N=lv(z,V),S=N*mg,N&&(P=Math.cos(N),U=Math.sin(N),$=V*P+z*U,Q=ee*P+q*U,z=z*P-V*U,q=q*P-ee*U,V=$,ee=Q),E&&Math.abs(E)+Math.abs(S)>359.9&&(E=S=0,x=180-x),v=fs(Math.sqrt(V*V+z*z+F*F)),_=fs(Math.sqrt(q*q+ie*ie)),N=lv(ee,q),w=Math.abs(N)>2e-4?N*mg:0,C=ue?1/(ue<0?-ue:ue):0),i.svg&&($=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!DH(Il(e,Lr)),$&&e.setAttribute("transform",$))),Math.abs(w)>90&&Math.abs(w)<270&&(s?(v*=-1,w+=S<=0?180:-180,S+=S<=0?180:-180):(_*=-1,w+=w<=0?180:-180)),t=t||i.uncache,i.x=h-((i.xPercent=h&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+a,i.y=p-((i.yPercent=p&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+a,i.z=y+a,i.scaleX=fs(v),i.scaleY=fs(_),i.rotation=fs(S)+o,i.rotationX=fs(E)+o,i.rotationY=fs(x)+o,i.skewX=w+o,i.skewY=M+o,i.transformPerspective=C+a,(i.zOrigin=parseFloat(u.split(" ")[2])||!t&&i.zOrigin||0)&&(r[tl]=k2(u)),i.xOffset=i.yOffset=0,i.force3D=Pl.force3D,i.renderTransform=i.svg?Xre:RH?NH:$re,i.uncache=0,i},k2=function(e){return(e=e.split(" "))[0]+" "+e[1]},YR=function(e,t,i){var r=Za(t);return fs(parseFloat(t)+parseFloat(Fp(e,"x",i+"px",r)))+r},$re=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,NH(e,t)},Wm="0deg",B1="0px",$m=") ",NH=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,c=i.z,u=i.rotation,h=i.rotationY,p=i.rotationX,y=i.skewX,v=i.skewY,_=i.scaleX,S=i.scaleY,E=i.transformPerspective,x=i.force3D,w=i.target,M=i.zOrigin,C="",D=x==="auto"&&e&&e!==1||x===!0;if(M&&(p!==Wm||h!==Wm)){var L=parseFloat(h)*g0,I=Math.sin(L),N=Math.cos(L),P;L=parseFloat(p)*g0,P=Math.cos(L),a=YR(w,a,I*P*-M),o=YR(w,o,-Math.sin(L)*-M),c=YR(w,c,N*P*-M+M)}E!==B1&&(C+="perspective("+E+$m),(r||s)&&(C+="translate("+r+"%, "+s+"%) "),(D||a!==B1||o!==B1||c!==B1)&&(C+=c!==B1||D?"translate3d("+a+", "+o+", "+c+") ":"translate("+a+", "+o+$m),u!==Wm&&(C+="rotate("+u+$m),h!==Wm&&(C+="rotateY("+h+$m),p!==Wm&&(C+="rotateX("+p+$m),(y!==Wm||v!==Wm)&&(C+="skew("+y+", "+v+$m),(_!==1||S!==1)&&(C+="scale("+_+", "+S+$m),w.style[Lr]=C||"translate(0, 0)"},Xre=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,c=i.rotation,u=i.skewX,h=i.skewY,p=i.scaleX,y=i.scaleY,v=i.target,_=i.xOrigin,S=i.yOrigin,E=i.xOffset,x=i.yOffset,w=i.forceCSS,M=parseFloat(a),C=parseFloat(o),D,L,I,N,P;c=parseFloat(c),u=parseFloat(u),h=parseFloat(h),h&&(h=parseFloat(h),u+=h,c+=h),c||u?(c*=g0,u*=g0,D=Math.cos(c)*p,L=Math.sin(c)*p,I=Math.sin(c-u)*-y,N=Math.cos(c-u)*y,u&&(h*=g0,P=Math.tan(u-h),P=Math.sqrt(1+P*P),I*=P,N*=P,h&&(P=Math.tan(h),P=Math.sqrt(1+P*P),D*=P,L*=P)),D=fs(D),L=fs(L),I=fs(I),N=fs(N)):(D=p,N=y,L=I=0),(M&&!~(a+"").indexOf("px")||C&&!~(o+"").indexOf("px"))&&(M=Fp(v,"x",a,"px"),C=Fp(v,"y",o,"px")),(_||S||E||x)&&(M=fs(M+_-(_*D+S*I)+E),C=fs(C+S-(_*L+S*N)+x)),(r||s)&&(P=v.getBBox(),M=fs(M+r/100*P.width),C=fs(C+s/100*P.height)),P="matrix("+D+","+L+","+I+","+N+","+M+","+C+")",v.setAttribute("transform",P),w&&(v.style[Lr]=P)},Yre=function(e,t,i,r,s){var a=360,o=sa(s),c=parseFloat(s)*(o&&~s.indexOf("rad")?mg:1),u=c-r,h=r+u+"deg",p,y;return o&&(p=s.split("_")[1],p==="short"&&(u%=a,u!==u%(a/2)&&(u+=u<0?a:-a)),p==="cw"&&u<0?u=(u+a*rk)%a-~~(u/a)*a:p==="ccw"&&u>0&&(u=(u-a*rk)%a-~~(u/a)*a)),e._pt=y=new el(e._pt,t,i,r,u,Ire),y.e=h,y.u="deg",e._props.push(i),y},fk=function(e,t){for(var i in t)e[i]=t[i];return e},Kre=function(e,t,i){var r=fk({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=i.style,o,c,u,h,p,y,v,_;r.svg?(u=i.getAttribute("transform"),i.setAttribute("transform",""),a[Lr]=t,o=Mx(i,1),Bp(i,Lr),i.setAttribute("transform",u)):(u=getComputedStyle(i)[Lr],a[Lr]=t,o=Mx(i,1),a[Lr]=u);for(c in $h)u=r[c],h=o[c],u!==h&&s.indexOf(c)<0&&(v=Za(u),_=Za(h),p=v!==_?Fp(i,c,u,_):parseFloat(u),y=parseFloat(h),e._pt=new el(e._pt,o,c,p,y-p,FI),e._pt.u=_||0,e._props.push(c));fk(o,r)};Jo("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",a=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(o){return e<2?n+o:"border"+o+n});U2[e>1?"border"+n:n]=function(o,c,u,h,p){var y,v;if(arguments.length<4)return y=a.map(function(_){return Ch(o,_,u)}),v=y.join(" "),v.split(y[0]).length===5?y[0]:v;y=(h+"").split(" "),v={},a.forEach(function(_,S){return v[_]=y[S]=y[S]||y[(S-1)/2|0]}),o.init(c,v,p)}});var LH={name:"css",register:HI,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var a=this._props,o=e.style,c=i.vars.startAt,u,h,p,y,v,_,S,E,x,w,M,C,D,L,I,N,P;mN||HI(),this.styles=this.styles||MH(e),N=this.styles.props,this.tween=i;for(S in t)if(S!=="autoRound"&&(h=t[S],!(Al[S]&&yH(S,t,i,r,e,s)))){if(v=typeof h,_=U2[S],v==="function"&&(h=h.call(i,r,e,s),v=typeof h),v==="string"&&~h.indexOf("random(")&&(h=Tx(h)),_)_(this,e,S,h,i)&&(I=1);else if(S.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(S)+"").trim(),h+="",Rp.lastIndex=0,Rp.test(u)||(E=Za(u),x=Za(h),x?E!==x&&(u=Fp(e,S,u,x)+x):E&&(h+=E)),this.add(o,"setProperty",u,h,r,s,0,0,S),a.push(S),N.push(S,0,o[S]);else if(v!=="undefined"){if(c&&S in c?(u=typeof c[S]=="function"?c[S].call(i,r,e,s):c[S],sa(u)&&~u.indexOf("random(")&&(u=Tx(u)),Za(u+"")||u==="auto"||(u+=Pl.units[S]||Za(Ch(e,S))||""),(u+"").charAt(1)==="="&&(u=Ch(e,S))):u=Ch(e,S),y=parseFloat(u),w=v==="string"&&h.charAt(1)==="="&&h.substr(0,2),w&&(h=h.substr(2)),p=parseFloat(h),S in vf&&(S==="autoAlpha"&&(y===1&&Ch(e,"visibility")==="hidden"&&p&&(y=0),N.push("visibility",0,o.visibility),bp(this,o,"visibility",y?"inherit":"hidden",p?"inherit":"hidden",!p)),S!=="scale"&&S!=="transform"&&(S=vf[S],~S.indexOf(",")&&(S=S.split(",")[0]))),M=S in $h,M){if(this.styles.save(S),P=h,v==="string"&&h.substring(0,6)==="var(--"){if(h=Il(e,h.substring(4,h.indexOf(")"))),h.substring(0,5)==="calc("){var U=e.style.perspective;e.style.perspective=h,h=Il(e,"perspective"),U?e.style.perspective=U:Bp(e,"perspective")}p=parseFloat(h)}if(C||(D=e._gsap,D.renderTransform&&!t.parseTransform||Mx(e,t.parseTransform),L=t.smoothOrigin!==!1&&D.smooth,C=this._pt=new el(this._pt,o,Lr,0,1,D.renderTransform,D,0,-1),C.dep=1),S==="scale")this._pt=new el(this._pt,D,"scaleY",D.scaleY,(w?p0(D.scaleY,w+p):p)-D.scaleY||0,FI),this._pt.u=0,a.push("scaleY",S),S+="X";else if(S==="transformOrigin"){N.push(tl,0,o[tl]),h=qre(h),D.svg?jI(e,h,0,L,0,this):(x=parseFloat(h.split(" ")[2])||0,x!==D.zOrigin&&bp(this,D,"zOrigin",D.zOrigin,x),bp(this,o,S,k2(u),k2(h)));continue}else if(S==="svgOrigin"){jI(e,h,1,L,0,this);continue}else if(S in PH){Yre(this,D,S,y,w?p0(y,w+h):h);continue}else if(S==="smoothOrigin"){bp(this,D,"smooth",D.smooth,h);continue}else if(S==="force3D"){D[S]=h;continue}else if(S==="transform"){Kre(this,h,e);continue}}else S in o||(S=N0(S)||S);if(M||(p||p===0)&&(y||y===0)&&!Ore.test(h)&&S in o)E=(u+"").substr((y+"").length),p||(p=0),x=Za(h)||(S in Pl.units?Pl.units[S]:E),E!==x&&(y=Fp(e,S,u,x)),this._pt=new el(this._pt,M?D:o,S,y,(w?p0(y,w+p):p)-y,!M&&(x==="px"||S==="zIndex")&&t.autoRound!==!1?Nre:FI),this._pt.u=x||0,M&&P!==h?(this._pt.b=u,this._pt.e=P,this._pt.r=Dre):E!==x&&x!=="%"&&(this._pt.b=u,this._pt.r=Pre);else if(S in o)Gre.call(this,e,S,u,w?w+h:h);else if(S in e)this.add(e,S,u||e[S],w?w+h:h,r,s);else if(S!=="parseTransform"){sN(S,h);continue}M||(S in o?N.push(S,0,o[S]):typeof e[S]=="function"?N.push(S,2,e[S]()):N.push(S,1,u||e[S])),a.push(S)}}I&&EH(this)},render:function(e,t){if(t.tween._time||!gN())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Ch,aliases:vf,getSetter:function(e,t,i){var r=vf[t];return r&&r.indexOf(",")<0&&(t=r),t in $h&&t!==tl&&(e._gsap.x||Ch(e,"x"))?i&&ik===i?t==="scale"?zre:kre:(ik=i||{})&&(t==="scale"?Bre:Fre):e.style&&!nN(e.style[t])?Lre:~t.indexOf("-")?Ure:dN(e,t)},core:{_removeProperty:Bp,_getMatrix:vN}};rl.utils.checkPrefix=N0;rl.core.getStyleSaver=MH;(function(n,e,t,i){var r=Jo(n+","+e+","+t,function(s){$h[s]=1});Jo(e,function(s){Pl.units[s]="deg",PH[s]=1}),vf[r[13]]=n+","+e,Jo(i,function(s){var a=s.split(":");vf[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Jo("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Pl.units[n]="px"});rl.registerPlugin(LH);var bA=rl.registerPlugin(LH)||rl;bA.core.Tween;/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const xA="176",Zre={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Qre={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},UH=0,GI=1,kH=2,Jre=3,zH=0,SA=1,$b=2,cu=3,Xh=0,Oo=1,gf=2,kh=0,Bg=1,qI=2,WI=3,$I=4,BH=5,pp=100,FH=101,VH=102,HH=103,jH=104,GH=200,qH=201,WH=202,$H=203,z2=204,B2=205,XH=206,YH=207,KH=208,ZH=209,QH=210,JH=211,ej=212,tj=213,nj=214,F2=0,V2=1,H2=2,Xg=3,j2=4,G2=5,q2=6,W2=7,yS=0,ij=1,rj=2,Cf=0,sj=1,aj=2,oj=3,_N=4,lj=5,cj=6,uj=7,XI="attached",fj="detached",EA=300,Yh=301,Vp=302,Rx=303,Ox=304,h_=306,Ix=1e3,Sc=1001,Px=1002,Ea=1003,bN=1004,ese=1004,i0=1005,tse=1005,hs=1006,Xb=1007,nse=1007,_f=1008,ise=1008,wc=1009,xN=1010,SN=1011,L0=1012,TA=1013,Kh=1014,Ro=1015,sy=1016,wA=1017,CA=1018,U0=1020,EN=35902,TN=1021,wN=1022,Qa=1023,k0=1026,z0=1027,AA=1028,vS=1029,CN=1030,MA=1031,rse=1032,RA=1033,Yb=33776,Kb=33777,Zb=33778,Qb=33779,$2=35840,X2=35841,Y2=35842,K2=35843,Z2=36196,Q2=37492,J2=37496,eC=37808,tC=37809,nC=37810,iC=37811,rC=37812,sC=37813,aC=37814,oC=37815,lC=37816,cC=37817,uC=37818,fC=37819,hC=37820,dC=37821,Jb=36492,pC=36494,mC=36495,AN=36283,gC=36284,yC=36285,vC=36286,hj=2200,dj=2201,pj=2202,Dx=2300,_C=2301,Yw=2302,Cg=2400,Ag=2401,Nx=2402,OA=2500,MN=2501,sse=0,ase=1,ose=2,mj=3200,gj=3201,lse=3202,cse=3203,Yp=0,yj=1,Rh="",ba="srgb",Hp="srgb-linear",Lx="linear",Bi="srgb",use=0,gg=7680,fse=7681,hse=7682,dse=7683,pse=34055,mse=34056,gse=5386,yse=512,vse=513,_se=514,bse=515,xse=516,Sse=517,Ese=518,YI=519,vj=512,_j=513,bj=514,RN=515,xj=516,Sj=517,Ej=518,Tj=519,Ux=35044,Tse=35048,wse=35040,Cse=35045,Ase=35049,Mse=35041,Rse=35046,Ose=35050,Ise=35042,Pse="100",KI="300 es",Ec=2e3,kx=2001,Dse={COMPUTE:"compute",RENDER:"render"},Nse={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Lse={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let Df=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const ja=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let hk=1234567;const Fg=Math.PI/180,B0=180/Math.PI;function Dl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ja[n&255]+ja[n>>8&255]+ja[n>>16&255]+ja[n>>24&255]+"-"+ja[e&255]+ja[e>>8&255]+"-"+ja[e>>16&15|64]+ja[e>>24&255]+"-"+ja[t&63|128]+ja[t>>8&255]+"-"+ja[t>>16&255]+ja[t>>24&255]+ja[i&255]+ja[i>>8&255]+ja[i>>16&255]+ja[i>>24&255]).toLowerCase()}function An(n,e,t){return Math.max(e,Math.min(t,n))}function ON(n,e){return(n%e+e)%e}function Use(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function kse(n,e,t){return n!==e?(t-n)/(e-n):0}function ex(n,e,t){return(1-t)*n+t*e}function zse(n,e,t,i){return ex(n,e,1-Math.exp(-t*i))}function Bse(n,e=1){return e-Math.abs(ON(n,e*2)-e)}function Fse(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Vse(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Hse(n,e){return n+Math.floor(Math.random()*(e-n+1))}function jse(n,e){return n+Math.random()*(e-n)}function Gse(n){return n*(.5-Math.random())}function qse(n){n!==void 0&&(hk=n);let e=hk+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Wse(n){return n*Fg}function $se(n){return n*B0}function Xse(n){return(n&n-1)===0&&n!==0}function Yse(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Kse(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Zse(n,e,t,i,r){const s=Math.cos,a=Math.sin,o=s(t/2),c=a(t/2),u=s((e+i)/2),h=a((e+i)/2),p=s((e-i)/2),y=a((e-i)/2),v=s((i-e)/2),_=a((i-e)/2);switch(r){case"XYX":n.set(o*h,c*p,c*y,o*u);break;case"YZY":n.set(c*y,o*h,c*p,o*u);break;case"ZXZ":n.set(c*p,c*y,o*h,o*u);break;case"XZX":n.set(o*h,c*_,c*v,o*u);break;case"YXY":n.set(c*v,o*h,c*_,o*u);break;case"ZYZ":n.set(c*_,c*v,o*h,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ao(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Un(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const wj={DEG2RAD:Fg,RAD2DEG:B0,generateUUID:Dl,clamp:An,euclideanModulo:ON,mapLinear:Use,inverseLerp:kse,lerp:ex,damp:zse,pingpong:Bse,smoothstep:Fse,smootherstep:Vse,randInt:Hse,randFloat:jse,randFloatSpread:Gse,seededRandom:qse,degToRad:Wse,radToDeg:$se,isPowerOfTwo:Xse,ceilPowerOfTwo:Yse,floorPowerOfTwo:Kse,setQuaternionFromProperEuler:Zse,normalize:Un,denormalize:Ao};class it{constructor(e=0,t=0){it.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=An(this.x,e.x,t.x),this.y=An(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=An(this.x,e,t),this.y=An(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(An(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(An(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Pn{constructor(e,t,i,r,s,a,o,c,u){Pn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,c,u)}set(e,t,i,r,s,a,o,c,u){const h=this.elements;return h[0]=e,h[1]=r,h[2]=o,h[3]=t,h[4]=s,h[5]=c,h[6]=i,h[7]=a,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],c=i[6],u=i[1],h=i[4],p=i[7],y=i[2],v=i[5],_=i[8],S=r[0],E=r[3],x=r[6],w=r[1],M=r[4],C=r[7],D=r[2],L=r[5],I=r[8];return s[0]=a*S+o*w+c*D,s[3]=a*E+o*M+c*L,s[6]=a*x+o*C+c*I,s[1]=u*S+h*w+p*D,s[4]=u*E+h*M+p*L,s[7]=u*x+h*C+p*I,s[2]=y*S+v*w+_*D,s[5]=y*E+v*M+_*L,s[8]=y*x+v*C+_*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],h=e[8];return t*a*h-t*o*u-i*s*h+i*o*c+r*s*u-r*a*c}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],h=e[8],p=h*a-o*u,y=o*c-h*s,v=u*s-a*c,_=t*p+i*y+r*v;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/_;return e[0]=p*S,e[1]=(r*u-h*i)*S,e[2]=(o*i-r*a)*S,e[3]=y*S,e[4]=(h*t-r*c)*S,e[5]=(r*s-o*t)*S,e[6]=v*S,e[7]=(i*c-u*t)*S,e[8]=(a*t-i*s)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){const c=Math.cos(s),u=Math.sin(s);return this.set(i*c,i*u,-i*(c*a+u*o)+a+e,-r*u,r*c,-r*(-u*a+c*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(KR.makeScale(e,t)),this}rotate(e){return this.premultiply(KR.makeRotation(-e)),this}translate(e,t){return this.premultiply(KR.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const KR=new Pn;function Cj(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const Qse={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function r0(n,e){return new Qse[n](e)}function zx(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Aj(){const n=zx("canvas");return n.style.display="block",n}const dk={};function Kw(n){n in dk||(dk[n]=!0,console.warn(n))}function Jse(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function eae(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function tae(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const pk=new Pn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),mk=new Pn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function nae(){const n={enabled:!0,workingColorSpace:Hp,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Bi&&(r.r=zh(r.r),r.g=zh(r.g),r.b=zh(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Bi&&(r.r=y0(r.r),r.g=y0(r.g),r.b=y0(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Rh?Lx:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Hp]:{primaries:e,whitePoint:i,transfer:Lx,toXYZ:pk,fromXYZ:mk,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ba},outputColorSpaceConfig:{drawingBufferColorSpace:ba}},[ba]:{primaries:e,whitePoint:i,transfer:Bi,toXYZ:pk,fromXYZ:mk,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ba}}}),n}const ci=nae();function zh(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function y0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let cv;class Mj{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{cv===void 0&&(cv=zx("canvas")),cv.width=e.width,cv.height=e.height;const r=cv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=cv}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=zx("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=zh(s[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(zh(t[i]/255)*255):t[i]=zh(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let iae=0;class xp{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:iae++}),this.uuid=Dl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(ZR(r[a].image)):s.push(ZR(r[a]))}else s=ZR(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function ZR(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Mj.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let rae=0;class ts extends Df{constructor(e=ts.DEFAULT_IMAGE,t=ts.DEFAULT_MAPPING,i=Sc,r=Sc,s=hs,a=_f,o=Qa,c=wc,u=ts.DEFAULT_ANISOTROPY,h=Rh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:rae++}),this.uuid=Dl(),this.name="",this.source=new xp(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=c,this.offset=new it(0,0),this.repeat=new it(1,1),this.center=new it(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Pn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==EA)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ix:e.x=e.x-Math.floor(e.x);break;case Sc:e.x=e.x<0?0:1;break;case Px:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ix:e.y=e.y-Math.floor(e.y);break;case Sc:e.y=e.y<0?0:1;break;case Px:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ts.DEFAULT_IMAGE=null;ts.DEFAULT_MAPPING=EA;ts.DEFAULT_ANISOTROPY=1;class pi{constructor(e=0,t=0,i=0,r=1){pi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const c=e.elements,u=c[0],h=c[4],p=c[8],y=c[1],v=c[5],_=c[9],S=c[2],E=c[6],x=c[10];if(Math.abs(h-y)<.01&&Math.abs(p-S)<.01&&Math.abs(_-E)<.01){if(Math.abs(h+y)<.1&&Math.abs(p+S)<.1&&Math.abs(_+E)<.1&&Math.abs(u+v+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(u+1)/2,C=(v+1)/2,D=(x+1)/2,L=(h+y)/4,I=(p+S)/4,N=(_+E)/4;return M>C&&M>D?M<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(M),r=L/i,s=I/i):C>D?C<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(C),i=L/r,s=N/r):D<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(D),i=I/s,r=N/s),this.set(i,r,s,t),this}let w=Math.sqrt((E-_)*(E-_)+(p-S)*(p-S)+(y-h)*(y-h));return Math.abs(w)<.001&&(w=1),this.x=(E-_)/w,this.y=(p-S)/w,this.z=(y-h)/w,this.w=Math.acos((u+v+x-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=An(this.x,e.x,t.x),this.y=An(this.y,e.y,t.y),this.z=An(this.z,e.z,t.z),this.w=An(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=An(this.x,e,t),this.y=An(this.y,e,t),this.z=An(this.z,e,t),this.w=An(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(An(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class IA extends Df{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth?i.depth:1,this.scissor=new pi(0,0,e,t),this.scissorTest=!1,this.viewport=new pi(0,0,e,t);const r={width:e,height:t,depth:this.depth};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:hs,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},i);const s=new ts(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const a=i.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new xp(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class vu extends IA{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class _S extends ts{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ea,this.minFilter=Ea,this.wrapR=Sc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class sae extends vu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new _S(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class PA extends ts{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ea,this.minFilter=Ea,this.wrapR=Sc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class aae extends vu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new PA(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Ta{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,o){let c=i[r+0],u=i[r+1],h=i[r+2],p=i[r+3];const y=s[a+0],v=s[a+1],_=s[a+2],S=s[a+3];if(o===0){e[t+0]=c,e[t+1]=u,e[t+2]=h,e[t+3]=p;return}if(o===1){e[t+0]=y,e[t+1]=v,e[t+2]=_,e[t+3]=S;return}if(p!==S||c!==y||u!==v||h!==_){let E=1-o;const x=c*y+u*v+h*_+p*S,w=x>=0?1:-1,M=1-x*x;if(M>Number.EPSILON){const D=Math.sqrt(M),L=Math.atan2(D,x*w);E=Math.sin(E*L)/D,o=Math.sin(o*L)/D}const C=o*w;if(c=c*E+y*C,u=u*E+v*C,h=h*E+_*C,p=p*E+S*C,E===1-o){const D=1/Math.sqrt(c*c+u*u+h*h+p*p);c*=D,u*=D,h*=D,p*=D}}e[t]=c,e[t+1]=u,e[t+2]=h,e[t+3]=p}static multiplyQuaternionsFlat(e,t,i,r,s,a){const o=i[r],c=i[r+1],u=i[r+2],h=i[r+3],p=s[a],y=s[a+1],v=s[a+2],_=s[a+3];return e[t]=o*_+h*p+c*v-u*y,e[t+1]=c*_+h*y+u*p-o*v,e[t+2]=u*_+h*v+o*y-c*p,e[t+3]=h*_-o*p-c*y-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,c=Math.sin,u=o(i/2),h=o(r/2),p=o(s/2),y=c(i/2),v=c(r/2),_=c(s/2);switch(a){case"XYZ":this._x=y*h*p+u*v*_,this._y=u*v*p-y*h*_,this._z=u*h*_+y*v*p,this._w=u*h*p-y*v*_;break;case"YXZ":this._x=y*h*p+u*v*_,this._y=u*v*p-y*h*_,this._z=u*h*_-y*v*p,this._w=u*h*p+y*v*_;break;case"ZXY":this._x=y*h*p-u*v*_,this._y=u*v*p+y*h*_,this._z=u*h*_+y*v*p,this._w=u*h*p-y*v*_;break;case"ZYX":this._x=y*h*p-u*v*_,this._y=u*v*p+y*h*_,this._z=u*h*_-y*v*p,this._w=u*h*p+y*v*_;break;case"YZX":this._x=y*h*p+u*v*_,this._y=u*v*p+y*h*_,this._z=u*h*_-y*v*p,this._w=u*h*p-y*v*_;break;case"XZY":this._x=y*h*p-u*v*_,this._y=u*v*p-y*h*_,this._z=u*h*_+y*v*p,this._w=u*h*p+y*v*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],c=t[9],u=t[2],h=t[6],p=t[10],y=i+o+p;if(y>0){const v=.5/Math.sqrt(y+1);this._w=.25/v,this._x=(h-c)*v,this._y=(s-u)*v,this._z=(a-r)*v}else if(i>o&&i>p){const v=2*Math.sqrt(1+i-o-p);this._w=(h-c)/v,this._x=.25*v,this._y=(r+a)/v,this._z=(s+u)/v}else if(o>p){const v=2*Math.sqrt(1+o-i-p);this._w=(s-u)/v,this._x=(r+a)/v,this._y=.25*v,this._z=(c+h)/v}else{const v=2*Math.sqrt(1+p-i-o);this._w=(a-r)/v,this._x=(s+u)/v,this._y=(c+h)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(An(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,c=t._y,u=t._z,h=t._w;return this._x=i*h+a*o+r*u-s*c,this._y=r*h+a*c+s*o-i*u,this._z=s*h+a*u+i*c-r*o,this._w=a*h-i*o-r*c-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const c=1-o*o;if(c<=Number.EPSILON){const v=1-t;return this._w=v*a+t*this._w,this._x=v*i+t*this._x,this._y=v*r+t*this._y,this._z=v*s+t*this._z,this.normalize(),this}const u=Math.sqrt(c),h=Math.atan2(u,o),p=Math.sin((1-t)*h)/u,y=Math.sin(t*h)/u;return this._w=a*p+this._w*y,this._x=i*p+this._x*y,this._y=r*p+this._y*y,this._z=s*p+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class fe{constructor(e=0,t=0,i=0){fe.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(gk.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(gk.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,c=e.w,u=2*(a*r-o*i),h=2*(o*t-s*r),p=2*(s*i-a*t);return this.x=t+c*u+a*p-o*h,this.y=i+c*h+o*u-s*p,this.z=r+c*p+s*h-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=An(this.x,e.x,t.x),this.y=An(this.y,e.y,t.y),this.z=An(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=An(this.x,e,t),this.y=An(this.y,e,t),this.z=An(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(An(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,c=t.z;return this.x=r*c-s*o,this.y=s*a-i*c,this.z=i*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return QR.copy(this).projectOnVector(e),this.sub(QR)}reflect(e){return this.sub(QR.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(An(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const QR=new fe,gk=new Ta;class na{constructor(e=new fe(1/0,1/0,1/0),t=new fe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(iu.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(iu.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=iu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,iu):iu.fromBufferAttribute(s,a),iu.applyMatrix4(e.matrixWorld),this.expandByPoint(iu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),rT.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),rT.copy(i.boundingBox)),rT.applyMatrix4(e.matrixWorld),this.union(rT)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,iu),iu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(F1),sT.subVectors(this.max,F1),uv.subVectors(e.a,F1),fv.subVectors(e.b,F1),hv.subVectors(e.c,F1),Qd.subVectors(fv,uv),Jd.subVectors(hv,fv),Xm.subVectors(uv,hv);let t=[0,-Qd.z,Qd.y,0,-Jd.z,Jd.y,0,-Xm.z,Xm.y,Qd.z,0,-Qd.x,Jd.z,0,-Jd.x,Xm.z,0,-Xm.x,-Qd.y,Qd.x,0,-Jd.y,Jd.x,0,-Xm.y,Xm.x,0];return!JR(t,uv,fv,hv,sT)||(t=[1,0,0,0,1,0,0,0,1],!JR(t,uv,fv,hv,sT))?!1:(aT.crossVectors(Qd,Jd),t=[aT.x,aT.y,aT.z],JR(t,uv,fv,hv,sT))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,iu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(iu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(dh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),dh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),dh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),dh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),dh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),dh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),dh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),dh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(dh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const dh=[new fe,new fe,new fe,new fe,new fe,new fe,new fe,new fe],iu=new fe,rT=new na,uv=new fe,fv=new fe,hv=new fe,Qd=new fe,Jd=new fe,Xm=new fe,F1=new fe,sT=new fe,aT=new fe,Ym=new fe;function JR(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){Ym.fromArray(n,s);const o=r.x*Math.abs(Ym.x)+r.y*Math.abs(Ym.y)+r.z*Math.abs(Ym.z),c=e.dot(Ym),u=t.dot(Ym),h=i.dot(Ym);if(Math.max(-Math.max(c,u,h),Math.min(c,u,h))>o)return!1}return!0}const oae=new na,V1=new fe,eO=new fe;class ia{constructor(e=new fe,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):oae.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;V1.subVectors(e,this.center);const t=V1.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(V1,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(eO.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(V1.copy(e.center).add(eO)),this.expandByPoint(V1.copy(e.center).sub(eO))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ph=new fe,tO=new fe,oT=new fe,ep=new fe,nO=new fe,lT=new fe,iO=new fe;class d_{constructor(e=new fe,t=new fe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ph)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ph.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ph.copy(this.origin).addScaledVector(this.direction,t),ph.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){tO.copy(e).add(t).multiplyScalar(.5),oT.copy(t).sub(e).normalize(),ep.copy(this.origin).sub(tO);const s=e.distanceTo(t)*.5,a=-this.direction.dot(oT),o=ep.dot(this.direction),c=-ep.dot(oT),u=ep.lengthSq(),h=Math.abs(1-a*a);let p,y,v,_;if(h>0)if(p=a*c-o,y=a*o-c,_=s*h,p>=0)if(y>=-_)if(y<=_){const S=1/h;p*=S,y*=S,v=p*(p+a*y+2*o)+y*(a*p+y+2*c)+u}else y=s,p=Math.max(0,-(a*y+o)),v=-p*p+y*(y+2*c)+u;else y=-s,p=Math.max(0,-(a*y+o)),v=-p*p+y*(y+2*c)+u;else y<=-_?(p=Math.max(0,-(-a*s+o)),y=p>0?-s:Math.min(Math.max(-s,-c),s),v=-p*p+y*(y+2*c)+u):y<=_?(p=0,y=Math.min(Math.max(-s,-c),s),v=y*(y+2*c)+u):(p=Math.max(0,-(a*s+o)),y=p>0?s:Math.min(Math.max(-s,-c),s),v=-p*p+y*(y+2*c)+u);else y=a>0?-s:s,p=Math.max(0,-(a*y+o)),v=-p*p+y*(y+2*c)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,p),r&&r.copy(tO).addScaledVector(oT,y),v}intersectSphere(e,t){ph.subVectors(e.center,this.origin);const i=ph.dot(this.direction),r=ph.dot(ph)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,c=i+a;return c<0?null:o<0?this.at(c,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,c;const u=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,y=this.origin;return u>=0?(i=(e.min.x-y.x)*u,r=(e.max.x-y.x)*u):(i=(e.max.x-y.x)*u,r=(e.min.x-y.x)*u),h>=0?(s=(e.min.y-y.y)*h,a=(e.max.y-y.y)*h):(s=(e.max.y-y.y)*h,a=(e.min.y-y.y)*h),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),p>=0?(o=(e.min.z-y.z)*p,c=(e.max.z-y.z)*p):(o=(e.max.z-y.z)*p,c=(e.min.z-y.z)*p),i>c||o>r)||((o>i||i!==i)&&(i=o),(c<r||r!==r)&&(r=c),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,ph)!==null}intersectTriangle(e,t,i,r,s){nO.subVectors(t,e),lT.subVectors(i,e),iO.crossVectors(nO,lT);let a=this.direction.dot(iO),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;ep.subVectors(this.origin,e);const c=o*this.direction.dot(lT.crossVectors(ep,lT));if(c<0)return null;const u=o*this.direction.dot(nO.cross(ep));if(u<0||c+u>a)return null;const h=-o*ep.dot(iO);return h<0?null:this.at(h/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class an{constructor(e,t,i,r,s,a,o,c,u,h,p,y,v,_,S,E){an.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,c,u,h,p,y,v,_,S,E)}set(e,t,i,r,s,a,o,c,u,h,p,y,v,_,S,E){const x=this.elements;return x[0]=e,x[4]=t,x[8]=i,x[12]=r,x[1]=s,x[5]=a,x[9]=o,x[13]=c,x[2]=u,x[6]=h,x[10]=p,x[14]=y,x[3]=v,x[7]=_,x[11]=S,x[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new an().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/dv.setFromMatrixColumn(e,0).length(),s=1/dv.setFromMatrixColumn(e,1).length(),a=1/dv.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),c=Math.cos(r),u=Math.sin(r),h=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const y=a*h,v=a*p,_=o*h,S=o*p;t[0]=c*h,t[4]=-c*p,t[8]=u,t[1]=v+_*u,t[5]=y-S*u,t[9]=-o*c,t[2]=S-y*u,t[6]=_+v*u,t[10]=a*c}else if(e.order==="YXZ"){const y=c*h,v=c*p,_=u*h,S=u*p;t[0]=y+S*o,t[4]=_*o-v,t[8]=a*u,t[1]=a*p,t[5]=a*h,t[9]=-o,t[2]=v*o-_,t[6]=S+y*o,t[10]=a*c}else if(e.order==="ZXY"){const y=c*h,v=c*p,_=u*h,S=u*p;t[0]=y-S*o,t[4]=-a*p,t[8]=_+v*o,t[1]=v+_*o,t[5]=a*h,t[9]=S-y*o,t[2]=-a*u,t[6]=o,t[10]=a*c}else if(e.order==="ZYX"){const y=a*h,v=a*p,_=o*h,S=o*p;t[0]=c*h,t[4]=_*u-v,t[8]=y*u+S,t[1]=c*p,t[5]=S*u+y,t[9]=v*u-_,t[2]=-u,t[6]=o*c,t[10]=a*c}else if(e.order==="YZX"){const y=a*c,v=a*u,_=o*c,S=o*u;t[0]=c*h,t[4]=S-y*p,t[8]=_*p+v,t[1]=p,t[5]=a*h,t[9]=-o*h,t[2]=-u*h,t[6]=v*p+_,t[10]=y-S*p}else if(e.order==="XZY"){const y=a*c,v=a*u,_=o*c,S=o*u;t[0]=c*h,t[4]=-p,t[8]=u*h,t[1]=y*p+S,t[5]=a*h,t[9]=v*p-_,t[2]=_*p-v,t[6]=o*h,t[10]=S*p+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(lae,e,cae)}lookAt(e,t,i){const r=this.elements;return Sl.subVectors(e,t),Sl.lengthSq()===0&&(Sl.z=1),Sl.normalize(),tp.crossVectors(i,Sl),tp.lengthSq()===0&&(Math.abs(i.z)===1?Sl.x+=1e-4:Sl.z+=1e-4,Sl.normalize(),tp.crossVectors(i,Sl)),tp.normalize(),cT.crossVectors(Sl,tp),r[0]=tp.x,r[4]=cT.x,r[8]=Sl.x,r[1]=tp.y,r[5]=cT.y,r[9]=Sl.y,r[2]=tp.z,r[6]=cT.z,r[10]=Sl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],c=i[8],u=i[12],h=i[1],p=i[5],y=i[9],v=i[13],_=i[2],S=i[6],E=i[10],x=i[14],w=i[3],M=i[7],C=i[11],D=i[15],L=r[0],I=r[4],N=r[8],P=r[12],U=r[1],V=r[5],z=r[9],F=r[13],K=r[2],ee=r[6],q=r[10],$=r[14],Q=r[3],se=r[7],de=r[11],Y=r[15];return s[0]=a*L+o*U+c*K+u*Q,s[4]=a*I+o*V+c*ee+u*se,s[8]=a*N+o*z+c*q+u*de,s[12]=a*P+o*F+c*$+u*Y,s[1]=h*L+p*U+y*K+v*Q,s[5]=h*I+p*V+y*ee+v*se,s[9]=h*N+p*z+y*q+v*de,s[13]=h*P+p*F+y*$+v*Y,s[2]=_*L+S*U+E*K+x*Q,s[6]=_*I+S*V+E*ee+x*se,s[10]=_*N+S*z+E*q+x*de,s[14]=_*P+S*F+E*$+x*Y,s[3]=w*L+M*U+C*K+D*Q,s[7]=w*I+M*V+C*ee+D*se,s[11]=w*N+M*z+C*q+D*de,s[15]=w*P+M*F+C*$+D*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],c=e[9],u=e[13],h=e[2],p=e[6],y=e[10],v=e[14],_=e[3],S=e[7],E=e[11],x=e[15];return _*(+s*c*p-r*u*p-s*o*y+i*u*y+r*o*v-i*c*v)+S*(+t*c*v-t*u*y+s*a*y-r*a*v+r*u*h-s*c*h)+E*(+t*u*p-t*o*v-s*a*p+i*a*v+s*o*h-i*u*h)+x*(-r*o*h-t*c*p+t*o*y+r*a*p-i*a*y+i*c*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],h=e[8],p=e[9],y=e[10],v=e[11],_=e[12],S=e[13],E=e[14],x=e[15],w=p*E*u-S*y*u+S*c*v-o*E*v-p*c*x+o*y*x,M=_*y*u-h*E*u-_*c*v+a*E*v+h*c*x-a*y*x,C=h*S*u-_*p*u+_*o*v-a*S*v-h*o*x+a*p*x,D=_*p*c-h*S*c-_*o*y+a*S*y+h*o*E-a*p*E,L=t*w+i*M+r*C+s*D;if(L===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/L;return e[0]=w*I,e[1]=(S*y*s-p*E*s-S*r*v+i*E*v+p*r*x-i*y*x)*I,e[2]=(o*E*s-S*c*s+S*r*u-i*E*u-o*r*x+i*c*x)*I,e[3]=(p*c*s-o*y*s-p*r*u+i*y*u+o*r*v-i*c*v)*I,e[4]=M*I,e[5]=(h*E*s-_*y*s+_*r*v-t*E*v-h*r*x+t*y*x)*I,e[6]=(_*c*s-a*E*s-_*r*u+t*E*u+a*r*x-t*c*x)*I,e[7]=(a*y*s-h*c*s+h*r*u-t*y*u-a*r*v+t*c*v)*I,e[8]=C*I,e[9]=(_*p*s-h*S*s-_*i*v+t*S*v+h*i*x-t*p*x)*I,e[10]=(a*S*s-_*o*s+_*i*u-t*S*u-a*i*x+t*o*x)*I,e[11]=(h*o*s-a*p*s-h*i*u+t*p*u+a*i*v-t*o*v)*I,e[12]=D*I,e[13]=(h*S*r-_*p*r+_*i*y-t*S*y-h*i*E+t*p*E)*I,e[14]=(_*o*r-a*S*r-_*i*c+t*S*c+a*i*E-t*o*E)*I,e[15]=(a*p*r-h*o*r+h*i*c-t*p*c-a*i*y+t*o*y)*I,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,c=e.z,u=s*a,h=s*o;return this.set(u*a+i,u*o-r*c,u*c+r*o,0,u*o+r*c,h*o+i,h*c-r*a,0,u*c-r*o,h*c+r*a,s*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,o=t._z,c=t._w,u=s+s,h=a+a,p=o+o,y=s*u,v=s*h,_=s*p,S=a*h,E=a*p,x=o*p,w=c*u,M=c*h,C=c*p,D=i.x,L=i.y,I=i.z;return r[0]=(1-(S+x))*D,r[1]=(v+C)*D,r[2]=(_-M)*D,r[3]=0,r[4]=(v-C)*L,r[5]=(1-(y+x))*L,r[6]=(E+w)*L,r[7]=0,r[8]=(_+M)*I,r[9]=(E-w)*I,r[10]=(1-(y+S))*I,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=dv.set(r[0],r[1],r[2]).length();const a=dv.set(r[4],r[5],r[6]).length(),o=dv.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],ru.copy(this);const u=1/s,h=1/a,p=1/o;return ru.elements[0]*=u,ru.elements[1]*=u,ru.elements[2]*=u,ru.elements[4]*=h,ru.elements[5]*=h,ru.elements[6]*=h,ru.elements[8]*=p,ru.elements[9]*=p,ru.elements[10]*=p,t.setFromRotationMatrix(ru),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a,o=Ec){const c=this.elements,u=2*s/(t-e),h=2*s/(i-r),p=(t+e)/(t-e),y=(i+r)/(i-r);let v,_;if(o===Ec)v=-(a+s)/(a-s),_=-2*a*s/(a-s);else if(o===kx)v=-a/(a-s),_=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=p,c[12]=0,c[1]=0,c[5]=h,c[9]=y,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=_,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,i,r,s,a,o=Ec){const c=this.elements,u=1/(t-e),h=1/(i-r),p=1/(a-s),y=(t+e)*u,v=(i+r)*h;let _,S;if(o===Ec)_=(a+s)*p,S=-2*p;else if(o===kx)_=s*p,S=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-y,c[1]=0,c[5]=2*h,c[9]=0,c[13]=-v,c[2]=0,c[6]=0,c[10]=S,c[14]=-_,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const dv=new fe,ru=new an,lae=new fe(0,0,0),cae=new fe(1,1,1),tp=new fe,cT=new fe,Sl=new fe,yk=new an,vk=new Ta;class zl{constructor(e=0,t=0,i=0,r=zl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],c=r[1],u=r[5],h=r[9],p=r[2],y=r[6],v=r[10];switch(t){case"XYZ":this._y=Math.asin(An(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,v),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(y,u),this._z=0);break;case"YXZ":this._x=Math.asin(-An(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(o,v),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(An(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-An(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(y,v),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(An(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(o,v));break;case"XZY":this._z=Math.asin(-An(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(y,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-h,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return yk.makeRotationFromQuaternion(e),this.setFromRotationMatrix(yk,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return vk.setFromEuler(this),this.setFromQuaternion(vk,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}zl.DEFAULT_ORDER="XYZ";class F0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let uae=0;const _k=new fe,pv=new Ta,mh=new an,uT=new fe,H1=new fe,fae=new fe,hae=new Ta,bk=new fe(1,0,0),xk=new fe(0,1,0),Sk=new fe(0,0,1),Ek={type:"added"},dae={type:"removed"},mv={type:"childadded",child:null},rO={type:"childremoved",child:null};class mi extends Df{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:uae++}),this.uuid=Dl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=mi.DEFAULT_UP.clone();const e=new fe,t=new zl,i=new Ta,r=new fe(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new an},normalMatrix:{value:new Pn}}),this.matrix=new an,this.matrixWorld=new an,this.matrixAutoUpdate=mi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=mi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new F0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return pv.setFromAxisAngle(e,t),this.quaternion.multiply(pv),this}rotateOnWorldAxis(e,t){return pv.setFromAxisAngle(e,t),this.quaternion.premultiply(pv),this}rotateX(e){return this.rotateOnAxis(bk,e)}rotateY(e){return this.rotateOnAxis(xk,e)}rotateZ(e){return this.rotateOnAxis(Sk,e)}translateOnAxis(e,t){return _k.copy(e).applyQuaternion(this.quaternion),this.position.add(_k.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(bk,e)}translateY(e){return this.translateOnAxis(xk,e)}translateZ(e){return this.translateOnAxis(Sk,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(mh.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?uT.copy(e):uT.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),H1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?mh.lookAt(H1,uT,this.up):mh.lookAt(uT,H1,this.up),this.quaternion.setFromRotationMatrix(mh),r&&(mh.extractRotation(r.matrixWorld),pv.setFromRotationMatrix(mh),this.quaternion.premultiply(pv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Ek),mv.child=e,this.dispatchEvent(mv),mv.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(dae),rO.child=e,this.dispatchEvent(rO),rO.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),mh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),mh.multiply(e.parent.matrixWorld)),e.applyMatrix4(mh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Ek),mv.child=e,this.dispatchEvent(mv),mv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(H1,e,fae),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(H1,hae,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?{min:o.boundingBox.min.toArray(),max:o.boundingBox.max.toArray()}:void 0,boundingSphere:o.boundingSphere?{radius:o.boundingSphere.radius,center:o.boundingSphere.center.toArray()}:void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function s(o,c){return o[c.uuid]===void 0&&(o[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const c=o.shapes;if(Array.isArray(c))for(let u=0,h=c.length;u<h;u++){const p=c[u];s(e.shapes,p)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let c=0,u=this.material.length;c<u;c++)o.push(s(e.materials,this.material[c]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const c=this.animations[o];r.animations.push(s(e.animations,c))}}if(t){const o=a(e.geometries),c=a(e.materials),u=a(e.textures),h=a(e.images),p=a(e.shapes),y=a(e.skeletons),v=a(e.animations),_=a(e.nodes);o.length>0&&(i.geometries=o),c.length>0&&(i.materials=c),u.length>0&&(i.textures=u),h.length>0&&(i.images=h),p.length>0&&(i.shapes=p),y.length>0&&(i.skeletons=y),v.length>0&&(i.animations=v),_.length>0&&(i.nodes=_)}return i.object=r,i;function a(o){const c=[];for(const u in o){const h=o[u];delete h.metadata,c.push(h)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}mi.DEFAULT_UP=new fe(0,1,0);mi.DEFAULT_MATRIX_AUTO_UPDATE=!0;mi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const su=new fe,gh=new fe,sO=new fe,yh=new fe,gv=new fe,yv=new fe,Tk=new fe,aO=new fe,oO=new fe,lO=new fe,cO=new pi,uO=new pi,fO=new pi;class Zo{constructor(e=new fe,t=new fe,i=new fe){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),su.subVectors(e,t),r.cross(su);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){su.subVectors(r,t),gh.subVectors(i,t),sO.subVectors(e,t);const a=su.dot(su),o=su.dot(gh),c=su.dot(sO),u=gh.dot(gh),h=gh.dot(sO),p=a*u-o*o;if(p===0)return s.set(0,0,0),null;const y=1/p,v=(u*c-o*h)*y,_=(a*h-o*c)*y;return s.set(1-v-_,_,v)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,yh)===null?!1:yh.x>=0&&yh.y>=0&&yh.x+yh.y<=1}static getInterpolation(e,t,i,r,s,a,o,c){return this.getBarycoord(e,t,i,r,yh)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(s,yh.x),c.addScaledVector(a,yh.y),c.addScaledVector(o,yh.z),c)}static getInterpolatedAttribute(e,t,i,r,s,a){return cO.setScalar(0),uO.setScalar(0),fO.setScalar(0),cO.fromBufferAttribute(e,t),uO.fromBufferAttribute(e,i),fO.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(cO,s.x),a.addScaledVector(uO,s.y),a.addScaledVector(fO,s.z),a}static isFrontFacing(e,t,i,r){return su.subVectors(i,t),gh.subVectors(e,t),su.cross(gh).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return su.subVectors(this.c,this.b),gh.subVectors(this.a,this.b),su.cross(gh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Zo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Zo.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return Zo.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Zo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Zo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,o;gv.subVectors(r,i),yv.subVectors(s,i),aO.subVectors(e,i);const c=gv.dot(aO),u=yv.dot(aO);if(c<=0&&u<=0)return t.copy(i);oO.subVectors(e,r);const h=gv.dot(oO),p=yv.dot(oO);if(h>=0&&p<=h)return t.copy(r);const y=c*p-h*u;if(y<=0&&c>=0&&h<=0)return a=c/(c-h),t.copy(i).addScaledVector(gv,a);lO.subVectors(e,s);const v=gv.dot(lO),_=yv.dot(lO);if(_>=0&&v<=_)return t.copy(s);const S=v*u-c*_;if(S<=0&&u>=0&&_<=0)return o=u/(u-_),t.copy(i).addScaledVector(yv,o);const E=h*_-v*p;if(E<=0&&p-h>=0&&v-_>=0)return Tk.subVectors(s,r),o=(p-h)/(p-h+(v-_)),t.copy(r).addScaledVector(Tk,o);const x=1/(E+S+y);return a=S*x,o=y*x,t.copy(i).addScaledVector(gv,a).addScaledVector(yv,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Rj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},np={h:0,s:0,l:0},fT={h:0,s:0,l:0};function hO(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ut{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ba){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ci.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=ci.workingColorSpace){return this.r=e,this.g=t,this.b=i,ci.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=ci.workingColorSpace){if(e=ON(e,1),t=An(t,0,1),i=An(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=hO(a,s,e+1/3),this.g=hO(a,s,e),this.b=hO(a,s,e-1/3)}return ci.toWorkingColorSpace(this,r),this}setStyle(e,t=ba){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ba){const i=Rj[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=zh(e.r),this.g=zh(e.g),this.b=zh(e.b),this}copyLinearToSRGB(e){return this.r=y0(e.r),this.g=y0(e.g),this.b=y0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ba){return ci.fromWorkingColorSpace(Ga.copy(this),e),Math.round(An(Ga.r*255,0,255))*65536+Math.round(An(Ga.g*255,0,255))*256+Math.round(An(Ga.b*255,0,255))}getHexString(e=ba){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ci.workingColorSpace){ci.fromWorkingColorSpace(Ga.copy(this),t);const i=Ga.r,r=Ga.g,s=Ga.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let c,u;const h=(o+a)/2;if(o===a)c=0,u=0;else{const p=a-o;switch(u=h<=.5?p/(a+o):p/(2-a-o),a){case i:c=(r-s)/p+(r<s?6:0);break;case r:c=(s-i)/p+2;break;case s:c=(i-r)/p+4;break}c/=6}return e.h=c,e.s=u,e.l=h,e}getRGB(e,t=ci.workingColorSpace){return ci.fromWorkingColorSpace(Ga.copy(this),t),e.r=Ga.r,e.g=Ga.g,e.b=Ga.b,e}getStyle(e=ba){ci.fromWorkingColorSpace(Ga.copy(this),e);const t=Ga.r,i=Ga.g,r=Ga.b;return e!==ba?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(np),this.setHSL(np.h+e,np.s+t,np.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(np),e.getHSL(fT);const i=ex(np.h,fT.h,t),r=ex(np.s,fT.s,t),s=ex(np.l,fT.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ga=new Ut;Ut.NAMES=Rj;let pae=0;class to extends Df{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:pae++}),this.uuid=Dl(),this.name="",this.type="Material",this.blending=Bg,this.side=Xh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=z2,this.blendDst=B2,this.blendEquation=pp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ut(0,0,0),this.blendAlpha=0,this.depthFunc=Xg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=YI,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=gg,this.stencilZFail=gg,this.stencilZPass=gg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Bg&&(i.blending=this.blending),this.side!==Xh&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==z2&&(i.blendSrc=this.blendSrc),this.blendDst!==B2&&(i.blendDst=this.blendDst),this.blendEquation!==pp&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Xg&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==YI&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==gg&&(i.stencilFail=this.stencilFail),this.stencilZFail!==gg&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==gg&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const o in s){const c=s[o];delete c.metadata,a.push(c)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Kp extends to{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zl,this.combine=yS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Oh=mae();function mae(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){const u=c-127;u<-27?(i[c]=0,i[c|256]=32768,r[c]=24,r[c|256]=24):u<-14?(i[c]=1024>>-u-14,i[c|256]=1024>>-u-14|32768,r[c]=-u-1,r[c|256]=-u-1):u<=15?(i[c]=u+15<<10,i[c|256]=u+15<<10|32768,r[c]=13,r[c|256]=13):u<128?(i[c]=31744,i[c|256]=64512,r[c]=24,r[c|256]=24):(i[c]=31744,i[c|256]=64512,r[c]=13,r[c|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let c=1;c<1024;++c){let u=c<<13,h=0;for(;(u&8388608)===0;)u<<=1,h-=8388608;u&=-8388609,h+=947912704,s[c]=u|h}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)a[c]=c<<23;a[31]=1199570944,a[32]=2147483648;for(let c=33;c<63;++c)a[c]=2147483648+(c-32<<23);a[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(o[c]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:o}}function $o(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=An(n,-65504,65504),Oh.floatView[0]=n;const e=Oh.uint32View[0],t=e>>23&511;return Oh.baseTable[t]+((e&8388607)>>Oh.shiftTable[t])}function wb(n){const e=n>>10;return Oh.uint32View[0]=Oh.mantissaTable[Oh.offsetTable[e]+(n&1023)]+Oh.exponentTable[e],Oh.floatView[0]}class gae{static toHalfFloat(e){return $o(e)}static fromHalfFloat(e){return wb(e)}}const Ss=new fe,hT=new it;let yae=0;class Fi{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:yae++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Ux,this.updateRanges=[],this.gpuType=Ro,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)hT.fromBufferAttribute(this,t),hT.applyMatrix3(e),this.setXY(t,hT.x,hT.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Ss.fromBufferAttribute(this,t),Ss.applyMatrix3(e),this.setXYZ(t,Ss.x,Ss.y,Ss.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Ss.fromBufferAttribute(this,t),Ss.applyMatrix4(e),this.setXYZ(t,Ss.x,Ss.y,Ss.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ss.fromBufferAttribute(this,t),Ss.applyNormalMatrix(e),this.setXYZ(t,Ss.x,Ss.y,Ss.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ss.fromBufferAttribute(this,t),Ss.transformDirection(e),this.setXYZ(t,Ss.x,Ss.y,Ss.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Ao(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Un(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ao(t,this.array)),t}setX(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ao(t,this.array)),t}setY(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ao(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ao(t,this.array)),t}setW(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array),s=Un(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ux&&(e.usage=this.usage),e}}class vae extends Fi{constructor(e,t,i){super(new Int8Array(e),t,i)}}class _ae extends Fi{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class bae extends Fi{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class xae extends Fi{constructor(e,t,i){super(new Int16Array(e),t,i)}}class IN extends Fi{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Sae extends Fi{constructor(e,t,i){super(new Int32Array(e),t,i)}}class PN extends Fi{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Eae extends Fi{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=wb(this.array[e*this.itemSize]);return this.normalized&&(t=Ao(t,this.array)),t}setX(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize]=$o(t),this}getY(e){let t=wb(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ao(t,this.array)),t}setY(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+1]=$o(t),this}getZ(e){let t=wb(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ao(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+2]=$o(t),this}getW(e){let t=wb(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ao(t,this.array)),t}setW(e,t){return this.normalized&&(t=Un(t,this.array)),this.array[e*this.itemSize+3]=$o(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array)),this.array[e+0]=$o(t),this.array[e+1]=$o(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array)),this.array[e+0]=$o(t),this.array[e+1]=$o(i),this.array[e+2]=$o(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array),s=Un(s,this.array)),this.array[e+0]=$o(t),this.array[e+1]=$o(i),this.array[e+2]=$o(r),this.array[e+3]=$o(s),this}}class Ht extends Fi{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Tae=0;const dc=new an,dO=new mi,vv=new fe,El=new na,j1=new na,Zs=new fe;class Dn extends Df{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Tae++}),this.uuid=Dl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Cj(e)?PN:IN)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Pn().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return dc.makeRotationFromQuaternion(e),this.applyMatrix4(dc),this}rotateX(e){return dc.makeRotationX(e),this.applyMatrix4(dc),this}rotateY(e){return dc.makeRotationY(e),this.applyMatrix4(dc),this}rotateZ(e){return dc.makeRotationZ(e),this.applyMatrix4(dc),this}translate(e,t,i){return dc.makeTranslation(e,t,i),this.applyMatrix4(dc),this}scale(e,t,i){return dc.makeScale(e,t,i),this.applyMatrix4(dc),this}lookAt(e){return dO.lookAt(e),dO.updateMatrix(),this.applyMatrix4(dO.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(vv).negate(),this.translate(vv.x,vv.y,vv.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Ht(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new na);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new fe(-1/0,-1/0,-1/0),new fe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];El.setFromBufferAttribute(s),this.morphTargetsRelative?(Zs.addVectors(this.boundingBox.min,El.min),this.boundingBox.expandByPoint(Zs),Zs.addVectors(this.boundingBox.max,El.max),this.boundingBox.expandByPoint(Zs)):(this.boundingBox.expandByPoint(El.min),this.boundingBox.expandByPoint(El.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ia);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new fe,1/0);return}if(e){const i=this.boundingSphere.center;if(El.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];j1.setFromBufferAttribute(o),this.morphTargetsRelative?(Zs.addVectors(El.min,j1.min),El.expandByPoint(Zs),Zs.addVectors(El.max,j1.max),El.expandByPoint(Zs)):(El.expandByPoint(j1.min),El.expandByPoint(j1.max))}El.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)Zs.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Zs));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],c=this.morphTargetsRelative;for(let u=0,h=o.count;u<h;u++)Zs.fromBufferAttribute(o,u),c&&(vv.fromBufferAttribute(e,u),Zs.add(vv)),r=Math.max(r,i.distanceToSquared(Zs))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Fi(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),o=[],c=[];for(let N=0;N<i.count;N++)o[N]=new fe,c[N]=new fe;const u=new fe,h=new fe,p=new fe,y=new it,v=new it,_=new it,S=new fe,E=new fe;function x(N,P,U){u.fromBufferAttribute(i,N),h.fromBufferAttribute(i,P),p.fromBufferAttribute(i,U),y.fromBufferAttribute(s,N),v.fromBufferAttribute(s,P),_.fromBufferAttribute(s,U),h.sub(u),p.sub(u),v.sub(y),_.sub(y);const V=1/(v.x*_.y-_.x*v.y);isFinite(V)&&(S.copy(h).multiplyScalar(_.y).addScaledVector(p,-v.y).multiplyScalar(V),E.copy(p).multiplyScalar(v.x).addScaledVector(h,-_.x).multiplyScalar(V),o[N].add(S),o[P].add(S),o[U].add(S),c[N].add(E),c[P].add(E),c[U].add(E))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let N=0,P=w.length;N<P;++N){const U=w[N],V=U.start,z=U.count;for(let F=V,K=V+z;F<K;F+=3)x(e.getX(F+0),e.getX(F+1),e.getX(F+2))}const M=new fe,C=new fe,D=new fe,L=new fe;function I(N){D.fromBufferAttribute(r,N),L.copy(D);const P=o[N];M.copy(P),M.sub(D.multiplyScalar(D.dot(P))).normalize(),C.crossVectors(L,P);const V=C.dot(c[N])<0?-1:1;a.setXYZW(N,M.x,M.y,M.z,V)}for(let N=0,P=w.length;N<P;++N){const U=w[N],V=U.start,z=U.count;for(let F=V,K=V+z;F<K;F+=3)I(e.getX(F+0)),I(e.getX(F+1)),I(e.getX(F+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Fi(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,v=i.count;y<v;y++)i.setXYZ(y,0,0,0);const r=new fe,s=new fe,a=new fe,o=new fe,c=new fe,u=new fe,h=new fe,p=new fe;if(e)for(let y=0,v=e.count;y<v;y+=3){const _=e.getX(y+0),S=e.getX(y+1),E=e.getX(y+2);r.fromBufferAttribute(t,_),s.fromBufferAttribute(t,S),a.fromBufferAttribute(t,E),h.subVectors(a,s),p.subVectors(r,s),h.cross(p),o.fromBufferAttribute(i,_),c.fromBufferAttribute(i,S),u.fromBufferAttribute(i,E),o.add(h),c.add(h),u.add(h),i.setXYZ(_,o.x,o.y,o.z),i.setXYZ(S,c.x,c.y,c.z),i.setXYZ(E,u.x,u.y,u.z)}else for(let y=0,v=t.count;y<v;y+=3)r.fromBufferAttribute(t,y+0),s.fromBufferAttribute(t,y+1),a.fromBufferAttribute(t,y+2),h.subVectors(a,s),p.subVectors(r,s),h.cross(p),i.setXYZ(y+0,h.x,h.y,h.z),i.setXYZ(y+1,h.x,h.y,h.z),i.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Zs.fromBufferAttribute(e,t),Zs.normalize(),e.setXYZ(t,Zs.x,Zs.y,Zs.z)}toNonIndexed(){function e(o,c){const u=o.array,h=o.itemSize,p=o.normalized,y=new u.constructor(c.length*h);let v=0,_=0;for(let S=0,E=c.length;S<E;S++){o.isInterleavedBufferAttribute?v=c[S]*o.data.stride+o.offset:v=c[S]*h;for(let x=0;x<h;x++)y[_++]=u[v++]}return new Fi(y,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Dn,i=this.index.array,r=this.attributes;for(const o in r){const c=r[o],u=e(c,i);t.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const c=[],u=s[o];for(let h=0,p=u.length;h<p;h++){const y=u[h],v=e(y,i);c.push(v)}t.morphAttributes[o]=c}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,c=a.length;o<c;o++){const u=a[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const c in i){const u=i[c];e.data.attributes[c]=u.toJSON(e.data)}const r={};let s=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],h=[];for(let p=0,y=u.length;p<y;p++){const v=u[p];h.push(v.toJSON(e.data))}h.length>0&&(r[c]=h,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const u in r){const h=r[u];this.setAttribute(u,h.clone(t))}const s=e.morphAttributes;for(const u in s){const h=[],p=s[u];for(let y=0,v=p.length;y<v;y++)h.push(p[y].clone(t));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,h=a.length;u<h;u++){const p=a[u];this.addGroup(p.start,p.count,p.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const wk=new an,Km=new d_,dT=new ia,Ck=new fe,pT=new fe,mT=new fe,gT=new fe,pO=new fe,yT=new fe,Ak=new fe,vT=new fe;class es extends mi{constructor(e=new Dn,t=new Kp){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){yT.set(0,0,0);for(let c=0,u=s.length;c<u;c++){const h=o[c],p=s[c];h!==0&&(pO.fromBufferAttribute(p,e),a?yT.addScaledVector(pO,h):yT.addScaledVector(pO.sub(t),h))}t.add(yT)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),dT.copy(i.boundingSphere),dT.applyMatrix4(s),Km.copy(e.ray).recast(e.near),!(dT.containsPoint(Km.origin)===!1&&(Km.intersectSphere(dT,Ck)===null||Km.origin.distanceToSquared(Ck)>(e.far-e.near)**2))&&(wk.copy(s).invert(),Km.copy(e.ray).applyMatrix4(wk),!(i.boundingBox!==null&&Km.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Km)))}_computeIntersections(e,t,i){let r;const s=this.geometry,a=this.material,o=s.index,c=s.attributes.position,u=s.attributes.uv,h=s.attributes.uv1,p=s.attributes.normal,y=s.groups,v=s.drawRange;if(o!==null)if(Array.isArray(a))for(let _=0,S=y.length;_<S;_++){const E=y[_],x=a[E.materialIndex],w=Math.max(E.start,v.start),M=Math.min(o.count,Math.min(E.start+E.count,v.start+v.count));for(let C=w,D=M;C<D;C+=3){const L=o.getX(C),I=o.getX(C+1),N=o.getX(C+2);r=_T(this,x,e,i,u,h,p,L,I,N),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const _=Math.max(0,v.start),S=Math.min(o.count,v.start+v.count);for(let E=_,x=S;E<x;E+=3){const w=o.getX(E),M=o.getX(E+1),C=o.getX(E+2);r=_T(this,a,e,i,u,h,p,w,M,C),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}else if(c!==void 0)if(Array.isArray(a))for(let _=0,S=y.length;_<S;_++){const E=y[_],x=a[E.materialIndex],w=Math.max(E.start,v.start),M=Math.min(c.count,Math.min(E.start+E.count,v.start+v.count));for(let C=w,D=M;C<D;C+=3){const L=C,I=C+1,N=C+2;r=_T(this,x,e,i,u,h,p,L,I,N),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const _=Math.max(0,v.start),S=Math.min(c.count,v.start+v.count);for(let E=_,x=S;E<x;E+=3){const w=E,M=E+1,C=E+2;r=_T(this,a,e,i,u,h,p,w,M,C),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}}}function wae(n,e,t,i,r,s,a,o){let c;if(e.side===Oo?c=i.intersectTriangle(a,s,r,!0,o):c=i.intersectTriangle(r,s,a,e.side===Xh,o),c===null)return null;vT.copy(o),vT.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(vT);return u<t.near||u>t.far?null:{distance:u,point:vT.clone(),object:n}}function _T(n,e,t,i,r,s,a,o,c,u){n.getVertexPosition(o,pT),n.getVertexPosition(c,mT),n.getVertexPosition(u,gT);const h=wae(n,e,t,i,pT,mT,gT,Ak);if(h){const p=new fe;Zo.getBarycoord(Ak,pT,mT,gT,p),r&&(h.uv=Zo.getInterpolatedAttribute(r,o,c,u,p,new it)),s&&(h.uv1=Zo.getInterpolatedAttribute(s,o,c,u,p,new it)),a&&(h.normal=Zo.getInterpolatedAttribute(a,o,c,u,p,new fe),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const y={a:o,b:c,c:u,normal:new fe,materialIndex:0};Zo.getNormal(pT,mT,gT,y.normal),h.face=y,h.barycoord=p}return h}class ay extends Dn{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const c=[],u=[],h=[],p=[];let y=0,v=0;_("z","y","x",-1,-1,i,t,e,a,s,0),_("z","y","x",1,-1,i,t,-e,a,s,1),_("x","z","y",1,1,e,i,t,r,a,2),_("x","z","y",1,-1,e,i,-t,r,a,3),_("x","y","z",1,-1,e,t,i,r,s,4),_("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(c),this.setAttribute("position",new Ht(u,3)),this.setAttribute("normal",new Ht(h,3)),this.setAttribute("uv",new Ht(p,2));function _(S,E,x,w,M,C,D,L,I,N,P){const U=C/I,V=D/N,z=C/2,F=D/2,K=L/2,ee=I+1,q=N+1;let $=0,Q=0;const se=new fe;for(let de=0;de<q;de++){const Y=de*V-F;for(let le=0;le<ee;le++){const pe=le*U-z;se[S]=pe*w,se[E]=Y*M,se[x]=K,u.push(se.x,se.y,se.z),se[S]=0,se[E]=0,se[x]=L>0?1:-1,h.push(se.x,se.y,se.z),p.push(le/I),p.push(1-de/N),$+=1}}for(let de=0;de<N;de++)for(let Y=0;Y<I;Y++){const le=y+Y+ee*de,pe=y+Y+ee*(de+1),ue=y+(Y+1)+ee*(de+1),ie=y+(Y+1)+ee*de;c.push(le,pe,ie),c.push(pe,ue,ie),Q+=6}o.addGroup(v,Q,P),v+=Q,y+=$}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ay(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function V0(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function wo(n){const e={};for(let t=0;t<n.length;t++){const i=V0(n[t]);for(const r in i)e[r]=i[r]}return e}function Cae(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Oj(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ci.workingColorSpace}const Ij={clone:V0,merge:wo};var Aae=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Mae=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class _u extends to{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Aae,this.fragmentShader=Mae,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=V0(e.uniforms),this.uniformsGroups=Cae(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class DA extends mi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new an,this.projectionMatrix=new an,this.projectionMatrixInverse=new an,this.coordinateSystem=Ec}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ip=new fe,Mk=new it,Rk=new it;class ea extends DA{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=B0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Fg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return B0*2*Math.atan(Math.tan(Fg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){ip.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(ip.x,ip.y).multiplyScalar(-e/ip.z),ip.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(ip.x,ip.y).multiplyScalar(-e/ip.z)}getViewSize(e,t){return this.getViewBounds(e,Mk,Rk),t.subVectors(Rk,Mk)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Fg*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,u=a.fullHeight;s+=a.offsetX*r/c,t-=a.offsetY*i/u,r*=a.width/c,i*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const _v=-90,bv=1;class Pj extends mi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new ea(_v,bv,e,t);r.layers=this.layers,this.add(r);const s=new ea(_v,bv,e,t);s.layers=this.layers,this.add(s);const a=new ea(_v,bv,e,t);a.layers=this.layers,this.add(a);const o=new ea(_v,bv,e,t);o.layers=this.layers,this.add(o);const c=new ea(_v,bv,e,t);c.layers=this.layers,this.add(c);const u=new ea(_v,bv,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,a,o,c]=t;for(const u of t)this.remove(u);if(e===Ec)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===kx)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,c,u,h]=this.children,p=e.getRenderTarget(),y=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const S=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,a),e.setRenderTarget(i,2,r),e.render(t,o),e.setRenderTarget(i,3,r),e.render(t,c),e.setRenderTarget(i,4,r),e.render(t,u),i.texture.generateMipmaps=S,e.setRenderTarget(i,5,r),e.render(t,h),e.setRenderTarget(p,y,v),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class bS extends ts{constructor(e=[],t=Yh,i,r,s,a,o,c,u,h){super(e,t,i,r,s,a,o,c,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Dj extends vu{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new bS(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:hs}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new ay(5,5,5),s=new _u({name:"CubemapFromEquirect",uniforms:V0(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Oo,blending:kh});s.uniforms.tEquirect.value=t;const a=new es(r,s),o=t.minFilter;return t.minFilter===_f&&(t.minFilter=hs),new Pj(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}class Dh extends mi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Rae={type:"move"};class Zw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Dh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Dh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new fe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new fe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Dh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new fe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new fe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const o=this._targetRay,c=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const S of e.hand.values()){const E=t.getJointPose(S,i),x=this._getHandJoint(u,S);E!==null&&(x.matrix.fromArray(E.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=E.radius),x.visible=E!==null}const h=u.joints["index-finger-tip"],p=u.joints["thumb-tip"],y=h.position.distanceTo(p.position),v=.02,_=.005;u.inputState.pinching&&y>v+_?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&y<=v-_&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Rae)))}return o!==null&&(o.visible=r!==null),c!==null&&(c.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Dh;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class NA{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ut(e),this.density=t}clone(){return new NA(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class LA{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ut(e),this.near=t,this.far=i}clone(){return new LA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class UA extends mi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new zl,this.environmentIntensity=1,this.environmentRotation=new zl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class kA{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ux,this.updateRanges=[],this.version=0,this.uuid=Dl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Dl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Dl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const To=new fe;class Yg{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)To.fromBufferAttribute(this,t),To.applyMatrix4(e),this.setXYZ(t,To.x,To.y,To.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)To.fromBufferAttribute(this,t),To.applyNormalMatrix(e),this.setXYZ(t,To.x,To.y,To.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)To.fromBufferAttribute(this,t),To.transformDirection(e),this.setXYZ(t,To.x,To.y,To.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Ao(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Un(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Un(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Un(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Un(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Un(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ao(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ao(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ao(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ao(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Un(t,this.array),i=Un(i,this.array),r=Un(r,this.array),s=Un(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Fi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Yg(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class zA extends to{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let xv;const G1=new fe,Sv=new fe,Ev=new fe,Tv=new it,q1=new it,Nj=new an,bT=new fe,W1=new fe,xT=new fe,Ok=new it,mO=new it,Ik=new it;class DN extends mi{constructor(e=new zA){if(super(),this.isSprite=!0,this.type="Sprite",xv===void 0){xv=new Dn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new kA(t,5);xv.setIndex([0,1,2,0,2,3]),xv.setAttribute("position",new Yg(i,3,0,!1)),xv.setAttribute("uv",new Yg(i,2,3,!1))}this.geometry=xv,this.material=e,this.center=new it(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Sv.setFromMatrixScale(this.matrixWorld),Nj.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ev.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Sv.multiplyScalar(-Ev.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;ST(bT.set(-.5,-.5,0),Ev,a,Sv,r,s),ST(W1.set(.5,-.5,0),Ev,a,Sv,r,s),ST(xT.set(.5,.5,0),Ev,a,Sv,r,s),Ok.set(0,0),mO.set(1,0),Ik.set(1,1);let o=e.ray.intersectTriangle(bT,W1,xT,!1,G1);if(o===null&&(ST(W1.set(-.5,.5,0),Ev,a,Sv,r,s),mO.set(0,1),o=e.ray.intersectTriangle(bT,xT,W1,!1,G1),o===null))return;const c=e.ray.origin.distanceTo(G1);c<e.near||c>e.far||t.push({distance:c,point:G1.clone(),uv:Zo.getInterpolation(G1,bT,W1,xT,Ok,mO,Ik,new it),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ST(n,e,t,i,r,s){Tv.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(q1.x=s*Tv.x-r*Tv.y,q1.y=r*Tv.x+s*Tv.y):q1.copy(Tv),n.copy(e),n.x+=q1.x,n.y+=q1.y,n.applyMatrix4(Nj)}const ET=new fe,Pk=new fe;class Lj extends mi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){ET.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(ET);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){ET.setFromMatrixPosition(e.matrixWorld),Pk.setFromMatrixPosition(this.matrixWorld);const i=ET.distanceTo(Pk)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),i>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const Dk=new fe,Nk=new pi,Lk=new pi,Oae=new fe,Uk=new an,TT=new fe,gO=new ia,kk=new an,yO=new d_;class Uj extends es{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=XI,this.bindMatrix=new an,this.bindMatrixInverse=new an,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new na),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,TT),this.boundingBox.expandByPoint(TT)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ia),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,TT),this.boundingSphere.expandByPoint(TT)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),gO.copy(this.boundingSphere),gO.applyMatrix4(r),e.ray.intersectsSphere(gO)!==!1&&(kk.copy(r).invert(),yO.copy(e.ray).applyMatrix4(kk),!(this.boundingBox!==null&&yO.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,yO)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new pi,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===XI?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===fj?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;Nk.fromBufferAttribute(r.attributes.skinIndex,e),Lk.fromBufferAttribute(r.attributes.skinWeight,e),Dk.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=Lk.getComponent(s);if(a!==0){const o=Nk.getComponent(s);Uk.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(Oae.copy(Dk).applyMatrix4(Uk),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class NN extends mi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Af extends ts{constructor(e=null,t=1,i=1,r,s,a,o,c,u=Ea,h=Ea,p,y){super(null,a,o,c,u,h,r,s,p,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const zk=new an,Iae=new an;class BA{constructor(e=[],t=[]){this.uuid=Dl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new an)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new an;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:Iae;zk.multiplyMatrices(o,t[s]),zk.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new BA(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Af(t,e,e,Qa,Ro);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new NN),this.bones.push(a),this.boneInverses.push(new an().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class H0 extends Fi{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const wv=new an,Bk=new an,wT=[],Fk=new na,Pae=new an,$1=new es,X1=new ia;class kj extends es{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new H0(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Pae)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new na),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,wv),Fk.copy(e.boundingBox).applyMatrix4(wv),this.boundingBox.union(Fk)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new ia),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,wv),X1.copy(e.boundingSphere).applyMatrix4(wv),this.boundingSphere.union(X1)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,a=e*s+1;for(let o=0;o<i.length;o++)i[o]=r[a+o]}raycast(e,t){const i=this.matrixWorld,r=this.count;if($1.geometry=this.geometry,$1.material=this.material,$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),X1.copy(this.boundingSphere),X1.applyMatrix4(i),e.ray.intersectsSphere(X1)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,wv),Bk.multiplyMatrices(i,wv),$1.matrixWorld=Bk,$1.raycast(e,wT);for(let a=0,o=wT.length;a<o;a++){const c=wT[a];c.instanceId=s,c.object=this,t.push(c)}wT.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new H0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Af(new Float32Array(r*this.count),r,this.count,AA,Ro));const s=this.morphTexture.source.data.data;let a=0;for(let u=0;u<i.length;u++)a+=i[u];const o=this.geometry.morphTargetsRelative?1:1-a,c=r*e;s[c]=o,s.set(i,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const vO=new fe,Dae=new fe,Nae=new Pn;class lp{constructor(e=new fe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=vO.subVectors(i,t).cross(Dae.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(vO),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Nae.getNormalMatrix(e),r=this.coplanarPoint(vO).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Zm=new ia,CT=new fe;class p_{constructor(e=new lp,t=new lp,i=new lp,r=new lp,s=new lp,a=new lp){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Ec){const i=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],c=r[3],u=r[4],h=r[5],p=r[6],y=r[7],v=r[8],_=r[9],S=r[10],E=r[11],x=r[12],w=r[13],M=r[14],C=r[15];if(i[0].setComponents(c-s,y-u,E-v,C-x).normalize(),i[1].setComponents(c+s,y+u,E+v,C+x).normalize(),i[2].setComponents(c+a,y+h,E+_,C+w).normalize(),i[3].setComponents(c-a,y-h,E-_,C-w).normalize(),i[4].setComponents(c-o,y-p,E-S,C-M).normalize(),t===Ec)i[5].setComponents(c+o,y+p,E+S,C+M).normalize();else if(t===kx)i[5].setComponents(o,p,S,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Zm.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Zm.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Zm)}intersectsSprite(e){return Zm.center.set(0,0,0),Zm.radius=.7071067811865476,Zm.applyMatrix4(e.matrixWorld),this.intersectsSphere(Zm)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(CT.x=r.normal.x>0?e.max.x:e.min.x,CT.y=r.normal.y>0?e.max.y:e.min.y,CT.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(CT)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const ef=new an,tf=new p_;class FA{constructor(){this.coordinateSystem=Ec}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ef.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),tf.setFromProjectionMatrix(ef,this.coordinateSystem),tf.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ef.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),tf.setFromProjectionMatrix(ef,this.coordinateSystem),tf.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ef.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),tf.setFromProjectionMatrix(ef,this.coordinateSystem),tf.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ef.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),tf.setFromProjectionMatrix(ef,this.coordinateSystem),tf.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ef.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),tf.setFromProjectionMatrix(ef,this.coordinateSystem),tf.containsPoint(e))return!0}return!1}clone(){return new FA}}function _O(n,e){return n-e}function Lae(n,e){return n.z-e.z}function Uae(n,e){return e.z-n.z}class kae{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const qo=new an,zae=new Ut(1,1,1),Vk=new p_,Bae=new FA,AT=new na,Qm=new ia,Y1=new fe,Hk=new fe,Fae=new fe,bO=new kae,qa=new es,MT=[];function Vae(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let a=0;a<i;a++)e.setComponent(s+t,a,n.getComponent(s,a))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Jm(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class zj extends es{constructor(e,t,i=t*2,r){super(new Dn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Af(t,e,e,Qa,Ro);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Af(t,e,e,vS,Kh);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Af(t,e,e,Qa,Ro);i.colorSpace=ci.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:c,normalized:u}=a,h=new o.constructor(i*c),p=new Fi(h,c,u);t.setAttribute(s,p)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Fi(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new na);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,qo),this.getBoundingBoxAt(s,AT).applyMatrix4(qo),e.union(AT)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ia);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,qo),this.getBoundingSphereAt(s,Qm).applyMatrix4(qo),e.union(Qm)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(_O),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;qo.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(zae.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?a.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(_O),c=this._availableGeometryIds.shift(),s[c]=r):(c=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(c,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,c}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const c=o.vertexStart,u=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const h in i.attributes){const p=t.getAttribute(h),y=i.getAttribute(h);Vae(p,y,c);const v=p.itemSize;for(let _=p.count,S=u;_<S;_++){const E=c+_;for(let x=0;x<v;x++)y.setComponent(E,x,0)}y.needsUpdate=!0,y.addUpdateRange(c*v,u*v)}if(r){const h=o.indexStart,p=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let y=0;y<a.count;y++)s.setX(h+y,c+a.getX(y));for(let y=a.count,v=p;y<v;y++)s.setX(h+y,c);s.needsUpdate=!0,s.addUpdateRange(h,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((a,o)=>o).sort((a,o)=>i[a].vertexStart-i[o].vertexStart),s=this.geometry;for(let a=0,o=i.length;a<o;a++){const c=r[a],u=i[c];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==t){const{indexStart:h,vertexStart:p,reservedIndexCount:y}=u,v=s.index,_=v.array,S=e-p;for(let E=h;E<h+y;E++)_[E]=_[E]+S;v.array.copyWithin(t,h,h+y),v.addUpdateRange(t,y),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:h,reservedVertexCount:p}=u,y=s.attributes;for(const v in y){const _=y[v],{array:S,itemSize:E}=_;S.copyWithin(e*E,h*E,(h+p)*E),_.addUpdateRange(e*E,p*E)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new na,a=i.index,o=i.attributes.position;for(let c=r.start,u=r.start+r.count;c<u;c++){let h=c;a&&(h=a.getX(h)),s.expandByPoint(Y1.fromBufferAttribute(o,h))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new ia;this.getBoundingBoxAt(e,AT),AT.getCenter(s.center);const a=i.index,o=i.attributes.position;let c=0;for(let u=r.start,h=r.start+r.count;u<h;u++){let p=u;a&&(p=a.getX(p)),Y1.fromBufferAttribute(o,p),c=Math.max(c,s.center.distanceToSquared(Y1))}s.radius=Math.sqrt(c),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(_O);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);Jm(this._multiDrawCounts,r),Jm(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,c=this._colorsTexture;a.dispose(),this._initIndirectTexture(),Jm(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),Jm(o.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),Jm(c.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(c=>c.indexStart+c.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Dn,this._initializeGeometry(s));const a=this.geometry;s.index&&Jm(s.index.array,a.index.array);for(const o in s.attributes)Jm(s.attributes[o].array,a.attributes[o].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,a=this.geometry;qa.material=this.material,qa.geometry.index=a.index,qa.geometry.attributes=a.attributes,qa.geometry.boundingBox===null&&(qa.geometry.boundingBox=new na),qa.geometry.boundingSphere===null&&(qa.geometry.boundingSphere=new ia);for(let o=0,c=i.length;o<c;o++){if(!i[o].visible||!i[o].active)continue;const u=i[o].geometryIndex,h=r[u];qa.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(o,qa.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,qa.geometry.boundingBox),this.getBoundingSphereAt(u,qa.geometry.boundingSphere),qa.raycast(e,MT);for(let p=0,y=MT.length;p<y;p++){const v=MT[p];v.object=this,v.batchId=o,t.push(v)}MT.length=0}qa.material=null,qa.geometry.index=null,qa.geometry.attributes={},qa.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,c=this._instanceInfo,u=this._multiDrawStarts,h=this._multiDrawCounts,p=this._geometryInfo,y=this.perObjectFrustumCulled,v=this._indirectTexture,_=v.image.data,S=i.isArrayCamera?Bae:Vk;y&&!i.isArrayCamera&&(qo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),Vk.setFromProjectionMatrix(qo,e.coordinateSystem));let E=0;if(this.sortObjects){qo.copy(this.matrixWorld).invert(),Y1.setFromMatrixPosition(i.matrixWorld).applyMatrix4(qo),Hk.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(qo);for(let M=0,C=c.length;M<C;M++)if(c[M].visible&&c[M].active){const D=c[M].geometryIndex;this.getMatrixAt(M,qo),this.getBoundingSphereAt(D,Qm).applyMatrix4(qo);let L=!1;if(y&&(L=!S.intersectsSphere(Qm,i)),!L){const I=p[D],N=Fae.subVectors(Qm.center,Y1).dot(Hk);bO.push(I.start,I.count,N,M)}}const x=bO.list,w=this.customSort;w===null?x.sort(s.transparent?Uae:Lae):w.call(this,x,i);for(let M=0,C=x.length;M<C;M++){const D=x[M];u[E]=D.start*o,h[E]=D.count,_[E]=D.index,E++}bO.reset()}else for(let x=0,w=c.length;x<w;x++)if(c[x].visible&&c[x].active){const M=c[x].geometryIndex;let C=!1;if(y&&(this.getMatrixAt(x,qo),this.getBoundingSphereAt(M,Qm).applyMatrix4(qo),C=!S.intersectsSphere(Qm,i)),!C){const D=p[M];u[E]=D.start*o,h[E]=D.count,_[E]=x,E++}}v.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,a){this.onBeforeRender(e,null,r,s,a)}}class no extends to{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ut(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const bC=new fe,xC=new fe,jk=new an,K1=new d_,RT=new ia,xO=new fe,Gk=new fe;class Zh extends mi{constructor(e=new Dn,t=new no){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)bC.fromBufferAttribute(t,r-1),xC.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=bC.distanceTo(xC);e.setAttribute("lineDistance",new Ht(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),RT.copy(i.boundingSphere),RT.applyMatrix4(r),RT.radius+=s,e.ray.intersectsSphere(RT)===!1)return;jk.copy(r).invert(),K1.copy(e.ray).applyMatrix4(jk);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=this.isLineSegments?2:1,h=i.index,y=i.attributes.position;if(h!==null){const v=Math.max(0,a.start),_=Math.min(h.count,a.start+a.count);for(let S=v,E=_-1;S<E;S+=u){const x=h.getX(S),w=h.getX(S+1),M=OT(this,e,K1,c,x,w,S);M&&t.push(M)}if(this.isLineLoop){const S=h.getX(_-1),E=h.getX(v),x=OT(this,e,K1,c,S,E,_-1);x&&t.push(x)}}else{const v=Math.max(0,a.start),_=Math.min(y.count,a.start+a.count);for(let S=v,E=_-1;S<E;S+=u){const x=OT(this,e,K1,c,S,S+1,S);x&&t.push(x)}if(this.isLineLoop){const S=OT(this,e,K1,c,_-1,v,_-1);S&&t.push(S)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function OT(n,e,t,i,r,s,a){const o=n.geometry.attributes.position;if(bC.fromBufferAttribute(o,r),xC.fromBufferAttribute(o,s),t.distanceSqToSegment(bC,xC,xO,Gk)>i)return;xO.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(xO);if(!(u<e.near||u>e.far))return{distance:u,point:Gk.clone().applyMatrix4(n.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:n}}const qk=new fe,Wk=new fe;class Nf extends Zh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)qk.fromBufferAttribute(t,r),Wk.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+qk.distanceTo(Wk);e.setAttribute("lineDistance",new Ht(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Bj extends Zh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class LN extends to{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ut(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const $k=new an,ZI=new d_,IT=new ia,PT=new fe;class Fj extends mi{constructor(e=new Dn,t=new LN){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),IT.copy(i.boundingSphere),IT.applyMatrix4(r),IT.radius+=s,e.ray.intersectsSphere(IT)===!1)return;$k.copy(r).invert(),ZI.copy(e.ray).applyMatrix4($k);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=i.index,p=i.attributes.position;if(u!==null){const y=Math.max(0,a.start),v=Math.min(u.count,a.start+a.count);for(let _=y,S=v;_<S;_++){const E=u.getX(_);PT.fromBufferAttribute(p,E),Xk(PT,E,c,r,e,t,this)}}else{const y=Math.max(0,a.start),v=Math.min(p.count,a.start+a.count);for(let _=y,S=v;_<S;_++)PT.fromBufferAttribute(p,_),Xk(PT,_,c,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function Xk(n,e,t,i,r,s,a){const o=ZI.distanceSqToPoint(n);if(o<t){const c=new fe;ZI.closestPointToPoint(n,c),c.applyMatrix4(i);const u=r.ray.origin.distanceTo(c);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(o),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class Vj extends ts{constructor(e,t,i,r,s=hs,a=hs,o,c,u){super(e,t,i,r,s,a,o,c,u),this.isVideoTexture=!0,this.generateMipmaps=!1;const h=this;function p(){h.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Hae extends Vj{constructor(e,t,i,r,s,a,o,c){super({},e,t,i,r,s,a,o,c),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class jae extends ts{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Ea,this.minFilter=Ea,this.generateMipmaps=!1,this.needsUpdate=!0}}class VA extends ts{constructor(e,t,i,r,s,a,o,c,u,h,p,y){super(null,a,o,c,u,h,r,s,p,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Gae extends VA{constructor(e,t,i,r,s,a){super(e,t,i,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Sc,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class qae extends VA{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Yh),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class UN extends ts{constructor(e,t,i,r,s,a,o,c,u){super(e,t,i,r,s,a,o,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class xS extends ts{constructor(e,t,i=Kh,r,s,a,o=Ea,c=Ea,u,h=k0){if(h!==k0&&h!==z0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,s,a,o,c,h,i,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new xp(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Wae extends xS{constructor(e=1,t=1,i=1){super(e,t),this.isDepthArrayTexture=!0,this.image={width:e,height:t,depth:i},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class HA extends Dn{constructor(e=1,t=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:s},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const a=[],o=[],c=[],u=[],h=t/2,p=Math.PI/2*e,y=t,v=2*p+y,_=i*2+s,S=r+1,E=new fe,x=new fe;for(let w=0;w<=_;w++){let M=0,C=0,D=0,L=0;if(w<=i){const P=w/i,U=P*Math.PI/2;C=-h-e*Math.cos(U),D=e*Math.sin(U),L=-e*Math.cos(U),M=P*p}else if(w<=i+s){const P=(w-i)/s;C=-h+P*t,D=e,L=0,M=p+P*y}else{const P=(w-i-s)/i,U=P*Math.PI/2;C=h+e*Math.sin(U),D=e*Math.cos(U),L=e*Math.sin(U),M=p+y+P*p}const I=Math.max(0,Math.min(1,M/v));let N=0;w===0?N=.5/r:w===_&&(N=-.5/r);for(let P=0;P<=r;P++){const U=P/r,V=U*Math.PI*2,z=Math.sin(V),F=Math.cos(V);x.x=-D*F,x.y=C,x.z=D*z,o.push(x.x,x.y,x.z),E.set(-D*F,L,D*z),E.normalize(),c.push(E.x,E.y,E.z),u.push(U+N,I)}if(w>0){const P=(w-1)*S;for(let U=0;U<r;U++){const V=P+U,z=P+U+1,F=w*S+U,K=w*S+U+1;a.push(V,z,F),a.push(z,K,F)}}}this.setIndex(a),this.setAttribute("position",new Ht(o,3)),this.setAttribute("normal",new Ht(c,3)),this.setAttribute("uv",new Ht(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new HA(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class jA extends Dn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],a=[],o=[],c=[],u=new fe,h=new it;a.push(0,0,0),o.push(0,0,1),c.push(.5,.5);for(let p=0,y=3;p<=t;p++,y+=3){const v=i+p/t*r;u.x=e*Math.cos(v),u.y=e*Math.sin(v),a.push(u.x,u.y,u.z),o.push(0,0,1),h.x=(a[y]/e+1)/2,h.y=(a[y+1]/e+1)/2,c.push(h.x,h.y)}for(let p=1;p<=t;p++)s.push(p,p+1,0);this.setIndex(s),this.setAttribute("position",new Ht(a,3)),this.setAttribute("normal",new Ht(o,3)),this.setAttribute("uv",new Ht(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jA(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class m_ extends Dn{constructor(e=1,t=1,i=1,r=32,s=1,a=!1,o=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:c};const u=this;r=Math.floor(r),s=Math.floor(s);const h=[],p=[],y=[],v=[];let _=0;const S=[],E=i/2;let x=0;w(),a===!1&&(e>0&&M(!0),t>0&&M(!1)),this.setIndex(h),this.setAttribute("position",new Ht(p,3)),this.setAttribute("normal",new Ht(y,3)),this.setAttribute("uv",new Ht(v,2));function w(){const C=new fe,D=new fe;let L=0;const I=(t-e)/i;for(let N=0;N<=s;N++){const P=[],U=N/s,V=U*(t-e)+e;for(let z=0;z<=r;z++){const F=z/r,K=F*c+o,ee=Math.sin(K),q=Math.cos(K);D.x=V*ee,D.y=-U*i+E,D.z=V*q,p.push(D.x,D.y,D.z),C.set(ee,I,q).normalize(),y.push(C.x,C.y,C.z),v.push(F,1-U),P.push(_++)}S.push(P)}for(let N=0;N<r;N++)for(let P=0;P<s;P++){const U=S[P][N],V=S[P+1][N],z=S[P+1][N+1],F=S[P][N+1];(e>0||P!==0)&&(h.push(U,V,F),L+=3),(t>0||P!==s-1)&&(h.push(V,z,F),L+=3)}u.addGroup(x,L,0),x+=L}function M(C){const D=_,L=new it,I=new fe;let N=0;const P=C===!0?e:t,U=C===!0?1:-1;for(let z=1;z<=r;z++)p.push(0,E*U,0),y.push(0,U,0),v.push(.5,.5),_++;const V=_;for(let z=0;z<=r;z++){const K=z/r*c+o,ee=Math.cos(K),q=Math.sin(K);I.x=P*q,I.y=E*U,I.z=P*ee,p.push(I.x,I.y,I.z),y.push(0,U,0),L.x=ee*.5+.5,L.y=q*.5*U+.5,v.push(L.x,L.y),_++}for(let z=0;z<r;z++){const F=D+z,K=V+z;C===!0?h.push(K,K+1,F):h.push(K+1,K,F),N+=3}u.addGroup(x,N,C===!0?1:2),x+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new m_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class g_ extends m_{constructor(e=1,t=1,i=32,r=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,i,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new g_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Zp extends Dn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],a=[];o(r),u(i),h(),this.setAttribute("position",new Ht(s,3)),this.setAttribute("normal",new Ht(s.slice(),3)),this.setAttribute("uv",new Ht(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(w){const M=new fe,C=new fe,D=new fe;for(let L=0;L<t.length;L+=3)v(t[L+0],M),v(t[L+1],C),v(t[L+2],D),c(M,C,D,w)}function c(w,M,C,D){const L=D+1,I=[];for(let N=0;N<=L;N++){I[N]=[];const P=w.clone().lerp(C,N/L),U=M.clone().lerp(C,N/L),V=L-N;for(let z=0;z<=V;z++)z===0&&N===L?I[N][z]=P:I[N][z]=P.clone().lerp(U,z/V)}for(let N=0;N<L;N++)for(let P=0;P<2*(L-N)-1;P++){const U=Math.floor(P/2);P%2===0?(y(I[N][U+1]),y(I[N+1][U]),y(I[N][U])):(y(I[N][U+1]),y(I[N+1][U+1]),y(I[N+1][U]))}}function u(w){const M=new fe;for(let C=0;C<s.length;C+=3)M.x=s[C+0],M.y=s[C+1],M.z=s[C+2],M.normalize().multiplyScalar(w),s[C+0]=M.x,s[C+1]=M.y,s[C+2]=M.z}function h(){const w=new fe;for(let M=0;M<s.length;M+=3){w.x=s[M+0],w.y=s[M+1],w.z=s[M+2];const C=E(w)/2/Math.PI+.5,D=x(w)/Math.PI+.5;a.push(C,1-D)}_(),p()}function p(){for(let w=0;w<a.length;w+=6){const M=a[w+0],C=a[w+2],D=a[w+4],L=Math.max(M,C,D),I=Math.min(M,C,D);L>.9&&I<.1&&(M<.2&&(a[w+0]+=1),C<.2&&(a[w+2]+=1),D<.2&&(a[w+4]+=1))}}function y(w){s.push(w.x,w.y,w.z)}function v(w,M){const C=w*3;M.x=e[C+0],M.y=e[C+1],M.z=e[C+2]}function _(){const w=new fe,M=new fe,C=new fe,D=new fe,L=new it,I=new it,N=new it;for(let P=0,U=0;P<s.length;P+=9,U+=6){w.set(s[P+0],s[P+1],s[P+2]),M.set(s[P+3],s[P+4],s[P+5]),C.set(s[P+6],s[P+7],s[P+8]),L.set(a[U+0],a[U+1]),I.set(a[U+2],a[U+3]),N.set(a[U+4],a[U+5]),D.copy(w).add(M).add(C).divideScalar(3);const V=E(D);S(L,U+0,w,V),S(I,U+2,M,V),S(N,U+4,C,V)}}function S(w,M,C,D){D<0&&w.x===1&&(a[M]=w.x-1),C.x===0&&C.z===0&&(a[M]=D/2/Math.PI+.5)}function E(w){return Math.atan2(w.z,-w.x)}function x(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zp(e.vertices,e.indices,e.radius,e.details)}}class GA extends Zp{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new GA(e.radius,e.detail)}}const DT=new fe,NT=new fe,SO=new fe,LT=new Zo;class Hj extends Dn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Fg*t),a=e.getIndex(),o=e.getAttribute("position"),c=a?a.count:o.count,u=[0,0,0],h=["a","b","c"],p=new Array(3),y={},v=[];for(let _=0;_<c;_+=3){a?(u[0]=a.getX(_),u[1]=a.getX(_+1),u[2]=a.getX(_+2)):(u[0]=_,u[1]=_+1,u[2]=_+2);const{a:S,b:E,c:x}=LT;if(S.fromBufferAttribute(o,u[0]),E.fromBufferAttribute(o,u[1]),x.fromBufferAttribute(o,u[2]),LT.getNormal(SO),p[0]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,p[1]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,p[2]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let w=0;w<3;w++){const M=(w+1)%3,C=p[w],D=p[M],L=LT[h[w]],I=LT[h[M]],N=`${C}_${D}`,P=`${D}_${C}`;P in y&&y[P]?(SO.dot(y[P].normal)<=s&&(v.push(L.x,L.y,L.z),v.push(I.x,I.y,I.z)),y[P]=null):N in y||(y[N]={index0:u[w],index1:u[M],normal:SO.clone()})}}for(const _ in y)if(y[_]){const{index0:S,index1:E}=y[_];DT.fromBufferAttribute(o,S),NT.fromBufferAttribute(o,E),v.push(DT.x,DT.y,DT.z),v.push(NT.x,NT.y,NT.z)}this.setAttribute("position",new Ht(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Su{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const s=i.length;let a;t?a=t:a=e*i[s-1];let o=0,c=s-1,u;for(;o<=c;)if(r=Math.floor(o+(c-o)/2),u=i[r]-a,u<0)o=r+1;else if(u>0)c=r-1;else{c=r;break}if(r=c,i[r]===a)return r/(s-1);const h=i[r],y=i[r+1]-h,v=(a-h)/y;return(r+v)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),c=t||(a.isVector2?new it:new fe);return c.copy(o).sub(a).normalize(),c}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new fe,r=[],s=[],a=[],o=new fe,c=new an;for(let v=0;v<=e;v++){const _=v/e;r[v]=this.getTangentAt(_,new fe)}s[0]=new fe,a[0]=new fe;let u=Number.MAX_VALUE;const h=Math.abs(r[0].x),p=Math.abs(r[0].y),y=Math.abs(r[0].z);h<=u&&(u=h,i.set(1,0,0)),p<=u&&(u=p,i.set(0,1,0)),y<=u&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),a[v]=a[v-1].clone(),o.crossVectors(r[v-1],r[v]),o.length()>Number.EPSILON){o.normalize();const _=Math.acos(An(r[v-1].dot(r[v]),-1,1));s[v].applyMatrix4(c.makeRotationAxis(o,_))}a[v].crossVectors(r[v],s[v])}if(t===!0){let v=Math.acos(An(s[0].dot(s[e]),-1,1));v/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(v=-v);for(let _=1;_<=e;_++)s[_].applyMatrix4(c.makeRotationAxis(r[_],v*_)),a[_].crossVectors(r[_],s[_])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class qA extends Su{constructor(e=0,t=0,i=1,r=1,s=0,a=Math.PI*2,o=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=c}getPoint(e,t=new it){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const o=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),y=c-this.aX,v=u-this.aY;c=y*h-v*p+this.aX,u=y*p+v*h+this.aY}return i.set(c,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class jj extends qA{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function kN(){let n=0,e=0,t=0,i=0;function r(s,a,o,c){n=s,e=o,t=-3*s+3*a-2*o-c,i=2*s-2*a+o+c}return{initCatmullRom:function(s,a,o,c,u){r(a,o,u*(o-s),u*(c-a))},initNonuniformCatmullRom:function(s,a,o,c,u,h,p){let y=(a-s)/u-(o-s)/(u+h)+(o-a)/h,v=(o-a)/h-(c-a)/(h+p)+(c-o)/p;y*=h,v*=h,r(a,o,y,v)},calc:function(s){const a=s*s,o=a*s;return n+e*s+t*a+i*o}}}const UT=new fe,EO=new kN,TO=new kN,wO=new kN;class Gj extends Su{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new fe){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),c=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:c===0&&o===s-1&&(o=s-2,c=1);let u,h;this.closed||o>0?u=r[(o-1)%s]:(UT.subVectors(r[0],r[1]).add(r[0]),u=UT);const p=r[o%s],y=r[(o+1)%s];if(this.closed||o+2<s?h=r[(o+2)%s]:(UT.subVectors(r[s-1],r[s-2]).add(r[s-1]),h=UT),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let _=Math.pow(u.distanceToSquared(p),v),S=Math.pow(p.distanceToSquared(y),v),E=Math.pow(y.distanceToSquared(h),v);S<1e-4&&(S=1),_<1e-4&&(_=S),E<1e-4&&(E=S),EO.initNonuniformCatmullRom(u.x,p.x,y.x,h.x,_,S,E),TO.initNonuniformCatmullRom(u.y,p.y,y.y,h.y,_,S,E),wO.initNonuniformCatmullRom(u.z,p.z,y.z,h.z,_,S,E)}else this.curveType==="catmullrom"&&(EO.initCatmullRom(u.x,p.x,y.x,h.x,this.tension),TO.initCatmullRom(u.y,p.y,y.y,h.y,this.tension),wO.initCatmullRom(u.z,p.z,y.z,h.z,this.tension));return i.set(EO.calc(c),TO.calc(c),wO.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new fe().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Yk(n,e,t,i,r){const s=(i-e)*.5,a=(r-t)*.5,o=n*n,c=n*o;return(2*t-2*i+s+a)*c+(-3*t+3*i-2*s-a)*o+s*n+t}function $ae(n,e){const t=1-n;return t*t*e}function Xae(n,e){return 2*(1-n)*n*e}function Yae(n,e){return n*n*e}function tx(n,e,t,i){return $ae(n,e)+Xae(n,t)+Yae(n,i)}function Kae(n,e){const t=1-n;return t*t*t*e}function Zae(n,e){const t=1-n;return 3*t*t*n*e}function Qae(n,e){return 3*(1-n)*n*n*e}function Jae(n,e){return n*n*n*e}function nx(n,e,t,i,r){return Kae(n,e)+Zae(n,t)+Qae(n,i)+Jae(n,r)}class zN extends Su{constructor(e=new it,t=new it,i=new it,r=new it){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new it){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(nx(e,r.x,s.x,a.x,o.x),nx(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class BN extends Su{constructor(e=new fe,t=new fe,i=new fe,r=new fe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new fe){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(nx(e,r.x,s.x,a.x,o.x),nx(e,r.y,s.y,a.y,o.y),nx(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class FN extends Su{constructor(e=new it,t=new it){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new it){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new it){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qj extends Su{constructor(e=new fe,t=new fe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new fe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new fe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class VN extends Su{constructor(e=new it,t=new it,i=new it){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new it){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(tx(e,r.x,s.x,a.x),tx(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class WA extends Su{constructor(e=new fe,t=new fe,i=new fe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new fe){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(tx(e,r.x,s.x,a.x),tx(e,r.y,s.y,a.y),tx(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class HN extends Su{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new it){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,c=r[a===0?a:a-1],u=r[a],h=r[a>r.length-2?r.length-1:a+1],p=r[a>r.length-3?r.length-1:a+2];return i.set(Yk(o,c.x,u.x,h.x,p.x),Yk(o,c.y,u.y,h.y,p.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new it().fromArray(r))}return this}}var SC=Object.freeze({__proto__:null,ArcCurve:jj,CatmullRomCurve3:Gj,CubicBezierCurve:zN,CubicBezierCurve3:BN,EllipseCurve:qA,LineCurve:FN,LineCurve3:qj,QuadraticBezierCurve:VN,QuadraticBezierCurve3:WA,SplineCurve:HN});class Wj extends Su{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new SC[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],c=o.getLength(),u=c===0?0:1-a/c;return o.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,c=a.getPoints(o);for(let u=0;u<c.length;u++){const h=c[u];i&&i.equals(h)||(t.push(h),i=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new SC[r.type]().fromJSON(r))}return this}}class EC extends Wj{constructor(e){super(),this.type="Path",this.currentPoint=new it,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new FN(this.currentPoint.clone(),new it(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new VN(this.currentPoint.clone(),new it(e,t),new it(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const o=new zN(this.currentPoint.clone(),new it(e,t),new it(i,r),new it(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new HN(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){const o=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+o,t+c,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,o,c){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,t+h,i,r,s,a,o,c),this}absellipse(e,t,i,r,s,a,o,c){const u=new qA(e,t,i,r,s,a,o,c);if(this.curves.length>0){const p=u.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Vg extends EC{constructor(e){super(e),this.uuid=Dl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new EC().fromJSON(r))}return this}}function eoe(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=$j(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,c,u;if(i&&(s=soe(n,e,s,t)),n.length>80*t){o=1/0,c=1/0;let h=-1/0,p=-1/0;for(let y=t;y<r;y+=t){const v=n[y],_=n[y+1];v<o&&(o=v),_<c&&(c=_),v>h&&(h=v),_>p&&(p=_)}u=Math.max(h-o,p-c),u=u!==0?32767/u:0}return Bx(s,a,t,o,c,u,0),a}function $j(n,e,t,i,r){let s;if(r===goe(n,e,t,i)>0)for(let a=e;a<t;a+=i)s=Kk(a/i|0,n[a],n[a+1],s);else for(let a=t-i;a>=e;a-=i)s=Kk(a/i|0,n[a],n[a+1],s);return s&&j0(s,s.next)&&(Vx(s),s=s.next),s}function Kg(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(j0(t,t.next)||Ur(t.prev,t,t.next)===0)){if(Vx(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Bx(n,e,t,i,r,s,a){if(!n)return;!a&&s&&uoe(n,i,r,s);let o=n;for(;n.prev!==n.next;){const c=n.prev,u=n.next;if(s?noe(n,i,r,s):toe(n)){e.push(c.i,n.i,u.i),Vx(n),n=u.next,o=u.next;continue}if(n=u,n===o){a?a===1?(n=ioe(Kg(n),e),Bx(n,e,t,i,r,s,2)):a===2&&roe(n,e,t,i,r,s):Bx(Kg(n),e,t,i,r,s,1);break}}}function toe(n){const e=n.prev,t=n,i=n.next;if(Ur(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,o=e.y,c=t.y,u=i.y,h=Math.min(r,s,a),p=Math.min(o,c,u),y=Math.max(r,s,a),v=Math.max(o,c,u);let _=i.next;for(;_!==e;){if(_.x>=h&&_.x<=y&&_.y>=p&&_.y<=v&&Cb(r,o,s,c,a,u,_.x,_.y)&&Ur(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function noe(n,e,t,i){const r=n.prev,s=n,a=n.next;if(Ur(r,s,a)>=0)return!1;const o=r.x,c=s.x,u=a.x,h=r.y,p=s.y,y=a.y,v=Math.min(o,c,u),_=Math.min(h,p,y),S=Math.max(o,c,u),E=Math.max(h,p,y),x=QI(v,_,e,t,i),w=QI(S,E,e,t,i);let M=n.prevZ,C=n.nextZ;for(;M&&M.z>=x&&C&&C.z<=w;){if(M.x>=v&&M.x<=S&&M.y>=_&&M.y<=E&&M!==r&&M!==a&&Cb(o,h,c,p,u,y,M.x,M.y)&&Ur(M.prev,M,M.next)>=0||(M=M.prevZ,C.x>=v&&C.x<=S&&C.y>=_&&C.y<=E&&C!==r&&C!==a&&Cb(o,h,c,p,u,y,C.x,C.y)&&Ur(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;M&&M.z>=x;){if(M.x>=v&&M.x<=S&&M.y>=_&&M.y<=E&&M!==r&&M!==a&&Cb(o,h,c,p,u,y,M.x,M.y)&&Ur(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;C&&C.z<=w;){if(C.x>=v&&C.x<=S&&C.y>=_&&C.y<=E&&C!==r&&C!==a&&Cb(o,h,c,p,u,y,C.x,C.y)&&Ur(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function ioe(n,e){let t=n;do{const i=t.prev,r=t.next.next;!j0(i,r)&&Yj(i,t,t.next,r)&&Fx(i,r)&&Fx(r,i)&&(e.push(i.i,t.i,r.i),Vx(t),Vx(t.next),t=n=r),t=t.next}while(t!==n);return Kg(t)}function roe(n,e,t,i,r,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&doe(a,o)){let c=Kj(a,o);a=Kg(a,a.next),c=Kg(c,c.next),Bx(a,e,t,i,r,s,0),Bx(c,e,t,i,r,s,0);return}o=o.next}a=a.next}while(a!==n)}function soe(n,e,t,i){const r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*i,c=s<a-1?e[s+1]*i:n.length,u=$j(n,o,c,i,!1);u===u.next&&(u.steiner=!0),r.push(hoe(u))}r.sort(aoe);for(let s=0;s<r.length;s++)t=ooe(r[s],t);return t}function aoe(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function ooe(n,e){const t=loe(n,e);if(!t)return e;const i=Kj(t,n);return Kg(i,i.next),Kg(t,t.next)}function loe(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,a;if(j0(n,t))return t;do{if(j0(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const p=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=i&&p>s&&(s=p,a=t.x<t.next.x?t:t.next,p===i))return a}t=t.next}while(t!==e);if(!a)return null;const o=a,c=a.x,u=a.y;let h=1/0;t=a;do{if(i>=t.x&&t.x>=c&&i!==t.x&&Xj(r<u?i:s,r,c,u,r<u?s:i,r,t.x,t.y)){const p=Math.abs(r-t.y)/(i-t.x);Fx(t,n)&&(p<h||p===h&&(t.x>a.x||t.x===a.x&&coe(a,t)))&&(a=t,h=p)}t=t.next}while(t!==o);return a}function coe(n,e){return Ur(n.prev,n,e.prev)<0&&Ur(e.next,n,n.next)<0}function uoe(n,e,t,i){let r=n;do r.z===0&&(r.z=QI(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,foe(r)}function foe(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let a=i,o=0;for(let u=0;u<t&&(o++,a=a.nextZ,!!a);u++);let c=t;for(;o>0||c>0&&a;)o!==0&&(c===0||!a||i.z<=a.z)?(r=i,i=i.nextZ,o--):(r=a,a=a.nextZ,c--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=a}s.nextZ=null,t*=2}while(e>1);return n}function QI(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function hoe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Xj(n,e,t,i,r,s,a,o){return(r-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(i-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(r-a)*(i-o)}function Cb(n,e,t,i,r,s,a,o){return!(n===a&&e===o)&&Xj(n,e,t,i,r,s,a,o)}function doe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!poe(n,e)&&(Fx(n,e)&&Fx(e,n)&&moe(n,e)&&(Ur(n.prev,n,e.prev)||Ur(n,e.prev,e))||j0(n,e)&&Ur(n.prev,n,n.next)>0&&Ur(e.prev,e,e.next)>0)}function Ur(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function j0(n,e){return n.x===e.x&&n.y===e.y}function Yj(n,e,t,i){const r=zT(Ur(n,e,t)),s=zT(Ur(n,e,i)),a=zT(Ur(t,i,n)),o=zT(Ur(t,i,e));return!!(r!==s&&a!==o||r===0&&kT(n,t,e)||s===0&&kT(n,i,e)||a===0&&kT(t,n,i)||o===0&&kT(t,e,i))}function kT(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function zT(n){return n>0?1:n<0?-1:0}function poe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Yj(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Fx(n,e){return Ur(n.prev,n,n.next)<0?Ur(n,e,n.next)>=0&&Ur(n,n.prev,e)>=0:Ur(n,e,n.prev)<0||Ur(n,n.next,e)<0}function moe(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function Kj(n,e){const t=JI(n.i,n.x,n.y),i=JI(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function Kk(n,e,t,i){const r=JI(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Vx(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function JI(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function goe(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}class yoe{static triangulate(e,t,i=2){return eoe(e,t,i)}}class du{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return du.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];Zk(e),Qk(i,e);let a=e.length;t.forEach(Zk);for(let c=0;c<t.length;c++)r.push(a),a+=t[c].length,Qk(i,t[c]);const o=yoe.triangulate(i,r);for(let c=0;c<o.length;c+=3)s.push(o.slice(c,c+3));return s}}function Zk(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function Qk(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class $A extends Dn{constructor(e=new Vg([new it(.5,.5),new it(-.5,.5),new it(-.5,-.5),new it(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let o=0,c=e.length;o<c;o++){const u=e[o];a(u)}this.setAttribute("position",new Ht(r,3)),this.setAttribute("uv",new Ht(s,2)),this.computeVertexNormals();function a(o){const c=[],u=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,p=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:v-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:voe;let M,C=!1,D,L,I,N;x&&(M=x.getSpacedPoints(h),C=!0,y=!1,D=x.computeFrenetFrames(h,!1),L=new fe,I=new fe,N=new fe),y||(E=0,v=0,_=0,S=0);const P=o.extractPoints(u);let U=P.shape;const V=P.holes;if(!du.isClockWise(U)){U=U.reverse();for(let te=0,Oe=V.length;te<Oe;te++){const Be=V[te];du.isClockWise(Be)&&(V[te]=Be.reverse())}}function F(te){const Be=10000000000000001e-36;let Ne=te[0];for(let Me=1;Me<=te.length;Me++){const ct=Me%te.length,qe=te[ct],ae=qe.x-Ne.x,J=qe.y-Ne.y,Se=ae*ae+J*J,Ae=Math.max(Math.abs(qe.x),Math.abs(qe.y),Math.abs(Ne.x),Math.abs(Ne.y)),Ze=Be*Ae*Ae;if(Se<=Ze){te.splice(ct,1),Me--;continue}Ne=qe}}F(U),V.forEach(F);const K=V.length,ee=U;for(let te=0;te<K;te++){const Oe=V[te];U=U.concat(Oe)}function q(te,Oe,Be){return Oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),te.clone().addScaledVector(Oe,Be)}const $=U.length;function Q(te,Oe,Be){let Ne,Me,ct;const qe=te.x-Oe.x,ae=te.y-Oe.y,J=Be.x-te.x,Se=Be.y-te.y,Ae=qe*qe+ae*ae,Ze=qe*Se-ae*J;if(Math.abs(Ze)>Number.EPSILON){const Re=Math.sqrt(Ae),lt=Math.sqrt(J*J+Se*Se),ut=Oe.x-ae/Re,Dt=Oe.y+qe/Re,kt=Be.x-Se/lt,$e=Be.y+J/lt,dt=((kt-ut)*Se-($e-Dt)*J)/(qe*Se-ae*J);Ne=ut+qe*dt-te.x,Me=Dt+ae*dt-te.y;const wt=Ne*Ne+Me*Me;if(wt<=2)return new it(Ne,Me);ct=Math.sqrt(wt/2)}else{let Re=!1;qe>Number.EPSILON?J>Number.EPSILON&&(Re=!0):qe<-Number.EPSILON?J<-Number.EPSILON&&(Re=!0):Math.sign(ae)===Math.sign(Se)&&(Re=!0),Re?(Ne=-ae,Me=qe,ct=Math.sqrt(Ae)):(Ne=qe,Me=ae,ct=Math.sqrt(Ae/2))}return new it(Ne/ct,Me/ct)}const se=[];for(let te=0,Oe=ee.length,Be=Oe-1,Ne=te+1;te<Oe;te++,Be++,Ne++)Be===Oe&&(Be=0),Ne===Oe&&(Ne=0),se[te]=Q(ee[te],ee[Be],ee[Ne]);const de=[];let Y,le=se.concat();for(let te=0,Oe=K;te<Oe;te++){const Be=V[te];Y=[];for(let Ne=0,Me=Be.length,ct=Me-1,qe=Ne+1;Ne<Me;Ne++,ct++,qe++)ct===Me&&(ct=0),qe===Me&&(qe=0),Y[Ne]=Q(Be[Ne],Be[ct],Be[qe]);de.push(Y),le=le.concat(Y)}let pe;if(E===0)pe=du.triangulateShape(ee,V);else{const te=[],Oe=[];for(let Be=0;Be<E;Be++){const Ne=Be/E,Me=v*Math.cos(Ne*Math.PI/2),ct=_*Math.sin(Ne*Math.PI/2)+S;for(let qe=0,ae=ee.length;qe<ae;qe++){const J=q(ee[qe],se[qe],ct);Xe(J.x,J.y,-Me),Ne===0&&te.push(J)}for(let qe=0,ae=K;qe<ae;qe++){const J=V[qe];Y=de[qe];const Se=[];for(let Ae=0,Ze=J.length;Ae<Ze;Ae++){const Re=q(J[Ae],Y[Ae],ct);Xe(Re.x,Re.y,-Me),Ne===0&&Se.push(Re)}Ne===0&&Oe.push(Se)}}pe=du.triangulateShape(te,Oe)}const ue=pe.length,ie=_+S;for(let te=0;te<$;te++){const Oe=y?q(U[te],le[te],ie):U[te];C?(I.copy(D.normals[0]).multiplyScalar(Oe.x),L.copy(D.binormals[0]).multiplyScalar(Oe.y),N.copy(M[0]).add(I).add(L),Xe(N.x,N.y,N.z)):Xe(Oe.x,Oe.y,0)}for(let te=1;te<=h;te++)for(let Oe=0;Oe<$;Oe++){const Be=y?q(U[Oe],le[Oe],ie):U[Oe];C?(I.copy(D.normals[te]).multiplyScalar(Be.x),L.copy(D.binormals[te]).multiplyScalar(Be.y),N.copy(M[te]).add(I).add(L),Xe(N.x,N.y,N.z)):Xe(Be.x,Be.y,p/h*te)}for(let te=E-1;te>=0;te--){const Oe=te/E,Be=v*Math.cos(Oe*Math.PI/2),Ne=_*Math.sin(Oe*Math.PI/2)+S;for(let Me=0,ct=ee.length;Me<ct;Me++){const qe=q(ee[Me],se[Me],Ne);Xe(qe.x,qe.y,p+Be)}for(let Me=0,ct=V.length;Me<ct;Me++){const qe=V[Me];Y=de[Me];for(let ae=0,J=qe.length;ae<J;ae++){const Se=q(qe[ae],Y[ae],Ne);C?Xe(Se.x,Se.y+M[h-1].y,M[h-1].x+Be):Xe(Se.x,Se.y,p+Be)}}}he(),ye();function he(){const te=r.length/3;if(y){let Oe=0,Be=$*Oe;for(let Ne=0;Ne<ue;Ne++){const Me=pe[Ne];Ge(Me[2]+Be,Me[1]+Be,Me[0]+Be)}Oe=h+E*2,Be=$*Oe;for(let Ne=0;Ne<ue;Ne++){const Me=pe[Ne];Ge(Me[0]+Be,Me[1]+Be,Me[2]+Be)}}else{for(let Oe=0;Oe<ue;Oe++){const Be=pe[Oe];Ge(Be[2],Be[1],Be[0])}for(let Oe=0;Oe<ue;Oe++){const Be=pe[Oe];Ge(Be[0]+$*h,Be[1]+$*h,Be[2]+$*h)}}i.addGroup(te,r.length/3-te,0)}function ye(){const te=r.length/3;let Oe=0;Ve(ee,Oe),Oe+=ee.length;for(let Be=0,Ne=V.length;Be<Ne;Be++){const Me=V[Be];Ve(Me,Oe),Oe+=Me.length}i.addGroup(te,r.length/3-te,1)}function Ve(te,Oe){let Be=te.length;for(;--Be>=0;){const Ne=Be;let Me=Be-1;Me<0&&(Me=te.length-1);for(let ct=0,qe=h+E*2;ct<qe;ct++){const ae=$*ct,J=$*(ct+1),Se=Oe+Ne+ae,Ae=Oe+Me+ae,Ze=Oe+Me+J,Re=Oe+Ne+J;rt(Se,Ae,Ze,Re)}}}function Xe(te,Oe,Be){c.push(te),c.push(Oe),c.push(Be)}function Ge(te,Oe,Be){ot(te),ot(Oe),ot(Be);const Ne=r.length/3,Me=w.generateTopUV(i,r,Ne-3,Ne-2,Ne-1);pt(Me[0]),pt(Me[1]),pt(Me[2])}function rt(te,Oe,Be,Ne){ot(te),ot(Oe),ot(Ne),ot(Oe),ot(Be),ot(Ne);const Me=r.length/3,ct=w.generateSideWallUV(i,r,Me-6,Me-3,Me-2,Me-1);pt(ct[0]),pt(ct[1]),pt(ct[3]),pt(ct[1]),pt(ct[2]),pt(ct[3])}function ot(te){r.push(c[te*3+0]),r.push(c[te*3+1]),r.push(c[te*3+2])}function pt(te){s.push(te.x),s.push(te.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return _oe(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new SC[r.type]().fromJSON(r)),new $A(i,e.options)}}const voe={generateTopUV:function(n,e,t,i,r){const s=e[t*3],a=e[t*3+1],o=e[i*3],c=e[i*3+1],u=e[r*3],h=e[r*3+1];return[new it(s,a),new it(o,c),new it(u,h)]},generateSideWallUV:function(n,e,t,i,r,s){const a=e[t*3],o=e[t*3+1],c=e[t*3+2],u=e[i*3],h=e[i*3+1],p=e[i*3+2],y=e[r*3],v=e[r*3+1],_=e[r*3+2],S=e[s*3],E=e[s*3+1],x=e[s*3+2];return Math.abs(o-h)<Math.abs(a-u)?[new it(a,1-c),new it(u,1-p),new it(y,1-_),new it(S,1-x)]:[new it(o,1-c),new it(h,1-p),new it(v,1-_),new it(E,1-x)]}};function _oe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class XA extends Zp{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new XA(e.radius,e.detail)}}class YA extends Dn{constructor(e=[new it(0,-.5),new it(.5,0),new it(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=An(r,0,Math.PI*2);const s=[],a=[],o=[],c=[],u=[],h=1/t,p=new fe,y=new it,v=new fe,_=new fe,S=new fe;let E=0,x=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:E=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,v.x=x*1,v.y=-E,v.z=x*0,S.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case e.length-1:c.push(S.x,S.y,S.z);break;default:E=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,v.x=x*1,v.y=-E,v.z=x*0,_.copy(v),v.x+=S.x,v.y+=S.y,v.z+=S.z,v.normalize(),c.push(v.x,v.y,v.z),S.copy(_)}for(let w=0;w<=t;w++){const M=i+w*h*r,C=Math.sin(M),D=Math.cos(M);for(let L=0;L<=e.length-1;L++){p.x=e[L].x*C,p.y=e[L].y,p.z=e[L].x*D,a.push(p.x,p.y,p.z),y.x=w/t,y.y=L/(e.length-1),o.push(y.x,y.y);const I=c[3*L+0]*C,N=c[3*L+1],P=c[3*L+0]*D;u.push(I,N,P)}}for(let w=0;w<t;w++)for(let M=0;M<e.length-1;M++){const C=M+w*e.length,D=C,L=C+e.length,I=C+e.length+1,N=C+1;s.push(D,L,N),s.push(I,N,L)}this.setIndex(s),this.setAttribute("position",new Ht(a,3)),this.setAttribute("uv",new Ht(o,2)),this.setAttribute("normal",new Ht(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new YA(e.points,e.segments,e.phiStart,e.phiLength)}}class SS extends Zp{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new SS(e.radius,e.detail)}}class y_ extends Dn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(i),c=Math.floor(r),u=o+1,h=c+1,p=e/o,y=t/c,v=[],_=[],S=[],E=[];for(let x=0;x<h;x++){const w=x*y-a;for(let M=0;M<u;M++){const C=M*p-s;_.push(C,-w,0),S.push(0,0,1),E.push(M/o),E.push(1-x/c)}}for(let x=0;x<c;x++)for(let w=0;w<o;w++){const M=w+u*x,C=w+u*(x+1),D=w+1+u*(x+1),L=w+1+u*x;v.push(M,C,L),v.push(C,D,L)}this.setIndex(v),this.setAttribute("position",new Ht(_,3)),this.setAttribute("normal",new Ht(S,3)),this.setAttribute("uv",new Ht(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new y_(e.width,e.height,e.widthSegments,e.heightSegments)}}class KA extends Dn{constructor(e=.5,t=1,i=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const o=[],c=[],u=[],h=[];let p=e;const y=(t-e)/r,v=new fe,_=new it;for(let S=0;S<=r;S++){for(let E=0;E<=i;E++){const x=s+E/i*a;v.x=p*Math.cos(x),v.y=p*Math.sin(x),c.push(v.x,v.y,v.z),u.push(0,0,1),_.x=(v.x/t+1)/2,_.y=(v.y/t+1)/2,h.push(_.x,_.y)}p+=y}for(let S=0;S<r;S++){const E=S*(i+1);for(let x=0;x<i;x++){const w=x+E,M=w,C=w+i+1,D=w+i+2,L=w+1;o.push(M,C,L),o.push(C,D,L)}}this.setIndex(o),this.setAttribute("position",new Ht(c,3)),this.setAttribute("normal",new Ht(u,3)),this.setAttribute("uv",new Ht(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new KA(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ZA extends Dn{constructor(e=new Vg([new it(0,.5),new it(-.5,-.5),new it(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let o=0,c=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(o,c,h),o+=c,c=0;this.setIndex(i),this.setAttribute("position",new Ht(r,3)),this.setAttribute("normal",new Ht(s,3)),this.setAttribute("uv",new Ht(a,2));function u(h){const p=r.length/3,y=h.extractPoints(t);let v=y.shape;const _=y.holes;du.isClockWise(v)===!1&&(v=v.reverse());for(let E=0,x=_.length;E<x;E++){const w=_[E];du.isClockWise(w)===!0&&(_[E]=w.reverse())}const S=du.triangulateShape(v,_);for(let E=0,x=_.length;E<x;E++){const w=_[E];v=v.concat(w)}for(let E=0,x=v.length;E<x;E++){const w=v[E];r.push(w.x,w.y,0),s.push(0,0,1),a.push(w.x,w.y)}for(let E=0,x=S.length;E<x;E++){const w=S[E],M=w[0]+p,C=w[1]+p,D=w[2]+p;i.push(M,C,D),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return boe(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];i.push(a)}return new ZA(i,e.curveSegments)}}function boe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class oy extends Dn{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const c=Math.min(a+o,Math.PI);let u=0;const h=[],p=new fe,y=new fe,v=[],_=[],S=[],E=[];for(let x=0;x<=i;x++){const w=[],M=x/i;let C=0;x===0&&a===0?C=.5/t:x===i&&c===Math.PI&&(C=-.5/t);for(let D=0;D<=t;D++){const L=D/t;p.x=-e*Math.cos(r+L*s)*Math.sin(a+M*o),p.y=e*Math.cos(a+M*o),p.z=e*Math.sin(r+L*s)*Math.sin(a+M*o),_.push(p.x,p.y,p.z),y.copy(p).normalize(),S.push(y.x,y.y,y.z),E.push(L+C,1-M),w.push(u++)}h.push(w)}for(let x=0;x<i;x++)for(let w=0;w<t;w++){const M=h[x][w+1],C=h[x][w],D=h[x+1][w],L=h[x+1][w+1];(x!==0||a>0)&&v.push(M,C,L),(x!==i-1||c<Math.PI)&&v.push(C,D,L)}this.setIndex(v),this.setAttribute("position",new Ht(_,3)),this.setAttribute("normal",new Ht(S,3)),this.setAttribute("uv",new Ht(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oy(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class QA extends Zp{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new QA(e.radius,e.detail)}}class JA extends Dn{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],o=[],c=[],u=[],h=new fe,p=new fe,y=new fe;for(let v=0;v<=i;v++)for(let _=0;_<=r;_++){const S=_/r*s,E=v/i*Math.PI*2;p.x=(e+t*Math.cos(E))*Math.cos(S),p.y=(e+t*Math.cos(E))*Math.sin(S),p.z=t*Math.sin(E),o.push(p.x,p.y,p.z),h.x=e*Math.cos(S),h.y=e*Math.sin(S),y.subVectors(p,h).normalize(),c.push(y.x,y.y,y.z),u.push(_/r),u.push(v/i)}for(let v=1;v<=i;v++)for(let _=1;_<=r;_++){const S=(r+1)*v+_-1,E=(r+1)*(v-1)+_-1,x=(r+1)*(v-1)+_,w=(r+1)*v+_;a.push(S,E,w),a.push(E,x,w)}this.setIndex(a),this.setAttribute("position",new Ht(o,3)),this.setAttribute("normal",new Ht(c,3)),this.setAttribute("uv",new Ht(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JA(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class eM extends Dn{constructor(e=1,t=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const o=[],c=[],u=[],h=[],p=new fe,y=new fe,v=new fe,_=new fe,S=new fe,E=new fe,x=new fe;for(let M=0;M<=i;++M){const C=M/i*s*Math.PI*2;w(C,s,a,e,v),w(C+.01,s,a,e,_),E.subVectors(_,v),x.addVectors(_,v),S.crossVectors(E,x),x.crossVectors(S,E),S.normalize(),x.normalize();for(let D=0;D<=r;++D){const L=D/r*Math.PI*2,I=-t*Math.cos(L),N=t*Math.sin(L);p.x=v.x+(I*x.x+N*S.x),p.y=v.y+(I*x.y+N*S.y),p.z=v.z+(I*x.z+N*S.z),c.push(p.x,p.y,p.z),y.subVectors(p,v).normalize(),u.push(y.x,y.y,y.z),h.push(M/i),h.push(D/r)}}for(let M=1;M<=i;M++)for(let C=1;C<=r;C++){const D=(r+1)*(M-1)+(C-1),L=(r+1)*M+(C-1),I=(r+1)*M+C,N=(r+1)*(M-1)+C;o.push(D,L,N),o.push(L,I,N)}this.setIndex(o),this.setAttribute("position",new Ht(c,3)),this.setAttribute("normal",new Ht(u,3)),this.setAttribute("uv",new Ht(h,2));function w(M,C,D,L,I){const N=Math.cos(M),P=Math.sin(M),U=D/C*M,V=Math.cos(U);I.x=L*(2+V)*.5*N,I.y=L*(2+V)*P*.5,I.z=L*Math.sin(U)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class ES extends Dn{constructor(e=new WA(new fe(-1,-1,0),new fe(-1,1,0),new fe(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new fe,c=new fe,u=new it;let h=new fe;const p=[],y=[],v=[],_=[];S(),this.setIndex(_),this.setAttribute("position",new Ht(p,3)),this.setAttribute("normal",new Ht(y,3)),this.setAttribute("uv",new Ht(v,2));function S(){for(let M=0;M<t;M++)E(M);E(s===!1?t:0),w(),x()}function E(M){h=e.getPointAt(M/t,h);const C=a.normals[M],D=a.binormals[M];for(let L=0;L<=r;L++){const I=L/r*Math.PI*2,N=Math.sin(I),P=-Math.cos(I);c.x=P*C.x+N*D.x,c.y=P*C.y+N*D.y,c.z=P*C.z+N*D.z,c.normalize(),y.push(c.x,c.y,c.z),o.x=h.x+i*c.x,o.y=h.y+i*c.y,o.z=h.z+i*c.z,p.push(o.x,o.y,o.z)}}function x(){for(let M=1;M<=t;M++)for(let C=1;C<=r;C++){const D=(r+1)*(M-1)+(C-1),L=(r+1)*M+(C-1),I=(r+1)*M+C,N=(r+1)*(M-1)+C;_.push(D,L,N),_.push(L,I,N)}}function w(){for(let M=0;M<=t;M++)for(let C=0;C<=r;C++)u.x=M/t,u.y=C/r,v.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new ES(new SC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Zj extends Dn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new fe,s=new fe;if(e.index!==null){const a=e.attributes.position,o=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,h=c.length;u<h;++u){const p=c[u],y=p.start,v=p.count;for(let _=y,S=y+v;_<S;_+=3)for(let E=0;E<3;E++){const x=o.getX(_+E),w=o.getX(_+(E+1)%3);r.fromBufferAttribute(a,x),s.fromBufferAttribute(a,w),Jk(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,c=a.count/3;o<c;o++)for(let u=0;u<3;u++){const h=3*o+u,p=3*o+(u+1)%3;r.fromBufferAttribute(a,h),s.fromBufferAttribute(a,p),Jk(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ht(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Jk(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var ez=Object.freeze({__proto__:null,BoxGeometry:ay,CapsuleGeometry:HA,CircleGeometry:jA,ConeGeometry:g_,CylinderGeometry:m_,DodecahedronGeometry:GA,EdgesGeometry:Hj,ExtrudeGeometry:$A,IcosahedronGeometry:XA,LatheGeometry:YA,OctahedronGeometry:SS,PlaneGeometry:y_,PolyhedronGeometry:Zp,RingGeometry:KA,ShapeGeometry:ZA,SphereGeometry:oy,TetrahedronGeometry:QA,TorusGeometry:JA,TorusKnotGeometry:eM,TubeGeometry:ES,WireframeGeometry:Zj});class Qj extends to{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ut(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Jj extends _u{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class tM extends to{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ut(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yp,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class eG extends tM{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new it(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return An(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ut(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ut(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ut(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class tG extends to{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ut(16777215),this.specular=new Ut(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yp,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zl,this.combine=yS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nG extends to{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ut(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yp,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class iG extends to{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yp,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class jN extends to{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yp,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zl,this.combine=yS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GN extends to{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=mj,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class qN extends to{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class rG extends to{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ut(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yp,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sG extends no{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Mg(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function aG(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function oG(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function eP(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){const o=t[s]*e;for(let c=0;c!==e;++c)r[a++]=n[o+c]}return r}function WN(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push(...a)),s=n[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=n[r++];while(s!==void 0)}function xoe(n,e,t,i,r=30){const s=n.clone();s.name=e;const a=[];for(let c=0;c<s.tracks.length;++c){const u=s.tracks[c],h=u.getValueSize(),p=[],y=[];for(let v=0;v<u.times.length;++v){const _=u.times[v]*r;if(!(_<t||_>=i)){p.push(u.times[v]);for(let S=0;S<h;++S)y.push(u.values[v*h+S])}}p.length!==0&&(u.times=Mg(p,u.times.constructor),u.values=Mg(y,u.values.constructor),a.push(u))}s.tracks=a;let o=1/0;for(let c=0;c<s.tracks.length;++c)o>s.tracks[c].times[0]&&(o=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*o);return s.resetDuration(),s}function Soe(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let a=0;a<r;++a){const o=t.tracks[a],c=o.ValueTypeName;if(c==="bool"||c==="string")continue;const u=n.tracks.find(function(x){return x.name===o.name&&x.ValueTypeName===c});if(u===void 0)continue;let h=0;const p=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let y=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=v/3);const _=o.times.length-1;let S;if(s<=o.times[0]){const x=h,w=p-h;S=o.values.slice(x,w)}else if(s>=o.times[_]){const x=_*p+h,w=x+p-h;S=o.values.slice(x,w)}else{const x=o.createInterpolant(),w=h,M=p-h;x.evaluate(s),S=x.resultBuffer.slice(w,M)}c==="quaternion"&&new Ta().fromArray(S).normalize().conjugate().toArray(S);const E=u.times.length;for(let x=0;x<E;++x){const w=x*v+y;if(c==="quaternion")Ta.multiplyQuaternionsFlat(u.values,w,S,0,u.values,w);else{const M=v-y*2;for(let C=0;C<M;++C)u.values[w+C]-=S[C]}}}return n.blendMode=MN,n}class Eoe{static convertArray(e,t){return Mg(e,t)}static isTypedArray(e){return aG(e)}static getKeyframeOrder(e){return oG(e)}static sortedArray(e,t,i){return eP(e,t,i)}static flattenJSON(e,t,i,r){WN(e,t,i,r)}static subclip(e,t,i,r,s=30){return xoe(e,t,i,r,s)}static makeClipAdditive(e,t=0,i=e,r=30){return Soe(e,t,i,r)}}class TS{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(i=2,s=o);for(let c=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class lG extends TS{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Cg,endingEnd:Cg}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],c=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case Ag:s=e,o=2*t-i;break;case Nx:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(c===void 0)switch(this.getSettings_().endingEnd){case Ag:a=e,c=2*i-t;break;case Nx:a=1,c=i+r[1]-r[0];break;default:a=e-1,c=t}const u=(i-t)*.5,h=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(c-i),this._offsetPrev=s*h,this._offsetNext=a*h}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,u=c-o,h=this._offsetPrev,p=this._offsetNext,y=this._weightPrev,v=this._weightNext,_=(i-t)/(r-t),S=_*_,E=S*_,x=-y*E+2*y*S-y*_,w=(1+y)*E+(-1.5-2*y)*S+(-.5+y)*_+1,M=(-1-v)*E+(1.5+v)*S+.5*_,C=v*E-v*S;for(let D=0;D!==o;++D)s[D]=x*a[h+D]+w*a[u+D]+M*a[c+D]+C*a[p+D];return s}}class $N extends TS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,u=c-o,h=(i-t)/(r-t),p=1-h;for(let y=0;y!==o;++y)s[y]=a[u+y]*p+a[c+y]*h;return s}}class cG extends TS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Rc{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Mg(t,this.TimeBufferType),this.values=Mg(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Mg(e.times,Array),values:Mg(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new cG(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new $N(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new lG(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Dx:t=this.InterpolantFactoryMethodDiscrete;break;case _C:t=this.InterpolantFactoryMethodLinear;break;case Yw:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Dx;case this.InterpolantFactoryMethodLinear:return _C;case this.InterpolantFactoryMethodSmooth:return Yw}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const c=i[o];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,c),e=!1;break}if(a!==null&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,c,a),e=!1;break}a=c}if(r!==void 0&&aG(r))for(let o=0,c=r.length;o!==c;++o){const u=r[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Yw,s=e.length-1;let a=1;for(let o=1;o<s;++o){let c=!1;const u=e[o],h=e[o+1];if(u!==h&&(o!==1||u!==e[0]))if(r)c=!0;else{const p=o*i,y=p-i,v=p+i;for(let _=0;_!==i;++_){const S=t[p+_];if(S!==t[y+_]||S!==t[v+_]){c=!0;break}}}if(c){if(o!==a){e[a]=e[o];const p=o*i,y=a*i;for(let v=0;v!==i;++v)t[y+v]=t[p+v]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,c=a*i,u=0;u!==i;++u)t[c+u]=t[o+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Rc.prototype.ValueTypeName="";Rc.prototype.TimeBufferType=Float32Array;Rc.prototype.ValueBufferType=Float32Array;Rc.prototype.DefaultInterpolation=_C;class ly extends Rc{constructor(e,t,i){super(e,t,i)}}ly.prototype.ValueTypeName="bool";ly.prototype.ValueBufferType=Array;ly.prototype.DefaultInterpolation=Dx;ly.prototype.InterpolantFactoryMethodLinear=void 0;ly.prototype.InterpolantFactoryMethodSmooth=void 0;class XN extends Rc{constructor(e,t,i,r){super(e,t,i,r)}}XN.prototype.ValueTypeName="color";class Hx extends Rc{constructor(e,t,i,r){super(e,t,i,r)}}Hx.prototype.ValueTypeName="number";class uG extends TS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=(i-t)/(r-t);let u=e*o;for(let h=u+o;u!==h;u+=4)Ta.slerpFlat(s,0,a,u-o,a,u,c);return s}}class wS extends Rc{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new uG(this.times,this.values,this.getValueSize(),e)}}wS.prototype.ValueTypeName="quaternion";wS.prototype.InterpolantFactoryMethodSmooth=void 0;class cy extends Rc{constructor(e,t,i){super(e,t,i)}}cy.prototype.ValueTypeName="string";cy.prototype.ValueBufferType=Array;cy.prototype.DefaultInterpolation=Dx;cy.prototype.InterpolantFactoryMethodLinear=void 0;cy.prototype.InterpolantFactoryMethodSmooth=void 0;class jx extends Rc{constructor(e,t,i,r){super(e,t,i,r)}}jx.prototype.ValueTypeName="vector";class Gx{constructor(e="",t=-1,i=[],r=OA){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Dl(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)t.push(woe(i[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(Rc.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,a=[];for(let o=0;o<s;o++){let c=[],u=[];c.push((o+s-1)%s,o,(o+1)%s),u.push(0,1,0);const h=oG(c);c=eP(c,1,h),u=eP(u,1,h),!r&&c[0]===0&&(c.push(s),u.push(u[0])),a.push(new Hx(".morphTargetInfluences["+t[o].name+"]",c,u).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,c=e.length;o<c;o++){const u=e[o],h=u.name.match(s);if(h&&h.length>1){const p=h[1];let y=r[p];y||(r[p]=y=[]),y.push(u)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,i));return a}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(p,y,v,_,S){if(v.length!==0){const E=[],x=[];WN(v,E,x,_),E.length!==0&&S.push(new p(y,E,x))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let p=0;p<u.length;p++){const y=u[p].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const v={};let _;for(_=0;_<y.length;_++)if(y[_].morphTargets)for(let S=0;S<y[_].morphTargets.length;S++)v[y[_].morphTargets[S]]=-1;for(const S in v){const E=[],x=[];for(let w=0;w!==y[_].morphTargets.length;++w){const M=y[_];E.push(M.time),x.push(M.morphTarget===S?1:0)}r.push(new Hx(".morphTargetInfluence["+S+"]",E,x))}c=v.length*a}else{const v=".bones["+t[p].name+"]";i(jx,v+".position",y,"pos",r),i(wS,v+".quaternion",y,"rot",r),i(jx,v+".scale",y,"scl",r)}}return r.length===0?null:new this(s,c,r,o)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Toe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Hx;case"vector":case"vector2":case"vector3":case"vector4":return jx;case"color":return XN;case"quaternion":return wS;case"bool":case"boolean":return ly;case"string":return cy}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function woe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Toe(n.type);if(n.times===void 0){const t=[],i=[];WN(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Nh={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class YN{constructor(e,t,i){const r=this;let s=!1,a=0,o=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(h){o++,s===!1&&r.onStart!==void 0&&r.onStart(h,a,o),s=!0},this.itemEnd=function(h){a++,r.onProgress!==void 0&&r.onProgress(h,a,o),a===o&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return c?c(h):h},this.setURLModifier=function(h){return c=h,this},this.addHandler=function(h,p){return u.push(h,p),this},this.removeHandler=function(h){const p=u.indexOf(h);return p!==-1&&u.splice(p,2),this},this.getHandler=function(h){for(let p=0,y=u.length;p<y;p+=2){const v=u[p],_=u[p+1];if(v.global&&(v.lastIndex=0),v.test(h))return _}return null}}}const fG=new YN;class al{constructor(e){this.manager=e!==void 0?e:fG,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}al.DEFAULT_MATERIAL_NAME="__DEFAULT";const vh={};class Coe extends Error{constructor(e,t){super(e),this.response=t}}class Qh extends al{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Nh.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(vh[e]!==void 0){vh[e].push({onLoad:t,onProgress:i,onError:r});return}vh[e]=[],vh[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,c=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const h=vh[e],p=u.body.getReader(),y=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),v=y?parseInt(y):0,_=v!==0;let S=0;const E=new ReadableStream({start(x){w();function w(){p.read().then(({done:M,value:C})=>{if(M)x.close();else{S+=C.byteLength;const D=new ProgressEvent("progress",{lengthComputable:_,loaded:S,total:v});for(let L=0,I=h.length;L<I;L++){const N=h[L];N.onProgress&&N.onProgress(D)}x.enqueue(C),w()}},M=>{x.error(M)})}}});return new Response(E)}else throw new Coe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(c){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,o));case"json":return u.json();default:if(o==="")return u.text();{const p=/charset="?([^;"\s]*)"?/i.exec(o),y=p&&p[1]?p[1].toLowerCase():void 0,v=new TextDecoder(y);return u.arrayBuffer().then(_=>v.decode(_))}}}).then(u=>{Nh.add(e,u);const h=vh[e];delete vh[e];for(let p=0,y=h.length;p<y;p++){const v=h[p];v.onLoad&&v.onLoad(u)}}).catch(u=>{const h=vh[e];if(h===void 0)throw this.manager.itemError(e),u;delete vh[e];for(let p=0,y=h.length;p<y;p++){const v=h[p];v.onError&&v.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Aoe extends al{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Qh(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Gx.parse(e[i]);t.push(r)}return t}}class Moe extends al{constructor(e){super(e)}load(e,t,i,r){const s=this,a=[],o=new VA,c=new Qh(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let u=0;function h(p){c.load(e[p],function(y){const v=s.parse(y,!0);a[p]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},u+=1,u===6&&(v.mipmapCount===1&&(o.minFilter=hs),o.image=a,o.format=v.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(Array.isArray(e))for(let p=0,y=e.length;p<y;++p)h(p);else c.load(e,function(p){const y=s.parse(p,!0);if(y.isCubemap){const v=y.mipmaps.length/y.mipmapCount;for(let _=0;_<v;_++){a[_]={mipmaps:[]};for(let S=0;S<y.mipmapCount;S++)a[_].mipmaps.push(y.mipmaps[_*y.mipmapCount+S]),a[_].format=y.format,a[_].width=y.width,a[_].height=y.height}o.image=a}else o.image.width=y.width,o.image.height=y.height,o.mipmaps=y.mipmaps;y.mipmapCount===1&&(o.minFilter=hs),o.format=y.format,o.needsUpdate=!0,t&&t(o)},i,r);return o}}class qx extends al{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Nh.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o=zx("img");function c(){h(),Nh.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(p){h(),r&&r(p),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){o.removeEventListener("load",c,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",c,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class Roe extends al{constructor(e){super(e)}load(e,t,i,r){const s=new bS;s.colorSpace=ba;const a=new qx(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function c(u){a.load(e[u],function(h){s.images[u]=h,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)c(u);return s}}class Ooe extends al{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Af,o=new Qh(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(c){let u;try{u=s.parse(c)}catch(h){if(r!==void 0)r(h);else{console.error(h);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:Sc,a.wrapT=u.wrapT!==void 0?u.wrapT:Sc,a.magFilter=u.magFilter!==void 0?u.magFilter:hs,a.minFilter=u.minFilter!==void 0?u.minFilter:hs,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=_f),u.mipmapCount===1&&(a.minFilter=hs),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,t&&t(a,u)},i,r),a}}class Ioe extends al{constructor(e){super(e)}load(e,t,i,r){const s=new ts,a=new qx(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Qp extends mi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ut(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class hG extends Qp{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ut(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const CO=new an,tz=new fe,nz=new fe;class KN{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new it(512,512),this.mapType=wc,this.map=null,this.mapPass=null,this.matrix=new an,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new p_,this._frameExtents=new it(1,1),this._viewportCount=1,this._viewports=[new pi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;tz.setFromMatrixPosition(e.matrixWorld),t.position.copy(tz),nz.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(nz),t.updateMatrixWorld(),CO.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(CO),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(CO)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Poe extends KN{constructor(){super(new ea(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=B0*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class dG extends Qp{constructor(e,t,i=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.target=new mi,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new Poe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const iz=new an,Z1=new fe,AO=new fe;class Doe extends KN{constructor(){super(new ea(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new it(4,2),this._viewportCount=6,this._viewports=[new pi(2,1,1,1),new pi(0,1,1,1),new pi(3,1,1,1),new pi(1,1,1,1),new pi(3,0,1,1),new pi(1,0,1,1)],this._cubeDirections=[new fe(1,0,0),new fe(-1,0,0),new fe(0,0,1),new fe(0,0,-1),new fe(0,1,0),new fe(0,-1,0)],this._cubeUps=[new fe(0,1,0),new fe(0,1,0),new fe(0,1,0),new fe(0,1,0),new fe(0,0,1),new fe(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Z1.setFromMatrixPosition(e.matrixWorld),i.position.copy(Z1),AO.copy(i.position),AO.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(AO),i.updateMatrixWorld(),r.makeTranslation(-Z1.x,-Z1.y,-Z1.z),iz.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(iz)}}class pG extends Qp{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Doe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}let CS=class extends DA{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+t,c=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=h*this.view.offsetY,c=o-h*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};class Noe extends KN{constructor(){super(new CS(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class mG extends Qp{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.target=new mi,this.shadow=new Noe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class gG extends Qp{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class yG extends Qp{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class vG{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new fe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(i*s)),t.addScaledVector(a[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*i*s),t.addScaledVector(a[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class _G extends Qp{constructor(e=new vG,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class nM extends al{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,a=new Qh(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ut().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new Ut().setHex(a.value);break;case"v2":r.uniforms[s].value=new it().fromArray(a.value);break;case"v3":r.uniforms[s].value=new fe().fromArray(a.value);break;case"v4":r.uniforms[s].value=new pi().fromArray(a.value);break;case"m3":r.uniforms[s].value=new Pn().fromArray(a.value);break;case"m4":r.uniforms[s].value=new an().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new it().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new it().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return nM.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:Qj,SpriteMaterial:zA,RawShaderMaterial:Jj,ShaderMaterial:_u,PointsMaterial:LN,MeshPhysicalMaterial:eG,MeshStandardMaterial:tM,MeshPhongMaterial:tG,MeshToonMaterial:nG,MeshNormalMaterial:iG,MeshLambertMaterial:jN,MeshDepthMaterial:GN,MeshDistanceMaterial:qN,MeshBasicMaterial:Kp,MeshMatcapMaterial:rG,LineDashedMaterial:sG,LineBasicMaterial:no,Material:to};return new t[e]}}class tP{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class bG extends Dn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class xG extends al{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Qh(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(v,_){if(t[_]!==void 0)return t[_];const E=v.interleavedBuffers[_],x=s(v,E.buffer),w=r0(E.type,x),M=new kA(w,E.stride);return M.uuid=E.uuid,t[_]=M,M}function s(v,_){if(i[_]!==void 0)return i[_];const E=v.arrayBuffers[_],x=new Uint32Array(E).buffer;return i[_]=x,x}const a=e.isInstancedBufferGeometry?new bG:new Dn,o=e.data.index;if(o!==void 0){const v=r0(o.type,o.array);a.setIndex(new Fi(v,1))}const c=e.data.attributes;for(const v in c){const _=c[v];let S;if(_.isInterleavedBufferAttribute){const E=r(e.data,_.data);S=new Yg(E,_.itemSize,_.offset,_.normalized)}else{const E=r0(_.type,_.array),x=_.isInstancedBufferAttribute?H0:Fi;S=new x(E,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),_.usage!==void 0&&S.setUsage(_.usage),a.setAttribute(v,S)}const u=e.data.morphAttributes;if(u)for(const v in u){const _=u[v],S=[];for(let E=0,x=_.length;E<x;E++){const w=_[E];let M;if(w.isInterleavedBufferAttribute){const C=r(e.data,w.data);M=new Yg(C,w.itemSize,w.offset,w.normalized)}else{const C=r0(w.type,w.array);M=new Fi(C,w.itemSize,w.normalized)}w.name!==void 0&&(M.name=w.name),S.push(M)}a.morphAttributes[v]=S}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let v=0,_=p.length;v!==_;++v){const S=p[v];a.addGroup(S.start,S.count,S.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const v=new fe;y.center!==void 0&&v.fromArray(y.center),a.boundingSphere=new ia(v,y.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class Loe extends al{constructor(e){super(e)}load(e,t,i,r){const s=this,a=this.path===""?tP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new Qh(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){let u=null;try{u=JSON.parse(c)}catch(p){r!==void 0&&r(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?tP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Qh(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),o=JSON.parse(a),c=o.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(u)}),o=this.parseTextures(e.textures,a),c=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,c,o,i),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),this.bindLightTargets(u),t!==void 0){let p=!1;for(const y in a)if(a[y].data instanceof HTMLImageElement){p=!0;break}p===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,r,o,a,t),u=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,u),this.bindLightTargets(c),c}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Vg().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new BA().fromJSON(e[s],r);i[o.uuid]=o}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new xG;for(let s=0,a=e.length;s<a;s++){let o;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(c);break;default:c.type in ez?o=ez[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}o.uuid=c.uuid,c.name!==void 0&&(o.name=c.name),c.userData!==void 0&&(o.userData=c.userData),i[c.uuid]=o}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new nM;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const c=e[a];i[c.uuid]===void 0&&(i[c.uuid]=s.parse(c)),r[c.uuid]=i[c.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Gx.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function a(c){return i.manager.itemStart(c),s.load(c,function(){i.manager.itemEnd(c)},void 0,function(){i.manager.itemError(c),i.manager.itemEnd(c)})}function o(c){if(typeof c=="string"){const u=c,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return a(h)}else return c.data?{data:r0(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new YN(t);s=new qx(c),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const p=e[u],y=p.url;if(Array.isArray(y)){const v=[];for(let _=0,S=y.length;_<S;_++){const E=y[_],x=o(E);x!==null&&(x instanceof HTMLImageElement?v.push(x):v.push(new Af(x.data,x.width,x.height)))}r[p.uuid]=new xp(v)}else{const v=o(p.url);r[p.uuid]=new xp(v)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(a){if(typeof a=="string"){const o=a,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(c)}else return a.data?{data:r0(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new qx(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const c=e[a],u=c.url;if(Array.isArray(u)){const h=[];for(let p=0,y=u.length;p<y;p++){const v=u[p],_=await s(v);_!==null&&(_ instanceof HTMLImageElement?h.push(_):h.push(new Af(_.data,_.width,_.height)))}i[c.uuid]=new xp(h)}else{const h=await s(c.url);i[c.uuid]=new xp(h)}}}return i}parseTextures(e,t){function i(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const c=t[o.image],u=c.data;let h;Array.isArray(u)?(h=new bS,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new Af:h=new ts,u&&(h.needsUpdate=!0)),h.source=c,h.uuid=o.uuid,o.name!==void 0&&(h.name=o.name),o.mapping!==void 0&&(h.mapping=i(o.mapping,Uoe)),o.channel!==void 0&&(h.channel=o.channel),o.offset!==void 0&&h.offset.fromArray(o.offset),o.repeat!==void 0&&h.repeat.fromArray(o.repeat),o.center!==void 0&&h.center.fromArray(o.center),o.rotation!==void 0&&(h.rotation=o.rotation),o.wrap!==void 0&&(h.wrapS=i(o.wrap[0],rz),h.wrapT=i(o.wrap[1],rz)),o.format!==void 0&&(h.format=o.format),o.internalFormat!==void 0&&(h.internalFormat=o.internalFormat),o.type!==void 0&&(h.type=o.type),o.colorSpace!==void 0&&(h.colorSpace=o.colorSpace),o.minFilter!==void 0&&(h.minFilter=i(o.minFilter,sz)),o.magFilter!==void 0&&(h.magFilter=i(o.magFilter,sz)),o.anisotropy!==void 0&&(h.anisotropy=o.anisotropy),o.flipY!==void 0&&(h.flipY=o.flipY),o.generateMipmaps!==void 0&&(h.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(h.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(h.compareFunction=o.compareFunction),o.userData!==void 0&&(h.userData=o.userData),r[o.uuid]=h}return r}parseObject(e,t,i,r,s){let a;function o(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function c(y){if(y!==void 0){if(Array.isArray(y)){const v=[];for(let _=0,S=y.length;_<S;_++){const E=y[_];i[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),v.push(i[E])}return v}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function u(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let h,p;switch(e.type){case"Scene":a=new UA,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Ut(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new LA(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new NA(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new ea(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new CS(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new gG(e.color,e.intensity);break;case"DirectionalLight":a=new mG(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new pG(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new yG(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new dG(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new hG(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new _G().fromJSON(e);break;case"SkinnedMesh":h=o(e.geometry),p=c(e.material),a=new Uj(h,p),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":h=o(e.geometry),p=c(e.material),a=new es(h,p);break;case"InstancedMesh":h=o(e.geometry),p=c(e.material);const y=e.count,v=e.instanceMatrix,_=e.instanceColor;a=new kj(h,p,y),a.instanceMatrix=new H0(new Float32Array(v.array),16),_!==void 0&&(a.instanceColor=new H0(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":h=o(e.geometry),p=c(e.material),a=new zj(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,p),a.geometry=h,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(S=>{let E=null,x=null;return S.boundingBox!==void 0&&(E=new na,E.min.fromArray(S.boundingBox.min),E.max.fromArray(S.boundingBox.max)),S.boundingSphere!==void 0&&(x=new ia,x.radius=S.boundingSphere.radius,x.center.fromArray(S.boundingSphere.center)),{...S,boundingBox:E,boundingSphere:x}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=u(e.matricesTexture.uuid),a._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new ia,a.boundingSphere.center.fromArray(e.boundingSphere.center),a.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(a.boundingBox=new na,a.boundingBox.min.fromArray(e.boundingBox.min),a.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":a=new Lj;break;case"Line":a=new Zh(o(e.geometry),c(e.material));break;case"LineLoop":a=new Bj(o(e.geometry),c(e.material));break;case"LineSegments":a=new Nf(o(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new Fj(o(e.geometry),c(e.material));break;case"Sprite":a=new DN(c(e.material));break;case"Group":a=new Dh;break;case"Bone":a=new NN;break;default:a=new mi}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let v=0;v<y.length;v++)a.add(this.parseObject(y[v],t,i,r,s))}if(e.animations!==void 0){const y=e.animations;for(let v=0;v<y.length;v++){const _=y[v];a.animations.push(s[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const y=e.levels;for(let v=0;v<y.length;v++){const _=y[v],S=a.getObjectByProperty("uuid",_.object);S!==void 0&&a.addLevel(S,_.distance,_.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new mi}})}}const Uoe={UVMapping:EA,CubeReflectionMapping:Yh,CubeRefractionMapping:Vp,EquirectangularReflectionMapping:Rx,EquirectangularRefractionMapping:Ox,CubeUVReflectionMapping:h_},rz={RepeatWrapping:Ix,ClampToEdgeWrapping:Sc,MirroredRepeatWrapping:Px},sz={NearestFilter:Ea,NearestMipmapNearestFilter:bN,NearestMipmapLinearFilter:i0,LinearFilter:hs,LinearMipmapNearestFilter:Xb,LinearMipmapLinearFilter:_f};class koe extends al{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Nh.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(u=>{t&&t(u),s.manager.itemEnd(e)}).catch(u=>{r&&r(u)});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const c=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Nh.add(e,u),t&&t(u),s.manager.itemEnd(e),u}).catch(function(u){r&&r(u),Nh.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Nh.add(e,c),s.manager.itemStart(e)}}let BT;class ZN{static getContext(){return BT===void 0&&(BT=new(window.AudioContext||window.webkitAudioContext)),BT}static setContext(e){BT=e}}class zoe extends al{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Qh(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(c){try{const u=c.slice(0);ZN.getContext().decodeAudioData(u,function(p){t(p)}).catch(o)}catch(u){o(u)}},i,r);function o(c){r?r(c):console.error(c),s.manager.itemError(e)}}}const az=new an,oz=new an,eg=new an;class Boe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ea,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ea,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,eg.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(Fg*t.fov*.5)/t.zoom;let o,c;oz.elements[12]=-r,az.elements[12]=r,o=-a*t.aspect+s,c=a*t.aspect+s,eg.elements[0]=2*t.near/(c-o),eg.elements[8]=(c+o)/(c-o),this.cameraL.projectionMatrix.copy(eg),o=-a*t.aspect-s,c=a*t.aspect-s,eg.elements[0]=2*t.near/(c-o),eg.elements[8]=(c+o)/(c-o),this.cameraR.projectionMatrix.copy(eg)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(oz),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(az)}}class SG extends ea{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class QN{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=lz(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=lz();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function lz(){return performance.now()}const tg=new fe,cz=new Ta,Foe=new fe,ng=new fe;class Voe extends mi{constructor(){super(),this.type="AudioListener",this.context=ZN.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new QN}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(tg,cz,Foe),ng.set(0,0,-1).applyQuaternion(cz),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(tg.x,r),t.positionY.linearRampToValueAtTime(tg.y,r),t.positionZ.linearRampToValueAtTime(tg.z,r),t.forwardX.linearRampToValueAtTime(ng.x,r),t.forwardY.linearRampToValueAtTime(ng.y,r),t.forwardZ.linearRampToValueAtTime(ng.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(tg.x,tg.y,tg.z),t.setOrientation(ng.x,ng.y,ng.z,i.x,i.y,i.z)}}class EG extends mi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const ig=new fe,uz=new Ta,Hoe=new fe,rg=new fe;class joe extends EG{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ig,uz,Hoe),rg.set(0,0,1).applyQuaternion(uz);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ig.x,i),t.positionY.linearRampToValueAtTime(ig.y,i),t.positionZ.linearRampToValueAtTime(ig.z,i),t.orientationX.linearRampToValueAtTime(rg.x,i),t.orientationY.linearRampToValueAtTime(rg.y,i),t.orientationZ.linearRampToValueAtTime(rg.z,i)}else t.setPosition(ig.x,ig.y,ig.z),t.setOrientation(rg.x,rg.y,rg.z)}}class Goe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class TG{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==r;++o)i[s+o]=i[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(i,s,0,o,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=t*this._origIndex;this._mixBufferRegion(i,r,c,1-s,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let c=t,u=t+t;c!==u;++c)if(i[c]!==i[c+t]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,a=r;s!==a;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){Ta.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const a=this._workIndex*s;Ta.multiplyQuaternionsFlat(e,a,e,t,e,i),Ta.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,s){const a=1-r;for(let o=0;o!==s;++o){const c=t+o;e[c]=e[c]*a+e[i+o]*r}}_lerpAdditive(e,t,i,r,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[i+a]*r}}}const JN="\\[\\]\\.:\\/",qoe=new RegExp("["+JN+"]","g"),eL="[^"+JN+"]",Woe="[^"+JN.replace("\\.","")+"]",$oe=/((?:WC+[\/:])*)/.source.replace("WC",eL),Xoe=/(WCOD+)?/.source.replace("WCOD",Woe),Yoe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",eL),Koe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",eL),Zoe=new RegExp("^"+$oe+Xoe+Yoe+Koe+"$"),Qoe=["material","materials","bones","map"];class Joe{constructor(e,t,i){const r=i||vi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class vi{constructor(e,t,i){this.path=t,this.parsedPath=i||vi.parseTrackName(t),this.node=vi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new vi.Composite(e,t,i):new vi(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(qoe,"")}static parseTrackName(e){const t=Zoe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Qoe.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const c=i(o.children);if(c)return c}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=vi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[r];if(a===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}vi.Composite=Joe;vi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};vi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};vi.prototype.GetterByBindingType=[vi.prototype._getValue_direct,vi.prototype._getValue_array,vi.prototype._getValue_arrayElement,vi.prototype._getValue_toArray];vi.prototype.SetterByBindingTypeAndVersioning=[[vi.prototype._setValue_direct,vi.prototype._setValue_direct_setNeedsUpdate,vi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_array,vi.prototype._setValue_array_setNeedsUpdate,vi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_arrayElement,vi.prototype._setValue_arrayElement_setNeedsUpdate,vi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_fromArray,vi.prototype._setValue_fromArray_setNeedsUpdate,vi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class ele{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Dl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let o,c=e.length,u=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const y=arguments[h],v=y.uuid;let _=t[v];if(_===void 0){_=c++,t[v]=_,e.push(y);for(let S=0,E=a;S!==E;++S)s[S].push(new vi(y,i[S],r[S]))}else if(_<u){o=e[_];const S=--u,E=e[S];t[E.uuid]=_,e[_]=E,t[v]=S,e[S]=y;for(let x=0,w=a;x!==w;++x){const M=s[x],C=M[S];let D=M[_];M[_]=C,D===void 0&&(D=new vi(y,i[x],r[x])),M[S]=D}}else e[_]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const c=arguments[a],u=c.uuid,h=t[u];if(h!==void 0&&h>=s){const p=s++,y=e[p];t[y.uuid]=h,e[h]=y,t[u]=p,e[p]=c;for(let v=0,_=r;v!==_;++v){const S=i[v],E=S[p],x=S[h];S[h]=E,S[p]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,c=arguments.length;o!==c;++o){const u=arguments[o],h=u.uuid,p=t[h];if(p!==void 0)if(delete t[h],p<s){const y=--s,v=e[y],_=--a,S=e[_];t[v.uuid]=p,e[p]=v,t[S.uuid]=y,e[y]=S,e.pop();for(let E=0,x=r;E!==x;++E){const w=i[E],M=w[y],C=w[_];w[p]=M,w[y]=C,w.pop()}}else{const y=--a,v=e[y];y>0&&(t[v.uuid]=p),e[p]=v,e.pop();for(let _=0,S=r;_!==S;++_){const E=i[_];E[p]=E[y],E.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,o=this._parsedPaths,c=this._objects,u=c.length,h=this.nCachedObjects_,p=new Array(u);r=s.length,i[e]=r,a.push(e),o.push(t),s.push(p);for(let y=h,v=c.length;y!==v;++y){const _=c[y];p[y]=new vi(_,e,t)}return p}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,c=a[o],u=e[o];t[u]=i,a[i]=c,a.pop(),s[i]=s[o],s.pop(),r[i]=r[o],r.pop()}}}class wG{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,a=s.length,o=new Array(a),c={endingStart:Cg,endingEnd:Cg};for(let u=0;u!==a;++u){const h=s[u].createInterpolant(null);o[u]=h,h.settings=c}this._interpolantSettings=c,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=dj,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,s=e._clip.duration,a=s/r,o=r/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const c=o.parameterPositions,u=o.sampleValues;return c[0]=s,c[1]=s+i,u[0]=e/a,u[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*i;c<0||i===0?t=0:(this._startTime=null,t=i*c)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case MN:for(let h=0,p=c.length;h!==p;++h)c[h].evaluate(a),u[h].accumulateAdditive(o);break;case OA:default:for(let h=0,p=c.length;h!==p;++h)c[h].evaluate(a),u[h].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===pj;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(i===hj){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const o=Math.floor(r/t);r-=t*o,s+=Math.abs(o);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Ag,r.endingEnd=Ag):(e?r.endingStart=this.zeroSlopeAtStart?Ag:Cg:r.endingStart=Nx,t?r.endingEnd=this.zeroSlopeAtEnd?Ag:Cg:r.endingEnd=Nx)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,c=a.sampleValues;return o[0]=s,c[0]=t,o[1]=s+e,c[1]=i,this}}const tle=new Float32Array(1);class nle extends Df{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,c=i.uuid,u=this._bindingsByRootAndName;let h=u[c];h===void 0&&(h={},u[c]=h);for(let p=0;p!==s;++p){const y=r[p],v=y.name;let _=h[v];if(_!==void 0)++_.referenceCount,a[p]=_;else{if(_=a[p],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,c,v));continue}const S=t&&t._propertyBindings[p].binding.parsedPath;_=new TG(vi.create(i,v,S),y.ValueTypeName,y.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,c,v),a[p]=_}o[p].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],c=o.knownActions,u=c[c.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,c[h]=u,c.pop(),e._byClipCacheIndex=null;const p=o.actionByRoot,y=(e._localRoot||this._root).uuid;delete p[y],c.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,o=a[r],c=t[t.length-1],u=e._cacheIndex;c._cacheIndex=u,t[u]=c,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new $N(new Float32Array(2),new Float32Array(2),1,tle),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?Gx.findByName(r,e):e;const o=a!==null?a.uuid:e,c=this._actionsByClip[o];let u=null;if(i===void 0&&(a!==null?i=a.blendMode:i=OA),c!==void 0){const p=c.actionByRoot[s];if(p!==void 0&&p.blendMode===i)return p;u=c.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const h=new wG(this,a,t,i);return this._bindAction(h,u),this._addInactiveAction(h,o,s),h}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Gx.findByName(i,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,a);const o=this._bindings,c=this._nActiveBindings;for(let u=0;u!==c;++u)o[u].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let o=0,c=a.length;o!==c;++o){const u=a[o];this._deactivateAction(u);const h=u._cacheIndex,p=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,p._cacheIndex=h,t[h]=p,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,c=o[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class ile extends IA{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new PA(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class rle extends IA{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new _S(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class tL{constructor(e){this.value=e}clone(){return new tL(this.value.clone===void 0?this.value:this.value.clone())}}let sle=0;class ale extends Df{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:sle++}),this.name="",this.usage=Ux,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class ole extends kA{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class lle{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const fz=new an;class iM{constructor(e,t,i=0,r=1/0){this.ray=new d_(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new F0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return fz.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(fz),this}intersectObject(e,t=!0,i=[]){return nP(e,this,i,t),i.sort(hz),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)nP(e[r],this,i,t);return i.sort(hz),i}}function hz(n,e){return n.distance-e.distance}function nP(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let a=0,o=s.length;a<o;a++)nP(s[a],e,t,!0)}}class CG{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=An(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(An(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class cle{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class nL{constructor(e,t,i,r){nL.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const dz=new it;class ule{constructor(e=new it(1/0,1/0),t=new it(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=dz.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,dz).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const pz=new fe,FT=new fe;class fle{constructor(e=new fe,t=new fe){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){pz.subVectors(e,this.start),FT.subVectors(this.end,this.start);const i=FT.dot(FT);let s=FT.dot(pz)/i;return t&&(s=An(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const mz=new fe;class hle extends mi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Dn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,c=32;a<c;a++,o++){const u=a/c*Math.PI*2,h=o/c*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}i.setAttribute("position",new Ht(r,3));const s=new no({fog:!1,toneMapped:!1});this.cone=new Nf(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),mz.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(mz),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const rp=new fe,VT=new an,MO=new an;class dle extends Nf{constructor(e){const t=AG(e),i=new Dn,r=[],s=[],a=new Ut(0,0,1),o=new Ut(0,1,0);for(let u=0;u<t.length;u++){const h=t[u];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}i.setAttribute("position",new Ht(r,3)),i.setAttribute("color",new Ht(s,3));const c=new no({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");MO.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(VT.multiplyMatrices(MO,o.matrixWorld),rp.setFromMatrixPosition(VT),r.setXYZ(a,rp.x,rp.y,rp.z),VT.multiplyMatrices(MO,o.parent.matrixWorld),rp.setFromMatrixPosition(VT),r.setXYZ(a+1,rp.x,rp.y,rp.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function AG(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...AG(n.children[t]));return e}class ple extends es{constructor(e,t,i){const r=new oy(t,4,2),s=new Kp({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const mle=new fe,gz=new Ut,yz=new Ut;class gle extends mi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new SS(t);r.rotateY(Math.PI*.5),this.material=new Kp({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new Fi(a,3)),this.add(new es(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");gz.copy(this.light.color),yz.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?gz:yz;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(mle.setFromMatrixPosition(this.light.matrixWorld).negate())}}class yle extends Nf{constructor(e=10,t=10,i=4473924,r=8947848){i=new Ut(i),r=new Ut(r);const s=t/2,a=e/t,o=e/2,c=[],u=[];for(let y=0,v=0,_=-o;y<=t;y++,_+=a){c.push(-o,0,_,o,0,_),c.push(_,0,-o,_,0,o);const S=y===s?i:r;S.toArray(u,v),v+=3,S.toArray(u,v),v+=3,S.toArray(u,v),v+=3,S.toArray(u,v),v+=3}const h=new Dn;h.setAttribute("position",new Ht(c,3)),h.setAttribute("color",new Ht(u,3));const p=new no({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class vle extends Nf{constructor(e=10,t=16,i=8,r=64,s=4473924,a=8947848){s=new Ut(s),a=new Ut(a);const o=[],c=[];if(t>1)for(let p=0;p<t;p++){const y=p/t*(Math.PI*2),v=Math.sin(y)*e,_=Math.cos(y)*e;o.push(0,0,0),o.push(v,0,_);const S=p&1?s:a;c.push(S.r,S.g,S.b),c.push(S.r,S.g,S.b)}for(let p=0;p<i;p++){const y=p&1?s:a,v=e-e/i*p;for(let _=0;_<r;_++){let S=_/r*(Math.PI*2),E=Math.sin(S)*v,x=Math.cos(S)*v;o.push(E,0,x),c.push(y.r,y.g,y.b),S=(_+1)/r*(Math.PI*2),E=Math.sin(S)*v,x=Math.cos(S)*v,o.push(E,0,x),c.push(y.r,y.g,y.b)}}const u=new Dn;u.setAttribute("position",new Ht(o,3)),u.setAttribute("color",new Ht(c,3));const h=new no({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const vz=new fe,HT=new fe,_z=new fe;class _le extends mi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Dn;r.setAttribute("position",new Ht([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new no({fog:!1,toneMapped:!1});this.lightPlane=new Zh(r,s),this.add(this.lightPlane),r=new Dn,r.setAttribute("position",new Ht([0,0,0,0,0,1],3)),this.targetLine=new Zh(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),vz.setFromMatrixPosition(this.light.matrixWorld),HT.setFromMatrixPosition(this.light.target.matrixWorld),_z.subVectors(HT,vz),this.lightPlane.lookAt(HT),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(HT),this.targetLine.scale.z=_z.length()}}const jT=new fe,$r=new DA;class ble extends Nf{constructor(e){const t=new Dn,i=new no({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(_,S){c(_),c(S)}function c(_){r.push(0,0,0),s.push(0,0,0),a[_]===void 0&&(a[_]=[]),a[_].push(r.length/3-1)}t.setAttribute("position",new Ht(r,3)),t.setAttribute("color",new Ht(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new Ut(16755200),h=new Ut(16711680),p=new Ut(43775),y=new Ut(16777215),v=new Ut(3355443);this.setColors(u,h,p,y,v)}setColors(e,t,i,r,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;$r.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===Ec?-1:0;ls("c",t,e,$r,0,0,s),ls("t",t,e,$r,0,0,1),ls("n1",t,e,$r,-1,-1,s),ls("n2",t,e,$r,i,-1,s),ls("n3",t,e,$r,-1,r,s),ls("n4",t,e,$r,i,r,s),ls("f1",t,e,$r,-1,-1,1),ls("f2",t,e,$r,i,-1,1),ls("f3",t,e,$r,-1,r,1),ls("f4",t,e,$r,i,r,1),ls("u1",t,e,$r,i*.7,r*1.1,s),ls("u2",t,e,$r,-1*.7,r*1.1,s),ls("u3",t,e,$r,0,r*2,s),ls("cf1",t,e,$r,-1,0,1),ls("cf2",t,e,$r,i,0,1),ls("cf3",t,e,$r,0,-1,1),ls("cf4",t,e,$r,0,r,1),ls("cn1",t,e,$r,-1,0,s),ls("cn2",t,e,$r,i,0,s),ls("cn3",t,e,$r,0,-1,s),ls("cn4",t,e,$r,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ls(n,e,t,i,r,s,a){jT.set(r,s,a).unproject(i);const o=e[n];if(o!==void 0){const c=t.getAttribute("position");for(let u=0,h=o.length;u<h;u++)c.setXYZ(o[u],jT.x,jT.y,jT.z)}}const GT=new na;class xle extends Nf{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new Dn;s.setIndex(new Fi(i,1)),s.setAttribute("position",new Fi(r,3)),super(s,new no({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&GT.setFromObject(this.object),GT.isEmpty())return;const e=GT.min,t=GT.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Sle extends Nf{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Dn;s.setIndex(new Fi(i,1)),s.setAttribute("position",new Ht(r,3)),super(s,new no({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ele extends Zh{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Dn;a.setAttribute("position",new Ht(s,3)),a.computeBoundingSphere(),super(a,new no({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new Dn;c.setAttribute("position",new Ht(o,3)),c.computeBoundingSphere(),this.add(new es(c,new Kp({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const bz=new fe;let qT,RO;class Tle extends mi{constructor(e=new fe(0,0,1),t=new fe(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",qT===void 0&&(qT=new Dn,qT.setAttribute("position",new Ht([0,0,0,0,1,0],3)),RO=new g_(.5,1,5,1),RO.translate(0,-.5,0)),this.position.copy(t),this.line=new Zh(qT,new no({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new es(RO,new Kp({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{bz.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(bz,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class wle extends Nf{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Dn;r.setAttribute("position",new Ht(t,3)),r.setAttribute("color",new Ht(i,3));const s=new no({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Ut,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Cle{constructor(){this.type="ShapePath",this.color=new Ut,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new EC,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const w=[];for(let M=0,C=x.length;M<C;M++){const D=x[M],L=new Vg;L.curves=D.curves,w.push(L)}return w}function i(x,w){const M=w.length;let C=!1;for(let D=M-1,L=0;L<M;D=L++){let I=w[D],N=w[L],P=N.x-I.x,U=N.y-I.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(I=w[L],P=-P,N=w[D],U=-U),x.y<I.y||x.y>N.y)continue;if(x.y===I.y){if(x.x===I.x)return!0}else{const V=U*(x.x-I.x)-P*(x.y-I.y);if(V===0)return!0;if(V<0)continue;C=!C}}else{if(x.y!==I.y)continue;if(N.x<=x.x&&x.x<=I.x||I.x<=x.x&&x.x<=N.x)return!0}}return C}const r=du.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,c;const u=[];if(s.length===1)return o=s[0],c=new Vg,c.curves=o.curves,u.push(c),u;let h=!r(s[0].getPoints());h=e?!h:h;const p=[],y=[];let v=[],_=0,S;y[_]=void 0,v[_]=[];for(let x=0,w=s.length;x<w;x++)o=s[x],S=o.getPoints(),a=r(S),a=e?!a:a,a?(!h&&y[_]&&_++,y[_]={s:new Vg,p:S},y[_].s.curves=o.curves,h&&_++,v[_]=[]):v[_].push({h:o,p:S[0]});if(!y[0])return t(s);if(y.length>1){let x=!1,w=0;for(let M=0,C=y.length;M<C;M++)p[M]=[];for(let M=0,C=y.length;M<C;M++){const D=v[M];for(let L=0;L<D.length;L++){const I=D[L];let N=!0;for(let P=0;P<y.length;P++)i(I.p,y[P].p)&&(M!==P&&w++,N?(N=!1,p[P].push(I)):x=!0);N&&p[M].push(I)}}w>0&&x===!1&&(v=p)}let E;for(let x=0,w=y.length;x<w;x++){c=y[x].s,u.push(c),E=v[x];for(let M=0,C=E.length;M<C;M++)c.holes.push(E[M].h)}return u}}class Ale extends Df{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Mle(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Rle(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Ole(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function iP(n,e,t,i){const r=Ile(i);switch(t){case TN:return n*e;case AA:return n*e/r.components*r.byteLength;case vS:return n*e/r.components*r.byteLength;case CN:return n*e*2/r.components*r.byteLength;case MA:return n*e*2/r.components*r.byteLength;case wN:return n*e*3/r.components*r.byteLength;case Qa:return n*e*4/r.components*r.byteLength;case RA:return n*e*4/r.components*r.byteLength;case Yb:case Kb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Zb:case Qb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case X2:case K2:return Math.max(n,16)*Math.max(e,8)/4;case $2:case Y2:return Math.max(n,8)*Math.max(e,8)/2;case Z2:case Q2:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case J2:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case eC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case tC:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case nC:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case iC:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case rC:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case sC:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case aC:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case oC:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case lC:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case cC:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case uC:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case fC:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case hC:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case dC:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Jb:case pC:case mC:return Math.ceil(n/4)*Math.ceil(e/4)*16;case AN:case gC:return Math.ceil(n/4)*Math.ceil(e/4)*8;case yC:case vC:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Ile(n){switch(n){case wc:case xN:return{byteLength:1,components:1};case L0:case SN:case sy:return{byteLength:2,components:1};case wA:case CA:return{byteLength:2,components:4};case Kh:case TA:case Ro:return{byteLength:4,components:1};case EN:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class Ple{static contain(e,t){return Mle(e,t)}static cover(e,t){return Rle(e,t)}static fill(e){return Ole(e)}static getByteLength(e,t,i,r){return iP(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:xA}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=xA);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function MG(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Dle(n){const e=new WeakMap;function t(o,c){const u=o.array,h=o.usage,p=u.byteLength,y=n.createBuffer();n.bindBuffer(c,y),n.bufferData(c,u,h),o.onUploadCallback();let v;if(u instanceof Float32Array)v=n.FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?v=n.HALF_FLOAT:v=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)v=n.SHORT;else if(u instanceof Uint32Array)v=n.UNSIGNED_INT;else if(u instanceof Int32Array)v=n.INT;else if(u instanceof Int8Array)v=n.BYTE;else if(u instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:y,type:v,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:p}}function i(o,c,u){const h=c.array,p=c.updateRanges;if(n.bindBuffer(u,o),p.length===0)n.bufferSubData(u,0,h);else{p.sort((v,_)=>v.start-_.start);let y=0;for(let v=1;v<p.length;v++){const _=p[y],S=p[v];S.start<=_.start+_.count+1?_.count=Math.max(_.count,S.start+S.count-_.start):(++y,p[y]=S)}p.length=y+1;for(let v=0,_=p.length;v<_;v++){const S=p[v];n.bufferSubData(u,S.start*h.BYTES_PER_ELEMENT,h,S.start,S.count)}c.clearUpdateRanges()}c.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const c=e.get(o);c&&(n.deleteBuffer(c.buffer),e.delete(o))}function a(o,c){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const h=e.get(o);(!h||h.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,t(o,c));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(u.buffer,o,c),u.version=o.version}}return{get:r,remove:s,update:a}}var Nle=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Lle=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Ule=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,kle=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zle=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Ble=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Fle=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Vle=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Hle=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,jle=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Gle=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,qle=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Wle=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,$le=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Xle=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Yle=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Kle=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Zle=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Qle=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Jle=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,ece=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,tce=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,nce=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,ice=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,rce=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,sce=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ace=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,oce=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,lce=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,cce=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,uce="gl_FragColor = linearToOutputTexel( gl_FragColor );",fce=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,hce=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,dce=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,pce=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,mce=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,gce=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,yce=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,vce=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,_ce=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,bce=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,xce=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Sce=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Ece=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Tce=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,wce=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Cce=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Ace=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Mce=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Rce=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Oce=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Ice=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Pce=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Dce=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Nce=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Lce=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Uce=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,kce=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,zce=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Bce=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Fce=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Vce=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Hce=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,jce=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Gce=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,qce=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Wce=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,$ce=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Xce=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Yce=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Kce=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Zce=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Qce=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Jce=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,eue=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,tue=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,nue=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,iue=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,rue=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,sue=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,aue=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,oue=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,lue=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,cue=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,uue=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,fue=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,hue=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,due=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,pue=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,mue=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,gue=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,yue=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,vue=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,_ue=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,bue=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,xue=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Sue=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Eue=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Tue=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,wue=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Cue=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Aue=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Mue=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Rue=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Oue=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Iue=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Pue=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Due=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Nue=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Lue=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Uue=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kue=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,zue=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Bue=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Fue=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Vue=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Hue=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,jue=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Gue=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,que=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Wue=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$ue=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Xue=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yue=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Kue=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zue=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Que=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jue=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,efe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,tfe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nfe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ife=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,rfe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sfe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,afe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ofe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,lfe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cfe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ufe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ffe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,hfe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,jn={alphahash_fragment:Nle,alphahash_pars_fragment:Lle,alphamap_fragment:Ule,alphamap_pars_fragment:kle,alphatest_fragment:zle,alphatest_pars_fragment:Ble,aomap_fragment:Fle,aomap_pars_fragment:Vle,batching_pars_vertex:Hle,batching_vertex:jle,begin_vertex:Gle,beginnormal_vertex:qle,bsdfs:Wle,iridescence_fragment:$le,bumpmap_pars_fragment:Xle,clipping_planes_fragment:Yle,clipping_planes_pars_fragment:Kle,clipping_planes_pars_vertex:Zle,clipping_planes_vertex:Qle,color_fragment:Jle,color_pars_fragment:ece,color_pars_vertex:tce,color_vertex:nce,common:ice,cube_uv_reflection_fragment:rce,defaultnormal_vertex:sce,displacementmap_pars_vertex:ace,displacementmap_vertex:oce,emissivemap_fragment:lce,emissivemap_pars_fragment:cce,colorspace_fragment:uce,colorspace_pars_fragment:fce,envmap_fragment:hce,envmap_common_pars_fragment:dce,envmap_pars_fragment:pce,envmap_pars_vertex:mce,envmap_physical_pars_fragment:Cce,envmap_vertex:gce,fog_vertex:yce,fog_pars_vertex:vce,fog_fragment:_ce,fog_pars_fragment:bce,gradientmap_pars_fragment:xce,lightmap_pars_fragment:Sce,lights_lambert_fragment:Ece,lights_lambert_pars_fragment:Tce,lights_pars_begin:wce,lights_toon_fragment:Ace,lights_toon_pars_fragment:Mce,lights_phong_fragment:Rce,lights_phong_pars_fragment:Oce,lights_physical_fragment:Ice,lights_physical_pars_fragment:Pce,lights_fragment_begin:Dce,lights_fragment_maps:Nce,lights_fragment_end:Lce,logdepthbuf_fragment:Uce,logdepthbuf_pars_fragment:kce,logdepthbuf_pars_vertex:zce,logdepthbuf_vertex:Bce,map_fragment:Fce,map_pars_fragment:Vce,map_particle_fragment:Hce,map_particle_pars_fragment:jce,metalnessmap_fragment:Gce,metalnessmap_pars_fragment:qce,morphinstance_vertex:Wce,morphcolor_vertex:$ce,morphnormal_vertex:Xce,morphtarget_pars_vertex:Yce,morphtarget_vertex:Kce,normal_fragment_begin:Zce,normal_fragment_maps:Qce,normal_pars_fragment:Jce,normal_pars_vertex:eue,normal_vertex:tue,normalmap_pars_fragment:nue,clearcoat_normal_fragment_begin:iue,clearcoat_normal_fragment_maps:rue,clearcoat_pars_fragment:sue,iridescence_pars_fragment:aue,opaque_fragment:oue,packing:lue,premultiplied_alpha_fragment:cue,project_vertex:uue,dithering_fragment:fue,dithering_pars_fragment:hue,roughnessmap_fragment:due,roughnessmap_pars_fragment:pue,shadowmap_pars_fragment:mue,shadowmap_pars_vertex:gue,shadowmap_vertex:yue,shadowmask_pars_fragment:vue,skinbase_vertex:_ue,skinning_pars_vertex:bue,skinning_vertex:xue,skinnormal_vertex:Sue,specularmap_fragment:Eue,specularmap_pars_fragment:Tue,tonemapping_fragment:wue,tonemapping_pars_fragment:Cue,transmission_fragment:Aue,transmission_pars_fragment:Mue,uv_pars_fragment:Rue,uv_pars_vertex:Oue,uv_vertex:Iue,worldpos_vertex:Pue,background_vert:Due,background_frag:Nue,backgroundCube_vert:Lue,backgroundCube_frag:Uue,cube_vert:kue,cube_frag:zue,depth_vert:Bue,depth_frag:Fue,distanceRGBA_vert:Vue,distanceRGBA_frag:Hue,equirect_vert:jue,equirect_frag:Gue,linedashed_vert:que,linedashed_frag:Wue,meshbasic_vert:$ue,meshbasic_frag:Xue,meshlambert_vert:Yue,meshlambert_frag:Kue,meshmatcap_vert:Zue,meshmatcap_frag:Que,meshnormal_vert:Jue,meshnormal_frag:efe,meshphong_vert:tfe,meshphong_frag:nfe,meshphysical_vert:ife,meshphysical_frag:rfe,meshtoon_vert:sfe,meshtoon_frag:afe,points_vert:ofe,points_frag:lfe,shadow_vert:cfe,shadow_frag:ufe,sprite_vert:ffe,sprite_frag:hfe},It={common:{diffuse:{value:new Ut(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Pn},alphaMap:{value:null},alphaMapTransform:{value:new Pn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Pn}},envmap:{envMap:{value:null},envMapRotation:{value:new Pn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Pn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Pn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Pn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Pn},normalScale:{value:new it(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Pn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Pn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Pn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Pn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Pn},alphaTest:{value:0},uvTransform:{value:new Pn}},sprite:{diffuse:{value:new Ut(16777215)},opacity:{value:1},center:{value:new it(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Pn},alphaMap:{value:null},alphaMapTransform:{value:new Pn},alphaTest:{value:0}}},fu={basic:{uniforms:wo([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.fog]),vertexShader:jn.meshbasic_vert,fragmentShader:jn.meshbasic_frag},lambert:{uniforms:wo([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.fog,It.lights,{emissive:{value:new Ut(0)}}]),vertexShader:jn.meshlambert_vert,fragmentShader:jn.meshlambert_frag},phong:{uniforms:wo([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.fog,It.lights,{emissive:{value:new Ut(0)},specular:{value:new Ut(1118481)},shininess:{value:30}}]),vertexShader:jn.meshphong_vert,fragmentShader:jn.meshphong_frag},standard:{uniforms:wo([It.common,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.roughnessmap,It.metalnessmap,It.fog,It.lights,{emissive:{value:new Ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:jn.meshphysical_vert,fragmentShader:jn.meshphysical_frag},toon:{uniforms:wo([It.common,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.gradientmap,It.fog,It.lights,{emissive:{value:new Ut(0)}}]),vertexShader:jn.meshtoon_vert,fragmentShader:jn.meshtoon_frag},matcap:{uniforms:wo([It.common,It.bumpmap,It.normalmap,It.displacementmap,It.fog,{matcap:{value:null}}]),vertexShader:jn.meshmatcap_vert,fragmentShader:jn.meshmatcap_frag},points:{uniforms:wo([It.points,It.fog]),vertexShader:jn.points_vert,fragmentShader:jn.points_frag},dashed:{uniforms:wo([It.common,It.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:jn.linedashed_vert,fragmentShader:jn.linedashed_frag},depth:{uniforms:wo([It.common,It.displacementmap]),vertexShader:jn.depth_vert,fragmentShader:jn.depth_frag},normal:{uniforms:wo([It.common,It.bumpmap,It.normalmap,It.displacementmap,{opacity:{value:1}}]),vertexShader:jn.meshnormal_vert,fragmentShader:jn.meshnormal_frag},sprite:{uniforms:wo([It.sprite,It.fog]),vertexShader:jn.sprite_vert,fragmentShader:jn.sprite_frag},background:{uniforms:{uvTransform:{value:new Pn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:jn.background_vert,fragmentShader:jn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Pn}},vertexShader:jn.backgroundCube_vert,fragmentShader:jn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:jn.cube_vert,fragmentShader:jn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:jn.equirect_vert,fragmentShader:jn.equirect_frag},distanceRGBA:{uniforms:wo([It.common,It.displacementmap,{referencePosition:{value:new fe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:jn.distanceRGBA_vert,fragmentShader:jn.distanceRGBA_frag},shadow:{uniforms:wo([It.lights,It.fog,{color:{value:new Ut(0)},opacity:{value:1}}]),vertexShader:jn.shadow_vert,fragmentShader:jn.shadow_frag}};fu.physical={uniforms:wo([fu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Pn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Pn},clearcoatNormalScale:{value:new it(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Pn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Pn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Pn},sheen:{value:0},sheenColor:{value:new Ut(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Pn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Pn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Pn},transmissionSamplerSize:{value:new it},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Pn},attenuationDistance:{value:0},attenuationColor:{value:new Ut(0)},specularColor:{value:new Ut(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Pn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Pn},anisotropyVector:{value:new it},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Pn}}]),vertexShader:jn.meshphysical_vert,fragmentShader:jn.meshphysical_frag};const WT={r:0,b:0,g:0},sg=new zl,dfe=new an;function pfe(n,e,t,i,r,s,a){const o=new Ut(0);let c=s===!0?0:1,u,h,p=null,y=0,v=null;function _(M){let C=M.isScene===!0?M.background:null;return C&&C.isTexture&&(C=(M.backgroundBlurriness>0?t:e).get(C)),C}function S(M){let C=!1;const D=_(M);D===null?x(o,c):D&&D.isColor&&(x(D,1),C=!0);const L=n.xr.getEnvironmentBlendMode();L==="additive"?i.buffers.color.setClear(0,0,0,1,a):L==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||C)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function E(M,C){const D=_(C);D&&(D.isCubeTexture||D.mapping===h_)?(h===void 0&&(h=new es(new ay(1,1,1),new _u({name:"BackgroundCubeMaterial",uniforms:V0(fu.backgroundCube.uniforms),vertexShader:fu.backgroundCube.vertexShader,fragmentShader:fu.backgroundCube.fragmentShader,side:Oo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(L,I,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),sg.copy(C.backgroundRotation),sg.x*=-1,sg.y*=-1,sg.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(sg.y*=-1,sg.z*=-1),h.material.uniforms.envMap.value=D,h.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(dfe.makeRotationFromEuler(sg)),h.material.toneMapped=ci.getTransfer(D.colorSpace)!==Bi,(p!==D||y!==D.version||v!==n.toneMapping)&&(h.material.needsUpdate=!0,p=D,y=D.version,v=n.toneMapping),h.layers.enableAll(),M.unshift(h,h.geometry,h.material,0,0,null)):D&&D.isTexture&&(u===void 0&&(u=new es(new y_(2,2),new _u({name:"BackgroundMaterial",uniforms:V0(fu.background.uniforms),vertexShader:fu.background.vertexShader,fragmentShader:fu.background.fragmentShader,side:Xh,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=D,u.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,u.material.toneMapped=ci.getTransfer(D.colorSpace)!==Bi,D.matrixAutoUpdate===!0&&D.updateMatrix(),u.material.uniforms.uvTransform.value.copy(D.matrix),(p!==D||y!==D.version||v!==n.toneMapping)&&(u.material.needsUpdate=!0,p=D,y=D.version,v=n.toneMapping),u.layers.enableAll(),M.unshift(u,u.geometry,u.material,0,0,null))}function x(M,C){M.getRGB(WT,Oj(n)),i.buffers.color.setClear(WT.r,WT.g,WT.b,C,a)}function w(){h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return o},setClearColor:function(M,C=1){o.set(M),c=C,x(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(M){c=M,x(o,c)},render:S,addToRenderList:E,dispose:w}}function mfe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=y(null);let s=r,a=!1;function o(U,V,z,F,K){let ee=!1;const q=p(F,z,V);s!==q&&(s=q,u(s.object)),ee=v(U,F,z,K),ee&&_(U,F,z,K),K!==null&&e.update(K,n.ELEMENT_ARRAY_BUFFER),(ee||a)&&(a=!1,C(U,V,z,F),K!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function c(){return n.createVertexArray()}function u(U){return n.bindVertexArray(U)}function h(U){return n.deleteVertexArray(U)}function p(U,V,z){const F=z.wireframe===!0;let K=i[U.id];K===void 0&&(K={},i[U.id]=K);let ee=K[V.id];ee===void 0&&(ee={},K[V.id]=ee);let q=ee[F];return q===void 0&&(q=y(c()),ee[F]=q),q}function y(U){const V=[],z=[],F=[];for(let K=0;K<t;K++)V[K]=0,z[K]=0,F[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:z,attributeDivisors:F,object:U,attributes:{},index:null}}function v(U,V,z,F){const K=s.attributes,ee=V.attributes;let q=0;const $=z.getAttributes();for(const Q in $)if($[Q].location>=0){const de=K[Q];let Y=ee[Q];if(Y===void 0&&(Q==="instanceMatrix"&&U.instanceMatrix&&(Y=U.instanceMatrix),Q==="instanceColor"&&U.instanceColor&&(Y=U.instanceColor)),de===void 0||de.attribute!==Y||Y&&de.data!==Y.data)return!0;q++}return s.attributesNum!==q||s.index!==F}function _(U,V,z,F){const K={},ee=V.attributes;let q=0;const $=z.getAttributes();for(const Q in $)if($[Q].location>=0){let de=ee[Q];de===void 0&&(Q==="instanceMatrix"&&U.instanceMatrix&&(de=U.instanceMatrix),Q==="instanceColor"&&U.instanceColor&&(de=U.instanceColor));const Y={};Y.attribute=de,de&&de.data&&(Y.data=de.data),K[Q]=Y,q++}s.attributes=K,s.attributesNum=q,s.index=F}function S(){const U=s.newAttributes;for(let V=0,z=U.length;V<z;V++)U[V]=0}function E(U){x(U,0)}function x(U,V){const z=s.newAttributes,F=s.enabledAttributes,K=s.attributeDivisors;z[U]=1,F[U]===0&&(n.enableVertexAttribArray(U),F[U]=1),K[U]!==V&&(n.vertexAttribDivisor(U,V),K[U]=V)}function w(){const U=s.newAttributes,V=s.enabledAttributes;for(let z=0,F=V.length;z<F;z++)V[z]!==U[z]&&(n.disableVertexAttribArray(z),V[z]=0)}function M(U,V,z,F,K,ee,q){q===!0?n.vertexAttribIPointer(U,V,z,K,ee):n.vertexAttribPointer(U,V,z,F,K,ee)}function C(U,V,z,F){S();const K=F.attributes,ee=z.getAttributes(),q=V.defaultAttributeValues;for(const $ in ee){const Q=ee[$];if(Q.location>=0){let se=K[$];if(se===void 0&&($==="instanceMatrix"&&U.instanceMatrix&&(se=U.instanceMatrix),$==="instanceColor"&&U.instanceColor&&(se=U.instanceColor)),se!==void 0){const de=se.normalized,Y=se.itemSize,le=e.get(se);if(le===void 0)continue;const pe=le.buffer,ue=le.type,ie=le.bytesPerElement,he=ue===n.INT||ue===n.UNSIGNED_INT||se.gpuType===TA;if(se.isInterleavedBufferAttribute){const ye=se.data,Ve=ye.stride,Xe=se.offset;if(ye.isInstancedInterleavedBuffer){for(let Ge=0;Ge<Q.locationSize;Ge++)x(Q.location+Ge,ye.meshPerAttribute);U.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let Ge=0;Ge<Q.locationSize;Ge++)E(Q.location+Ge);n.bindBuffer(n.ARRAY_BUFFER,pe);for(let Ge=0;Ge<Q.locationSize;Ge++)M(Q.location+Ge,Y/Q.locationSize,ue,de,Ve*ie,(Xe+Y/Q.locationSize*Ge)*ie,he)}else{if(se.isInstancedBufferAttribute){for(let ye=0;ye<Q.locationSize;ye++)x(Q.location+ye,se.meshPerAttribute);U.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let ye=0;ye<Q.locationSize;ye++)E(Q.location+ye);n.bindBuffer(n.ARRAY_BUFFER,pe);for(let ye=0;ye<Q.locationSize;ye++)M(Q.location+ye,Y/Q.locationSize,ue,de,Y*ie,Y/Q.locationSize*ye*ie,he)}}else if(q!==void 0){const de=q[$];if(de!==void 0)switch(de.length){case 2:n.vertexAttrib2fv(Q.location,de);break;case 3:n.vertexAttrib3fv(Q.location,de);break;case 4:n.vertexAttrib4fv(Q.location,de);break;default:n.vertexAttrib1fv(Q.location,de)}}}}w()}function D(){N();for(const U in i){const V=i[U];for(const z in V){const F=V[z];for(const K in F)h(F[K].object),delete F[K];delete V[z]}delete i[U]}}function L(U){if(i[U.id]===void 0)return;const V=i[U.id];for(const z in V){const F=V[z];for(const K in F)h(F[K].object),delete F[K];delete V[z]}delete i[U.id]}function I(U){for(const V in i){const z=i[V];if(z[U.id]===void 0)continue;const F=z[U.id];for(const K in F)h(F[K].object),delete F[K];delete z[U.id]}}function N(){P(),a=!0,s!==r&&(s=r,u(s.object))}function P(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:N,resetDefaultState:P,dispose:D,releaseStatesOfGeometry:L,releaseStatesOfProgram:I,initAttributes:S,enableAttribute:E,disableUnusedAttributes:w}}function gfe(n,e,t){let i;function r(u){i=u}function s(u,h){n.drawArrays(i,u,h),t.update(h,i,1)}function a(u,h,p){p!==0&&(n.drawArraysInstanced(i,u,h,p),t.update(h,i,p))}function o(u,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,u,0,h,0,p);let v=0;for(let _=0;_<p;_++)v+=h[_];t.update(v,i,1)}function c(u,h,p,y){if(p===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let _=0;_<u.length;_++)a(u[_],h[_],y[_]);else{v.multiDrawArraysInstancedWEBGL(i,u,0,h,0,y,0,p);let _=0;for(let S=0;S<p;S++)_+=h[S]*y[S];t.update(_,i,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=c}function yfe(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(I){return!(I!==Qa&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(I){const N=I===sy&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==wc&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==Ro&&!N)}function c(I){if(I==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const h=c(u);h!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",h,"instead."),u=h);const p=t.logarithmicDepthBuffer===!0,y=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),v=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=n.getParameter(n.MAX_TEXTURE_SIZE),E=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),w=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),M=n.getParameter(n.MAX_VARYING_VECTORS),C=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),D=_>0,L=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:c,textureFormatReadable:a,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:p,reverseDepthBuffer:y,maxTextures:v,maxVertexTextures:_,maxTextureSize:S,maxCubemapSize:E,maxAttributes:x,maxVertexUniforms:w,maxVaryings:M,maxFragmentUniforms:C,vertexTextures:D,maxSamples:L}}function vfe(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new lp,o=new Pn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(p,y){const v=p.length!==0||y||i!==0||r;return r=y,i=p.length,v},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(p,y){t=h(p,y,0)},this.setState=function(p,y,v){const _=p.clippingPlanes,S=p.clipIntersection,E=p.clipShadows,x=n.get(p);if(!r||_===null||_.length===0||s&&!E)s?h(null):u();else{const w=s?0:i,M=w*4;let C=x.clippingState||null;c.value=C,C=h(_,y,M,v);for(let D=0;D!==M;++D)C[D]=t[D];x.clippingState=C,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=w}};function u(){c.value!==t&&(c.value=t,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(p,y,v,_){const S=p!==null?p.length:0;let E=null;if(S!==0){if(E=c.value,_!==!0||E===null){const x=v+S*4,w=y.matrixWorldInverse;o.getNormalMatrix(w),(E===null||E.length<x)&&(E=new Float32Array(x));for(let M=0,C=v;M!==S;++M,C+=4)a.copy(p[M]).applyMatrix4(w,o),a.normal.toArray(E,C),E[C+3]=a.constant}c.value=E,c.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,E}}function _fe(n){let e=new WeakMap;function t(a,o){return o===Rx?a.mapping=Yh:o===Ox&&(a.mapping=Vp),a}function i(a){if(a&&a.isTexture){const o=a.mapping;if(o===Rx||o===Ox)if(e.has(a)){const c=e.get(a).texture;return t(c,a.mapping)}else{const c=a.image;if(c&&c.height>0){const u=new Dj(c.height);return u.fromEquirectangularTexture(n,a),e.set(a,u),a.addEventListener("dispose",r),t(u.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const c=e.get(o);c!==void 0&&(e.delete(o),c.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const s0=4,xz=[.125,.215,.35,.446,.526,.582],xg=20,OO=new CS,Sz=new Ut;let IO=null,PO=0,DO=0,NO=!1;const yg=(1+Math.sqrt(5))/2,Cv=1/yg,Ez=[new fe(-yg,Cv,0),new fe(yg,Cv,0),new fe(-Cv,0,yg),new fe(Cv,0,yg),new fe(0,yg,-Cv),new fe(0,yg,Cv),new fe(-1,1,-1),new fe(1,1,-1),new fe(-1,1,1),new fe(1,1,1)],bfe=new fe;class rP{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,s={}){const{size:a=256,position:o=bfe}=s;IO=this._renderer.getRenderTarget(),PO=this._renderer.getActiveCubeFace(),DO=this._renderer.getActiveMipmapLevel(),NO=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,i,r,c,o),t>0&&this._blur(c,0,0,t),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Cz(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=wz(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(IO,PO,DO),this._renderer.xr.enabled=NO,e.scissorTest=!1,$T(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Yh||e.mapping===Vp?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),IO=this._renderer.getRenderTarget(),PO=this._renderer.getActiveCubeFace(),DO=this._renderer.getActiveMipmapLevel(),NO=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:hs,minFilter:hs,generateMipmaps:!1,type:sy,format:Qa,colorSpace:Hp,depthBuffer:!1},r=Tz(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Tz(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=xfe(s)),this._blurMaterial=Sfe(s,e,t)}return r}_compileMaterial(e){const t=new es(this._lodPlanes[0],e);this._renderer.compile(t,OO)}_sceneToCubeUV(e,t,i,r,s){const c=new ea(90,1,t,i),u=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],p=this._renderer,y=p.autoClear,v=p.toneMapping;p.getClearColor(Sz),p.toneMapping=Cf,p.autoClear=!1;const _=new Kp({name:"PMREM.Background",side:Oo,depthWrite:!1,depthTest:!1}),S=new es(new ay,_);let E=!1;const x=e.background;x?x.isColor&&(_.color.copy(x),e.background=null,E=!0):(_.color.copy(Sz),E=!0);for(let w=0;w<6;w++){const M=w%3;M===0?(c.up.set(0,u[w],0),c.position.set(s.x,s.y,s.z),c.lookAt(s.x+h[w],s.y,s.z)):M===1?(c.up.set(0,0,u[w]),c.position.set(s.x,s.y,s.z),c.lookAt(s.x,s.y+h[w],s.z)):(c.up.set(0,u[w],0),c.position.set(s.x,s.y,s.z),c.lookAt(s.x,s.y,s.z+h[w]));const C=this._cubeSize;$T(r,M*C,w>2?C:0,C,C),p.setRenderTarget(r),E&&p.render(S,c),p.render(e,c)}S.geometry.dispose(),S.material.dispose(),p.toneMapping=v,p.autoClear=y,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Yh||e.mapping===Vp;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Cz()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=wz());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new es(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const c=this._cubeSize;$T(t,0,0,3*c,2*c),i.setRenderTarget(t),i.render(a,OO)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=Ez[(r-s-1)%Ez.length];this._blur(e,s-1,s,a,o)}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const c=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new es(this._lodPlanes[r],u),y=u.uniforms,v=this._sizeLods[i]-1,_=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*xg-1),S=s/_,E=isFinite(s)?1+Math.floor(h*S):xg;E>xg&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${xg}`);const x=[];let w=0;for(let I=0;I<xg;++I){const N=I/S,P=Math.exp(-N*N/2);x.push(P),I===0?w+=P:I<E&&(w+=2*P)}for(let I=0;I<x.length;I++)x[I]=x[I]/w;y.envMap.value=e.texture,y.samples.value=E,y.weights.value=x,y.latitudinal.value=a==="latitudinal",o&&(y.poleAxis.value=o);const{_lodMax:M}=this;y.dTheta.value=_,y.mipInt.value=M-i;const C=this._sizeLods[r],D=3*C*(r>M-s0?r-M+s0:0),L=4*(this._cubeSize-C);$T(t,D,L,3*C,2*C),c.setRenderTarget(t),c.render(p,OO)}}function xfe(n){const e=[],t=[],i=[];let r=n;const s=n-s0+1+xz.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let c=1/o;a>n-s0?c=xz[a-n+s0-1]:a===0&&(c=0),i.push(c);const u=1/(o-2),h=-u,p=1+u,y=[h,h,p,h,p,p,h,h,p,p,h,p],v=6,_=6,S=3,E=2,x=1,w=new Float32Array(S*_*v),M=new Float32Array(E*_*v),C=new Float32Array(x*_*v);for(let L=0;L<v;L++){const I=L%3*2/3-1,N=L>2?0:-1,P=[I,N,0,I+2/3,N,0,I+2/3,N+1,0,I,N,0,I+2/3,N+1,0,I,N+1,0];w.set(P,S*_*L),M.set(y,E*_*L);const U=[L,L,L,L,L,L];C.set(U,x*_*L)}const D=new Dn;D.setAttribute("position",new Fi(w,S)),D.setAttribute("uv",new Fi(M,E)),D.setAttribute("faceIndex",new Fi(C,x)),e.push(D),r>s0&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function Tz(n,e,t){const i=new vu(n,e,t);return i.texture.mapping=h_,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function $T(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function Sfe(n,e,t){const i=new Float32Array(xg),r=new fe(0,1,0);return new _u({name:"SphericalGaussianBlur",defines:{n:xg,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:iL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:kh,depthTest:!1,depthWrite:!1})}function wz(){return new _u({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:iL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:kh,depthTest:!1,depthWrite:!1})}function Cz(){return new _u({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:iL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:kh,depthTest:!1,depthWrite:!1})}function iL(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Efe(n){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){const c=o.mapping,u=c===Rx||c===Ox,h=c===Yh||c===Vp;if(u||h){let p=e.get(o);const y=p!==void 0?p.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==y)return t===null&&(t=new rP(n)),p=u?t.fromEquirectangular(o,p):t.fromCubemap(o,p),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),p.texture;if(p!==void 0)return p.texture;{const v=o.image;return u&&v&&v.height>0||h&&v&&r(v)?(t===null&&(t=new rP(n)),p=u?t.fromEquirectangular(o):t.fromCubemap(o),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),o.addEventListener("dispose",s),p.texture):null}}}return o}function r(o){let c=0;const u=6;for(let h=0;h<u;h++)o[h]!==void 0&&c++;return c===u}function s(o){const c=o.target;c.removeEventListener("dispose",s);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function Tfe(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&Kw("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function wfe(n,e,t,i){const r={},s=new WeakMap;function a(p){const y=p.target;y.index!==null&&e.remove(y.index);for(const _ in y.attributes)e.remove(y.attributes[_]);y.removeEventListener("dispose",a),delete r[y.id];const v=s.get(y);v&&(e.remove(v),s.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function o(p,y){return r[y.id]===!0||(y.addEventListener("dispose",a),r[y.id]=!0,t.memory.geometries++),y}function c(p){const y=p.attributes;for(const v in y)e.update(y[v],n.ARRAY_BUFFER)}function u(p){const y=[],v=p.index,_=p.attributes.position;let S=0;if(v!==null){const w=v.array;S=v.version;for(let M=0,C=w.length;M<C;M+=3){const D=w[M+0],L=w[M+1],I=w[M+2];y.push(D,L,L,I,I,D)}}else if(_!==void 0){const w=_.array;S=_.version;for(let M=0,C=w.length/3-1;M<C;M+=3){const D=M+0,L=M+1,I=M+2;y.push(D,L,L,I,I,D)}}else return;const E=new(Cj(y)?PN:IN)(y,1);E.version=S;const x=s.get(p);x&&e.remove(x),s.set(p,E)}function h(p){const y=s.get(p);if(y){const v=p.index;v!==null&&y.version<v.version&&u(p)}else u(p);return s.get(p)}return{get:o,update:c,getWireframeAttribute:h}}function Cfe(n,e,t){let i;function r(y){i=y}let s,a;function o(y){s=y.type,a=y.bytesPerElement}function c(y,v){n.drawElements(i,v,s,y*a),t.update(v,i,1)}function u(y,v,_){_!==0&&(n.drawElementsInstanced(i,v,s,y*a,_),t.update(v,i,_))}function h(y,v,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,v,0,s,y,0,_);let E=0;for(let x=0;x<_;x++)E+=v[x];t.update(E,i,1)}function p(y,v,_,S){if(_===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let x=0;x<y.length;x++)u(y[x]/a,v[x],S[x]);else{E.multiDrawElementsInstancedWEBGL(i,v,0,s,y,0,S,0,_);let x=0;for(let w=0;w<_;w++)x+=v[w]*S[w];t.update(x,i,1)}}this.setMode=r,this.setIndex=o,this.render=c,this.renderInstances=u,this.renderMultiDraw=h,this.renderMultiDrawInstances=p}function Afe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function Mfe(n,e,t){const i=new WeakMap,r=new pi;function s(a,o,c){const u=a.morphTargetInfluences,h=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,p=h!==void 0?h.length:0;let y=i.get(o);if(y===void 0||y.count!==p){let U=function(){N.dispose(),i.delete(o),o.removeEventListener("dispose",U)};var v=U;y!==void 0&&y.texture.dispose();const _=o.morphAttributes.position!==void 0,S=o.morphAttributes.normal!==void 0,E=o.morphAttributes.color!==void 0,x=o.morphAttributes.position||[],w=o.morphAttributes.normal||[],M=o.morphAttributes.color||[];let C=0;_===!0&&(C=1),S===!0&&(C=2),E===!0&&(C=3);let D=o.attributes.position.count*C,L=1;D>e.maxTextureSize&&(L=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const I=new Float32Array(D*L*4*p),N=new _S(I,D,L,p);N.type=Ro,N.needsUpdate=!0;const P=C*4;for(let V=0;V<p;V++){const z=x[V],F=w[V],K=M[V],ee=D*L*4*V;for(let q=0;q<z.count;q++){const $=q*P;_===!0&&(r.fromBufferAttribute(z,q),I[ee+$+0]=r.x,I[ee+$+1]=r.y,I[ee+$+2]=r.z,I[ee+$+3]=0),S===!0&&(r.fromBufferAttribute(F,q),I[ee+$+4]=r.x,I[ee+$+5]=r.y,I[ee+$+6]=r.z,I[ee+$+7]=0),E===!0&&(r.fromBufferAttribute(K,q),I[ee+$+8]=r.x,I[ee+$+9]=r.y,I[ee+$+10]=r.z,I[ee+$+11]=K.itemSize===4?r.w:1)}}y={count:p,texture:N,size:new it(D,L)},i.set(o,y),o.addEventListener("dispose",U)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)c.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let _=0;for(let E=0;E<u.length;E++)_+=u[E];const S=o.morphTargetsRelative?1:1-_;c.getUniforms().setValue(n,"morphTargetBaseInfluence",S),c.getUniforms().setValue(n,"morphTargetInfluences",u)}c.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),c.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:s}}function Rfe(n,e,t,i){let r=new WeakMap;function s(c){const u=i.render.frame,h=c.geometry,p=e.get(c,h);if(r.get(p)!==u&&(e.update(p),r.set(p,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",o)===!1&&c.addEventListener("dispose",o),r.get(c)!==u&&(t.update(c.instanceMatrix,n.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,n.ARRAY_BUFFER),r.set(c,u))),c.isSkinnedMesh){const y=c.skeleton;r.get(y)!==u&&(y.update(),r.set(y,u))}return p}function a(){r=new WeakMap}function o(c){const u=c.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:a}}const RG=new ts,Az=new xS(1,1),OG=new _S,IG=new PA,PG=new bS,Mz=[],Rz=[],Oz=new Float32Array(16),Iz=new Float32Array(9),Pz=new Float32Array(4);function v_(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=Mz[r];if(s===void 0&&(s=new Float32Array(r),Mz[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function zs(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Bs(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function rM(n,e){let t=Rz[e];t===void 0&&(t=new Int32Array(e),Rz[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Ofe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Ife(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zs(t,e))return;n.uniform2fv(this.addr,e),Bs(t,e)}}function Pfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(zs(t,e))return;n.uniform3fv(this.addr,e),Bs(t,e)}}function Dfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zs(t,e))return;n.uniform4fv(this.addr,e),Bs(t,e)}}function Nfe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zs(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Bs(t,e)}else{if(zs(t,i))return;Pz.set(i),n.uniformMatrix2fv(this.addr,!1,Pz),Bs(t,i)}}function Lfe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zs(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Bs(t,e)}else{if(zs(t,i))return;Iz.set(i),n.uniformMatrix3fv(this.addr,!1,Iz),Bs(t,i)}}function Ufe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zs(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Bs(t,e)}else{if(zs(t,i))return;Oz.set(i),n.uniformMatrix4fv(this.addr,!1,Oz),Bs(t,i)}}function kfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function zfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zs(t,e))return;n.uniform2iv(this.addr,e),Bs(t,e)}}function Bfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zs(t,e))return;n.uniform3iv(this.addr,e),Bs(t,e)}}function Ffe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zs(t,e))return;n.uniform4iv(this.addr,e),Bs(t,e)}}function Vfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Hfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zs(t,e))return;n.uniform2uiv(this.addr,e),Bs(t,e)}}function jfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zs(t,e))return;n.uniform3uiv(this.addr,e),Bs(t,e)}}function Gfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zs(t,e))return;n.uniform4uiv(this.addr,e),Bs(t,e)}}function qfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(Az.compareFunction=RN,s=Az):s=RG,t.setTexture2D(e||s,r)}function Wfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||IG,r)}function $fe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||PG,r)}function Xfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||OG,r)}function Yfe(n){switch(n){case 5126:return Ofe;case 35664:return Ife;case 35665:return Pfe;case 35666:return Dfe;case 35674:return Nfe;case 35675:return Lfe;case 35676:return Ufe;case 5124:case 35670:return kfe;case 35667:case 35671:return zfe;case 35668:case 35672:return Bfe;case 35669:case 35673:return Ffe;case 5125:return Vfe;case 36294:return Hfe;case 36295:return jfe;case 36296:return Gfe;case 35678:case 36198:case 36298:case 36306:case 35682:return qfe;case 35679:case 36299:case 36307:return Wfe;case 35680:case 36300:case 36308:case 36293:return $fe;case 36289:case 36303:case 36311:case 36292:return Xfe}}function Kfe(n,e){n.uniform1fv(this.addr,e)}function Zfe(n,e){const t=v_(e,this.size,2);n.uniform2fv(this.addr,t)}function Qfe(n,e){const t=v_(e,this.size,3);n.uniform3fv(this.addr,t)}function Jfe(n,e){const t=v_(e,this.size,4);n.uniform4fv(this.addr,t)}function ehe(n,e){const t=v_(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function the(n,e){const t=v_(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function nhe(n,e){const t=v_(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function ihe(n,e){n.uniform1iv(this.addr,e)}function rhe(n,e){n.uniform2iv(this.addr,e)}function she(n,e){n.uniform3iv(this.addr,e)}function ahe(n,e){n.uniform4iv(this.addr,e)}function ohe(n,e){n.uniform1uiv(this.addr,e)}function lhe(n,e){n.uniform2uiv(this.addr,e)}function che(n,e){n.uniform3uiv(this.addr,e)}function uhe(n,e){n.uniform4uiv(this.addr,e)}function fhe(n,e,t){const i=this.cache,r=e.length,s=rM(t,r);zs(i,s)||(n.uniform1iv(this.addr,s),Bs(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||RG,s[a])}function hhe(n,e,t){const i=this.cache,r=e.length,s=rM(t,r);zs(i,s)||(n.uniform1iv(this.addr,s),Bs(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||IG,s[a])}function dhe(n,e,t){const i=this.cache,r=e.length,s=rM(t,r);zs(i,s)||(n.uniform1iv(this.addr,s),Bs(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||PG,s[a])}function phe(n,e,t){const i=this.cache,r=e.length,s=rM(t,r);zs(i,s)||(n.uniform1iv(this.addr,s),Bs(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||OG,s[a])}function mhe(n){switch(n){case 5126:return Kfe;case 35664:return Zfe;case 35665:return Qfe;case 35666:return Jfe;case 35674:return ehe;case 35675:return the;case 35676:return nhe;case 5124:case 35670:return ihe;case 35667:case 35671:return rhe;case 35668:case 35672:return she;case 35669:case 35673:return ahe;case 5125:return ohe;case 36294:return lhe;case 36295:return che;case 36296:return uhe;case 35678:case 36198:case 36298:case 36306:case 35682:return fhe;case 35679:case 36299:case 36307:return hhe;case 35680:case 36300:case 36308:case 36293:return dhe;case 36289:case 36303:case 36311:case 36292:return phe}}class ghe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Yfe(t.type)}}class yhe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=mhe(t.type)}}class vhe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],i)}}}const LO=/(\w+)(\])?(\[|\.)?/g;function Dz(n,e){n.seq.push(e),n.map[e.id]=e}function _he(n,e,t){const i=n.name,r=i.length;for(LO.lastIndex=0;;){const s=LO.exec(i),a=LO.lastIndex;let o=s[1];const c=s[2]==="]",u=s[3];if(c&&(o=o|0),u===void 0||u==="["&&a+2===r){Dz(t,u===void 0?new ghe(o,n,e):new yhe(o,n,e));break}else{let p=t.map[o];p===void 0&&(p=new vhe(o),Dz(t,p)),t=p}}}class Qw{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);_he(s,a,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],c=i[o.id];c.needsUpdate!==!1&&o.setValue(e,c.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function Nz(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const bhe=37297;let xhe=0;function She(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join(`
`)}const Lz=new Pn;function Ehe(n){ci._getMatrix(Lz,ci.workingColorSpace,n);const e=`mat3( ${Lz.elements.map(t=>t.toFixed(4))} )`;switch(ci.getTransfer(n)){case Lx:return[e,"LinearTransferOETF"];case Bi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function Uz(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+She(n.getShaderSource(e),a)}else return r}function The(n,e){const t=Ehe(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function whe(n,e){let t;switch(e){case sj:t="Linear";break;case aj:t="Reinhard";break;case oj:t="Cineon";break;case _N:t="ACESFilmic";break;case cj:t="AgX";break;case uj:t="Neutral";break;case lj:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const XT=new fe;function Che(){ci.getLuminanceCoefficients(XT);const n=XT.x.toFixed(4),e=XT.y.toFixed(4),t=XT.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Ahe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ab).join(`
`)}function Mhe(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function Rhe(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function Ab(n){return n!==""}function kz(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function zz(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Ohe=/^[ \t]*#include +<([\w\d./]+)>/gm;function sP(n){return n.replace(Ohe,Phe)}const Ihe=new Map;function Phe(n,e){let t=jn[e];if(t===void 0){const i=Ihe.get(e);if(i!==void 0)t=jn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return sP(t)}const Dhe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Bz(n){return n.replace(Dhe,Nhe)}function Nhe(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function Fz(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Lhe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===SA?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===$b?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===cu&&(e="SHADOWMAP_TYPE_VSM"),e}function Uhe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Yh:case Vp:e="ENVMAP_TYPE_CUBE";break;case h_:e="ENVMAP_TYPE_CUBE_UV";break}return e}function khe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Vp:e="ENVMAP_MODE_REFRACTION";break}return e}function zhe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case yS:e="ENVMAP_BLENDING_MULTIPLY";break;case ij:e="ENVMAP_BLENDING_MIX";break;case rj:e="ENVMAP_BLENDING_ADD";break}return e}function Bhe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function Fhe(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const c=Lhe(t),u=Uhe(t),h=khe(t),p=zhe(t),y=Bhe(t),v=Ahe(t),_=Mhe(s),S=r.createProgram();let E,x,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Ab).join(`
`),E.length>0&&(E+=`
`),x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Ab).join(`
`),x.length>0&&(x+=`
`)):(E=[Fz(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ab).join(`
`),x=[Fz(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",t.envMap?"#define "+p:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Cf?"#define TONE_MAPPING":"",t.toneMapping!==Cf?jn.tonemapping_pars_fragment:"",t.toneMapping!==Cf?whe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",jn.colorspace_pars_fragment,The("linearToOutputTexel",t.outputColorSpace),Che(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Ab).join(`
`)),a=sP(a),a=kz(a,t),a=zz(a,t),o=sP(o),o=kz(o,t),o=zz(o,t),a=Bz(a),o=Bz(o),t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,E=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,x=["#define varying in",t.glslVersion===KI?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===KI?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const M=w+E+a,C=w+x+o,D=Nz(r,r.VERTEX_SHADER,M),L=Nz(r,r.FRAGMENT_SHADER,C);r.attachShader(S,D),r.attachShader(S,L),t.index0AttributeName!==void 0?r.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(S,0,"position"),r.linkProgram(S);function I(V){if(n.debug.checkShaderErrors){const z=r.getProgramInfoLog(S).trim(),F=r.getShaderInfoLog(D).trim(),K=r.getShaderInfoLog(L).trim();let ee=!0,q=!0;if(r.getProgramParameter(S,r.LINK_STATUS)===!1)if(ee=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,S,D,L);else{const $=Uz(r,D,"vertex"),Q=Uz(r,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(S,r.VALIDATE_STATUS)+`

Material Name: `+V.name+`
Material Type: `+V.type+`

Program Info Log: `+z+`
`+$+`
`+Q)}else z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",z):(F===""||K==="")&&(q=!1);q&&(V.diagnostics={runnable:ee,programLog:z,vertexShader:{log:F,prefix:E},fragmentShader:{log:K,prefix:x}})}r.deleteShader(D),r.deleteShader(L),N=new Qw(r,S),P=Rhe(r,S)}let N;this.getUniforms=function(){return N===void 0&&I(this),N};let P;this.getAttributes=function(){return P===void 0&&I(this),P};let U=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=r.getProgramParameter(S,bhe)),U},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(S),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=xhe++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=D,this.fragmentShader=L,this}let Vhe=0;class Hhe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new jhe(e),t.set(e,i)),i}}class jhe{constructor(e){this.id=Vhe++,this.code=e,this.usedTimes=0}}function Ghe(n,e,t,i,r,s,a){const o=new F0,c=new Hhe,u=new Set,h=[],p=r.logarithmicDepthBuffer,y=r.vertexTextures;let v=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(P){return u.add(P),P===0?"uv":`uv${P}`}function E(P,U,V,z,F){const K=z.fog,ee=F.geometry,q=P.isMeshStandardMaterial?z.environment:null,$=(P.isMeshStandardMaterial?t:e).get(P.envMap||q),Q=$&&$.mapping===h_?$.image.height:null,se=_[P.type];P.precision!==null&&(v=r.getMaxPrecision(P.precision),v!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",v,"instead."));const de=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,Y=de!==void 0?de.length:0;let le=0;ee.morphAttributes.position!==void 0&&(le=1),ee.morphAttributes.normal!==void 0&&(le=2),ee.morphAttributes.color!==void 0&&(le=3);let pe,ue,ie,he;if(se){const Qt=fu[se];pe=Qt.vertexShader,ue=Qt.fragmentShader}else pe=P.vertexShader,ue=P.fragmentShader,c.update(P),ie=c.getVertexShaderID(P),he=c.getFragmentShaderID(P);const ye=n.getRenderTarget(),Ve=n.state.buffers.depth.getReversed(),Xe=F.isInstancedMesh===!0,Ge=F.isBatchedMesh===!0,rt=!!P.map,ot=!!P.matcap,pt=!!$,te=!!P.aoMap,Oe=!!P.lightMap,Be=!!P.bumpMap,Ne=!!P.normalMap,Me=!!P.displacementMap,ct=!!P.emissiveMap,qe=!!P.metalnessMap,ae=!!P.roughnessMap,J=P.anisotropy>0,Se=P.clearcoat>0,Ae=P.dispersion>0,Ze=P.iridescence>0,Re=P.sheen>0,lt=P.transmission>0,ut=J&&!!P.anisotropyMap,Dt=Se&&!!P.clearcoatMap,kt=Se&&!!P.clearcoatNormalMap,$e=Se&&!!P.clearcoatRoughnessMap,dt=Ze&&!!P.iridescenceMap,wt=Ze&&!!P.iridescenceThicknessMap,At=Re&&!!P.sheenColorMap,vt=Re&&!!P.sheenRoughnessMap,jt=!!P.specularMap,at=!!P.specularColorMap,Lt=!!P.specularIntensityMap,ve=lt&&!!P.transmissionMap,gt=lt&&!!P.thicknessMap,Fe=!!P.gradientMap,Qe=!!P.alphaMap,xt=P.alphaTest>0,_t=!!P.alphaHash,Zt=!!P.extensions;let $n=Cf;P.toneMapped&&(ye===null||ye.isXRRenderTarget===!0)&&($n=n.toneMapping);const zt={shaderID:se,shaderType:P.type,shaderName:P.name,vertexShader:pe,fragmentShader:ue,defines:P.defines,customVertexShaderID:ie,customFragmentShaderID:he,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:v,batching:Ge,batchingColor:Ge&&F._colorsTexture!==null,instancing:Xe,instancingColor:Xe&&F.instanceColor!==null,instancingMorph:Xe&&F.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:ye===null?n.outputColorSpace:ye.isXRRenderTarget===!0?ye.texture.colorSpace:Hp,alphaToCoverage:!!P.alphaToCoverage,map:rt,matcap:ot,envMap:pt,envMapMode:pt&&$.mapping,envMapCubeUVHeight:Q,aoMap:te,lightMap:Oe,bumpMap:Be,normalMap:Ne,displacementMap:y&&Me,emissiveMap:ct,normalMapObjectSpace:Ne&&P.normalMapType===yj,normalMapTangentSpace:Ne&&P.normalMapType===Yp,metalnessMap:qe,roughnessMap:ae,anisotropy:J,anisotropyMap:ut,clearcoat:Se,clearcoatMap:Dt,clearcoatNormalMap:kt,clearcoatRoughnessMap:$e,dispersion:Ae,iridescence:Ze,iridescenceMap:dt,iridescenceThicknessMap:wt,sheen:Re,sheenColorMap:At,sheenRoughnessMap:vt,specularMap:jt,specularColorMap:at,specularIntensityMap:Lt,transmission:lt,transmissionMap:ve,thicknessMap:gt,gradientMap:Fe,opaque:P.transparent===!1&&P.blending===Bg&&P.alphaToCoverage===!1,alphaMap:Qe,alphaTest:xt,alphaHash:_t,combine:P.combine,mapUv:rt&&S(P.map.channel),aoMapUv:te&&S(P.aoMap.channel),lightMapUv:Oe&&S(P.lightMap.channel),bumpMapUv:Be&&S(P.bumpMap.channel),normalMapUv:Ne&&S(P.normalMap.channel),displacementMapUv:Me&&S(P.displacementMap.channel),emissiveMapUv:ct&&S(P.emissiveMap.channel),metalnessMapUv:qe&&S(P.metalnessMap.channel),roughnessMapUv:ae&&S(P.roughnessMap.channel),anisotropyMapUv:ut&&S(P.anisotropyMap.channel),clearcoatMapUv:Dt&&S(P.clearcoatMap.channel),clearcoatNormalMapUv:kt&&S(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:$e&&S(P.clearcoatRoughnessMap.channel),iridescenceMapUv:dt&&S(P.iridescenceMap.channel),iridescenceThicknessMapUv:wt&&S(P.iridescenceThicknessMap.channel),sheenColorMapUv:At&&S(P.sheenColorMap.channel),sheenRoughnessMapUv:vt&&S(P.sheenRoughnessMap.channel),specularMapUv:jt&&S(P.specularMap.channel),specularColorMapUv:at&&S(P.specularColorMap.channel),specularIntensityMapUv:Lt&&S(P.specularIntensityMap.channel),transmissionMapUv:ve&&S(P.transmissionMap.channel),thicknessMapUv:gt&&S(P.thicknessMap.channel),alphaMapUv:Qe&&S(P.alphaMap.channel),vertexTangents:!!ee.attributes.tangent&&(Ne||J),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,pointsUvs:F.isPoints===!0&&!!ee.attributes.uv&&(rt||Qe),fog:!!K,useFog:P.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:p,reverseDepthBuffer:Ve,skinning:F.isSkinnedMesh===!0,morphTargets:ee.morphAttributes.position!==void 0,morphNormals:ee.morphAttributes.normal!==void 0,morphColors:ee.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:le,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&V.length>0,shadowMapType:n.shadowMap.type,toneMapping:$n,decodeVideoTexture:rt&&P.map.isVideoTexture===!0&&ci.getTransfer(P.map.colorSpace)===Bi,decodeVideoTextureEmissive:ct&&P.emissiveMap.isVideoTexture===!0&&ci.getTransfer(P.emissiveMap.colorSpace)===Bi,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===gf,flipSided:P.side===Oo,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:Zt&&P.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Zt&&P.extensions.multiDraw===!0||Ge)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return zt.vertexUv1s=u.has(1),zt.vertexUv2s=u.has(2),zt.vertexUv3s=u.has(3),u.clear(),zt}function x(P){const U=[];if(P.shaderID?U.push(P.shaderID):(U.push(P.customVertexShaderID),U.push(P.customFragmentShaderID)),P.defines!==void 0)for(const V in P.defines)U.push(V),U.push(P.defines[V]);return P.isRawShaderMaterial===!1&&(w(U,P),M(U,P),U.push(n.outputColorSpace)),U.push(P.customProgramCacheKey),U.join()}function w(P,U){P.push(U.precision),P.push(U.outputColorSpace),P.push(U.envMapMode),P.push(U.envMapCubeUVHeight),P.push(U.mapUv),P.push(U.alphaMapUv),P.push(U.lightMapUv),P.push(U.aoMapUv),P.push(U.bumpMapUv),P.push(U.normalMapUv),P.push(U.displacementMapUv),P.push(U.emissiveMapUv),P.push(U.metalnessMapUv),P.push(U.roughnessMapUv),P.push(U.anisotropyMapUv),P.push(U.clearcoatMapUv),P.push(U.clearcoatNormalMapUv),P.push(U.clearcoatRoughnessMapUv),P.push(U.iridescenceMapUv),P.push(U.iridescenceThicknessMapUv),P.push(U.sheenColorMapUv),P.push(U.sheenRoughnessMapUv),P.push(U.specularMapUv),P.push(U.specularColorMapUv),P.push(U.specularIntensityMapUv),P.push(U.transmissionMapUv),P.push(U.thicknessMapUv),P.push(U.combine),P.push(U.fogExp2),P.push(U.sizeAttenuation),P.push(U.morphTargetsCount),P.push(U.morphAttributeCount),P.push(U.numDirLights),P.push(U.numPointLights),P.push(U.numSpotLights),P.push(U.numSpotLightMaps),P.push(U.numHemiLights),P.push(U.numRectAreaLights),P.push(U.numDirLightShadows),P.push(U.numPointLightShadows),P.push(U.numSpotLightShadows),P.push(U.numSpotLightShadowsWithMaps),P.push(U.numLightProbes),P.push(U.shadowMapType),P.push(U.toneMapping),P.push(U.numClippingPlanes),P.push(U.numClipIntersection),P.push(U.depthPacking)}function M(P,U){o.disableAll(),U.supportsVertexTextures&&o.enable(0),U.instancing&&o.enable(1),U.instancingColor&&o.enable(2),U.instancingMorph&&o.enable(3),U.matcap&&o.enable(4),U.envMap&&o.enable(5),U.normalMapObjectSpace&&o.enable(6),U.normalMapTangentSpace&&o.enable(7),U.clearcoat&&o.enable(8),U.iridescence&&o.enable(9),U.alphaTest&&o.enable(10),U.vertexColors&&o.enable(11),U.vertexAlphas&&o.enable(12),U.vertexUv1s&&o.enable(13),U.vertexUv2s&&o.enable(14),U.vertexUv3s&&o.enable(15),U.vertexTangents&&o.enable(16),U.anisotropy&&o.enable(17),U.alphaHash&&o.enable(18),U.batching&&o.enable(19),U.dispersion&&o.enable(20),U.batchingColor&&o.enable(21),P.push(o.mask),o.disableAll(),U.fog&&o.enable(0),U.useFog&&o.enable(1),U.flatShading&&o.enable(2),U.logarithmicDepthBuffer&&o.enable(3),U.reverseDepthBuffer&&o.enable(4),U.skinning&&o.enable(5),U.morphTargets&&o.enable(6),U.morphNormals&&o.enable(7),U.morphColors&&o.enable(8),U.premultipliedAlpha&&o.enable(9),U.shadowMapEnabled&&o.enable(10),U.doubleSided&&o.enable(11),U.flipSided&&o.enable(12),U.useDepthPacking&&o.enable(13),U.dithering&&o.enable(14),U.transmission&&o.enable(15),U.sheen&&o.enable(16),U.opaque&&o.enable(17),U.pointsUvs&&o.enable(18),U.decodeVideoTexture&&o.enable(19),U.decodeVideoTextureEmissive&&o.enable(20),U.alphaToCoverage&&o.enable(21),P.push(o.mask)}function C(P){const U=_[P.type];let V;if(U){const z=fu[U];V=Ij.clone(z.uniforms)}else V=P.uniforms;return V}function D(P,U){let V;for(let z=0,F=h.length;z<F;z++){const K=h[z];if(K.cacheKey===U){V=K,++V.usedTimes;break}}return V===void 0&&(V=new Fhe(n,U,P,s),h.push(V)),V}function L(P){if(--P.usedTimes===0){const U=h.indexOf(P);h[U]=h[h.length-1],h.pop(),P.destroy()}}function I(P){c.remove(P)}function N(){c.dispose()}return{getParameters:E,getProgramCacheKey:x,getUniforms:C,acquireProgram:D,releaseProgram:L,releaseShaderCache:I,programs:h,dispose:N}}function qhe(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function i(a){n.delete(a)}function r(a,o,c){n.get(a)[o]=c}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function Whe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Vz(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Hz(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function a(p,y,v,_,S,E){let x=n[e];return x===void 0?(x={id:p.id,object:p,geometry:y,material:v,groupOrder:_,renderOrder:p.renderOrder,z:S,group:E},n[e]=x):(x.id=p.id,x.object=p,x.geometry=y,x.material=v,x.groupOrder=_,x.renderOrder=p.renderOrder,x.z=S,x.group=E),e++,x}function o(p,y,v,_,S,E){const x=a(p,y,v,_,S,E);v.transmission>0?i.push(x):v.transparent===!0?r.push(x):t.push(x)}function c(p,y,v,_,S,E){const x=a(p,y,v,_,S,E);v.transmission>0?i.unshift(x):v.transparent===!0?r.unshift(x):t.unshift(x)}function u(p,y){t.length>1&&t.sort(p||Whe),i.length>1&&i.sort(y||Vz),r.length>1&&r.sort(y||Vz)}function h(){for(let p=e,y=n.length;p<y;p++){const v=n[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:o,unshift:c,finish:h,sort:u}}function $he(){let n=new WeakMap;function e(i,r){const s=n.get(i);let a;return s===void 0?(a=new Hz,n.set(i,[a])):r>=s.length?(a=new Hz,s.push(a)):a=s[r],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function Xhe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new fe,color:new Ut};break;case"SpotLight":t={position:new fe,direction:new fe,color:new Ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new fe,color:new Ut,distance:0,decay:0};break;case"HemisphereLight":t={direction:new fe,skyColor:new Ut,groundColor:new Ut};break;case"RectAreaLight":t={color:new Ut,position:new fe,halfWidth:new fe,halfHeight:new fe};break}return n[e.id]=t,t}}}function Yhe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Khe=0;function Zhe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Qhe(n){const e=new Xhe,t=Yhe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new fe);const r=new fe,s=new an,a=new an;function o(u){let h=0,p=0,y=0;for(let P=0;P<9;P++)i.probe[P].set(0,0,0);let v=0,_=0,S=0,E=0,x=0,w=0,M=0,C=0,D=0,L=0,I=0;u.sort(Zhe);for(let P=0,U=u.length;P<U;P++){const V=u[P],z=V.color,F=V.intensity,K=V.distance,ee=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)h+=z.r*F,p+=z.g*F,y+=z.b*F;else if(V.isLightProbe){for(let q=0;q<9;q++)i.probe[q].addScaledVector(V.sh.coefficients[q],F);I++}else if(V.isDirectionalLight){const q=e.get(V);if(q.color.copy(V.color).multiplyScalar(V.intensity),V.castShadow){const $=V.shadow,Q=t.get(V);Q.shadowIntensity=$.intensity,Q.shadowBias=$.bias,Q.shadowNormalBias=$.normalBias,Q.shadowRadius=$.radius,Q.shadowMapSize=$.mapSize,i.directionalShadow[v]=Q,i.directionalShadowMap[v]=ee,i.directionalShadowMatrix[v]=V.shadow.matrix,w++}i.directional[v]=q,v++}else if(V.isSpotLight){const q=e.get(V);q.position.setFromMatrixPosition(V.matrixWorld),q.color.copy(z).multiplyScalar(F),q.distance=K,q.coneCos=Math.cos(V.angle),q.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),q.decay=V.decay,i.spot[S]=q;const $=V.shadow;if(V.map&&(i.spotLightMap[D]=V.map,D++,$.updateMatrices(V),V.castShadow&&L++),i.spotLightMatrix[S]=$.matrix,V.castShadow){const Q=t.get(V);Q.shadowIntensity=$.intensity,Q.shadowBias=$.bias,Q.shadowNormalBias=$.normalBias,Q.shadowRadius=$.radius,Q.shadowMapSize=$.mapSize,i.spotShadow[S]=Q,i.spotShadowMap[S]=ee,C++}S++}else if(V.isRectAreaLight){const q=e.get(V);q.color.copy(z).multiplyScalar(F),q.halfWidth.set(V.width*.5,0,0),q.halfHeight.set(0,V.height*.5,0),i.rectArea[E]=q,E++}else if(V.isPointLight){const q=e.get(V);if(q.color.copy(V.color).multiplyScalar(V.intensity),q.distance=V.distance,q.decay=V.decay,V.castShadow){const $=V.shadow,Q=t.get(V);Q.shadowIntensity=$.intensity,Q.shadowBias=$.bias,Q.shadowNormalBias=$.normalBias,Q.shadowRadius=$.radius,Q.shadowMapSize=$.mapSize,Q.shadowCameraNear=$.camera.near,Q.shadowCameraFar=$.camera.far,i.pointShadow[_]=Q,i.pointShadowMap[_]=ee,i.pointShadowMatrix[_]=V.shadow.matrix,M++}i.point[_]=q,_++}else if(V.isHemisphereLight){const q=e.get(V);q.skyColor.copy(V.color).multiplyScalar(F),q.groundColor.copy(V.groundColor).multiplyScalar(F),i.hemi[x]=q,x++}}E>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=It.LTC_FLOAT_1,i.rectAreaLTC2=It.LTC_FLOAT_2):(i.rectAreaLTC1=It.LTC_HALF_1,i.rectAreaLTC2=It.LTC_HALF_2)),i.ambient[0]=h,i.ambient[1]=p,i.ambient[2]=y;const N=i.hash;(N.directionalLength!==v||N.pointLength!==_||N.spotLength!==S||N.rectAreaLength!==E||N.hemiLength!==x||N.numDirectionalShadows!==w||N.numPointShadows!==M||N.numSpotShadows!==C||N.numSpotMaps!==D||N.numLightProbes!==I)&&(i.directional.length=v,i.spot.length=S,i.rectArea.length=E,i.point.length=_,i.hemi.length=x,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=C+D-L,i.spotLightMap.length=D,i.numSpotLightShadowsWithMaps=L,i.numLightProbes=I,N.directionalLength=v,N.pointLength=_,N.spotLength=S,N.rectAreaLength=E,N.hemiLength=x,N.numDirectionalShadows=w,N.numPointShadows=M,N.numSpotShadows=C,N.numSpotMaps=D,N.numLightProbes=I,i.version=Khe++)}function c(u,h){let p=0,y=0,v=0,_=0,S=0;const E=h.matrixWorldInverse;for(let x=0,w=u.length;x<w;x++){const M=u[x];if(M.isDirectionalLight){const C=i.directional[p];C.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(E),p++}else if(M.isSpotLight){const C=i.spot[v];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(E),C.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(E),v++}else if(M.isRectAreaLight){const C=i.rectArea[_];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(E),a.identity(),s.copy(M.matrixWorld),s.premultiply(E),a.extractRotation(s),C.halfWidth.set(M.width*.5,0,0),C.halfHeight.set(0,M.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),_++}else if(M.isPointLight){const C=i.point[y];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(E),y++}else if(M.isHemisphereLight){const C=i.hemi[S];C.direction.setFromMatrixPosition(M.matrixWorld),C.direction.transformDirection(E),S++}}}return{setup:o,setupView:c,state:i}}function jz(n){const e=new Qhe(n),t=[],i=[];function r(h){u.camera=h,t.length=0,i.length=0}function s(h){t.push(h)}function a(h){i.push(h)}function o(){e.setup(t)}function c(h){e.setupView(t,h)}const u={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:u,setupLights:o,setupLightsView:c,pushLight:s,pushShadow:a}}function Jhe(n){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let o;return a===void 0?(o=new jz(n),e.set(r,[o])):s>=a.length?(o=new jz(n),a.push(o)):o=a[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}const ede=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,tde=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function nde(n,e,t){let i=new p_;const r=new it,s=new it,a=new pi,o=new GN({depthPacking:gj}),c=new qN,u={},h=t.maxTextureSize,p={[Xh]:Oo,[Oo]:Xh,[gf]:gf},y=new _u({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new it},radius:{value:4}},vertexShader:ede,fragmentShader:tde}),v=y.clone();v.defines.HORIZONTAL_PASS=1;const _=new Dn;_.setAttribute("position",new Fi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new es(_,y),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=SA;let x=this.type;this.render=function(L,I,N){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||L.length===0)return;const P=n.getRenderTarget(),U=n.getActiveCubeFace(),V=n.getActiveMipmapLevel(),z=n.state;z.setBlending(kh),z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const F=x!==cu&&this.type===cu,K=x===cu&&this.type!==cu;for(let ee=0,q=L.length;ee<q;ee++){const $=L[ee],Q=$.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",$,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;r.copy(Q.mapSize);const se=Q.getFrameExtents();if(r.multiply(se),s.copy(Q.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(s.x=Math.floor(h/se.x),r.x=s.x*se.x,Q.mapSize.x=s.x),r.y>h&&(s.y=Math.floor(h/se.y),r.y=s.y*se.y,Q.mapSize.y=s.y)),Q.map===null||F===!0||K===!0){const Y=this.type!==cu?{minFilter:Ea,magFilter:Ea}:{};Q.map!==null&&Q.map.dispose(),Q.map=new vu(r.x,r.y,Y),Q.map.texture.name=$.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const de=Q.getViewportCount();for(let Y=0;Y<de;Y++){const le=Q.getViewport(Y);a.set(s.x*le.x,s.y*le.y,s.x*le.z,s.y*le.w),z.viewport(a),Q.updateMatrices($,Y),i=Q.getFrustum(),C(I,N,Q.camera,$,this.type)}Q.isPointLightShadow!==!0&&this.type===cu&&w(Q,N),Q.needsUpdate=!1}x=this.type,E.needsUpdate=!1,n.setRenderTarget(P,U,V)};function w(L,I){const N=e.update(S);y.defines.VSM_SAMPLES!==L.blurSamples&&(y.defines.VSM_SAMPLES=L.blurSamples,v.defines.VSM_SAMPLES=L.blurSamples,y.needsUpdate=!0,v.needsUpdate=!0),L.mapPass===null&&(L.mapPass=new vu(r.x,r.y)),y.uniforms.shadow_pass.value=L.map.texture,y.uniforms.resolution.value=L.mapSize,y.uniforms.radius.value=L.radius,n.setRenderTarget(L.mapPass),n.clear(),n.renderBufferDirect(I,null,N,y,S,null),v.uniforms.shadow_pass.value=L.mapPass.texture,v.uniforms.resolution.value=L.mapSize,v.uniforms.radius.value=L.radius,n.setRenderTarget(L.map),n.clear(),n.renderBufferDirect(I,null,N,v,S,null)}function M(L,I,N,P){let U=null;const V=N.isPointLight===!0?L.customDistanceMaterial:L.customDepthMaterial;if(V!==void 0)U=V;else if(U=N.isPointLight===!0?c:o,n.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0||I.alphaToCoverage===!0){const z=U.uuid,F=I.uuid;let K=u[z];K===void 0&&(K={},u[z]=K);let ee=K[F];ee===void 0&&(ee=U.clone(),K[F]=ee,I.addEventListener("dispose",D)),U=ee}if(U.visible=I.visible,U.wireframe=I.wireframe,P===cu?U.side=I.shadowSide!==null?I.shadowSide:I.side:U.side=I.shadowSide!==null?I.shadowSide:p[I.side],U.alphaMap=I.alphaMap,U.alphaTest=I.alphaToCoverage===!0?.5:I.alphaTest,U.map=I.map,U.clipShadows=I.clipShadows,U.clippingPlanes=I.clippingPlanes,U.clipIntersection=I.clipIntersection,U.displacementMap=I.displacementMap,U.displacementScale=I.displacementScale,U.displacementBias=I.displacementBias,U.wireframeLinewidth=I.wireframeLinewidth,U.linewidth=I.linewidth,N.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const z=n.properties.get(U);z.light=N}return U}function C(L,I,N,P,U){if(L.visible===!1)return;if(L.layers.test(I.layers)&&(L.isMesh||L.isLine||L.isPoints)&&(L.castShadow||L.receiveShadow&&U===cu)&&(!L.frustumCulled||i.intersectsObject(L))){L.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,L.matrixWorld);const F=e.update(L),K=L.material;if(Array.isArray(K)){const ee=F.groups;for(let q=0,$=ee.length;q<$;q++){const Q=ee[q],se=K[Q.materialIndex];if(se&&se.visible){const de=M(L,se,P,U);L.onBeforeShadow(n,L,I,N,F,de,Q),n.renderBufferDirect(N,null,F,de,L,Q),L.onAfterShadow(n,L,I,N,F,de,Q)}}}else if(K.visible){const ee=M(L,K,P,U);L.onBeforeShadow(n,L,I,N,F,ee,null),n.renderBufferDirect(N,null,F,ee,L,null),L.onAfterShadow(n,L,I,N,F,ee,null)}}const z=L.children;for(let F=0,K=z.length;F<K;F++)C(z[F],I,N,P,U)}function D(L){L.target.removeEventListener("dispose",D);for(const N in u){const P=u[N],U=L.target.uuid;U in P&&(P[U].dispose(),delete P[U])}}}const ide={[F2]:V2,[H2]:q2,[j2]:W2,[Xg]:G2,[V2]:F2,[q2]:H2,[W2]:j2,[G2]:Xg};function rde(n,e){function t(){let ve=!1;const gt=new pi;let Fe=null;const Qe=new pi(0,0,0,0);return{setMask:function(xt){Fe!==xt&&!ve&&(n.colorMask(xt,xt,xt,xt),Fe=xt)},setLocked:function(xt){ve=xt},setClear:function(xt,_t,Zt,$n,zt){zt===!0&&(xt*=$n,_t*=$n,Zt*=$n),gt.set(xt,_t,Zt,$n),Qe.equals(gt)===!1&&(n.clearColor(xt,_t,Zt,$n),Qe.copy(gt))},reset:function(){ve=!1,Fe=null,Qe.set(-1,0,0,0)}}}function i(){let ve=!1,gt=!1,Fe=null,Qe=null,xt=null;return{setReversed:function(_t){if(gt!==_t){const Zt=e.get("EXT_clip_control");_t?Zt.clipControlEXT(Zt.LOWER_LEFT_EXT,Zt.ZERO_TO_ONE_EXT):Zt.clipControlEXT(Zt.LOWER_LEFT_EXT,Zt.NEGATIVE_ONE_TO_ONE_EXT),gt=_t;const $n=xt;xt=null,this.setClear($n)}},getReversed:function(){return gt},setTest:function(_t){_t?ye(n.DEPTH_TEST):Ve(n.DEPTH_TEST)},setMask:function(_t){Fe!==_t&&!ve&&(n.depthMask(_t),Fe=_t)},setFunc:function(_t){if(gt&&(_t=ide[_t]),Qe!==_t){switch(_t){case F2:n.depthFunc(n.NEVER);break;case V2:n.depthFunc(n.ALWAYS);break;case H2:n.depthFunc(n.LESS);break;case Xg:n.depthFunc(n.LEQUAL);break;case j2:n.depthFunc(n.EQUAL);break;case G2:n.depthFunc(n.GEQUAL);break;case q2:n.depthFunc(n.GREATER);break;case W2:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Qe=_t}},setLocked:function(_t){ve=_t},setClear:function(_t){xt!==_t&&(gt&&(_t=1-_t),n.clearDepth(_t),xt=_t)},reset:function(){ve=!1,Fe=null,Qe=null,xt=null,gt=!1}}}function r(){let ve=!1,gt=null,Fe=null,Qe=null,xt=null,_t=null,Zt=null,$n=null,zt=null;return{setTest:function(Qt){ve||(Qt?ye(n.STENCIL_TEST):Ve(n.STENCIL_TEST))},setMask:function(Qt){gt!==Qt&&!ve&&(n.stencilMask(Qt),gt=Qt)},setFunc:function(Qt,St,Mt){(Fe!==Qt||Qe!==St||xt!==Mt)&&(n.stencilFunc(Qt,St,Mt),Fe=Qt,Qe=St,xt=Mt)},setOp:function(Qt,St,Mt){(_t!==Qt||Zt!==St||$n!==Mt)&&(n.stencilOp(Qt,St,Mt),_t=Qt,Zt=St,$n=Mt)},setLocked:function(Qt){ve=Qt},setClear:function(Qt){zt!==Qt&&(n.clearStencil(Qt),zt=Qt)},reset:function(){ve=!1,gt=null,Fe=null,Qe=null,xt=null,_t=null,Zt=null,$n=null,zt=null}}}const s=new t,a=new i,o=new r,c=new WeakMap,u=new WeakMap;let h={},p={},y=new WeakMap,v=[],_=null,S=!1,E=null,x=null,w=null,M=null,C=null,D=null,L=null,I=new Ut(0,0,0),N=0,P=!1,U=null,V=null,z=null,F=null,K=null;const ee=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,$=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?($=parseFloat(/^WebGL (\d)/.exec(Q)[1]),q=$>=1):Q.indexOf("OpenGL ES")!==-1&&($=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),q=$>=2);let se=null,de={};const Y=n.getParameter(n.SCISSOR_BOX),le=n.getParameter(n.VIEWPORT),pe=new pi().fromArray(Y),ue=new pi().fromArray(le);function ie(ve,gt,Fe,Qe){const xt=new Uint8Array(4),_t=n.createTexture();n.bindTexture(ve,_t),n.texParameteri(ve,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ve,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Zt=0;Zt<Fe;Zt++)ve===n.TEXTURE_3D||ve===n.TEXTURE_2D_ARRAY?n.texImage3D(gt,0,n.RGBA,1,1,Qe,0,n.RGBA,n.UNSIGNED_BYTE,xt):n.texImage2D(gt+Zt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,xt);return _t}const he={};he[n.TEXTURE_2D]=ie(n.TEXTURE_2D,n.TEXTURE_2D,1),he[n.TEXTURE_CUBE_MAP]=ie(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),he[n.TEXTURE_2D_ARRAY]=ie(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),he[n.TEXTURE_3D]=ie(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),ye(n.DEPTH_TEST),a.setFunc(Xg),Be(!1),Ne(GI),ye(n.CULL_FACE),te(kh);function ye(ve){h[ve]!==!0&&(n.enable(ve),h[ve]=!0)}function Ve(ve){h[ve]!==!1&&(n.disable(ve),h[ve]=!1)}function Xe(ve,gt){return p[ve]!==gt?(n.bindFramebuffer(ve,gt),p[ve]=gt,ve===n.DRAW_FRAMEBUFFER&&(p[n.FRAMEBUFFER]=gt),ve===n.FRAMEBUFFER&&(p[n.DRAW_FRAMEBUFFER]=gt),!0):!1}function Ge(ve,gt){let Fe=v,Qe=!1;if(ve){Fe=y.get(gt),Fe===void 0&&(Fe=[],y.set(gt,Fe));const xt=ve.textures;if(Fe.length!==xt.length||Fe[0]!==n.COLOR_ATTACHMENT0){for(let _t=0,Zt=xt.length;_t<Zt;_t++)Fe[_t]=n.COLOR_ATTACHMENT0+_t;Fe.length=xt.length,Qe=!0}}else Fe[0]!==n.BACK&&(Fe[0]=n.BACK,Qe=!0);Qe&&n.drawBuffers(Fe)}function rt(ve){return _!==ve?(n.useProgram(ve),_=ve,!0):!1}const ot={[pp]:n.FUNC_ADD,[FH]:n.FUNC_SUBTRACT,[VH]:n.FUNC_REVERSE_SUBTRACT};ot[HH]=n.MIN,ot[jH]=n.MAX;const pt={[GH]:n.ZERO,[qH]:n.ONE,[WH]:n.SRC_COLOR,[z2]:n.SRC_ALPHA,[QH]:n.SRC_ALPHA_SATURATE,[KH]:n.DST_COLOR,[XH]:n.DST_ALPHA,[$H]:n.ONE_MINUS_SRC_COLOR,[B2]:n.ONE_MINUS_SRC_ALPHA,[ZH]:n.ONE_MINUS_DST_COLOR,[YH]:n.ONE_MINUS_DST_ALPHA,[JH]:n.CONSTANT_COLOR,[ej]:n.ONE_MINUS_CONSTANT_COLOR,[tj]:n.CONSTANT_ALPHA,[nj]:n.ONE_MINUS_CONSTANT_ALPHA};function te(ve,gt,Fe,Qe,xt,_t,Zt,$n,zt,Qt){if(ve===kh){S===!0&&(Ve(n.BLEND),S=!1);return}if(S===!1&&(ye(n.BLEND),S=!0),ve!==BH){if(ve!==E||Qt!==P){if((x!==pp||C!==pp)&&(n.blendEquation(n.FUNC_ADD),x=pp,C=pp),Qt)switch(ve){case Bg:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case qI:n.blendFunc(n.ONE,n.ONE);break;case WI:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case $I:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ve);break}else switch(ve){case Bg:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case qI:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case WI:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case $I:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ve);break}w=null,M=null,D=null,L=null,I.set(0,0,0),N=0,E=ve,P=Qt}return}xt=xt||gt,_t=_t||Fe,Zt=Zt||Qe,(gt!==x||xt!==C)&&(n.blendEquationSeparate(ot[gt],ot[xt]),x=gt,C=xt),(Fe!==w||Qe!==M||_t!==D||Zt!==L)&&(n.blendFuncSeparate(pt[Fe],pt[Qe],pt[_t],pt[Zt]),w=Fe,M=Qe,D=_t,L=Zt),($n.equals(I)===!1||zt!==N)&&(n.blendColor($n.r,$n.g,$n.b,zt),I.copy($n),N=zt),E=ve,P=!1}function Oe(ve,gt){ve.side===gf?Ve(n.CULL_FACE):ye(n.CULL_FACE);let Fe=ve.side===Oo;gt&&(Fe=!Fe),Be(Fe),ve.blending===Bg&&ve.transparent===!1?te(kh):te(ve.blending,ve.blendEquation,ve.blendSrc,ve.blendDst,ve.blendEquationAlpha,ve.blendSrcAlpha,ve.blendDstAlpha,ve.blendColor,ve.blendAlpha,ve.premultipliedAlpha),a.setFunc(ve.depthFunc),a.setTest(ve.depthTest),a.setMask(ve.depthWrite),s.setMask(ve.colorWrite);const Qe=ve.stencilWrite;o.setTest(Qe),Qe&&(o.setMask(ve.stencilWriteMask),o.setFunc(ve.stencilFunc,ve.stencilRef,ve.stencilFuncMask),o.setOp(ve.stencilFail,ve.stencilZFail,ve.stencilZPass)),ct(ve.polygonOffset,ve.polygonOffsetFactor,ve.polygonOffsetUnits),ve.alphaToCoverage===!0?ye(n.SAMPLE_ALPHA_TO_COVERAGE):Ve(n.SAMPLE_ALPHA_TO_COVERAGE)}function Be(ve){U!==ve&&(ve?n.frontFace(n.CW):n.frontFace(n.CCW),U=ve)}function Ne(ve){ve!==UH?(ye(n.CULL_FACE),ve!==V&&(ve===GI?n.cullFace(n.BACK):ve===kH?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ve(n.CULL_FACE),V=ve}function Me(ve){ve!==z&&(q&&n.lineWidth(ve),z=ve)}function ct(ve,gt,Fe){ve?(ye(n.POLYGON_OFFSET_FILL),(F!==gt||K!==Fe)&&(n.polygonOffset(gt,Fe),F=gt,K=Fe)):Ve(n.POLYGON_OFFSET_FILL)}function qe(ve){ve?ye(n.SCISSOR_TEST):Ve(n.SCISSOR_TEST)}function ae(ve){ve===void 0&&(ve=n.TEXTURE0+ee-1),se!==ve&&(n.activeTexture(ve),se=ve)}function J(ve,gt,Fe){Fe===void 0&&(se===null?Fe=n.TEXTURE0+ee-1:Fe=se);let Qe=de[Fe];Qe===void 0&&(Qe={type:void 0,texture:void 0},de[Fe]=Qe),(Qe.type!==ve||Qe.texture!==gt)&&(se!==Fe&&(n.activeTexture(Fe),se=Fe),n.bindTexture(ve,gt||he[ve]),Qe.type=ve,Qe.texture=gt)}function Se(){const ve=de[se];ve!==void 0&&ve.type!==void 0&&(n.bindTexture(ve.type,null),ve.type=void 0,ve.texture=void 0)}function Ae(){try{n.compressedTexImage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Ze(){try{n.compressedTexImage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Re(){try{n.texSubImage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function lt(){try{n.texSubImage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function ut(){try{n.compressedTexSubImage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Dt(){try{n.compressedTexSubImage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function kt(){try{n.texStorage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function $e(){try{n.texStorage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function dt(){try{n.texImage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function wt(){try{n.texImage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function At(ve){pe.equals(ve)===!1&&(n.scissor(ve.x,ve.y,ve.z,ve.w),pe.copy(ve))}function vt(ve){ue.equals(ve)===!1&&(n.viewport(ve.x,ve.y,ve.z,ve.w),ue.copy(ve))}function jt(ve,gt){let Fe=u.get(gt);Fe===void 0&&(Fe=new WeakMap,u.set(gt,Fe));let Qe=Fe.get(ve);Qe===void 0&&(Qe=n.getUniformBlockIndex(gt,ve.name),Fe.set(ve,Qe))}function at(ve,gt){const Qe=u.get(gt).get(ve);c.get(gt)!==Qe&&(n.uniformBlockBinding(gt,Qe,ve.__bindingPointIndex),c.set(gt,Qe))}function Lt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},se=null,de={},p={},y=new WeakMap,v=[],_=null,S=!1,E=null,x=null,w=null,M=null,C=null,D=null,L=null,I=new Ut(0,0,0),N=0,P=!1,U=null,V=null,z=null,F=null,K=null,pe.set(0,0,n.canvas.width,n.canvas.height),ue.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:ye,disable:Ve,bindFramebuffer:Xe,drawBuffers:Ge,useProgram:rt,setBlending:te,setMaterial:Oe,setFlipSided:Be,setCullFace:Ne,setLineWidth:Me,setPolygonOffset:ct,setScissorTest:qe,activeTexture:ae,bindTexture:J,unbindTexture:Se,compressedTexImage2D:Ae,compressedTexImage3D:Ze,texImage2D:dt,texImage3D:wt,updateUBOMapping:jt,uniformBlockBinding:at,texStorage2D:kt,texStorage3D:$e,texSubImage2D:Re,texSubImage3D:lt,compressedTexSubImage2D:ut,compressedTexSubImage3D:Dt,scissor:At,viewport:vt,reset:Lt}}function sde(n,e,t,i,r,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new it,h=new WeakMap;let p;const y=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(ae,J){return v?new OffscreenCanvas(ae,J):zx("canvas")}function S(ae,J,Se){let Ae=1;const Ze=qe(ae);if((Ze.width>Se||Ze.height>Se)&&(Ae=Se/Math.max(Ze.width,Ze.height)),Ae<1)if(typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ae instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ae instanceof ImageBitmap||typeof VideoFrame<"u"&&ae instanceof VideoFrame){const Re=Math.floor(Ae*Ze.width),lt=Math.floor(Ae*Ze.height);p===void 0&&(p=_(Re,lt));const ut=J?_(Re,lt):p;return ut.width=Re,ut.height=lt,ut.getContext("2d").drawImage(ae,0,0,Re,lt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ze.width+"x"+Ze.height+") to ("+Re+"x"+lt+")."),ut}else return"data"in ae&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ze.width+"x"+Ze.height+")."),ae;return ae}function E(ae){return ae.generateMipmaps}function x(ae){n.generateMipmap(ae)}function w(ae){return ae.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ae.isWebGL3DRenderTarget?n.TEXTURE_3D:ae.isWebGLArrayRenderTarget||ae.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function M(ae,J,Se,Ae,Ze=!1){if(ae!==null){if(n[ae]!==void 0)return n[ae];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ae+"'")}let Re=J;if(J===n.RED&&(Se===n.FLOAT&&(Re=n.R32F),Se===n.HALF_FLOAT&&(Re=n.R16F),Se===n.UNSIGNED_BYTE&&(Re=n.R8)),J===n.RED_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Re=n.R8UI),Se===n.UNSIGNED_SHORT&&(Re=n.R16UI),Se===n.UNSIGNED_INT&&(Re=n.R32UI),Se===n.BYTE&&(Re=n.R8I),Se===n.SHORT&&(Re=n.R16I),Se===n.INT&&(Re=n.R32I)),J===n.RG&&(Se===n.FLOAT&&(Re=n.RG32F),Se===n.HALF_FLOAT&&(Re=n.RG16F),Se===n.UNSIGNED_BYTE&&(Re=n.RG8)),J===n.RG_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Re=n.RG8UI),Se===n.UNSIGNED_SHORT&&(Re=n.RG16UI),Se===n.UNSIGNED_INT&&(Re=n.RG32UI),Se===n.BYTE&&(Re=n.RG8I),Se===n.SHORT&&(Re=n.RG16I),Se===n.INT&&(Re=n.RG32I)),J===n.RGB_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Re=n.RGB8UI),Se===n.UNSIGNED_SHORT&&(Re=n.RGB16UI),Se===n.UNSIGNED_INT&&(Re=n.RGB32UI),Se===n.BYTE&&(Re=n.RGB8I),Se===n.SHORT&&(Re=n.RGB16I),Se===n.INT&&(Re=n.RGB32I)),J===n.RGBA_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Re=n.RGBA8UI),Se===n.UNSIGNED_SHORT&&(Re=n.RGBA16UI),Se===n.UNSIGNED_INT&&(Re=n.RGBA32UI),Se===n.BYTE&&(Re=n.RGBA8I),Se===n.SHORT&&(Re=n.RGBA16I),Se===n.INT&&(Re=n.RGBA32I)),J===n.RGB&&Se===n.UNSIGNED_INT_5_9_9_9_REV&&(Re=n.RGB9_E5),J===n.RGBA){const lt=Ze?Lx:ci.getTransfer(Ae);Se===n.FLOAT&&(Re=n.RGBA32F),Se===n.HALF_FLOAT&&(Re=n.RGBA16F),Se===n.UNSIGNED_BYTE&&(Re=lt===Bi?n.SRGB8_ALPHA8:n.RGBA8),Se===n.UNSIGNED_SHORT_4_4_4_4&&(Re=n.RGBA4),Se===n.UNSIGNED_SHORT_5_5_5_1&&(Re=n.RGB5_A1)}return(Re===n.R16F||Re===n.R32F||Re===n.RG16F||Re===n.RG32F||Re===n.RGBA16F||Re===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Re}function C(ae,J){let Se;return ae?J===null||J===Kh||J===U0?Se=n.DEPTH24_STENCIL8:J===Ro?Se=n.DEPTH32F_STENCIL8:J===L0&&(Se=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):J===null||J===Kh||J===U0?Se=n.DEPTH_COMPONENT24:J===Ro?Se=n.DEPTH_COMPONENT32F:J===L0&&(Se=n.DEPTH_COMPONENT16),Se}function D(ae,J){return E(ae)===!0||ae.isFramebufferTexture&&ae.minFilter!==Ea&&ae.minFilter!==hs?Math.log2(Math.max(J.width,J.height))+1:ae.mipmaps!==void 0&&ae.mipmaps.length>0?ae.mipmaps.length:ae.isCompressedTexture&&Array.isArray(ae.image)?J.mipmaps.length:1}function L(ae){const J=ae.target;J.removeEventListener("dispose",L),N(J),J.isVideoTexture&&h.delete(J)}function I(ae){const J=ae.target;J.removeEventListener("dispose",I),U(J)}function N(ae){const J=i.get(ae);if(J.__webglInit===void 0)return;const Se=ae.source,Ae=y.get(Se);if(Ae){const Ze=Ae[J.__cacheKey];Ze.usedTimes--,Ze.usedTimes===0&&P(ae),Object.keys(Ae).length===0&&y.delete(Se)}i.remove(ae)}function P(ae){const J=i.get(ae);n.deleteTexture(J.__webglTexture);const Se=ae.source,Ae=y.get(Se);delete Ae[J.__cacheKey],a.memory.textures--}function U(ae){const J=i.get(ae);if(ae.depthTexture&&(ae.depthTexture.dispose(),i.remove(ae.depthTexture)),ae.isWebGLCubeRenderTarget)for(let Ae=0;Ae<6;Ae++){if(Array.isArray(J.__webglFramebuffer[Ae]))for(let Ze=0;Ze<J.__webglFramebuffer[Ae].length;Ze++)n.deleteFramebuffer(J.__webglFramebuffer[Ae][Ze]);else n.deleteFramebuffer(J.__webglFramebuffer[Ae]);J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer[Ae])}else{if(Array.isArray(J.__webglFramebuffer))for(let Ae=0;Ae<J.__webglFramebuffer.length;Ae++)n.deleteFramebuffer(J.__webglFramebuffer[Ae]);else n.deleteFramebuffer(J.__webglFramebuffer);if(J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer),J.__webglMultisampledFramebuffer&&n.deleteFramebuffer(J.__webglMultisampledFramebuffer),J.__webglColorRenderbuffer)for(let Ae=0;Ae<J.__webglColorRenderbuffer.length;Ae++)J.__webglColorRenderbuffer[Ae]&&n.deleteRenderbuffer(J.__webglColorRenderbuffer[Ae]);J.__webglDepthRenderbuffer&&n.deleteRenderbuffer(J.__webglDepthRenderbuffer)}const Se=ae.textures;for(let Ae=0,Ze=Se.length;Ae<Ze;Ae++){const Re=i.get(Se[Ae]);Re.__webglTexture&&(n.deleteTexture(Re.__webglTexture),a.memory.textures--),i.remove(Se[Ae])}i.remove(ae)}let V=0;function z(){V=0}function F(){const ae=V;return ae>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ae+" texture units while this GPU supports only "+r.maxTextures),V+=1,ae}function K(ae){const J=[];return J.push(ae.wrapS),J.push(ae.wrapT),J.push(ae.wrapR||0),J.push(ae.magFilter),J.push(ae.minFilter),J.push(ae.anisotropy),J.push(ae.internalFormat),J.push(ae.format),J.push(ae.type),J.push(ae.generateMipmaps),J.push(ae.premultiplyAlpha),J.push(ae.flipY),J.push(ae.unpackAlignment),J.push(ae.colorSpace),J.join()}function ee(ae,J){const Se=i.get(ae);if(ae.isVideoTexture&&Me(ae),ae.isRenderTargetTexture===!1&&ae.version>0&&Se.__version!==ae.version){const Ae=ae.image;if(Ae===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ae.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ue(Se,ae,J);return}}t.bindTexture(n.TEXTURE_2D,Se.__webglTexture,n.TEXTURE0+J)}function q(ae,J){const Se=i.get(ae);if(ae.version>0&&Se.__version!==ae.version){ue(Se,ae,J);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Se.__webglTexture,n.TEXTURE0+J)}function $(ae,J){const Se=i.get(ae);if(ae.version>0&&Se.__version!==ae.version){ue(Se,ae,J);return}t.bindTexture(n.TEXTURE_3D,Se.__webglTexture,n.TEXTURE0+J)}function Q(ae,J){const Se=i.get(ae);if(ae.version>0&&Se.__version!==ae.version){ie(Se,ae,J);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Se.__webglTexture,n.TEXTURE0+J)}const se={[Ix]:n.REPEAT,[Sc]:n.CLAMP_TO_EDGE,[Px]:n.MIRRORED_REPEAT},de={[Ea]:n.NEAREST,[bN]:n.NEAREST_MIPMAP_NEAREST,[i0]:n.NEAREST_MIPMAP_LINEAR,[hs]:n.LINEAR,[Xb]:n.LINEAR_MIPMAP_NEAREST,[_f]:n.LINEAR_MIPMAP_LINEAR},Y={[vj]:n.NEVER,[Tj]:n.ALWAYS,[_j]:n.LESS,[RN]:n.LEQUAL,[bj]:n.EQUAL,[Ej]:n.GEQUAL,[xj]:n.GREATER,[Sj]:n.NOTEQUAL};function le(ae,J){if(J.type===Ro&&e.has("OES_texture_float_linear")===!1&&(J.magFilter===hs||J.magFilter===Xb||J.magFilter===i0||J.magFilter===_f||J.minFilter===hs||J.minFilter===Xb||J.minFilter===i0||J.minFilter===_f)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ae,n.TEXTURE_WRAP_S,se[J.wrapS]),n.texParameteri(ae,n.TEXTURE_WRAP_T,se[J.wrapT]),(ae===n.TEXTURE_3D||ae===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ae,n.TEXTURE_WRAP_R,se[J.wrapR]),n.texParameteri(ae,n.TEXTURE_MAG_FILTER,de[J.magFilter]),n.texParameteri(ae,n.TEXTURE_MIN_FILTER,de[J.minFilter]),J.compareFunction&&(n.texParameteri(ae,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ae,n.TEXTURE_COMPARE_FUNC,Y[J.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(J.magFilter===Ea||J.minFilter!==i0&&J.minFilter!==_f||J.type===Ro&&e.has("OES_texture_float_linear")===!1)return;if(J.anisotropy>1||i.get(J).__currentAnisotropy){const Se=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ae,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(J.anisotropy,r.getMaxAnisotropy())),i.get(J).__currentAnisotropy=J.anisotropy}}}function pe(ae,J){let Se=!1;ae.__webglInit===void 0&&(ae.__webglInit=!0,J.addEventListener("dispose",L));const Ae=J.source;let Ze=y.get(Ae);Ze===void 0&&(Ze={},y.set(Ae,Ze));const Re=K(J);if(Re!==ae.__cacheKey){Ze[Re]===void 0&&(Ze[Re]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,Se=!0),Ze[Re].usedTimes++;const lt=Ze[ae.__cacheKey];lt!==void 0&&(Ze[ae.__cacheKey].usedTimes--,lt.usedTimes===0&&P(J)),ae.__cacheKey=Re,ae.__webglTexture=Ze[Re].texture}return Se}function ue(ae,J,Se){let Ae=n.TEXTURE_2D;(J.isDataArrayTexture||J.isCompressedArrayTexture)&&(Ae=n.TEXTURE_2D_ARRAY),J.isData3DTexture&&(Ae=n.TEXTURE_3D);const Ze=pe(ae,J),Re=J.source;t.bindTexture(Ae,ae.__webglTexture,n.TEXTURE0+Se);const lt=i.get(Re);if(Re.version!==lt.__version||Ze===!0){t.activeTexture(n.TEXTURE0+Se);const ut=ci.getPrimaries(ci.workingColorSpace),Dt=J.colorSpace===Rh?null:ci.getPrimaries(J.colorSpace),kt=J.colorSpace===Rh||ut===Dt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,J.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,J.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,kt);let $e=S(J.image,!1,r.maxTextureSize);$e=ct(J,$e);const dt=s.convert(J.format,J.colorSpace),wt=s.convert(J.type);let At=M(J.internalFormat,dt,wt,J.colorSpace,J.isVideoTexture);le(Ae,J);let vt;const jt=J.mipmaps,at=J.isVideoTexture!==!0,Lt=lt.__version===void 0||Ze===!0,ve=Re.dataReady,gt=D(J,$e);if(J.isDepthTexture)At=C(J.format===z0,J.type),Lt&&(at?t.texStorage2D(n.TEXTURE_2D,1,At,$e.width,$e.height):t.texImage2D(n.TEXTURE_2D,0,At,$e.width,$e.height,0,dt,wt,null));else if(J.isDataTexture)if(jt.length>0){at&&Lt&&t.texStorage2D(n.TEXTURE_2D,gt,At,jt[0].width,jt[0].height);for(let Fe=0,Qe=jt.length;Fe<Qe;Fe++)vt=jt[Fe],at?ve&&t.texSubImage2D(n.TEXTURE_2D,Fe,0,0,vt.width,vt.height,dt,wt,vt.data):t.texImage2D(n.TEXTURE_2D,Fe,At,vt.width,vt.height,0,dt,wt,vt.data);J.generateMipmaps=!1}else at?(Lt&&t.texStorage2D(n.TEXTURE_2D,gt,At,$e.width,$e.height),ve&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,$e.width,$e.height,dt,wt,$e.data)):t.texImage2D(n.TEXTURE_2D,0,At,$e.width,$e.height,0,dt,wt,$e.data);else if(J.isCompressedTexture)if(J.isCompressedArrayTexture){at&&Lt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,gt,At,jt[0].width,jt[0].height,$e.depth);for(let Fe=0,Qe=jt.length;Fe<Qe;Fe++)if(vt=jt[Fe],J.format!==Qa)if(dt!==null)if(at){if(ve)if(J.layerUpdates.size>0){const xt=iP(vt.width,vt.height,J.format,J.type);for(const _t of J.layerUpdates){const Zt=vt.data.subarray(_t*xt/vt.data.BYTES_PER_ELEMENT,(_t+1)*xt/vt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Fe,0,0,_t,vt.width,vt.height,1,dt,Zt)}J.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Fe,0,0,0,vt.width,vt.height,$e.depth,dt,vt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Fe,At,vt.width,vt.height,$e.depth,0,vt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else at?ve&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Fe,0,0,0,vt.width,vt.height,$e.depth,dt,wt,vt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Fe,At,vt.width,vt.height,$e.depth,0,dt,wt,vt.data)}else{at&&Lt&&t.texStorage2D(n.TEXTURE_2D,gt,At,jt[0].width,jt[0].height);for(let Fe=0,Qe=jt.length;Fe<Qe;Fe++)vt=jt[Fe],J.format!==Qa?dt!==null?at?ve&&t.compressedTexSubImage2D(n.TEXTURE_2D,Fe,0,0,vt.width,vt.height,dt,vt.data):t.compressedTexImage2D(n.TEXTURE_2D,Fe,At,vt.width,vt.height,0,vt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):at?ve&&t.texSubImage2D(n.TEXTURE_2D,Fe,0,0,vt.width,vt.height,dt,wt,vt.data):t.texImage2D(n.TEXTURE_2D,Fe,At,vt.width,vt.height,0,dt,wt,vt.data)}else if(J.isDataArrayTexture)if(at){if(Lt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,gt,At,$e.width,$e.height,$e.depth),ve)if(J.layerUpdates.size>0){const Fe=iP($e.width,$e.height,J.format,J.type);for(const Qe of J.layerUpdates){const xt=$e.data.subarray(Qe*Fe/$e.data.BYTES_PER_ELEMENT,(Qe+1)*Fe/$e.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Qe,$e.width,$e.height,1,dt,wt,xt)}J.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,$e.width,$e.height,$e.depth,dt,wt,$e.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,At,$e.width,$e.height,$e.depth,0,dt,wt,$e.data);else if(J.isData3DTexture)at?(Lt&&t.texStorage3D(n.TEXTURE_3D,gt,At,$e.width,$e.height,$e.depth),ve&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,$e.width,$e.height,$e.depth,dt,wt,$e.data)):t.texImage3D(n.TEXTURE_3D,0,At,$e.width,$e.height,$e.depth,0,dt,wt,$e.data);else if(J.isFramebufferTexture){if(Lt)if(at)t.texStorage2D(n.TEXTURE_2D,gt,At,$e.width,$e.height);else{let Fe=$e.width,Qe=$e.height;for(let xt=0;xt<gt;xt++)t.texImage2D(n.TEXTURE_2D,xt,At,Fe,Qe,0,dt,wt,null),Fe>>=1,Qe>>=1}}else if(jt.length>0){if(at&&Lt){const Fe=qe(jt[0]);t.texStorage2D(n.TEXTURE_2D,gt,At,Fe.width,Fe.height)}for(let Fe=0,Qe=jt.length;Fe<Qe;Fe++)vt=jt[Fe],at?ve&&t.texSubImage2D(n.TEXTURE_2D,Fe,0,0,dt,wt,vt):t.texImage2D(n.TEXTURE_2D,Fe,At,dt,wt,vt);J.generateMipmaps=!1}else if(at){if(Lt){const Fe=qe($e);t.texStorage2D(n.TEXTURE_2D,gt,At,Fe.width,Fe.height)}ve&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,dt,wt,$e)}else t.texImage2D(n.TEXTURE_2D,0,At,dt,wt,$e);E(J)&&x(Ae),lt.__version=Re.version,J.onUpdate&&J.onUpdate(J)}ae.__version=J.version}function ie(ae,J,Se){if(J.image.length!==6)return;const Ae=pe(ae,J),Ze=J.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ae.__webglTexture,n.TEXTURE0+Se);const Re=i.get(Ze);if(Ze.version!==Re.__version||Ae===!0){t.activeTexture(n.TEXTURE0+Se);const lt=ci.getPrimaries(ci.workingColorSpace),ut=J.colorSpace===Rh?null:ci.getPrimaries(J.colorSpace),Dt=J.colorSpace===Rh||lt===ut?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,J.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,J.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Dt);const kt=J.isCompressedTexture||J.image[0].isCompressedTexture,$e=J.image[0]&&J.image[0].isDataTexture,dt=[];for(let Qe=0;Qe<6;Qe++)!kt&&!$e?dt[Qe]=S(J.image[Qe],!0,r.maxCubemapSize):dt[Qe]=$e?J.image[Qe].image:J.image[Qe],dt[Qe]=ct(J,dt[Qe]);const wt=dt[0],At=s.convert(J.format,J.colorSpace),vt=s.convert(J.type),jt=M(J.internalFormat,At,vt,J.colorSpace),at=J.isVideoTexture!==!0,Lt=Re.__version===void 0||Ae===!0,ve=Ze.dataReady;let gt=D(J,wt);le(n.TEXTURE_CUBE_MAP,J);let Fe;if(kt){at&&Lt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,gt,jt,wt.width,wt.height);for(let Qe=0;Qe<6;Qe++){Fe=dt[Qe].mipmaps;for(let xt=0;xt<Fe.length;xt++){const _t=Fe[xt];J.format!==Qa?At!==null?at?ve&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt,0,0,_t.width,_t.height,At,_t.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt,jt,_t.width,_t.height,0,_t.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):at?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt,0,0,_t.width,_t.height,At,vt,_t.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt,jt,_t.width,_t.height,0,At,vt,_t.data)}}}else{if(Fe=J.mipmaps,at&&Lt){Fe.length>0&&gt++;const Qe=qe(dt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,gt,jt,Qe.width,Qe.height)}for(let Qe=0;Qe<6;Qe++)if($e){at?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,dt[Qe].width,dt[Qe].height,At,vt,dt[Qe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,jt,dt[Qe].width,dt[Qe].height,0,At,vt,dt[Qe].data);for(let xt=0;xt<Fe.length;xt++){const Zt=Fe[xt].image[Qe].image;at?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt+1,0,0,Zt.width,Zt.height,At,vt,Zt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt+1,jt,Zt.width,Zt.height,0,At,vt,Zt.data)}}else{at?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,At,vt,dt[Qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,jt,At,vt,dt[Qe]);for(let xt=0;xt<Fe.length;xt++){const _t=Fe[xt];at?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt+1,0,0,At,vt,_t.image[Qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt+1,jt,At,vt,_t.image[Qe])}}}E(J)&&x(n.TEXTURE_CUBE_MAP),Re.__version=Ze.version,J.onUpdate&&J.onUpdate(J)}ae.__version=J.version}function he(ae,J,Se,Ae,Ze,Re){const lt=s.convert(Se.format,Se.colorSpace),ut=s.convert(Se.type),Dt=M(Se.internalFormat,lt,ut,Se.colorSpace),kt=i.get(J),$e=i.get(Se);if($e.__renderTarget=J,!kt.__hasExternalTextures){const dt=Math.max(1,J.width>>Re),wt=Math.max(1,J.height>>Re);Ze===n.TEXTURE_3D||Ze===n.TEXTURE_2D_ARRAY?t.texImage3D(Ze,Re,Dt,dt,wt,J.depth,0,lt,ut,null):t.texImage2D(Ze,Re,Dt,dt,wt,0,lt,ut,null)}t.bindFramebuffer(n.FRAMEBUFFER,ae),Ne(J)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ae,Ze,$e.__webglTexture,0,Be(J)):(Ze===n.TEXTURE_2D||Ze>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ze<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ae,Ze,$e.__webglTexture,Re),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ye(ae,J,Se){if(n.bindRenderbuffer(n.RENDERBUFFER,ae),J.depthBuffer){const Ae=J.depthTexture,Ze=Ae&&Ae.isDepthTexture?Ae.type:null,Re=C(J.stencilBuffer,Ze),lt=J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ut=Be(J);Ne(J)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ut,Re,J.width,J.height):Se?n.renderbufferStorageMultisample(n.RENDERBUFFER,ut,Re,J.width,J.height):n.renderbufferStorage(n.RENDERBUFFER,Re,J.width,J.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,lt,n.RENDERBUFFER,ae)}else{const Ae=J.textures;for(let Ze=0;Ze<Ae.length;Ze++){const Re=Ae[Ze],lt=s.convert(Re.format,Re.colorSpace),ut=s.convert(Re.type),Dt=M(Re.internalFormat,lt,ut,Re.colorSpace),kt=Be(J);Se&&Ne(J)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,kt,Dt,J.width,J.height):Ne(J)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,kt,Dt,J.width,J.height):n.renderbufferStorage(n.RENDERBUFFER,Dt,J.width,J.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ve(ae,J){if(J&&J.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ae),!(J.depthTexture&&J.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ae=i.get(J.depthTexture);Ae.__renderTarget=J,(!Ae.__webglTexture||J.depthTexture.image.width!==J.width||J.depthTexture.image.height!==J.height)&&(J.depthTexture.image.width=J.width,J.depthTexture.image.height=J.height,J.depthTexture.needsUpdate=!0),ee(J.depthTexture,0);const Ze=Ae.__webglTexture,Re=Be(J);if(J.depthTexture.format===k0)Ne(J)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ze,0,Re):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ze,0);else if(J.depthTexture.format===z0)Ne(J)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ze,0,Re):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ze,0);else throw new Error("Unknown depthTexture format")}function Xe(ae){const J=i.get(ae),Se=ae.isWebGLCubeRenderTarget===!0;if(J.__boundDepthTexture!==ae.depthTexture){const Ae=ae.depthTexture;if(J.__depthDisposeCallback&&J.__depthDisposeCallback(),Ae){const Ze=()=>{delete J.__boundDepthTexture,delete J.__depthDisposeCallback,Ae.removeEventListener("dispose",Ze)};Ae.addEventListener("dispose",Ze),J.__depthDisposeCallback=Ze}J.__boundDepthTexture=Ae}if(ae.depthTexture&&!J.__autoAllocateDepthBuffer){if(Se)throw new Error("target.depthTexture not supported in Cube render targets");const Ae=ae.texture.mipmaps;Ae&&Ae.length>0?Ve(J.__webglFramebuffer[0],ae):Ve(J.__webglFramebuffer,ae)}else if(Se){J.__webglDepthbuffer=[];for(let Ae=0;Ae<6;Ae++)if(t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer[Ae]),J.__webglDepthbuffer[Ae]===void 0)J.__webglDepthbuffer[Ae]=n.createRenderbuffer(),ye(J.__webglDepthbuffer[Ae],ae,!1);else{const Ze=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Re=J.__webglDepthbuffer[Ae];n.bindRenderbuffer(n.RENDERBUFFER,Re),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ze,n.RENDERBUFFER,Re)}}else{const Ae=ae.texture.mipmaps;if(Ae&&Ae.length>0?t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer),J.__webglDepthbuffer===void 0)J.__webglDepthbuffer=n.createRenderbuffer(),ye(J.__webglDepthbuffer,ae,!1);else{const Ze=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Re=J.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Re),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ze,n.RENDERBUFFER,Re)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ge(ae,J,Se){const Ae=i.get(ae);J!==void 0&&he(Ae.__webglFramebuffer,ae,ae.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Se!==void 0&&Xe(ae)}function rt(ae){const J=ae.texture,Se=i.get(ae),Ae=i.get(J);ae.addEventListener("dispose",I);const Ze=ae.textures,Re=ae.isWebGLCubeRenderTarget===!0,lt=Ze.length>1;if(lt||(Ae.__webglTexture===void 0&&(Ae.__webglTexture=n.createTexture()),Ae.__version=J.version,a.memory.textures++),Re){Se.__webglFramebuffer=[];for(let ut=0;ut<6;ut++)if(J.mipmaps&&J.mipmaps.length>0){Se.__webglFramebuffer[ut]=[];for(let Dt=0;Dt<J.mipmaps.length;Dt++)Se.__webglFramebuffer[ut][Dt]=n.createFramebuffer()}else Se.__webglFramebuffer[ut]=n.createFramebuffer()}else{if(J.mipmaps&&J.mipmaps.length>0){Se.__webglFramebuffer=[];for(let ut=0;ut<J.mipmaps.length;ut++)Se.__webglFramebuffer[ut]=n.createFramebuffer()}else Se.__webglFramebuffer=n.createFramebuffer();if(lt)for(let ut=0,Dt=Ze.length;ut<Dt;ut++){const kt=i.get(Ze[ut]);kt.__webglTexture===void 0&&(kt.__webglTexture=n.createTexture(),a.memory.textures++)}if(ae.samples>0&&Ne(ae)===!1){Se.__webglMultisampledFramebuffer=n.createFramebuffer(),Se.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Se.__webglMultisampledFramebuffer);for(let ut=0;ut<Ze.length;ut++){const Dt=Ze[ut];Se.__webglColorRenderbuffer[ut]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Se.__webglColorRenderbuffer[ut]);const kt=s.convert(Dt.format,Dt.colorSpace),$e=s.convert(Dt.type),dt=M(Dt.internalFormat,kt,$e,Dt.colorSpace,ae.isXRRenderTarget===!0),wt=Be(ae);n.renderbufferStorageMultisample(n.RENDERBUFFER,wt,dt,ae.width,ae.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ut,n.RENDERBUFFER,Se.__webglColorRenderbuffer[ut])}n.bindRenderbuffer(n.RENDERBUFFER,null),ae.depthBuffer&&(Se.__webglDepthRenderbuffer=n.createRenderbuffer(),ye(Se.__webglDepthRenderbuffer,ae,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Re){t.bindTexture(n.TEXTURE_CUBE_MAP,Ae.__webglTexture),le(n.TEXTURE_CUBE_MAP,J);for(let ut=0;ut<6;ut++)if(J.mipmaps&&J.mipmaps.length>0)for(let Dt=0;Dt<J.mipmaps.length;Dt++)he(Se.__webglFramebuffer[ut][Dt],ae,J,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ut,Dt);else he(Se.__webglFramebuffer[ut],ae,J,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ut,0);E(J)&&x(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(lt){for(let ut=0,Dt=Ze.length;ut<Dt;ut++){const kt=Ze[ut],$e=i.get(kt);t.bindTexture(n.TEXTURE_2D,$e.__webglTexture),le(n.TEXTURE_2D,kt),he(Se.__webglFramebuffer,ae,kt,n.COLOR_ATTACHMENT0+ut,n.TEXTURE_2D,0),E(kt)&&x(n.TEXTURE_2D)}t.unbindTexture()}else{let ut=n.TEXTURE_2D;if((ae.isWebGL3DRenderTarget||ae.isWebGLArrayRenderTarget)&&(ut=ae.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(ut,Ae.__webglTexture),le(ut,J),J.mipmaps&&J.mipmaps.length>0)for(let Dt=0;Dt<J.mipmaps.length;Dt++)he(Se.__webglFramebuffer[Dt],ae,J,n.COLOR_ATTACHMENT0,ut,Dt);else he(Se.__webglFramebuffer,ae,J,n.COLOR_ATTACHMENT0,ut,0);E(J)&&x(ut),t.unbindTexture()}ae.depthBuffer&&Xe(ae)}function ot(ae){const J=ae.textures;for(let Se=0,Ae=J.length;Se<Ae;Se++){const Ze=J[Se];if(E(Ze)){const Re=w(ae),lt=i.get(Ze).__webglTexture;t.bindTexture(Re,lt),x(Re),t.unbindTexture()}}}const pt=[],te=[];function Oe(ae){if(ae.samples>0){if(Ne(ae)===!1){const J=ae.textures,Se=ae.width,Ae=ae.height;let Ze=n.COLOR_BUFFER_BIT;const Re=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,lt=i.get(ae),ut=J.length>1;if(ut)for(let kt=0;kt<J.length;kt++)t.bindFramebuffer(n.FRAMEBUFFER,lt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+kt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,lt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+kt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,lt.__webglMultisampledFramebuffer);const Dt=ae.texture.mipmaps;Dt&&Dt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,lt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,lt.__webglFramebuffer);for(let kt=0;kt<J.length;kt++){if(ae.resolveDepthBuffer&&(ae.depthBuffer&&(Ze|=n.DEPTH_BUFFER_BIT),ae.stencilBuffer&&ae.resolveStencilBuffer&&(Ze|=n.STENCIL_BUFFER_BIT)),ut){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,lt.__webglColorRenderbuffer[kt]);const $e=i.get(J[kt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,$e,0)}n.blitFramebuffer(0,0,Se,Ae,0,0,Se,Ae,Ze,n.NEAREST),c===!0&&(pt.length=0,te.length=0,pt.push(n.COLOR_ATTACHMENT0+kt),ae.depthBuffer&&ae.resolveDepthBuffer===!1&&(pt.push(Re),te.push(Re),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,te)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,pt))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ut)for(let kt=0;kt<J.length;kt++){t.bindFramebuffer(n.FRAMEBUFFER,lt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+kt,n.RENDERBUFFER,lt.__webglColorRenderbuffer[kt]);const $e=i.get(J[kt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,lt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+kt,n.TEXTURE_2D,$e,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,lt.__webglMultisampledFramebuffer)}else if(ae.depthBuffer&&ae.resolveDepthBuffer===!1&&c){const J=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[J])}}}function Be(ae){return Math.min(r.maxSamples,ae.samples)}function Ne(ae){const J=i.get(ae);return ae.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&J.__useRenderToTexture!==!1}function Me(ae){const J=a.render.frame;h.get(ae)!==J&&(h.set(ae,J),ae.update())}function ct(ae,J){const Se=ae.colorSpace,Ae=ae.format,Ze=ae.type;return ae.isCompressedTexture===!0||ae.isVideoTexture===!0||Se!==Hp&&Se!==Rh&&(ci.getTransfer(Se)===Bi?(Ae!==Qa||Ze!==wc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Se)),J}function qe(ae){return typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement?(u.width=ae.naturalWidth||ae.width,u.height=ae.naturalHeight||ae.height):typeof VideoFrame<"u"&&ae instanceof VideoFrame?(u.width=ae.displayWidth,u.height=ae.displayHeight):(u.width=ae.width,u.height=ae.height),u}this.allocateTextureUnit=F,this.resetTextureUnits=z,this.setTexture2D=ee,this.setTexture2DArray=q,this.setTexture3D=$,this.setTextureCube=Q,this.rebindTextures=Ge,this.setupRenderTarget=rt,this.updateRenderTargetMipmap=ot,this.updateMultisampleRenderTarget=Oe,this.setupDepthRenderbuffer=Xe,this.setupFrameBufferTexture=he,this.useMultisampledRTT=Ne}function DG(n,e){function t(i,r=Rh){let s;const a=ci.getTransfer(r);if(i===wc)return n.UNSIGNED_BYTE;if(i===wA)return n.UNSIGNED_SHORT_4_4_4_4;if(i===CA)return n.UNSIGNED_SHORT_5_5_5_1;if(i===EN)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===xN)return n.BYTE;if(i===SN)return n.SHORT;if(i===L0)return n.UNSIGNED_SHORT;if(i===TA)return n.INT;if(i===Kh)return n.UNSIGNED_INT;if(i===Ro)return n.FLOAT;if(i===sy)return n.HALF_FLOAT;if(i===TN)return n.ALPHA;if(i===wN)return n.RGB;if(i===Qa)return n.RGBA;if(i===k0)return n.DEPTH_COMPONENT;if(i===z0)return n.DEPTH_STENCIL;if(i===AA)return n.RED;if(i===vS)return n.RED_INTEGER;if(i===CN)return n.RG;if(i===MA)return n.RG_INTEGER;if(i===RA)return n.RGBA_INTEGER;if(i===Yb||i===Kb||i===Zb||i===Qb)if(a===Bi)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===Yb)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Kb)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Zb)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Qb)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===Yb)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Kb)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Zb)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Qb)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===$2||i===X2||i===Y2||i===K2)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===$2)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===X2)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Y2)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===K2)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Z2||i===Q2||i===J2)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===Z2||i===Q2)return a===Bi?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===J2)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===eC||i===tC||i===nC||i===iC||i===rC||i===sC||i===aC||i===oC||i===lC||i===cC||i===uC||i===fC||i===hC||i===dC)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===eC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===tC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===nC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===iC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===rC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===sC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===aC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===oC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===lC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===cC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===uC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===fC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===hC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===dC)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Jb||i===pC||i===mC)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===Jb)return a===Bi?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===pC)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===mC)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===AN||i===gC||i===yC||i===vC)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===Jb)return s.COMPRESSED_RED_RGTC1_EXT;if(i===gC)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===yC)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===vC)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===U0?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const ade=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,ode=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class lde{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new ts,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new _u({vertexShader:ade,fragmentShader:ode,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new es(new y_(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class cde extends Df{constructor(e,t){super();const i=this;let r=null,s=1,a=null,o="local-floor",c=1,u=null,h=null,p=null,y=null,v=null,_=null;const S=new lde,E=t.getContextAttributes();let x=null,w=null;const M=[],C=[],D=new it;let L=null;const I=new ea;I.viewport=new pi;const N=new ea;N.viewport=new pi;const P=[I,N],U=new SG;let V=null,z=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ue){let ie=M[ue];return ie===void 0&&(ie=new Zw,M[ue]=ie),ie.getTargetRaySpace()},this.getControllerGrip=function(ue){let ie=M[ue];return ie===void 0&&(ie=new Zw,M[ue]=ie),ie.getGripSpace()},this.getHand=function(ue){let ie=M[ue];return ie===void 0&&(ie=new Zw,M[ue]=ie),ie.getHandSpace()};function F(ue){const ie=C.indexOf(ue.inputSource);if(ie===-1)return;const he=M[ie];he!==void 0&&(he.update(ue.inputSource,ue.frame,u||a),he.dispatchEvent({type:ue.type,data:ue.inputSource}))}function K(){r.removeEventListener("select",F),r.removeEventListener("selectstart",F),r.removeEventListener("selectend",F),r.removeEventListener("squeeze",F),r.removeEventListener("squeezestart",F),r.removeEventListener("squeezeend",F),r.removeEventListener("end",K),r.removeEventListener("inputsourceschange",ee);for(let ue=0;ue<M.length;ue++){const ie=C[ue];ie!==null&&(C[ue]=null,M[ue].disconnect(ie))}V=null,z=null,S.reset(),e.setRenderTarget(x),v=null,y=null,p=null,r=null,w=null,pe.stop(),i.isPresenting=!1,e.setPixelRatio(L),e.setSize(D.width,D.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ue){s=ue,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ue){o=ue,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(ue){u=ue},this.getBaseLayer=function(){return y!==null?y:v},this.getBinding=function(){return p},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(ue){if(r=ue,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",F),r.addEventListener("selectstart",F),r.addEventListener("selectend",F),r.addEventListener("squeeze",F),r.addEventListener("squeezestart",F),r.addEventListener("squeezeend",F),r.addEventListener("end",K),r.addEventListener("inputsourceschange",ee),E.xrCompatible!==!0&&await t.makeXRCompatible(),L=e.getPixelRatio(),e.getSize(D),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let he=null,ye=null,Ve=null;E.depth&&(Ve=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,he=E.stencil?z0:k0,ye=E.stencil?U0:Kh);const Xe={colorFormat:t.RGBA8,depthFormat:Ve,scaleFactor:s};p=new XRWebGLBinding(r,t),y=p.createProjectionLayer(Xe),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),w=new vu(y.textureWidth,y.textureHeight,{format:Qa,type:wc,depthTexture:new xS(y.textureWidth,y.textureHeight,ye,void 0,void 0,void 0,void 0,void 0,void 0,he),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const he={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(r,t,he),r.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),w=new vu(v.framebufferWidth,v.framebufferHeight,{format:Qa,type:wc,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(c),u=null,a=await r.requestReferenceSpace(o),pe.setContext(r),pe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function ee(ue){for(let ie=0;ie<ue.removed.length;ie++){const he=ue.removed[ie],ye=C.indexOf(he);ye>=0&&(C[ye]=null,M[ye].disconnect(he))}for(let ie=0;ie<ue.added.length;ie++){const he=ue.added[ie];let ye=C.indexOf(he);if(ye===-1){for(let Xe=0;Xe<M.length;Xe++)if(Xe>=C.length){C.push(he),ye=Xe;break}else if(C[Xe]===null){C[Xe]=he,ye=Xe;break}if(ye===-1)break}const Ve=M[ye];Ve&&Ve.connect(he)}}const q=new fe,$=new fe;function Q(ue,ie,he){q.setFromMatrixPosition(ie.matrixWorld),$.setFromMatrixPosition(he.matrixWorld);const ye=q.distanceTo($),Ve=ie.projectionMatrix.elements,Xe=he.projectionMatrix.elements,Ge=Ve[14]/(Ve[10]-1),rt=Ve[14]/(Ve[10]+1),ot=(Ve[9]+1)/Ve[5],pt=(Ve[9]-1)/Ve[5],te=(Ve[8]-1)/Ve[0],Oe=(Xe[8]+1)/Xe[0],Be=Ge*te,Ne=Ge*Oe,Me=ye/(-te+Oe),ct=Me*-te;if(ie.matrixWorld.decompose(ue.position,ue.quaternion,ue.scale),ue.translateX(ct),ue.translateZ(Me),ue.matrixWorld.compose(ue.position,ue.quaternion,ue.scale),ue.matrixWorldInverse.copy(ue.matrixWorld).invert(),Ve[10]===-1)ue.projectionMatrix.copy(ie.projectionMatrix),ue.projectionMatrixInverse.copy(ie.projectionMatrixInverse);else{const qe=Ge+Me,ae=rt+Me,J=Be-ct,Se=Ne+(ye-ct),Ae=ot*rt/ae*qe,Ze=pt*rt/ae*qe;ue.projectionMatrix.makePerspective(J,Se,Ae,Ze,qe,ae),ue.projectionMatrixInverse.copy(ue.projectionMatrix).invert()}}function se(ue,ie){ie===null?ue.matrixWorld.copy(ue.matrix):ue.matrixWorld.multiplyMatrices(ie.matrixWorld,ue.matrix),ue.matrixWorldInverse.copy(ue.matrixWorld).invert()}this.updateCamera=function(ue){if(r===null)return;let ie=ue.near,he=ue.far;S.texture!==null&&(S.depthNear>0&&(ie=S.depthNear),S.depthFar>0&&(he=S.depthFar)),U.near=N.near=I.near=ie,U.far=N.far=I.far=he,(V!==U.near||z!==U.far)&&(r.updateRenderState({depthNear:U.near,depthFar:U.far}),V=U.near,z=U.far),I.layers.mask=ue.layers.mask|2,N.layers.mask=ue.layers.mask|4,U.layers.mask=I.layers.mask|N.layers.mask;const ye=ue.parent,Ve=U.cameras;se(U,ye);for(let Xe=0;Xe<Ve.length;Xe++)se(Ve[Xe],ye);Ve.length===2?Q(U,I,N):U.projectionMatrix.copy(I.projectionMatrix),de(ue,U,ye)};function de(ue,ie,he){he===null?ue.matrix.copy(ie.matrixWorld):(ue.matrix.copy(he.matrixWorld),ue.matrix.invert(),ue.matrix.multiply(ie.matrixWorld)),ue.matrix.decompose(ue.position,ue.quaternion,ue.scale),ue.updateMatrixWorld(!0),ue.projectionMatrix.copy(ie.projectionMatrix),ue.projectionMatrixInverse.copy(ie.projectionMatrixInverse),ue.isPerspectiveCamera&&(ue.fov=B0*2*Math.atan(1/ue.projectionMatrix.elements[5]),ue.zoom=1)}this.getCamera=function(){return U},this.getFoveation=function(){if(!(y===null&&v===null))return c},this.setFoveation=function(ue){c=ue,y!==null&&(y.fixedFoveation=ue),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=ue)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(U)};let Y=null;function le(ue,ie){if(h=ie.getViewerPose(u||a),_=ie,h!==null){const he=h.views;v!==null&&(e.setRenderTargetFramebuffer(w,v.framebuffer),e.setRenderTarget(w));let ye=!1;he.length!==U.cameras.length&&(U.cameras.length=0,ye=!0);for(let Ge=0;Ge<he.length;Ge++){const rt=he[Ge];let ot=null;if(v!==null)ot=v.getViewport(rt);else{const te=p.getViewSubImage(y,rt);ot=te.viewport,Ge===0&&(e.setRenderTargetTextures(w,te.colorTexture,te.depthStencilTexture),e.setRenderTarget(w))}let pt=P[Ge];pt===void 0&&(pt=new ea,pt.layers.enable(Ge),pt.viewport=new pi,P[Ge]=pt),pt.matrix.fromArray(rt.transform.matrix),pt.matrix.decompose(pt.position,pt.quaternion,pt.scale),pt.projectionMatrix.fromArray(rt.projectionMatrix),pt.projectionMatrixInverse.copy(pt.projectionMatrix).invert(),pt.viewport.set(ot.x,ot.y,ot.width,ot.height),Ge===0&&(U.matrix.copy(pt.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale)),ye===!0&&U.cameras.push(pt)}const Ve=r.enabledFeatures;if(Ve&&Ve.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&p){const Ge=p.getDepthInformation(he[0]);Ge&&Ge.isValid&&Ge.texture&&S.init(e,Ge,r.renderState)}}for(let he=0;he<M.length;he++){const ye=C[he],Ve=M[he];ye!==null&&Ve!==void 0&&Ve.update(ye,ie,u||a)}Y&&Y(ue,ie),ie.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ie}),_=null}const pe=new MG;pe.setAnimationLoop(le),this.setAnimationLoop=function(ue){Y=ue},this.dispose=function(){}}}const ag=new zl,ude=new an;function fde(n,e){function t(E,x){E.matrixAutoUpdate===!0&&E.updateMatrix(),x.value.copy(E.matrix)}function i(E,x){x.color.getRGB(E.fogColor.value,Oj(n)),x.isFog?(E.fogNear.value=x.near,E.fogFar.value=x.far):x.isFogExp2&&(E.fogDensity.value=x.density)}function r(E,x,w,M,C){x.isMeshBasicMaterial||x.isMeshLambertMaterial?s(E,x):x.isMeshToonMaterial?(s(E,x),p(E,x)):x.isMeshPhongMaterial?(s(E,x),h(E,x)):x.isMeshStandardMaterial?(s(E,x),y(E,x),x.isMeshPhysicalMaterial&&v(E,x,C)):x.isMeshMatcapMaterial?(s(E,x),_(E,x)):x.isMeshDepthMaterial?s(E,x):x.isMeshDistanceMaterial?(s(E,x),S(E,x)):x.isMeshNormalMaterial?s(E,x):x.isLineBasicMaterial?(a(E,x),x.isLineDashedMaterial&&o(E,x)):x.isPointsMaterial?c(E,x,w,M):x.isSpriteMaterial?u(E,x):x.isShadowMaterial?(E.color.value.copy(x.color),E.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function s(E,x){E.opacity.value=x.opacity,x.color&&E.diffuse.value.copy(x.color),x.emissive&&E.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(E.map.value=x.map,t(x.map,E.mapTransform)),x.alphaMap&&(E.alphaMap.value=x.alphaMap,t(x.alphaMap,E.alphaMapTransform)),x.bumpMap&&(E.bumpMap.value=x.bumpMap,t(x.bumpMap,E.bumpMapTransform),E.bumpScale.value=x.bumpScale,x.side===Oo&&(E.bumpScale.value*=-1)),x.normalMap&&(E.normalMap.value=x.normalMap,t(x.normalMap,E.normalMapTransform),E.normalScale.value.copy(x.normalScale),x.side===Oo&&E.normalScale.value.negate()),x.displacementMap&&(E.displacementMap.value=x.displacementMap,t(x.displacementMap,E.displacementMapTransform),E.displacementScale.value=x.displacementScale,E.displacementBias.value=x.displacementBias),x.emissiveMap&&(E.emissiveMap.value=x.emissiveMap,t(x.emissiveMap,E.emissiveMapTransform)),x.specularMap&&(E.specularMap.value=x.specularMap,t(x.specularMap,E.specularMapTransform)),x.alphaTest>0&&(E.alphaTest.value=x.alphaTest);const w=e.get(x),M=w.envMap,C=w.envMapRotation;M&&(E.envMap.value=M,ag.copy(C),ag.x*=-1,ag.y*=-1,ag.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(ag.y*=-1,ag.z*=-1),E.envMapRotation.value.setFromMatrix4(ude.makeRotationFromEuler(ag)),E.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=x.reflectivity,E.ior.value=x.ior,E.refractionRatio.value=x.refractionRatio),x.lightMap&&(E.lightMap.value=x.lightMap,E.lightMapIntensity.value=x.lightMapIntensity,t(x.lightMap,E.lightMapTransform)),x.aoMap&&(E.aoMap.value=x.aoMap,E.aoMapIntensity.value=x.aoMapIntensity,t(x.aoMap,E.aoMapTransform))}function a(E,x){E.diffuse.value.copy(x.color),E.opacity.value=x.opacity,x.map&&(E.map.value=x.map,t(x.map,E.mapTransform))}function o(E,x){E.dashSize.value=x.dashSize,E.totalSize.value=x.dashSize+x.gapSize,E.scale.value=x.scale}function c(E,x,w,M){E.diffuse.value.copy(x.color),E.opacity.value=x.opacity,E.size.value=x.size*w,E.scale.value=M*.5,x.map&&(E.map.value=x.map,t(x.map,E.uvTransform)),x.alphaMap&&(E.alphaMap.value=x.alphaMap,t(x.alphaMap,E.alphaMapTransform)),x.alphaTest>0&&(E.alphaTest.value=x.alphaTest)}function u(E,x){E.diffuse.value.copy(x.color),E.opacity.value=x.opacity,E.rotation.value=x.rotation,x.map&&(E.map.value=x.map,t(x.map,E.mapTransform)),x.alphaMap&&(E.alphaMap.value=x.alphaMap,t(x.alphaMap,E.alphaMapTransform)),x.alphaTest>0&&(E.alphaTest.value=x.alphaTest)}function h(E,x){E.specular.value.copy(x.specular),E.shininess.value=Math.max(x.shininess,1e-4)}function p(E,x){x.gradientMap&&(E.gradientMap.value=x.gradientMap)}function y(E,x){E.metalness.value=x.metalness,x.metalnessMap&&(E.metalnessMap.value=x.metalnessMap,t(x.metalnessMap,E.metalnessMapTransform)),E.roughness.value=x.roughness,x.roughnessMap&&(E.roughnessMap.value=x.roughnessMap,t(x.roughnessMap,E.roughnessMapTransform)),x.envMap&&(E.envMapIntensity.value=x.envMapIntensity)}function v(E,x,w){E.ior.value=x.ior,x.sheen>0&&(E.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),E.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(E.sheenColorMap.value=x.sheenColorMap,t(x.sheenColorMap,E.sheenColorMapTransform)),x.sheenRoughnessMap&&(E.sheenRoughnessMap.value=x.sheenRoughnessMap,t(x.sheenRoughnessMap,E.sheenRoughnessMapTransform))),x.clearcoat>0&&(E.clearcoat.value=x.clearcoat,E.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(E.clearcoatMap.value=x.clearcoatMap,t(x.clearcoatMap,E.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,t(x.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(E.clearcoatNormalMap.value=x.clearcoatNormalMap,t(x.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===Oo&&E.clearcoatNormalScale.value.negate())),x.dispersion>0&&(E.dispersion.value=x.dispersion),x.iridescence>0&&(E.iridescence.value=x.iridescence,E.iridescenceIOR.value=x.iridescenceIOR,E.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(E.iridescenceMap.value=x.iridescenceMap,t(x.iridescenceMap,E.iridescenceMapTransform)),x.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=x.iridescenceThicknessMap,t(x.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),x.transmission>0&&(E.transmission.value=x.transmission,E.transmissionSamplerMap.value=w.texture,E.transmissionSamplerSize.value.set(w.width,w.height),x.transmissionMap&&(E.transmissionMap.value=x.transmissionMap,t(x.transmissionMap,E.transmissionMapTransform)),E.thickness.value=x.thickness,x.thicknessMap&&(E.thicknessMap.value=x.thicknessMap,t(x.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=x.attenuationDistance,E.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(E.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(E.anisotropyMap.value=x.anisotropyMap,t(x.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=x.specularIntensity,E.specularColor.value.copy(x.specularColor),x.specularColorMap&&(E.specularColorMap.value=x.specularColorMap,t(x.specularColorMap,E.specularColorMapTransform)),x.specularIntensityMap&&(E.specularIntensityMap.value=x.specularIntensityMap,t(x.specularIntensityMap,E.specularIntensityMapTransform))}function _(E,x){x.matcap&&(E.matcap.value=x.matcap)}function S(E,x){const w=e.get(x).light;E.referencePosition.value.setFromMatrixPosition(w.matrixWorld),E.nearDistance.value=w.shadow.camera.near,E.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function hde(n,e,t,i){let r={},s={},a=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function c(w,M){const C=M.program;i.uniformBlockBinding(w,C)}function u(w,M){let C=r[w.id];C===void 0&&(_(w),C=h(w),r[w.id]=C,w.addEventListener("dispose",E));const D=M.program;i.updateUBOMapping(w,D);const L=e.render.frame;s[w.id]!==L&&(y(w),s[w.id]=L)}function h(w){const M=p();w.__bindingPointIndex=M;const C=n.createBuffer(),D=w.__size,L=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,D,L),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,M,C),C}function p(){for(let w=0;w<o;w++)if(a.indexOf(w)===-1)return a.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(w){const M=r[w.id],C=w.uniforms,D=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,M);for(let L=0,I=C.length;L<I;L++){const N=Array.isArray(C[L])?C[L]:[C[L]];for(let P=0,U=N.length;P<U;P++){const V=N[P];if(v(V,L,P,D)===!0){const z=V.__offset,F=Array.isArray(V.value)?V.value:[V.value];let K=0;for(let ee=0;ee<F.length;ee++){const q=F[ee],$=S(q);typeof q=="number"||typeof q=="boolean"?(V.__data[0]=q,n.bufferSubData(n.UNIFORM_BUFFER,z+K,V.__data)):q.isMatrix3?(V.__data[0]=q.elements[0],V.__data[1]=q.elements[1],V.__data[2]=q.elements[2],V.__data[3]=0,V.__data[4]=q.elements[3],V.__data[5]=q.elements[4],V.__data[6]=q.elements[5],V.__data[7]=0,V.__data[8]=q.elements[6],V.__data[9]=q.elements[7],V.__data[10]=q.elements[8],V.__data[11]=0):(q.toArray(V.__data,K),K+=$.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,z,V.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(w,M,C,D){const L=w.value,I=M+"_"+C;if(D[I]===void 0)return typeof L=="number"||typeof L=="boolean"?D[I]=L:D[I]=L.clone(),!0;{const N=D[I];if(typeof L=="number"||typeof L=="boolean"){if(N!==L)return D[I]=L,!0}else if(N.equals(L)===!1)return N.copy(L),!0}return!1}function _(w){const M=w.uniforms;let C=0;const D=16;for(let I=0,N=M.length;I<N;I++){const P=Array.isArray(M[I])?M[I]:[M[I]];for(let U=0,V=P.length;U<V;U++){const z=P[U],F=Array.isArray(z.value)?z.value:[z.value];for(let K=0,ee=F.length;K<ee;K++){const q=F[K],$=S(q),Q=C%D,se=Q%$.boundary,de=Q+se;C+=se,de!==0&&D-de<$.storage&&(C+=D-de),z.__data=new Float32Array($.storage/Float32Array.BYTES_PER_ELEMENT),z.__offset=C,C+=$.storage}}}const L=C%D;return L>0&&(C+=D-L),w.__size=C,w.__cache={},this}function S(w){const M={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(M.boundary=4,M.storage=4):w.isVector2?(M.boundary=8,M.storage=8):w.isVector3||w.isColor?(M.boundary=16,M.storage=12):w.isVector4?(M.boundary=16,M.storage=16):w.isMatrix3?(M.boundary=48,M.storage=48):w.isMatrix4?(M.boundary=64,M.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),M}function E(w){const M=w.target;M.removeEventListener("dispose",E);const C=a.indexOf(M.__bindingPointIndex);a.splice(C,1),n.deleteBuffer(r[M.id]),delete r[M.id],delete s[M.id]}function x(){for(const w in r)n.deleteBuffer(r[w]);a=[],r={},s={}}return{bind:c,update:u,dispose:x}}class NG{constructor(e={}){const{canvas:t=Aj(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1,reverseDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let v;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=i.getContextAttributes().alpha}else v=a;const _=new Uint32Array(4),S=new Int32Array(4);let E=null,x=null;const w=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Cf,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const C=this;let D=!1;this._outputColorSpace=ba;let L=0,I=0,N=null,P=-1,U=null;const V=new pi,z=new pi;let F=null;const K=new Ut(0);let ee=0,q=t.width,$=t.height,Q=1,se=null,de=null;const Y=new pi(0,0,q,$),le=new pi(0,0,q,$);let pe=!1;const ue=new p_;let ie=!1,he=!1;const ye=new an,Ve=new an,Xe=new fe,Ge=new pi,rt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ot=!1;function pt(){return N===null?Q:1}let te=i;function Oe(re,_e){return t.getContext(re,_e)}try{const re={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${xA}`),t.addEventListener("webglcontextlost",Qe,!1),t.addEventListener("webglcontextrestored",xt,!1),t.addEventListener("webglcontextcreationerror",_t,!1),te===null){const _e="webgl2";if(te=Oe(_e,re),te===null)throw Oe(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(re){throw console.error("THREE.WebGLRenderer: "+re.message),re}let Be,Ne,Me,ct,qe,ae,J,Se,Ae,Ze,Re,lt,ut,Dt,kt,$e,dt,wt,At,vt,jt,at,Lt,ve;function gt(){Be=new Tfe(te),Be.init(),at=new DG(te,Be),Ne=new yfe(te,Be,e,at),Me=new rde(te,Be),Ne.reverseDepthBuffer&&y&&Me.buffers.depth.setReversed(!0),ct=new Afe(te),qe=new qhe,ae=new sde(te,Be,Me,qe,Ne,at,ct),J=new _fe(C),Se=new Efe(C),Ae=new Dle(te),Lt=new mfe(te,Ae),Ze=new wfe(te,Ae,ct,Lt),Re=new Rfe(te,Ze,Ae,ct),At=new Mfe(te,Ne,ae),$e=new vfe(qe),lt=new Ghe(C,J,Se,Be,Ne,Lt,$e),ut=new fde(C,qe),Dt=new $he,kt=new Jhe(Be),wt=new pfe(C,J,Se,Me,Re,v,c),dt=new nde(C,Re,Ne),ve=new hde(te,ct,Ne,Me),vt=new gfe(te,Be,ct),jt=new Cfe(te,Be,ct),ct.programs=lt.programs,C.capabilities=Ne,C.extensions=Be,C.properties=qe,C.renderLists=Dt,C.shadowMap=dt,C.state=Me,C.info=ct}gt();const Fe=new cde(C,te);this.xr=Fe,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const re=Be.get("WEBGL_lose_context");re&&re.loseContext()},this.forceContextRestore=function(){const re=Be.get("WEBGL_lose_context");re&&re.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(re){re!==void 0&&(Q=re,this.setSize(q,$,!1))},this.getSize=function(re){return re.set(q,$)},this.setSize=function(re,_e,Le=!0){if(Fe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=re,$=_e,t.width=Math.floor(re*Q),t.height=Math.floor(_e*Q),Le===!0&&(t.style.width=re+"px",t.style.height=_e+"px"),this.setViewport(0,0,re,_e)},this.getDrawingBufferSize=function(re){return re.set(q*Q,$*Q).floor()},this.setDrawingBufferSize=function(re,_e,Le){q=re,$=_e,Q=Le,t.width=Math.floor(re*Le),t.height=Math.floor(_e*Le),this.setViewport(0,0,re,_e)},this.getCurrentViewport=function(re){return re.copy(V)},this.getViewport=function(re){return re.copy(Y)},this.setViewport=function(re,_e,Le,De){re.isVector4?Y.set(re.x,re.y,re.z,re.w):Y.set(re,_e,Le,De),Me.viewport(V.copy(Y).multiplyScalar(Q).round())},this.getScissor=function(re){return re.copy(le)},this.setScissor=function(re,_e,Le,De){re.isVector4?le.set(re.x,re.y,re.z,re.w):le.set(re,_e,Le,De),Me.scissor(z.copy(le).multiplyScalar(Q).round())},this.getScissorTest=function(){return pe},this.setScissorTest=function(re){Me.setScissorTest(pe=re)},this.setOpaqueSort=function(re){se=re},this.setTransparentSort=function(re){de=re},this.getClearColor=function(re){return re.copy(wt.getClearColor())},this.setClearColor=function(){wt.setClearColor(...arguments)},this.getClearAlpha=function(){return wt.getClearAlpha()},this.setClearAlpha=function(){wt.setClearAlpha(...arguments)},this.clear=function(re=!0,_e=!0,Le=!0){let De=0;if(re){let xe=!1;if(N!==null){const st=N.texture.format;xe=st===RA||st===MA||st===vS}if(xe){const st=N.texture.type,Tt=st===wc||st===Kh||st===L0||st===U0||st===wA||st===CA,Ct=wt.getClearColor(),Rt=wt.getClearAlpha(),sn=Ct.r,Jt=Ct.g,Gt=Ct.b;Tt?(_[0]=sn,_[1]=Jt,_[2]=Gt,_[3]=Rt,te.clearBufferuiv(te.COLOR,0,_)):(S[0]=sn,S[1]=Jt,S[2]=Gt,S[3]=Rt,te.clearBufferiv(te.COLOR,0,S))}else De|=te.COLOR_BUFFER_BIT}_e&&(De|=te.DEPTH_BUFFER_BIT),Le&&(De|=te.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),te.clear(De)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Qe,!1),t.removeEventListener("webglcontextrestored",xt,!1),t.removeEventListener("webglcontextcreationerror",_t,!1),wt.dispose(),Dt.dispose(),kt.dispose(),qe.dispose(),J.dispose(),Se.dispose(),Re.dispose(),Lt.dispose(),ve.dispose(),lt.dispose(),Fe.dispose(),Fe.removeEventListener("sessionstart",kn),Fe.removeEventListener("sessionend",vn),zn.stop()};function Qe(re){re.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function xt(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1;const re=ct.autoReset,_e=dt.enabled,Le=dt.autoUpdate,De=dt.needsUpdate,xe=dt.type;gt(),ct.autoReset=re,dt.enabled=_e,dt.autoUpdate=Le,dt.needsUpdate=De,dt.type=xe}function _t(re){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",re.statusMessage)}function Zt(re){const _e=re.target;_e.removeEventListener("dispose",Zt),$n(_e)}function $n(re){zt(re),qe.remove(re)}function zt(re){const _e=qe.get(re).programs;_e!==void 0&&(_e.forEach(function(Le){lt.releaseProgram(Le)}),re.isShaderMaterial&&lt.releaseShaderCache(re))}this.renderBufferDirect=function(re,_e,Le,De,xe,st){_e===null&&(_e=rt);const Tt=xe.isMesh&&xe.matrixWorld.determinant()<0,Ct=ll(re,_e,Le,De,xe);Me.setMaterial(De,Tt);let Rt=Le.index,sn=1;if(De.wireframe===!0){if(Rt=Ze.getWireframeAttribute(Le),Rt===void 0)return;sn=2}const Jt=Le.drawRange,Gt=Le.attributes.position;let Bn=Jt.start*sn,Ln=(Jt.start+Jt.count)*sn;st!==null&&(Bn=Math.max(Bn,st.start*sn),Ln=Math.min(Ln,(st.start+st.count)*sn)),Rt!==null?(Bn=Math.max(Bn,0),Ln=Math.min(Ln,Rt.count)):Gt!=null&&(Bn=Math.max(Bn,0),Ln=Math.min(Ln,Gt.count));const bi=Ln-Bn;if(bi<0||bi===1/0)return;Lt.setup(xe,De,Ct,Le,Rt);let Wn,on=vt;if(Rt!==null&&(Wn=Ae.get(Rt),on=jt,on.setIndex(Wn)),xe.isMesh)De.wireframe===!0?(Me.setLineWidth(De.wireframeLinewidth*pt()),on.setMode(te.LINES)):on.setMode(te.TRIANGLES);else if(xe.isLine){let $t=De.linewidth;$t===void 0&&($t=1),Me.setLineWidth($t*pt()),xe.isLineSegments?on.setMode(te.LINES):xe.isLineLoop?on.setMode(te.LINE_LOOP):on.setMode(te.LINE_STRIP)}else xe.isPoints?on.setMode(te.POINTS):xe.isSprite&&on.setMode(te.TRIANGLES);if(xe.isBatchedMesh)if(xe._multiDrawInstances!==null)Kw("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),on.renderMultiDrawInstances(xe._multiDrawStarts,xe._multiDrawCounts,xe._multiDrawCount,xe._multiDrawInstances);else if(Be.get("WEBGL_multi_draw"))on.renderMultiDraw(xe._multiDrawStarts,xe._multiDrawCounts,xe._multiDrawCount);else{const $t=xe._multiDrawStarts,hr=xe._multiDrawCounts,Gn=xe._multiDrawCount,ms=Rt?Ae.get(Rt).bytesPerElement:1,oa=qe.get(De).currentProgram.getUniforms();for(let nr=0;nr<Gn;nr++)oa.setValue(te,"_gl_DrawID",nr),on.render($t[nr]/ms,hr[nr])}else if(xe.isInstancedMesh)on.renderInstances(Bn,bi,xe.count);else if(Le.isInstancedBufferGeometry){const $t=Le._maxInstanceCount!==void 0?Le._maxInstanceCount:1/0,hr=Math.min(Le.instanceCount,$t);on.renderInstances(Bn,bi,hr)}else on.render(Bn,bi)};function Qt(re,_e,Le){re.transparent===!0&&re.side===gf&&re.forceSinglePass===!1?(re.side=Oo,re.needsUpdate=!0,dn(re,_e,Le),re.side=Xh,re.needsUpdate=!0,dn(re,_e,Le),re.side=gf):dn(re,_e,Le)}this.compile=function(re,_e,Le=null){Le===null&&(Le=re),x=kt.get(Le),x.init(_e),M.push(x),Le.traverseVisible(function(xe){xe.isLight&&xe.layers.test(_e.layers)&&(x.pushLight(xe),xe.castShadow&&x.pushShadow(xe))}),re!==Le&&re.traverseVisible(function(xe){xe.isLight&&xe.layers.test(_e.layers)&&(x.pushLight(xe),xe.castShadow&&x.pushShadow(xe))}),x.setupLights();const De=new Set;return re.traverse(function(xe){if(!(xe.isMesh||xe.isPoints||xe.isLine||xe.isSprite))return;const st=xe.material;if(st)if(Array.isArray(st))for(let Tt=0;Tt<st.length;Tt++){const Ct=st[Tt];Qt(Ct,Le,xe),De.add(Ct)}else Qt(st,Le,xe),De.add(st)}),x=M.pop(),De},this.compileAsync=function(re,_e,Le=null){const De=this.compile(re,_e,Le);return new Promise(xe=>{function st(){if(De.forEach(function(Tt){qe.get(Tt).currentProgram.isReady()&&De.delete(Tt)}),De.size===0){xe(re);return}setTimeout(st,10)}Be.get("KHR_parallel_shader_compile")!==null?st():setTimeout(st,10)})};let St=null;function Mt(re){St&&St(re)}function kn(){zn.stop()}function vn(){zn.start()}const zn=new MG;zn.setAnimationLoop(Mt),typeof self<"u"&&zn.setContext(self),this.setAnimationLoop=function(re){St=re,Fe.setAnimationLoop(re),re===null?zn.stop():zn.start()},Fe.addEventListener("sessionstart",kn),Fe.addEventListener("sessionend",vn),this.render=function(re,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(D===!0)return;if(re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),Fe.enabled===!0&&Fe.isPresenting===!0&&(Fe.cameraAutoUpdate===!0&&Fe.updateCamera(_e),_e=Fe.getCamera()),re.isScene===!0&&re.onBeforeRender(C,re,_e,N),x=kt.get(re,M.length),x.init(_e),M.push(x),Ve.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),ue.setFromProjectionMatrix(Ve),he=this.localClippingEnabled,ie=$e.init(this.clippingPlanes,he),E=Dt.get(re,w.length),E.init(),w.push(E),Fe.enabled===!0&&Fe.isPresenting===!0){const st=C.xr.getDepthSensingMesh();st!==null&&Li(st,_e,-1/0,C.sortObjects)}Li(re,_e,0,C.sortObjects),E.finish(),C.sortObjects===!0&&E.sort(se,de),ot=Fe.enabled===!1||Fe.isPresenting===!1||Fe.hasDepthSensing()===!1,ot&&wt.addToRenderList(E,re),this.info.render.frame++,ie===!0&&$e.beginShadows();const Le=x.state.shadowsArray;dt.render(Le,re,_e),ie===!0&&$e.endShadows(),this.info.autoReset===!0&&this.info.reset();const De=E.opaque,xe=E.transmissive;if(x.setupLights(),_e.isArrayCamera){const st=_e.cameras;if(xe.length>0)for(let Tt=0,Ct=st.length;Tt<Ct;Tt++){const Rt=st[Tt];$i(De,xe,re,Rt)}ot&&wt.render(re);for(let Tt=0,Ct=st.length;Tt<Ct;Tt++){const Rt=st[Tt];Rs(E,re,Rt,Rt.viewport)}}else xe.length>0&&$i(De,xe,re,_e),ot&&wt.render(re),Rs(E,re,_e);N!==null&&I===0&&(ae.updateMultisampleRenderTarget(N),ae.updateRenderTargetMipmap(N)),re.isScene===!0&&re.onAfterRender(C,re,_e),Lt.resetDefaultState(),P=-1,U=null,M.pop(),M.length>0?(x=M[M.length-1],ie===!0&&$e.setGlobalState(C.clippingPlanes,x.state.camera)):x=null,w.pop(),w.length>0?E=w[w.length-1]:E=null};function Li(re,_e,Le,De){if(re.visible===!1)return;if(re.layers.test(_e.layers)){if(re.isGroup)Le=re.renderOrder;else if(re.isLOD)re.autoUpdate===!0&&re.update(_e);else if(re.isLight)x.pushLight(re),re.castShadow&&x.pushShadow(re);else if(re.isSprite){if(!re.frustumCulled||ue.intersectsSprite(re)){De&&Ge.setFromMatrixPosition(re.matrixWorld).applyMatrix4(Ve);const Tt=Re.update(re),Ct=re.material;Ct.visible&&E.push(re,Tt,Ct,Le,Ge.z,null)}}else if((re.isMesh||re.isLine||re.isPoints)&&(!re.frustumCulled||ue.intersectsObject(re))){const Tt=Re.update(re),Ct=re.material;if(De&&(re.boundingSphere!==void 0?(re.boundingSphere===null&&re.computeBoundingSphere(),Ge.copy(re.boundingSphere.center)):(Tt.boundingSphere===null&&Tt.computeBoundingSphere(),Ge.copy(Tt.boundingSphere.center)),Ge.applyMatrix4(re.matrixWorld).applyMatrix4(Ve)),Array.isArray(Ct)){const Rt=Tt.groups;for(let sn=0,Jt=Rt.length;sn<Jt;sn++){const Gt=Rt[sn],Bn=Ct[Gt.materialIndex];Bn&&Bn.visible&&E.push(re,Tt,Bn,Le,Ge.z,Gt)}}else Ct.visible&&E.push(re,Tt,Ct,Le,Ge.z,null)}}const st=re.children;for(let Tt=0,Ct=st.length;Tt<Ct;Tt++)Li(st[Tt],_e,Le,De)}function Rs(re,_e,Le,De){const xe=re.opaque,st=re.transmissive,Tt=re.transparent;x.setupLightsView(Le),ie===!0&&$e.setGlobalState(C.clippingPlanes,Le),De&&Me.viewport(V.copy(De)),xe.length>0&&Fr(xe,_e,Le),st.length>0&&Fr(st,_e,Le),Tt.length>0&&Fr(Tt,_e,Le),Me.buffers.depth.setTest(!0),Me.buffers.depth.setMask(!0),Me.buffers.color.setMask(!0),Me.setPolygonOffset(!1)}function $i(re,_e,Le,De){if((Le.isScene===!0?Le.overrideMaterial:null)!==null)return;x.state.transmissionRenderTarget[De.id]===void 0&&(x.state.transmissionRenderTarget[De.id]=new vu(1,1,{generateMipmaps:!0,type:Be.has("EXT_color_buffer_half_float")||Be.has("EXT_color_buffer_float")?sy:wc,minFilter:_f,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ci.workingColorSpace}));const st=x.state.transmissionRenderTarget[De.id],Tt=De.viewport||V;st.setSize(Tt.z*C.transmissionResolutionScale,Tt.w*C.transmissionResolutionScale);const Ct=C.getRenderTarget();C.setRenderTarget(st),C.getClearColor(K),ee=C.getClearAlpha(),ee<1&&C.setClearColor(16777215,.5),C.clear(),ot&&wt.render(Le);const Rt=C.toneMapping;C.toneMapping=Cf;const sn=De.viewport;if(De.viewport!==void 0&&(De.viewport=void 0),x.setupLightsView(De),ie===!0&&$e.setGlobalState(C.clippingPlanes,De),Fr(re,Le,De),ae.updateMultisampleRenderTarget(st),ae.updateRenderTargetMipmap(st),Be.has("WEBGL_multisampled_render_to_texture")===!1){let Jt=!1;for(let Gt=0,Bn=_e.length;Gt<Bn;Gt++){const Ln=_e[Gt],bi=Ln.object,Wn=Ln.geometry,on=Ln.material,$t=Ln.group;if(on.side===gf&&bi.layers.test(De.layers)){const hr=on.side;on.side=Oo,on.needsUpdate=!0,Vr(bi,Le,De,Wn,on,$t),on.side=hr,on.needsUpdate=!0,Jt=!0}}Jt===!0&&(ae.updateMultisampleRenderTarget(st),ae.updateRenderTargetMipmap(st))}C.setRenderTarget(Ct),C.setClearColor(K,ee),sn!==void 0&&(De.viewport=sn),C.toneMapping=Rt}function Fr(re,_e,Le){const De=_e.isScene===!0?_e.overrideMaterial:null;for(let xe=0,st=re.length;xe<st;xe++){const Tt=re[xe],Ct=Tt.object,Rt=Tt.geometry,sn=Tt.group;let Jt=Tt.material;Jt.allowOverride===!0&&De!==null&&(Jt=De),Ct.layers.test(Le.layers)&&Vr(Ct,_e,Le,Rt,Jt,sn)}}function Vr(re,_e,Le,De,xe,st){re.onBeforeRender(C,_e,Le,De,xe,st),re.modelViewMatrix.multiplyMatrices(Le.matrixWorldInverse,re.matrixWorld),re.normalMatrix.getNormalMatrix(re.modelViewMatrix),xe.onBeforeRender(C,_e,Le,De,re,st),xe.transparent===!0&&xe.side===gf&&xe.forceSinglePass===!1?(xe.side=Oo,xe.needsUpdate=!0,C.renderBufferDirect(Le,_e,De,xe,re,st),xe.side=Xh,xe.needsUpdate=!0,C.renderBufferDirect(Le,_e,De,xe,re,st),xe.side=gf):C.renderBufferDirect(Le,_e,De,xe,re,st),re.onAfterRender(C,_e,Le,De,xe,st)}function dn(re,_e,Le){_e.isScene!==!0&&(_e=rt);const De=qe.get(re),xe=x.state.lights,st=x.state.shadowsArray,Tt=xe.state.version,Ct=lt.getParameters(re,xe.state,st,_e,Le),Rt=lt.getProgramCacheKey(Ct);let sn=De.programs;De.environment=re.isMeshStandardMaterial?_e.environment:null,De.fog=_e.fog,De.envMap=(re.isMeshStandardMaterial?Se:J).get(re.envMap||De.environment),De.envMapRotation=De.environment!==null&&re.envMap===null?_e.environmentRotation:re.envMapRotation,sn===void 0&&(re.addEventListener("dispose",Zt),sn=new Map,De.programs=sn);let Jt=sn.get(Rt);if(Jt!==void 0){if(De.currentProgram===Jt&&De.lightsStateVersion===Tt)return aa(re,Ct),Jt}else Ct.uniforms=lt.getUniforms(re),re.onBeforeCompile(Ct,C),Jt=lt.acquireProgram(Ct,Rt),sn.set(Rt,Jt),De.uniforms=Ct.uniforms;const Gt=De.uniforms;return(!re.isShaderMaterial&&!re.isRawShaderMaterial||re.clipping===!0)&&(Gt.clippingPlanes=$e.uniform),aa(re,Ct),De.needsLights=sd(re),De.lightsStateVersion=Tt,De.needsLights&&(Gt.ambientLightColor.value=xe.state.ambient,Gt.lightProbe.value=xe.state.probe,Gt.directionalLights.value=xe.state.directional,Gt.directionalLightShadows.value=xe.state.directionalShadow,Gt.spotLights.value=xe.state.spot,Gt.spotLightShadows.value=xe.state.spotShadow,Gt.rectAreaLights.value=xe.state.rectArea,Gt.ltc_1.value=xe.state.rectAreaLTC1,Gt.ltc_2.value=xe.state.rectAreaLTC2,Gt.pointLights.value=xe.state.point,Gt.pointLightShadows.value=xe.state.pointShadow,Gt.hemisphereLights.value=xe.state.hemi,Gt.directionalShadowMap.value=xe.state.directionalShadowMap,Gt.directionalShadowMatrix.value=xe.state.directionalShadowMatrix,Gt.spotShadowMap.value=xe.state.spotShadowMap,Gt.spotLightMatrix.value=xe.state.spotLightMatrix,Gt.spotLightMap.value=xe.state.spotLightMap,Gt.pointShadowMap.value=xe.state.pointShadowMap,Gt.pointShadowMatrix.value=xe.state.pointShadowMatrix),De.currentProgram=Jt,De.uniformsList=null,Jt}function fr(re){if(re.uniformsList===null){const _e=re.currentProgram.getUniforms();re.uniformsList=Qw.seqWithValue(_e.seq,re.uniforms)}return re.uniformsList}function aa(re,_e){const Le=qe.get(re);Le.outputColorSpace=_e.outputColorSpace,Le.batching=_e.batching,Le.batchingColor=_e.batchingColor,Le.instancing=_e.instancing,Le.instancingColor=_e.instancingColor,Le.instancingMorph=_e.instancingMorph,Le.skinning=_e.skinning,Le.morphTargets=_e.morphTargets,Le.morphNormals=_e.morphNormals,Le.morphColors=_e.morphColors,Le.morphTargetsCount=_e.morphTargetsCount,Le.numClippingPlanes=_e.numClippingPlanes,Le.numIntersection=_e.numClipIntersection,Le.vertexAlphas=_e.vertexAlphas,Le.vertexTangents=_e.vertexTangents,Le.toneMapping=_e.toneMapping}function ll(re,_e,Le,De,xe){_e.isScene!==!0&&(_e=rt),ae.resetTextureUnits();const st=_e.fog,Tt=De.isMeshStandardMaterial?_e.environment:null,Ct=N===null?C.outputColorSpace:N.isXRRenderTarget===!0?N.texture.colorSpace:Hp,Rt=(De.isMeshStandardMaterial?Se:J).get(De.envMap||Tt),sn=De.vertexColors===!0&&!!Le.attributes.color&&Le.attributes.color.itemSize===4,Jt=!!Le.attributes.tangent&&(!!De.normalMap||De.anisotropy>0),Gt=!!Le.morphAttributes.position,Bn=!!Le.morphAttributes.normal,Ln=!!Le.morphAttributes.color;let bi=Cf;De.toneMapped&&(N===null||N.isXRRenderTarget===!0)&&(bi=C.toneMapping);const Wn=Le.morphAttributes.position||Le.morphAttributes.normal||Le.morphAttributes.color,on=Wn!==void 0?Wn.length:0,$t=qe.get(De),hr=x.state.lights;if(ie===!0&&(he===!0||re!==U)){const cn=re===U&&De.id===P;$e.setState(De,re,cn)}let Gn=!1;De.version===$t.__version?($t.needsLights&&$t.lightsStateVersion!==hr.state.version||$t.outputColorSpace!==Ct||xe.isBatchedMesh&&$t.batching===!1||!xe.isBatchedMesh&&$t.batching===!0||xe.isBatchedMesh&&$t.batchingColor===!0&&xe.colorTexture===null||xe.isBatchedMesh&&$t.batchingColor===!1&&xe.colorTexture!==null||xe.isInstancedMesh&&$t.instancing===!1||!xe.isInstancedMesh&&$t.instancing===!0||xe.isSkinnedMesh&&$t.skinning===!1||!xe.isSkinnedMesh&&$t.skinning===!0||xe.isInstancedMesh&&$t.instancingColor===!0&&xe.instanceColor===null||xe.isInstancedMesh&&$t.instancingColor===!1&&xe.instanceColor!==null||xe.isInstancedMesh&&$t.instancingMorph===!0&&xe.morphTexture===null||xe.isInstancedMesh&&$t.instancingMorph===!1&&xe.morphTexture!==null||$t.envMap!==Rt||De.fog===!0&&$t.fog!==st||$t.numClippingPlanes!==void 0&&($t.numClippingPlanes!==$e.numPlanes||$t.numIntersection!==$e.numIntersection)||$t.vertexAlphas!==sn||$t.vertexTangents!==Jt||$t.morphTargets!==Gt||$t.morphNormals!==Bn||$t.morphColors!==Ln||$t.toneMapping!==bi||$t.morphTargetsCount!==on)&&(Gn=!0):(Gn=!0,$t.__version=De.version);let ms=$t.currentProgram;Gn===!0&&(ms=dn(De,_e,xe));let oa=!1,nr=!1,Ai=!1;const ei=ms.getUniforms(),Er=$t.uniforms;if(Me.useProgram(ms.program)&&(oa=!0,nr=!0,Ai=!0),De.id!==P&&(P=De.id,nr=!0),oa||U!==re){Me.buffers.depth.getReversed()?(ye.copy(re.projectionMatrix),eae(ye),tae(ye),ei.setValue(te,"projectionMatrix",ye)):ei.setValue(te,"projectionMatrix",re.projectionMatrix),ei.setValue(te,"viewMatrix",re.matrixWorldInverse);const or=ei.map.cameraPosition;or!==void 0&&or.setValue(te,Xe.setFromMatrixPosition(re.matrixWorld)),Ne.logarithmicDepthBuffer&&ei.setValue(te,"logDepthBufFC",2/(Math.log(re.far+1)/Math.LN2)),(De.isMeshPhongMaterial||De.isMeshToonMaterial||De.isMeshLambertMaterial||De.isMeshBasicMaterial||De.isMeshStandardMaterial||De.isShaderMaterial)&&ei.setValue(te,"isOrthographic",re.isOrthographicCamera===!0),U!==re&&(U=re,nr=!0,Ai=!0)}if(xe.isSkinnedMesh){ei.setOptional(te,xe,"bindMatrix"),ei.setOptional(te,xe,"bindMatrixInverse");const cn=xe.skeleton;cn&&(cn.boneTexture===null&&cn.computeBoneTexture(),ei.setValue(te,"boneTexture",cn.boneTexture,ae))}xe.isBatchedMesh&&(ei.setOptional(te,xe,"batchingTexture"),ei.setValue(te,"batchingTexture",xe._matricesTexture,ae),ei.setOptional(te,xe,"batchingIdTexture"),ei.setValue(te,"batchingIdTexture",xe._indirectTexture,ae),ei.setOptional(te,xe,"batchingColorTexture"),xe._colorsTexture!==null&&ei.setValue(te,"batchingColorTexture",xe._colorsTexture,ae));const Hr=Le.morphAttributes;if((Hr.position!==void 0||Hr.normal!==void 0||Hr.color!==void 0)&&At.update(xe,Le,ms),(nr||$t.receiveShadow!==xe.receiveShadow)&&($t.receiveShadow=xe.receiveShadow,ei.setValue(te,"receiveShadow",xe.receiveShadow)),De.isMeshGouraudMaterial&&De.envMap!==null&&(Er.envMap.value=Rt,Er.flipEnvMap.value=Rt.isCubeTexture&&Rt.isRenderTargetTexture===!1?-1:1),De.isMeshStandardMaterial&&De.envMap===null&&_e.environment!==null&&(Er.envMapIntensity.value=_e.environmentIntensity),nr&&(ei.setValue(te,"toneMappingExposure",C.toneMappingExposure),$t.needsLights&&io(Er,Ai),st&&De.fog===!0&&ut.refreshFogUniforms(Er,st),ut.refreshMaterialUniforms(Er,De,Q,$,x.state.transmissionRenderTarget[re.id]),Qw.upload(te,fr($t),Er,ae)),De.isShaderMaterial&&De.uniformsNeedUpdate===!0&&(Qw.upload(te,fr($t),Er,ae),De.uniformsNeedUpdate=!1),De.isSpriteMaterial&&ei.setValue(te,"center",xe.center),ei.setValue(te,"modelViewMatrix",xe.modelViewMatrix),ei.setValue(te,"normalMatrix",xe.normalMatrix),ei.setValue(te,"modelMatrix",xe.matrixWorld),De.isShaderMaterial||De.isRawShaderMaterial){const cn=De.uniformsGroups;for(let or=0,Os=cn.length;or<Os;or++){const Tr=cn[or];ve.update(Tr,ms),ve.bind(Tr,ms)}}return ms}function io(re,_e){re.ambientLightColor.needsUpdate=_e,re.lightProbe.needsUpdate=_e,re.directionalLights.needsUpdate=_e,re.directionalLightShadows.needsUpdate=_e,re.pointLights.needsUpdate=_e,re.pointLightShadows.needsUpdate=_e,re.spotLights.needsUpdate=_e,re.spotLightShadows.needsUpdate=_e,re.rectAreaLights.needsUpdate=_e,re.hemisphereLights.needsUpdate=_e}function sd(re){return re.isMeshLambertMaterial||re.isMeshToonMaterial||re.isMeshPhongMaterial||re.isMeshStandardMaterial||re.isShadowMaterial||re.isShaderMaterial&&re.lights===!0}this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(re,_e,Le){const De=qe.get(re);De.__autoAllocateDepthBuffer=re.resolveDepthBuffer===!1,De.__autoAllocateDepthBuffer===!1&&(De.__useRenderToTexture=!1),qe.get(re.texture).__webglTexture=_e,qe.get(re.depthTexture).__webglTexture=De.__autoAllocateDepthBuffer?void 0:Le,De.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(re,_e){const Le=qe.get(re);Le.__webglFramebuffer=_e,Le.__useDefaultFramebuffer=_e===void 0};const Pc=te.createFramebuffer();this.setRenderTarget=function(re,_e=0,Le=0){N=re,L=_e,I=Le;let De=!0,xe=null,st=!1,Tt=!1;if(re){const Rt=qe.get(re);if(Rt.__useDefaultFramebuffer!==void 0)Me.bindFramebuffer(te.FRAMEBUFFER,null),De=!1;else if(Rt.__webglFramebuffer===void 0)ae.setupRenderTarget(re);else if(Rt.__hasExternalTextures)ae.rebindTextures(re,qe.get(re.texture).__webglTexture,qe.get(re.depthTexture).__webglTexture);else if(re.depthBuffer){const Gt=re.depthTexture;if(Rt.__boundDepthTexture!==Gt){if(Gt!==null&&qe.has(Gt)&&(re.width!==Gt.image.width||re.height!==Gt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ae.setupDepthRenderbuffer(re)}}const sn=re.texture;(sn.isData3DTexture||sn.isDataArrayTexture||sn.isCompressedArrayTexture)&&(Tt=!0);const Jt=qe.get(re).__webglFramebuffer;re.isWebGLCubeRenderTarget?(Array.isArray(Jt[_e])?xe=Jt[_e][Le]:xe=Jt[_e],st=!0):re.samples>0&&ae.useMultisampledRTT(re)===!1?xe=qe.get(re).__webglMultisampledFramebuffer:Array.isArray(Jt)?xe=Jt[Le]:xe=Jt,V.copy(re.viewport),z.copy(re.scissor),F=re.scissorTest}else V.copy(Y).multiplyScalar(Q).floor(),z.copy(le).multiplyScalar(Q).floor(),F=pe;if(Le!==0&&(xe=Pc),Me.bindFramebuffer(te.FRAMEBUFFER,xe)&&De&&Me.drawBuffers(re,xe),Me.viewport(V),Me.scissor(z),Me.setScissorTest(F),st){const Rt=qe.get(re.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Rt.__webglTexture,Le)}else if(Tt){const Rt=qe.get(re.texture),sn=_e;te.framebufferTextureLayer(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,Rt.__webglTexture,Le,sn)}else if(re!==null&&Le!==0){const Rt=qe.get(re.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Rt.__webglTexture,Le)}P=-1},this.readRenderTargetPixels=function(re,_e,Le,De,xe,st,Tt){if(!(re&&re.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ct=qe.get(re).__webglFramebuffer;if(re.isWebGLCubeRenderTarget&&Tt!==void 0&&(Ct=Ct[Tt]),Ct){Me.bindFramebuffer(te.FRAMEBUFFER,Ct);try{const Rt=re.texture,sn=Rt.format,Jt=Rt.type;if(!Ne.textureFormatReadable(sn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ne.textureTypeReadable(Jt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=re.width-De&&Le>=0&&Le<=re.height-xe&&te.readPixels(_e,Le,De,xe,at.convert(sn),at.convert(Jt),st)}finally{const Rt=N!==null?qe.get(N).__webglFramebuffer:null;Me.bindFramebuffer(te.FRAMEBUFFER,Rt)}}},this.readRenderTargetPixelsAsync=async function(re,_e,Le,De,xe,st,Tt){if(!(re&&re.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ct=qe.get(re).__webglFramebuffer;if(re.isWebGLCubeRenderTarget&&Tt!==void 0&&(Ct=Ct[Tt]),Ct)if(_e>=0&&_e<=re.width-De&&Le>=0&&Le<=re.height-xe){Me.bindFramebuffer(te.FRAMEBUFFER,Ct);const Rt=re.texture,sn=Rt.format,Jt=Rt.type;if(!Ne.textureFormatReadable(sn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ne.textureTypeReadable(Jt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Gt=te.createBuffer();te.bindBuffer(te.PIXEL_PACK_BUFFER,Gt),te.bufferData(te.PIXEL_PACK_BUFFER,st.byteLength,te.STREAM_READ),te.readPixels(_e,Le,De,xe,at.convert(sn),at.convert(Jt),0);const Bn=N!==null?qe.get(N).__webglFramebuffer:null;Me.bindFramebuffer(te.FRAMEBUFFER,Bn);const Ln=te.fenceSync(te.SYNC_GPU_COMMANDS_COMPLETE,0);return te.flush(),await Jse(te,Ln,4),te.bindBuffer(te.PIXEL_PACK_BUFFER,Gt),te.getBufferSubData(te.PIXEL_PACK_BUFFER,0,st),te.deleteBuffer(Gt),te.deleteSync(Ln),st}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(re,_e=null,Le=0){const De=Math.pow(2,-Le),xe=Math.floor(re.image.width*De),st=Math.floor(re.image.height*De),Tt=_e!==null?_e.x:0,Ct=_e!==null?_e.y:0;ae.setTexture2D(re,0),te.copyTexSubImage2D(te.TEXTURE_2D,Le,0,0,Tt,Ct,xe,st),Me.unbindTexture()};const ro=te.createFramebuffer(),cl=te.createFramebuffer();this.copyTextureToTexture=function(re,_e,Le=null,De=null,xe=0,st=null){st===null&&(xe!==0?(Kw("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),st=xe,xe=0):st=0);let Tt,Ct,Rt,sn,Jt,Gt,Bn,Ln,bi;const Wn=re.isCompressedTexture?re.mipmaps[st]:re.image;if(Le!==null)Tt=Le.max.x-Le.min.x,Ct=Le.max.y-Le.min.y,Rt=Le.isBox3?Le.max.z-Le.min.z:1,sn=Le.min.x,Jt=Le.min.y,Gt=Le.isBox3?Le.min.z:0;else{const Hr=Math.pow(2,-xe);Tt=Math.floor(Wn.width*Hr),Ct=Math.floor(Wn.height*Hr),re.isDataArrayTexture?Rt=Wn.depth:re.isData3DTexture?Rt=Math.floor(Wn.depth*Hr):Rt=1,sn=0,Jt=0,Gt=0}De!==null?(Bn=De.x,Ln=De.y,bi=De.z):(Bn=0,Ln=0,bi=0);const on=at.convert(_e.format),$t=at.convert(_e.type);let hr;_e.isData3DTexture?(ae.setTexture3D(_e,0),hr=te.TEXTURE_3D):_e.isDataArrayTexture||_e.isCompressedArrayTexture?(ae.setTexture2DArray(_e,0),hr=te.TEXTURE_2D_ARRAY):(ae.setTexture2D(_e,0),hr=te.TEXTURE_2D),te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,_e.flipY),te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),te.pixelStorei(te.UNPACK_ALIGNMENT,_e.unpackAlignment);const Gn=te.getParameter(te.UNPACK_ROW_LENGTH),ms=te.getParameter(te.UNPACK_IMAGE_HEIGHT),oa=te.getParameter(te.UNPACK_SKIP_PIXELS),nr=te.getParameter(te.UNPACK_SKIP_ROWS),Ai=te.getParameter(te.UNPACK_SKIP_IMAGES);te.pixelStorei(te.UNPACK_ROW_LENGTH,Wn.width),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,Wn.height),te.pixelStorei(te.UNPACK_SKIP_PIXELS,sn),te.pixelStorei(te.UNPACK_SKIP_ROWS,Jt),te.pixelStorei(te.UNPACK_SKIP_IMAGES,Gt);const ei=re.isDataArrayTexture||re.isData3DTexture,Er=_e.isDataArrayTexture||_e.isData3DTexture;if(re.isDepthTexture){const Hr=qe.get(re),cn=qe.get(_e),or=qe.get(Hr.__renderTarget),Os=qe.get(cn.__renderTarget);Me.bindFramebuffer(te.READ_FRAMEBUFFER,or.__webglFramebuffer),Me.bindFramebuffer(te.DRAW_FRAMEBUFFER,Os.__webglFramebuffer);for(let Tr=0;Tr<Rt;Tr++)ei&&(te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,qe.get(re).__webglTexture,xe,Gt+Tr),te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,qe.get(_e).__webglTexture,st,bi+Tr)),te.blitFramebuffer(sn,Jt,Tt,Ct,Bn,Ln,Tt,Ct,te.DEPTH_BUFFER_BIT,te.NEAREST);Me.bindFramebuffer(te.READ_FRAMEBUFFER,null),Me.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else if(xe!==0||re.isRenderTargetTexture||qe.has(re)){const Hr=qe.get(re),cn=qe.get(_e);Me.bindFramebuffer(te.READ_FRAMEBUFFER,ro),Me.bindFramebuffer(te.DRAW_FRAMEBUFFER,cl);for(let or=0;or<Rt;or++)ei?te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,Hr.__webglTexture,xe,Gt+or):te.framebufferTexture2D(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Hr.__webglTexture,xe),Er?te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,cn.__webglTexture,st,bi+or):te.framebufferTexture2D(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,cn.__webglTexture,st),xe!==0?te.blitFramebuffer(sn,Jt,Tt,Ct,Bn,Ln,Tt,Ct,te.COLOR_BUFFER_BIT,te.NEAREST):Er?te.copyTexSubImage3D(hr,st,Bn,Ln,bi+or,sn,Jt,Tt,Ct):te.copyTexSubImage2D(hr,st,Bn,Ln,sn,Jt,Tt,Ct);Me.bindFramebuffer(te.READ_FRAMEBUFFER,null),Me.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else Er?re.isDataTexture||re.isData3DTexture?te.texSubImage3D(hr,st,Bn,Ln,bi,Tt,Ct,Rt,on,$t,Wn.data):_e.isCompressedArrayTexture?te.compressedTexSubImage3D(hr,st,Bn,Ln,bi,Tt,Ct,Rt,on,Wn.data):te.texSubImage3D(hr,st,Bn,Ln,bi,Tt,Ct,Rt,on,$t,Wn):re.isDataTexture?te.texSubImage2D(te.TEXTURE_2D,st,Bn,Ln,Tt,Ct,on,$t,Wn.data):re.isCompressedTexture?te.compressedTexSubImage2D(te.TEXTURE_2D,st,Bn,Ln,Wn.width,Wn.height,on,Wn.data):te.texSubImage2D(te.TEXTURE_2D,st,Bn,Ln,Tt,Ct,on,$t,Wn);te.pixelStorei(te.UNPACK_ROW_LENGTH,Gn),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,ms),te.pixelStorei(te.UNPACK_SKIP_PIXELS,oa),te.pixelStorei(te.UNPACK_SKIP_ROWS,nr),te.pixelStorei(te.UNPACK_SKIP_IMAGES,Ai),st===0&&_e.generateMipmaps&&te.generateMipmap(hr),Me.unbindTexture()},this.copyTextureToTexture3D=function(re,_e,Le=null,De=null,xe=0){return Kw('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(re,_e,Le,De,xe)},this.initRenderTarget=function(re){qe.get(re).__webglFramebuffer===void 0&&ae.setupRenderTarget(re)},this.initTexture=function(re){re.isCubeTexture?ae.setTextureCube(re,0):re.isData3DTexture?ae.setTexture3D(re,0):re.isDataArrayTexture||re.isCompressedArrayTexture?ae.setTexture2DArray(re,0):ae.setTexture2D(re,0),Me.unbindTexture()},this.resetState=function(){L=0,I=0,N=null,Me.reset(),Lt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ec}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=ci._getDrawingBufferColorSpace(e),t.unpackColorSpace=ci._getUnpackColorSpace()}}const dde=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:_N,AddEquation:pp,AddOperation:rj,AdditiveAnimationBlendMode:MN,AdditiveBlending:qI,AgXToneMapping:cj,AlphaFormat:TN,AlwaysCompare:Tj,AlwaysDepth:V2,AlwaysStencilFunc:YI,AmbientLight:gG,AnimationAction:wG,AnimationClip:Gx,AnimationLoader:Aoe,AnimationMixer:nle,AnimationObjectGroup:ele,AnimationUtils:Eoe,ArcCurve:jj,ArrayCamera:SG,ArrowHelper:Tle,AttachedBindMode:XI,Audio:EG,AudioAnalyser:Goe,AudioContext:ZN,AudioListener:Voe,AudioLoader:zoe,AxesHelper:wle,BackSide:Oo,BasicDepthPacking:mj,BasicShadowMap:zH,BatchedMesh:zj,Bone:NN,BooleanKeyframeTrack:ly,Box2:ule,Box3:na,Box3Helper:Sle,BoxGeometry:ay,BoxHelper:xle,BufferAttribute:Fi,BufferGeometry:Dn,BufferGeometryLoader:xG,ByteType:xN,Cache:Nh,Camera:DA,CameraHelper:ble,CanvasTexture:UN,CapsuleGeometry:HA,CatmullRomCurve3:Gj,CineonToneMapping:oj,CircleGeometry:jA,ClampToEdgeWrapping:Sc,Clock:QN,Color:Ut,ColorKeyframeTrack:XN,ColorManagement:ci,CompressedArrayTexture:Gae,CompressedCubeTexture:qae,CompressedTexture:VA,CompressedTextureLoader:Moe,ConeGeometry:g_,ConstantAlphaFactor:tj,ConstantColorFactor:JH,Controls:Ale,CubeCamera:Pj,CubeReflectionMapping:Yh,CubeRefractionMapping:Vp,CubeTexture:bS,CubeTextureLoader:Roe,CubeUVReflectionMapping:h_,CubicBezierCurve:zN,CubicBezierCurve3:BN,CubicInterpolant:lG,CullFaceBack:GI,CullFaceFront:kH,CullFaceFrontBack:Jre,CullFaceNone:UH,Curve:Su,CurvePath:Wj,CustomBlending:BH,CustomToneMapping:lj,CylinderGeometry:m_,Cylindrical:cle,Data3DTexture:PA,DataArrayTexture:_S,DataTexture:Af,DataTextureLoader:Ooe,DataUtils:gae,DecrementStencilOp:dse,DecrementWrapStencilOp:mse,DefaultLoadingManager:fG,DepthArrayTexture:Wae,DepthFormat:k0,DepthStencilFormat:z0,DepthTexture:xS,DetachedBindMode:fj,DirectionalLight:mG,DirectionalLightHelper:_le,DiscreteInterpolant:cG,DodecahedronGeometry:GA,DoubleSide:gf,DstAlphaFactor:XH,DstColorFactor:KH,DynamicCopyUsage:Ose,DynamicDrawUsage:Tse,DynamicReadUsage:Ase,EdgesGeometry:Hj,EllipseCurve:qA,EqualCompare:bj,EqualDepth:j2,EqualStencilFunc:_se,EquirectangularReflectionMapping:Rx,EquirectangularRefractionMapping:Ox,Euler:zl,EventDispatcher:Df,ExtrudeGeometry:$A,FileLoader:Qh,Float16BufferAttribute:Eae,Float32BufferAttribute:Ht,FloatType:Ro,Fog:LA,FogExp2:NA,FramebufferTexture:jae,FrontSide:Xh,Frustum:p_,FrustumArray:FA,GLBufferAttribute:lle,GLSL1:Pse,GLSL3:KI,GreaterCompare:xj,GreaterDepth:q2,GreaterEqualCompare:Ej,GreaterEqualDepth:G2,GreaterEqualStencilFunc:Ese,GreaterStencilFunc:xse,GridHelper:yle,Group:Dh,HalfFloatType:sy,HemisphereLight:hG,HemisphereLightHelper:gle,IcosahedronGeometry:XA,ImageBitmapLoader:koe,ImageLoader:qx,ImageUtils:Mj,IncrementStencilOp:hse,IncrementWrapStencilOp:pse,InstancedBufferAttribute:H0,InstancedBufferGeometry:bG,InstancedInterleavedBuffer:ole,InstancedMesh:kj,Int16BufferAttribute:xae,Int32BufferAttribute:Sae,Int8BufferAttribute:vae,IntType:TA,InterleavedBuffer:kA,InterleavedBufferAttribute:Yg,Interpolant:TS,InterpolateDiscrete:Dx,InterpolateLinear:_C,InterpolateSmooth:Yw,InterpolationSamplingMode:Lse,InterpolationSamplingType:Nse,InvertStencilOp:gse,KeepStencilOp:gg,KeyframeTrack:Rc,LOD:Lj,LatheGeometry:YA,Layers:F0,LessCompare:_j,LessDepth:H2,LessEqualCompare:RN,LessEqualDepth:Xg,LessEqualStencilFunc:bse,LessStencilFunc:vse,Light:Qp,LightProbe:_G,Line:Zh,Line3:fle,LineBasicMaterial:no,LineCurve:FN,LineCurve3:qj,LineDashedMaterial:sG,LineLoop:Bj,LineSegments:Nf,LinearFilter:hs,LinearInterpolant:$N,LinearMipMapLinearFilter:ise,LinearMipMapNearestFilter:nse,LinearMipmapLinearFilter:_f,LinearMipmapNearestFilter:Xb,LinearSRGBColorSpace:Hp,LinearToneMapping:sj,LinearTransfer:Lx,Loader:al,LoaderUtils:tP,LoadingManager:YN,LoopOnce:hj,LoopPingPong:pj,LoopRepeat:dj,MOUSE:Zre,Material:to,MaterialLoader:nM,MathUtils:wj,Matrix2:nL,Matrix3:Pn,Matrix4:an,MaxEquation:jH,Mesh:es,MeshBasicMaterial:Kp,MeshDepthMaterial:GN,MeshDistanceMaterial:qN,MeshLambertMaterial:jN,MeshMatcapMaterial:rG,MeshNormalMaterial:iG,MeshPhongMaterial:tG,MeshPhysicalMaterial:eG,MeshStandardMaterial:tM,MeshToonMaterial:nG,MinEquation:HH,MirroredRepeatWrapping:Px,MixOperation:ij,MultiplyBlending:$I,MultiplyOperation:yS,NearestFilter:Ea,NearestMipMapLinearFilter:tse,NearestMipMapNearestFilter:ese,NearestMipmapLinearFilter:i0,NearestMipmapNearestFilter:bN,NeutralToneMapping:uj,NeverCompare:vj,NeverDepth:F2,NeverStencilFunc:yse,NoBlending:kh,NoColorSpace:Rh,NoToneMapping:Cf,NormalAnimationBlendMode:OA,NormalBlending:Bg,NotEqualCompare:Sj,NotEqualDepth:W2,NotEqualStencilFunc:Sse,NumberKeyframeTrack:Hx,Object3D:mi,ObjectLoader:Loe,ObjectSpaceNormalMap:yj,OctahedronGeometry:SS,OneFactor:qH,OneMinusConstantAlphaFactor:nj,OneMinusConstantColorFactor:ej,OneMinusDstAlphaFactor:YH,OneMinusDstColorFactor:ZH,OneMinusSrcAlphaFactor:B2,OneMinusSrcColorFactor:$H,OrthographicCamera:CS,PCFShadowMap:SA,PCFSoftShadowMap:$b,PMREMGenerator:rP,Path:EC,PerspectiveCamera:ea,Plane:lp,PlaneGeometry:y_,PlaneHelper:Ele,PointLight:pG,PointLightHelper:ple,Points:Fj,PointsMaterial:LN,PolarGridHelper:vle,PolyhedronGeometry:Zp,PositionalAudio:joe,PropertyBinding:vi,PropertyMixer:TG,QuadraticBezierCurve:VN,QuadraticBezierCurve3:WA,Quaternion:Ta,QuaternionKeyframeTrack:wS,QuaternionLinearInterpolant:uG,RED_GREEN_RGTC2_Format:yC,RED_RGTC1_Format:AN,REVISION:xA,RGBADepthPacking:gj,RGBAFormat:Qa,RGBAIntegerFormat:RA,RGBA_ASTC_10x10_Format:fC,RGBA_ASTC_10x5_Format:lC,RGBA_ASTC_10x6_Format:cC,RGBA_ASTC_10x8_Format:uC,RGBA_ASTC_12x10_Format:hC,RGBA_ASTC_12x12_Format:dC,RGBA_ASTC_4x4_Format:eC,RGBA_ASTC_5x4_Format:tC,RGBA_ASTC_5x5_Format:nC,RGBA_ASTC_6x5_Format:iC,RGBA_ASTC_6x6_Format:rC,RGBA_ASTC_8x5_Format:sC,RGBA_ASTC_8x6_Format:aC,RGBA_ASTC_8x8_Format:oC,RGBA_BPTC_Format:Jb,RGBA_ETC2_EAC_Format:J2,RGBA_PVRTC_2BPPV1_Format:K2,RGBA_PVRTC_4BPPV1_Format:Y2,RGBA_S3TC_DXT1_Format:Kb,RGBA_S3TC_DXT3_Format:Zb,RGBA_S3TC_DXT5_Format:Qb,RGBDepthPacking:lse,RGBFormat:wN,RGBIntegerFormat:rse,RGB_BPTC_SIGNED_Format:pC,RGB_BPTC_UNSIGNED_Format:mC,RGB_ETC1_Format:Z2,RGB_ETC2_Format:Q2,RGB_PVRTC_2BPPV1_Format:X2,RGB_PVRTC_4BPPV1_Format:$2,RGB_S3TC_DXT1_Format:Yb,RGDepthPacking:cse,RGFormat:CN,RGIntegerFormat:MA,RawShaderMaterial:Jj,Ray:d_,Raycaster:iM,RectAreaLight:yG,RedFormat:AA,RedIntegerFormat:vS,ReinhardToneMapping:aj,RenderTarget:IA,RenderTarget3D:ile,RenderTargetArray:rle,RepeatWrapping:Ix,ReplaceStencilOp:fse,ReverseSubtractEquation:VH,RingGeometry:KA,SIGNED_RED_GREEN_RGTC2_Format:vC,SIGNED_RED_RGTC1_Format:gC,SRGBColorSpace:ba,SRGBTransfer:Bi,Scene:UA,ShaderChunk:jn,ShaderLib:fu,ShaderMaterial:_u,ShadowMaterial:Qj,Shape:Vg,ShapeGeometry:ZA,ShapePath:Cle,ShapeUtils:du,ShortType:SN,Skeleton:BA,SkeletonHelper:dle,SkinnedMesh:Uj,Source:xp,Sphere:ia,SphereGeometry:oy,Spherical:CG,SphericalHarmonics3:vG,SplineCurve:HN,SpotLight:dG,SpotLightHelper:hle,Sprite:DN,SpriteMaterial:zA,SrcAlphaFactor:z2,SrcAlphaSaturateFactor:QH,SrcColorFactor:WH,StaticCopyUsage:Rse,StaticDrawUsage:Ux,StaticReadUsage:Cse,StereoCamera:Boe,StreamCopyUsage:Ise,StreamDrawUsage:wse,StreamReadUsage:Mse,StringKeyframeTrack:cy,SubtractEquation:FH,SubtractiveBlending:WI,TOUCH:Qre,TangentSpaceNormalMap:Yp,TetrahedronGeometry:QA,Texture:ts,TextureLoader:Ioe,TextureUtils:Ple,TimestampQuery:Dse,TorusGeometry:JA,TorusKnotGeometry:eM,Triangle:Zo,TriangleFanDrawMode:ose,TriangleStripDrawMode:ase,TrianglesDrawMode:sse,TubeGeometry:ES,UVMapping:EA,Uint16BufferAttribute:IN,Uint32BufferAttribute:PN,Uint8BufferAttribute:_ae,Uint8ClampedBufferAttribute:bae,Uniform:tL,UniformsGroup:ale,UniformsLib:It,UniformsUtils:Ij,UnsignedByteType:wc,UnsignedInt248Type:U0,UnsignedInt5999Type:EN,UnsignedIntType:Kh,UnsignedShort4444Type:wA,UnsignedShort5551Type:CA,UnsignedShortType:L0,VSMShadowMap:cu,Vector2:it,Vector3:fe,Vector4:pi,VectorKeyframeTrack:jx,VideoFrameTexture:Hae,VideoTexture:Vj,WebGL3DRenderTarget:aae,WebGLArrayRenderTarget:sae,WebGLCoordinateSystem:Ec,WebGLCubeRenderTarget:Dj,WebGLRenderTarget:vu,WebGLRenderer:NG,WebGLUtils:DG,WebGPUCoordinateSystem:kx,WebXRController:Zw,WireframeGeometry:Zj,WrapAroundEnding:Nx,ZeroCurvatureEnding:Cg,ZeroFactor:GH,ZeroSlopeEnding:Ag,ZeroStencilOp:use,createCanvasElement:Aj},Symbol.toStringTag,{value:"Module"})),pde=(n,e,t=50)=>{if(!n)return;const i=new fe;n.getPosition(i);const r=new fe;n.getTarget(r);const s=new fe().subVectors(i,e).normalize(),a=new fe().copy(e).addScaledVector(s,t),o={x:i.x,y:i.y,z:i.z};bA.to(o,{x:a.x,y:a.y,z:a.z,duration:1.5,ease:"power2.out",onUpdate:()=>{n.setLookAt(o.x,o.y,o.z,e.x,e.y,e.z,!0)},onComplete:()=>{yn.setState({isNodeSceneViewActive:!0,cameraBackup:{pos:i.toArray(),target:r.toArray()}})}})},mde=n=>{const{cameraBackup:e}=yn.getState();if(!n||!e)return;const[t,i,r]=e.pos,[s,a,o]=e.target,c=new fe;n.getPosition(c);const u={x:c.x,y:c.y,z:c.z};bA.to(u,{x:t,y:i,z:r,duration:1.5,ease:"power2.inOut",onUpdate:()=>{n.setLookAt(u.x,u.y,u.z,s,a,o,!0)},onComplete:()=>{yn.setState({isNodeAddViewActive:!1,cameraBackup:null})}})};function gde(){const{user:n,isAuthenticated:e,isLoading:t,getAccessTokenSilently:i,logout:r,loginWithRedirect:s}=XK();return{user:n,isAuthenticated:e,isLoading:t,getAccessToken:i,logout:r,login:s}}const yde=n=>{const[e,t]=H.useState(null);return H.useEffect(()=>{if(!n){t(null);return}(async()=>{const r=Cte(kD(gA,zL.nodeTaxonomy),Ate("node_index","==",n)),s=await GD(r);if(s.empty){t(null);return}const a=s.docs[0];t({id:a.id,...a.data()})})()},[n]),e},vde=n=>{const[e,t]=H.useState([]);return H.useEffect(()=>{if(!n||n.length===0){t([]);return}(async()=>{const s=(await Promise.all(n.map(a=>Ote(hte(gA,zL.tabs,a))))).filter(a=>a.exists()).map(a=>({id:a.id,...a.data(),title_es:a.data().title_es,title_en:a.data().title_en}));t(s)})()},[n]),e},_de=async n=>{try{const e=n.map(r=>GD(kD(gA,r))),i=(await Promise.all(e)).map(r=>r.docs.map(s=>{const a=s.data();return{target:a.target,source:a.source}})).flat();return bV("debug",`Enlaces obtenidos desde Firestore(${n}): `,i),i}catch(e){return console.error("Error obteniendo enlaces desde Firestore:",e),[]}},bde=async n=>{try{const e=n.map(r=>GD(kD(gA,r))),i=(await Promise.all(e)).map(r=>r.docs.map(s=>{const a=s.data();return{id:a.index,index:a.index,name:localStorage.getItem(tr.languageUser)==="es"?a.name_es:a.name_en,group:a.group,videoid:a.videoid,description:localStorage.getItem(tr.languageUser)==="es"?a.descrip_es:a.descrip_en}})).flat();return yn.setState({documentsFirestore:i}),bV("debug",`Documentos obtenidos desde Firestore(${zL.AllSystemsNodesArray}): `,i),i}catch(e){return console.error("Error obteniendo documentos desde Firestore:",e),[]}},xde=()=>{const n=yn(r=>r.systemBjjSelectedNodes),e=yn(r=>r.systemBjjSelectedLinks),[t,i]=H.useState({nodes:[],links:[]});return H.useEffect(()=>{(async()=>{yn.setState({isLoadingFirestore:!0});try{const a=(await bde(n)).filter(c=>c.id!==1),o=await _de(e);yn.setState({linksData:o}),i({nodes:a,links:o})}catch(s){console.error("Error obteniendo datos:",s)}finally{yn.setState({isLoadingFirestore:!1})}})()},[n,e]),t};function aP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function Sde(n){if(Array.isArray(n))return n}function Ede(n){if(Array.isArray(n))return aP(n)}function Tde(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function wde(n,e,t){return e=TC(e),Nde(n,LG()?Reflect.construct(e,t||[],TC(n).constructor):e.apply(n,t))}function Cde(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ade(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Ude(i.key),i)}}function Mde(n,e,t){return e&&Ade(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function TC(n){return TC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TC(n)}function Rde(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&oP(n,e)}function LG(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LG=function(){return!!n})()}function Ode(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ide(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],c=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;c=!1}else for(;!(c=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(h){u=!0,r=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function Pde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nde(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tde(n)}function oP(n,e){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},oP(n,e)}function Gz(n,e){return Sde(n)||Ide(n,e)||UG(n,e)||Pde()}function Q1(n){return Ede(n)||Ode(n)||UG(n)||Dde()}function Lde(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Ude(n){var e=Lde(n,"string");return typeof e=="symbol"?e:e+""}function UG(n,e){if(n){if(typeof n=="string")return aP(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?aP(n,e):void 0}}var J1=typeof window<"u"&&window.THREE?window.THREE:{CanvasTexture:UN,Sprite:DN,SpriteMaterial:zA,SRGBColorSpace:ba},kde=(function(n){function e(){var t,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(255, 255, 255, 1)";return Cde(this,e),t=wde(this,e,[new J1.SpriteMaterial]),t._text="".concat(i),t._textHeight=r,t._color=s,t._backgroundColor=!1,t._padding=0,t._borderWidth=0,t._borderRadius=0,t._borderColor="white",t._offsetX=0,t._offsetY=0,t._strokeWidth=0,t._strokeColor="white",t._fontFace="system-ui",t._fontSize=90,t._fontWeight="normal",t._canvas=document.createElement("canvas"),t._genCanvas(),t}return Rde(e,n),Mde(e,[{key:"text",get:function(){return this._text},set:function(i){this._text=i,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(i){this._textHeight=i,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(i){this._color=i,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(i){this._backgroundColor=i,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(i){this._padding=i,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(i){this._borderWidth=i,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(i){this._borderRadius=i,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(i){this._borderColor=i,this._genCanvas()}},{key:"offsetX",get:function(){return this._offsetX},set:function(i){this._offsetX=i,this._genCanvas()}},{key:"offsetY",get:function(){return this._offsetY},set:function(i){this._offsetY=i,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(i){this._fontFace=i,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(i){this._fontSize=i,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(i){this._fontWeight=i,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(i){this._strokeWidth=i,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(i){this._strokeColor=i,this._genCanvas()}},{key:"_genCanvas",value:function(){var i=this,r=this._canvas,s=r.getContext("2d"),a=1/this.textHeight,o=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],c=o.map(function(V){return V*i.fontSize*a}),u=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],h=u.map(function(V){return V*i.fontSize*a}),p=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],y=p.map(function(V){return V*i.fontSize*a}),v=[this.offsetX,this.offsetY].map(function(V){return V*i.fontSize*a}),_=this.text.split(`
`),S="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);s.font=S;var E=Math.max.apply(Math,Q1(_.map(function(V){return s.measureText(V).width}))),x=this.fontSize*_.length,w=E+c[0]*2+y[0]*2,M=x+c[1]*2+y[1]*2;if(r.width=w+Math.abs(v[0]),r.height=M+Math.abs(v[1]),s.translate.apply(s,Q1(v.map(function(V){return Math.max(0,V)}))),this.borderWidth){if(s.strokeStyle=this.borderColor,c[0]){var C=c[0]/2;s.lineWidth=c[0],s.beginPath(),s.moveTo(C,h[0]),s.lineTo(C,M-h[3]),s.moveTo(w-C,h[1]),s.lineTo(w-C,M-h[2]),s.stroke()}if(c[1]){var D=c[1]/2;s.lineWidth=c[1],s.beginPath(),s.moveTo(Math.max(c[0],h[0]),D),s.lineTo(w-Math.max(c[0],h[1]),D),s.moveTo(Math.max(c[0],h[3]),M-D),s.lineTo(w-Math.max(c[0],h[2]),M-D),s.stroke()}if(this.borderRadius){var L=Math.max.apply(Math,Q1(c)),I=L/2;s.lineWidth=L,s.beginPath(),[!!h[0]&&[h[0],I,I,h[0]],!!h[1]&&[w-h[1],w-I,I,h[1]],!!h[2]&&[w-h[2],w-I,M-I,M-h[2]],!!h[3]&&[h[3],I,M-I,M-h[3]]].filter(function(V){return V}).forEach(function(V){var z=Gz(V,4),F=z[0],K=z[1],ee=z[2],q=z[3];s.moveTo(F,ee),s.quadraticCurveTo(K,ee,K,q)}),s.stroke()}}this.backgroundColor&&(s.fillStyle=this.backgroundColor,this.borderRadius?(s.beginPath(),s.moveTo(c[0],h[0]),[[c[0],h[0],w-h[1],c[1],c[1],c[1]],[w-c[0],w-c[0],w-c[0],c[1],h[1],M-h[2]],[w-c[0],w-h[2],h[3],M-c[1],M-c[1],M-c[1]],[c[0],c[0],c[0],M-c[1],M-h[3],h[0]]].forEach(function(V){var z=Gz(V,6),F=z[0],K=z[1],ee=z[2],q=z[3],$=z[4],Q=z[5];s.quadraticCurveTo(F,q,K,$),s.lineTo(ee,Q)}),s.closePath(),s.fill()):s.fillRect(c[0],c[1],w-c[0]*2,M-c[1]*2)),s.translate.apply(s,Q1(c)),s.translate.apply(s,Q1(y)),s.font=S,s.fillStyle=this.color,s.textBaseline="bottom";var N=this.strokeWidth>0;N&&(s.lineWidth=this.strokeWidth*this.fontSize/10,s.strokeStyle=this.strokeColor),_.forEach(function(V,z){var F=(E-s.measureText(V).width)/2,K=(z+1)*i.fontSize;N&&s.strokeText(V,F,K),s.fillText(V,F,K)}),this.material.map&&this.material.map.dispose();var P=this.material.map=new J1.CanvasTexture(r);P.colorSpace=J1.SRGBColorSpace;var U=this.textHeight*_.length+o[1]*2+p[1]*2+Math.abs(this.offsetY);this.scale.set(U*r.width/r.height,U,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(i){return J1.Sprite.prototype.copy.call(this,i),this.color=i.color,this.backgroundColor=i.backgroundColor,this.padding=i.padding,this.borderWidth=i.borderWidth,this.borderColor=i.borderColor,this.offsetX=i.offsetX,this.offsetY=i.offsetY,this.fontFace=i.fontFace,this.fontSize=i.fontSize,this.fontWeight=i.fontWeight,this.strokeWidth=i.strokeWidth,this.strokeColor=i.strokeColor,this}}])})(J1.Sprite);function zde(n){const e=new Dh,t=sW[n.group??"default"]??"gray",i=new es(new oy(5,5),new tM({color:t})),r=new kde(`${n.name} {${n.id}}`);return r.color="white",r.textHeight=3,r.position.set(0,7,0),r.backgroundColor="#000",e.add(i),e.add(r),e}const YT=()=>{const n=navigator.userAgent;return/android/i.test(n)?"Android":/iPad|iPhone|iPod/.test(n)?"iOS":/Windows NT/.test(n)?"Windows":/Mac OS X/.test(n)?"macOS":/Linux/.test(n)?"Linux":"Unknown"},qz=n=>n,Bde=()=>{let n=qz;return{configure(e){n=e},generate(e){return n(e)},reset(){n=qz}}},kG=Bde();function Jh(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}function yt(n){if(typeof n!="string")throw new Error(Jh(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Wz(...n){return n.reduce((e,t)=>t==null?e:function(...r){e.apply(this,r),t.apply(this,r)},()=>{})}var UO={exports:{}},kO,$z;function Fde(){if($z)return kO;$z=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kO=n,kO}var zO,Xz;function Vde(){if(Xz)return zO;Xz=1;var n=Fde();function e(){}function t(){}return t.resetWarningCache=e,zO=function(){function i(a,o,c,u,h,p){if(p!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},zO}var Yz;function Hde(){return Yz||(Yz=1,UO.exports=Vde()()),UO.exports}var jde=Hde();const va=$p(jde);function zG(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=zG(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Pt(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=zG(n))&&(i&&(i+=" "),i+=e);return i}function pn(n,e,t=void 0){const i={};for(const r in n){const s=n[r];let a="",o=!0;for(let c=0;c<s.length;c+=1){const u=s[c];u&&(a+=(o===!0?"":" ")+e(u),o=!1,t&&t[u]&&(a+=" "+t[u]))}i[r]=a}return i}var BO={exports:{}},Wi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kz;function Gde(){if(Kz)return Wi;Kz=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function _(S){if(typeof S=="object"&&S!==null){var E=S.$$typeof;switch(E){case n:switch(S=S.type,S){case t:case r:case i:case c:case u:case y:return S;default:switch(S=S&&S.$$typeof,S){case a:case o:case p:case h:return S;case s:return S;default:return E}}case e:return E}}}return Wi.ContextConsumer=s,Wi.ContextProvider=a,Wi.Element=n,Wi.ForwardRef=o,Wi.Fragment=t,Wi.Lazy=p,Wi.Memo=h,Wi.Portal=e,Wi.Profiler=r,Wi.StrictMode=i,Wi.Suspense=c,Wi.SuspenseList=u,Wi.isContextConsumer=function(S){return _(S)===s},Wi.isContextProvider=function(S){return _(S)===a},Wi.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===n},Wi.isForwardRef=function(S){return _(S)===o},Wi.isFragment=function(S){return _(S)===t},Wi.isLazy=function(S){return _(S)===p},Wi.isMemo=function(S){return _(S)===h},Wi.isPortal=function(S){return _(S)===e},Wi.isProfiler=function(S){return _(S)===r},Wi.isStrictMode=function(S){return _(S)===i},Wi.isSuspense=function(S){return _(S)===c},Wi.isSuspenseList=function(S){return _(S)===u},Wi.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===t||S===r||S===i||S===c||S===u||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===h||S.$$typeof===a||S.$$typeof===s||S.$$typeof===o||S.$$typeof===v||S.getModuleId!==void 0)},Wi.typeOf=_,Wi}var Zz;function qde(){return Zz||(Zz=1,BO.exports=Gde()),BO.exports}var BG=qde();function yf(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function FG(n){if(H.isValidElement(n)||BG.isValidElementType(n)||!yf(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=FG(n[t])}),e}function ra(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return yf(n)&&yf(e)&&Object.keys(e).forEach(r=>{H.isValidElement(e[r])||BG.isValidElementType(e[r])?i[r]=e[r]:yf(e[r])&&Object.prototype.hasOwnProperty.call(n,r)&&yf(n[r])?i[r]=ra(n[r],e[r],t):t.clone?i[r]=yf(e[r])?FG(e[r]):e[r]:i[r]=e[r]}),i}function ix(n,e){return e?ra(n,e,{clone:!1}):n}function Qz(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,r)=>{const s=/min-width:\s*([0-9.]+)/;return+(i.match(s)?.[1]||0)-+(r.match(s)?.[1]||0)});return t.length?t.reduce((i,r)=>{const s=e[r];return delete i[r],i[r]=s,i},{...e}):e}function Wde(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function $de(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,r]=t,s=Number.isNaN(+i)?i||0:+i;return n.containerQueries(r).up(s)}function Xde(n){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function t(s,a){s.up=(...o)=>e(n.breakpoints.up(...o),a),s.down=(...o)=>e(n.breakpoints.down(...o),a),s.between=(...o)=>e(n.breakpoints.between(...o),a),s.only=(...o)=>e(n.breakpoints.only(...o),a),s.not=(...o)=>{const c=e(n.breakpoints.not(...o),a);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const i={},r=s=>(t(i,s),i);return t(r),{...n,containerQueries:r}}const sM={xs:0,sm:600,md:900,lg:1200,xl:1536},Jz={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${sM[n]}px)`},Yde={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:sM[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function bu(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const s=i.breakpoints||Jz;return e.reduce((a,o,c)=>(a[s.up(s.keys[c])]=t(e[c]),a),{})}if(typeof e=="object"){const s=i.breakpoints||Jz;return Object.keys(e).reduce((a,o)=>{if(Wde(s.keys,o)){const c=$de(i.containerQueries?i:Yde,o);c&&(a[c]=t(e[o],o))}else if(Object.keys(s.values||sM).includes(o)){const c=s.up(o);a[c]=t(e[o],o)}else{const c=o;a[c]=e[c]}return a},{})}return t(e)}function VG(n={}){return n.keys?.reduce((t,i)=>{const r=n.up(i);return t[r]={},t},{})||{}}function lP(n,e){return n.reduce((t,i)=>{const r=t[i];return(!r||Object.keys(r).length===0)&&delete t[i],t},e)}function Kde(n,...e){const t=VG(n),i=[t,...e].reduce((r,s)=>ra(r,s),{});return lP(Object.keys(t),i)}function Zde(n,e){if(typeof n!="object")return{};const t={},i=Object.keys(e);return Array.isArray(n)?i.forEach((r,s)=>{s<n.length&&(t[r]=!0)}):i.forEach(r=>{n[r]!=null&&(t[r]=!0)}),t}function FO({values:n,breakpoints:e,base:t}){const i=t||Zde(n,e),r=Object.keys(i);if(r.length===0)return n;let s;return r.reduce((a,o,c)=>(Array.isArray(n)?(a[o]=n[c]!=null?n[c]:n[s],s=c):typeof n=="object"?(a[o]=n[o]!=null?n[o]:n[s],s=o):a[o]=n,a),{})}function aM(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((r,s)=>r&&r[s]?r[s]:null,n);if(i!=null)return i}return e.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,n)}function wC(n,e,t,i=t){let r;return typeof n=="function"?r=n(t):Array.isArray(n)?r=n[t]||i:r=aM(n,t)||i,e&&(r=e(r,i,n)),r}function ps(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:r}=n,s=a=>{if(a[e]==null)return null;const o=a[e],c=a.theme,u=aM(c,i)||{};return bu(a,o,p=>{let y=wC(u,r,p);return p===y&&typeof p=="string"&&(y=wC(u,r,`${e}${p==="default"?"":yt(p)}`,p)),t===!1?y:{[t]:y}})};return s.propTypes={},s.filterProps=[e],s}function Qde(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const Jde={m:"margin",p:"padding"},epe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},eB={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},tpe=Qde(n=>{if(n.length>2)if(eB[n])n=eB[n];else return[n];const[e,t]=n.split(""),i=Jde[e],r=epe[t]||"";return Array.isArray(r)?r.map(s=>i+s):[i+r]}),rL=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],sL=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...rL,...sL];function AS(n,e,t,i){const r=aM(n,e,!0)??t;return typeof r=="number"||typeof r=="string"?s=>typeof s=="string"?s:typeof r=="string"?r.startsWith("var(")&&s===0?0:r.startsWith("var(")&&s===1?r:`calc(${s} * ${r})`:r*s:Array.isArray(r)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),o=r[a];return s>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof r=="function"?r:()=>{}}function oM(n){return AS(n,"spacing",8)}function Zg(n,e){return typeof e=="string"||e==null?e:n(e)}function npe(n,e){return t=>n.reduce((i,r)=>(i[r]=Zg(e,t),i),{})}function ipe(n,e,t,i){if(!e.includes(t))return null;const r=tpe(t),s=npe(r,i),a=n[t];return bu(n,a,s)}function HG(n,e){const t=oM(n.theme);return Object.keys(n).map(i=>ipe(n,e,i,t)).reduce(ix,{})}function Xr(n){return HG(n,rL)}Xr.propTypes={};Xr.filterProps=rL;function Yr(n){return HG(n,sL)}Yr.propTypes={};Yr.filterProps=sL;function lM(...n){const e=n.reduce((i,r)=>(r.filterProps.forEach(s=>{i[s]=r}),i),{}),t=i=>Object.keys(i).reduce((r,s)=>e[s]?ix(r,e[s](i)):r,{});return t.propTypes={},t.filterProps=n.reduce((i,r)=>i.concat(r.filterProps),[]),t}function yc(n){return typeof n!="number"?n:`${n}px solid`}function Oc(n,e){return ps({prop:n,themeKey:"borders",transform:e})}const rpe=Oc("border",yc),spe=Oc("borderTop",yc),ape=Oc("borderRight",yc),ope=Oc("borderBottom",yc),lpe=Oc("borderLeft",yc),cpe=Oc("borderColor"),upe=Oc("borderTopColor"),fpe=Oc("borderRightColor"),hpe=Oc("borderBottomColor"),dpe=Oc("borderLeftColor"),ppe=Oc("outline",yc),mpe=Oc("outlineColor"),cM=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=AS(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:Zg(e,i)});return bu(n,n.borderRadius,t)}return null};cM.propTypes={};cM.filterProps=["borderRadius"];lM(rpe,spe,ape,ope,lpe,cpe,upe,fpe,hpe,dpe,cM,ppe,mpe);const uM=n=>{if(n.gap!==void 0&&n.gap!==null){const e=AS(n.theme,"spacing",8),t=i=>({gap:Zg(e,i)});return bu(n,n.gap,t)}return null};uM.propTypes={};uM.filterProps=["gap"];const fM=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=AS(n.theme,"spacing",8),t=i=>({columnGap:Zg(e,i)});return bu(n,n.columnGap,t)}return null};fM.propTypes={};fM.filterProps=["columnGap"];const hM=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=AS(n.theme,"spacing",8),t=i=>({rowGap:Zg(e,i)});return bu(n,n.rowGap,t)}return null};hM.propTypes={};hM.filterProps=["rowGap"];const gpe=ps({prop:"gridColumn"}),ype=ps({prop:"gridRow"}),vpe=ps({prop:"gridAutoFlow"}),_pe=ps({prop:"gridAutoColumns"}),bpe=ps({prop:"gridAutoRows"}),xpe=ps({prop:"gridTemplateColumns"}),Spe=ps({prop:"gridTemplateRows"}),Epe=ps({prop:"gridTemplateAreas"}),Tpe=ps({prop:"gridArea"});lM(uM,fM,hM,gpe,ype,vpe,_pe,bpe,xpe,Spe,Epe,Tpe);function v0(n,e){return e==="grey"?e:n}const wpe=ps({prop:"color",themeKey:"palette",transform:v0}),Cpe=ps({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:v0}),Ape=ps({prop:"backgroundColor",themeKey:"palette",transform:v0});lM(wpe,Cpe,Ape);function Rl(n){return n<=1&&n!==0?`${n*100}%`:n}const Mpe=ps({prop:"width",transform:Rl}),aL=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{const i=n.theme?.breakpoints?.values?.[t]||sM[t];return i?n.theme?.breakpoints?.unit!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Rl(t)}};return bu(n,n.maxWidth,e)}return null};aL.filterProps=["maxWidth"];const Rpe=ps({prop:"minWidth",transform:Rl}),Ope=ps({prop:"height",transform:Rl}),Ipe=ps({prop:"maxHeight",transform:Rl}),Ppe=ps({prop:"minHeight",transform:Rl});ps({prop:"size",cssProperty:"width",transform:Rl});ps({prop:"size",cssProperty:"height",transform:Rl});const Dpe=ps({prop:"boxSizing"});lM(Mpe,aL,Rpe,Ope,Ipe,Ppe,Dpe);const MS={border:{themeKey:"borders",transform:yc},borderTop:{themeKey:"borders",transform:yc},borderRight:{themeKey:"borders",transform:yc},borderBottom:{themeKey:"borders",transform:yc},borderLeft:{themeKey:"borders",transform:yc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:yc},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:cM},color:{themeKey:"palette",transform:v0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:v0},backgroundColor:{themeKey:"palette",transform:v0},p:{style:Yr},pt:{style:Yr},pr:{style:Yr},pb:{style:Yr},pl:{style:Yr},px:{style:Yr},py:{style:Yr},padding:{style:Yr},paddingTop:{style:Yr},paddingRight:{style:Yr},paddingBottom:{style:Yr},paddingLeft:{style:Yr},paddingX:{style:Yr},paddingY:{style:Yr},paddingInline:{style:Yr},paddingInlineStart:{style:Yr},paddingInlineEnd:{style:Yr},paddingBlock:{style:Yr},paddingBlockStart:{style:Yr},paddingBlockEnd:{style:Yr},m:{style:Xr},mt:{style:Xr},mr:{style:Xr},mb:{style:Xr},ml:{style:Xr},mx:{style:Xr},my:{style:Xr},margin:{style:Xr},marginTop:{style:Xr},marginRight:{style:Xr},marginBottom:{style:Xr},marginLeft:{style:Xr},marginX:{style:Xr},marginY:{style:Xr},marginInline:{style:Xr},marginInlineStart:{style:Xr},marginInlineEnd:{style:Xr},marginBlock:{style:Xr},marginBlockStart:{style:Xr},marginBlockEnd:{style:Xr},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:uM},rowGap:{style:hM},columnGap:{style:fM},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Rl},maxWidth:{style:aL},minWidth:{transform:Rl},height:{transform:Rl},maxHeight:{transform:Rl},minHeight:{transform:Rl},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Npe(...n){const e=n.reduce((i,r)=>i.concat(Object.keys(r)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function Lpe(n,e){return typeof n=="function"?n(e):n}function Upe(){function n(t,i,r,s){const a={[t]:i,theme:r},o=s[t];if(!o)return{[t]:i};const{cssProperty:c=t,themeKey:u,transform:h,style:p}=o;if(i==null)return null;if(u==="typography"&&i==="inherit")return{[t]:i};const y=aM(r,u)||{};return p?p(a):bu(a,i,_=>{let S=wC(y,h,_);return _===S&&typeof _=="string"&&(S=wC(y,h,`${t}${_==="default"?"":yt(_)}`,_)),c===!1?S:{[c]:S}})}function e(t){const{sx:i,theme:r={},nested:s}=t||{};if(!i)return null;const a=r.unstable_sxConfig??MS;function o(c){let u=c;if(typeof c=="function")u=c(r);else if(typeof c!="object")return c;if(!u)return null;const h=VG(r.breakpoints),p=Object.keys(h);let y=h;return Object.keys(u).forEach(v=>{const _=Lpe(u[v],r);if(_!=null)if(typeof _=="object")if(a[v])y=ix(y,n(v,_,r,a));else{const S=bu({theme:r},_,E=>({[v]:E}));Npe(S,_)?y[v]=e({sx:_,theme:r,nested:!0}):y=ix(y,S)}else y=ix(y,n(v,_,r,a))}),!s&&r.modularCssLayers?{"@layer sx":Qz(r,lP(p,y))}:Qz(r,lP(p,y))}return Array.isArray(i)?i.map(o):o(i)}return e}const Qg=Upe();Qg.filterProps=["sx"];const kpe=n=>{const e={systemProps:{},otherProps:{}},t=n?.theme?.unstable_sxConfig??MS;return Object.keys(n).forEach(i=>{t[i]?e.systemProps[i]=n[i]:e.otherProps[i]=n[i]}),e};function dM(n){const{sx:e,...t}=n,{systemProps:i,otherProps:r}=kpe(t);let s;return Array.isArray(e)?s=[i,...e]:typeof e=="function"?s=(...a)=>{const o=e(...a);return yf(o)?{...i,...o}:i}:s={...i,...e},{...r,sx:s}}function Ko(){return Ko=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ko.apply(null,arguments)}function zpe(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Bpe(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Fpe=(function(){function n(t){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Bpe(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=zpe(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},n})(),$a="-ms-",CC="-moz-",Ri="-webkit-",jG="comm",oL="rule",lL="decl",Vpe="@import",GG="@keyframes",Hpe="@layer",jpe=Math.abs,pM=String.fromCharCode,Gpe=Object.assign;function qpe(n,e){return xa(n,0)^45?(((e<<2^xa(n,0))<<2^xa(n,1))<<2^xa(n,2))<<2^xa(n,3):0}function qG(n){return n.trim()}function Wpe(n,e){return(n=e.exec(n))?n[0]:n}function Oi(n,e,t){return n.replace(e,t)}function cP(n,e){return n.indexOf(e)}function xa(n,e){return n.charCodeAt(e)|0}function Wx(n,e,t){return n.slice(e,t)}function ff(n){return n.length}function cL(n){return n.length}function KT(n,e){return e.push(n),n}function $pe(n,e){return n.map(e).join("")}var mM=1,G0=1,WG=0,sl=0,Cs=0,__="";function gM(n,e,t,i,r,s,a){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:mM,column:G0,length:a,return:""}}function eb(n,e){return Gpe(gM("",null,null,"",null,null,0),n,{length:-n.length},e)}function Xpe(){return Cs}function Ype(){return Cs=sl>0?xa(__,--sl):0,G0--,Cs===10&&(G0=1,mM--),Cs}function Nl(){return Cs=sl<WG?xa(__,sl++):0,G0++,Cs===10&&(G0=1,mM++),Cs}function Mf(){return xa(__,sl)}function Jw(){return sl}function RS(n,e){return Wx(__,n,e)}function $x(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $G(n){return mM=G0=1,WG=ff(__=n),sl=0,[]}function XG(n){return __="",n}function e2(n){return qG(RS(sl-1,uP(n===91?n+2:n===40?n+1:n)))}function Kpe(n){for(;(Cs=Mf())&&Cs<33;)Nl();return $x(n)>2||$x(Cs)>3?"":" "}function Zpe(n,e){for(;--e&&Nl()&&!(Cs<48||Cs>102||Cs>57&&Cs<65||Cs>70&&Cs<97););return RS(n,Jw()+(e<6&&Mf()==32&&Nl()==32))}function uP(n){for(;Nl();)switch(Cs){case n:return sl;case 34:case 39:n!==34&&n!==39&&uP(Cs);break;case 40:n===41&&uP(n);break;case 92:Nl();break}return sl}function Qpe(n,e){for(;Nl()&&n+Cs!==57;)if(n+Cs===84&&Mf()===47)break;return"/*"+RS(e,sl-1)+"*"+pM(n===47?n:Nl())}function Jpe(n){for(;!$x(Mf());)Nl();return RS(n,sl)}function eme(n){return XG(t2("",null,null,null,[""],n=$G(n),0,[0],n))}function t2(n,e,t,i,r,s,a,o,c){for(var u=0,h=0,p=a,y=0,v=0,_=0,S=1,E=1,x=1,w=0,M="",C=r,D=s,L=i,I=M;E;)switch(_=w,w=Nl()){case 40:if(_!=108&&xa(I,p-1)==58){cP(I+=Oi(e2(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:I+=e2(w);break;case 9:case 10:case 13:case 32:I+=Kpe(_);break;case 92:I+=Zpe(Jw()-1,7);continue;case 47:switch(Mf()){case 42:case 47:KT(tme(Qpe(Nl(),Jw()),e,t),c);break;default:I+="/"}break;case 123*S:o[u++]=ff(I)*x;case 125*S:case 59:case 0:switch(w){case 0:case 125:E=0;case 59+h:x==-1&&(I=Oi(I,/\f/g,"")),v>0&&ff(I)-p&&KT(v>32?nB(I+";",i,t,p-1):nB(Oi(I," ","")+";",i,t,p-2),c);break;case 59:I+=";";default:if(KT(L=tB(I,e,t,u,h,r,o,M,C=[],D=[],p),s),w===123)if(h===0)t2(I,e,L,L,C,s,p,o,D);else switch(y===99&&xa(I,3)===110?100:y){case 100:case 108:case 109:case 115:t2(n,L,L,i&&KT(tB(n,L,L,0,0,r,o,M,r,C=[],p),D),r,D,p,o,i?C:D);break;default:t2(I,L,L,L,[""],D,0,o,D)}}u=h=v=0,S=x=1,M=I="",p=a;break;case 58:p=1+ff(I),v=_;default:if(S<1){if(w==123)--S;else if(w==125&&S++==0&&Ype()==125)continue}switch(I+=pM(w),w*S){case 38:x=h>0?1:(I+="\f",-1);break;case 44:o[u++]=(ff(I)-1)*x,x=1;break;case 64:Mf()===45&&(I+=e2(Nl())),y=Mf(),h=p=ff(M=I+=Jpe(Jw())),w++;break;case 45:_===45&&ff(I)==2&&(S=0)}}return s}function tB(n,e,t,i,r,s,a,o,c,u,h){for(var p=r-1,y=r===0?s:[""],v=cL(y),_=0,S=0,E=0;_<i;++_)for(var x=0,w=Wx(n,p+1,p=jpe(S=a[_])),M=n;x<v;++x)(M=qG(S>0?y[x]+" "+w:Oi(w,/&\f/g,y[x])))&&(c[E++]=M);return gM(n,e,t,r===0?oL:o,c,u,h)}function tme(n,e,t){return gM(n,e,t,jG,pM(Xpe()),Wx(n,2,-2),0)}function nB(n,e,t,i){return gM(n,e,t,lL,Wx(n,0,i),Wx(n,i+1,-1),i)}function _0(n,e){for(var t="",i=cL(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function nme(n,e,t,i){switch(n.type){case Hpe:if(n.children.length)break;case Vpe:case lL:return n.return=n.return||n.value;case jG:return"";case GG:return n.return=n.value+"{"+_0(n.children,i)+"}";case oL:n.value=n.props.join(",")}return ff(t=_0(n.children,i))?n.return=n.value+"{"+t+"}":""}function ime(n){var e=cL(n);return function(t,i,r,s){for(var a="",o=0;o<e;o++)a+=n[o](t,i,r,s)||"";return a}}function rme(n){return function(e){e.root||(e=e.return)&&n(e)}}function YG(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var sme=function(e,t,i){for(var r=0,s=0;r=s,s=Mf(),r===38&&s===12&&(t[i]=1),!$x(s);)Nl();return RS(e,sl)},ame=function(e,t){var i=-1,r=44;do switch($x(r)){case 0:r===38&&Mf()===12&&(t[i]=1),e[i]+=sme(sl-1,t,i);break;case 2:e[i]+=e2(r);break;case 4:if(r===44){e[++i]=Mf()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=pM(r)}while(r=Nl());return e},ome=function(e,t){return XG(ame($G(e),t))},iB=new WeakMap,lme=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!iB.get(i))&&!r){iB.set(e,!0);for(var s=[],a=ome(t,s),o=i.props,c=0,u=0;c<a.length;c++)for(var h=0;h<o.length;h++,u++)e.props[u]=s[c]?a[c].replace(/&\f/g,o[h]):o[h]+" "+a[c]}}},cme=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function KG(n,e){switch(qpe(n,e)){case 5103:return Ri+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ri+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ri+n+CC+n+$a+n+n;case 6828:case 4268:return Ri+n+$a+n+n;case 6165:return Ri+n+$a+"flex-"+n+n;case 5187:return Ri+n+Oi(n,/(\w+).+(:[^]+)/,Ri+"box-$1$2"+$a+"flex-$1$2")+n;case 5443:return Ri+n+$a+"flex-item-"+Oi(n,/flex-|-self/,"")+n;case 4675:return Ri+n+$a+"flex-line-pack"+Oi(n,/align-content|flex-|-self/,"")+n;case 5548:return Ri+n+$a+Oi(n,"shrink","negative")+n;case 5292:return Ri+n+$a+Oi(n,"basis","preferred-size")+n;case 6060:return Ri+"box-"+Oi(n,"-grow","")+Ri+n+$a+Oi(n,"grow","positive")+n;case 4554:return Ri+Oi(n,/([^-])(transform)/g,"$1"+Ri+"$2")+n;case 6187:return Oi(Oi(Oi(n,/(zoom-|grab)/,Ri+"$1"),/(image-set)/,Ri+"$1"),n,"")+n;case 5495:case 3959:return Oi(n,/(image-set\([^]*)/,Ri+"$1$`$1");case 4968:return Oi(Oi(n,/(.+:)(flex-)?(.*)/,Ri+"box-pack:$3"+$a+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ri+n+n;case 4095:case 3583:case 4068:case 2532:return Oi(n,/(.+)-inline(.+)/,Ri+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ff(n)-1-e>6)switch(xa(n,e+1)){case 109:if(xa(n,e+4)!==45)break;case 102:return Oi(n,/(.+:)(.+)-([^]+)/,"$1"+Ri+"$2-$3$1"+CC+(xa(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~cP(n,"stretch")?KG(Oi(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(xa(n,e+1)!==115)break;case 6444:switch(xa(n,ff(n)-3-(~cP(n,"!important")&&10))){case 107:return Oi(n,":",":"+Ri)+n;case 101:return Oi(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ri+(xa(n,14)===45?"inline-":"")+"box$3$1"+Ri+"$2$3$1"+$a+"$2box$3")+n}break;case 5936:switch(xa(n,e+11)){case 114:return Ri+n+$a+Oi(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ri+n+$a+Oi(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ri+n+$a+Oi(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ri+n+$a+n+n}return n}var ume=function(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case lL:e.return=KG(e.value,e.length);break;case GG:return _0([eb(e,{value:Oi(e.value,"@","@"+Ri)})],r);case oL:if(e.length)return $pe(e.props,function(s){switch(Wpe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _0([eb(e,{props:[Oi(s,/:(read-\w+)/,":"+CC+"$1")]})],r);case"::placeholder":return _0([eb(e,{props:[Oi(s,/:(plac\w+)/,":"+Ri+"input-$1")]}),eb(e,{props:[Oi(s,/:(plac\w+)/,":"+CC+"$1")]}),eb(e,{props:[Oi(s,/:(plac\w+)/,$a+"input-$1")]})],r)}return""})}},fme=[ume],hme=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(S){var E=S.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var r=e.stylisPlugins||fme,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(S){for(var E=S.getAttribute("data-emotion").split(" "),x=1;x<E.length;x++)s[E[x]]=!0;o.push(S)});var c,u=[lme,cme];{var h,p=[nme,rme(function(S){h.insert(S)})],y=ime(u.concat(r,p)),v=function(E){return _0(eme(E),y)};c=function(E,x,w,M){h=w,v(E?E+"{"+x.styles+"}":x.styles),M&&(_.inserted[x.name]=!0)}}var _={key:t,sheet:new Fpe({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return _.sheet.hydrate(o),_},VO={exports:{}},Di={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rB;function dme(){if(rB)return Di;rB=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,o=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,S=n?Symbol.for("react.block"):60121,E=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function M(D){if(typeof D=="object"&&D!==null){var L=D.$$typeof;switch(L){case e:switch(D=D.type,D){case c:case u:case i:case s:case r:case p:return D;default:switch(D=D&&D.$$typeof,D){case o:case h:case _:case v:case a:return D;default:return L}}case t:return L}}}function C(D){return M(D)===u}return Di.AsyncMode=c,Di.ConcurrentMode=u,Di.ContextConsumer=o,Di.ContextProvider=a,Di.Element=e,Di.ForwardRef=h,Di.Fragment=i,Di.Lazy=_,Di.Memo=v,Di.Portal=t,Di.Profiler=s,Di.StrictMode=r,Di.Suspense=p,Di.isAsyncMode=function(D){return C(D)||M(D)===c},Di.isConcurrentMode=C,Di.isContextConsumer=function(D){return M(D)===o},Di.isContextProvider=function(D){return M(D)===a},Di.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===e},Di.isForwardRef=function(D){return M(D)===h},Di.isFragment=function(D){return M(D)===i},Di.isLazy=function(D){return M(D)===_},Di.isMemo=function(D){return M(D)===v},Di.isPortal=function(D){return M(D)===t},Di.isProfiler=function(D){return M(D)===s},Di.isStrictMode=function(D){return M(D)===r},Di.isSuspense=function(D){return M(D)===p},Di.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===i||D===u||D===s||D===r||D===p||D===y||typeof D=="object"&&D!==null&&(D.$$typeof===_||D.$$typeof===v||D.$$typeof===a||D.$$typeof===o||D.$$typeof===h||D.$$typeof===E||D.$$typeof===x||D.$$typeof===w||D.$$typeof===S)},Di.typeOf=M,Di}var sB;function pme(){return sB||(sB=1,VO.exports=dme()),VO.exports}var HO,aB;function mme(){if(aB)return HO;aB=1;var n=pme(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=i,s[n.Memo]=r;function a(_){return n.isMemo(_)?r:s[_.$$typeof]||e}var o=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,y=Object.prototype;function v(_,S,E){if(typeof S!="string"){if(y){var x=p(S);x&&x!==y&&v(_,x,E)}var w=c(S);u&&(w=w.concat(u(S)));for(var M=a(_),C=a(S),D=0;D<w.length;++D){var L=w[D];if(!t[L]&&!(E&&E[L])&&!(C&&C[L])&&!(M&&M[L])){var I=h(S,L);try{o(_,L,I)}catch{}}}}return _}return HO=v,HO}mme();var gme=!0;function ZG(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):r&&(i+=r+" ")}),i}var uL=function(e,t,i){var r=e.key+"-"+t.name;(i===!1||gme===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},fL=function(e,t,i){uL(e,t,i);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function yme(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var vme={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_me=/[A-Z]|^ms/g,bme=/_EMO_([^_]+?)_([^]*?)_EMO_/g,QG=function(e){return e.charCodeAt(1)===45},oB=function(e){return e!=null&&typeof e!="boolean"},jO=YG(function(n){return QG(n)?n:n.replace(_me,"-$&").toLowerCase()}),lB=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(bme,function(i,r,s){return hf={name:r,styles:s,next:hf},r})}return vme[e]!==1&&!QG(e)&&typeof t=="number"&&t!==0?t+"px":t};function Xx(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var r=t;if(r.anim===1)return hf={name:r.name,styles:r.styles,next:hf},r.name;var s=t;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)hf={name:a.name,styles:a.styles,next:hf},a=a.next;var o=s.styles+";";return o}return xme(n,e,t)}case"function":{if(n!==void 0){var c=hf,u=t(n);return hf=c,Xx(n,e,u)}break}}var h=t;if(e==null)return h;var p=e[h];return p!==void 0?p:h}function xme(n,e,t){var i="";if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=Xx(n,e,t[r])+";";else for(var s in t){var a=t[s];if(typeof a!="object"){var o=a;e!=null&&e[o]!==void 0?i+=s+"{"+e[o]+"}":oB(o)&&(i+=jO(s)+":"+lB(s,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var c=0;c<a.length;c++)oB(a[c])&&(i+=jO(s)+":"+lB(s,a[c])+";");else{var u=Xx(n,e,a);switch(s){case"animation":case"animationName":{i+=jO(s)+":"+u+";";break}default:i+=s+"{"+u+"}"}}}return i}var cB=/label:\s*([^\s;{]+)\s*(;|$)/g,hf;function OS(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";hf=void 0;var s=n[0];if(s==null||s.raw===void 0)i=!1,r+=Xx(t,e,s);else{var a=s;r+=a[0]}for(var o=1;o<n.length;o++)if(r+=Xx(t,e,n[o]),i){var c=s;r+=c[o]}cB.lastIndex=0;for(var u="",h;(h=cB.exec(r))!==null;)u+="-"+h[1];var p=yme(r)+u;return{name:p,styles:r,next:hf}}var Sme=function(e){return e()},JG=K3.useInsertionEffect?K3.useInsertionEffect:!1,eq=JG||Sme,uB=JG||H.useLayoutEffect,tq=H.createContext(typeof HTMLElement<"u"?hme({key:"css"}):null);tq.Provider;var hL=function(e){return H.forwardRef(function(t,i){var r=H.useContext(tq);return e(t,r,i)})},yM=H.createContext({}),dL={}.hasOwnProperty,fP="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Eme=function(e,t){var i={};for(var r in t)dL.call(t,r)&&(i[r]=t[r]);return i[fP]=e,i},Tme=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return uL(t,i,r),eq(function(){return fL(t,i,r)}),null},wme=hL(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=n[fP],s=[i],a="";typeof n.className=="string"?a=ZG(e.registered,s,n.className):n.className!=null&&(a=n.className+" ");var o=OS(s,void 0,H.useContext(yM));a+=e.key+"-"+o.name;var c={};for(var u in n)dL.call(n,u)&&u!=="css"&&u!==fP&&(c[u]=n[u]);return c.className=a,t&&(c.ref=t),H.createElement(H.Fragment,null,H.createElement(Tme,{cache:e,serialized:o,isStringTag:typeof r=="string"}),H.createElement(r,c))}),Cme=wme,fB=function(e,t){var i=arguments;if(t==null||!dL.call(t,"css"))return H.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=Cme,s[1]=Eme(e,t);for(var a=2;a<r;a++)s[a]=i[a];return H.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(fB||(fB={}));var Ame=hL(function(n,e){var t=n.styles,i=OS([t],void 0,H.useContext(yM)),r=H.useRef();return uB(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,c=document.querySelector('style[data-emotion="'+s+" "+i.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),c!==null&&(o=!0,c.setAttribute("data-emotion",s),a.hydrate([c])),r.current=[a,o],function(){a.flush()}},[e]),uB(function(){var s=r.current,a=s[0],o=s[1];if(o){s[1]=!1;return}if(i.next!==void 0&&fL(e,i.next,!0),a.tags.length){var c=a.tags[a.tags.length-1].nextElementSibling;a.before=c,a.flush()}e.insert("",i,a,!1)},[e,i.name]),null});function pL(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return OS(e)}function IS(){var n=pL.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Mme=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Rme=YG(function(n){return Mme.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Ome=Rme,Ime=function(e){return e!=="theme"},hB=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Ome:Ime},dB=function(e,t,i){var r;if(t){var s=t.shouldForwardProp;r=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},Pme=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return uL(t,i,r),eq(function(){return fL(t,i,r)}),null},Dme=function n(e,t){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,s,a;t!==void 0&&(s=t.label,a=t.target);var o=dB(e,t,i),c=o||hB(r),u=!c("as");return function(){var h=arguments,p=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var y=h[0];p.push(y[0]);for(var v=h.length,_=1;_<v;_++)p.push(h[_],y[_])}var S=hL(function(E,x,w){var M=u&&E.as||r,C="",D=[],L=E;if(E.theme==null){L={};for(var I in E)L[I]=E[I];L.theme=H.useContext(yM)}typeof E.className=="string"?C=ZG(x.registered,D,E.className):E.className!=null&&(C=E.className+" ");var N=OS(p.concat(D),x.registered,L);C+=x.key+"-"+N.name,a!==void 0&&(C+=" "+a);var P=u&&o===void 0?hB(M):c,U={};for(var V in E)u&&V==="as"||P(V)&&(U[V]=E[V]);return U.className=C,w&&(U.ref=w),H.createElement(H.Fragment,null,H.createElement(Pme,{cache:x,serialized:N,isStringTag:typeof M=="string"}),H.createElement(M,U))});return S.displayName=s!==void 0?s:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=r,S.__emotion_styles=p,S.__emotion_forwardProp=o,Object.defineProperty(S,"toString",{value:function(){return"."+a}}),S.withComponent=function(E,x){var w=n(E,Ko({},t,x,{shouldForwardProp:dB(S,x,!0)}));return w.apply(void 0,p)},S}},Nme=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],hP=Dme.bind(null);Nme.forEach(function(n){hP[n]=hP(n)});function Lme(n){return n==null||Object.keys(n).length===0}function Ume(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?r=>e(Lme(r)?t:r):e;return Z.jsx(Ame,{styles:i})}function nq(n,e){return hP(n,e)}function kme(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const pB=[];function Op(n){return pB[0]=n,OS(pB)}const zme=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function Bme(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...r}=n,s=zme(e),a=Object.keys(s);function o(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t})`}function c(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-i/100}${t})`}function u(y,v){const _=a.indexOf(v);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t}) and (max-width:${(_!==-1&&typeof e[a[_]]=="number"?e[a[_]]:v)-i/100}${t})`}function h(y){return a.indexOf(y)+1<a.length?u(y,a[a.indexOf(y)+1]):o(y)}function p(y){const v=a.indexOf(y);return v===0?o(a[1]):v===a.length-1?c(a[v]):u(y,a[a.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:o,down:c,between:u,only:h,not:p,unit:t,...r}}const Fme={borderRadius:4};function iq(n=8,e=oM({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function Vme(n,e){const t=this;if(t.vars){if(!t.colorSchemes?.[n]||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function b_(n={},...e){const{breakpoints:t={},palette:i={},spacing:r,shape:s={},...a}=n,o=Bme(t),c=iq(r);let u=ra({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:c,shape:{...Fme,...s}},a);return u=Xde(u),u.applyStyles=Vme,u=e.reduce((h,p)=>ra(h,p),u),u.unstable_sxConfig={...MS,...a?.unstable_sxConfig},u.unstable_sx=function(p){return Qg({sx:p,theme:this})},u}function Hme(n){return Object.keys(n).length===0}function jme(n=null){const e=H.useContext(yM);return!e||Hme(e)?n:e}const Gme=b_();function PS(n=Gme){return jme(n)}function GO(n){const e=Op(n);return n!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):n}function qme({styles:n,themeId:e,defaultTheme:t={}}){const i=PS(t),r=e&&i[e]||i;let s=typeof n=="function"?n(r):n;return r.modularCssLayers&&(Array.isArray(s)?s=s.map(a=>GO(typeof a=="function"?a(r):a)):s=GO(s)),Z.jsx(Ume,{styles:s})}function Wme(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:r}=n,s=nq("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(Qg);return H.forwardRef(function(c,u){const h=PS(t),{className:p,component:y="div",...v}=dM(c);return Z.jsx(s,{as:y,ref:u,className:Pt(p,r?r(i):i),theme:e&&h[e]||h,...v})})}const $me={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function mn(n,e,t="Mui"){const i=$me[e];return i?`${t}-${i}`:`${kG.generate(n)}-${e}`}function gn(n,e,t="Mui"){const i={};return e.forEach(r=>{i[r]=mn(n,r,t)}),i}function rq(n){const{variants:e,...t}=n,i={variants:e,style:Op(t),isProcessed:!0};return i.style===t||e&&e.forEach(r=>{typeof r.style!="function"&&(r.style=Op(r.style))}),i}const Xme=b_();function qO(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function Rg(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function Yme(n){return n?(e,t)=>t[n]:null}function Kme(n,e,t){n.theme=Qme(n.theme)?t:n.theme[e]||n.theme}function n2(n,e,t){const i=typeof e=="function"?e(n):e;if(Array.isArray(i))return i.flatMap(r=>n2(n,r,t));if(Array.isArray(i?.variants)){let r;if(i.isProcessed)r=t?Rg(i.style,t):i.style;else{const{variants:s,...a}=i;r=t?Rg(Op(a),t):a}return sq(n,i.variants,[r],t)}return i?.isProcessed?t?Rg(Op(i.style),t):i.style:t?Rg(Op(i),t):i}function sq(n,e,t=[],i=void 0){let r;e:for(let s=0;s<e.length;s+=1){const a=e[s];if(typeof a.props=="function"){if(r??={...n,...n.ownerState,ownerState:n.ownerState},!a.props(r))continue}else for(const o in a.props)if(n[o]!==a.props[o]&&n.ownerState?.[o]!==a.props[o])continue e;typeof a.style=="function"?(r??={...n,...n.ownerState,ownerState:n.ownerState},t.push(i?Rg(Op(a.style(r)),i):a.style(r))):t.push(i?Rg(Op(a.style),i):a.style)}return t}function aq(n={}){const{themeId:e,defaultTheme:t=Xme,rootShouldForwardProp:i=qO,slotShouldForwardProp:r=qO}=n;function s(o){Kme(o,e,t)}return(o,c={})=>{kme(o,L=>L.filter(I=>I!==Qg));const{name:u,slot:h,skipVariantsResolver:p,skipSx:y,overridesResolver:v=Yme(ege(h)),..._}=c,S=u&&u.startsWith("Mui")||h?"components":"custom",E=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,x=y||!1;let w=qO;h==="Root"||h==="root"?w=i:h?w=r:Jme(o)&&(w=void 0);const M=nq(o,{shouldForwardProp:w,label:Zme(),..._}),C=L=>{if(L.__emotion_real===L)return L;if(typeof L=="function")return function(N){return n2(N,L,N.theme.modularCssLayers?S:void 0)};if(yf(L)){const I=rq(L);return function(P){return I.variants?n2(P,I,P.theme.modularCssLayers?S:void 0):P.theme.modularCssLayers?Rg(I.style,S):I.style}}return L},D=(...L)=>{const I=[],N=L.map(C),P=[];if(I.push(s),u&&v&&P.push(function(F){const ee=F.theme.components?.[u]?.styleOverrides;if(!ee)return null;const q={};for(const $ in ee)q[$]=n2(F,ee[$],F.theme.modularCssLayers?"theme":void 0);return v(F,q)}),u&&!E&&P.push(function(F){const ee=F.theme?.components?.[u]?.variants;return ee?sq(F,ee,[],F.theme.modularCssLayers?"theme":void 0):null}),x||P.push(Qg),Array.isArray(N[0])){const z=N.shift(),F=new Array(I.length).fill(""),K=new Array(P.length).fill("");let ee;ee=[...F,...z,...K],ee.raw=[...F,...z.raw,...K],I.unshift(ee)}const U=[...I,...N,...P],V=M(...U);return o.muiName&&(V.muiName=o.muiName),V};return M.withConfig&&(D.withConfig=M.withConfig),D}}function Zme(n,e){return void 0}function Qme(n){for(const e in n)return!1;return!0}function Jme(n){return typeof n=="string"&&n.charCodeAt(0)>96}function ege(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const oq=aq();function Yx(n,e,t=!1){const i={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const s=r;if(s==="components"||s==="slots")i[s]={...n[s],...i[s]};else if(s==="componentsProps"||s==="slotProps"){const a=n[s],o=e[s];if(!o)i[s]=a||{};else if(!a)i[s]=o;else{i[s]={...o};for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const u=c;i[s][u]=Yx(a[u],o[u],t)}}}else s==="className"&&t&&e.className?i.className=Pt(n?.className,e?.className):s==="style"&&t&&e.style?i.style={...n?.style,...e?.style}:i[s]===void 0&&(i[s]=n[s])}return i}function tge(n){const{theme:e,name:t,props:i}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?i:Yx(e.components[t].defaultProps,i)}function lq({props:n,name:e,defaultTheme:t,themeId:i}){let r=PS(t);return i&&(r=r[i]||r),tge({theme:r,name:e,props:n})}const xu=typeof window<"u"?H.useLayoutEffect:H.useEffect;function nge(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function mL(n,e=0,t=1){return nge(n,e,t)}function ige(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function jp(n){if(n.type)return n;if(n.charAt(0)==="#")return jp(ige(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Jh(9,n));let i=n.substring(e+1,n.length-1),r;if(t==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Jh(10,r))}else i=i.split(",");return i=i.map(s=>parseFloat(s)),{type:t,values:i,colorSpace:r}}const rge=n=>{const e=jp(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},Mb=(n,e)=>{try{return rge(n)}catch{return n}};function vM(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((r,s)=>s<3?parseInt(r,10):r):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function cq(n){n=jp(n);const{values:e}=n,t=e[0],i=e[1]/100,r=e[2]/100,s=i*Math.min(r,1-r),a=(u,h=(u+t/30)%12)=>r-s*Math.max(Math.min(h-3,9-h,1),-1);let o="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(o+="a",c.push(e[3])),vM({type:o,values:c})}function dP(n){n=jp(n);let e=n.type==="hsl"||n.type==="hsla"?jp(cq(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function sge(n,e){const t=dP(n),i=dP(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function AC(n,e){return n=jp(n),e=mL(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,vM(n)}function og(n,e,t){try{return AC(n,e)}catch{return n}}function _M(n,e){if(n=jp(n),e=mL(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return vM(n)}function ki(n,e,t){try{return _M(n,e)}catch{return n}}function DS(n,e){if(n=jp(n),e=mL(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return vM(n)}function zi(n,e,t){try{return DS(n,e)}catch{return n}}function age(n,e=.15){return dP(n)>.5?_M(n,e):DS(n,e)}function ZT(n,e,t){try{return age(n,e)}catch{return n}}const oge=H.createContext(),NS=()=>H.useContext(oge)??!1,lge=H.createContext(void 0);function cge(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const r=e.components[t];return r.defaultProps?Yx(r.defaultProps,i,e.components.mergeClassNameAndStyle):!r.styleOverrides&&!r.variants?Yx(r,i,e.components.mergeClassNameAndStyle):i}function uge({props:n,name:e}){const t=H.useContext(lge);return cge({props:n,name:e,theme:{components:t}})}let mB=0;function fge(n){const[e,t]=H.useState(n),i=n||e;return H.useEffect(()=>{e==null&&(mB+=1,t(`mui-${mB}`))},[e]),i}const hge={...K3},gB=hge.useId;function x_(n){if(gB!==void 0){const e=gB();return n??e}return fge(n)}const yB={theme:void 0};function dge(n){let e,t;return function(r){let s=e;return(s===void 0||r.theme!==t)&&(yB.theme=r.theme,s=rq(n(yB)),e=s,t=r.theme),s}}function pge(n=""){function e(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${r}${e(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${n?`${n}-`:""}${i}${e(...r)})`}const vB=(n,e,t,i=[])=>{let r=n;e.forEach((s,a)=>{a===e.length-1?Array.isArray(r)?r[Number(s)]=t:r&&typeof r=="object"&&(r[s]=t):r&&typeof r=="object"&&(r[s]||(r[s]=i.includes(s)?[]:{}),r=r[s])})},mge=(n,e,t)=>{function i(r,s=[],a=[]){Object.entries(r).forEach(([o,c])=>{(!t||t&&!t([...s,o]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?i(c,[...s,o],Array.isArray(c)?[...a,o]:a):e([...s,o],c,a))})}i(n)},gge=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function WO(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},r={},s={},a={};return mge(n,(o,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(!i||!i(o,c))){const h=`--${t?`${t}-`:""}${o.join("-")}`,p=gge(o,c);Object.assign(r,{[h]:p}),vB(s,o,`var(${h})`,u),vB(a,o,`var(${h}, ${p})`,u)}},o=>o[0]==="vars"),{css:r,vars:s,varsWithDefaults:a}}function yge(n,e={}){const{getSelector:t=x,disableCssColorScheme:i,colorSchemeSelector:r,enableContrastVars:s}=e,{colorSchemes:a={},components:o,defaultColorScheme:c="light",...u}=n,{vars:h,css:p,varsWithDefaults:y}=WO(u,e);let v=y;const _={},{[c]:S,...E}=a;if(Object.entries(E||{}).forEach(([C,D])=>{const{vars:L,css:I,varsWithDefaults:N}=WO(D,e);v=ra(v,N),_[C]={css:I,vars:L}}),S){const{css:C,vars:D,varsWithDefaults:L}=WO(S,e);v=ra(v,L),_[c]={css:C,vars:D}}function x(C,D){let L=r;if(r==="class"&&(L=".%s"),r==="data"&&(L="[data-%s]"),r?.startsWith("data-")&&!r.includes("%s")&&(L=`[${r}="%s"]`),C){if(L==="media")return n.defaultColorScheme===C?":root":{[`@media (prefers-color-scheme: ${a[C]?.palette?.mode||C})`]:{":root":D}};if(L)return n.defaultColorScheme===C?`:root, ${L.replace("%s",String(C))}`:L.replace("%s",String(C))}return":root"}return{vars:v,generateThemeVars:()=>{let C={...h};return Object.entries(_).forEach(([,{vars:D}])=>{C=ra(C,D)}),C},generateStyleSheets:()=>{const C=[],D=n.defaultColorScheme||"light";function L(P,U){Object.keys(U).length&&C.push(typeof P=="string"?{[P]:{...U}}:P)}L(t(void 0,{...p}),p);const{[D]:I,...N}=_;if(I){const{css:P}=I,U=a[D]?.palette?.mode,V=!i&&U?{colorScheme:U,...P}:{...P};L(t(D,{...V}),V)}return Object.entries(N).forEach(([P,{css:U}])=>{const V=a[P]?.palette?.mode,z=!i&&V?{colorScheme:V,...U}:{...U};L(t(P,{...z}),z)}),s&&C.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),C}}}function vge(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function rx(n,e){return H.isValidElement(n)&&e.indexOf(n.type.muiName??n.type?._payload?.value?.muiName)!==-1}const _ge=(n,e)=>n.filter(t=>e.includes(t)),S_=(n,e,t)=>{const i=n.keys[0];Array.isArray(e)?e.forEach((r,s)=>{t((a,o)=>{s<=n.keys.length-1&&(s===0?Object.assign(a,o):a[n.up(n.keys[s])]=o)},r)}):e&&typeof e=="object"?(Object.keys(e).length>n.keys.length?n.keys:_ge(n.keys,Object.keys(e))).forEach(s=>{if(n.keys.includes(s)){const a=e[s];a!==void 0&&t((o,c)=>{i===s?Object.assign(o,c):o[n.up(s)]=c},a)}}):(typeof e=="number"||typeof e=="string")&&t((r,s)=>{Object.assign(r,s)},e)};function MC(n){return`--Grid-${n}Spacing`}function bM(n){return`--Grid-parent-${n}Spacing`}const _B="--Grid-columns",b0="--Grid-parent-columns",bge=({theme:n,ownerState:e})=>{const t={};return S_(n.breakpoints,e.size,(i,r)=>{let s={};r==="grow"&&(s={flexBasis:0,flexGrow:1,maxWidth:"100%"}),r==="auto"&&(s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof r=="number"&&(s={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${r} / var(${b0}) - (var(${b0}) - ${r}) * (var(${bM("column")}) / var(${b0})))`}),i(t,s)}),t},xge=({theme:n,ownerState:e})=>{const t={};return S_(n.breakpoints,e.offset,(i,r)=>{let s={};r==="auto"&&(s={marginLeft:"auto"}),typeof r=="number"&&(s={marginLeft:r===0?"0px":`calc(100% * ${r} / var(${b0}) + var(${bM("column")}) * ${r} / var(${b0}))`}),i(t,s)}),t},Sge=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={[_B]:12};return S_(n.breakpoints,e.columns,(i,r)=>{const s=r??12;i(t,{[_B]:s,"> *":{[b0]:s}})}),t},Ege=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return S_(n.breakpoints,e.rowSpacing,(i,r)=>{const s=typeof r=="string"?r:n.spacing?.(r);i(t,{[MC("row")]:s,"> *":{[bM("row")]:s}})}),t},Tge=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return S_(n.breakpoints,e.columnSpacing,(i,r)=>{const s=typeof r=="string"?r:n.spacing?.(r);i(t,{[MC("column")]:s,"> *":{[bM("column")]:s}})}),t},wge=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return S_(n.breakpoints,e.direction,(i,r)=>{i(t,{flexDirection:r})}),t},Cge=({ownerState:n})=>({minWidth:0,boxSizing:"border-box",...n.container&&{display:"flex",flexWrap:"wrap",...n.wrap&&n.wrap!=="wrap"&&{flexWrap:n.wrap},gap:`var(${MC("row")}) var(${MC("column")})`}}),Age=n=>{const e=[];return Object.entries(n).forEach(([t,i])=>{i!==!1&&i!==void 0&&e.push(`grid-${t}-${String(i)}`)}),e},Mge=(n,e="xs")=>{function t(i){return i===void 0?!1:typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"&&i>0}if(t(n))return[`spacing-${e}-${String(n)}`];if(typeof n=="object"&&!Array.isArray(n)){const i=[];return Object.entries(n).forEach(([r,s])=>{t(s)&&i.push(`spacing-${r}-${String(s)}`)}),i}return[]},Rge=n=>n===void 0?[]:typeof n=="object"?Object.entries(n).map(([e,t])=>`direction-${e}-${t}`):[`direction-xs-${String(n)}`];function Oge(n,e){n.item!==void 0&&delete n.item,n.zeroMinWidth!==void 0&&delete n.zeroMinWidth,e.keys.forEach(t=>{n[t]!==void 0&&delete n[t]})}const Ige=b_(),Pge=oq("div",{name:"MuiGrid",slot:"Root"});function Dge(n){return lq({props:n,name:"MuiGrid",defaultTheme:Ige})}function Nge(n={}){const{createStyledComponent:e=Pge,useThemeProps:t=Dge,useTheme:i=PS,componentName:r="MuiGrid"}=n,s=(u,h)=>{const{container:p,direction:y,spacing:v,wrap:_,size:S}=u,E={root:["root",p&&"container",_!=="wrap"&&`wrap-xs-${String(_)}`,...Rge(y),...Age(S),...p?Mge(v,h.breakpoints.keys[0]):[]]};return pn(E,x=>mn(r,x),{})};function a(u,h,p=()=>!0){const y={};return u===null||(Array.isArray(u)?u.forEach((v,_)=>{v!==null&&p(v)&&h.keys[_]&&(y[h.keys[_]]=v)}):typeof u=="object"?Object.keys(u).forEach(v=>{const _=u[v];_!=null&&p(_)&&(y[v]=_)}):y[h.keys[0]]=u),y}const o=e(Sge,Tge,Ege,bge,wge,Cge,xge),c=H.forwardRef(function(h,p){const y=i(),v=t(h),_=dM(v);Oge(_,y.breakpoints);const{className:S,children:E,columns:x=12,container:w=!1,component:M="div",direction:C="row",wrap:D="wrap",size:L={},offset:I={},spacing:N=0,rowSpacing:P=N,columnSpacing:U=N,unstable_level:V=0,...z}=_,F=a(L,y.breakpoints,Y=>Y!==!1),K=a(I,y.breakpoints),ee=h.columns??(V?void 0:x),q=h.spacing??(V?void 0:N),$=h.rowSpacing??h.spacing??(V?void 0:P),Q=h.columnSpacing??h.spacing??(V?void 0:U),se={..._,level:V,columns:ee,container:w,direction:C,wrap:D,spacing:q,rowSpacing:$,columnSpacing:Q,size:F,offset:K},de=s(se,y);return Z.jsx(o,{ref:p,as:M,ownerState:se,className:Pt(de.root,S),...z,children:H.Children.map(E,Y=>H.isValidElement(Y)&&rx(Y,["Grid"])&&w&&Y.props.container?H.cloneElement(Y,{unstable_level:Y.props?.unstable_level??V+1}):Y)})});return c.muiName="Grid",c}const Lge=b_(),Uge=oq("div",{name:"MuiStack",slot:"Root"});function kge(n){return lq({props:n,name:"MuiStack",defaultTheme:Lge})}function zge(n,e){const t=H.Children.toArray(n).filter(Boolean);return t.reduce((i,r,s)=>(i.push(r),s<t.length-1&&i.push(H.cloneElement(e,{key:`separator-${s}`})),i),[])}const Bge=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],Fge=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...bu({theme:e},FO({values:n.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i}))};if(n.spacing){const i=oM(e),r=Object.keys(e.breakpoints.values).reduce((c,u)=>((typeof n.spacing=="object"&&n.spacing[u]!=null||typeof n.direction=="object"&&n.direction[u]!=null)&&(c[u]=!0),c),{}),s=FO({values:n.direction,base:r}),a=FO({values:n.spacing,base:r});typeof s=="object"&&Object.keys(s).forEach((c,u,h)=>{if(!s[c]){const y=u>0?s[h[u-1]]:"column";s[c]=y}}),t=ra(t,bu({theme:e},a,(c,u)=>n.useFlexGap?{gap:Zg(i,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Bge(u?s[u]:n.direction)}`]:Zg(i,c)}}))}return t=Kde(e.breakpoints,t),t};function Vge(n={}){const{createStyledComponent:e=Uge,useThemeProps:t=kge,componentName:i="MuiStack"}=n,r=()=>pn({root:["root"]},c=>mn(i,c),{}),s=e(Fge);return H.forwardRef(function(c,u){const h=t(c),p=dM(h),{component:y="div",direction:v="column",spacing:_=0,divider:S,children:E,className:x,useFlexGap:w=!1,...M}=p,C={direction:v,spacing:_,useFlexGap:w},D=r();return Z.jsx(s,{as:y,ownerState:C,ref:u,className:Pt(D.root,x),...M,children:S?zge(E,S):E})})}const Kx={black:"#000",white:"#fff"},Hge={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Av={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Mv={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},tb={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Rv={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ov={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Iv={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function uq(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Kx.white,default:Kx.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const fq=uq();function hq(){return{text:{primary:Kx.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Kx.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const pP=hq();function bB(n,e,t,i){const r=i.light||i,s=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=DS(n.main,r):e==="dark"&&(n.dark=_M(n.main,s)))}function xB(n,e,t,i,r){const s=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(s*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(a*100).toFixed(0)}%)`))}function jge(n="light"){return n==="dark"?{main:Rv[200],light:Rv[50],dark:Rv[400]}:{main:Rv[700],light:Rv[400],dark:Rv[800]}}function Gge(n="light"){return n==="dark"?{main:Av[200],light:Av[50],dark:Av[400]}:{main:Av[500],light:Av[300],dark:Av[700]}}function qge(n="light"){return n==="dark"?{main:Mv[500],light:Mv[300],dark:Mv[700]}:{main:Mv[700],light:Mv[400],dark:Mv[800]}}function Wge(n="light"){return n==="dark"?{main:Ov[400],light:Ov[300],dark:Ov[700]}:{main:Ov[700],light:Ov[500],dark:Ov[900]}}function $ge(n="light"){return n==="dark"?{main:Iv[400],light:Iv[300],dark:Iv[700]}:{main:Iv[800],light:Iv[500],dark:Iv[900]}}function Xge(n="light"){return n==="dark"?{main:tb[400],light:tb[300],dark:tb[700]}:{main:"#ed6c02",light:tb[500],dark:tb[900]}}function Yge(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function gL(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,colorSpace:r,...s}=n,a=n.primary||jge(e),o=n.secondary||Gge(e),c=n.error||qge(e),u=n.info||Wge(e),h=n.success||$ge(e),p=n.warning||Xge(e);function y(E){return r?Yge(E):sge(E,pP.text.primary)>=t?pP.text.primary:fq.text.primary}const v=({color:E,name:x,mainShade:w=500,lightShade:M=300,darkShade:C=700})=>{if(E={...E},!E.main&&E[w]&&(E.main=E[w]),!E.hasOwnProperty("main"))throw new Error(Jh(11,x?` (${x})`:"",w));if(typeof E.main!="string")throw new Error(Jh(12,x?` (${x})`:"",JSON.stringify(E.main)));return r?(xB(r,E,"light",M,i),xB(r,E,"dark",C,i)):(bB(E,"light",M,i),bB(E,"dark",C,i)),E.contrastText||(E.contrastText=y(E.main)),E};let _;return e==="light"?_=uq():e==="dark"&&(_=hq()),ra({common:{...Kx},mode:e,primary:v({color:a,name:"primary"}),secondary:v({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:c,name:"error"}),warning:v({color:p,name:"warning"}),info:v({color:u,name:"info"}),success:v({color:h,name:"success"}),grey:Hge,contrastThreshold:t,getContrastText:y,augmentColor:v,tonalOffset:i,..._},s)}function Kge(n){const e={};return Object.entries(n).forEach(i=>{const[r,s]=i;typeof s=="object"&&(e[r]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function Zge(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function Qge(n){return Math.round(n*1e5)/1e5}const SB={textTransform:"uppercase"},EB='"Roboto", "Helvetica", "Arial", sans-serif';function Jge(n,e){const{fontFamily:t=EB,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:o=700,htmlFontSize:c=16,allVariants:u,pxToRem:h,...p}=typeof e=="function"?e(n):e,y=i/14,v=h||(E=>`${E/c*y}rem`),_=(E,x,w,M,C)=>({fontFamily:t,fontWeight:E,fontSize:v(x),lineHeight:w,...t===EB?{letterSpacing:`${Qge(M/x)}em`}:{},...C,...u}),S={h1:_(r,96,1.167,-1.5),h2:_(r,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(a,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(a,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(a,14,1.75,.4,SB),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,SB),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ra({htmlFontSize:c,pxToRem:v,fontFamily:t,fontSize:i,fontWeightLight:r,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:o,...S},p,{clone:!1})}const eye=.2,tye=.14,nye=.12;function _r(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${eye})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${tye})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${nye})`].join(",")}const iye=["none",_r(0,2,1,-1,0,1,1,0,0,1,3,0),_r(0,3,1,-2,0,2,2,0,0,1,5,0),_r(0,3,3,-2,0,3,4,0,0,1,8,0),_r(0,2,4,-1,0,4,5,0,0,1,10,0),_r(0,3,5,-1,0,5,8,0,0,1,14,0),_r(0,3,5,-1,0,6,10,0,0,1,18,0),_r(0,4,5,-2,0,7,10,1,0,2,16,1),_r(0,5,5,-3,0,8,10,1,0,3,14,2),_r(0,5,6,-3,0,9,12,1,0,3,16,2),_r(0,6,6,-3,0,10,14,1,0,4,18,3),_r(0,6,7,-4,0,11,15,1,0,4,20,3),_r(0,7,8,-4,0,12,17,2,0,5,22,4),_r(0,7,8,-4,0,13,19,2,0,5,24,4),_r(0,7,9,-4,0,14,21,2,0,5,26,4),_r(0,8,9,-5,0,15,22,2,0,6,28,5),_r(0,8,10,-5,0,16,24,2,0,6,30,5),_r(0,8,11,-5,0,17,26,2,0,6,32,5),_r(0,9,11,-5,0,18,28,2,0,7,34,6),_r(0,9,12,-6,0,19,29,2,0,7,36,6),_r(0,10,13,-6,0,20,31,3,0,8,38,7),_r(0,10,13,-6,0,21,33,3,0,8,40,7),_r(0,10,14,-6,0,22,35,3,0,8,42,7),_r(0,11,14,-7,0,23,36,3,0,9,44,8),_r(0,11,15,-7,0,24,38,3,0,9,46,8)],rye={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},dq={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function TB(n){return`${Math.round(n)}ms`}function sye(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function aye(n){const e={...rye,...n.easing},t={...dq,...n.duration};return{getAutoHeightDuration:sye,create:(r=["all"],s={})=>{const{duration:a=t.standard,easing:o=e.easeInOut,delay:c=0,...u}=s;return(Array.isArray(r)?r:[r]).map(h=>`${h} ${typeof a=="string"?a:TB(a)} ${o} ${typeof c=="string"?c:TB(c)}`).join(",")},...n,easing:e,duration:t}}const oye={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function lye(n){return yf(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function pq(n={}){const e={...n};function t(i){const r=Object.entries(i);for(let s=0;s<r.length;s++){const[a,o]=r[s];!lye(o)||a.startsWith("unstable_")?delete i[a]:yf(o)&&(i[a]={...o},t(i[a]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function wB(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const cye=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let i=0;i<e.length;i+=1)t+=+e[i];return t};function uye(n){Object.assign(n,{alpha(e,t){const i=this||n;return i.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:i.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:AC(e,cye(t))},lighten(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #fff ${wB(t)})`:DS(e,t)},darken(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #000 ${wB(t)})`:_M(e,t)}})}function mP(n={},...e){const{breakpoints:t,mixins:i={},spacing:r,palette:s={},transitions:a={},typography:o={},shape:c,colorSpace:u,...h}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Jh(20));const p=gL({...s,colorSpace:u}),y=b_(n);let v=ra(y,{mixins:Zge(y.breakpoints,i),palette:p,shadows:iye.slice(),typography:Jge(p,o),transitions:aye(a),zIndex:{...oye}});return v=ra(v,h),v=e.reduce((_,S)=>ra(_,S),v),v.unstable_sxConfig={...MS,...h?.unstable_sxConfig},v.unstable_sx=function(S){return Qg({sx:S,theme:this})},v.toRuntimeSource=pq,uye(v),v}function gP(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const fye=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=gP(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function mq(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function gq(n){return n==="dark"?fye:[]}function hye(n){const{palette:e={mode:"light"},opacity:t,overlays:i,colorSpace:r,...s}=n,a=gL({...e,colorSpace:r});return{palette:a,opacity:{...mq(a.mode),...t},overlays:i||gq(a.mode),...s}}function dye(n){return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!n[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const pye=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],mye=n=>(e,t)=>{const i=n.rootSelector||":root",r=n.colorSchemeSelector;let s=r;if(r==="class"&&(s=".%s"),r==="data"&&(s="[data-%s]"),r?.startsWith("data-")&&!r.includes("%s")&&(s=`[${r}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const a={};return pye(n.cssVarPrefix).forEach(o=>{a[o]=t[o],delete t[o]}),s==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:a}}:s?{[s.replace("%s",e)]:a,[`${i}, ${s.replace("%s",e)}`]:t}:{[i]:{...t,...a}}}if(s&&s!=="media")return`${i}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(s)return s.replace("%s",String(e))}return i};function gye(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Ke(n,e,t){!n[e]&&t&&(n[e]=t)}function Rb(n){return typeof n!="string"||!n.startsWith("hsl")?n:cq(n)}function _h(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Mb(Rb(n[e])))}function yye(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const nf=n=>{try{return n()}catch{}},vye=(n="mui")=>pge(n);function $O(n,e,t,i,r){if(!t)return;t=t===!0?{}:t;const s=r==="dark"?"dark":"light";if(!i){e[r]=hye({...t,palette:{mode:s,...t?.palette},colorSpace:n});return}const{palette:a,...o}=mP({...i,palette:{mode:s,...t?.palette},colorSpace:n});return e[r]={...t,palette:a,opacity:{...mq(s),...t?.opacity},overlays:t?.overlays||gq(s)},o}function _ye(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:s="mui",nativeColor:a=!1,shouldSkipGeneratingVar:o=dye,colorSchemeSelector:c=t.light&&t.dark?"media":void 0,rootSelector:u=":root",...h}=n,p=Object.keys(t)[0],y=i||(t.light&&p!=="light"?"light":p),v=vye(s),{[y]:_,light:S,dark:E,...x}=t,w={...x};let M=_;if((y==="dark"&&!("dark"in t)||y==="light"&&!("light"in t))&&(M=!0),!M)throw new Error(Jh(21,y));let C;a&&(C="oklch");const D=$O(C,w,M,h,y);S&&!w.light&&$O(C,w,S,void 0,"light"),E&&!w.dark&&$O(C,w,E,void 0,"dark");let L={defaultColorScheme:y,...D,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:u,getCssVar:v,colorSchemes:w,font:{...Kge(D.typography),...D.font},spacing:yye(h.spacing)};Object.keys(L.colorSchemes).forEach(V=>{const z=L.colorSchemes[V].palette,F=ee=>{const q=ee.split("-"),$=q[1],Q=q[2];return v(ee,z[$][Q])};z.mode==="light"&&(Ke(z.common,"background","#fff"),Ke(z.common,"onBackground","#000")),z.mode==="dark"&&(Ke(z.common,"background","#000"),Ke(z.common,"onBackground","#fff"));function K(ee,q,$){if(C){let Q;return ee===og&&(Q=`transparent ${((1-$)*100).toFixed(0)}%`),ee===ki&&(Q=`#000 ${($*100).toFixed(0)}%`),ee===zi&&(Q=`#fff ${($*100).toFixed(0)}%`),`color-mix(in ${C}, ${q}, ${Q})`}return ee(q,$)}if(gye(z,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),z.mode==="light"){Ke(z.Alert,"errorColor",K(ki,z.error.light,.6)),Ke(z.Alert,"infoColor",K(ki,z.info.light,.6)),Ke(z.Alert,"successColor",K(ki,z.success.light,.6)),Ke(z.Alert,"warningColor",K(ki,z.warning.light,.6)),Ke(z.Alert,"errorFilledBg",F("palette-error-main")),Ke(z.Alert,"infoFilledBg",F("palette-info-main")),Ke(z.Alert,"successFilledBg",F("palette-success-main")),Ke(z.Alert,"warningFilledBg",F("palette-warning-main")),Ke(z.Alert,"errorFilledColor",nf(()=>z.getContrastText(z.error.main))),Ke(z.Alert,"infoFilledColor",nf(()=>z.getContrastText(z.info.main))),Ke(z.Alert,"successFilledColor",nf(()=>z.getContrastText(z.success.main))),Ke(z.Alert,"warningFilledColor",nf(()=>z.getContrastText(z.warning.main))),Ke(z.Alert,"errorStandardBg",K(zi,z.error.light,.9)),Ke(z.Alert,"infoStandardBg",K(zi,z.info.light,.9)),Ke(z.Alert,"successStandardBg",K(zi,z.success.light,.9)),Ke(z.Alert,"warningStandardBg",K(zi,z.warning.light,.9)),Ke(z.Alert,"errorIconColor",F("palette-error-main")),Ke(z.Alert,"infoIconColor",F("palette-info-main")),Ke(z.Alert,"successIconColor",F("palette-success-main")),Ke(z.Alert,"warningIconColor",F("palette-warning-main")),Ke(z.AppBar,"defaultBg",F("palette-grey-100")),Ke(z.Avatar,"defaultBg",F("palette-grey-400")),Ke(z.Button,"inheritContainedBg",F("palette-grey-300")),Ke(z.Button,"inheritContainedHoverBg",F("palette-grey-A100")),Ke(z.Chip,"defaultBorder",F("palette-grey-400")),Ke(z.Chip,"defaultAvatarColor",F("palette-grey-700")),Ke(z.Chip,"defaultIconColor",F("palette-grey-700")),Ke(z.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ke(z.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ke(z.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ke(z.LinearProgress,"primaryBg",K(zi,z.primary.main,.62)),Ke(z.LinearProgress,"secondaryBg",K(zi,z.secondary.main,.62)),Ke(z.LinearProgress,"errorBg",K(zi,z.error.main,.62)),Ke(z.LinearProgress,"infoBg",K(zi,z.info.main,.62)),Ke(z.LinearProgress,"successBg",K(zi,z.success.main,.62)),Ke(z.LinearProgress,"warningBg",K(zi,z.warning.main,.62)),Ke(z.Skeleton,"bg",C?K(og,z.text.primary,.11):`rgba(${F("palette-text-primaryChannel")} / 0.11)`),Ke(z.Slider,"primaryTrack",K(zi,z.primary.main,.62)),Ke(z.Slider,"secondaryTrack",K(zi,z.secondary.main,.62)),Ke(z.Slider,"errorTrack",K(zi,z.error.main,.62)),Ke(z.Slider,"infoTrack",K(zi,z.info.main,.62)),Ke(z.Slider,"successTrack",K(zi,z.success.main,.62)),Ke(z.Slider,"warningTrack",K(zi,z.warning.main,.62));const ee=C?K(ki,z.background.default,.6825):ZT(z.background.default,.8);Ke(z.SnackbarContent,"bg",ee),Ke(z.SnackbarContent,"color",nf(()=>C?pP.text.primary:z.getContrastText(ee))),Ke(z.SpeedDialAction,"fabHoverBg",ZT(z.background.paper,.15)),Ke(z.StepConnector,"border",F("palette-grey-400")),Ke(z.StepContent,"border",F("palette-grey-400")),Ke(z.Switch,"defaultColor",F("palette-common-white")),Ke(z.Switch,"defaultDisabledColor",F("palette-grey-100")),Ke(z.Switch,"primaryDisabledColor",K(zi,z.primary.main,.62)),Ke(z.Switch,"secondaryDisabledColor",K(zi,z.secondary.main,.62)),Ke(z.Switch,"errorDisabledColor",K(zi,z.error.main,.62)),Ke(z.Switch,"infoDisabledColor",K(zi,z.info.main,.62)),Ke(z.Switch,"successDisabledColor",K(zi,z.success.main,.62)),Ke(z.Switch,"warningDisabledColor",K(zi,z.warning.main,.62)),Ke(z.TableCell,"border",K(zi,K(og,z.divider,1),.88)),Ke(z.Tooltip,"bg",K(og,z.grey[700],.92))}if(z.mode==="dark"){Ke(z.Alert,"errorColor",K(zi,z.error.light,.6)),Ke(z.Alert,"infoColor",K(zi,z.info.light,.6)),Ke(z.Alert,"successColor",K(zi,z.success.light,.6)),Ke(z.Alert,"warningColor",K(zi,z.warning.light,.6)),Ke(z.Alert,"errorFilledBg",F("palette-error-dark")),Ke(z.Alert,"infoFilledBg",F("palette-info-dark")),Ke(z.Alert,"successFilledBg",F("palette-success-dark")),Ke(z.Alert,"warningFilledBg",F("palette-warning-dark")),Ke(z.Alert,"errorFilledColor",nf(()=>z.getContrastText(z.error.dark))),Ke(z.Alert,"infoFilledColor",nf(()=>z.getContrastText(z.info.dark))),Ke(z.Alert,"successFilledColor",nf(()=>z.getContrastText(z.success.dark))),Ke(z.Alert,"warningFilledColor",nf(()=>z.getContrastText(z.warning.dark))),Ke(z.Alert,"errorStandardBg",K(ki,z.error.light,.9)),Ke(z.Alert,"infoStandardBg",K(ki,z.info.light,.9)),Ke(z.Alert,"successStandardBg",K(ki,z.success.light,.9)),Ke(z.Alert,"warningStandardBg",K(ki,z.warning.light,.9)),Ke(z.Alert,"errorIconColor",F("palette-error-main")),Ke(z.Alert,"infoIconColor",F("palette-info-main")),Ke(z.Alert,"successIconColor",F("palette-success-main")),Ke(z.Alert,"warningIconColor",F("palette-warning-main")),Ke(z.AppBar,"defaultBg",F("palette-grey-900")),Ke(z.AppBar,"darkBg",F("palette-background-paper")),Ke(z.AppBar,"darkColor",F("palette-text-primary")),Ke(z.Avatar,"defaultBg",F("palette-grey-600")),Ke(z.Button,"inheritContainedBg",F("palette-grey-800")),Ke(z.Button,"inheritContainedHoverBg",F("palette-grey-700")),Ke(z.Chip,"defaultBorder",F("palette-grey-700")),Ke(z.Chip,"defaultAvatarColor",F("palette-grey-300")),Ke(z.Chip,"defaultIconColor",F("palette-grey-300")),Ke(z.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ke(z.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ke(z.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ke(z.LinearProgress,"primaryBg",K(ki,z.primary.main,.5)),Ke(z.LinearProgress,"secondaryBg",K(ki,z.secondary.main,.5)),Ke(z.LinearProgress,"errorBg",K(ki,z.error.main,.5)),Ke(z.LinearProgress,"infoBg",K(ki,z.info.main,.5)),Ke(z.LinearProgress,"successBg",K(ki,z.success.main,.5)),Ke(z.LinearProgress,"warningBg",K(ki,z.warning.main,.5)),Ke(z.Skeleton,"bg",C?K(og,z.text.primary,.13):`rgba(${F("palette-text-primaryChannel")} / 0.13)`),Ke(z.Slider,"primaryTrack",K(ki,z.primary.main,.5)),Ke(z.Slider,"secondaryTrack",K(ki,z.secondary.main,.5)),Ke(z.Slider,"errorTrack",K(ki,z.error.main,.5)),Ke(z.Slider,"infoTrack",K(ki,z.info.main,.5)),Ke(z.Slider,"successTrack",K(ki,z.success.main,.5)),Ke(z.Slider,"warningTrack",K(ki,z.warning.main,.5));const ee=C?K(zi,z.background.default,.985):ZT(z.background.default,.98);Ke(z.SnackbarContent,"bg",ee),Ke(z.SnackbarContent,"color",nf(()=>C?fq.text.primary:z.getContrastText(ee))),Ke(z.SpeedDialAction,"fabHoverBg",ZT(z.background.paper,.15)),Ke(z.StepConnector,"border",F("palette-grey-600")),Ke(z.StepContent,"border",F("palette-grey-600")),Ke(z.Switch,"defaultColor",F("palette-grey-300")),Ke(z.Switch,"defaultDisabledColor",F("palette-grey-600")),Ke(z.Switch,"primaryDisabledColor",K(ki,z.primary.main,.55)),Ke(z.Switch,"secondaryDisabledColor",K(ki,z.secondary.main,.55)),Ke(z.Switch,"errorDisabledColor",K(ki,z.error.main,.55)),Ke(z.Switch,"infoDisabledColor",K(ki,z.info.main,.55)),Ke(z.Switch,"successDisabledColor",K(ki,z.success.main,.55)),Ke(z.Switch,"warningDisabledColor",K(ki,z.warning.main,.55)),Ke(z.TableCell,"border",K(ki,K(og,z.divider,1),.68)),Ke(z.Tooltip,"bg",K(og,z.grey[700],.92))}_h(z.background,"default"),_h(z.background,"paper"),_h(z.common,"background"),_h(z.common,"onBackground"),_h(z,"divider"),Object.keys(z).forEach(ee=>{const q=z[ee];ee!=="tonalOffset"&&q&&typeof q=="object"&&(q.main&&Ke(z[ee],"mainChannel",Mb(Rb(q.main))),q.light&&Ke(z[ee],"lightChannel",Mb(Rb(q.light))),q.dark&&Ke(z[ee],"darkChannel",Mb(Rb(q.dark))),q.contrastText&&Ke(z[ee],"contrastTextChannel",Mb(Rb(q.contrastText))),ee==="text"&&(_h(z[ee],"primary"),_h(z[ee],"secondary")),ee==="action"&&(q.active&&_h(z[ee],"active"),q.selected&&_h(z[ee],"selected")))})}),L=e.reduce((V,z)=>ra(V,z),L);const I={prefix:s,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:mye(L),enableContrastVars:a},{vars:N,generateThemeVars:P,generateStyleSheets:U}=yge(L,I);return L.vars=N,Object.entries(L.colorSchemes[L.defaultColorScheme]).forEach(([V,z])=>{L[V]=z}),L.generateThemeVars=P,L.generateStyleSheets=U,L.generateSpacing=function(){return iq(h.spacing,oM(this))},L.getColorSchemeSelector=vge(c),L.spacing=L.generateSpacing(),L.shouldSkipGeneratingVar=o,L.unstable_sxConfig={...MS,...h?.unstable_sxConfig},L.unstable_sx=function(z){return Qg({sx:z,theme:this})},L.toRuntimeSource=pq,L}function CB(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:gL({...t===!0?{}:t.palette,mode:e})})}function yq(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:r=t?void 0:{light:!0},defaultColorScheme:s=t?.mode,...a}=n,o=s||"light",c=r?.[o],u={...r,...t?{[o]:{...typeof c!="boolean"&&c,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return mP(n,...e);let h=t;"palette"in n||u[o]&&(u[o]!==!0?h=u[o].palette:o==="dark"&&(h={mode:"dark"}));const p=mP({...n,palette:h},...e);return p.defaultColorScheme=o,p.colorSchemes=u,p.palette.mode==="light"&&(p.colorSchemes.light={...u.light!==!0&&u.light,palette:p.palette},CB(p,"dark",u.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:p.palette},CB(p,"light",u.light)),p}return!t&&!("light"in u)&&o==="light"&&(u.light=!0),_ye({...a,colorSchemes:u,defaultColorScheme:o,...typeof i!="boolean"&&i},...e)}const yL=yq(),xM="$$material";function rd(){const n=PS(yL);return n[xM]||n}function vq(n){return Z.jsx(qme,{...n,defaultTheme:yL,themeId:xM})}function _q(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Io=n=>_q(n)&&n!=="classes",ht=aq({themeId:xM,defaultTheme:yL,rootShouldForwardProp:Io});function bye(n){return function(t){return Z.jsx(vq,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function xye(){return dM}const Nn=dge;function Sn(n){return uge(n)}function Sye(n){return mn("MuiSvgIcon",n)}gn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Eye=n=>{const{color:e,fontSize:t,classes:i}=n,r={root:["root",e!=="inherit"&&`color${yt(e)}`,`fontSize${yt(t)}`]};return pn(r,Sye,i)},Tye=ht("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${yt(t.color)}`],e[`fontSize${yt(t.fontSize)}`]]}})(Nn(({theme:n})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:n.transitions?.create?.("fill",{duration:(n.vars??n).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:n.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:n.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:n.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(n.vars??n).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(n.vars??n).palette?.action?.active}},{props:{color:"disabled"},style:{color:(n.vars??n).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),yP=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiSvgIcon"}),{children:r,className:s,color:a="inherit",component:o="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:p,viewBox:y="0 0 24 24",...v}=i,_=H.isValidElement(r)&&r.type==="svg",S={...i,color:a,component:o,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:y,hasSvgAsChild:_},E={};h||(E.viewBox=y);const x=Eye(S);return Z.jsxs(Tye,{as:o,className:Pt(x.root,s),focusable:"false",color:u,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:t,...E,...v,..._&&r.props,ownerState:S,children:[_?r.props.children:r,p?Z.jsx("title",{children:p}):null]})});yP.muiName="SvgIcon";function ns(n,e){function t(i,r){return Z.jsx(yP,{"data-testid":void 0,ref:r,...i,children:n})}return t.muiName=yP.muiName,H.memo(H.forwardRef(t))}function LS(n,e=166){let t;function i(...r){const s=()=>{n.apply(this,r)};clearTimeout(t),t=setTimeout(s,e)}return i.clear=()=>{clearTimeout(t)},i}function wa(n){return n&&n.ownerDocument||document}function Bl(n){return wa(n).defaultView||window}function AB(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function RC(n){const{controlled:e,default:t,name:i,state:r="value"}=n,{current:s}=H.useRef(e!==void 0),[a,o]=H.useState(t),c=s?e:a,u=H.useCallback(h=>{s||o(h)},[]);return[c,u]}function Ll(n){const e=H.useRef(n);return xu(()=>{e.current=n}),H.useRef((...t)=>(0,e.current)(...t)).current}function Br(...n){const e=H.useRef(void 0),t=H.useCallback(i=>{const r=n.map(s=>{if(s==null)return null;if(typeof s=="function"){const a=s,o=a(i);return typeof o=="function"?o:()=>{a(null)}}return s.current=i,()=>{s.current=null}});return()=>{r.forEach(s=>s?.())}},n);return H.useMemo(()=>n.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=t(i))},n)}function wye(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function bq(n,e){if(!n)return e;function t(a,o){const c={};return Object.keys(o).forEach(u=>{wye(u,o[u])&&typeof a[u]=="function"&&(c[u]=(...h)=>{a[u](...h),o[u](...h)})}),c}if(typeof n=="function"||typeof e=="function")return a=>{const o=typeof e=="function"?e(a):e,c=typeof n=="function"?n({...a,...o}):n,u=Pt(a?.className,o?.className,c?.className),h=t(c,o);return{...o,...c,...h,...!!u&&{className:u},...o?.style&&c?.style&&{style:{...o.style,...c.style}},...o?.sx&&c?.sx&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const i=e,r=t(n,i),s=Pt(i?.className,n?.className);return{...e,...n,...r,...!!s&&{className:s},...i?.style&&n?.style&&{style:{...i.style,...n.style}},...i?.sx&&n?.sx&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}const Cye=ns(Z.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}));function xq(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function vP(n,e){return vP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},vP(n,e)}function Sq(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,vP(n,e)}const MB={disabled:!1},OC=ar.createContext(null);var Aye=function(e){return e.scrollTop},Ob="unmounted",vg="exited",_g="entering",Qv="entered",_P="exiting",Ic=(function(n){Sq(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var a=r,o=a&&!a.isMounting?i.enter:i.appear,c;return s.appearStatus=null,i.in?o?(c=vg,s.appearStatus=_g):c=Qv:i.unmountOnExit||i.mountOnEnter?c=Ob:c=vg,s.state={status:c},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var a=r.in;return a&&s.status===Ob?{status:vg}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var s=null;if(r!==this.props){var a=this.state.status;this.props.in?a!==_g&&a!==Qv&&(s=_g):(a===_g||a===Qv)&&(s=_P)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,s,a,o;return s=a=o=r,r!=null&&typeof r!="number"&&(s=r.exit,a=r.enter,o=r.appear!==void 0?r.appear:a),{exit:s,enter:a,appear:o}},t.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===_g){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:XE.findDOMNode(this);a&&Aye(a)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vg&&this.setState({status:Ob})},t.performEnter=function(r){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:r,c=this.props.nodeRef?[o]:[XE.findDOMNode(this),o],u=c[0],h=c[1],p=this.getTimeouts(),y=o?p.appear:p.enter;if(!r&&!a||MB.disabled){this.safeSetState({status:Qv},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:_g},function(){s.props.onEntering(u,h),s.onTransitionEnd(y,function(){s.safeSetState({status:Qv},function(){s.props.onEntered(u,h)})})})},t.performExit=function(){var r=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:XE.findDOMNode(this);if(!s||MB.disabled){this.safeSetState({status:vg},function(){r.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:_P},function(){r.props.onExiting(o),r.onTransitionEnd(a.exit,function(){r.safeSetState({status:vg},function(){r.props.onExited(o)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},t.setNextCallback=function(r){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,r(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(r,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:XE.findDOMNode(this),o=r==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=c[0],h=c[1];this.props.addEndListener(u,h)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===Ob)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=xq(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ar.createElement(OC.Provider,{value:null},typeof a=="function"?a(r,o):ar.cloneElement(ar.Children.only(a),o))},e})(ar.Component);Ic.contextType=OC;Ic.propTypes={};function Pv(){}Ic.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Pv,onEntering:Pv,onEntered:Pv,onExit:Pv,onExiting:Pv,onExited:Pv};Ic.UNMOUNTED=Ob;Ic.EXITED=vg;Ic.ENTERING=_g;Ic.ENTERED=Qv;Ic.EXITING=_P;function Mye(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vL(n,e){var t=function(s){return e&&H.isValidElement(s)?e(s):s},i=Object.create(null);return n&&H.Children.map(n,function(r){return r}).forEach(function(r){i[r.key]=t(r)}),i}function Rye(n,e){n=n||{},e=e||{};function t(h){return h in e?e[h]:n[h]}var i=Object.create(null),r=[];for(var s in n)s in e?r.length&&(i[s]=r,r=[]):r.push(s);var a,o={};for(var c in e){if(i[c])for(a=0;a<i[c].length;a++){var u=i[c][a];o[i[c][a]]=t(u)}o[c]=t(c)}for(a=0;a<r.length;a++)o[r[a]]=t(r[a]);return o}function Og(n,e,t){return t[e]!=null?t[e]:n.props[e]}function Oye(n,e){return vL(n.children,function(t){return H.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Og(t,"appear",n),enter:Og(t,"enter",n),exit:Og(t,"exit",n)})})}function Iye(n,e,t){var i=vL(n.children),r=Rye(e,i);return Object.keys(r).forEach(function(s){var a=r[s];if(H.isValidElement(a)){var o=s in e,c=s in i,u=e[s],h=H.isValidElement(u)&&!u.props.in;c&&(!o||h)?r[s]=H.cloneElement(a,{onExited:t.bind(null,a),in:!0,exit:Og(a,"exit",n),enter:Og(a,"enter",n)}):!c&&o&&!h?r[s]=H.cloneElement(a,{in:!1}):c&&o&&H.isValidElement(u)&&(r[s]=H.cloneElement(a,{onExited:t.bind(null,a),in:u.props.in,exit:Og(a,"exit",n),enter:Og(a,"enter",n)}))}}),r}var Pye=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},Dye={component:"div",childFactory:function(e){return e}},_L=(function(n){Sq(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var a=s.handleExited.bind(Mye(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,s){var a=s.children,o=s.handleExited,c=s.firstRender;return{children:c?Oye(r,o):Iye(r,a,o),firstRender:!1}},t.handleExited=function(r,s){var a=vL(this.props.children);r.key in a||(r.props.onExited&&r.props.onExited(s),this.mounted&&this.setState(function(o){var c=Ko({},o.children);return delete c[r.key],{children:c}}))},t.render=function(){var r=this.props,s=r.component,a=r.childFactory,o=xq(r,["component","childFactory"]),c=this.state.contextValue,u=Pye(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,s===null?ar.createElement(OC.Provider,{value:c},u):ar.createElement(OC.Provider,{value:c},ar.createElement(s,o,u))},e})(ar.Component);_L.propTypes={};_L.defaultProps=Dye;const RB={};function Eq(n,e){const t=H.useRef(RB);return t.current===RB&&(t.current=n(e)),t}const Nye=[];function Lye(n){H.useEffect(n,Nye)}class SM{static create(){return new SM}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function Ig(){const n=Eq(SM.create).current;return Lye(n.disposeEffect),n}const bL=n=>n.scrollTop;function Gp(n,e){const{timeout:t,easing:i,style:r={}}=n;return{duration:r.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:r.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:r.transitionDelay}}function q0(n){return typeof n=="string"}function Tq(n,e,t){return n===void 0||q0(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function wq(n,e,t){return typeof n=="function"?n(e,t):n}function Cq(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function OB(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function Aq(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:r,className:s}=n;if(!e){const v=Pt(t?.className,s,r?.className,i?.className),_={...t?.style,...r?.style,...i?.style},S={...t,...r,...i};return v.length>0&&(S.className=v),Object.keys(_).length>0&&(S.style=_),{props:S,internalRef:void 0}}const a=Cq({...r,...i}),o=OB(i),c=OB(r),u=e(a),h=Pt(u?.className,t?.className,s,r?.className,i?.className),p={...u?.style,...t?.style,...r?.style,...i?.style},y={...u,...t,...c,...o};return h.length>0&&(y.className=h),Object.keys(p).length>0&&(y.style=p),{props:y,internalRef:u.ref}}function rn(n,e){const{className:t,elementType:i,ownerState:r,externalForwardedProps:s,internalForwardedProps:a,shouldForwardComponentProp:o=!1,...c}=e,{component:u,slots:h={[n]:void 0},slotProps:p={[n]:void 0},...y}=s,v=h[n]||i,_=wq(p[n],r),{props:{component:S,...E},internalRef:x}=Aq({className:t,...c,externalForwardedProps:n==="root"?y:void 0,externalSlotProps:_}),w=Br(x,_?.ref,e.ref),M=n==="root"?S||u:S,C=Tq(v,{...n==="root"&&!u&&!h[n]&&a,...n!=="root"&&!h[n]&&a,...E,...M&&!o&&{as:M},...M&&o&&{component:M},ref:w},r);return[v,C]}function Uye(n){return mn("MuiCollapse",n)}gn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const kye=n=>{const{orientation:e,classes:t}=n,i={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return pn(i,Uye,t)},zye=ht("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(Nn(({theme:n})=>({height:0,overflow:"hidden",transition:n.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:n.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Bye=ht("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Fye=ht("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),IC=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiCollapse"}),{addEndListener:r,children:s,className:a,collapsedSize:o="0px",component:c,easing:u,in:h,onEnter:p,onEntered:y,onEntering:v,onExit:_,onExited:S,onExiting:E,orientation:x="vertical",slots:w={},slotProps:M={},style:C,timeout:D=dq.standard,TransitionComponent:L=Ic,...I}=i,N={...i,orientation:x,collapsedSize:o},P=kye(N),U=rd(),V=Ig(),z=H.useRef(null),F=H.useRef(),K=typeof o=="number"?`${o}px`:o,ee=x==="horizontal",q=ee?"width":"height",$=H.useRef(null),Q=Br(t,$),se=Oe=>Be=>{if(Oe){const Ne=$.current;Be===void 0?Oe(Ne):Oe(Ne,Be)}},de=()=>z.current?z.current[ee?"clientWidth":"clientHeight"]:0,Y=se((Oe,Be)=>{z.current&&ee&&(z.current.style.position="absolute"),Oe.style[q]=K,p&&p(Oe,Be)}),le=se((Oe,Be)=>{const Ne=de();z.current&&ee&&(z.current.style.position="");const{duration:Me,easing:ct}=Gp({style:C,timeout:D,easing:u},{mode:"enter"});if(D==="auto"){const qe=U.transitions.getAutoHeightDuration(Ne);Oe.style.transitionDuration=`${qe}ms`,F.current=qe}else Oe.style.transitionDuration=typeof Me=="string"?Me:`${Me}ms`;Oe.style[q]=`${Ne}px`,Oe.style.transitionTimingFunction=ct,v&&v(Oe,Be)}),pe=se((Oe,Be)=>{Oe.style[q]="auto",y&&y(Oe,Be)}),ue=se(Oe=>{Oe.style[q]=`${de()}px`,_&&_(Oe)}),ie=se(S),he=se(Oe=>{const Be=de(),{duration:Ne,easing:Me}=Gp({style:C,timeout:D,easing:u},{mode:"exit"});if(D==="auto"){const ct=U.transitions.getAutoHeightDuration(Be);Oe.style.transitionDuration=`${ct}ms`,F.current=ct}else Oe.style.transitionDuration=typeof Ne=="string"?Ne:`${Ne}ms`;Oe.style[q]=K,Oe.style.transitionTimingFunction=Me,E&&E(Oe)}),ye=Oe=>{D==="auto"&&V.start(F.current||0,Oe),r&&r($.current,Oe)},Ve={slots:w,slotProps:M,component:c},[Xe,Ge]=rn("root",{ref:Q,className:Pt(P.root,a),elementType:zye,externalForwardedProps:Ve,ownerState:N,additionalProps:{style:{[ee?"minWidth":"minHeight"]:K,...C}}}),[rt,ot]=rn("wrapper",{ref:z,className:P.wrapper,elementType:Bye,externalForwardedProps:Ve,ownerState:N}),[pt,te]=rn("wrapperInner",{className:P.wrapperInner,elementType:Fye,externalForwardedProps:Ve,ownerState:N});return Z.jsx(L,{in:h,onEnter:Y,onEntered:pe,onEntering:le,onExit:ue,onExited:ie,onExiting:he,addEndListener:ye,nodeRef:$,timeout:D==="auto"?null:D,...I,children:(Oe,{ownerState:Be,...Ne})=>{const Me={...N,state:Oe};return Z.jsx(Xe,{...Ge,className:Pt(Ge.className,{entered:P.entered,exited:!h&&K==="0px"&&P.hidden}[Oe]),ownerState:Me,...Ne,children:Z.jsx(rt,{...ot,ownerState:Me,children:Z.jsx(pt,{...te,ownerState:Me,children:s})})})}})});IC&&(IC.muiSupportAuto=!0);function Vye(n){return mn("MuiPaper",n)}gn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Hye=n=>{const{square:e,elevation:t,variant:i,classes:r}=n,s={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return pn(s,Vye,r)},jye=ht("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(Nn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),US=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiPaper"}),r=rd(),{className:s,component:a="div",elevation:o=1,square:c=!1,variant:u="elevation",...h}=i,p={...i,component:a,elevation:o,square:c,variant:u},y=Hye(p);return Z.jsx(jye,{as:a,ownerState:p,className:Pt(y.root,s),ref:t,...h,style:{...u==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[o],...r.vars&&{"--Paper-overlay":r.vars.overlays?.[o]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${AC("#fff",gP(o))}, ${AC("#fff",gP(o))})`}},...h.style}})});function PC(n){try{return n.matches(":focus-visible")}catch{}return!1}class DC{static create(){return new DC}static use(){const e=Eq(DC.create).current,[t,i]=H.useState(!1);return e.shouldMount=t,e.setShouldMount=i,H.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=qye(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function Gye(){return DC.use()}function qye(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t}function Wye(n){const{className:e,classes:t,pulsate:i=!1,rippleX:r,rippleY:s,rippleSize:a,in:o,onExited:c,timeout:u}=n,[h,p]=H.useState(!1),y=Pt(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),v={width:a,height:a,top:-(a/2)+s,left:-(a/2)+r},_=Pt(t.child,h&&t.childLeaving,i&&t.childPulsate);return!o&&!h&&p(!0),H.useEffect(()=>{if(!o&&c!=null){const S=setTimeout(c,u);return()=>{clearTimeout(S)}}},[c,o,u]),Z.jsx("span",{className:y,style:v,children:Z.jsx("span",{className:_})})}const gc=gn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),bP=550,$ye=80,Xye=IS`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Yye=IS`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Kye=IS`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Zye=ht("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Qye=ht(Wye,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${gc.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Xye};
    animation-duration: ${bP}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${gc.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${gc.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${gc.childLeaving} {
    opacity: 0;
    animation-name: ${Yye};
    animation-duration: ${bP}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${gc.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Kye};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Jye=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:s={},className:a,...o}=i,[c,u]=H.useState([]),h=H.useRef(0),p=H.useRef(null);H.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const y=H.useRef(!1),v=Ig(),_=H.useRef(null),S=H.useRef(null),E=H.useCallback(C=>{const{pulsate:D,rippleX:L,rippleY:I,rippleSize:N,cb:P}=C;u(U=>[...U,Z.jsx(Qye,{classes:{ripple:Pt(s.ripple,gc.ripple),rippleVisible:Pt(s.rippleVisible,gc.rippleVisible),ripplePulsate:Pt(s.ripplePulsate,gc.ripplePulsate),child:Pt(s.child,gc.child),childLeaving:Pt(s.childLeaving,gc.childLeaving),childPulsate:Pt(s.childPulsate,gc.childPulsate)},timeout:bP,pulsate:D,rippleX:L,rippleY:I,rippleSize:N},h.current)]),h.current+=1,p.current=P},[s]),x=H.useCallback((C={},D={},L=()=>{})=>{const{pulsate:I=!1,center:N=r||D.pulsate,fakeElement:P=!1}=D;if(C?.type==="mousedown"&&y.current){y.current=!1;return}C?.type==="touchstart"&&(y.current=!0);const U=P?null:S.current,V=U?U.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,F,K;if(N||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)z=Math.round(V.width/2),F=Math.round(V.height/2);else{const{clientX:ee,clientY:q}=C.touches&&C.touches.length>0?C.touches[0]:C;z=Math.round(ee-V.left),F=Math.round(q-V.top)}if(N)K=Math.sqrt((2*V.width**2+V.height**2)/3),K%2===0&&(K+=1);else{const ee=Math.max(Math.abs((U?U.clientWidth:0)-z),z)*2+2,q=Math.max(Math.abs((U?U.clientHeight:0)-F),F)*2+2;K=Math.sqrt(ee**2+q**2)}C?.touches?_.current===null&&(_.current=()=>{E({pulsate:I,rippleX:z,rippleY:F,rippleSize:K,cb:L})},v.start($ye,()=>{_.current&&(_.current(),_.current=null)})):E({pulsate:I,rippleX:z,rippleY:F,rippleSize:K,cb:L})},[r,E,v]),w=H.useCallback(()=>{x({},{pulsate:!0})},[x]),M=H.useCallback((C,D)=>{if(v.clear(),C?.type==="touchend"&&_.current){_.current(),_.current=null,v.start(0,()=>{M(C,D)});return}_.current=null,u(L=>L.length>0?L.slice(1):L),p.current=D},[v]);return H.useImperativeHandle(t,()=>({pulsate:w,start:x,stop:M}),[w,x,M]),Z.jsx(Zye,{className:Pt(gc.root,s.root,a),ref:S,...o,children:Z.jsx(_L,{component:null,exit:!0,children:c})})});function eve(n){return mn("MuiButtonBase",n)}const tve=gn("MuiButtonBase",["root","disabled","focusVisible"]),nve=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:r}=n,a=pn({root:["root",e&&"disabled",t&&"focusVisible"]},eve,r);return t&&i&&(a.root+=` ${i}`),a},ive=ht("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${tve.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),qp=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:s=!1,children:a,className:o,component:c="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:y=!1,focusVisibleClassName:v,LinkComponent:_="a",onBlur:S,onClick:E,onContextMenu:x,onDragLeave:w,onFocus:M,onFocusVisible:C,onKeyDown:D,onKeyUp:L,onMouseDown:I,onMouseLeave:N,onMouseUp:P,onTouchEnd:U,onTouchMove:V,onTouchStart:z,tabIndex:F=0,TouchRippleProps:K,touchRippleRef:ee,type:q,...$}=i,Q=H.useRef(null),se=Gye(),de=Br(se.ref,ee),[Y,le]=H.useState(!1);u&&Y&&le(!1),H.useImperativeHandle(r,()=>({focusVisible:()=>{le(!0),Q.current.focus()}}),[]);const pe=se.shouldMount&&!h&&!u;H.useEffect(()=>{Y&&y&&!h&&se.pulsate()},[h,y,Y,se]);const ue=bh(se,"start",I,p),ie=bh(se,"stop",x,p),he=bh(se,"stop",w,p),ye=bh(se,"stop",P,p),Ve=bh(se,"stop",J=>{Y&&J.preventDefault(),N&&N(J)},p),Xe=bh(se,"start",z,p),Ge=bh(se,"stop",U,p),rt=bh(se,"stop",V,p),ot=bh(se,"stop",J=>{PC(J.target)||le(!1),S&&S(J)},!1),pt=Ll(J=>{Q.current||(Q.current=J.currentTarget),PC(J.target)&&(le(!0),C&&C(J)),M&&M(J)}),te=()=>{const J=Q.current;return c&&c!=="button"&&!(J.tagName==="A"&&J.href)},Oe=Ll(J=>{y&&!J.repeat&&Y&&J.key===" "&&se.stop(J,()=>{se.start(J)}),J.target===J.currentTarget&&te()&&J.key===" "&&J.preventDefault(),D&&D(J),J.target===J.currentTarget&&te()&&J.key==="Enter"&&!u&&(J.preventDefault(),E&&E(J))}),Be=Ll(J=>{y&&J.key===" "&&Y&&!J.defaultPrevented&&se.stop(J,()=>{se.pulsate(J)}),L&&L(J),E&&J.target===J.currentTarget&&te()&&J.key===" "&&!J.defaultPrevented&&E(J)});let Ne=c;Ne==="button"&&($.href||$.to)&&(Ne=_);const Me={};if(Ne==="button"){const J=!!$.formAction;Me.type=q===void 0&&!J?"button":q,Me.disabled=u}else!$.href&&!$.to&&(Me.role="button"),u&&(Me["aria-disabled"]=u);const ct=Br(t,Q),qe={...i,centerRipple:s,component:c,disabled:u,disableRipple:h,disableTouchRipple:p,focusRipple:y,tabIndex:F,focusVisible:Y},ae=nve(qe);return Z.jsxs(ive,{as:Ne,className:Pt(ae.root,o),ownerState:qe,onBlur:ot,onClick:E,onContextMenu:ie,onFocus:pt,onKeyDown:Oe,onKeyUp:Be,onMouseDown:ue,onMouseLeave:Ve,onMouseUp:ye,onDragLeave:he,onTouchEnd:Ge,onTouchMove:rt,onTouchStart:Xe,ref:ct,tabIndex:u?-1:F,type:q,...Me,...$,children:[a,pe?Z.jsx(Jye,{ref:de,center:s,...K}):null]})});function bh(n,e,t,i=!1){return Ll(r=>(t&&t(r),i||n[e](r),!0))}function rve(n){return typeof n.main=="string"}function sve(n,e=[]){if(!rve(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function ta(n=[]){return([,e])=>e&&sve(e,n)}function ave(n){return mn("MuiAlert",n)}const IB=gn("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function ove(n){return mn("MuiCircularProgress",n)}gn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const au=44,xP=IS`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,SP=IS`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,lve=typeof xP!="string"?pL`
        animation: ${xP} 1.4s linear infinite;
      `:null,cve=typeof SP!="string"?pL`
        animation: ${SP} 1.4s ease-in-out infinite;
      `:null,uve=n=>{const{classes:e,variant:t,color:i,disableShrink:r}=n,s={root:["root",t,`color${yt(i)}`],svg:["svg"],track:["track"],circle:["circle",`circle${yt(t)}`,r&&"circleDisableShrink"]};return pn(s,ove,e)},fve=ht("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${yt(t.color)}`]]}})(Nn(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:lve||{animation:`${xP} 1.4s linear infinite`}},...Object.entries(n.palette).filter(ta()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),hve=ht("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),dve=ht("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${yt(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(Nn(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:cve||{animation:`${SP} 1.4s ease-in-out infinite`}}]}))),pve=ht("circle",{name:"MuiCircularProgress",slot:"Track"})(Nn(({theme:n})=>({stroke:"currentColor",opacity:(n.vars||n).palette.action.activatedOpacity}))),Mq=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiCircularProgress"}),{className:r,color:s="primary",disableShrink:a=!1,enableTrackSlot:o=!1,size:c=40,style:u,thickness:h=3.6,value:p=0,variant:y="indeterminate",...v}=i,_={...i,color:s,disableShrink:a,size:c,thickness:h,value:p,variant:y,enableTrackSlot:o},S=uve(_),E={},x={},w={};if(y==="determinate"){const M=2*Math.PI*((au-h)/2);E.strokeDasharray=M.toFixed(3),w["aria-valuenow"]=Math.round(p),E.strokeDashoffset=`${((100-p)/100*M).toFixed(3)}px`,x.transform="rotate(-90deg)"}return Z.jsx(fve,{className:Pt(S.root,r),style:{width:c,height:c,...x,...u},ownerState:_,ref:t,role:"progressbar",...w,...v,children:Z.jsxs(hve,{className:S.svg,ownerState:_,viewBox:`${au/2} ${au/2} ${au} ${au}`,children:[o?Z.jsx(pve,{className:S.track,ownerState:_,cx:au,cy:au,r:(au-h)/2,fill:"none",strokeWidth:h,"aria-hidden":"true"}):null,Z.jsx(dve,{className:S.circle,style:E,ownerState:_,cx:au,cy:au,r:(au-h)/2,fill:"none",strokeWidth:h})]})})});function mve(n){return mn("MuiIconButton",n)}const PB=gn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),gve=n=>{const{classes:e,disabled:t,color:i,edge:r,size:s,loading:a}=n,o={root:["root",a&&"loading",t&&"disabled",i!=="default"&&`color${yt(i)}`,r&&`edge${yt(r)}`,`size${yt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return pn(o,mve,e)},yve=ht(qp,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${yt(t.color)}`],t.edge&&e[`edge${yt(t.edge)}`],e[`size${yt(t.size)}`]]}})(Nn(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette.action.active,(n.vars||n).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Nn(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(ta()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(ta()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${PB.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${PB.loading}`]:{color:"transparent"}}))),vve=ht("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),xL=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiIconButton"}),{edge:r=!1,children:s,className:a,color:o="default",disabled:c=!1,disableFocusRipple:u=!1,size:h="medium",id:p,loading:y=null,loadingIndicator:v,..._}=i,S=x_(p),E=v??Z.jsx(Mq,{"aria-labelledby":S,color:"inherit",size:16}),x={...i,edge:r,color:o,disabled:c,disableFocusRipple:u,loading:y,loadingIndicator:E,size:h},w=gve(x);return Z.jsxs(yve,{id:y?S:p,className:Pt(w.root,a),centerRipple:!0,focusRipple:!u,disabled:c||y,ref:t,..._,ownerState:x,children:[typeof y=="boolean"&&Z.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:Z.jsx(vve,{className:w.loadingIndicator,ownerState:x,children:y&&E})}),s]})}),_ve=ns(Z.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),bve=ns(Z.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),xve=ns(Z.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Sve=ns(Z.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),Eve=ns(Z.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Tve=n=>{const{variant:e,color:t,severity:i,classes:r}=n,s={root:["root",`color${yt(t||i)}`,`${e}${yt(t||i)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return pn(s,ave,r)},wve=ht(US,{name:"MuiAlert",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${yt(t.color||t.severity)}`]]}})(Nn(({theme:n})=>{const e=n.palette.mode==="light"?n.darken:n.lighten,t=n.palette.mode==="light"?n.lighten:n.darken;return{...n.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(n.palette).filter(ta(["light"])).map(([i])=>({props:{colorSeverity:i,variant:"standard"},style:{color:n.vars?n.vars.palette.Alert[`${i}Color`]:e(n.palette[i].light,.6),backgroundColor:n.vars?n.vars.palette.Alert[`${i}StandardBg`]:t(n.palette[i].light,.9),[`& .${IB.icon}`]:n.vars?{color:n.vars.palette.Alert[`${i}IconColor`]}:{color:n.palette[i].main}}})),...Object.entries(n.palette).filter(ta(["light"])).map(([i])=>({props:{colorSeverity:i,variant:"outlined"},style:{color:n.vars?n.vars.palette.Alert[`${i}Color`]:e(n.palette[i].light,.6),border:`1px solid ${(n.vars||n).palette[i].light}`,[`& .${IB.icon}`]:n.vars?{color:n.vars.palette.Alert[`${i}IconColor`]}:{color:n.palette[i].main}}})),...Object.entries(n.palette).filter(ta(["dark"])).map(([i])=>({props:{colorSeverity:i,variant:"filled"},style:{fontWeight:n.typography.fontWeightMedium,...n.vars?{color:n.vars.palette.Alert[`${i}FilledColor`],backgroundColor:n.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:n.palette.mode==="dark"?n.palette[i].dark:n.palette[i].main,color:n.palette.getContrastText(n.palette[i].main)}}}))]}})),Cve=ht("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Ave=ht("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),Mve=ht("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),DB={success:Z.jsx(_ve,{fontSize:"inherit"}),warning:Z.jsx(bve,{fontSize:"inherit"}),error:Z.jsx(xve,{fontSize:"inherit"}),info:Z.jsx(Sve,{fontSize:"inherit"})},Rve=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiAlert"}),{action:r,children:s,className:a,closeText:o="Close",color:c,components:u={},componentsProps:h={},icon:p,iconMapping:y=DB,onClose:v,role:_="alert",severity:S="success",slotProps:E={},slots:x={},variant:w="standard",...M}=i,C={...i,color:c,severity:S,variant:w,colorSeverity:c||S},D=Tve(C),L={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...x},slotProps:{...h,...E}},[I,N]=rn("root",{ref:t,shouldForwardComponentProp:!0,className:Pt(D.root,a),elementType:wve,externalForwardedProps:{...L,...M},ownerState:C,additionalProps:{role:_,elevation:0}}),[P,U]=rn("icon",{className:D.icon,elementType:Cve,externalForwardedProps:L,ownerState:C}),[V,z]=rn("message",{className:D.message,elementType:Ave,externalForwardedProps:L,ownerState:C}),[F,K]=rn("action",{className:D.action,elementType:Mve,externalForwardedProps:L,ownerState:C}),[ee,q]=rn("closeButton",{elementType:xL,externalForwardedProps:L,ownerState:C}),[$,Q]=rn("closeIcon",{elementType:Eve,externalForwardedProps:L,ownerState:C});return Z.jsxs(I,{...N,children:[p!==!1?Z.jsx(P,{...U,children:p||y[S]||DB[S]}):null,Z.jsx(V,{...z,children:s}),r!=null?Z.jsx(F,{...K,children:r}):null,r==null&&v?Z.jsx(F,{...K,children:Z.jsx(ee,{size:"small","aria-label":o,title:o,color:"inherit",onClick:v,...q,children:Z.jsx($,{fontSize:"small",...Q})})}):null]})});function Ove(n){return mn("MuiTypography",n)}const NB=gn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Ive={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Pve=xye(),Dve=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:r,variant:s,classes:a}=n,o={root:["root",s,n.align!=="inherit"&&`align${yt(e)}`,t&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return pn(o,Ove,a)},Nve=ht("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${yt(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(Nn(({theme:n})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([e,t])=>e!=="inherit"&&t&&typeof t=="object").map(([e,t])=>({props:{variant:e},style:t})),...Object.entries(n.palette).filter(ta()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${yt(e)}`},style:{color:(n.vars||n).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),LB={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Qr=H.forwardRef(function(e,t){const{color:i,...r}=Sn({props:e,name:"MuiTypography"}),s=!Ive[i],a=Pve({...r,...s&&{color:i}}),{align:o="inherit",className:c,component:u,gutterBottom:h=!1,noWrap:p=!1,paragraph:y=!1,variant:v="body1",variantMapping:_=LB,...S}=a,E={...a,align:o,color:i,className:c,component:u,gutterBottom:h,noWrap:p,paragraph:y,variant:v,variantMapping:_},x=u||(y?"p":_[v]||LB[v])||"span",w=Dve(E);return Z.jsx(Nve,{as:x,ref:t,className:Pt(w.root,c),...S,ownerState:E,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...S.style}})});var nl="top",Cc="bottom",Ac="right",il="left",SL="auto",kS=[nl,Cc,Ac,il],W0="start",Zx="end",Lve="clippingParents",Rq="viewport",nb="popper",Uve="reference",UB=kS.reduce(function(n,e){return n.concat([e+"-"+W0,e+"-"+Zx])},[]),Oq=[].concat(kS,[SL]).reduce(function(n,e){return n.concat([e,e+"-"+W0,e+"-"+Zx])},[]),kve="beforeRead",zve="read",Bve="afterRead",Fve="beforeMain",Vve="main",Hve="afterMain",jve="beforeWrite",Gve="write",qve="afterWrite",Wve=[kve,zve,Bve,Fve,Vve,Hve,jve,Gve,qve];function Pf(n){return n?(n.nodeName||"").toLowerCase():null}function Fl(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Jg(n){var e=Fl(n).Element;return n instanceof e||n instanceof Element}function Tc(n){var e=Fl(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function EL(n){if(typeof ShadowRoot>"u")return!1;var e=Fl(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function $ve(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},s=e.elements[t];!Tc(s)||!Pf(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(a){var o=r[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function Xve(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),o=a.reduce(function(c,u){return c[u]="",c},{});!Tc(r)||!Pf(r)||(Object.assign(r.style,o),Object.keys(s).forEach(function(c){r.removeAttribute(c)}))})}}const Yve={name:"applyStyles",enabled:!0,phase:"write",fn:$ve,effect:Xve,requires:["computeStyles"]};function Rf(n){return n.split("-")[0]}var Hg=Math.max,NC=Math.min,$0=Math.round;function EP(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Iq(){return!/^((?!chrome|android).)*safari/i.test(EP())}function X0(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,s=1;e&&Tc(n)&&(r=n.offsetWidth>0&&$0(i.width)/n.offsetWidth||1,s=n.offsetHeight>0&&$0(i.height)/n.offsetHeight||1);var a=Jg(n)?Fl(n):window,o=a.visualViewport,c=!Iq()&&t,u=(i.left+(c&&o?o.offsetLeft:0))/r,h=(i.top+(c&&o?o.offsetTop:0))/s,p=i.width/r,y=i.height/s;return{width:p,height:y,top:h,right:u+p,bottom:h+y,left:u,x:u,y:h}}function TL(n){var e=X0(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function Pq(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&EL(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ed(n){return Fl(n).getComputedStyle(n)}function Kve(n){return["table","td","th"].indexOf(Pf(n))>=0}function Jp(n){return((Jg(n)?n.ownerDocument:n.document)||window.document).documentElement}function EM(n){return Pf(n)==="html"?n:n.assignedSlot||n.parentNode||(EL(n)?n.host:null)||Jp(n)}function kB(n){return!Tc(n)||ed(n).position==="fixed"?null:n.offsetParent}function Zve(n){var e=/firefox/i.test(EP()),t=/Trident/i.test(EP());if(t&&Tc(n)){var i=ed(n);if(i.position==="fixed")return null}var r=EM(n);for(EL(r)&&(r=r.host);Tc(r)&&["html","body"].indexOf(Pf(r))<0;){var s=ed(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function zS(n){for(var e=Fl(n),t=kB(n);t&&Kve(t)&&ed(t).position==="static";)t=kB(t);return t&&(Pf(t)==="html"||Pf(t)==="body"&&ed(t).position==="static")?e:t||Zve(n)||e}function wL(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function sx(n,e,t){return Hg(n,NC(e,t))}function Qve(n,e,t){var i=sx(n,e,t);return i>t?t:i}function Dq(){return{top:0,right:0,bottom:0,left:0}}function Nq(n){return Object.assign({},Dq(),n)}function Lq(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var Jve=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Nq(typeof e!="number"?e:Lq(e,kS))};function e0e(n){var e,t=n.state,i=n.name,r=n.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,o=Rf(t.placement),c=wL(o),u=[il,Ac].indexOf(o)>=0,h=u?"height":"width";if(!(!s||!a)){var p=Jve(r.padding,t),y=TL(s),v=c==="y"?nl:il,_=c==="y"?Cc:Ac,S=t.rects.reference[h]+t.rects.reference[c]-a[c]-t.rects.popper[h],E=a[c]-t.rects.reference[c],x=zS(s),w=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,M=S/2-E/2,C=p[v],D=w-y[h]-p[_],L=w/2-y[h]/2+M,I=sx(C,L,D),N=c;t.modifiersData[i]=(e={},e[N]=I,e.centerOffset=I-L,e)}}function t0e(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Pq(e.elements.popper,r)&&(e.elements.arrow=r))}const n0e={name:"arrow",enabled:!0,phase:"main",fn:e0e,effect:t0e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Y0(n){return n.split("-")[1]}var i0e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function r0e(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:$0(t*r)/r||0,y:$0(i*r)/r||0}}function zB(n){var e,t=n.popper,i=n.popperRect,r=n.placement,s=n.variation,a=n.offsets,o=n.position,c=n.gpuAcceleration,u=n.adaptive,h=n.roundOffsets,p=n.isFixed,y=a.x,v=y===void 0?0:y,_=a.y,S=_===void 0?0:_,E=typeof h=="function"?h({x:v,y:S}):{x:v,y:S};v=E.x,S=E.y;var x=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),M=il,C=nl,D=window;if(u){var L=zS(t),I="clientHeight",N="clientWidth";if(L===Fl(t)&&(L=Jp(t),ed(L).position!=="static"&&o==="absolute"&&(I="scrollHeight",N="scrollWidth")),L=L,r===nl||(r===il||r===Ac)&&s===Zx){C=Cc;var P=p&&L===D&&D.visualViewport?D.visualViewport.height:L[I];S-=P-i.height,S*=c?1:-1}if(r===il||(r===nl||r===Cc)&&s===Zx){M=Ac;var U=p&&L===D&&D.visualViewport?D.visualViewport.width:L[N];v-=U-i.width,v*=c?1:-1}}var V=Object.assign({position:o},u&&i0e),z=h===!0?r0e({x:v,y:S},Fl(t)):{x:v,y:S};if(v=z.x,S=z.y,c){var F;return Object.assign({},V,(F={},F[C]=w?"0":"",F[M]=x?"0":"",F.transform=(D.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",F))}return Object.assign({},V,(e={},e[C]=w?S+"px":"",e[M]=x?v+"px":"",e.transform="",e))}function s0e(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,s=t.adaptive,a=s===void 0?!0:s,o=t.roundOffsets,c=o===void 0?!0:o,u={placement:Rf(e.placement),variation:Y0(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,zB(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,zB(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const a0e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:s0e,data:{}};var QT={passive:!0};function o0e(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,s=r===void 0?!0:r,a=i.resize,o=a===void 0?!0:a,c=Fl(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(h){h.addEventListener("scroll",t.update,QT)}),o&&c.addEventListener("resize",t.update,QT),function(){s&&u.forEach(function(h){h.removeEventListener("scroll",t.update,QT)}),o&&c.removeEventListener("resize",t.update,QT)}}const l0e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:o0e,data:{}};var c0e={left:"right",right:"left",bottom:"top",top:"bottom"};function i2(n){return n.replace(/left|right|bottom|top/g,function(e){return c0e[e]})}var u0e={start:"end",end:"start"};function BB(n){return n.replace(/start|end/g,function(e){return u0e[e]})}function CL(n){var e=Fl(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function AL(n){return X0(Jp(n)).left+CL(n).scrollLeft}function f0e(n,e){var t=Fl(n),i=Jp(n),r=t.visualViewport,s=i.clientWidth,a=i.clientHeight,o=0,c=0;if(r){s=r.width,a=r.height;var u=Iq();(u||!u&&e==="fixed")&&(o=r.offsetLeft,c=r.offsetTop)}return{width:s,height:a,x:o+AL(n),y:c}}function h0e(n){var e,t=Jp(n),i=CL(n),r=(e=n.ownerDocument)==null?void 0:e.body,s=Hg(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Hg(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-i.scrollLeft+AL(n),c=-i.scrollTop;return ed(r||t).direction==="rtl"&&(o+=Hg(t.clientWidth,r?r.clientWidth:0)-s),{width:s,height:a,x:o,y:c}}function ML(n){var e=ed(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function Uq(n){return["html","body","#document"].indexOf(Pf(n))>=0?n.ownerDocument.body:Tc(n)&&ML(n)?n:Uq(EM(n))}function ax(n,e){var t;e===void 0&&(e=[]);var i=Uq(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=Fl(i),a=r?[s].concat(s.visualViewport||[],ML(i)?i:[]):i,o=e.concat(a);return r?o:o.concat(ax(EM(a)))}function TP(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function d0e(n,e){var t=X0(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function FB(n,e,t){return e===Rq?TP(f0e(n,t)):Jg(e)?d0e(e,t):TP(h0e(Jp(n)))}function p0e(n){var e=ax(EM(n)),t=["absolute","fixed"].indexOf(ed(n).position)>=0,i=t&&Tc(n)?zS(n):n;return Jg(i)?e.filter(function(r){return Jg(r)&&Pq(r,i)&&Pf(r)!=="body"}):[]}function m0e(n,e,t,i){var r=e==="clippingParents"?p0e(n):[].concat(e),s=[].concat(r,[t]),a=s[0],o=s.reduce(function(c,u){var h=FB(n,u,i);return c.top=Hg(h.top,c.top),c.right=NC(h.right,c.right),c.bottom=NC(h.bottom,c.bottom),c.left=Hg(h.left,c.left),c},FB(n,a,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function kq(n){var e=n.reference,t=n.element,i=n.placement,r=i?Rf(i):null,s=i?Y0(i):null,a=e.x+e.width/2-t.width/2,o=e.y+e.height/2-t.height/2,c;switch(r){case nl:c={x:a,y:e.y-t.height};break;case Cc:c={x:a,y:e.y+e.height};break;case Ac:c={x:e.x+e.width,y:o};break;case il:c={x:e.x-t.width,y:o};break;default:c={x:e.x,y:e.y}}var u=r?wL(r):null;if(u!=null){var h=u==="y"?"height":"width";switch(s){case W0:c[u]=c[u]-(e[h]/2-t[h]/2);break;case Zx:c[u]=c[u]+(e[h]/2-t[h]/2);break}}return c}function Qx(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,s=t.strategy,a=s===void 0?n.strategy:s,o=t.boundary,c=o===void 0?Lve:o,u=t.rootBoundary,h=u===void 0?Rq:u,p=t.elementContext,y=p===void 0?nb:p,v=t.altBoundary,_=v===void 0?!1:v,S=t.padding,E=S===void 0?0:S,x=Nq(typeof E!="number"?E:Lq(E,kS)),w=y===nb?Uve:nb,M=n.rects.popper,C=n.elements[_?w:y],D=m0e(Jg(C)?C:C.contextElement||Jp(n.elements.popper),c,h,a),L=X0(n.elements.reference),I=kq({reference:L,element:M,placement:r}),N=TP(Object.assign({},M,I)),P=y===nb?N:L,U={top:D.top-P.top+x.top,bottom:P.bottom-D.bottom+x.bottom,left:D.left-P.left+x.left,right:P.right-D.right+x.right},V=n.modifiersData.offset;if(y===nb&&V){var z=V[r];Object.keys(U).forEach(function(F){var K=[Ac,Cc].indexOf(F)>=0?1:-1,ee=[nl,Cc].indexOf(F)>=0?"y":"x";U[F]+=z[ee]*K})}return U}function g0e(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,s=t.rootBoundary,a=t.padding,o=t.flipVariations,c=t.allowedAutoPlacements,u=c===void 0?Oq:c,h=Y0(i),p=h?o?UB:UB.filter(function(_){return Y0(_)===h}):kS,y=p.filter(function(_){return u.indexOf(_)>=0});y.length===0&&(y=p);var v=y.reduce(function(_,S){return _[S]=Qx(n,{placement:S,boundary:r,rootBoundary:s,padding:a})[Rf(S)],_},{});return Object.keys(v).sort(function(_,S){return v[_]-v[S]})}function y0e(n){if(Rf(n)===SL)return[];var e=i2(n);return[BB(n),e,BB(e)]}function v0e(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,s=r===void 0?!0:r,a=t.altAxis,o=a===void 0?!0:a,c=t.fallbackPlacements,u=t.padding,h=t.boundary,p=t.rootBoundary,y=t.altBoundary,v=t.flipVariations,_=v===void 0?!0:v,S=t.allowedAutoPlacements,E=e.options.placement,x=Rf(E),w=x===E,M=c||(w||!_?[i2(E)]:y0e(E)),C=[E].concat(M).reduce(function(ue,ie){return ue.concat(Rf(ie)===SL?g0e(e,{placement:ie,boundary:h,rootBoundary:p,padding:u,flipVariations:_,allowedAutoPlacements:S}):ie)},[]),D=e.rects.reference,L=e.rects.popper,I=new Map,N=!0,P=C[0],U=0;U<C.length;U++){var V=C[U],z=Rf(V),F=Y0(V)===W0,K=[nl,Cc].indexOf(z)>=0,ee=K?"width":"height",q=Qx(e,{placement:V,boundary:h,rootBoundary:p,altBoundary:y,padding:u}),$=K?F?Ac:il:F?Cc:nl;D[ee]>L[ee]&&($=i2($));var Q=i2($),se=[];if(s&&se.push(q[z]<=0),o&&se.push(q[$]<=0,q[Q]<=0),se.every(function(ue){return ue})){P=V,N=!1;break}I.set(V,se)}if(N)for(var de=_?3:1,Y=function(ie){var he=C.find(function(ye){var Ve=I.get(ye);if(Ve)return Ve.slice(0,ie).every(function(Xe){return Xe})});if(he)return P=he,"break"},le=de;le>0;le--){var pe=Y(le);if(pe==="break")break}e.placement!==P&&(e.modifiersData[i]._skip=!0,e.placement=P,e.reset=!0)}}const _0e={name:"flip",enabled:!0,phase:"main",fn:v0e,requiresIfExists:["offset"],data:{_skip:!1}};function VB(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function HB(n){return[nl,Ac,Cc,il].some(function(e){return n[e]>=0})}function b0e(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,a=Qx(e,{elementContext:"reference"}),o=Qx(e,{altBoundary:!0}),c=VB(a,i),u=VB(o,r,s),h=HB(c),p=HB(u);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const x0e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:b0e};function S0e(n,e,t){var i=Rf(n),r=[il,nl].indexOf(i)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=s[0],o=s[1];return a=a||0,o=(o||0)*r,[il,Ac].indexOf(i)>=0?{x:o,y:a}:{x:a,y:o}}function E0e(n){var e=n.state,t=n.options,i=n.name,r=t.offset,s=r===void 0?[0,0]:r,a=Oq.reduce(function(h,p){return h[p]=S0e(p,e.rects,s),h},{}),o=a[e.placement],c=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=a}const T0e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:E0e};function w0e(n){var e=n.state,t=n.name;e.modifiersData[t]=kq({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const C0e={name:"popperOffsets",enabled:!0,phase:"read",fn:w0e,data:{}};function A0e(n){return n==="x"?"y":"x"}function M0e(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,s=r===void 0?!0:r,a=t.altAxis,o=a===void 0?!1:a,c=t.boundary,u=t.rootBoundary,h=t.altBoundary,p=t.padding,y=t.tether,v=y===void 0?!0:y,_=t.tetherOffset,S=_===void 0?0:_,E=Qx(e,{boundary:c,rootBoundary:u,padding:p,altBoundary:h}),x=Rf(e.placement),w=Y0(e.placement),M=!w,C=wL(x),D=A0e(C),L=e.modifiersData.popperOffsets,I=e.rects.reference,N=e.rects.popper,P=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,U=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(L){if(s){var F,K=C==="y"?nl:il,ee=C==="y"?Cc:Ac,q=C==="y"?"height":"width",$=L[C],Q=$+E[K],se=$-E[ee],de=v?-N[q]/2:0,Y=w===W0?I[q]:N[q],le=w===W0?-N[q]:-I[q],pe=e.elements.arrow,ue=v&&pe?TL(pe):{width:0,height:0},ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Dq(),he=ie[K],ye=ie[ee],Ve=sx(0,I[q],ue[q]),Xe=M?I[q]/2-de-Ve-he-U.mainAxis:Y-Ve-he-U.mainAxis,Ge=M?-I[q]/2+de+Ve+ye+U.mainAxis:le+Ve+ye+U.mainAxis,rt=e.elements.arrow&&zS(e.elements.arrow),ot=rt?C==="y"?rt.clientTop||0:rt.clientLeft||0:0,pt=(F=V?.[C])!=null?F:0,te=$+Xe-pt-ot,Oe=$+Ge-pt,Be=sx(v?NC(Q,te):Q,$,v?Hg(se,Oe):se);L[C]=Be,z[C]=Be-$}if(o){var Ne,Me=C==="x"?nl:il,ct=C==="x"?Cc:Ac,qe=L[D],ae=D==="y"?"height":"width",J=qe+E[Me],Se=qe-E[ct],Ae=[nl,il].indexOf(x)!==-1,Ze=(Ne=V?.[D])!=null?Ne:0,Re=Ae?J:qe-I[ae]-N[ae]-Ze+U.altAxis,lt=Ae?qe+I[ae]+N[ae]-Ze-U.altAxis:Se,ut=v&&Ae?Qve(Re,qe,lt):sx(v?Re:J,qe,v?lt:Se);L[D]=ut,z[D]=ut-qe}e.modifiersData[i]=z}}const R0e={name:"preventOverflow",enabled:!0,phase:"main",fn:M0e,requiresIfExists:["offset"]};function O0e(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function I0e(n){return n===Fl(n)||!Tc(n)?CL(n):O0e(n)}function P0e(n){var e=n.getBoundingClientRect(),t=$0(e.width)/n.offsetWidth||1,i=$0(e.height)/n.offsetHeight||1;return t!==1||i!==1}function D0e(n,e,t){t===void 0&&(t=!1);var i=Tc(e),r=Tc(e)&&P0e(e),s=Jp(e),a=X0(n,r,t),o={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!t)&&((Pf(e)!=="body"||ML(s))&&(o=I0e(e)),Tc(e)?(c=X0(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=AL(s))),{x:a.left+o.scrollLeft-c.x,y:a.top+o.scrollTop-c.y,width:a.width,height:a.height}}function N0e(n){var e=new Map,t=new Set,i=[];n.forEach(function(s){e.set(s.name,s)});function r(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!t.has(o)){var c=e.get(o);c&&r(c)}}),i.push(s)}return n.forEach(function(s){t.has(s.name)||r(s)}),i}function L0e(n){var e=N0e(n);return Wve.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function U0e(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function k0e(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var jB={placement:"bottom",modifiers:[],strategy:"absolute"};function GB(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function z0e(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,s=r===void 0?jB:r;return function(o,c,u){u===void 0&&(u=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},jB,s),modifiersData:{},elements:{reference:o,popper:c},attributes:{},styles:{}},p=[],y=!1,v={state:h,setOptions:function(x){var w=typeof x=="function"?x(h.options):x;S(),h.options=Object.assign({},s,h.options,w),h.scrollParents={reference:Jg(o)?ax(o):o.contextElement?ax(o.contextElement):[],popper:ax(c)};var M=L0e(k0e([].concat(i,h.options.modifiers)));return h.orderedModifiers=M.filter(function(C){return C.enabled}),_(),v.update()},forceUpdate:function(){if(!y){var x=h.elements,w=x.reference,M=x.popper;if(GB(w,M)){h.rects={reference:D0e(w,zS(M),h.options.strategy==="fixed"),popper:TL(M)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(U){return h.modifiersData[U.name]=Object.assign({},U.data)});for(var C=0;C<h.orderedModifiers.length;C++){if(h.reset===!0){h.reset=!1,C=-1;continue}var D=h.orderedModifiers[C],L=D.fn,I=D.options,N=I===void 0?{}:I,P=D.name;typeof L=="function"&&(h=L({state:h,options:N,name:P,instance:v})||h)}}}},update:U0e(function(){return new Promise(function(E){v.forceUpdate(),E(h)})}),destroy:function(){S(),y=!0}};if(!GB(o,c))return v;v.setOptions(u).then(function(E){!y&&u.onFirstUpdate&&u.onFirstUpdate(E)});function _(){h.orderedModifiers.forEach(function(E){var x=E.name,w=E.options,M=w===void 0?{}:w,C=E.effect;if(typeof C=="function"){var D=C({state:h,name:x,instance:v,options:M}),L=function(){};p.push(D||L)}})}function S(){p.forEach(function(E){return E()}),p=[]}return v}}var B0e=[l0e,C0e,a0e,Yve,T0e,_0e,R0e,n0e,x0e],F0e=z0e({defaultModifiers:B0e});function K0(n){const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:r=!1,...s}=n,a=r?{}:wq(t,i),{props:o,internalRef:c}=Aq({...s,externalSlotProps:a}),u=Br(c,a?.ref,n.additionalProps?.ref);return Tq(e,{...o,ref:u},i)}function em(n){return parseInt(H.version,10)>=19?n?.props?.ref||null:n?.ref||null}function V0e(n){return typeof n=="function"?n():n}const zq=H.forwardRef(function(e,t){const{children:i,container:r,disablePortal:s=!1}=e,[a,o]=H.useState(null),c=Br(H.isValidElement(i)?em(i):null,t);if(xu(()=>{s||o(V0e(r)||document.body)},[r,s]),xu(()=>{if(a&&!s)return AB(t,a),()=>{AB(t,null)}},[t,a,s]),s){if(H.isValidElement(i)){const u={ref:c};return H.cloneElement(i,u)}return i}return a&&KF.createPortal(i,a)});function H0e(n){return mn("MuiPopper",n)}gn("MuiPopper",["root"]);function j0e(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function wP(n){return typeof n=="function"?n():n}function G0e(n){return n.nodeType!==void 0}const q0e=n=>{const{classes:e}=n;return pn({root:["root"]},H0e,e)},W0e={},$0e=H.forwardRef(function(e,t){const{anchorEl:i,children:r,direction:s,disablePortal:a,modifiers:o,open:c,placement:u,popperOptions:h,popperRef:p,slotProps:y={},slots:v={},TransitionProps:_,ownerState:S,...E}=e,x=H.useRef(null),w=Br(x,t),M=H.useRef(null),C=Br(M,p),D=H.useRef(C);xu(()=>{D.current=C},[C]),H.useImperativeHandle(p,()=>M.current,[]);const L=j0e(u,s),[I,N]=H.useState(L),[P,U]=H.useState(wP(i));H.useEffect(()=>{M.current&&M.current.forceUpdate()}),H.useEffect(()=>{i&&U(wP(i))},[i]),xu(()=>{if(!P||!c)return;const ee=Q=>{N(Q.placement)};let q=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Q})=>{ee(Q)}}];o!=null&&(q=q.concat(o)),h&&h.modifiers!=null&&(q=q.concat(h.modifiers));const $=F0e(P,x.current,{placement:L,...h,modifiers:q});return D.current($),()=>{$.destroy(),D.current(null)}},[P,a,o,c,h,L]);const V={placement:I};_!==null&&(V.TransitionProps=_);const z=q0e(e),F=v.root??"div",K=K0({elementType:F,externalSlotProps:y.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:z.root});return Z.jsx(F,{...K,children:typeof r=="function"?r(V):r})}),X0e=H.forwardRef(function(e,t){const{anchorEl:i,children:r,container:s,direction:a="ltr",disablePortal:o=!1,keepMounted:c=!1,modifiers:u,open:h,placement:p="bottom",popperOptions:y=W0e,popperRef:v,style:_,transition:S=!1,slotProps:E={},slots:x={},...w}=e,[M,C]=H.useState(!0),D=()=>{C(!1)},L=()=>{C(!0)};if(!c&&!h&&(!S||M))return null;let I;if(s)I=s;else if(i){const U=wP(i);I=U&&G0e(U)?wa(U).body:wa(null).body}const N=!h&&c&&(!S||M)?"none":void 0,P=S?{in:h,onEnter:D,onExited:L}:void 0;return Z.jsx(zq,{disablePortal:o,container:I,children:Z.jsx($0e,{anchorEl:i,direction:a,disablePortal:o,modifiers:u,ref:t,open:S?!M:h,placement:p,popperOptions:y,popperRef:v,slotProps:E,slots:x,...w,style:{position:"fixed",top:0,left:0,display:N,..._},TransitionProps:P,children:r})})}),Y0e=ht(X0e,{name:"MuiPopper",slot:"Root"})({}),Bq=H.forwardRef(function(e,t){const i=NS(),r=Sn({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:o,componentsProps:c,container:u,disablePortal:h,keepMounted:p,modifiers:y,open:v,placement:_,popperOptions:S,popperRef:E,transition:x,slots:w,slotProps:M,...C}=r,D=w?.root??o?.Root,L={anchorEl:s,container:u,disablePortal:h,keepMounted:p,modifiers:y,open:v,placement:_,popperOptions:S,popperRef:E,transition:x,...C};return Z.jsx(Y0e,{as:a,direction:i?"rtl":"ltr",slots:{root:D},slotProps:M??c,...L,ref:t})}),K0e=ns(Z.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function Z0e(n){return mn("MuiChip",n)}const Jn=gn("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Q0e=n=>{const{classes:e,disabled:t,size:i,color:r,iconColor:s,onDelete:a,clickable:o,variant:c}=n,u={root:["root",c,t&&"disabled",`size${yt(i)}`,`color${yt(r)}`,o&&"clickable",o&&`clickableColor${yt(r)}`,a&&"deletable",a&&`deletableColor${yt(r)}`,`${c}${yt(r)}`],label:["label",`label${yt(i)}`],avatar:["avatar",`avatar${yt(i)}`,`avatarColor${yt(r)}`],icon:["icon",`icon${yt(i)}`,`iconColor${yt(s)}`],deleteIcon:["deleteIcon",`deleteIcon${yt(i)}`,`deleteIconColor${yt(r)}`,`deleteIcon${yt(c)}Color${yt(r)}`]};return pn(u,Z0e,e)},J0e=ht("div",{name:"MuiChip",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{color:i,iconColor:r,clickable:s,onDelete:a,size:o,variant:c}=t;return[{[`& .${Jn.avatar}`]:e.avatar},{[`& .${Jn.avatar}`]:e[`avatar${yt(o)}`]},{[`& .${Jn.avatar}`]:e[`avatarColor${yt(i)}`]},{[`& .${Jn.icon}`]:e.icon},{[`& .${Jn.icon}`]:e[`icon${yt(o)}`]},{[`& .${Jn.icon}`]:e[`iconColor${yt(r)}`]},{[`& .${Jn.deleteIcon}`]:e.deleteIcon},{[`& .${Jn.deleteIcon}`]:e[`deleteIcon${yt(o)}`]},{[`& .${Jn.deleteIcon}`]:e[`deleteIconColor${yt(i)}`]},{[`& .${Jn.deleteIcon}`]:e[`deleteIcon${yt(c)}Color${yt(i)}`]},e.root,e[`size${yt(o)}`],e[`color${yt(i)}`],s&&e.clickable,s&&i!=="default"&&e[`clickableColor${yt(i)}`],a&&e.deletable,a&&i!=="default"&&e[`deletableColor${yt(i)}`],e[c],e[`${c}${yt(i)}`]]}})(Nn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[700]:n.palette.grey[300];return{maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Jn.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Jn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:e,fontSize:n.typography.pxToRem(12)},[`& .${Jn.avatarColorPrimary}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},[`& .${Jn.avatarColorSecondary}`]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},[`& .${Jn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},[`& .${Jn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Jn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:n.alpha((n.vars||n).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.alpha((n.vars||n).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Jn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Jn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(n.palette).filter(ta(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(n.vars||n).palette[t].main,color:(n.vars||n).palette[t].contrastText,[`& .${Jn.deleteIcon}`]:{color:n.alpha((n.vars||n).palette[t].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].contrastText}}}})),{props:t=>t.iconColor===t.color,style:{[`& .${Jn.icon}`]:{color:n.vars?n.vars.palette.Chip.defaultIconColor:e}}},{props:t=>t.iconColor===t.color&&t.color!=="default",style:{[`& .${Jn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Jn.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)}}},...Object.entries(n.palette).filter(ta(["dark"])).map(([t])=>({props:{color:t,onDelete:!0},style:{[`&.${Jn.focusVisible}`]:{background:(n.vars||n).palette[t].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`)},[`&.${Jn.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)},"&:active":{boxShadow:(n.vars||n).shadows[1]}}},...Object.entries(n.palette).filter(ta(["dark"])).map(([t])=>({props:{color:t,clickable:!0},style:{[`&:hover, &.${Jn.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:n.vars?`1px solid ${n.vars.palette.Chip.defaultBorder}`:`1px solid ${n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[700]}`,[`&.${Jn.clickable}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${Jn.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`& .${Jn.avatar}`]:{marginLeft:4},[`& .${Jn.avatarSmall}`]:{marginLeft:2},[`& .${Jn.icon}`]:{marginLeft:4},[`& .${Jn.iconSmall}`]:{marginLeft:2},[`& .${Jn.deleteIcon}`]:{marginRight:5},[`& .${Jn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(n.palette).filter(ta()).map(([t])=>({props:{variant:"outlined",color:t},style:{color:(n.vars||n).palette[t].main,border:`1px solid ${n.alpha((n.vars||n).palette[t].main,.7)}`,[`&.${Jn.clickable}:hover`]:{backgroundColor:n.alpha((n.vars||n).palette[t].main,(n.vars||n).palette.action.hoverOpacity)},[`&.${Jn.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette[t].main,(n.vars||n).palette.action.focusOpacity)},[`& .${Jn.deleteIcon}`]:{color:n.alpha((n.vars||n).palette[t].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].main}}}}))]}})),e_e=ht("span",{name:"MuiChip",slot:"Label",overridesResolver:(n,e)=>{const{ownerState:t}=n,{size:i}=t;return[e.label,e[`label${yt(i)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function qB(n){return n.key==="Backspace"||n.key==="Delete"}const t_e=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiChip"}),{avatar:r,className:s,clickable:a,color:o="default",component:c,deleteIcon:u,disabled:h=!1,icon:p,label:y,onClick:v,onDelete:_,onKeyDown:S,onKeyUp:E,size:x="medium",variant:w="filled",tabIndex:M,skipFocusWhenDisabled:C=!1,slots:D={},slotProps:L={},...I}=i,N=H.useRef(null),P=Br(N,t),U=he=>{he.stopPropagation(),_&&_(he)},V=he=>{he.currentTarget===he.target&&qB(he)&&he.preventDefault(),S&&S(he)},z=he=>{he.currentTarget===he.target&&_&&qB(he)&&_(he),E&&E(he)},F=a!==!1&&v?!0:a,K=F||_?qp:c||"div",ee={...i,component:K,disabled:h,size:x,color:o,iconColor:H.isValidElement(p)&&p.props.color||o,onDelete:!!_,clickable:F,variant:w},q=Q0e(ee),$=K===qp?{component:c||"div",focusVisibleClassName:q.focusVisible,..._&&{disableRipple:!0}}:{};let Q=null;_&&(Q=u&&H.isValidElement(u)?H.cloneElement(u,{className:Pt(u.props.className,q.deleteIcon),onClick:U}):Z.jsx(K0e,{className:q.deleteIcon,onClick:U}));let se=null;r&&H.isValidElement(r)&&(se=H.cloneElement(r,{className:Pt(q.avatar,r.props.className)}));let de=null;p&&H.isValidElement(p)&&(de=H.cloneElement(p,{className:Pt(q.icon,p.props.className)}));const Y={slots:D,slotProps:L},[le,pe]=rn("root",{elementType:J0e,externalForwardedProps:{...Y,...I},ownerState:ee,shouldForwardComponentProp:!0,ref:P,className:Pt(q.root,s),additionalProps:{disabled:F&&h?!0:void 0,tabIndex:C&&h?-1:M,...$},getSlotProps:he=>({...he,onClick:ye=>{he.onClick?.(ye),v?.(ye)},onKeyDown:ye=>{he.onKeyDown?.(ye),V(ye)},onKeyUp:ye=>{he.onKeyUp?.(ye),z(ye)}})}),[ue,ie]=rn("label",{elementType:e_e,externalForwardedProps:Y,ownerState:ee,className:q.label});return Z.jsxs(le,{as:K,...pe,children:[se||de,Z.jsx(ue,{...ie,children:y}),Q]})});function JT(n){return parseInt(n,10)||0}const n_e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function i_e(n){for(const e in n)return!1;return!0}function WB(n){return i_e(n)||n.outerHeightStyle===0&&!n.overflowing}const r_e=H.forwardRef(function(e,t){const{onChange:i,maxRows:r,minRows:s=1,style:a,value:o,...c}=e,{current:u}=H.useRef(o!=null),h=H.useRef(null),p=Br(t,h),y=H.useRef(null),v=H.useRef(null),_=H.useCallback(()=>{const M=h.current,C=v.current;if(!M||!C)return;const L=Bl(M).getComputedStyle(M);if(L.width==="0px")return{outerHeightStyle:0,overflowing:!1};C.style.width=L.width,C.value=M.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const I=L.boxSizing,N=JT(L.paddingBottom)+JT(L.paddingTop),P=JT(L.borderBottomWidth)+JT(L.borderTopWidth),U=C.scrollHeight;C.value="x";const V=C.scrollHeight;let z=U;s&&(z=Math.max(Number(s)*V,z)),r&&(z=Math.min(Number(r)*V,z)),z=Math.max(z,V);const F=z+(I==="border-box"?N+P:0),K=Math.abs(z-U)<=1;return{outerHeightStyle:F,overflowing:K}},[r,s,e.placeholder]),S=Ll(()=>{const M=h.current,C=_();if(!M||!C||WB(C))return!1;const D=C.outerHeightStyle;return y.current!=null&&y.current!==D}),E=H.useCallback(()=>{const M=h.current,C=_();if(!M||!C||WB(C))return;const D=C.outerHeightStyle;y.current!==D&&(y.current=D,M.style.height=`${D}px`),M.style.overflow=C.overflowing?"hidden":""},[_]),x=H.useRef(-1);xu(()=>{const M=LS(E),C=h?.current;if(!C)return;const D=Bl(C);D.addEventListener("resize",M);let L;return typeof ResizeObserver<"u"&&(L=new ResizeObserver(()=>{S()&&(L.unobserve(C),cancelAnimationFrame(x.current),E(),x.current=requestAnimationFrame(()=>{L.observe(C)}))}),L.observe(C)),()=>{M.clear(),cancelAnimationFrame(x.current),D.removeEventListener("resize",M),L&&L.disconnect()}},[_,E,S]),xu(()=>{E()});const w=M=>{u||E();const C=M.target,D=C.value.length,L=C.value.endsWith(`
`),I=C.selectionStart===D;L&&I&&C.setSelectionRange(D,D),i&&i(M)};return Z.jsxs(H.Fragment,{children:[Z.jsx("textarea",{value:o,onChange:w,ref:p,rows:s,style:a,...c}),Z.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:{...n_e.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function uy({props:n,states:e,muiFormControl:t}){return e.reduce((i,r)=>(i[r]=n[r],t&&typeof n[r]>"u"&&(i[r]=t[r]),i),{})}const RL=H.createContext(void 0);function tm(){return H.useContext(RL)}function $B(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function LC(n,e=!1){return n&&($B(n.value)&&n.value!==""||e&&$B(n.defaultValue)&&n.defaultValue!=="")}function s_e(n){return n.startAdornment}function a_e(n){return mn("MuiInputBase",n)}const Z0=gn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var XB;const TM=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${yt(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},wM=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},o_e=n=>{const{classes:e,color:t,disabled:i,error:r,endAdornment:s,focused:a,formControl:o,fullWidth:c,hiddenLabel:u,multiline:h,readOnly:p,size:y,startAdornment:v,type:_}=n,S={root:["root",`color${yt(t)}`,i&&"disabled",r&&"error",c&&"fullWidth",a&&"focused",o&&"formControl",y&&y!=="medium"&&`size${yt(y)}`,h&&"multiline",v&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",p&&"readOnly"],input:["input",i&&"disabled",_==="search"&&"inputTypeSearch",h&&"inputMultiline",y==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",v&&"inputAdornedStart",s&&"inputAdornedEnd",p&&"readOnly"]};return pn(S,a_e,e)},CM=ht("div",{name:"MuiInputBase",slot:"Root",overridesResolver:TM})(Nn(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Z0.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),AM=ht("input",{name:"MuiInputBase",slot:"Input",overridesResolver:wM})(Nn(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},r=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Z0.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus::-ms-input-placeholder":r},[`&.${Z0.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),YB=bye({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),OL=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:s,autoFocus:a,className:o,color:c,components:u={},componentsProps:h={},defaultValue:p,disabled:y,disableInjectingGlobalStyles:v,endAdornment:_,error:S,fullWidth:E=!1,id:x,inputComponent:w="input",inputProps:M={},inputRef:C,margin:D,maxRows:L,minRows:I,multiline:N=!1,name:P,onBlur:U,onChange:V,onClick:z,onFocus:F,onKeyDown:K,onKeyUp:ee,placeholder:q,readOnly:$,renderSuffix:Q,rows:se,size:de,slotProps:Y={},slots:le={},startAdornment:pe,type:ue="text",value:ie,...he}=i,ye=M.value!=null?M.value:ie,{current:Ve}=H.useRef(ye!=null),Xe=H.useRef(),Ge=H.useCallback($e=>{},[]),rt=Br(Xe,C,M.ref,Ge),[ot,pt]=H.useState(!1),te=tm(),Oe=uy({props:i,muiFormControl:te,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Oe.focused=te?te.focused:ot,H.useEffect(()=>{!te&&y&&ot&&(pt(!1),U&&U())},[te,y,ot,U]);const Be=te&&te.onFilled,Ne=te&&te.onEmpty,Me=H.useCallback($e=>{LC($e)?Be&&Be():Ne&&Ne()},[Be,Ne]);xu(()=>{Ve&&Me({value:ye})},[ye,Me,Ve]);const ct=$e=>{F&&F($e),M.onFocus&&M.onFocus($e),te&&te.onFocus?te.onFocus($e):pt(!0)},qe=$e=>{U&&U($e),M.onBlur&&M.onBlur($e),te&&te.onBlur?te.onBlur($e):pt(!1)},ae=($e,...dt)=>{if(!Ve){const wt=$e.target||Xe.current;if(wt==null)throw new Error(Jh(1));Me({value:wt.value})}M.onChange&&M.onChange($e,...dt),V&&V($e,...dt)};H.useEffect(()=>{Me(Xe.current)},[]);const J=$e=>{Xe.current&&$e.currentTarget===$e.target&&Xe.current.focus(),z&&z($e)};let Se=w,Ae=M;N&&Se==="input"&&(se?Ae={type:void 0,minRows:se,maxRows:se,...Ae}:Ae={type:void 0,maxRows:L,minRows:I,...Ae},Se=r_e);const Ze=$e=>{Me($e.animationName==="mui-auto-fill-cancel"?Xe.current:{value:"x"})};H.useEffect(()=>{te&&te.setAdornedStart(!!pe)},[te,pe]);const Re={...i,color:Oe.color||"primary",disabled:Oe.disabled,endAdornment:_,error:Oe.error,focused:Oe.focused,formControl:te,fullWidth:E,hiddenLabel:Oe.hiddenLabel,multiline:N,size:Oe.size,startAdornment:pe,type:ue},lt=o_e(Re),ut=le.root||u.Root||CM,Dt=Y.root||h.root||{},kt=le.input||u.Input||AM;return Ae={...Ae,...Y.input??h.input},Z.jsxs(H.Fragment,{children:[!v&&typeof YB=="function"&&(XB||(XB=Z.jsx(YB,{}))),Z.jsxs(ut,{...Dt,ref:t,onClick:J,...he,...!q0(ut)&&{ownerState:{...Re,...Dt.ownerState}},className:Pt(lt.root,Dt.className,o,$&&"MuiInputBase-readOnly"),children:[pe,Z.jsx(RL.Provider,{value:null,children:Z.jsx(kt,{"aria-invalid":Oe.error,"aria-describedby":r,autoComplete:s,autoFocus:a,defaultValue:p,disabled:Oe.disabled,id:x,onAnimationStart:Ze,name:P,placeholder:q,readOnly:$,required:Oe.required,rows:se,value:ye,onKeyDown:K,onKeyUp:ee,type:ue,...Ae,...!q0(kt)&&{as:Se,ownerState:{...Re,...Ae.ownerState}},ref:rt,className:Pt(lt.input,Ae.className,$&&"MuiInputBase-readOnly"),onBlur:qe,onChange:ae,onFocus:ct})}),_,Q?Q({...Oe,startAdornment:pe}):null]})]})});function l_e(n){return mn("MuiInput",n)}const ib={...Z0,...gn("MuiInput",["root","underline","input"])};function c_e(n){return mn("MuiOutlinedInput",n)}const rf={...Z0,...gn("MuiOutlinedInput",["root","notchedOutline","input"])};function u_e(n){return mn("MuiFilledInput",n)}const lg={...Z0,...gn("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},f_e=ns(Z.jsx("path",{d:"M7 10l5 5 5-5z"})),h_e=ns(Z.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function d_e(n){return mn("MuiAvatar",n)}gn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const p_e=n=>{const{classes:e,variant:t,colorDefault:i}=n;return pn({root:["root",t,i&&"colorDefault"],img:["img"],fallback:["fallback"]},d_e,e)},m_e=ht("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],t.colorDefault&&e.colorDefault]}})(Nn(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(n.vars||n).palette.background.default,...n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:n.palette.grey[400],...n.applyStyles("dark",{backgroundColor:n.palette.grey[600]})}}}]}))),g_e=ht("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),y_e=ht(h_e,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function v_e({crossOrigin:n,referrerPolicy:e,src:t,srcSet:i}){const[r,s]=H.useState(!1);return H.useEffect(()=>{if(!t&&!i)return;s(!1);let a=!0;const o=new Image;return o.onload=()=>{a&&s("loaded")},o.onerror=()=>{a&&s("error")},o.crossOrigin=n,o.referrerPolicy=e,o.src=t,i&&(o.srcset=i),()=>{a=!1}},[n,e,t,i]),r}const KB=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiAvatar"}),{alt:r,children:s,className:a,component:o="div",slots:c={},slotProps:u={},imgProps:h,sizes:p,src:y,srcSet:v,variant:_="circular",...S}=i;let E=null;const x={...i,component:o,variant:_},w=v_e({...h,...typeof u.img=="function"?u.img(x):u.img,src:y,srcSet:v}),M=y||v,C=M&&w!=="error";x.colorDefault=!C,delete x.ownerState;const D=p_e(x),[L,I]=rn("root",{ref:t,className:Pt(D.root,a),elementType:m_e,externalForwardedProps:{slots:c,slotProps:u,component:o,...S},ownerState:x}),[N,P]=rn("img",{className:D.img,elementType:g_e,externalForwardedProps:{slots:c,slotProps:{img:{...h,...u.img}}},additionalProps:{alt:r,src:y,srcSet:v,sizes:p},ownerState:x}),[U,V]=rn("fallback",{className:D.fallback,elementType:y_e,externalForwardedProps:{slots:c,slotProps:u},shouldForwardComponentProp:!0,ownerState:x});return C?E=Z.jsx(N,{...P}):s||s===0?E=s:M&&r?E=r[0]:E=Z.jsx(U,{...V}),Z.jsx(L,{...I,children:E})}),__e={entering:{opacity:1},entered:{opacity:1}},CP=H.forwardRef(function(e,t){const i=rd(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:o,easing:c,in:u,onEnter:h,onEntered:p,onEntering:y,onExit:v,onExited:_,onExiting:S,style:E,timeout:x=r,TransitionComponent:w=Ic,...M}=e,C=H.useRef(null),D=Br(C,em(o),t),L=K=>ee=>{if(K){const q=C.current;ee===void 0?K(q):K(q,ee)}},I=L(y),N=L((K,ee)=>{bL(K);const q=Gp({style:E,timeout:x,easing:c},{mode:"enter"});K.style.webkitTransition=i.transitions.create("opacity",q),K.style.transition=i.transitions.create("opacity",q),h&&h(K,ee)}),P=L(p),U=L(S),V=L(K=>{const ee=Gp({style:E,timeout:x,easing:c},{mode:"exit"});K.style.webkitTransition=i.transitions.create("opacity",ee),K.style.transition=i.transitions.create("opacity",ee),v&&v(K)}),z=L(_),F=K=>{s&&s(C.current,K)};return Z.jsx(w,{appear:a,in:u,nodeRef:C,onEnter:N,onEntered:P,onEntering:I,onExit:V,onExited:z,onExiting:U,addEndListener:F,timeout:x,...M,children:(K,{ownerState:ee,...q})=>H.cloneElement(o,{style:{opacity:0,visibility:K==="exited"&&!u?"hidden":void 0,...__e[K],...E,...o.props.style},ref:D,...q})})});function b_e(n){return mn("MuiBackdrop",n)}gn("MuiBackdrop",["root","invisible"]);const x_e=n=>{const{classes:e,invisible:t}=n;return pn({root:["root",t&&"invisible"]},b_e,e)},S_e=ht("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Fq=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiBackdrop"}),{children:r,className:s,component:a="div",invisible:o=!1,open:c,components:u={},componentsProps:h={},slotProps:p={},slots:y={},TransitionComponent:v,transitionDuration:_,...S}=i,E={...i,component:a,invisible:o},x=x_e(E),w={transition:v,root:u.Root,...y},M={...h,...p},C={component:a,slots:w,slotProps:M},[D,L]=rn("root",{elementType:S_e,externalForwardedProps:C,className:Pt(x.root,s),ownerState:E}),[I,N]=rn("transition",{elementType:CP,externalForwardedProps:C,ownerState:E});return Z.jsx(I,{in:c,timeout:_,...S,...N,children:Z.jsx(D,{"aria-hidden":!0,...L,classes:x,ref:t,children:r})})}),E_e=gn("MuiBox",["root"]),T_e=yq(),td=Wme({themeId:xM,defaultTheme:T_e,defaultClassName:E_e.root,generateClassName:kG.generate});function w_e(n){return mn("MuiButton",n)}const cg=gn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),C_e=H.createContext({}),A_e=H.createContext(void 0),M_e=n=>{const{color:e,disableElevation:t,fullWidth:i,size:r,variant:s,loading:a,loadingPosition:o,classes:c}=n,u={root:["root",a&&"loading",s,`${s}${yt(e)}`,`size${yt(r)}`,`${s}Size${yt(r)}`,`color${yt(e)}`,t&&"disableElevation",i&&"fullWidth",a&&`loadingPosition${yt(o)}`],startIcon:["icon","startIcon",`iconSize${yt(r)}`],endIcon:["icon","endIcon",`iconSize${yt(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=pn(u,w_e,c);return{...c,...h}},Vq=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],R_e=ht(qp,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${yt(t.color)}`],e[`size${yt(t.size)}`],e[`${t.variant}Size${yt(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(Nn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${cg.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${cg.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${cg.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${cg.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(ta()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.alpha((n.vars||n).palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.alpha((n.vars||n).palette[i].main,(n.vars||n).palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.alpha((n.vars||n).palette[i].main,(n.vars||n).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity),"--variant-outlinedBg":n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${cg.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${cg.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${cg.loading}`]:{color:"transparent"}}}]}})),O_e=ht("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${yt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Vq]})),I_e=ht("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${yt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Vq]})),P_e=ht("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),ZB=ht("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),BS=H.forwardRef(function(e,t){const i=H.useContext(C_e),r=H.useContext(A_e),s=Yx(i,e),a=Sn({props:s,name:"MuiButton"}),{children:o,color:c="primary",component:u="button",className:h,disabled:p=!1,disableElevation:y=!1,disableFocusRipple:v=!1,endIcon:_,focusVisibleClassName:S,fullWidth:E=!1,id:x,loading:w=null,loadingIndicator:M,loadingPosition:C="center",size:D="medium",startIcon:L,type:I,variant:N="text",...P}=a,U=x_(x),V=M??Z.jsx(Mq,{"aria-labelledby":U,color:"inherit",size:16}),z={...a,color:c,component:u,disabled:p,disableElevation:y,disableFocusRipple:v,fullWidth:E,loading:w,loadingIndicator:V,loadingPosition:C,size:D,type:I,variant:N},F=M_e(z),K=(L||w&&C==="start")&&Z.jsx(O_e,{className:F.startIcon,ownerState:z,children:L||Z.jsx(ZB,{className:F.loadingIconPlaceholder,ownerState:z})}),ee=(_||w&&C==="end")&&Z.jsx(I_e,{className:F.endIcon,ownerState:z,children:_||Z.jsx(ZB,{className:F.loadingIconPlaceholder,ownerState:z})}),q=r||"",$=typeof w=="boolean"?Z.jsx("span",{className:F.loadingWrapper,style:{display:"contents"},children:w&&Z.jsx(P_e,{className:F.loadingIndicator,ownerState:z,children:V})}):null;return Z.jsxs(R_e,{ownerState:z,className:Pt(i.className,F.root,h,q),component:u,disabled:p||w,focusRipple:!v,focusVisibleClassName:Pt(F.focusVisible,S),ref:t,type:I,id:w?U:x,...P,classes:F,children:[K,C!=="end"&&$,o,C==="end"&&$,ee]})});function D_e(n){return mn("PrivateSwitchBase",n)}gn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const N_e=n=>{const{classes:e,checked:t,disabled:i,edge:r}=n,s={root:["root",t&&"checked",i&&"disabled",r&&`edge${yt(r)}`],input:["input"]};return pn(s,D_e,e)},L_e=ht(qp,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:n,ownerState:e})=>n==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:n,ownerState:e})=>n==="end"&&e.size!=="small",style:{marginRight:-12}}]}),U_e=ht("input",{name:"MuiSwitchBase",shouldForwardProp:Io})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),k_e=H.forwardRef(function(e,t){const{autoFocus:i,checked:r,checkedIcon:s,defaultChecked:a,disabled:o,disableFocusRipple:c=!1,edge:u=!1,icon:h,id:p,inputProps:y,inputRef:v,name:_,onBlur:S,onChange:E,onFocus:x,readOnly:w,required:M=!1,tabIndex:C,type:D,value:L,slots:I={},slotProps:N={},...P}=e,[U,V]=RC({controlled:r,default:!!a,name:"SwitchBase",state:"checked"}),z=tm(),F=ie=>{x&&x(ie),z&&z.onFocus&&z.onFocus(ie)},K=ie=>{S&&S(ie),z&&z.onBlur&&z.onBlur(ie)},ee=ie=>{if(ie.nativeEvent.defaultPrevented)return;const he=ie.target.checked;V(he),E&&E(ie,he)};let q=o;z&&typeof q>"u"&&(q=z.disabled);const $=D==="checkbox"||D==="radio",Q={...e,checked:U,disabled:q,disableFocusRipple:c,edge:u},se=N_e(Q),de={slots:I,slotProps:{input:y,...N}},[Y,le]=rn("root",{ref:t,elementType:L_e,className:se.root,shouldForwardComponentProp:!0,externalForwardedProps:{...de,component:"span",...P},getSlotProps:ie=>({...ie,onFocus:he=>{ie.onFocus?.(he),F(he)},onBlur:he=>{ie.onBlur?.(he),K(he)}}),ownerState:Q,additionalProps:{centerRipple:!0,focusRipple:!c,disabled:q,role:void 0,tabIndex:null}}),[pe,ue]=rn("input",{ref:v,elementType:U_e,className:se.input,externalForwardedProps:de,getSlotProps:ie=>({...ie,onChange:he=>{ie.onChange?.(he),ee(he)}}),ownerState:Q,additionalProps:{autoFocus:i,checked:r,defaultChecked:a,disabled:q,id:$?p:void 0,name:_,readOnly:w,required:M,tabIndex:C,type:D,...D==="checkbox"&&L===void 0?{}:{value:L}}});return Z.jsxs(Y,{...le,children:[Z.jsx(pe,{...ue}),U?s:h]})}),z_e=ns(Z.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),B_e=ns(Z.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),F_e=ns(Z.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function V_e(n){return mn("MuiCheckbox",n)}const XO=gn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),H_e=n=>{const{classes:e,indeterminate:t,color:i,size:r}=n,s={root:["root",t&&"indeterminate",`color${yt(i)}`,`size${yt(r)}`]},a=pn(s,V_e,e);return{...e,...a}},j_e=ht(k_e,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.indeterminate&&e.indeterminate,e[`size${yt(t.size)}`],t.color!=="default"&&e[`color${yt(t.color)}`]]}})(Nn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:n.alpha((n.vars||n).palette.action.active,(n.vars||n).palette.action.hoverOpacity)}}},...Object.entries(n.palette).filter(ta()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.hoverOpacity)}}})),...Object.entries(n.palette).filter(ta()).map(([e])=>({props:{color:e},style:{[`&.${XO.checked}, &.${XO.indeterminate}`]:{color:(n.vars||n).palette[e].main},[`&.${XO.disabled}`]:{color:(n.vars||n).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),G_e=Z.jsx(B_e,{}),q_e=Z.jsx(z_e,{}),W_e=Z.jsx(F_e,{}),$_e=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiCheckbox"}),{checkedIcon:r=G_e,color:s="primary",icon:a=q_e,indeterminate:o=!1,indeterminateIcon:c=W_e,inputProps:u,size:h="medium",disableRipple:p=!1,className:y,slots:v={},slotProps:_={},...S}=i,E=o?c:a,x=o?c:r,w={...i,disableRipple:p,color:s,indeterminate:o,size:h},M=H_e(w),C=_.input??u,[D,L]=rn("root",{ref:t,elementType:j_e,className:Pt(M.root,y),shouldForwardComponentProp:!0,externalForwardedProps:{slots:v,slotProps:_,...S},ownerState:w,additionalProps:{type:"checkbox",icon:H.cloneElement(E,{fontSize:E.props.fontSize??h}),checkedIcon:H.cloneElement(x,{fontSize:x.props.fontSize??h}),disableRipple:p,slots:v,slotProps:{input:bq(typeof C=="function"?C(w):C,{"data-indeterminate":o})}}});return Z.jsx(D,{...L,classes:M})});function QB(n){return n.substring(2).toLowerCase()}function X_e(n,e){return e.documentElement.clientWidth<n.clientX||e.documentElement.clientHeight<n.clientY}function Y_e(n){const{children:e,disableReactTree:t=!1,mouseEvent:i="onClick",onClickAway:r,touchEvent:s="onTouchEnd"}=n,a=H.useRef(!1),o=H.useRef(null),c=H.useRef(!1),u=H.useRef(!1);H.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const h=Br(em(e),o),p=Ll(_=>{const S=u.current;u.current=!1;const E=wa(o.current);if(!c.current||!o.current||"clientX"in _&&X_e(_,E))return;if(a.current){a.current=!1;return}let x;_.composedPath?x=_.composedPath().includes(o.current):x=!E.documentElement.contains(_.target)||o.current.contains(_.target),!x&&(t||!S)&&r(_)}),y=_=>S=>{u.current=!0;const E=e.props[_];E&&E(S)},v={ref:h};return s!==!1&&(v[s]=y(s)),H.useEffect(()=>{if(s!==!1){const _=QB(s),S=wa(o.current),E=()=>{a.current=!0};return S.addEventListener(_,p),S.addEventListener("touchmove",E),()=>{S.removeEventListener(_,p),S.removeEventListener("touchmove",E)}}},[p,s]),i!==!1&&(v[i]=y(i)),H.useEffect(()=>{if(i!==!1){const _=QB(i),S=wa(o.current);return S.addEventListener(_,p),()=>{S.removeEventListener(_,p)}}},[p,i]),H.cloneElement(e,v)}function Hq(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function K_e(n){const e=wa(n);return e.body===n?Bl(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function ox(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function JB(n){return parseInt(Bl(n).getComputedStyle(n).paddingRight,10)||0}function Z_e(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function e6(n,e,t,i,r){const s=[e,t,...i];[].forEach.call(n.children,a=>{const o=!s.includes(a),c=!Z_e(a);o&&c&&ox(a,r)})}function YO(n,e){let t=-1;return n.some((i,r)=>e(i)?(t=r,!0):!1),t}function Q_e(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(K_e(i)){const a=Hq(Bl(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${JB(i)+a}px`;const o=wa(i).querySelectorAll(".mui-fixed");[].forEach.call(o,c=>{t.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${JB(c)+a}px`})}let s;if(i.parentNode instanceof DocumentFragment)s=wa(i).body;else{const a=i.parentElement,o=Bl(i);s=a?.nodeName==="HTML"&&o.getComputedStyle(a).overflowY==="scroll"?a:i}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:a,property:o})=>{s?a.style.setProperty(o,s):a.style.removeProperty(o)})}}function J_e(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class e1e{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&ox(e.modalRef,!1);const r=J_e(t);e6(t,e.mount,e.modalRef,r,!0);const s=YO(this.containers,a=>a.container===t);return s!==-1?(this.containers[s].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),i)}mount(e,t){const i=YO(this.containers,s=>s.modals.includes(e)),r=this.containers[i];r.restore||(r.restore=Q_e(r,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const r=YO(this.containers,a=>a.modals.includes(e)),s=this.containers[r];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(i,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&ox(e.modalRef,t),e6(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(r,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&ox(a.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function a0(n){let e=n.activeElement;for(;e?.shadowRoot?.activeElement!=null;)e=e.shadowRoot.activeElement;return e}const t1e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function n1e(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function i1e(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function r1e(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||i1e(n))}function s1e(n){const e=[],t=[];return Array.from(n.querySelectorAll(t1e)).forEach((i,r)=>{const s=n1e(i);s===-1||!r1e(i)||(s===0?e.push(i):t.push({documentOrder:r,tabIndex:s,node:i}))}),t.sort((i,r)=>i.tabIndex===r.tabIndex?i.documentOrder-r.documentOrder:i.tabIndex-r.tabIndex).map(i=>i.node).concat(e)}function a1e(){return!0}function o1e(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:r=!1,getTabbable:s=s1e,isEnabled:a=a1e,open:o}=n,c=H.useRef(!1),u=H.useRef(null),h=H.useRef(null),p=H.useRef(null),y=H.useRef(null),v=H.useRef(!1),_=H.useRef(null),S=Br(em(e),_),E=H.useRef(null);H.useEffect(()=>{!o||!_.current||(v.current=!t)},[t,o]),H.useEffect(()=>{if(!o||!_.current)return;const M=wa(_.current),C=a0(M);return _.current.contains(C)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),v.current&&_.current.focus()),()=>{r||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[o]),H.useEffect(()=>{if(!o||!_.current)return;const M=wa(_.current),C=a0(M),D=N=>{E.current=N,!(i||!a()||N.key!=="Tab")&&C===_.current&&N.shiftKey&&(c.current=!0,h.current&&h.current.focus())},L=()=>{const N=_.current;if(N===null)return;const P=a0(M);if(!M.hasFocus()||!a()||c.current){c.current=!1;return}if(N.contains(P)||i&&P!==u.current&&P!==h.current)return;if(P!==y.current)y.current=null;else if(y.current!==null)return;if(!v.current)return;let U=[];if((P===u.current||P===h.current)&&(U=s(_.current)),U.length>0){const V=!!(E.current?.shiftKey&&E.current?.key==="Tab"),z=U[0],F=U[U.length-1];typeof z!="string"&&typeof F!="string"&&(V?F.focus():z.focus())}else N.focus()};M.addEventListener("focusin",L),M.addEventListener("keydown",D,!0);const I=setInterval(()=>{const N=a0(M);N&&N.tagName==="BODY"&&L()},50);return()=>{clearInterval(I),M.removeEventListener("focusin",L),M.removeEventListener("keydown",D,!0)}},[t,i,r,a,o,s]);const x=M=>{p.current===null&&(p.current=M.relatedTarget),v.current=!0,y.current=M.target;const C=e.props.onFocus;C&&C(M)},w=M=>{p.current===null&&(p.current=M.relatedTarget),v.current=!0};return Z.jsxs(H.Fragment,{children:[Z.jsx("div",{tabIndex:o?0:-1,onFocus:w,ref:u,"data-testid":"sentinelStart"}),H.cloneElement(e,{ref:S,onFocus:x}),Z.jsx("div",{tabIndex:o?0:-1,onFocus:w,ref:h,"data-testid":"sentinelEnd"})]})}function l1e(n){return typeof n=="function"?n():n}function c1e(n){return n?n.props.hasOwnProperty("in"):!1}const t6=()=>{},ew=new e1e;function u1e(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:r=!1,onTransitionEnter:s,onTransitionExited:a,children:o,onClose:c,open:u,rootRef:h}=n,p=H.useRef({}),y=H.useRef(null),v=H.useRef(null),_=Br(v,h),[S,E]=H.useState(!u),x=c1e(o);let w=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(w=!1);const M=()=>wa(y.current),C=()=>(p.current.modalRef=v.current,p.current.mount=y.current,p.current),D=()=>{ew.mount(C(),{disableScrollLock:i}),v.current&&(v.current.scrollTop=0)},L=Ll(()=>{const ee=l1e(e)||M().body;ew.add(C(),ee),v.current&&D()}),I=()=>ew.isTopModal(C()),N=Ll(ee=>{y.current=ee,ee&&(u&&I()?D():v.current&&ox(v.current,w))}),P=H.useCallback(()=>{ew.remove(C(),w)},[w]);H.useEffect(()=>()=>{P()},[P]),H.useEffect(()=>{u?L():(!x||!r)&&P()},[u,P,x,r,L]);const U=ee=>q=>{ee.onKeyDown?.(q),!(q.key!=="Escape"||q.which===229||!I())&&(t||(q.stopPropagation(),c&&c(q,"escapeKeyDown")))},V=ee=>q=>{ee.onClick?.(q),q.target===q.currentTarget&&c&&c(q,"backdropClick")};return{getRootProps:(ee={})=>{const q=Cq(n);delete q.onTransitionEnter,delete q.onTransitionExited;const $={...q,...ee};return{role:"presentation",...$,onKeyDown:U($),ref:_}},getBackdropProps:(ee={})=>{const q=ee;return{"aria-hidden":!0,...q,onClick:V(q),open:u}},getTransitionProps:()=>{const ee=()=>{E(!1),s&&s()},q=()=>{E(!0),a&&a(),r&&P()};return{onEnter:Wz(ee,o?.props.onEnter??t6),onExited:Wz(q,o?.props.onExited??t6)}},rootRef:_,portalRef:N,isTopModal:I,exited:S,hasTransition:x}}function f1e(n){return mn("MuiModal",n)}gn("MuiModal",["root","hidden","backdrop"]);const h1e=n=>{const{open:e,exited:t,classes:i}=n;return pn({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},f1e,i)},d1e=ht("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(Nn(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),p1e=ht(Fq,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),jq=H.forwardRef(function(e,t){const i=Sn({name:"MuiModal",props:e}),{BackdropComponent:r=p1e,BackdropProps:s,classes:a,className:o,closeAfterTransition:c=!1,children:u,container:h,component:p,components:y={},componentsProps:v={},disableAutoFocus:_=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:E=!1,disablePortal:x=!1,disableRestoreFocus:w=!1,disableScrollLock:M=!1,hideBackdrop:C=!1,keepMounted:D=!1,onClose:L,onTransitionEnter:I,onTransitionExited:N,open:P,slotProps:U={},slots:V={},theme:z,...F}=i,K={...i,closeAfterTransition:c,disableAutoFocus:_,disableEnforceFocus:S,disableEscapeKeyDown:E,disablePortal:x,disableRestoreFocus:w,disableScrollLock:M,hideBackdrop:C,keepMounted:D},{getRootProps:ee,getBackdropProps:q,getTransitionProps:$,portalRef:Q,isTopModal:se,exited:de,hasTransition:Y}=u1e({...K,rootRef:t}),le={...K,exited:de},pe=h1e(le),ue={};if(u.props.tabIndex===void 0&&(ue.tabIndex="-1"),Y){const{onEnter:Ge,onExited:rt}=$();ue.onEnter=Ge,ue.onExited=rt}const ie={slots:{root:y.Root,backdrop:y.Backdrop,...V},slotProps:{...v,...U}},[he,ye]=rn("root",{ref:t,elementType:d1e,externalForwardedProps:{...ie,...F,component:p},getSlotProps:ee,ownerState:le,className:Pt(o,pe?.root,!le.open&&le.exited&&pe?.hidden)}),[Ve,Xe]=rn("backdrop",{ref:s?.ref,elementType:r,externalForwardedProps:ie,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:Ge=>q({...Ge,onClick:rt=>{Ge?.onClick&&Ge.onClick(rt)}}),className:Pt(s?.className,pe?.backdrop),ownerState:le});return!D&&!P&&(!Y||de)?null:Z.jsx(zq,{ref:Q,container:h,disablePortal:x,children:Z.jsxs(he,{...ye,children:[!C&&r?Z.jsx(Ve,{...Xe}):null,Z.jsx(o1e,{disableEnforceFocus:S,disableAutoFocus:_,disableRestoreFocus:w,isEnabled:se,open:P,children:H.cloneElement(u,ue)})]})})});function m1e(n){return mn("MuiDialog",n)}const KO=gn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Gq=H.createContext({}),g1e=ht(Fq,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),y1e=n=>{const{classes:e,scroll:t,maxWidth:i,fullWidth:r,fullScreen:s}=n,a={root:["root"],container:["container",`scroll${yt(t)}`],paper:["paper",`paperScroll${yt(t)}`,`paperWidth${yt(String(i))}`,r&&"paperFullWidth",s&&"paperFullScreen"]};return pn(a,m1e,e)},v1e=ht(jq,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),_1e=ht("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${yt(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),b1e=ht(US,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${yt(t.scroll)}`],e[`paperWidth${yt(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(Nn(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${KO.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${KO.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${KO.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),qq=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiDialog"}),r=rd(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":o,"aria-modal":c=!0,BackdropComponent:u,BackdropProps:h,children:p,className:y,disableEscapeKeyDown:v=!1,fullScreen:_=!1,fullWidth:S=!1,maxWidth:E="sm",onClick:x,onClose:w,open:M,PaperComponent:C=US,PaperProps:D={},scroll:L="paper",slots:I={},slotProps:N={},TransitionComponent:P=CP,transitionDuration:U=s,TransitionProps:V,...z}=i,F={...i,disableEscapeKeyDown:v,fullScreen:_,fullWidth:S,maxWidth:E,scroll:L},K=y1e(F),ee=H.useRef(),q=pt=>{ee.current=pt.target===pt.currentTarget},$=pt=>{x&&x(pt),ee.current&&(ee.current=null,w&&w(pt,"backdropClick"))},Q=x_(o),se=H.useMemo(()=>({titleId:Q}),[Q]),de={transition:P,...I},Y={transition:V,paper:D,backdrop:h,...N},le={slots:de,slotProps:Y},[pe,ue]=rn("root",{elementType:v1e,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:F,className:Pt(K.root,y),ref:t}),[ie,he]=rn("backdrop",{elementType:g1e,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:F}),[ye,Ve]=rn("paper",{elementType:b1e,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:F,className:Pt(K.paper,D.className)}),[Xe,Ge]=rn("container",{elementType:_1e,externalForwardedProps:le,ownerState:F,className:K.container}),[rt,ot]=rn("transition",{elementType:CP,externalForwardedProps:le,ownerState:F,additionalProps:{appear:!0,in:M,timeout:U,role:"presentation"}});return Z.jsx(pe,{closeAfterTransition:!0,slots:{backdrop:ie},slotProps:{backdrop:{transitionDuration:U,as:u,...he}},disableEscapeKeyDown:v,onClose:w,open:M,onClick:$,...ue,...z,children:Z.jsx(rt,{...ot,children:Z.jsx(Xe,{onMouseDown:q,...Ge,children:Z.jsx(ye,{as:C,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":Q,"aria-modal":c,...Ve,children:Z.jsx(Gq.Provider,{value:se,children:p})})})})})});function x1e(n){return mn("MuiDialogActions",n)}gn("MuiDialogActions",["root","spacing"]);const S1e=n=>{const{classes:e,disableSpacing:t}=n;return pn({root:["root",!t&&"spacing"]},x1e,e)},E1e=ht("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:n})=>!n.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),T1e=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:s=!1,...a}=i,o={...i,disableSpacing:s},c=S1e(o);return Z.jsx(E1e,{className:Pt(c.root,r),ownerState:o,ref:t,...a})});function w1e(n){return mn("MuiDialogContent",n)}gn("MuiDialogContent",["root","dividers"]);function C1e(n){return mn("MuiDialogTitle",n)}const A1e=gn("MuiDialogTitle",["root"]),M1e=n=>{const{classes:e,dividers:t}=n;return pn({root:["root",t&&"dividers"]},w1e,e)},R1e=ht("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.dividers&&e.dividers]}})(Nn(({theme:n})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${A1e.root} + &`]:{paddingTop:0}}}]}))),Wq=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiDialogContent"}),{className:r,dividers:s=!1,...a}=i,o={...i,dividers:s},c=M1e(o);return Z.jsx(R1e,{className:Pt(c.root,r),ownerState:o,ref:t,...a})});function O1e(n){return mn("MuiDialogContentText",n)}gn("MuiDialogContentText",["root"]);const I1e=n=>{const{classes:e}=n,i=pn({root:["root"]},O1e,e);return{...e,...i}},P1e=ht(Qr,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiDialogContentText",slot:"Root"})({}),D1e=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiDialogContentText"}),{children:r,className:s,...a}=i,o=I1e(a);return Z.jsx(P1e,{component:"p",variant:"body1",color:"textSecondary",ref:t,ownerState:a,className:Pt(o.root,s),...i,classes:o})}),N1e=n=>{const{classes:e}=n;return pn({root:["root"]},C1e,e)},L1e=ht(Qr,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),$q=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiDialogTitle"}),{className:r,id:s,...a}=i,o=i,c=N1e(o),{titleId:u=s}=H.useContext(Gq);return Z.jsx(L1e,{component:"h2",className:Pt(c.root,r),ownerState:o,ref:t,variant:"h6",id:s??u,...a})});function U1e(n){return mn("MuiDivider",n)}const n6=gn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),k1e=n=>{const{absolute:e,children:t,classes:i,flexItem:r,light:s,orientation:a,textAlign:o,variant:c}=n;return pn({root:["root",e&&"absolute",c,s&&"light",a==="vertical"&&"vertical",r&&"flexItem",t&&"withChildren",t&&a==="vertical"&&"withChildrenVertical",o==="right"&&a!=="vertical"&&"textAlignRight",o==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},U1e,i)},z1e=ht("div",{name:"MuiDivider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.absolute&&e.absolute,e[t.variant],t.light&&e.light,t.orientation==="vertical"&&e.vertical,t.flexItem&&e.flexItem,t.children&&e.withChildren,t.children&&t.orientation==="vertical"&&e.withChildrenVertical,t.textAlign==="right"&&t.orientation!=="vertical"&&e.textAlignRight,t.textAlign==="left"&&t.orientation!=="vertical"&&e.textAlignLeft]}})(Nn(({theme:n})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:n.alpha((n.vars||n).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:n.spacing(2),marginRight:n.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:n.spacing(1),marginBottom:n.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(n.vars||n).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(n.vars||n).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),B1e=ht("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.wrapper,t.orientation==="vertical"&&e.wrapperVertical]}})(Nn(({theme:n})=>({display:"inline-block",paddingLeft:`calc(${n.spacing(1)} * 1.2)`,paddingRight:`calc(${n.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${n.spacing(1)} * 1.2)`,paddingBottom:`calc(${n.spacing(1)} * 1.2)`}}]}))),Jx=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiDivider"}),{absolute:r=!1,children:s,className:a,orientation:o="horizontal",component:c=s||o==="vertical"?"div":"hr",flexItem:u=!1,light:h=!1,role:p=c!=="hr"?"separator":void 0,textAlign:y="center",variant:v="fullWidth",..._}=i,S={...i,absolute:r,component:c,flexItem:u,light:h,orientation:o,role:p,textAlign:y,variant:v},E=k1e(S);return Z.jsx(z1e,{as:c,className:Pt(E.root,a),role:p,ref:t,ownerState:S,"aria-orientation":p==="separator"&&(c!=="hr"||o==="vertical")?o:void 0,..._,children:s?Z.jsx(B1e,{className:E.wrapper,ownerState:S,children:s}):null})});Jx&&(Jx.muiSkipListHighlight=!0);function F1e(n,e,t){const i=e.getBoundingClientRect(),r=t&&t.getBoundingClientRect(),s=Bl(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const u=s.getComputedStyle(e);a=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let o=0,c=0;if(a&&a!=="none"&&typeof a=="string"){const u=a.split("(")[1].split(")")[0].split(",");o=parseInt(u[4],10),c=parseInt(u[5],10)}return n==="left"?r?`translateX(${r.right+o-i.left}px)`:`translateX(${s.innerWidth+o-i.left}px)`:n==="right"?r?`translateX(-${i.right-r.left-o}px)`:`translateX(-${i.left+i.width-o}px)`:n==="up"?r?`translateY(${r.bottom+c-i.top}px)`:`translateY(${s.innerHeight+c-i.top}px)`:r?`translateY(-${i.top-r.top+i.height-c}px)`:`translateY(-${i.top+i.height-c}px)`}function V1e(n){return typeof n=="function"?n():n}function tw(n,e,t){const i=V1e(t),r=F1e(n,e,i);r&&(e.style.webkitTransform=r,e.style.transform=r)}const Xq=H.forwardRef(function(e,t){const i=rd(),r={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:c,container:u,direction:h="down",easing:p=r,in:y,onEnter:v,onEntered:_,onEntering:S,onExit:E,onExited:x,onExiting:w,style:M,timeout:C=s,TransitionComponent:D=Ic,...L}=e,I=H.useRef(null),N=Br(em(c),I,t),P=Q=>se=>{Q&&(se===void 0?Q(I.current):Q(I.current,se))},U=P((Q,se)=>{tw(h,Q,u),bL(Q),v&&v(Q,se)}),V=P((Q,se)=>{const de=Gp({timeout:C,style:M,easing:p},{mode:"enter"});Q.style.webkitTransition=i.transitions.create("-webkit-transform",{...de}),Q.style.transition=i.transitions.create("transform",{...de}),Q.style.webkitTransform="none",Q.style.transform="none",S&&S(Q,se)}),z=P(_),F=P(w),K=P(Q=>{const se=Gp({timeout:C,style:M,easing:p},{mode:"exit"});Q.style.webkitTransition=i.transitions.create("-webkit-transform",se),Q.style.transition=i.transitions.create("transform",se),tw(h,Q,u),E&&E(Q)}),ee=P(Q=>{Q.style.webkitTransition="",Q.style.transition="",x&&x(Q)}),q=Q=>{a&&a(I.current,Q)},$=H.useCallback(()=>{I.current&&tw(h,I.current,u)},[h,u]);return H.useEffect(()=>{if(y||h==="down"||h==="right")return;const Q=LS(()=>{I.current&&tw(h,I.current,u)}),se=Bl(I.current);return se.addEventListener("resize",Q),()=>{Q.clear(),se.removeEventListener("resize",Q)}},[h,y,u]),H.useEffect(()=>{y||$()},[y,$]),Z.jsx(D,{nodeRef:I,onEnter:U,onEntered:z,onEntering:V,onExit:K,onExited:ee,onExiting:F,addEndListener:q,appear:o,in:y,timeout:C,...L,children:(Q,{ownerState:se,...de})=>H.cloneElement(c,{ref:N,style:{visibility:Q==="exited"&&!y?"hidden":void 0,...M,...c.props.style},...de})})}),H1e=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:r,size:s,hiddenLabel:a,multiline:o}=n,c={root:["root",!t&&"underline",i&&"adornedStart",r&&"adornedEnd",s==="small"&&`size${yt(s)}`,a&&"hiddenLabel",o&&"multiline"],input:["input"]},u=pn(c,u_e,e);return{...e,...u}},j1e=ht(CM,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...TM(n,e),!t.disableUnderline&&e.underline]}})(Nn(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",r=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:r,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${lg.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${lg.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${lg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${lg.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline):t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${lg.disabled}, .${lg.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${lg.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(ta()).map(([a])=>({props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[a]?.main}`}}})),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:o})=>a.multiline&&o==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),G1e=ht(AM,{name:"MuiFilledInput",slot:"Input",overridesResolver:wM})(Nn(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),IL=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:s={},componentsProps:a,fullWidth:o=!1,hiddenLabel:c,inputComponent:u="input",multiline:h=!1,slotProps:p,slots:y={},type:v="text",..._}=i,S={...i,disableUnderline:r,fullWidth:o,inputComponent:u,multiline:h,type:v},E=H1e(i),x={root:{ownerState:S},input:{ownerState:S}},w=p??a?ra(x,p??a):x,M=y.root??s.Root??j1e,C=y.input??s.Input??G1e;return Z.jsx(OL,{slots:{root:M,input:C},slotProps:w,fullWidth:o,inputComponent:u,multiline:h,ref:t,type:v,..._,classes:E})});IL.muiName="Input";function q1e(n){return mn("MuiFormControl",n)}gn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const W1e=n=>{const{classes:e,margin:t,fullWidth:i}=n,r={root:["root",t!=="none"&&`margin${yt(t)}`,i&&"fullWidth"]};return pn(r,q1e,e)},$1e=ht("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${yt(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Ib=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiFormControl"}),{children:r,className:s,color:a="primary",component:o="div",disabled:c=!1,error:u=!1,focused:h,fullWidth:p=!1,hiddenLabel:y=!1,margin:v="none",required:_=!1,size:S="medium",variant:E="outlined",...x}=i,w={...i,color:a,component:o,disabled:c,error:u,fullWidth:p,hiddenLabel:y,margin:v,required:_,size:S,variant:E},M=W1e(w),[C,D]=H.useState(()=>{let ee=!1;return r&&H.Children.forEach(r,q=>{if(!rx(q,["Input","Select"]))return;const $=rx(q,["Select"])?q.props.input:q;$&&s_e($.props)&&(ee=!0)}),ee}),[L,I]=H.useState(()=>{let ee=!1;return r&&H.Children.forEach(r,q=>{rx(q,["Input","Select"])&&(LC(q.props,!0)||LC(q.props.inputProps,!0))&&(ee=!0)}),ee}),[N,P]=H.useState(!1);c&&N&&P(!1);const U=h!==void 0&&!c?h:N;let V;H.useRef(!1);const z=H.useCallback(()=>{I(!0)},[]),F=H.useCallback(()=>{I(!1)},[]),K=H.useMemo(()=>({adornedStart:C,setAdornedStart:D,color:a,disabled:c,error:u,filled:L,focused:U,fullWidth:p,hiddenLabel:y,size:S,onBlur:()=>{P(!1)},onFocus:()=>{P(!0)},onEmpty:F,onFilled:z,registerEffect:V,required:_,variant:E}),[C,a,c,u,L,U,p,y,V,F,z,_,S,E]);return Z.jsx(RL.Provider,{value:K,children:Z.jsx($1e,{as:o,ownerState:w,className:Pt(M.root,s),ref:t,...x,children:r})})});function X1e(n){return mn("MuiFormControlLabel",n)}const Pb=gn("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Y1e=n=>{const{classes:e,disabled:t,labelPlacement:i,error:r,required:s}=n,a={root:["root",t&&"disabled",`labelPlacement${yt(i)}`,r&&"error",s&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",r&&"error"]};return pn(a,X1e,e)},K1e=ht("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Pb.label}`]:e.label},e.root,e[`labelPlacement${yt(t.labelPlacement)}`]]}})(Nn(({theme:n})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Pb.disabled}`]:{cursor:"default"},[`& .${Pb.label}`]:{[`&.${Pb.disabled}`]:{color:(n.vars||n).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),Z1e=ht("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Nn(({theme:n})=>({[`&.${Pb.error}`]:{color:(n.vars||n).palette.error.main}}))),Q1e=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiFormControlLabel"}),{checked:r,className:s,componentsProps:a={},control:o,disabled:c,disableTypography:u,inputRef:h,label:p,labelPlacement:y="end",name:v,onChange:_,required:S,slots:E={},slotProps:x={},value:w,...M}=i,C=tm(),D=c??o.props.disabled??C?.disabled,L=S??o.props.required,I={disabled:D,required:L};["checked","name","onChange","value","inputRef"].forEach(ee=>{typeof o.props[ee]>"u"&&typeof i[ee]<"u"&&(I[ee]=i[ee])});const N=uy({props:i,muiFormControl:C,states:["error"]}),P={...i,disabled:D,labelPlacement:y,required:L,error:N.error},U=Y1e(P),V={slots:E,slotProps:{...a,...x}},[z,F]=rn("typography",{elementType:Qr,externalForwardedProps:V,ownerState:P});let K=p;return K!=null&&K.type!==Qr&&!u&&(K=Z.jsx(z,{component:"span",...F,className:Pt(U.label,F?.className),children:K})),Z.jsxs(K1e,{className:Pt(U.root,s),ownerState:P,ref:t,...M,children:[H.cloneElement(o,I),L?Z.jsxs("div",{children:[K,Z.jsxs(Z1e,{ownerState:P,"aria-hidden":!0,className:U.asterisk,children:["","*"]})]}):K]})});function J1e(n){return mn("MuiFormHelperText",n)}const i6=gn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var r6;const ebe=n=>{const{classes:e,contained:t,size:i,disabled:r,error:s,filled:a,focused:o,required:c}=n,u={root:["root",r&&"disabled",s&&"error",i&&`size${yt(i)}`,t&&"contained",o&&"focused",a&&"filled",c&&"required"]};return pn(u,J1e,e)},tbe=ht("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${yt(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(Nn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${i6.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${i6.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),nbe=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiFormHelperText"}),{children:r,className:s,component:a="p",disabled:o,error:c,filled:u,focused:h,margin:p,required:y,variant:v,..._}=i,S=tm(),E=uy({props:i,muiFormControl:S,states:["variant","size","disabled","error","filled","focused","required"]}),x={...i,component:a,contained:E.variant==="filled"||E.variant==="outlined",variant:E.variant,size:E.size,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required};delete x.ownerState;const w=ebe(x);return Z.jsx(tbe,{as:a,className:Pt(w.root,s),ref:t,..._,ownerState:x,children:r===" "?r6||(r6=Z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):r})});function ibe(n){return mn("MuiFormLabel",n)}const lx=gn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),rbe=n=>{const{classes:e,color:t,focused:i,disabled:r,error:s,filled:a,required:o}=n,c={root:["root",`color${yt(t)}`,r&&"disabled",s&&"error",a&&"filled",i&&"focused",o&&"required"],asterisk:["asterisk",s&&"error"]};return pn(c,ibe,e)},sbe=ht("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(Nn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(ta()).map(([e])=>({props:{color:e},style:{[`&.${lx.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${lx.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${lx.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),abe=ht("span",{name:"MuiFormLabel",slot:"Asterisk"})(Nn(({theme:n})=>({[`&.${lx.error}`]:{color:(n.vars||n).palette.error.main}}))),obe=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiFormLabel"}),{children:r,className:s,color:a,component:o="label",disabled:c,error:u,filled:h,focused:p,required:y,...v}=i,_=tm(),S=uy({props:i,muiFormControl:_,states:["color","required","focused","disabled","error","filled"]}),E={...i,color:S.color||"primary",component:o,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required},x=rbe(E);return Z.jsxs(sbe,{as:o,ownerState:E,className:Pt(x.root,s),ref:t,...v,children:[r,S.required&&Z.jsxs(abe,{ownerState:E,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})}),lbe=Nge({createStyledComponent:ht("div",{name:"MuiGrid",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:n=>Sn({props:n,name:"MuiGrid"}),useTheme:rd});function AP(n){return`scale(${n}, ${n**2})`}const cbe={entering:{opacity:1,transform:AP(1)},entered:{opacity:1,transform:"none"}},ZO=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),UC=H.forwardRef(function(e,t){const{addEndListener:i,appear:r=!0,children:s,easing:a,in:o,onEnter:c,onEntered:u,onEntering:h,onExit:p,onExited:y,onExiting:v,style:_,timeout:S="auto",TransitionComponent:E=Ic,...x}=e,w=Ig(),M=H.useRef(),C=rd(),D=H.useRef(null),L=Br(D,em(s),t),I=ee=>q=>{if(ee){const $=D.current;q===void 0?ee($):ee($,q)}},N=I(h),P=I((ee,q)=>{bL(ee);const{duration:$,delay:Q,easing:se}=Gp({style:_,timeout:S,easing:a},{mode:"enter"});let de;S==="auto"?(de=C.transitions.getAutoHeightDuration(ee.clientHeight),M.current=de):de=$,ee.style.transition=[C.transitions.create("opacity",{duration:de,delay:Q}),C.transitions.create("transform",{duration:ZO?de:de*.666,delay:Q,easing:se})].join(","),c&&c(ee,q)}),U=I(u),V=I(v),z=I(ee=>{const{duration:q,delay:$,easing:Q}=Gp({style:_,timeout:S,easing:a},{mode:"exit"});let se;S==="auto"?(se=C.transitions.getAutoHeightDuration(ee.clientHeight),M.current=se):se=q,ee.style.transition=[C.transitions.create("opacity",{duration:se,delay:$}),C.transitions.create("transform",{duration:ZO?se:se*.666,delay:ZO?$:$||se*.333,easing:Q})].join(","),ee.style.opacity=0,ee.style.transform=AP(.75),p&&p(ee)}),F=I(y),K=ee=>{S==="auto"&&w.start(M.current||0,ee),i&&i(D.current,ee)};return Z.jsx(E,{appear:r,in:o,nodeRef:D,onEnter:P,onEntered:U,onEntering:N,onExit:z,onExited:F,onExiting:V,addEndListener:K,timeout:S==="auto"?null:S,...x,children:(ee,{ownerState:q,...$})=>H.cloneElement(s,{style:{opacity:0,transform:AP(.75),visibility:ee==="exited"&&!o?"hidden":void 0,...cbe[ee],..._,...s.props.style},ref:L,...$})})});UC&&(UC.muiSupportAuto=!0);const ube=n=>{const{classes:e,disableUnderline:t}=n,r=pn({root:["root",!t&&"underline"],input:["input"]},l_e,e);return{...e,...r}},fbe=ht(CM,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...TM(n,e),!t.disableUnderline&&e.underline]}})(Nn(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ib.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ib.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ib.disabled}, .${ib.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${ib.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(ta()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),hbe=ht(AM,{name:"MuiInput",slot:"Input",overridesResolver:wM})({}),PL=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiInput"}),{disableUnderline:r=!1,components:s={},componentsProps:a,fullWidth:o=!1,inputComponent:c="input",multiline:u=!1,slotProps:h,slots:p={},type:y="text",...v}=i,_=ube(i),E={root:{ownerState:{disableUnderline:r}}},x=h??a?ra(h??a,E):E,w=p.root??s.Root??fbe,M=p.input??s.Input??hbe;return Z.jsx(OL,{slots:{root:w,input:M},slotProps:x,fullWidth:o,inputComponent:c,multiline:u,ref:t,type:y,...v,classes:_})});PL.muiName="Input";function dbe(n){return mn("MuiInputLabel",n)}gn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const pbe=n=>{const{classes:e,formControl:t,size:i,shrink:r,disableAnimation:s,variant:a,required:o}=n,c={root:["root",t&&"formControl",!s&&"animated",r&&"shrink",i&&i!=="medium"&&`size${yt(i)}`,a],asterisk:[o&&"asterisk"]},u=pn(c,dbe,e);return{...e,...u}},mbe=ht(obe,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${lx.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(Nn(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),r2=H.forwardRef(function(e,t){const i=Sn({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:s,shrink:a,variant:o,className:c,...u}=i,h=tm();let p=a;typeof p>"u"&&h&&(p=h.filled||h.focused||h.adornedStart);const y=uy({props:i,muiFormControl:h,states:["size","variant","required","focused"]}),v={...i,disableAnimation:r,formControl:h,shrink:p,size:y.size,variant:y.variant,required:y.required,focused:y.focused},_=pbe(v);return Z.jsx(mbe,{"data-shrink":p,ref:t,className:Pt(_.root,c),...u,ownerState:v,classes:_})}),Bh=H.createContext({});function gbe(n){return mn("MuiList",n)}gn("MuiList",["root","padding","dense","subheader"]);const ybe=n=>{const{classes:e,disablePadding:t,dense:i,subheader:r}=n;return pn({root:["root",!t&&"padding",i&&"dense",r&&"subheader"]},gbe,e)},vbe=ht("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),DL=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiList"}),{children:r,className:s,component:a="ul",dense:o=!1,disablePadding:c=!1,subheader:u,...h}=i,p=H.useMemo(()=>({dense:o}),[o]),y={...i,component:a,dense:o,disablePadding:c},v=ybe(y);return Z.jsx(Bh.Provider,{value:p,children:Z.jsxs(vbe,{as:a,className:Pt(v.root,s),ref:t,ownerState:y,...h,children:[u,r]})})});function _be(n){return mn("MuiListItem",n)}gn("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const bbe=gn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function xbe(n){return mn("MuiListItemSecondaryAction",n)}gn("MuiListItemSecondaryAction",["root","disableGutters"]);const Sbe=n=>{const{disableGutters:e,classes:t}=n;return pn({root:["root",e&&"disableGutters"]},xbe,t)},Ebe=ht("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:n})=>n.disableGutters,style:{right:0}}]}),Yq=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...s}=i,a=H.useContext(Bh),o={...i,disableGutters:a.disableGutters},c=Sbe(o);return Z.jsx(Ebe,{className:Pt(c.root,r),ownerState:o,ref:t,...s})});Yq.muiName="ListItemSecondaryAction";const Tbe=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters,!t.disablePadding&&e.padding,t.hasSecondaryAction&&e.secondaryAction]},wbe=n=>{const{alignItems:e,classes:t,dense:i,disableGutters:r,disablePadding:s,divider:a,hasSecondaryAction:o}=n;return pn({root:["root",i&&"dense",!r&&"gutters",!s&&"padding",a&&"divider",e==="flex-start"&&"alignItemsFlexStart",o&&"secondaryAction"],container:["container"],secondaryAction:["secondaryAction"]},_be,t)},Cbe=ht("div",{name:"MuiListItem",slot:"Root",overridesResolver:Tbe})(Nn(({theme:n})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${bbe.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),Abe=ht("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),Kq=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiListItem"}),{alignItems:r="center",children:s,className:a,component:o,components:c={},componentsProps:u={},ContainerComponent:h="li",ContainerProps:{className:p,...y}={},dense:v=!1,disableGutters:_=!1,disablePadding:S=!1,divider:E=!1,secondaryAction:x,slotProps:w={},slots:M={},...C}=i,D=H.useContext(Bh),L=H.useMemo(()=>({dense:v||D.dense||!1,alignItems:r,disableGutters:_}),[r,D.dense,v,_]),I=H.useRef(null),N=H.Children.toArray(s),P=N.length&&rx(N[N.length-1],["ListItemSecondaryAction"]),U={...i,alignItems:r,dense:L.dense,disableGutters:_,disablePadding:S,divider:E,hasSecondaryAction:P},V=wbe(U),z=Br(I,t),F={slots:M,slotProps:w},[K,ee]=rn("secondaryAction",{elementType:Yq,externalForwardedProps:F,ownerState:U,className:V.secondaryAction}),q=M.root||c.Root||Cbe,$=w.root||u.root||{},Q={className:Pt(V.root,$.className,a),...C};let se=o||"li";return P?(se=!Q.component&&!o?"div":se,h==="li"&&(se==="li"?se="div":Q.component==="li"&&(Q.component="div")),Z.jsx(Bh.Provider,{value:L,children:Z.jsxs(Abe,{as:h,className:Pt(V.container,p),ref:z,ownerState:U,...y,children:[Z.jsx(q,{...$,...!q0(q)&&{as:se,ownerState:{...U,...$.ownerState}},...Q,children:N}),N.pop()]})})):Z.jsx(Bh.Provider,{value:L,children:Z.jsxs(q,{...$,as:se,ref:z,...!q0(q)&&{ownerState:{...U,...$.ownerState}},...Q,children:[N,x&&Z.jsx(K,{...ee,children:x})]})})});function Mbe(n){return mn("MuiListItemIcon",n)}const s6=gn("MuiListItemIcon",["root","alignItemsFlexStart"]),Rbe=n=>{const{alignItems:e,classes:t}=n;return pn({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Mbe,t)},Obe=ht("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(Nn(({theme:n})=>({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),cx=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiListItemIcon"}),{className:r,...s}=i,a=H.useContext(Bh),o={...i,alignItems:a.alignItems},c=Rbe(o);return Z.jsx(Obe,{className:Pt(c.root,r),ownerState:o,ref:t,...s})});function Ibe(n){return mn("MuiListItemText",n)}const o0=gn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Pbe=n=>{const{classes:e,inset:t,primary:i,secondary:r,dense:s}=n;return pn({root:["root",t&&"inset",s&&"dense",i&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},Ibe,e)},Dbe=ht("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${o0.primary}`]:e.primary},{[`& .${o0.secondary}`]:e.secondary},e.root,t.inset&&e.inset,t.primary&&t.secondary&&e.multiline,t.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${NB.root}:where(& .${o0.primary})`]:{display:"block"},[`.${NB.root}:where(& .${o0.secondary})`]:{display:"block"},variants:[{props:({ownerState:n})=>n.primary&&n.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:n})=>n.inset,style:{paddingLeft:56}}]}),NL=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiListItemText"}),{children:r,className:s,disableTypography:a=!1,inset:o=!1,primary:c,primaryTypographyProps:u,secondary:h,secondaryTypographyProps:p,slots:y={},slotProps:v={},..._}=i,{dense:S}=H.useContext(Bh);let E=c??r,x=h;const w={...i,disableTypography:a,inset:o,primary:!!E,secondary:!!x,dense:S},M=Pbe(w),C={slots:y,slotProps:{primary:u,secondary:p,...v}},[D,L]=rn("root",{className:Pt(M.root,s),elementType:Dbe,externalForwardedProps:{...C,..._},ownerState:w,ref:t}),[I,N]=rn("primary",{className:M.primary,elementType:Qr,externalForwardedProps:C,ownerState:w}),[P,U]=rn("secondary",{className:M.secondary,elementType:Qr,externalForwardedProps:C,ownerState:w});return E!=null&&E.type!==Qr&&!a&&(E=Z.jsx(I,{variant:S?"body2":"body1",component:N?.variant?void 0:"span",...N,children:E})),x!=null&&x.type!==Qr&&!a&&(x=Z.jsx(P,{variant:"body2",color:"textSecondary",...U,children:x})),Z.jsxs(D,{...L,children:[E,x]})});function QO(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function a6(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function Zq(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function rb(n,e,t,i,r,s){let a=!1,o=r(n,e,e?t:!1);for(;o;){if(o===n.firstChild){if(a)return!1;a=!0}const c=i?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!Zq(o,s)||c)o=r(n,o,t);else return o.focus(),!0}return!1}const Qq=H.forwardRef(function(e,t){const{actions:i,autoFocus:r=!1,autoFocusItem:s=!1,children:a,className:o,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:h,variant:p="selectedMenu",...y}=e,v=H.useRef(null),_=H.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});xu(()=>{r&&v.current.focus()},[r]),H.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(M,{direction:C})=>{const D=!v.current.style.width;if(M.clientHeight<v.current.clientHeight&&D){const L=`${Hq(Bl(M))}px`;v.current.style[C==="rtl"?"paddingLeft":"paddingRight"]=L,v.current.style.width=`calc(100% + ${L})`}return v.current}}),[]);const S=M=>{const C=v.current,D=M.key;if(M.ctrlKey||M.metaKey||M.altKey){h&&h(M);return}const I=a0(wa(C));if(D==="ArrowDown")M.preventDefault(),rb(C,I,u,c,QO);else if(D==="ArrowUp")M.preventDefault(),rb(C,I,u,c,a6);else if(D==="Home")M.preventDefault(),rb(C,null,u,c,QO);else if(D==="End")M.preventDefault(),rb(C,null,u,c,a6);else if(D.length===1){const N=_.current,P=D.toLowerCase(),U=performance.now();N.keys.length>0&&(U-N.lastTime>500?(N.keys=[],N.repeating=!0,N.previousKeyMatched=!0):N.repeating&&P!==N.keys[0]&&(N.repeating=!1)),N.lastTime=U,N.keys.push(P);const V=I&&!N.repeating&&Zq(I,N);N.previousKeyMatched&&(V||rb(C,I,!1,c,QO,N))?M.preventDefault():N.previousKeyMatched=!1}h&&h(M)},E=Br(v,t);let x=-1;H.Children.forEach(a,(M,C)=>{if(!H.isValidElement(M)){x===C&&(x+=1,x>=a.length&&(x=-1));return}M.props.disabled||(p==="selectedMenu"&&M.props.selected||x===-1)&&(x=C),x===C&&(M.props.disabled||M.props.muiSkipListHighlight||M.type.muiSkipListHighlight)&&(x+=1,x>=a.length&&(x=-1))});const w=H.Children.map(a,(M,C)=>{if(C===x){const D={};return s&&(D.autoFocus=!0),M.props.tabIndex===void 0&&p==="selectedMenu"&&(D.tabIndex=0),H.cloneElement(M,D)}return M});return Z.jsx(DL,{role:"menu",ref:E,className:o,onKeyDown:S,tabIndex:r?0:-1,...y,children:w})});function Nbe(n){return mn("MuiPopover",n)}gn("MuiPopover",["root","paper"]);function o6(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function l6(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function c6(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function nw(n){return typeof n=="function"?n():n}const Lbe=n=>{const{classes:e}=n;return pn({root:["root"],paper:["paper"]},Nbe,e)},Ube=ht(jq,{name:"MuiPopover",slot:"Root"})({}),Jq=ht(US,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),kbe=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiPopover"}),{action:r,anchorEl:s,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:c="anchorEl",children:u,className:h,container:p,elevation:y=8,marginThreshold:v=16,open:_,PaperProps:S={},slots:E={},slotProps:x={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:M,transitionDuration:C="auto",TransitionProps:D={},disableScrollLock:L=!1,...I}=i,N=H.useRef(),P={...i,anchorOrigin:a,anchorReference:c,elevation:y,marginThreshold:v,transformOrigin:w,TransitionComponent:M,transitionDuration:C,TransitionProps:D},U=Lbe(P),V=H.useCallback(()=>{if(c==="anchorPosition")return o;const Ge=nw(s),ot=(Ge&&Ge.nodeType===1?Ge:wa(N.current).body).getBoundingClientRect();return{top:ot.top+o6(ot,a.vertical),left:ot.left+l6(ot,a.horizontal)}},[s,a.horizontal,a.vertical,o,c]),z=H.useCallback(Ge=>({vertical:o6(Ge,w.vertical),horizontal:l6(Ge,w.horizontal)}),[w.horizontal,w.vertical]),F=H.useCallback(Ge=>{const rt={width:Ge.offsetWidth,height:Ge.offsetHeight},ot=z(rt);if(c==="none")return{top:null,left:null,transformOrigin:c6(ot)};const pt=V();let te=pt.top-ot.vertical,Oe=pt.left-ot.horizontal;const Be=te+rt.height,Ne=Oe+rt.width,Me=Bl(nw(s)),ct=Me.innerHeight-v,qe=Me.innerWidth-v;if(v!==null&&te<v){const ae=te-v;te-=ae,ot.vertical+=ae}else if(v!==null&&Be>ct){const ae=Be-ct;te-=ae,ot.vertical+=ae}if(v!==null&&Oe<v){const ae=Oe-v;Oe-=ae,ot.horizontal+=ae}else if(Ne>qe){const ae=Ne-qe;Oe-=ae,ot.horizontal+=ae}return{top:`${Math.round(te)}px`,left:`${Math.round(Oe)}px`,transformOrigin:c6(ot)}},[s,c,V,z,v]),[K,ee]=H.useState(_),q=H.useCallback(()=>{const Ge=N.current;if(!Ge)return;const rt=F(Ge);rt.top!==null&&Ge.style.setProperty("top",rt.top),rt.left!==null&&(Ge.style.left=rt.left),Ge.style.transformOrigin=rt.transformOrigin,ee(!0)},[F]);H.useEffect(()=>(L&&window.addEventListener("scroll",q),()=>window.removeEventListener("scroll",q)),[s,L,q]);const $=()=>{q()},Q=()=>{ee(!1)};H.useEffect(()=>{_&&q()}),H.useImperativeHandle(r,()=>_?{updatePosition:()=>{q()}}:null,[_,q]),H.useEffect(()=>{if(!_)return;const Ge=LS(()=>{q()}),rt=Bl(nw(s));return rt.addEventListener("resize",Ge),()=>{Ge.clear(),rt.removeEventListener("resize",Ge)}},[s,_,q]);let se=C;const de={slots:{transition:M,...E},slotProps:{transition:D,paper:S,...x}},[Y,le]=rn("transition",{elementType:UC,externalForwardedProps:de,ownerState:P,getSlotProps:Ge=>({...Ge,onEntering:(rt,ot)=>{Ge.onEntering?.(rt,ot),$()},onExited:rt=>{Ge.onExited?.(rt),Q()}}),additionalProps:{appear:!0,in:_}});C==="auto"&&!Y.muiSupportAuto&&(se=void 0);const pe=p||(s?wa(nw(s)).body:void 0),[ue,{slots:ie,slotProps:he,...ye}]=rn("root",{ref:t,elementType:Ube,externalForwardedProps:{...de,...I},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:E.backdrop},slotProps:{backdrop:bq(typeof x.backdrop=="function"?x.backdrop(P):x.backdrop,{invisible:!0})},container:pe,open:_},ownerState:P,className:Pt(U.root,h)}),[Ve,Xe]=rn("paper",{ref:N,className:U.paper,elementType:Jq,externalForwardedProps:de,shouldForwardComponentProp:!0,additionalProps:{elevation:y,style:K?void 0:{opacity:0}},ownerState:P});return Z.jsx(ue,{...ye,...!q0(ue)&&{slots:ie,slotProps:he,disableScrollLock:L},children:Z.jsx(Y,{...le,timeout:se,children:Z.jsx(Ve,{...Xe,children:u})})})});function zbe(n){return mn("MuiMenu",n)}gn("MuiMenu",["root","paper","list"]);const Bbe={vertical:"top",horizontal:"right"},Fbe={vertical:"top",horizontal:"left"},Vbe=n=>{const{classes:e}=n;return pn({root:["root"],paper:["paper"],list:["list"]},zbe,e)},Hbe=ht(kbe,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),jbe=ht(Jq,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Gbe=ht(Qq,{name:"MuiMenu",slot:"List"})({outline:0}),eW=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:s,className:a,disableAutoFocusItem:o=!1,MenuListProps:c={},onClose:u,open:h,PaperProps:p={},PopoverClasses:y,transitionDuration:v="auto",TransitionProps:{onEntering:_,...S}={},variant:E="selectedMenu",slots:x={},slotProps:w={},...M}=i,C=NS(),D={...i,autoFocus:r,disableAutoFocusItem:o,MenuListProps:c,onEntering:_,PaperProps:p,transitionDuration:v,TransitionProps:S,variant:E},L=Vbe(D),I=r&&!o&&h,N=H.useRef(null),P=(se,de)=>{N.current&&N.current.adjustStyleForScrollbar(se,{direction:C?"rtl":"ltr"}),_&&_(se,de)},U=se=>{se.key==="Tab"&&(se.preventDefault(),u&&u(se,"tabKeyDown"))};let V=-1;H.Children.map(s,(se,de)=>{H.isValidElement(se)&&(se.props.disabled||(E==="selectedMenu"&&se.props.selected||V===-1)&&(V=de))});const z={slots:x,slotProps:{list:c,transition:S,paper:p,...w}},F=K0({elementType:x.root,externalSlotProps:w.root,ownerState:D,className:[L.root,a]}),[K,ee]=rn("paper",{className:L.paper,elementType:jbe,externalForwardedProps:z,shouldForwardComponentProp:!0,ownerState:D}),[q,$]=rn("list",{className:Pt(L.list,c.className),elementType:Gbe,shouldForwardComponentProp:!0,externalForwardedProps:z,getSlotProps:se=>({...se,onKeyDown:de=>{U(de),se.onKeyDown?.(de)}}),ownerState:D}),Q=typeof z.slotProps.transition=="function"?z.slotProps.transition(D):z.slotProps.transition;return Z.jsx(Hbe,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?Bbe:Fbe,slots:{root:x.root,paper:K,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:F,paper:ee,backdrop:typeof w.backdrop=="function"?w.backdrop(D):w.backdrop,transition:{...Q,onEntering:(...se)=>{P(...se),Q?.onEntering?.(...se)}}},open:h,ref:t,transitionDuration:v,ownerState:D,...M,classes:y,children:Z.jsx(q,{actions:N,autoFocus:r&&(V===-1||o),autoFocusItem:I,variant:E,...$,children:s})})});function qbe(n){return mn("MuiMenuItem",n)}const sb=gn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Wbe=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},$be=n=>{const{disabled:e,dense:t,divider:i,disableGutters:r,selected:s,classes:a}=n,c=pn({root:["root",t&&"dense",e&&"disabled",!r&&"gutters",i&&"divider",s&&"selected"]},qbe,a);return{...a,...c}},Xbe=ht(qp,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Wbe})(Nn(({theme:n})=>({...n.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${sb.selected}`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,(n.vars||n).palette.action.selectedOpacity),[`&.${sb.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)}},[`&.${sb.selected}:hover`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:n.alpha((n.vars||n).palette.primary.main,(n.vars||n).palette.action.selectedOpacity)}},[`&.${sb.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${sb.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${n6.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${n6.inset}`]:{marginLeft:52},[`& .${o0.root}`]:{marginTop:0,marginBottom:0},[`& .${o0.inset}`]:{paddingLeft:36},[`& .${s6.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[n.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...n.typography.body2,[`& .${s6.root} svg`]:{fontSize:"1.25rem"}}}]}))),Cl=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:s="li",dense:a=!1,divider:o=!1,disableGutters:c=!1,focusVisibleClassName:u,role:h="menuitem",tabIndex:p,className:y,...v}=i,_=H.useContext(Bh),S=H.useMemo(()=>({dense:a||_.dense||!1,disableGutters:c}),[_.dense,a,c]),E=H.useRef(null);xu(()=>{r&&E.current&&E.current.focus()},[r]);const x={...i,dense:S.dense,divider:o,disableGutters:c},w=$be(i),M=Br(E,t);let C;return i.disabled||(C=p!==void 0?p:-1),Z.jsx(Bh.Provider,{value:S,children:Z.jsx(Xbe,{ref:M,role:h,tabIndex:C,component:s,focusVisibleClassName:Pt(w.focusVisible,u),className:Pt(w.root,y),...v,ownerState:x,classes:w})})});function Ybe(n){return mn("MuiNativeSelect",n)}const LL=gn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Kbe=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:s,error:a}=n,o={select:["select",t,i&&"disabled",r&&"multiple",a&&"error"],icon:["icon",`icon${yt(t)}`,s&&"iconOpen",i&&"disabled"]};return pn(o,Ybe,e)},tW=ht("select",{name:"MuiNativeSelect"})(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${LL.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Zbe=ht(tW,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Io,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${LL.multiple}`]:e.multiple}]}})({}),nW=ht("svg",{name:"MuiNativeSelect"})(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${LL.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Qbe=ht(nW,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${yt(t.variant)}`],t.open&&e.iconOpen]}})({}),Jbe=H.forwardRef(function(e,t){const{className:i,disabled:r,error:s,IconComponent:a,inputRef:o,variant:c="standard",...u}=e,h={...e,disabled:r,variant:c,error:s},p=Kbe(h);return Z.jsxs(H.Fragment,{children:[Z.jsx(Zbe,{ownerState:h,className:Pt(p.select,i),disabled:r,ref:o||t,...u}),e.multiple?null:Z.jsx(Qbe,{as:a,ownerState:h,className:p.icon})]})});var u6;const exe=ht("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Io})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),txe=ht("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Io})(Nn(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function nxe(n){const{children:e,classes:t,className:i,label:r,notched:s,...a}=n,o=r!=null&&r!=="",c={...n,notched:s,withLabel:o};return Z.jsx(exe,{"aria-hidden":!0,className:i,ownerState:c,...a,children:Z.jsx(txe,{ownerState:c,children:o?Z.jsx("span",{children:r}):u6||(u6=Z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const ixe=n=>{const{classes:e}=n,i=pn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},c_e,e);return{...e,...i}},rxe=ht(CM,{shouldForwardProp:n=>Io(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:TM})(Nn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${rf.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${rf.notchedOutline}`]:{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}},[`&.${rf.focused} .${rf.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(ta()).map(([t])=>({props:{color:t},style:{[`&.${rf.focused} .${rf.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${rf.error} .${rf.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${rf.disabled} .${rf.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),sxe=ht(nxe,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Nn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}})),axe=ht(AM,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:wM})(Nn(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),UL=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiOutlinedInput"}),{components:r={},fullWidth:s=!1,inputComponent:a="input",label:o,multiline:c=!1,notched:u,slots:h={},slotProps:p={},type:y="text",...v}=i,_=ixe(i),S=tm(),E=uy({props:i,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...i,color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:S,fullWidth:s,hiddenLabel:E.hiddenLabel,multiline:c,size:E.size,type:y},w=h.root??r.Root??rxe,M=h.input??r.Input??axe,[C,D]=rn("notchedOutline",{elementType:sxe,className:_.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:h,slotProps:p},additionalProps:{label:o!=null&&o!==""&&E.required?Z.jsxs(H.Fragment,{children:[o,"","*"]}):o}});return Z.jsx(OL,{slots:{root:w,input:M},slotProps:p,renderSuffix:L=>Z.jsx(C,{...D,notched:typeof u<"u"?u:!!(L.startAdornment||L.filled||L.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:t,type:y,...v,classes:{..._,notchedOutline:null}})});UL.muiName="Input";function iW(n){return mn("MuiSelect",n)}const ab=gn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var f6;const oxe=ht(tW,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${ab.select}`]:e.select},{[`&.${ab.select}`]:e[t.variant]},{[`&.${ab.error}`]:e.error},{[`&.${ab.multiple}`]:e.multiple}]}})({[`&.${ab.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),lxe=ht(nW,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${yt(t.variant)}`],t.open&&e.iconOpen]}})({}),cxe=ht("input",{shouldForwardProp:n=>_q(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function h6(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function uxe(n){return n==null||typeof n=="string"&&!n.trim()}const fxe=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:s,error:a}=n,o={select:["select",t,i&&"disabled",r&&"multiple",a&&"error"],icon:["icon",`icon${yt(t)}`,s&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return pn(o,iW,e)},hxe=H.forwardRef(function(e,t){const{"aria-describedby":i,"aria-label":r,autoFocus:s,autoWidth:a,children:o,className:c,defaultOpen:u,defaultValue:h,disabled:p,displayEmpty:y,error:v=!1,IconComponent:_,inputRef:S,labelId:E,MenuProps:x={},multiple:w,name:M,onBlur:C,onChange:D,onClose:L,onFocus:I,onKeyDown:N,onMouseDown:P,onOpen:U,open:V,readOnly:z,renderValue:F,required:K,SelectDisplayProps:ee={},tabIndex:q,type:$,value:Q,variant:se="standard",...de}=e,[Y,le]=RC({controlled:Q,default:h,name:"Select"}),[pe,ue]=RC({controlled:V,default:u,name:"Select"}),ie=H.useRef(null),he=H.useRef(null),[ye,Ve]=H.useState(null),{current:Xe}=H.useRef(V!=null),[Ge,rt]=H.useState(),ot=Br(t,S),pt=H.useCallback(at=>{he.current=at,at&&Ve(at)},[]),te=ye?.parentNode;H.useImperativeHandle(ot,()=>({focus:()=>{he.current.focus()},node:ie.current,value:Y}),[Y]),H.useEffect(()=>{u&&pe&&ye&&!Xe&&(rt(a?null:te.clientWidth),he.current.focus())},[ye,a]),H.useEffect(()=>{s&&he.current.focus()},[s]),H.useEffect(()=>{if(!E)return;const at=wa(he.current).getElementById(E);if(at){const Lt=()=>{getSelection().isCollapsed&&he.current.focus()};return at.addEventListener("click",Lt),()=>{at.removeEventListener("click",Lt)}}},[E]);const Oe=(at,Lt)=>{at?U&&U(Lt):L&&L(Lt),Xe||(rt(a?null:te.clientWidth),ue(at))},Be=at=>{P?.(at),at.button===0&&(at.preventDefault(),he.current.focus(),Oe(!0,at))},Ne=at=>{Oe(!1,at)},Me=H.Children.toArray(o),ct=at=>{const Lt=Me.find(ve=>ve.props.value===at.target.value);Lt!==void 0&&(le(Lt.props.value),D&&D(at,Lt))},qe=at=>Lt=>{let ve;if(Lt.currentTarget.hasAttribute("tabindex")){if(w){ve=Array.isArray(Y)?Y.slice():[];const gt=Y.indexOf(at.props.value);gt===-1?ve.push(at.props.value):ve.splice(gt,1)}else ve=at.props.value;if(at.props.onClick&&at.props.onClick(Lt),Y!==ve&&(le(ve),D)){const gt=Lt.nativeEvent||Lt,Fe=new gt.constructor(gt.type,gt);Object.defineProperty(Fe,"target",{writable:!0,value:{value:ve,name:M}}),D(Fe,at)}w||Oe(!1,Lt)}},ae=at=>{z||([" ","ArrowUp","ArrowDown","Enter"].includes(at.key)&&(at.preventDefault(),Oe(!0,at)),N?.(at))},J=ye!==null&&pe,Se=at=>{!J&&C&&(Object.defineProperty(at,"target",{writable:!0,value:{value:Y,name:M}}),C(at))};delete de["aria-invalid"];let Ae,Ze;const Re=[];let lt=!1;(LC({value:Y})||y)&&(F?Ae=F(Y):lt=!0);const ut=Me.map(at=>{if(!H.isValidElement(at))return null;let Lt;if(w){if(!Array.isArray(Y))throw new Error(Jh(2));Lt=Y.some(ve=>h6(ve,at.props.value)),Lt&&lt&&Re.push(at.props.children)}else Lt=h6(Y,at.props.value),Lt&&lt&&(Ze=at.props.children);return H.cloneElement(at,{"aria-selected":Lt?"true":"false",onClick:qe(at),onKeyUp:ve=>{ve.key===" "&&ve.preventDefault(),at.props.onKeyUp&&at.props.onKeyUp(ve)},role:"option",selected:Lt,value:void 0,"data-value":at.props.value})});lt&&(w?Re.length===0?Ae=null:Ae=Re.reduce((at,Lt,ve)=>(at.push(Lt),ve<Re.length-1&&at.push(", "),at),[]):Ae=Ze);let Dt=Ge;!a&&Xe&&ye&&(Dt=te.clientWidth);let kt;typeof q<"u"?kt=q:kt=p?null:0;const $e=ee.id||(M?`mui-component-select-${M}`:void 0),dt={...e,variant:se,value:Y,open:J,error:v},wt=fxe(dt),At={...x.PaperProps,...typeof x.slotProps?.paper=="function"?x.slotProps.paper(dt):x.slotProps?.paper},vt={...x.MenuListProps,...typeof x.slotProps?.list=="function"?x.slotProps.list(dt):x.slotProps?.list},jt=x_();return Z.jsxs(H.Fragment,{children:[Z.jsx(oxe,{as:"div",ref:pt,tabIndex:kt,role:"combobox","aria-controls":J?jt:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":J?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[E,$e].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":K?"true":void 0,"aria-invalid":v?"true":void 0,onKeyDown:ae,onMouseDown:p||z?null:Be,onBlur:Se,onFocus:I,...ee,ownerState:dt,className:Pt(ee.className,wt.select,c),id:$e,children:uxe(Ae)?f6||(f6=Z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Ae}),Z.jsx(cxe,{"aria-invalid":v,value:Array.isArray(Y)?Y.join(","):Y,name:M,ref:ie,"aria-hidden":!0,onChange:ct,tabIndex:-1,disabled:p,className:wt.nativeInput,autoFocus:s,required:K,...de,ownerState:dt}),Z.jsx(lxe,{as:_,className:wt.icon,ownerState:dt}),Z.jsx(eW,{id:`menu-${M||""}`,anchorEl:te,open:J,onClose:Ne,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":E,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:jt,...vt},paper:{...At,style:{minWidth:Dt,...At!=null?At.style:null}}},children:ut})]})}),dxe=n=>{const{classes:e}=n,i=pn({root:["root"]},iW,e);return{...e,...i}},kL={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>Io(n)&&n!=="variant"},pxe=ht(PL,kL)(""),mxe=ht(UL,kL)(""),gxe=ht(IL,kL)(""),kC=H.forwardRef(function(e,t){const i=Sn({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:s,classes:a={},className:o,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:h=f_e,id:p,input:y,inputProps:v,label:_,labelId:S,MenuProps:E,multiple:x=!1,native:w=!1,onClose:M,onOpen:C,open:D,renderValue:L,SelectDisplayProps:I,variant:N="outlined",...P}=i,U=w?Jbe:hxe,V=tm(),z=uy({props:i,muiFormControl:V,states:["variant","error"]}),F=z.variant||N,K={...i,variant:F,classes:a},ee=dxe(K),{root:q,...$}=ee,Q=y||{standard:Z.jsx(pxe,{ownerState:K}),outlined:Z.jsx(mxe,{label:_,ownerState:K}),filled:Z.jsx(gxe,{ownerState:K})}[F],se=Br(t,em(Q));return Z.jsx(H.Fragment,{children:H.cloneElement(Q,{inputComponent:U,inputProps:{children:s,error:z.error,IconComponent:h,variant:F,type:void 0,multiple:x,...w?{id:p}:{autoWidth:r,defaultOpen:c,displayEmpty:u,labelId:S,MenuProps:E,onClose:M,onOpen:C,open:D,renderValue:L,SelectDisplayProps:{id:p,...I}},...v,classes:v?ra($,v.classes):$,...y?y.props.inputProps:{}},...(x&&w||u)&&F==="outlined"?{notched:!0}:{},ref:se,className:Pt(Q.props.className,o,ee.root),...!y&&{variant:F},...P})})});kC.muiName="Select";function yxe(n){return mn("MuiTooltip",n)}const Kr=gn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function vxe(n){return Math.round(n*1e5)/1e5}const _xe=n=>{const{classes:e,disableInteractive:t,arrow:i,touch:r,placement:s}=n,a={popper:["popper",!t&&"popperInteractive",i&&"popperArrow"],tooltip:["tooltip",i&&"tooltipArrow",r&&"touch",`tooltipPlacement${yt(s.split("-")[0])}`],arrow:["arrow"]};return pn(a,yxe,e)},bxe=ht(Bq,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(Nn(({theme:n})=>({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Kr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Kr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Kr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Kr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Kr.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Kr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Kr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Kr.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),xxe=ht("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${yt(t.placement.split("-")[0])}`]]}})(Nn(({theme:n})=>({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:n.alpha(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium,[`.${Kr.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Kr.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Kr.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Kr.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${vxe(16/14)}em`,fontWeight:n.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Kr.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Kr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Kr.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Kr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Kr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Kr.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Kr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Kr.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Kr.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Kr.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Sxe=ht("span",{name:"MuiTooltip",slot:"Arrow"})(Nn(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:n.alpha(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let iw=!1;const d6=new SM;let ob={x:0,y:0};function rw(n,e){return(t,...i)=>{e&&e(t,...i),n(t,...i)}}const rW=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiTooltip"}),{arrow:r=!1,children:s,classes:a,components:o={},componentsProps:c={},describeChild:u=!1,disableFocusListener:h=!1,disableHoverListener:p=!1,disableInteractive:y=!1,disableTouchListener:v=!1,enterDelay:_=100,enterNextDelay:S=0,enterTouchDelay:E=700,followCursor:x=!1,id:w,leaveDelay:M=0,leaveTouchDelay:C=1500,onClose:D,onOpen:L,open:I,placement:N="bottom",PopperComponent:P,PopperProps:U={},slotProps:V={},slots:z={},title:F,TransitionComponent:K,TransitionProps:ee,...q}=i,$=H.isValidElement(s)?s:Z.jsx("span",{children:s}),Q=rd(),se=NS(),[de,Y]=H.useState(),[le,pe]=H.useState(null),ue=H.useRef(!1),ie=y||x,he=Ig(),ye=Ig(),Ve=Ig(),Xe=Ig(),[Ge,rt]=RC({controlled:I,default:!1,name:"Tooltip",state:"open"});let ot=Ge;const pt=x_(w),te=H.useRef(),Oe=Ll(()=>{te.current!==void 0&&(document.body.style.WebkitUserSelect=te.current,te.current=void 0),Xe.clear()});H.useEffect(()=>Oe,[Oe]);const Be=zt=>{d6.clear(),iw=!0,rt(!0),L&&!ot&&L(zt)},Ne=Ll(zt=>{d6.start(800+M,()=>{iw=!1}),rt(!1),D&&ot&&D(zt),he.start(Q.transitions.duration.shortest,()=>{ue.current=!1})}),Me=zt=>{ue.current&&zt.type!=="touchstart"||(de&&de.removeAttribute("title"),ye.clear(),Ve.clear(),_||iw&&S?ye.start(iw?S:_,()=>{Be(zt)}):Be(zt))},ct=zt=>{ye.clear(),Ve.start(M,()=>{Ne(zt)})},[,qe]=H.useState(!1),ae=zt=>{PC(zt.target)||(qe(!1),ct(zt))},J=zt=>{de||Y(zt.currentTarget),PC(zt.target)&&(qe(!0),Me(zt))},Se=zt=>{ue.current=!0;const Qt=$.props;Qt.onTouchStart&&Qt.onTouchStart(zt)},Ae=zt=>{Se(zt),Ve.clear(),he.clear(),Oe(),te.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Xe.start(E,()=>{document.body.style.WebkitUserSelect=te.current,Me(zt)})},Ze=zt=>{$.props.onTouchEnd&&$.props.onTouchEnd(zt),Oe(),Ve.start(C,()=>{Ne(zt)})};H.useEffect(()=>{if(!ot)return;function zt(Qt){Qt.key==="Escape"&&Ne(Qt)}return document.addEventListener("keydown",zt),()=>{document.removeEventListener("keydown",zt)}},[Ne,ot]);const Re=Br(em($),Y,t);!F&&F!==0&&(ot=!1);const lt=H.useRef(),ut=zt=>{const Qt=$.props;Qt.onMouseMove&&Qt.onMouseMove(zt),ob={x:zt.clientX,y:zt.clientY},lt.current&&lt.current.update()},Dt={},kt=typeof F=="string";u?(Dt.title=!ot&&kt&&!p?F:null,Dt["aria-describedby"]=ot?pt:null):(Dt["aria-label"]=kt?F:null,Dt["aria-labelledby"]=ot&&!kt?pt:null);const $e={...Dt,...q,...$.props,className:Pt(q.className,$.props.className),onTouchStart:Se,ref:Re,...x?{onMouseMove:ut}:{}},dt={};v||($e.onTouchStart=Ae,$e.onTouchEnd=Ze),p||($e.onMouseOver=rw(Me,$e.onMouseOver),$e.onMouseLeave=rw(ct,$e.onMouseLeave),ie||(dt.onMouseOver=Me,dt.onMouseLeave=ct)),h||($e.onFocus=rw(J,$e.onFocus),$e.onBlur=rw(ae,$e.onBlur),ie||(dt.onFocus=J,dt.onBlur=ae));const wt={...i,isRtl:se,arrow:r,disableInteractive:ie,placement:N,PopperComponentProp:P,touch:ue.current},At=typeof V.popper=="function"?V.popper(wt):V.popper,vt=H.useMemo(()=>{let zt=[{name:"arrow",enabled:!!le,options:{element:le,padding:4}}];return U.popperOptions?.modifiers&&(zt=zt.concat(U.popperOptions.modifiers)),At?.popperOptions?.modifiers&&(zt=zt.concat(At.popperOptions.modifiers)),{...U.popperOptions,...At?.popperOptions,modifiers:zt}},[le,U.popperOptions,At?.popperOptions]),jt=_xe(wt),at=typeof V.transition=="function"?V.transition(wt):V.transition,Lt={slots:{popper:o.Popper,transition:o.Transition??K,tooltip:o.Tooltip,arrow:o.Arrow,...z},slotProps:{arrow:V.arrow??c.arrow,popper:{...U,...At??c.popper},tooltip:V.tooltip??c.tooltip,transition:{...ee,...at??c.transition}}},[ve,gt]=rn("popper",{elementType:bxe,externalForwardedProps:Lt,ownerState:wt,className:Pt(jt.popper,U?.className)}),[Fe,Qe]=rn("transition",{elementType:UC,externalForwardedProps:Lt,ownerState:wt}),[xt,_t]=rn("tooltip",{elementType:xxe,className:jt.tooltip,externalForwardedProps:Lt,ownerState:wt}),[Zt,$n]=rn("arrow",{elementType:Sxe,className:jt.arrow,externalForwardedProps:Lt,ownerState:wt,ref:pe});return Z.jsxs(H.Fragment,{children:[H.cloneElement($,$e),Z.jsx(ve,{as:P??Bq,placement:N,anchorEl:x?{getBoundingClientRect:()=>({top:ob.y,left:ob.x,right:ob.x,bottom:ob.y,width:0,height:0})}:de,popperRef:lt,open:de?ot:!1,id:pt,transition:!0,...dt,...gt,popperOptions:vt,children:({TransitionProps:zt})=>Z.jsx(Fe,{timeout:Q.transitions.duration.shorter,...zt,...Qe,children:Z.jsxs(xt,{..._t,children:[F,r?Z.jsx(Zt,{...$n}):null]})})})]})}),cp=Vge({createStyledComponent:ht("div",{name:"MuiStack",slot:"Root"}),useThemeProps:n=>Sn({props:n,name:"MuiStack"})});function Exe(n){return mn("MuiTab",n)}const pc=gn("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Txe=n=>{const{classes:e,textColor:t,fullWidth:i,wrapped:r,icon:s,label:a,selected:o,disabled:c}=n,u={root:["root",s&&a&&"labelIcon",`textColor${yt(t)}`,i&&"fullWidth",r&&"wrapped",o&&"selected",c&&"disabled"],icon:["iconWrapper","icon"]};return pn(u,Exe,e)},wxe=ht(qp,{name:"MuiTab",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.label&&t.icon&&e.labelIcon,e[`textColor${yt(t.textColor)}`],t.fullWidth&&e.fullWidth,t.wrapped&&e.wrapped,{[`& .${pc.iconWrapper}`]:e.iconWrapper},{[`& .${pc.icon}`]:e.icon}]}})(Nn(({theme:n})=>({...n.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="top",style:{[`& > .${pc.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="bottom",style:{[`& > .${pc.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="start",style:{[`& > .${pc.icon}`]:{marginRight:n.spacing(1)}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="end",style:{[`& > .${pc.icon}`]:{marginLeft:n.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${pc.selected}`]:{opacity:1},[`&.${pc.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(n.vars||n).palette.text.secondary,[`&.${pc.selected}`]:{color:(n.vars||n).palette.primary.main},[`&.${pc.disabled}`]:{color:(n.vars||n).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(n.vars||n).palette.text.secondary,[`&.${pc.selected}`]:{color:(n.vars||n).palette.secondary.main},[`&.${pc.disabled}`]:{color:(n.vars||n).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:n.typography.pxToRem(12)}}]}))),p6=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiTab"}),{className:r,disabled:s=!1,disableFocusRipple:a=!1,fullWidth:o,icon:c,iconPosition:u="top",indicator:h,label:p,onChange:y,onClick:v,onFocus:_,selected:S,selectionFollowsFocus:E,textColor:x="inherit",value:w,wrapped:M=!1,...C}=i,D={...i,disabled:s,disableFocusRipple:a,selected:S,icon:!!c,iconPosition:u,label:!!p,fullWidth:o,textColor:x,wrapped:M},L=Txe(D),I=c&&p&&H.isValidElement(c)?H.cloneElement(c,{className:Pt(L.icon,c.props.className)}):c,N=U=>{!S&&y&&y(U,w),v&&v(U)},P=U=>{E&&!S&&y&&y(U,w),_&&_(U)};return Z.jsxs(wxe,{focusRipple:!a,className:Pt(L.root,r),ref:t,role:"tab","aria-selected":S,disabled:s,onClick:N,onFocus:P,ownerState:D,tabIndex:S?0:-1,...C,children:[u==="top"||u==="start"?Z.jsxs(H.Fragment,{children:[I,p]}):Z.jsxs(H.Fragment,{children:[p,I]}),h]})}),Cxe=ns(Z.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),Axe=ns(Z.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function Mxe(n){return(1+Math.sin(Math.PI*n-Math.PI/2))/2}function Rxe(n,e,t,i={},r=()=>{}){const{ease:s=Mxe,duration:a=300}=i;let o=null;const c=e[n];let u=!1;const h=()=>{u=!0},p=y=>{if(u){r(new Error("Animation cancelled"));return}o===null&&(o=y);const v=Math.min(1,(y-o)/a);if(e[n]=s(v)*(t-c)+c,v>=1){requestAnimationFrame(()=>{r(null)});return}requestAnimationFrame(p)};return c===t?(r(new Error("Element already at target position")),h):(requestAnimationFrame(p),h)}const Oxe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Ixe(n){const{onChange:e,...t}=n,i=H.useRef(),r=H.useRef(null),s=()=>{i.current=r.current.offsetHeight-r.current.clientHeight};return xu(()=>{const a=LS(()=>{const c=i.current;s(),c!==i.current&&e(i.current)}),o=Bl(r.current);return o.addEventListener("resize",a),()=>{a.clear(),o.removeEventListener("resize",a)}},[e]),H.useEffect(()=>{s(),e(i.current)},[e]),Z.jsx("div",{style:Oxe,...t,ref:r})}function Pxe(n){return mn("MuiTabScrollButton",n)}const Dxe=gn("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Nxe=n=>{const{classes:e,orientation:t,disabled:i}=n;return pn({root:["root",t,i&&"disabled"]},Pxe,e)},Lxe=ht(qp,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.orientation&&e[t.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Dxe.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Uxe=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiTabScrollButton"}),{className:r,slots:s={},slotProps:a={},direction:o,orientation:c,disabled:u,...h}=i,p=NS(),y={isRtl:p,...i},v=Nxe(y),_=s.StartScrollButtonIcon??Cxe,S=s.EndScrollButtonIcon??Axe,E=K0({elementType:_,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y}),x=K0({elementType:S,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y});return Z.jsx(Lxe,{component:"div",className:Pt(v.root,r),ref:t,role:null,ownerState:y,tabIndex:null,...h,style:{...h.style,...c==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${p?-90:90}deg)`}},children:o==="left"?Z.jsx(_,{...E}):Z.jsx(S,{...x})})});function kxe(n){return mn("MuiTabs",n)}const JO=gn("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),m6=(n,e)=>n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n.firstChild,g6=(n,e)=>n===e?n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n.lastChild,sw=(n,e,t)=>{let i=!1,r=t(n,e);for(;r;){if(r===n.firstChild){if(i)return;i=!0}const s=r.disabled||r.getAttribute("aria-disabled")==="true";if(!r.hasAttribute("tabindex")||s)r=t(n,r);else{r.focus();return}}},zxe=n=>{const{vertical:e,fixed:t,hideScrollbar:i,scrollableX:r,scrollableY:s,centered:a,scrollButtonsHideMobile:o,classes:c}=n;return pn({root:["root",e&&"vertical"],scroller:["scroller",t&&"fixed",i&&"hideScrollbar",r&&"scrollableX",s&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",o&&"scrollButtonsHideMobile"],scrollableX:[r&&"scrollableX"],hideScrollbar:[i&&"hideScrollbar"]},kxe,c)},Bxe=ht("div",{name:"MuiTabs",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${JO.scrollButtons}`]:e.scrollButtons},{[`& .${JO.scrollButtons}`]:t.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,t.vertical&&e.vertical]}})(Nn(({theme:n})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${JO.scrollButtons}`]:{[n.breakpoints.down("sm")]:{display:"none"}}}}]}))),Fxe=ht("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.scroller,t.fixed&&e.fixed,t.hideScrollbar&&e.hideScrollbar,t.scrollableX&&e.scrollableX,t.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:n})=>n.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:n})=>n.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:n})=>n.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:n})=>n.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Vxe=ht("div",{name:"MuiTabs",slot:"List",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.list,e.flexContainer,t.vertical&&e.flexContainerVertical,t.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:n})=>n.vertical,style:{flexDirection:"column"}},{props:({ownerState:n})=>n.centered,style:{justifyContent:"center"}}]}),Hxe=ht("span",{name:"MuiTabs",slot:"Indicator"})(Nn(({theme:n})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(n.vars||n).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(n.vars||n).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),jxe=ht(Ixe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),y6={},Gxe=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiTabs"}),r=rd(),s=NS(),{"aria-label":a,"aria-labelledby":o,action:c,centered:u=!1,children:h,className:p,component:y="div",allowScrollButtonsMobile:v=!1,indicatorColor:_="primary",onChange:S,orientation:E="horizontal",ScrollButtonComponent:x,scrollButtons:w="auto",selectionFollowsFocus:M,slots:C={},slotProps:D={},TabIndicatorProps:L={},TabScrollButtonProps:I={},textColor:N="primary",value:P,variant:U="standard",visibleScrollbar:V=!1,...z}=i,F=U==="scrollable",K=E==="vertical",ee=K?"scrollTop":"scrollLeft",q=K?"top":"left",$=K?"bottom":"right",Q=K?"clientHeight":"clientWidth",se=K?"height":"width",de={...i,component:y,allowScrollButtonsMobile:v,indicatorColor:_,orientation:E,vertical:K,scrollButtons:w,textColor:N,variant:U,visibleScrollbar:V,fixed:!F,hideScrollbar:F&&!V,scrollableX:F&&!K,scrollableY:F&&K,centered:u&&!F,scrollButtonsHideMobile:!v},Y=zxe(de),le=K0({elementType:C.StartScrollButtonIcon,externalSlotProps:D.startScrollButtonIcon,ownerState:de}),pe=K0({elementType:C.EndScrollButtonIcon,externalSlotProps:D.endScrollButtonIcon,ownerState:de}),[ue,ie]=H.useState(!1),[he,ye]=H.useState(y6),[Ve,Xe]=H.useState(!1),[Ge,rt]=H.useState(!1),[ot,pt]=H.useState(!1),[te,Oe]=H.useState({overflow:"hidden",scrollbarWidth:0}),Be=new Map,Ne=H.useRef(null),Me=H.useRef(null),ct={slots:C,slotProps:{indicator:L,scrollButton:I,...D}},qe=()=>{const St=Ne.current;let Mt;if(St){const vn=St.getBoundingClientRect();Mt={clientWidth:St.clientWidth,scrollLeft:St.scrollLeft,scrollTop:St.scrollTop,scrollWidth:St.scrollWidth,top:vn.top,bottom:vn.bottom,left:vn.left,right:vn.right}}let kn;if(St&&P!==!1){const vn=Me.current.children;if(vn.length>0){const zn=vn[Be.get(P)];kn=zn?zn.getBoundingClientRect():null}}return{tabsMeta:Mt,tabMeta:kn}},ae=Ll(()=>{const{tabsMeta:St,tabMeta:Mt}=qe();let kn=0,vn;K?(vn="top",Mt&&St&&(kn=Mt.top-St.top+St.scrollTop)):(vn=s?"right":"left",Mt&&St&&(kn=(s?-1:1)*(Mt[vn]-St[vn]+St.scrollLeft)));const zn={[vn]:kn,[se]:Mt?Mt[se]:0};if(typeof he[vn]!="number"||typeof he[se]!="number")ye(zn);else{const Li=Math.abs(he[vn]-zn[vn]),Rs=Math.abs(he[se]-zn[se]);(Li>=1||Rs>=1)&&ye(zn)}}),J=(St,{animation:Mt=!0}={})=>{Mt?Rxe(ee,Ne.current,St,{duration:r.transitions.duration.standard}):Ne.current[ee]=St},Se=St=>{let Mt=Ne.current[ee];K?Mt+=St:Mt+=St*(s?-1:1),J(Mt)},Ae=()=>{const St=Ne.current[Q];let Mt=0;const kn=Array.from(Me.current.children);for(let vn=0;vn<kn.length;vn+=1){const zn=kn[vn];if(Mt+zn[Q]>St){vn===0&&(Mt=St);break}Mt+=zn[Q]}return Mt},Ze=()=>{Se(-1*Ae())},Re=()=>{Se(Ae())},[lt,{onChange:ut,...Dt}]=rn("scrollbar",{className:Pt(Y.scrollableX,Y.hideScrollbar),elementType:jxe,shouldForwardComponentProp:!0,externalForwardedProps:ct,ownerState:de}),kt=H.useCallback(St=>{ut?.(St),Oe({overflow:null,scrollbarWidth:St})},[ut]),[$e,dt]=rn("scrollButtons",{className:Pt(Y.scrollButtons,I.className),elementType:Uxe,externalForwardedProps:ct,ownerState:de,additionalProps:{orientation:E,slots:{StartScrollButtonIcon:C.startScrollButtonIcon||C.StartScrollButtonIcon,EndScrollButtonIcon:C.endScrollButtonIcon||C.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:le,endScrollButtonIcon:pe}}}),wt=()=>{const St={};St.scrollbarSizeListener=F?Z.jsx(lt,{...Dt,onChange:kt}):null;const kn=F&&(w==="auto"&&(Ve||Ge)||w===!0);return St.scrollButtonStart=kn?Z.jsx($e,{direction:s?"right":"left",onClick:Ze,disabled:!Ve,...dt}):null,St.scrollButtonEnd=kn?Z.jsx($e,{direction:s?"left":"right",onClick:Re,disabled:!Ge,...dt}):null,St},At=Ll(St=>{const{tabsMeta:Mt,tabMeta:kn}=qe();if(!(!kn||!Mt)){if(kn[q]<Mt[q]){const vn=Mt[ee]+(kn[q]-Mt[q]);J(vn,{animation:St})}else if(kn[$]>Mt[$]){const vn=Mt[ee]+(kn[$]-Mt[$]);J(vn,{animation:St})}}}),vt=Ll(()=>{F&&w!==!1&&pt(!ot)});H.useEffect(()=>{const St=LS(()=>{Ne.current&&ae()});let Mt;const kn=Li=>{Li.forEach(Rs=>{Rs.removedNodes.forEach($i=>{Mt?.unobserve($i)}),Rs.addedNodes.forEach($i=>{Mt?.observe($i)})}),St(),vt()},vn=Bl(Ne.current);vn.addEventListener("resize",St);let zn;return typeof ResizeObserver<"u"&&(Mt=new ResizeObserver(St),Array.from(Me.current.children).forEach(Li=>{Mt.observe(Li)})),typeof MutationObserver<"u"&&(zn=new MutationObserver(kn),zn.observe(Me.current,{childList:!0})),()=>{St.clear(),vn.removeEventListener("resize",St),zn?.disconnect(),Mt?.disconnect()}},[ae,vt]),H.useEffect(()=>{const St=Array.from(Me.current.children),Mt=St.length;if(typeof IntersectionObserver<"u"&&Mt>0&&F&&w!==!1){const kn=St[0],vn=St[Mt-1],zn={root:Ne.current,threshold:.99},Li=Vr=>{Xe(!Vr[0].isIntersecting)},Rs=new IntersectionObserver(Li,zn);Rs.observe(kn);const $i=Vr=>{rt(!Vr[0].isIntersecting)},Fr=new IntersectionObserver($i,zn);return Fr.observe(vn),()=>{Rs.disconnect(),Fr.disconnect()}}},[F,w,ot,h?.length]),H.useEffect(()=>{ie(!0)},[]),H.useEffect(()=>{ae()}),H.useEffect(()=>{At(y6!==he)},[At,he]),H.useImperativeHandle(c,()=>({updateIndicator:ae,updateScrollButtons:vt}),[ae,vt]);const[jt,at]=rn("indicator",{className:Pt(Y.indicator,L.className),elementType:Hxe,externalForwardedProps:ct,ownerState:de,additionalProps:{style:he}}),Lt=Z.jsx(jt,{...at});let ve=0;const gt=H.Children.map(h,St=>{if(!H.isValidElement(St))return null;const Mt=St.props.value===void 0?ve:St.props.value;Be.set(Mt,ve);const kn=Mt===P;return ve+=1,H.cloneElement(St,{fullWidth:U==="fullWidth",indicator:kn&&!ue&&Lt,selected:kn,selectionFollowsFocus:M,onChange:S,textColor:N,value:Mt,...ve===1&&P===!1&&!St.props.tabIndex?{tabIndex:0}:{}})}),Fe=St=>{if(St.altKey||St.shiftKey||St.ctrlKey||St.metaKey)return;const Mt=Me.current,kn=a0(wa(Mt));if(kn?.getAttribute("role")!=="tab")return;let zn=E==="horizontal"?"ArrowLeft":"ArrowUp",Li=E==="horizontal"?"ArrowRight":"ArrowDown";switch(E==="horizontal"&&s&&(zn="ArrowRight",Li="ArrowLeft"),St.key){case zn:St.preventDefault(),sw(Mt,kn,g6);break;case Li:St.preventDefault(),sw(Mt,kn,m6);break;case"Home":St.preventDefault(),sw(Mt,null,m6);break;case"End":St.preventDefault(),sw(Mt,null,g6);break}},Qe=wt(),[xt,_t]=rn("root",{ref:t,className:Pt(Y.root,p),elementType:Bxe,externalForwardedProps:{...ct,...z,component:y},ownerState:de}),[Zt,$n]=rn("scroller",{ref:Ne,className:Y.scroller,elementType:Fxe,externalForwardedProps:ct,ownerState:de,additionalProps:{style:{overflow:te.overflow,[K?`margin${s?"Left":"Right"}`:"marginBottom"]:V?void 0:-te.scrollbarWidth}}}),[zt,Qt]=rn("list",{ref:Me,className:Pt(Y.list,Y.flexContainer),elementType:Vxe,externalForwardedProps:ct,ownerState:de,getSlotProps:St=>({...St,onKeyDown:Mt=>{Fe(Mt),St.onKeyDown?.(Mt)}})});return Z.jsxs(xt,{..._t,children:[Qe.scrollButtonStart,Qe.scrollbarSizeListener,Z.jsxs(Zt,{...$n,children:[Z.jsx(zt,{"aria-label":a,"aria-labelledby":o,"aria-orientation":E==="vertical"?"vertical":null,role:"tablist",...Qt,children:gt}),ue&&Lt]}),Qe.scrollButtonEnd]})});function qxe(n){return mn("MuiTextField",n)}gn("MuiTextField",["root"]);const Wxe={standard:PL,filled:IL,outlined:UL},$xe=n=>{const{classes:e}=n;return pn({root:["root"]},qxe,e)},Xxe=ht(Ib,{name:"MuiTextField",slot:"Root"})({}),Yxe=H.forwardRef(function(e,t){const i=Sn({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:s=!1,children:a,className:o,color:c="primary",defaultValue:u,disabled:h=!1,error:p=!1,FormHelperTextProps:y,fullWidth:v=!1,helperText:_,id:S,InputLabelProps:E,inputProps:x,InputProps:w,inputRef:M,label:C,maxRows:D,minRows:L,multiline:I=!1,name:N,onBlur:P,onChange:U,onFocus:V,placeholder:z,required:F=!1,rows:K,select:ee=!1,SelectProps:q,slots:$={},slotProps:Q={},type:se,value:de,variant:Y="outlined",...le}=i,pe={...i,autoFocus:s,color:c,disabled:h,error:p,fullWidth:v,multiline:I,required:F,select:ee,variant:Y},ue=$xe(pe),ie=x_(S),he=_&&ie?`${ie}-helper-text`:void 0,ye=C&&ie?`${ie}-label`:void 0,Ve=Wxe[Y],Xe={slots:$,slotProps:{input:w,inputLabel:E,htmlInput:x,formHelperText:y,select:q,...Q}},Ge={},rt=Xe.slotProps.inputLabel;Y==="outlined"&&(rt&&typeof rt.shrink<"u"&&(Ge.notched=rt.shrink),Ge.label=C),ee&&((!q||!q.native)&&(Ge.id=void 0),Ge["aria-describedby"]=void 0);const[ot,pt]=rn("root",{elementType:Xxe,shouldForwardComponentProp:!0,externalForwardedProps:{...Xe,...le},ownerState:pe,className:Pt(ue.root,o),ref:t,additionalProps:{disabled:h,error:p,fullWidth:v,required:F,color:c,variant:Y}}),[te,Oe]=rn("input",{elementType:Ve,externalForwardedProps:Xe,additionalProps:Ge,ownerState:pe}),[Be,Ne]=rn("inputLabel",{elementType:r2,externalForwardedProps:Xe,ownerState:pe}),[Me,ct]=rn("htmlInput",{elementType:"input",externalForwardedProps:Xe,ownerState:pe}),[qe,ae]=rn("formHelperText",{elementType:nbe,externalForwardedProps:Xe,ownerState:pe}),[J,Se]=rn("select",{elementType:kC,externalForwardedProps:Xe,ownerState:pe}),Ae=Z.jsx(te,{"aria-describedby":he,autoComplete:r,autoFocus:s,defaultValue:u,fullWidth:v,multiline:I,name:N,rows:K,maxRows:D,minRows:L,type:se,value:de,id:ie,inputRef:M,onBlur:P,onChange:U,onFocus:V,placeholder:z,inputProps:ct,slots:{input:$.htmlInput?Me:void 0},...Oe});return Z.jsxs(ot,{...pt,children:[C!=null&&C!==""&&Z.jsx(Be,{htmlFor:ie,id:ye,...Ne,children:C}),ee?Z.jsx(J,{"aria-describedby":he,id:ie,labelId:ye,value:de,input:Ae,...Se,children:a}):Ae,_&&Z.jsx(qe,{id:he,...ae,children:_})]})}),aw=({content:n})=>{const[e,t]=H.useState(!1),i=()=>{t(!1)},r=()=>{t(!0)};return Z.jsx(lbe,{children:Z.jsx(Y_e,{onClickAway:i,children:Z.jsx(td,{children:Z.jsx(rW,{onClose:i,open:e,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:n,placement:"top-end",arrow:!0,slotProps:{popper:{disablePortal:!0}},children:Z.jsx(xL,{onClick:r,children:Z.jsx(Cye,{})})})})})})};function MP(n){return n?n.charAt(0).toUpperCase()+n.slice(1):""}const MM=n=>{const e=localStorage.getItem(n);if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t.filter(i=>typeof i=="string"):e.replace(/[\[\]']+/g,"").split(",").map(i=>i.trim()).filter(Boolean)}catch{return e.replace(/[\[\]']+/g,"").split(",").map(t=>t.trim()).filter(Boolean)}},s2={canvasBackgraundColor:"#002",intensity:.7,colorLight:"#fff",position:[100,20,10]},sW={system:"rgb(159, 159, 159)",submission:"rgb(200, 0, 0)",pass:"rgb(0 , 128, 128)",switch:"rgb(255, 215, 0)",transition:"rgb(128, 0, 128)",control:"rgb(0, 102, 204)",takedown:"rgb(255, 140, 0)",defence:"rgb(34, 139, 34)",guard:"rgb(139, 69, 19)",defense_escape:"rgba(255, 185, 135, 1)"},ug={fov:80,near:.1,far:1e3,position:[251,-93,-18],dollySpeed:4,minDistance:20,maxDistance:1e3},Kxe=["/systems/headlock/nodes","/systems/test/nodes"],Zxe=["/systems/headlock/links","/systems/test/links"],v6=[{valueNodes:"/systems/headlock/nodes",valueLinks:"/systems/headlock/links",label:"HeadLock"},{valueNodes:"/systems/dogfight/nodes",valueLinks:"/systems/dogfight/links",label:"DogFight"},{valueNodes:"/systems/escaping_back_control/nodes",valueLinks:"/systems/escaping_back_control/links",label:"Escaping Back Control"},{valueNodes:"/systems/mount_escape/nodes",valueLinks:"/systems/mount_escape/links",label:"Mount Escape"},{valueNodes:"/systems/side_control_escapes/nodes",valueLinks:"/systems/side_control_escapes/links",label:"Side Control Escapes"},{valueNodes:"/systems/turtle_defense/nodes",valueLinks:"/systems/turtle_defense/links",label:"Turtle Denfese"},{valueNodes:"/systems/side_control_escapes_switch_base_variants/nodes",valueLinks:"/systems/side_control_escapes_switch_base_variants/links",label:"Side Control Escapes Switch Base Variants"}],tr={languageDefault:"es",languageUser:"languageApp",navigationsGestures:"hideNavigationGestures",dagModeCache:"dagMode",dagMode:localStorage.getItem("dagMode")||"rl",dagLevelDistanceCache:"dagLevelDistance",dagLevelDistance:localStorage.getItem("dagLevelDistance")||35,systemsCacheNameNodes:"systemsCacheNodes",systemsCacheNameLinks:"systemsCacheLinks",systemsNodesLoaded:[],systemsLinksLoaded:[]},Qxe=Kxe[1],Jxe=Zxe[1],eSe=MM(tr.systemsCacheNameLinks),tSe=MM(tr.systemsCacheNameNodes),zL={AllSystemsNodesArray:tSe,AllSystemsLinksArray:eSe,nodes:Qxe,links:Jxe,categories:"taxonomy",subCategory:"subCategories",indexGlobal:"index_global",indexGlobalID:"63keMnlfnUPYdIxLUviv",nodeTaxonomy:"node_taxonomy",tab_ids:"tab_ids",tabs:"tabs"},aW={root:"/",loginUser:"/login_user"},nSe=MM(tr.systemsCacheNameLinks),iSe=MM(tr.systemsCacheNameNodes),yn=ZK((n,e)=>({isAddNodeActive:!1,setIsAddNodeActive:t=>n({isAddNodeActive:t}),isLoginWindowActive:!1,setIsLoginWindowActive:t=>n({isLoginWindowActive:t}),isLoadingFirestore:!1,setIsLoadingFirestore:t=>n({isLoadingFirestore:t}),isUploadFirestore:!1,setIsUploadFirestore:t=>n({isUploadFirestore:t}),isUserLogin:!1,setIsUserLogin:t=>n({isUserLogin:t}),showAlert:!1,alertMessage:"",alertSeverity:"success",isNodeAddViewActive:!1,setIsNodeAddViewActive:t=>n({isNodeAddViewActive:t}),isNodeSceneViewActive:!1,setIsNodeSceneViewActive:t=>n({isNodeSceneViewActive:t}),overlayDontShowAgain:!1,setOverlayDontShowAgain:t=>n({overlayDontShowAgain:t}),languageGlobal:"",setLanguageGlobal:t=>n({languageGlobal:t}),isConfigWindowActive:!1,setIsconfigWindowActive:t=>n({isConfigWindowActive:t}),nodeViewData:null,setNodeViewData:t=>n({nodeViewData:t}),documentsFirestore:[],setDocumentsFirestore:t=>n({documentsFirestore:t}),dagModeConfig:tr.dagMode,setDagModeConfig:t=>n({dagModeConfig:t}),dagLevelDistanceConfig:Number(tr.dagLevelDistance),setDagLevelDistanceConfig:t=>n({dagLevelDistanceConfig:t}),triggerAlert:(t,i="success")=>{n({showAlert:!0,alertMessage:t,alertSeverity:i}),setTimeout(()=>n({showAlert:!1}),4e3)},stepValidation:{step0:!1,step1:!1,step2:!1},validateFns:{},setValidateFn:(t,i)=>n(r=>({validateFns:{...r.validateFns,[t]:i}})),runValidation:async t=>{const i=e().validateFns[t];if(!i)return!1;const r=await i();return n(s=>({stepValidation:{...s.stepValidation,[t]:r}})),r},runSequentialValidation:async t=>{for(const i of t)if(!await e().runValidation(i))return!1;return!0},connectionViewerActiveStep:null,setConnectionViewerActiveStep:t=>n({connectionViewerActiveStep:t}),cameraBackup:null,setCameraBackup:(t,i)=>n({cameraBackup:{pos:t,target:i}}),clearCameraBackup:()=>n({cameraBackup:null}),showFullGraph:!0,setShowFullGraph:t=>n({showFullGraph:t}),systemBjjSelectedNodes:iSe,setSystemBjjSelectedNodes:t=>n({systemBjjSelectedNodes:t}),systemBjjSelectedLinks:nSe,setSystemBjjSelectedLinks:t=>n({systemBjjSelectedLinks:t}),linksData:[],setLinksData:t=>n({linksData:t})}));var e3={exports:{}},xh={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _6;function rSe(){return _6||(_6=1,xh.ConcurrentRoot=1,xh.ContinuousEventPriority=8,xh.DefaultEventPriority=32,xh.DiscreteEventPriority=2,xh.IdleEventPriority=268435456,xh.LegacyRoot=0,xh.NoEventPriority=0),xh}var b6;function sSe(){return b6||(b6=1,e3.exports=rSe()),e3.exports}var a2=sSe(),t3={exports:{}},n3={},i3={exports:{}},r3={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x6;function aSe(){if(x6)return r3;x6=1;var n=t_();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(p,y){var v=y(),_=i({inst:{value:v,getSnapshot:y}}),S=_[0].inst,E=_[1];return s(function(){S.value=v,S.getSnapshot=y,c(S)&&E({inst:S})},[p,v,y]),r(function(){return c(S)&&E({inst:S}),p(function(){c(S)&&E({inst:S})})},[p]),a(v),v}function c(p){var y=p.getSnapshot;p=p.value;try{var v=y();return!t(p,v)}catch{return!0}}function u(p,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return r3.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,r3}var S6;function oSe(){return S6||(S6=1,i3.exports=aSe()),i3.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E6;function lSe(){if(E6)return n3;E6=1;var n=t_(),e=oSe();function t(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,c=n.useDebugValue;return n3.useSyncExternalStoreWithSelector=function(u,h,p,y,v){var _=s(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=o(function(){function x(L){if(!w){if(w=!0,M=L,L=y(L),v!==void 0&&S.hasValue){var I=S.value;if(v(I,L))return C=I}return C=L}if(I=C,i(M,L))return I;var N=y(L);return v!==void 0&&v(I,N)?(M=L,I):(M=L,C=N)}var w=!1,M,C,D=p===void 0?null:p;return[function(){return x(h())},D===null?void 0:function(){return x(D())}]},[h,p,y,v]);var E=r(u,_[0],_[1]);return a(function(){S.hasValue=!0,S.value=E},[E]),c(E),E},n3}var T6;function cSe(){return T6||(T6=1,t3.exports=lSe()),t3.exports}var uSe=cSe();const fSe=$p(uSe),{useSyncExternalStoreWithSelector:hSe}=fSe,dSe=n=>n;function pSe(n,e=dSe,t){const i=hSe(n.subscribe,n.getState,n.getInitialState,e,t);return ar.useDebugValue(i),i}const w6=(n,e)=>{const t=_V(n),i=(r,s=e)=>pSe(t,r,s);return Object.assign(i,t),i},oW=((n,e)=>n?w6(n,e):w6);var s3={exports:{}},a3={exports:{}},o3={exports:{}},l3={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C6;function mSe(){return C6||(C6=1,(function(n){function e(q,$){var Q=q.length;q.push($);e:for(;0<Q;){var se=Q-1>>>1,de=q[se];if(0<r(de,$))q[se]=$,q[Q]=de,Q=se;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var $=q[0],Q=q.pop();if(Q!==$){q[0]=Q;e:for(var se=0,de=q.length,Y=de>>>1;se<Y;){var le=2*(se+1)-1,pe=q[le],ue=le+1,ie=q[ue];if(0>r(pe,Q))ue<de&&0>r(ie,pe)?(q[se]=ie,q[ue]=Q,se=ue):(q[se]=pe,q[le]=Q,se=le);else if(ue<de&&0>r(ie,Q))q[se]=ie,q[ue]=Q,se=ue;else break e}}return $}function r(q,$){var Q=q.sortIndex-$.sortIndex;return Q!==0?Q:q.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var c=[],u=[],h=1,p=null,y=3,v=!1,_=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function M(q){for(var $=t(u);$!==null;){if($.callback===null)i(u);else if($.startTime<=q)i(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=t(u)}}function C(q){if(S=!1,M(q),!_)if(t(c)!==null)_=!0,K();else{var $=t(u);$!==null&&ee(C,$.startTime-q)}}var D=!1,L=-1,I=5,N=-1;function P(){return!(n.unstable_now()-N<I)}function U(){if(D){var q=n.unstable_now();N=q;var $=!0;try{e:{_=!1,S&&(S=!1,x(L),L=-1),v=!0;var Q=y;try{t:{for(M(q),p=t(c);p!==null&&!(p.expirationTime>q&&P());){var se=p.callback;if(typeof se=="function"){p.callback=null,y=p.priorityLevel;var de=se(p.expirationTime<=q);if(q=n.unstable_now(),typeof de=="function"){p.callback=de,M(q),$=!0;break t}p===t(c)&&i(c),M(q)}else i(c);p=t(c)}if(p!==null)$=!0;else{var Y=t(u);Y!==null&&ee(C,Y.startTime-q),$=!1}}break e}finally{p=null,y=Q,v=!1}$=void 0}}finally{$?V():D=!1}}}var V;if(typeof w=="function")V=function(){w(U)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=U,V=function(){F.postMessage(null)}}else V=function(){E(U,0)};function K(){D||(D=!0,V())}function ee(q,$){L=E(function(){q(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){_||v||(_=!0,K())},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(q){switch(y){case 1:case 2:case 3:var $=3;break;default:$=y}var Q=y;y=$;try{return q()}finally{y=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=y;y=q;try{return $()}finally{y=Q}},n.unstable_scheduleCallback=function(q,$,Q){var se=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,q){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Q+de,q={id:h++,callback:$,priorityLevel:q,startTime:Q,expirationTime:de,sortIndex:-1},Q>se?(q.sortIndex=Q,e(u,q),t(c)===null&&q===t(u)&&(S?(x(L),L=-1):S=!0,ee(C,Q-se))):(q.sortIndex=de,e(c,q),_||v||(_=!0,K())),q},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(q){var $=y;return function(){var Q=y;y=$;try{return q.apply(this,arguments)}finally{y=Q}}}})(l3)),l3}var A6;function lW(){return A6||(A6=1,o3.exports=mSe()),o3.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M6;function gSe(){return M6||(M6=1,(function(n){n.exports=function(e){function t(d,m,T,O){return new L_(d,m,T,O)}function i(){}function r(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)m+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(d){return d===null||typeof d!="object"?null:(d=H_&&d[H_]||d["@@iterator"],typeof d=="function"?d:null)}function a(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===Qf?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case Md:return"Fragment";case pl:return"Portal";case V_:return"Profiler";case F_:return"StrictMode";case My:return"Suspense";case Fu:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case tc:return(d.displayName||"Context")+".Provider";case Bu:return(d._context.displayName||"Context")+".Consumer";case Rd:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case _m:return m=d.displayName||null,m!==null?m:a(d.type)||"Memo";case ml:m=d._payload,d=d._init;try{return a(d(m))}catch{}}return null}function o(d){if(Ry===void 0)try{throw Error()}catch(T){var m=T.stack.trim().match(/\n( *(at )?)/);Ry=m&&m[1]||"",j_=-1<T.stack.indexOf(`
    at`)?" (<anonymous>)":-1<T.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ry+d+j_}function c(d,m){if(!d||Vu)return"";Vu=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(m){var Ot=function(){throw Error()};if(Object.defineProperty(Ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ot,[])}catch(_n){var Nt=_n}Reflect.construct(d,[],Ot)}else{try{Ot.call()}catch(_n){Nt=_n}d.call(Ot.prototype)}}else{try{throw Error()}catch(_n){Nt=_n}(Ot=d())&&typeof Ot.catch=="function"&&Ot.catch(function(){})}}catch(_n){if(_n&&Nt&&typeof _n.stack=="string")return[_n.stack,Nt.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=O.DetermineComponentFrameRoot(),oe=G[0],me=G[1];if(oe&&me){var Ce=oe.split(`
`),Je=me.split(`
`);for(B=O=0;O<Ce.length&&!Ce[O].includes("DetermineComponentFrameRoot");)O++;for(;B<Je.length&&!Je[B].includes("DetermineComponentFrameRoot");)B++;if(O===Ce.length||B===Je.length)for(O=Ce.length-1,B=Je.length-1;1<=O&&0<=B&&Ce[O]!==Je[B];)B--;for(;1<=O&&0<=B;O--,B--)if(Ce[O]!==Je[B]){if(O!==1||B!==1)do if(O--,B--,0>B||Ce[O]!==Je[B]){var bt=`
`+Ce[O].replace(" at new "," at ");return d.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",d.displayName)),bt}while(1<=O&&0<=B);break}}}finally{Vu=!1,Error.prepareStackTrace=T}return(T=d?d.displayName||d.name:"")?o(T):""}function u(d){switch(d.tag){case 26:case 27:case 5:return o(d.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return d=c(d.type,!1),d;case 11:return d=c(d.type.render,!1),d;case 1:return d=c(d.type,!0),d;default:return""}}function h(d){try{var m="";do m+=u(d),d=d.return;while(d);return m}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}function p(d){var m=d,T=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(T=m.return),d=m.return;while(d)}return m.tag===3?T:null}function y(d){if(p(d)!==d)throw Error(r(188))}function v(d){var m=d.alternate;if(!m){if(m=p(d),m===null)throw Error(r(188));return m!==d?null:d}for(var T=d,O=m;;){var B=T.return;if(B===null)break;var G=B.alternate;if(G===null){if(O=B.return,O!==null){T=O;continue}break}if(B.child===G.child){for(G=B.child;G;){if(G===T)return y(B),d;if(G===O)return y(B),m;G=G.sibling}throw Error(r(188))}if(T.return!==O.return)T=B,O=G;else{for(var oe=!1,me=B.child;me;){if(me===T){oe=!0,T=B,O=G;break}if(me===O){oe=!0,O=B,T=G;break}me=me.sibling}if(!oe){for(me=G.child;me;){if(me===T){oe=!0,T=G,O=B;break}if(me===O){oe=!0,O=G,T=B;break}me=me.sibling}if(!oe)throw Error(r(189))}}if(T.alternate!==O)throw Error(r(190))}if(T.tag!==3)throw Error(r(188));return T.stateNode.current===T?d:m}function _(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d;for(d=d.child;d!==null;){if(m=_(d),m!==null)return m;d=d.sibling}return null}function S(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d;for(d=d.child;d!==null;){if(d.tag!==4&&(m=S(d),m!==null))return m;d=d.sibling}return null}function E(d){return{current:d}}function x(d){0>Xc||(d.current=Mm[Xc],Mm[Xc]=null,Xc--)}function w(d,m){Xc++,Mm[Xc]=d.current,d.current=m}function M(d){return d>>>=0,d===0?32:31-(Rm(d)/xE|0)|0}function C(d){var m=d&42;if(m!==0)return m;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function D(d,m){var T=d.pendingLanes;if(T===0)return 0;var O=0,B=d.suspendedLanes,G=d.pingedLanes,oe=d.warmLanes;d=d.finishedLanes!==0;var me=T&134217727;return me!==0?(T=me&~B,T!==0?O=C(T):(G&=me,G!==0?O=C(G):d||(oe=me&~oe,oe!==0&&(O=C(oe))))):(me=T&~B,me!==0?O=C(me):G!==0?O=C(G):d||(oe=T&~oe,oe!==0&&(O=C(oe)))),O===0?0:m!==0&&m!==O&&(m&B)===0&&(B=O&-O,oe=m&-m,B>=oe||B===32&&(oe&4194176)!==0)?m:O}function L(d,m){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&m)===0}function I(d,m){switch(d){case 1:case 2:case 4:case 8:return m+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N(){var d=Dd;return Dd<<=1,(Dd&4194176)===0&&(Dd=128),d}function P(){var d=Om;return Om<<=1,(Om&62914560)===0&&(Om=4194304),d}function U(d){for(var m=[],T=0;31>T;T++)m.push(d);return m}function V(d,m){d.pendingLanes|=m,m!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function z(d,m,T,O,B,G){var oe=d.pendingLanes;d.pendingLanes=T,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=T,d.entangledLanes&=T,d.errorRecoveryDisabledLanes&=T,d.shellSuspendCounter=0;var me=d.entanglements,Ce=d.expirationTimes,Je=d.hiddenUpdates;for(T=oe&~T;0<T;){var bt=31-Na(T),Ot=1<<bt;me[bt]=0,Ce[bt]=-1;var Nt=Je[bt];if(Nt!==null)for(Je[bt]=null,bt=0;bt<Nt.length;bt++){var _n=Nt[bt];_n!==null&&(_n.lane&=-536870913)}T&=~Ot}O!==0&&F(d,O,0),G!==0&&B===0&&d.tag!==0&&(d.suspendedLanes|=G&~(oe&~m))}function F(d,m,T){d.pendingLanes|=m,d.suspendedLanes&=~m;var O=31-Na(m);d.entangledLanes|=m,d.entanglements[O]=d.entanglements[O]|1073741824|T&4194218}function K(d,m){var T=d.entangledLanes|=m;for(d=d.entanglements;T;){var O=31-Na(T),B=1<<O;B&m|d[O]&m&&(d[O]|=m),T&=~B}}function ee(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function q(d){if(La&&typeof La.onCommitFiberRoot=="function")try{La.onCommitFiberRoot(Ld,d,void 0,(d.current.flags&128)===128)}catch{}}function $(d){if(typeof wE=="function"&&b1(d),La&&typeof La.setStrictMode=="function")try{La.setStrictMode(Ld,d)}catch{}}function Q(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}function se(d,m){if(typeof d=="object"&&d!==null){var T=Wy.get(d);return T!==void 0?T:(m={value:d,source:m,stack:h(m)},Wy.set(d,m),m)}return{value:d,source:m,stack:h(m)}}function de(d,m){Ki[mr++]=Dm,Ki[mr++]=Pm,Pm=d,Dm=m}function Y(d,m,T){ho[po++]=ac,ho[po++]=Bo,ho[po++]=gl,gl=d;var O=ac;d=Bo;var B=32-Na(O)-1;O&=~(1<<B),T+=1;var G=32-Na(m)+B;if(30<G){var oe=B-B%5;G=(O&(1<<oe)-1).toString(32),O>>=oe,B-=oe,ac=1<<32-Na(m)+B|T<<B|O,Bo=G+d}else ac=1<<G|T<<B|O,Bo=d}function le(d){d.return!==null&&(de(d,1),Y(d,1,0))}function pe(d){for(;d===Pm;)Pm=Ki[--mr],Ki[mr]=null,Dm=Ki[--mr],Ki[mr]=null;for(;d===gl;)gl=ho[--po],ho[po]=null,Bo=ho[--po],ho[po]=null,ac=ho[--po],ho[po]=null}function ue(d,m){w(yl,m),w(Nm,d),w(xs,null),d=Jf(m),x(xs),w(xs,d)}function ie(){x(xs),x(Nm),x(yl)}function he(d){d.memoizedState!==null&&w(Ud,d);var m=xs.current,T=eE(m,d.type);m!==T&&(w(Nm,d),w(xs,T))}function ye(d){Nm.current===d&&(x(xs),x(Nm)),Ud.current===d&&(x(Ud),ic?un._currentValue=Da:un._currentValue2=Da)}function Ve(d){var m=Error(r(418,""));throw pt(se(m,d)),Lm}function Xe(d,m){if(!da)throw Error(r(175));FM(d.stateNode,d.type,d.memoizedProps,m,d)||Ve(d)}function Ge(d){for($s=d.return;$s;)switch($s.tag){case 3:case 27:Fo=!0;return;case 5:case 13:Fo=!1;return;default:$s=$s.return}}function rt(d){if(!da||d!==$s)return!1;if(!si)return Ge(d),si=!0,!1;var m=!1;if(Ds?d.tag!==3&&d.tag!==27&&(d.tag!==5||gE(d.type)&&!Gu(d.type,d.memoizedProps))&&(m=!0):d.tag!==3&&(d.tag!==5||gE(d.type)&&!Gu(d.type,d.memoizedProps))&&(m=!0),m&&Ls&&Ve(d),Ge(d),d.tag===13){if(!da)throw Error(r(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));Ls=pE(d)}else Ls=$s?o1(d.stateNode):null;return!0}function ot(){da&&(Ls=$s=null,si=!1)}function pt(d){mo===null?mo=[d]:mo.push(d)}function te(){for(var d=Wu,m=kd=Wu=0;m<d;){var T=go[m];go[m++]=null;var O=go[m];go[m++]=null;var B=go[m];go[m++]=null;var G=go[m];if(go[m++]=null,O!==null&&B!==null){var oe=O.pending;oe===null?B.next=B:(B.next=oe.next,oe.next=B),O.pending=B}G!==0&&Me(T,B,G)}}function Oe(d,m,T,O){go[Wu++]=d,go[Wu++]=m,go[Wu++]=T,go[Wu++]=O,kd|=O,d.lanes|=O,d=d.alternate,d!==null&&(d.lanes|=O)}function Be(d,m,T,O){return Oe(d,m,T,O),ct(d)}function Ne(d,m){return Oe(d,null,null,m),ct(d)}function Me(d,m,T){d.lanes|=T;var O=d.alternate;O!==null&&(O.lanes|=T);for(var B=!1,G=d.return;G!==null;)G.childLanes|=T,O=G.alternate,O!==null&&(O.childLanes|=T),G.tag===22&&(d=G.stateNode,d===null||d._visibility&1||(B=!0)),d=G,G=G.return;B&&m!==null&&d.tag===3&&(G=d.stateNode,B=31-Na(T),G=G.hiddenUpdates,d=G[B],d===null?G[B]=[m]:d.push(m),m.lane=T|536870912)}function ct(d){if(50<uh)throw uh=0,ga=null,Error(r(185));for(var m=d.return;m!==null;)d=m,m=d.return;return d.tag===3?d.stateNode:null}function qe(d){d!==ih&&d.next===null&&(ih===null?zd=ih=d:ih=ih.next=d),km=!0,Um||(Um=!0,Re(J))}function ae(d,m){if(!vl&&km){vl=!0;do for(var T=!1,O=zd;O!==null;){if(d!==0){var B=O.pendingLanes;if(B===0)var G=0;else{var oe=O.suspendedLanes,me=O.pingedLanes;G=(1<<31-Na(42|d)+1)-1,G&=B&~(oe&~me),G=G&201326677?G&201326677|1:G?G|2:0}G!==0&&(T=!0,Ze(O,G))}else G=Fn,G=D(O,O===qn?G:0),(G&3)===0||L(O,G)||(T=!0,Ze(O,G));O=O.next}while(T);vl=!1}}function J(){km=Um=!1;var d=0;$u!==0&&(qu()&&(d=$u),$u=0);for(var m=Ns(),T=null,O=zd;O!==null;){var B=O.next,G=Se(O,m);G===0?(O.next=null,T===null?zd=B:T.next=B,B===null&&(ih=T)):(T=O,(d!==0||(G&3)!==0)&&(km=!0)),O=B}ae(d)}function Se(d,m){for(var T=d.suspendedLanes,O=d.pingedLanes,B=d.expirationTimes,G=d.pendingLanes&-62914561;0<G;){var oe=31-Na(G),me=1<<oe,Ce=B[oe];Ce===-1?((me&T)===0||(me&O)!==0)&&(B[oe]=I(me,m)):Ce<=m&&(d.expiredLanes|=me),G&=~me}if(m=qn,T=Fn,T=D(d,d===m?T:0),O=d.callbackNode,T===0||d===m&&Pi===2||d.cancelPendingCommit!==null)return O!==null&&O!==null&&Im(O),d.callbackNode=null,d.callbackPriority=0;if((T&3)===0||L(d,T)){if(m=T&-T,m===d.callbackPriority)return m;switch(O!==null&&Im(O),ee(T)){case 2:case 8:T=TE;break;case 32:T=Gy;break;case 268435456:T=qy;break;default:T=Gy}return O=Ae.bind(null,d),T=Nd(T,O),d.callbackPriority=m,d.callbackNode=T,m}return O!==null&&O!==null&&Im(O),d.callbackPriority=2,d.callbackNode=null,2}function Ae(d,m){var T=d.callbackNode;if(_s()&&d.callbackNode!==T)return null;var O=Fn;return O=D(d,d===qn?O:0),O===0?null:(pm(d,O,m),Se(d,Ns()),d.callbackNode!=null&&d.callbackNode===T?Ae.bind(null,d):null)}function Ze(d,m){if(_s())return null;pm(d,m,!0)}function Re(d){Gr?Dy(function(){(Yt&6)!==0?Nd(_1,d):d()}):Nd(_1,d)}function lt(){return $u===0&&($u=N()),$u}function ut(d,m){if(zm===null){var T=zm=[];$y=0,Ua=lt(),Xu={status:"pending",value:void 0,then:function(O){T.push(O)}}}return $y++,m.then(Dt,Dt),m}function Dt(){if(--$y===0&&zm!==null){Xu!==null&&(Xu.status="fulfilled");var d=zm;zm=null,Ua=0,Xu=null;for(var m=0;m<d.length;m++)(0,d[m])()}}function kt(d,m){var T=[],O={status:"pending",value:null,reason:null,then:function(B){T.push(B)}};return d.then(function(){O.status="fulfilled",O.value=m;for(var B=0;B<T.length;B++)(0,T[B])(m)},function(B){for(O.status="rejected",O.reason=B,B=0;B<T.length;B++)(0,T[B])(void 0)}),O}function $e(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dt(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function wt(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function At(d,m,T){var O=d.updateQueue;if(O===null)return null;if(O=O.shared,(Yt&2)!==0){var B=O.pending;return B===null?m.next=m:(m.next=B.next,B.next=m),O.pending=m,m=ct(d),Me(d,null,T),m}return Oe(d,O,m,T),ct(d)}function vt(d,m,T){if(m=m.updateQueue,m!==null&&(m=m.shared,(T&4194176)!==0)){var O=m.lanes;O&=d.pendingLanes,T|=O,m.lanes=T,K(d,T)}}function jt(d,m){var T=d.updateQueue,O=d.alternate;if(O!==null&&(O=O.updateQueue,T===O)){var B=null,G=null;if(T=T.firstBaseUpdate,T!==null){do{var oe={lane:T.lane,tag:T.tag,payload:T.payload,callback:null,next:null};G===null?B=G=oe:G=G.next=oe,T=T.next}while(T!==null);G===null?B=G=m:G=G.next=m}else B=G=m;T={baseState:O.baseState,firstBaseUpdate:B,lastBaseUpdate:G,shared:O.shared,callbacks:O.callbacks},d.updateQueue=T;return}d=T.lastBaseUpdate,d===null?T.firstBaseUpdate=m:d.next=m,T.lastBaseUpdate=m}function at(){if(Bd){var d=Xu;if(d!==null)throw d}}function Lt(d,m,T,O){Bd=!1;var B=d.updateQueue;Yc=!1;var G=B.firstBaseUpdate,oe=B.lastBaseUpdate,me=B.shared.pending;if(me!==null){B.shared.pending=null;var Ce=me,Je=Ce.next;Ce.next=null,oe===null?G=Je:oe.next=Je,oe=Ce;var bt=d.alternate;bt!==null&&(bt=bt.updateQueue,me=bt.lastBaseUpdate,me!==oe&&(me===null?bt.firstBaseUpdate=Je:me.next=Je,bt.lastBaseUpdate=Ce))}if(G!==null){var Ot=B.baseState;oe=0,bt=Je=Ce=null,me=G;do{var Nt=me.lane&-536870913,_n=Nt!==me.lane;if(_n?(Fn&Nt)===Nt:(O&Nt)===Nt){Nt!==0&&Nt===Ua&&(Bd=!0),bt!==null&&(bt=bt.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var Fa=d,Hm=me;Nt=m;var fh=T;switch(Hm.tag){case 1:if(Fa=Hm.payload,typeof Fa=="function"){Ot=Fa.call(fh,Ot,Nt);break e}Ot=Fa;break e;case 3:Fa.flags=Fa.flags&-65537|128;case 0:if(Fa=Hm.payload,Nt=typeof Fa=="function"?Fa.call(fh,Ot,Nt):Fa,Nt==null)break e;Ot=Zf({},Ot,Nt);break e;case 2:Yc=!0}}Nt=me.callback,Nt!==null&&(d.flags|=64,_n&&(d.flags|=8192),_n=B.callbacks,_n===null?B.callbacks=[Nt]:_n.push(Nt))}else _n={lane:Nt,tag:me.tag,payload:me.payload,callback:me.callback,next:null},bt===null?(Je=bt=_n,Ce=Ot):bt=bt.next=_n,oe|=Nt;if(me=me.next,me===null){if(me=B.shared.pending,me===null)break;_n=me,me=_n.next,_n.next=null,B.lastBaseUpdate=_n,B.shared.pending=null}}while(!0);bt===null&&(Ce=Ot),B.baseState=Ce,B.firstBaseUpdate=Je,B.lastBaseUpdate=bt,G===null&&(B.shared.lanes=0),bo|=oe,d.lanes=oe,d.memoizedState=Ot}}function ve(d,m){if(typeof d!="function")throw Error(r(191,d));d.call(m)}function gt(d,m){var T=d.callbacks;if(T!==null)for(d.callbacks=null,d=0;d<T.length;d++)ve(T[d],m)}function Fe(d,m){if(fo(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var T=Object.keys(d),O=Object.keys(m);if(T.length!==O.length)return!1;for(O=0;O<T.length;O++){var B=T[O];if(!Bm.call(m,B)||!fo(d[B],m[B]))return!1}return!0}function Qe(d){return d=d.status,d==="fulfilled"||d==="rejected"}function xt(){}function _t(d,m,T){switch(T=d[T],T===void 0?d.push(m):T!==m&&(m.then(xt,xt),m=T),m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,d===Mi?Error(r(483)):d;default:if(typeof m.status=="string")m.then(xt,xt);else{if(d=qn,d!==null&&100<d.shellSuspendCounter)throw Error(r(482));d=m,d.status="pending",d.then(function(O){if(m.status==="pending"){var B=m;B.status="fulfilled",B.value=O}},function(O){if(m.status==="pending"){var B=m;B.status="rejected",B.reason=O}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,d===Mi?Error(r(483)):d}throw rh=m,Mi}}function Zt(){if(rh===null)throw Error(r(459));var d=rh;return rh=null,d}function $n(d){var m=Vo;return Vo+=1,oc===null&&(oc=[]),_t(oc,d,m)}function zt(d,m){m=m.props.ref,d.ref=m!==void 0?m:null}function Qt(d,m){throw m.$$typeof===B_?Error(r(525)):(d=Object.prototype.toString.call(m),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d)))}function St(d){var m=d._init;return m(d._payload)}function Mt(d){function m(Ue,Te){if(d){var He=Ue.deletions;He===null?(Ue.deletions=[Te],Ue.flags|=16):He.push(Te)}}function T(Ue,Te){if(!d)return null;for(;Te!==null;)m(Ue,Te),Te=Te.sibling;return null}function O(Ue){for(var Te=new Map;Ue!==null;)Ue.key!==null?Te.set(Ue.key,Ue):Te.set(Ue.index,Ue),Ue=Ue.sibling;return Te}function B(Ue,Te){return Ue=qs(Ue,Te),Ue.index=0,Ue.sibling=null,Ue}function G(Ue,Te,He){return Ue.index=He,d?(He=Ue.alternate,He!==null?(He=He.index,He<Te?(Ue.flags|=33554434,Te):He):(Ue.flags|=33554434,Te)):(Ue.flags|=1048576,Te)}function oe(Ue){return d&&Ue.alternate===null&&(Ue.flags|=33554434),Ue}function me(Ue,Te,He,ft){return Te===null||Te.tag!==6?(Te=zu(He,Ue.mode,ft),Te.return=Ue,Te):(Te=B(Te,He),Te.return=Ue,Te)}function Ce(Ue,Te,He,ft){var Wt=He.type;return Wt===Md?bt(Ue,Te,He.props.children,ft,He.key):Te!==null&&(Te.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===ml&&St(Wt)===Te.type)?(Te=B(Te,He.props),zt(Te,He),Te.return=Ue,Te):(Te=ko(He.type,He.key,He.props,null,Ue.mode,ft),zt(Te,He),Te.return=Ue,Te)}function Je(Ue,Te,He,ft){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==He.containerInfo||Te.stateNode.implementation!==He.implementation?(Te=Ad(He,Ue.mode,ft),Te.return=Ue,Te):(Te=B(Te,He.children||[]),Te.return=Ue,Te)}function bt(Ue,Te,He,ft,Wt){return Te===null||Te.tag!==7?(Te=jc(He,Ue.mode,ft,Wt),Te.return=Ue,Te):(Te=B(Te,He),Te.return=Ue,Te)}function Ot(Ue,Te,He){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Te=zu(""+Te,Ue.mode,He),Te.return=Ue,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case Gc:return He=ko(Te.type,Te.key,Te.props,null,Ue.mode,He),zt(He,Te),He.return=Ue,He;case pl:return Te=Ad(Te,Ue.mode,He),Te.return=Ue,Te;case ml:var ft=Te._init;return Te=ft(Te._payload),Ot(Ue,Te,He)}if(Hu(Te)||s(Te))return Te=jc(Te,Ue.mode,He,null),Te.return=Ue,Te;if(typeof Te.then=="function")return Ot(Ue,$n(Te),He);if(Te.$$typeof===tc)return Ot(Ue,je(Ue,Te),He);Qt(Ue,Te)}return null}function Nt(Ue,Te,He,ft){var Wt=Te!==null?Te.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Wt!==null?null:me(Ue,Te,""+He,ft);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case Gc:return He.key===Wt?Ce(Ue,Te,He,ft):null;case pl:return He.key===Wt?Je(Ue,Te,He,ft):null;case ml:return Wt=He._init,He=Wt(He._payload),Nt(Ue,Te,He,ft)}if(Hu(He)||s(He))return Wt!==null?null:bt(Ue,Te,He,ft,null);if(typeof He.then=="function")return Nt(Ue,Te,$n(He),ft);if(He.$$typeof===tc)return Nt(Ue,Te,je(Ue,He),ft);Qt(Ue,He)}return null}function _n(Ue,Te,He,ft,Wt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return Ue=Ue.get(He)||null,me(Te,Ue,""+ft,Wt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case Gc:return Ue=Ue.get(ft.key===null?He:ft.key)||null,Ce(Te,Ue,ft,Wt);case pl:return Ue=Ue.get(ft.key===null?He:ft.key)||null,Je(Te,Ue,ft,Wt);case ml:var ji=ft._init;return ft=ji(ft._payload),_n(Ue,Te,He,ft,Wt)}if(Hu(ft)||s(ft))return Ue=Ue.get(He)||null,bt(Te,Ue,ft,Wt,null);if(typeof ft.then=="function")return _n(Ue,Te,He,$n(ft),Wt);if(ft.$$typeof===tc)return _n(Ue,Te,He,je(Te,ft),Wt);Qt(Te,ft)}return null}function Fa(Ue,Te,He,ft){for(var Wt=null,ji=null,fn=Te,oi=Te=0,os=null;fn!==null&&oi<He.length;oi++){fn.index>oi?(os=fn,fn=null):os=fn.sibling;var li=Nt(Ue,fn,He[oi],ft);if(li===null){fn===null&&(fn=os);break}d&&fn&&li.alternate===null&&m(Ue,fn),Te=G(li,Te,oi),ji===null?Wt=li:ji.sibling=li,ji=li,fn=os}if(oi===He.length)return T(Ue,fn),si&&de(Ue,oi),Wt;if(fn===null){for(;oi<He.length;oi++)fn=Ot(Ue,He[oi],ft),fn!==null&&(Te=G(fn,Te,oi),ji===null?Wt=fn:ji.sibling=fn,ji=fn);return si&&de(Ue,oi),Wt}for(fn=O(fn);oi<He.length;oi++)os=_n(fn,Ue,oi,He[oi],ft),os!==null&&(d&&os.alternate!==null&&fn.delete(os.key===null?oi:os.key),Te=G(os,Te,oi),ji===null?Wt=os:ji.sibling=os,ji=os);return d&&fn.forEach(function(nu){return m(Ue,nu)}),si&&de(Ue,oi),Wt}function Hm(Ue,Te,He,ft){if(He==null)throw Error(r(151));for(var Wt=null,ji=null,fn=Te,oi=Te=0,os=null,li=He.next();fn!==null&&!li.done;oi++,li=He.next()){fn.index>oi?(os=fn,fn=null):os=fn.sibling;var nu=Nt(Ue,fn,li.value,ft);if(nu===null){fn===null&&(fn=os);break}d&&fn&&nu.alternate===null&&m(Ue,fn),Te=G(nu,Te,oi),ji===null?Wt=nu:ji.sibling=nu,ji=nu,fn=os}if(li.done)return T(Ue,fn),si&&de(Ue,oi),Wt;if(fn===null){for(;!li.done;oi++,li=He.next())li=Ot(Ue,li.value,ft),li!==null&&(Te=G(li,Te,oi),ji===null?Wt=li:ji.sibling=li,ji=li);return si&&de(Ue,oi),Wt}for(fn=O(fn);!li.done;oi++,li=He.next())li=_n(fn,Ue,oi,li.value,ft),li!==null&&(d&&li.alternate!==null&&fn.delete(li.key===null?oi:li.key),Te=G(li,Te,oi),ji===null?Wt=li:ji.sibling=li,ji=li);return d&&fn.forEach(function(nv){return m(Ue,nv)}),si&&de(Ue,oi),Wt}function fh(Ue,Te,He,ft){if(typeof He=="object"&&He!==null&&He.type===Md&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case Gc:e:{for(var Wt=He.key;Te!==null;){if(Te.key===Wt){if(Wt=He.type,Wt===Md){if(Te.tag===7){T(Ue,Te.sibling),ft=B(Te,He.props.children),ft.return=Ue,Ue=ft;break e}}else if(Te.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===ml&&St(Wt)===Te.type){T(Ue,Te.sibling),ft=B(Te,He.props),zt(ft,He),ft.return=Ue,Ue=ft;break e}T(Ue,Te);break}else m(Ue,Te);Te=Te.sibling}He.type===Md?(ft=jc(He.props.children,Ue.mode,ft,He.key),ft.return=Ue,Ue=ft):(ft=ko(He.type,He.key,He.props,null,Ue.mode,ft),zt(ft,He),ft.return=Ue,Ue=ft)}return oe(Ue);case pl:e:{for(Wt=He.key;Te!==null;){if(Te.key===Wt)if(Te.tag===4&&Te.stateNode.containerInfo===He.containerInfo&&Te.stateNode.implementation===He.implementation){T(Ue,Te.sibling),ft=B(Te,He.children||[]),ft.return=Ue,Ue=ft;break e}else{T(Ue,Te);break}else m(Ue,Te);Te=Te.sibling}ft=Ad(He,Ue.mode,ft),ft.return=Ue,Ue=ft}return oe(Ue);case ml:return Wt=He._init,He=Wt(He._payload),fh(Ue,Te,He,ft)}if(Hu(He))return Fa(Ue,Te,He,ft);if(s(He)){if(Wt=s(He),typeof Wt!="function")throw Error(r(150));return He=Wt.call(He),Hm(Ue,Te,He,ft)}if(typeof He.then=="function")return fh(Ue,Te,$n(He),ft);if(He.$$typeof===tc)return fh(Ue,Te,je(Ue,He),ft);Qt(Ue,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,Te!==null&&Te.tag===6?(T(Ue,Te.sibling),ft=B(Te,He),ft.return=Ue,Ue=ft):(T(Ue,Te),ft=zu(He,Ue.mode,ft),ft.return=Ue,Ue=ft),oe(Ue)):T(Ue,Te)}return function(Ue,Te,He,ft){try{Vo=0;var Wt=fh(Ue,Te,He,ft);return oc=null,Wt}catch(fn){if(fn===Mi)throw fn;var ji=t(29,fn,null,Ue.mode);return ji.lanes=ft,ji.return=Ue,ji}finally{}}}function kn(d,m){d=_l,w(yo,d),w(lc,m),_l=d|m.baseLanes}function vn(){w(yo,_l),w(lc,lc.current)}function zn(){_l=yo.current,x(lc),x(yo)}function Li(d){var m=d.alternate;w(qr,qr.current&1),w(vo,d),Ho===null&&(m===null||lc.current!==null||m.memoizedState!==null)&&(Ho=d)}function Rs(d){if(d.tag===22){if(w(qr,qr.current),w(vo,d),Ho===null){var m=d.alternate;m!==null&&m.memoizedState!==null&&(Ho=d)}}else $i()}function $i(){w(qr,qr.current),w(vo,vo.current)}function Fr(d){x(vo),Ho===d&&(Ho=null),x(qr)}function Vr(d){for(var m=d;m!==null;){if(m.tag===13){var T=m.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||zy(T)||Am(T)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function dn(){throw Error(r(321))}function fr(d,m){if(m===null)return!1;for(var T=0;T<m.length&&T<d.length;T++)if(!fo(d[T],m[T]))return!1;return!0}function aa(d,m,T,O,B,G){return cc=G,On=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,nn.H=d===null||d.memoizedState===null?Wr:Xs,Kc=!1,G=T(O,B),Kc=!1,Zi&&(G=io(m,T,O,B)),ll(d),G}function ll(d){nn.H=ai;var m=yi!==null&&yi.next!==null;if(cc=0,Ar=yi=On=null,jo=!1,gr=0,Fd=null,m)throw Error(r(300));d===null||Mr||(d=d.dependencies,d!==null&&X(d)&&(Mr=!0))}function io(d,m,T,O){On=d;var B=0;do{if(Zi&&(Fd=null),gr=0,Zi=!1,25<=B)throw Error(r(301));if(B+=1,Ar=yi=null,d.updateQueue!=null){var G=d.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}nn.H=Ku,G=m(T,O)}while(Zi);return G}function sd(){var d=nn.H,m=d.useState()[0];return m=typeof m.then=="function"?Le(m):m,d=d.useState()[0],(yi!==null?yi.memoizedState:null)!==d&&(On.flags|=1024),m}function Pc(){var d=Fm!==0;return Fm=0,d}function ro(d,m,T){m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~T}function cl(d){if(jo){for(d=d.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}jo=!1}cc=0,Ar=yi=On=null,Zi=!1,gr=Fm=0,Fd=null}function re(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?On.memoizedState=Ar=d:Ar=Ar.next=d,Ar}function _e(){if(yi===null){var d=On.alternate;d=d!==null?d.memoizedState:null}else d=yi.next;var m=Ar===null?On.memoizedState:Ar.next;if(m!==null)Ar=m,yi=d;else{if(d===null)throw On.alternate===null?Error(r(467)):Error(r(310));yi=d,d={memoizedState:yi.memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},Ar===null?On.memoizedState=Ar=d:Ar=Ar.next=d}return Ar}function Le(d){var m=gr;return gr+=1,Fd===null&&(Fd=[]),d=_t(Fd,d,m),m=On,(Ar===null?m.memoizedState:Ar.next)===null&&(m=m.alternate,nn.H=m===null||m.memoizedState===null?Wr:Xs),d}function De(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return Le(d);if(d.$$typeof===tc)return Ee(d)}throw Error(r(438,String(d)))}function xe(d){var m=null,T=On.updateQueue;if(T!==null&&(m=T.memoCache),m==null){var O=On.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(m={data:O.data.map(function(B){return B.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),T===null&&(T=Yy(),On.updateQueue=T),T.memoCache=m,T=m.data[m.index],T===void 0)for(T=m.data[m.index]=Array(d),O=0;O<d;O++)T[O]=JS;return m.index++,T}function st(d,m){return typeof m=="function"?m(d):m}function Tt(d){var m=_e();return Ct(m,yi,d)}function Ct(d,m,T){var O=d.queue;if(O===null)throw Error(r(311));O.lastRenderedReducer=T;var B=d.baseQueue,G=O.pending;if(G!==null){if(B!==null){var oe=B.next;B.next=G.next,G.next=oe}m.baseQueue=B=G,O.pending=null}if(G=d.baseState,B===null)d.memoizedState=G;else{m=B.next;var me=oe=null,Ce=null,Je=m,bt=!1;do{var Ot=Je.lane&-536870913;if(Ot!==Je.lane?(Fn&Ot)===Ot:(cc&Ot)===Ot){var Nt=Je.revertLane;if(Nt===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),Ot===Ua&&(bt=!0);else if((cc&Nt)===Nt){Je=Je.next,Nt===Ua&&(bt=!0);continue}else Ot={lane:0,revertLane:Je.revertLane,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Ce===null?(me=Ce=Ot,oe=G):Ce=Ce.next=Ot,On.lanes|=Nt,bo|=Nt;Ot=Je.action,Kc&&T(G,Ot),G=Je.hasEagerState?Je.eagerState:T(G,Ot)}else Nt={lane:Ot,revertLane:Je.revertLane,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Ce===null?(me=Ce=Nt,oe=G):Ce=Ce.next=Nt,On.lanes|=Ot,bo|=Ot;Je=Je.next}while(Je!==null&&Je!==m);if(Ce===null?oe=G:Ce.next=me,!fo(G,d.memoizedState)&&(Mr=!0,bt&&(T=Xu,T!==null)))throw T;d.memoizedState=G,d.baseState=oe,d.baseQueue=Ce,O.lastRenderedState=G}return B===null&&(O.lanes=0),[d.memoizedState,O.dispatch]}function Rt(d){var m=_e(),T=m.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=d;var O=T.dispatch,B=T.pending,G=m.memoizedState;if(B!==null){T.pending=null;var oe=B=B.next;do G=d(G,oe.action),oe=oe.next;while(oe!==B);fo(G,m.memoizedState)||(Mr=!0),m.memoizedState=G,m.baseQueue===null&&(m.baseState=G),T.lastRenderedState=G}return[G,O]}function sn(d,m,T){var O=On,B=_e(),G=si;if(G){if(T===void 0)throw Error(r(407));T=T()}else T=m();var oe=!fo((yi||B).memoizedState,T);if(oe&&(B.memoizedState=T,Mr=!0),B=B.queue,Lf(Bn.bind(null,O,B,d),[d]),B.getSnapshot!==m||oe||Ar!==null&&Ar.memoizedState.tag&1){if(O.flags|=2048,Os(9,Gt.bind(null,O,B,T,m),{destroy:void 0},null),qn===null)throw Error(r(349));G||(cc&60)!==0||Jt(O,m,T)}return T}function Jt(d,m,T){d.flags|=16384,d={getSnapshot:m,value:T},m=On.updateQueue,m===null?(m=Yy(),On.updateQueue=m,m.stores=[d]):(T=m.stores,T===null?m.stores=[d]:T.push(d))}function Gt(d,m,T,O){m.value=T,m.getSnapshot=O,Ln(m)&&bi(d)}function Bn(d,m,T){return T(function(){Ln(m)&&bi(d)})}function Ln(d){var m=d.getSnapshot;d=d.value;try{var T=m();return!fo(d,T)}catch{return!0}}function bi(d){var m=Ne(d,2);m!==null&&Gs(m,d,2)}function Wn(d){var m=re();if(typeof d=="function"){var T=d;if(d=T(),Kc){$(!0);try{T()}finally{$(!1)}}}return m.memoizedState=m.baseState=d,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:d},m}function on(d,m,T,O){return d.baseState=T,Ct(d,yi,typeof O=="function"?O:st)}function $t(d,m,T,O,B){if(Gl(d))throw Error(r(485));if(d=m.action,d!==null){var G={payload:B,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(oe){G.listeners.push(oe)}};nn.T!==null?T(!0):G.isTransition=!1,O(G),T=m.pending,T===null?(G.next=m.pending=G,hr(m,G)):(G.next=T.next,m.pending=T.next=G)}}function hr(d,m){var T=m.action,O=m.payload,B=d.state;if(m.isTransition){var G=nn.T,oe={};nn.T=oe;try{var me=T(B,O),Ce=nn.S;Ce!==null&&Ce(oe,me),Gn(d,m,me)}catch(Je){oa(d,m,Je)}finally{nn.T=G}}else try{G=T(B,O),Gn(d,m,G)}catch(Je){oa(d,m,Je)}}function Gn(d,m,T){T!==null&&typeof T=="object"&&typeof T.then=="function"?T.then(function(O){ms(d,m,O)},function(O){return oa(d,m,O)}):ms(d,m,T)}function ms(d,m,T){m.status="fulfilled",m.value=T,nr(m),d.state=T,m=d.pending,m!==null&&(T=m.next,T===m?d.pending=null:(T=T.next,m.next=T,hr(d,T)))}function oa(d,m,T){var O=d.pending;if(d.pending=null,O!==null){O=O.next;do m.status="rejected",m.reason=T,nr(m),m=m.next;while(m!==O)}d.action=null}function nr(d){d=d.listeners;for(var m=0;m<d.length;m++)(0,d[m])()}function Ai(d,m){return m}function ei(d,m){if(si){var T=qn.formState;if(T!==null){e:{var O=On;if(si){if(Ls){var B=aE(Ls,Fo);if(B){Ls=o1(B),O=oE(B);break e}}Ve(O)}O=!1}O&&(m=T[0])}}T=re(),T.memoizedState=T.baseState=m,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:m},T.queue=O,T=kf.bind(null,On,O),O.dispatch=T,O=Wn(!1);var G=jl.bind(null,On,!1,O.queue);return O=re(),B={state:m,dispatch:null,action:d,pending:null},O.queue=B,T=$t.bind(null,On,B,G,T),B.dispatch=T,O.memoizedState=d,[m,T,!1]}function Er(d){var m=_e();return Hr(m,yi,d)}function Hr(d,m,T){m=Ct(d,m,Ai)[0],d=Tt(st)[0],m=typeof m=="object"&&m!==null&&typeof m.then=="function"?Le(m):m;var O=_e(),B=O.queue,G=B.dispatch;return T!==O.memoizedState&&(On.flags|=2048,Os(9,cn.bind(null,B,T),{destroy:void 0},null)),[m,G,d]}function cn(d,m){d.action=m}function or(d){var m=_e(),T=yi;if(T!==null)return Hr(m,T,d);_e(),m=m.memoizedState,T=_e();var O=T.queue.dispatch;return T.memoizedState=d,[m,O,!1]}function Os(d,m,T,O){return d={tag:d,create:m,inst:T,deps:O,next:null},m=On.updateQueue,m===null&&(m=Yy(),On.updateQueue=m),T=m.lastEffect,T===null?m.lastEffect=d.next=d:(O=T.next,T.next=d,d.next=O,m.lastEffect=d),d}function Tr(){return _e().memoizedState}function ad(d,m,T,O){var B=re();On.flags|=d,B.memoizedState=Os(1|m,T,{destroy:void 0},O===void 0?null:O)}function Eu(d,m,T,O){var B=_e();O=O===void 0?null:O;var G=B.memoizedState.inst;yi!==null&&O!==null&&fr(O,yi.memoizedState.deps)?B.memoizedState=Os(m,T,G,O):(On.flags|=d,B.memoizedState=Os(1|m,T,G,O))}function nm(d,m){ad(8390656,8,d,m)}function Lf(d,m){Eu(2048,8,d,m)}function hy(d,m){return Eu(4,2,d,m)}function dy(d,m){return Eu(4,4,d,m)}function ul(d,m){if(typeof m=="function"){d=d();var T=m(d);return function(){typeof T=="function"?T():m(null)}}if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function is(d,m,T){T=T!=null?T.concat([d]):null,Eu(4,4,ul.bind(null,m,d),T)}function Tu(){}function Uf(d,m){var T=_e();m=m===void 0?null:m;var O=T.memoizedState;return m!==null&&fr(m,O[1])?O[0]:(T.memoizedState=[d,m],d)}function Vl(d,m){var T=_e();m=m===void 0?null:m;var O=T.memoizedState;if(m!==null&&fr(m,O[1]))return O[0];if(O=d(),Kc){$(!0);try{d()}finally{$(!1)}}return T.memoizedState=[O,m],O}function la(d,m,T){return T===void 0||(cc&1073741824)!==0?d.memoizedState=m:(d.memoizedState=T,d=Zl(),On.lanes|=d,bo|=d,T)}function im(d,m,T,O){return fo(T,m)?T:lc.current!==null?(d=la(d,T,O),fo(d,m)||(Mr=!0),d):(cc&42)===0?(Mr=!0,d.memoizedState=T):(d=Zl(),On.lanes|=d,bo|=d,m)}function od(d,m,T,O,B){var G=ss();Ws(G!==0&&8>G?G:8);var oe=nn.T,me={};nn.T=me,jl(d,!1,m,T);try{var Ce=B(),Je=nn.S;if(Je!==null&&Je(me,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var bt=kt(Ce,O);Ma(d,m,bt,ha(d))}else Ma(d,m,O,ha(d))}catch(Ot){Ma(d,m,{then:function(){},status:"rejected",reason:Ot},ha())}finally{Ws(G),nn.T=oe}}function rm(d){var m=d.memoizedState;if(m!==null)return m;m={memoizedState:Da,baseState:Da,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:Da},next:null};var T={};return m.next={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:T},next:null},d.memoizedState=m,d=d.alternate,d!==null&&(d.memoizedState=m),m}function Fs(){return Ee(un)}function No(){return _e().memoizedState}function ld(){return _e().memoizedState}function Hl(d){for(var m=d.return;m!==null;){switch(m.tag){case 24:case 3:var T=ha();d=wt(T);var O=At(m,d,T);O!==null&&(Gs(O,m,T),vt(O,m,T)),m={cache:fi()},d.payload=m;return}m=m.return}}function so(d,m,T){var O=ha();T={lane:O,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null},Gl(d)?Dc(m,T):(T=Be(d,m,T,O),T!==null&&(Gs(T,d,O),Vi(T,m,O)))}function kf(d,m,T){var O=ha();Ma(d,m,T,O)}function Ma(d,m,T,O){var B={lane:O,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null};if(Gl(d))Dc(m,B);else{var G=d.alternate;if(d.lanes===0&&(G===null||G.lanes===0)&&(G=m.lastRenderedReducer,G!==null))try{var oe=m.lastRenderedState,me=G(oe,T);if(B.hasEagerState=!0,B.eagerState=me,fo(me,oe))return Oe(d,m,B,0),qn===null&&te(),!1}catch{}finally{}if(T=Be(d,m,B,O),T!==null)return Gs(T,d,O),Vi(T,m,O),!0}return!1}function jl(d,m,T,O){if(O={lane:2,revertLane:lt(),action:O,hasEagerState:!1,eagerState:null,next:null},Gl(d)){if(m)throw Error(r(479))}else m=Be(d,T,O,2),m!==null&&Gs(m,d,2)}function Gl(d){var m=d.alternate;return d===On||m!==null&&m===On}function Dc(d,m){Zi=jo=!0;var T=d.pending;T===null?m.next=m:(m.next=T.next,T.next=m),d.pending=m}function Vi(d,m,T){if((T&4194176)!==0){var O=m.lanes;O&=d.pendingLanes,T|=O,m.lanes=T,K(d,T)}}function gs(d,m,T,O){m=d.memoizedState,T=T(O,m),T=T==null?m:Zf({},m,T),d.memoizedState=T,d.lanes===0&&(d.updateQueue.baseState=T)}function ql(d,m,T,O,B,G,oe){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(O,G,oe):m.prototype&&m.prototype.isPureReactComponent?!Fe(T,O)||!Fe(B,G):!0}function wu(d,m,T,O){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(T,O),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(T,O),m.state!==d&&Ky.enqueueReplaceState(m,m.state,null)}function Ra(d,m){var T=m;if("ref"in m){T={};for(var O in m)O!=="ref"&&(T[O]=m[O])}if(d=d.defaultProps){T===m&&(T=Zf({},T));for(var B in d)T[B]===void 0&&(T[B]=d[B])}return T}function zf(d,m){try{var T=d.onUncaughtError;T(m.value,{componentStack:m.stack})}catch(O){setTimeout(function(){throw O})}}function Nc(d,m,T){try{var O=d.onCaughtError;O(T.value,{componentStack:T.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function Cu(d,m,T){return T=wt(T),T.tag=3,T.payload={element:null},T.callback=function(){zf(d,m)},T}function Vs(d){return d=wt(d),d.tag=3,d}function Au(d,m,T,O){var B=T.type.getDerivedStateFromError;if(typeof B=="function"){var G=O.value;d.payload=function(){return B(G)},d.callback=function(){Nc(m,T,O)}}var oe=T.stateNode;oe!==null&&typeof oe.componentDidCatch=="function"&&(d.callback=function(){Nc(m,T,O),typeof B!="function"&&(So===null?So=new Set([this]):So.add(this));var me=O.stack;this.componentDidCatch(O.value,{componentStack:me!==null?me:""})})}function py(d,m,T,O,B){if(T.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(m=T.alternate,m!==null&&j(m,T,B,!0),T=vo.current,T!==null){switch(T.tag){case 13:return Ho===null?Pa():T.alternate===null&&ni===0&&(ni=3),T.flags&=-257,T.flags|=65536,T.lanes=B,O===Xy?T.flags|=16384:(m=T.updateQueue,m===null?T.updateQueue=new Set([O]):m.add(O),Cy(d,O,B)),!1;case 22:return T.flags|=65536,O===Xy?T.flags|=16384:(m=T.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([O])},T.updateQueue=m):(T=m.retryQueue,T===null?m.retryQueue=new Set([O]):T.add(O)),Cy(d,O,B)),!1}throw Error(r(435,T.tag))}return Cy(d,O,B),Pa(),!1}if(si)return m=vo.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=B,O!==Lm&&(d=Error(r(422),{cause:O}),pt(se(d,T)))):(O!==Lm&&(m=Error(r(423),{cause:O}),pt(se(m,T))),d=d.current.alternate,d.flags|=65536,B&=-B,d.lanes|=B,O=se(O,T),B=Cu(d.stateNode,O,B),jt(d,B),ni!==4&&(ni=2)),!1;var G=Error(r(520),{cause:O});if(G=se(G,T),Hd===null?Hd=[G]:Hd.push(G),ni!==4&&(ni=2),m===null)return!0;O=se(O,T),T=m;do{switch(T.tag){case 3:return T.flags|=65536,d=B&-B,T.lanes|=d,d=Cu(T.stateNode,O,d),jt(T,d),!1;case 1:if(m=T.type,G=T.stateNode,(T.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(So===null||!So.has(G))))return T.flags|=65536,B&=-B,T.lanes|=B,B=Vs(B),Au(B,d,T,O),jt(T,B),!1}T=T.return}while(T!==null);return!1}function lr(d,m,T,O){m.child=d===null?S1(m,null,T,O):Yu(m,d.child,T,O)}function sm(d,m,T,O,B){T=T.render;var G=m.ref;if("ref"in O){var oe={};for(var me in O)me!=="ref"&&(oe[me]=O[me])}else oe=O;return ce(m),O=aa(d,m,T,oe,G,B),me=Pc(),d!==null&&!Mr?(ro(d,m,B),Lo(d,m,B)):(si&&me&&le(m),m.flags|=1,lr(d,m,O,B),m.child)}function cd(d,m,T,O,B){if(d===null){var G=T.type;return typeof G=="function"&&!Vc(G)&&G.defaultProps===void 0&&T.compare===null?(m.tag=15,m.type=G,Lc(d,m,G,O,B)):(d=ko(T.type,null,O,m,m.mode,B),d.ref=m.ref,d.return=m,m.child=d)}if(G=d.child,!pd(d,B)){var oe=G.memoizedProps;if(T=T.compare,T=T!==null?T:Fe,T(oe,O)&&d.ref===m.ref)return Lo(d,m,B)}return m.flags|=1,d=qs(G,O),d.ref=m.ref,d.return=m,m.child=d}function Lc(d,m,T,O,B){if(d!==null){var G=d.memoizedProps;if(Fe(G,O)&&d.ref===m.ref)if(Mr=!1,m.pendingProps=O=G,pd(d,B))(d.flags&131072)!==0&&(Mr=!0);else return m.lanes=d.lanes,Lo(d,m,B)}return ud(d,m,T,O,B)}function am(d,m,T){var O=m.pendingProps,B=O.children,G=(m.stateNode._pendingVisibility&2)!==0,oe=d!==null?d.memoizedState:null;if(Ff(d,m),O.mode==="hidden"||G){if((m.flags&128)!==0){if(O=oe!==null?oe.baseLanes|T:T,d!==null){for(B=m.child=d.child,G=0;B!==null;)G=G|B.lanes|B.childLanes,B=B.sibling;m.childLanes=G&~O}else m.childLanes=0,m.child=null;return Bf(d,m,O,T)}if((T&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},d!==null&&wr(m,oe!==null?oe.cachePool:null),oe!==null?kn(m,oe):vn(),Rs(m);else return m.lanes=m.childLanes=536870912,Bf(d,m,oe!==null?oe.baseLanes|T:T,T)}else oe!==null?(wr(m,oe.cachePool),kn(m,oe),$i(),m.memoizedState=null):(d!==null&&wr(m,null),vn(),$i());return lr(d,m,B,T),m.child}function Bf(d,m,T,O){var B=Rn();return B=B===null?null:{parent:ic?xi._currentValue:xi._currentValue2,pool:B},m.memoizedState={baseLanes:T,cachePool:B},d!==null&&wr(m,null),vn(),Rs(m),d!==null&&j(d,m,O,!0),null}function Ff(d,m){var T=m.ref;if(T===null)d!==null&&d.ref!==null&&(m.flags|=2097664);else{if(typeof T!="function"&&typeof T!="object")throw Error(r(284));(d===null||d.ref!==T)&&(m.flags|=2097664)}}function ud(d,m,T,O,B){return ce(m),T=aa(d,m,T,O,void 0,B),O=Pc(),d!==null&&!Mr?(ro(d,m,B),Lo(d,m,B)):(si&&O&&le(m),m.flags|=1,lr(d,m,T,B),m.child)}function Mu(d,m,T,O,B,G){return ce(m),m.updateQueue=null,T=io(m,O,T,B),ll(d),O=Pc(),d!==null&&!Mr?(ro(d,m,G),Lo(d,m,G)):(si&&O&&le(m),m.flags|=1,lr(d,m,T,G),m.child)}function fd(d,m,T,O,B){if(ce(m),m.stateNode===null){var G=nh,oe=T.contextType;typeof oe=="object"&&oe!==null&&(G=Ee(oe)),G=new T(O,G),m.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=Ky,m.stateNode=G,G._reactInternals=m,G=m.stateNode,G.props=O,G.state=m.memoizedState,G.refs={},$e(m),oe=T.contextType,G.context=typeof oe=="object"&&oe!==null?Ee(oe):nh,G.state=m.memoizedState,oe=T.getDerivedStateFromProps,typeof oe=="function"&&(gs(m,T,oe,O),G.state=m.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(oe=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),oe!==G.state&&Ky.enqueueReplaceState(G,G.state,null),Lt(m,O,G,B),at(),G.state=m.memoizedState),typeof G.componentDidMount=="function"&&(m.flags|=4194308),O=!0}else if(d===null){G=m.stateNode;var me=m.memoizedProps,Ce=Ra(T,me);G.props=Ce;var Je=G.context,bt=T.contextType;oe=nh,typeof bt=="object"&&bt!==null&&(oe=Ee(bt));var Ot=T.getDerivedStateFromProps;bt=typeof Ot=="function"||typeof G.getSnapshotBeforeUpdate=="function",me=m.pendingProps!==me,bt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(me||Je!==oe)&&wu(m,G,O,oe),Yc=!1;var Nt=m.memoizedState;G.state=Nt,Lt(m,O,G,B),at(),Je=m.memoizedState,me||Nt!==Je||Yc?(typeof Ot=="function"&&(gs(m,T,Ot,O),Je=m.memoizedState),(Ce=Yc||ql(m,T,Ce,O,Nt,Je,oe))?(bt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(m.flags|=4194308)):(typeof G.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=O,m.memoizedState=Je),G.props=O,G.state=Je,G.context=oe,O=Ce):(typeof G.componentDidMount=="function"&&(m.flags|=4194308),O=!1)}else{G=m.stateNode,dt(d,m),oe=m.memoizedProps,bt=Ra(T,oe),G.props=bt,Ot=m.pendingProps,Nt=G.context,Je=T.contextType,Ce=nh,typeof Je=="object"&&Je!==null&&(Ce=Ee(Je)),me=T.getDerivedStateFromProps,(Je=typeof me=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(oe!==Ot||Nt!==Ce)&&wu(m,G,O,Ce),Yc=!1,Nt=m.memoizedState,G.state=Nt,Lt(m,O,G,B),at();var _n=m.memoizedState;oe!==Ot||Nt!==_n||Yc||d!==null&&d.dependencies!==null&&X(d.dependencies)?(typeof me=="function"&&(gs(m,T,me,O),_n=m.memoizedState),(bt=Yc||ql(m,T,bt,O,Nt,_n,Ce)||d!==null&&d.dependencies!==null&&X(d.dependencies))?(Je||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(O,_n,Ce),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(O,_n,Ce)),typeof G.componentDidUpdate=="function"&&(m.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof G.componentDidUpdate!="function"||oe===d.memoizedProps&&Nt===d.memoizedState||(m.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||oe===d.memoizedProps&&Nt===d.memoizedState||(m.flags|=1024),m.memoizedProps=O,m.memoizedState=_n),G.props=O,G.state=_n,G.context=Ce,O=bt):(typeof G.componentDidUpdate!="function"||oe===d.memoizedProps&&Nt===d.memoizedState||(m.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||oe===d.memoizedProps&&Nt===d.memoizedState||(m.flags|=1024),O=!1)}return G=O,Ff(d,m),O=(m.flags&128)!==0,G||O?(G=m.stateNode,T=O&&typeof T.getDerivedStateFromError!="function"?null:G.render(),m.flags|=1,d!==null&&O?(m.child=Yu(m,d.child,null,B),m.child=Yu(m,null,T,B)):lr(d,m,T,B),m.memoizedState=G.state,d=m.child):d=Lo(d,m,B),d}function om(d,m,T,O){return ot(),m.flags|=256,lr(d,m,T,O),m.child}function Vf(d){return{baseLanes:d,cachePool:rs()}}function Hf(d,m,T){return d=d!==null?d.childLanes&~T:0,m&&(d|=Ba),d}function lm(d,m,T){var O=m.pendingProps,B=!1,G=(m.flags&128)!==0,oe;if((oe=G)||(oe=d!==null&&d.memoizedState===null?!1:(qr.current&2)!==0),oe&&(B=!0,m.flags&=-129),oe=(m.flags&32)!==0,m.flags&=-33,d===null){if(si){if(B?Li(m):$i(),si){var me=Ls,Ce;(Ce=me)&&(me=hE(me,Fo),me!==null?(m.memoizedState={dehydrated:me,treeContext:gl!==null?{id:ac,overflow:Bo}:null,retryLane:536870912},Ce=t(18,null,null,0),Ce.stateNode=me,Ce.return=m,m.child=Ce,$s=m,Ls=null,Ce=!0):Ce=!1),Ce||Ve(m)}if(me=m.memoizedState,me!==null&&(me=me.dehydrated,me!==null))return Am(me)?m.lanes=16:m.lanes=536870912,null;Fr(m)}return me=O.children,O=O.fallback,B?($i(),B=m.mode,me=hd({mode:"hidden",children:me},B),O=jc(O,B,T,null),me.return=m,O.return=m,me.sibling=O,m.child=me,B=m.child,B.memoizedState=Vf(T),B.childLanes=Hf(d,oe,T),m.memoizedState=Ys,O):(Li(m),Wl(m,me))}if(Ce=d.memoizedState,Ce!==null&&(me=Ce.dehydrated,me!==null)){if(G)m.flags&256?(Li(m),m.flags&=-257,m=dd(d,m,T)):m.memoizedState!==null?($i(),m.child=d.child,m.flags|=128,m=null):($i(),B=O.fallback,me=m.mode,O=hd({mode:"visible",children:O.children},me),B=jc(B,me,T,null),B.flags|=2,O.return=m,B.return=m,O.sibling=B,m.child=O,Yu(m,d.child,null,T),O=m.child,O.memoizedState=Vf(T),O.childLanes=Hf(d,oe,T),m.memoizedState=Ys,m=B);else if(Li(m),Am(me))oe=sE(me).digest,O=Error(r(419)),O.stack="",O.digest=oe,pt({value:O,source:null,stack:null}),m=dd(d,m,T);else if(Mr||j(d,m,T,!1),oe=(T&d.childLanes)!==0,Mr||oe){if(oe=qn,oe!==null){if(O=T&-T,(O&42)!==0)O=1;else switch(O){case 2:O=1;break;case 8:O=4;break;case 32:O=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:O=64;break;case 268435456:O=134217728;break;default:O=0}if(O=(O&(oe.suspendedLanes|T))!==0?0:O,O!==0&&O!==Ce.retryLane)throw Ce.retryLane=O,Ne(d,O),Gs(oe,d,O),AE}zy(me)||Pa(),m=dd(d,m,T)}else zy(me)?(m.flags|=128,m.child=d.child,m=Yf.bind(null,d),BM(me,m),m=null):(d=Ce.treeContext,da&&(Ls=cE(me),$s=m,si=!0,mo=null,Fo=!1,d!==null&&(ho[po++]=ac,ho[po++]=Bo,ho[po++]=gl,ac=d.id,Bo=d.overflow,gl=m)),m=Wl(m,O.children),m.flags|=4096);return m}return B?($i(),B=O.fallback,me=m.mode,Ce=d.child,G=Ce.sibling,O=qs(Ce,{mode:"hidden",children:O.children}),O.subtreeFlags=Ce.subtreeFlags&31457280,G!==null?B=qs(G,B):(B=jc(B,me,T,null),B.flags|=2),B.return=m,O.return=m,O.sibling=B,m.child=O,O=B,B=m.child,me=d.child.memoizedState,me===null?me=Vf(T):(Ce=me.cachePool,Ce!==null?(G=ic?xi._currentValue:xi._currentValue2,Ce=Ce.parent!==G?{parent:G,pool:G}:Ce):Ce=rs(),me={baseLanes:me.baseLanes|T,cachePool:Ce}),B.memoizedState=me,B.childLanes=Hf(d,oe,T),m.memoizedState=Ys,O):(Li(m),T=d.child,d=T.sibling,T=qs(T,{mode:"visible",children:O.children}),T.return=m,T.sibling=null,d!==null&&(oe=m.deletions,oe===null?(m.deletions=[d],m.flags|=16):oe.push(d)),m.child=T,m.memoizedState=null,T)}function Wl(d,m){return m=hd({mode:"visible",children:m},d.mode),m.return=d,d.child=m}function hd(d,m){return Ay(d,m,0,null)}function dd(d,m,T){return Yu(m,d.child,null,T),d=Wl(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function $l(d,m,T){d.lanes|=m;var O=d.alternate;O!==null&&(O.lanes|=m),Xl(d.return,m,T)}function jf(d,m,T,O,B){var G=d.memoizedState;G===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:O,tail:T,tailMode:B}:(G.isBackwards=m,G.rendering=null,G.renderingStartTime=0,G.last=O,G.tail=T,G.tailMode=B)}function cm(d,m,T){var O=m.pendingProps,B=O.revealOrder,G=O.tail;if(lr(d,m,O.children,T),O=qr.current,(O&2)!==0)O=O&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&$l(d,T,m);else if(d.tag===19)$l(d,T,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}O&=1}switch(w(qr,O),B){case"forwards":for(T=m.child,B=null;T!==null;)d=T.alternate,d!==null&&Vr(d)===null&&(B=T),T=T.sibling;T=B,T===null?(B=m.child,m.child=null):(B=T.sibling,T.sibling=null),jf(m,!1,B,T,G);break;case"backwards":for(T=null,B=m.child,m.child=null;B!==null;){if(d=B.alternate,d!==null&&Vr(d)===null){m.child=B;break}d=B.sibling,B.sibling=T,T=B,B=d}jf(m,!0,T,null,G);break;case"together":jf(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Lo(d,m,T){if(d!==null&&(m.dependencies=d.dependencies),bo|=m.lanes,(T&m.childLanes)===0)if(d!==null){if(j(d,m,T,!1),(T&m.childLanes)===0)return null}else return null;if(d!==null&&m.child!==d.child)throw Error(r(153));if(m.child!==null){for(d=m.child,T=qs(d,d.pendingProps),m.child=T,T.return=m;d.sibling!==null;)d=d.sibling,T=T.sibling=qs(d,d.pendingProps),T.return=m;T.sibling=null}return m.child}function pd(d,m){return(d.lanes&m)!==0?!0:(d=d.dependencies,!!(d!==null&&X(d)))}function md(d,m,T){switch(m.tag){case 3:ue(m,m.stateNode.containerInfo),fl(m,xi,d.memoizedState.cache),ot();break;case 27:case 5:he(m);break;case 4:ue(m,m.stateNode.containerInfo);break;case 10:fl(m,m.type,m.memoizedProps.value);break;case 13:var O=m.memoizedState;if(O!==null)return O.dehydrated!==null?(Li(m),m.flags|=128,null):(T&m.child.childLanes)!==0?lm(d,m,T):(Li(m),d=Lo(d,m,T),d!==null?d.sibling:null);Li(m);break;case 19:var B=(d.flags&128)!==0;if(O=(T&m.childLanes)!==0,O||(j(d,m,T,!1),O=(T&m.childLanes)!==0),B){if(O)return cm(d,m,T);m.flags|=128}if(B=m.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),w(qr,qr.current),O)break;return null;case 22:case 23:return m.lanes=0,am(d,m,T);case 24:fl(m,xi,d.memoizedState.cache)}return Lo(d,m,T)}function Hs(d,m,T){if(d!==null)if(d.memoizedProps!==m.pendingProps)Mr=!0;else{if(!pd(d,T)&&(m.flags&128)===0)return Mr=!1,md(d,m,T);Mr=(d.flags&131072)!==0}else Mr=!1,si&&(m.flags&1048576)!==0&&Y(m,Dm,m.index);switch(m.lanes=0,m.tag){case 16:e:{d=m.pendingProps;var O=m.elementType,B=O._init;if(O=B(O._payload),m.type=O,typeof O=="function")Vc(O)?(d=Ra(O,d),m.tag=1,m=fd(null,m,O,d,T)):(m.tag=0,m=ud(null,m,O,d,T));else{if(O!=null){if(B=O.$$typeof,B===Rd){m.tag=11,m=sm(null,m,O,d,T);break e}else if(B===_m){m.tag=14,m=cd(null,m,O,d,T);break e}}throw m=a(O)||O,Error(r(306,m,""))}}return m;case 0:return ud(d,m,m.type,m.pendingProps,T);case 1:return O=m.type,B=Ra(O,m.pendingProps),fd(d,m,O,B,T);case 3:e:{if(ue(m,m.stateNode.containerInfo),d===null)throw Error(r(387));var G=m.pendingProps;B=m.memoizedState,O=B.element,dt(d,m),Lt(m,G,null,T);var oe=m.memoizedState;if(G=oe.cache,fl(m,xi,G),G!==B.cache&&A(m,[xi],T,!0),at(),G=oe.element,da&&B.isDehydrated)if(B={element:G,isDehydrated:!1,cache:oe.cache},m.updateQueue.baseState=B,m.memoizedState=B,m.flags&256){m=om(d,m,G,T);break e}else if(G!==O){O=se(Error(r(424)),m),pt(O),m=om(d,m,G,T);break e}else for(da&&(Ls=lE(m.stateNode.containerInfo),$s=m,si=!0,mo=null,Fo=!0),T=S1(m,null,G,T),m.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(ot(),G===O){m=Lo(d,m,T);break e}lr(d,m,G,T)}m=m.child}return m;case 26:if(uo)return Ff(d,m),d===null?(T=jy(m.type,null,m.pendingProps,null))?m.memoizedState=T:si||(m.stateNode=VM(m.type,m.pendingProps,yl.current,m)):m.memoizedState=jy(m.type,d.memoizedProps,m.pendingProps,d.memoizedState),null;case 27:if(Ds)return he(m),d===null&&Ds&&si&&(O=m.stateNode=v1(m.type,m.pendingProps,yl.current,xs.current,!1),$s=m,Fo=!0,Ls=By(O)),O=m.pendingProps.children,d!==null||si?lr(d,m,O,T):m.child=Yu(m,null,O,T),Ff(d,m),m.child;case 5:return d===null&&si&&(yE(m.type,m.pendingProps,xs.current),(B=O=Ls)&&(O=uE(O,m.type,m.pendingProps,Fo),O!==null?(m.stateNode=O,$s=m,Ls=By(O),Fo=!1,B=!0):B=!1),B||Ve(m)),he(m),B=m.type,G=m.pendingProps,oe=d!==null?d.memoizedProps:null,O=G.children,Gu(B,G)?O=null:oe!==null&&Gu(B,oe)&&(m.flags|=32),m.memoizedState!==null&&(B=aa(d,m,sd,null,null,T),ic?un._currentValue=B:un._currentValue2=B),Ff(d,m),lr(d,m,O,T),m.child;case 6:return d===null&&si&&(vE(m.pendingProps,xs.current),(d=T=Ls)&&(T=fE(T,m.pendingProps,Fo),T!==null?(m.stateNode=T,$s=m,Ls=null,d=!0):d=!1),d||Ve(m)),null;case 13:return lm(d,m,T);case 4:return ue(m,m.stateNode.containerInfo),O=m.pendingProps,d===null?m.child=Yu(m,null,O,T):lr(d,m,O,T),m.child;case 11:return sm(d,m,m.type,m.pendingProps,T);case 7:return lr(d,m,m.pendingProps,T),m.child;case 8:return lr(d,m,m.pendingProps.children,T),m.child;case 12:return lr(d,m,m.pendingProps.children,T),m.child;case 10:return O=m.pendingProps,fl(m,m.type,O.value),lr(d,m,O.children,T),m.child;case 9:return B=m.type._context,O=m.pendingProps.children,ce(m),B=Ee(B),O=O(B),m.flags|=1,lr(d,m,O,T),m.child;case 14:return cd(d,m,m.type,m.pendingProps,T);case 15:return Lc(d,m,m.type,m.pendingProps,T);case 19:return cm(d,m,T);case 22:return am(d,m,T);case 24:return ce(m),O=Ee(xi),d===null?(B=Rn(),B===null&&(B=qn,G=fi(),B.pooledCache=G,G.refCount++,G!==null&&(B.pooledCacheLanes|=T),B=G),m.memoizedState={parent:O,cache:B},$e(m),fl(m,xi,B)):((d.lanes&T)!==0&&(dt(d,m),Lt(m,null,null,T),at()),B=d.memoizedState,G=m.memoizedState,B.parent!==O?(B={parent:O,cache:O},m.memoizedState=B,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=B),fl(m,xi,O)):(O=G.cache,fl(m,xi,O),O!==B.cache&&A(m,[xi],T,!0))),lr(d,m,m.pendingProps.children,T),m.child;case 29:throw m.pendingProps}throw Error(r(156,m.tag))}function fl(d,m,T){ic?(w(ka,m._currentValue),m._currentValue=T):(w(ka,m._currentValue2),m._currentValue2=T)}function Uo(d){var m=ka.current;ic?d._currentValue=m:d._currentValue2=m,x(ka)}function Xl(d,m,T){for(;d!==null;){var O=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,O!==null&&(O.childLanes|=m)):O!==null&&(O.childLanes&m)!==m&&(O.childLanes|=m),d===T)break;d=d.return}}function A(d,m,T,O){var B=d.child;for(B!==null&&(B.return=d);B!==null;){var G=B.dependencies;if(G!==null){var oe=B.child;G=G.firstContext;e:for(;G!==null;){var me=G;G=B;for(var Ce=0;Ce<m.length;Ce++)if(me.context===m[Ce]){G.lanes|=T,me=G.alternate,me!==null&&(me.lanes|=T),Xl(G.return,T,d),O||(oe=null);break e}G=me.next}}else if(B.tag===18){if(oe=B.return,oe===null)throw Error(r(341));oe.lanes|=T,G=oe.alternate,G!==null&&(G.lanes|=T),Xl(oe,T,d),oe=null}else oe=B.child;if(oe!==null)oe.return=B;else for(oe=B;oe!==null;){if(oe===d){oe=null;break}if(B=oe.sibling,B!==null){B.return=oe.return,oe=B;break}oe=oe.return}B=oe}}function j(d,m,T,O){d=null;for(var B=m,G=!1;B!==null;){if(!G){if((B.flags&524288)!==0)G=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var oe=B.alternate;if(oe===null)throw Error(r(387));if(oe=oe.memoizedProps,oe!==null){var me=B.type;fo(B.pendingProps.value,oe.value)||(d!==null?d.push(me):d=[me])}}else if(B===Ud.current){if(oe=B.alternate,oe===null)throw Error(r(387));oe.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(d!==null?d.push(un):d=[un])}B=B.return}d!==null&&A(m,d,T,O),m.flags|=262144}function X(d){for(d=d.firstContext;d!==null;){var m=d.context;if(!fo(ic?m._currentValue:m._currentValue2,d.memoizedValue))return!0;d=d.next}return!1}function ce(d){Zu=d,yr=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function Ee(d){return Et(Zu,d)}function je(d,m){return Zu===null&&ce(d),Et(d,m)}function Et(d,m){var T=ic?m._currentValue:m._currentValue2;if(m={context:m,memoizedValue:T,next:null},yr===null){if(d===null)throw Error(r(308));yr=m,d.dependencies={lanes:0,firstContext:m},d.flags|=524288}else yr=yr.next=m;return T}function fi(){return{controller:new ME,data:new Map,refCount:0}}function ir(d){d.refCount--,d.refCount===0&&Zc(sh,function(){d.controller.abort()})}function Rn(){var d=Qc.current;return d!==null?d:qn.pooledCache}function wr(d,m){m===null?w(Qc,Qc.current):w(Qc,m.pool)}function rs(){var d=Rn();return d===null?null:{parent:ic?xi._currentValue:xi._currentValue2,pool:d}}function jr(d){d.flags|=4}function ca(d,m){if(d!==null&&d.child===m.child)return!1;if((m.flags&16)!==0)return!0;for(d=m.child;d!==null;){if((d.flags&13878)!==0||(d.subtreeFlags&13878)!==0)return!0;d=d.sibling}return!1}function Uc(d,m,T,O){if(Ps)for(T=m.child;T!==null;){if(T.tag===5||T.tag===6)nc(d,T.stateNode);else if(!(T.tag===4||Ds&&T.tag===27)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else if(lo)for(var B=m.child;B!==null;){if(B.tag===5){var G=B.stateNode;T&&O&&(G=s1(G,B.type,B.memoizedProps)),nc(d,G)}else if(B.tag===6)G=B.stateNode,T&&O&&(G=a1(G,B.memoizedProps)),nc(d,G);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)G=B.child,G!==null&&(G.return=B),Uc(d,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===m)break;for(;B.sibling===null;){if(B.return===null||B.return===m)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function Yl(d,m,T,O){if(lo)for(var B=m.child;B!==null;){if(B.tag===5){var G=B.stateNode;T&&O&&(G=s1(G,B.type,B.memoizedProps)),i1(d,G)}else if(B.tag===6)G=B.stateNode,T&&O&&(G=a1(G,B.memoizedProps)),i1(d,G);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)G=B.child,G!==null&&(G.return=B),Yl(d,B,!(B.memoizedProps!==null&&B.memoizedProps.mode==="manual"),!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===m)break;for(;B.sibling===null;){if(B.return===null||B.return===m)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function gd(d,m){if(lo&&ca(d,m)){d=m.stateNode;var T=d.containerInfo,O=ky();Yl(O,m,!1,!1),d.pendingChildren=O,jr(m),rE(T,O)}}function w_(d,m,T,O){if(Ps)d.memoizedProps!==O&&jr(m);else if(lo){var B=d.stateNode,G=d.memoizedProps;if((d=ca(d,m))||G!==O){var oe=xs.current;G=n1(B,T,G,O,!d,null),G===B?m.stateNode=B:(qc(G,T,O,oe)&&jr(m),m.stateNode=G,d?Uc(G,m,!1,!1):jr(m))}else m.stateNode=B}}function yd(d,m,T){if(tE(m,T)){if(d.flags|=16777216,!Wc(m,T))if(mm())d.flags|=8192;else throw rh=Xy,x1}else d.flags&=-16777217}function C_(d,m){if(_E(m)){if(d.flags|=16777216,!g1(m))if(mm())d.flags|=8192;else throw rh=Xy,x1}else d.flags&=-16777217}function um(d,m){m!==null&&(d.flags|=4),d.flags&16384&&(m=d.tag!==22?P():536870912,d.lanes|=m,eu|=m)}function Gf(d,m){if(!si)switch(d.tailMode){case"hidden":m=d.tail;for(var T=null;m!==null;)m.alternate!==null&&(T=m),m=m.sibling;T===null?d.tail=null:T.sibling=null;break;case"collapsed":T=d.tail;for(var O=null;T!==null;)T.alternate!==null&&(O=T),T=T.sibling;O===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:O.sibling=null}}function Xi(d){var m=d.alternate!==null&&d.alternate.child===d.child,T=0,O=0;if(m)for(var B=d.child;B!==null;)T|=B.lanes|B.childLanes,O|=B.subtreeFlags&31457280,O|=B.flags&31457280,B.return=d,B=B.sibling;else for(B=d.child;B!==null;)T|=B.lanes|B.childLanes,O|=B.subtreeFlags,O|=B.flags,B.return=d,B=B.sibling;return d.subtreeFlags|=O,d.childLanes=T,m}function HS(d,m,T){var O=m.pendingProps;switch(pe(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xi(m),null;case 1:return Xi(m),null;case 3:return T=m.stateNode,O=null,d!==null&&(O=d.memoizedState.cache),m.memoizedState.cache!==O&&(m.flags|=2048),Uo(xi),ie(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(d===null||d.child===null)&&(rt(m)?jr(m):d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,mo!==null&&(zc(mo),mo=null))),gd(d,m),Xi(m),null;case 26:if(uo){T=m.type;var B=m.memoizedState;return d===null?(jr(m),B!==null?(Xi(m),C_(m,B)):(Xi(m),yd(m,T,O))):B?B!==d.memoizedState?(jr(m),Xi(m),C_(m,B)):(Xi(m),m.flags&=-16777217):(Ps?d.memoizedProps!==O&&jr(m):w_(d,m,T,O),Xi(m),yd(m,T,O)),null}case 27:if(Ds){if(ye(m),T=yl.current,B=m.type,d!==null&&m.stateNode!=null)Ps?d.memoizedProps!==O&&jr(m):w_(d,m,B,O);else{if(!O){if(m.stateNode===null)throw Error(r(166));return Xi(m),null}d=xs.current,rt(m)?Xe(m,d):(d=v1(B,O,T,d,!0),m.stateNode=d,jr(m))}return Xi(m),null}case 5:if(ye(m),T=m.type,d!==null&&m.stateNode!=null)w_(d,m,T,O);else{if(!O){if(m.stateNode===null)throw Error(r(166));return Xi(m),null}d=xs.current,rt(m)?Xe(m,d):(B=q_(T,O,yl.current,d,m),Uc(B,m,!1,!1),m.stateNode=B,qc(B,T,O,d)&&jr(m))}return Xi(m),yd(m,m.type,m.pendingProps),null;case 6:if(d&&m.stateNode!=null)T=d.memoizedProps,Ps?T!==O&&jr(m):lo&&(T!==O?(m.stateNode=Iy(O,yl.current,xs.current,m),jr(m)):m.stateNode=d.stateNode);else{if(typeof O!="string"&&m.stateNode===null)throw Error(r(166));if(d=yl.current,T=xs.current,rt(m)){if(!da)throw Error(r(176));if(d=m.stateNode,T=m.memoizedProps,O=null,B=$s,B!==null)switch(B.tag){case 27:case 5:O=B.memoizedProps}dE(d,T,m,O)||Ve(m)}else m.stateNode=Iy(O,d,T,m)}return Xi(m),null;case 13:if(O=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(B=rt(m),O!==null&&O.dehydrated!==null){if(d===null){if(!B)throw Error(r(318));if(!da)throw Error(r(344));if(B=m.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(r(317));Id(B,m)}else ot(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Xi(m),B=!1}else mo!==null&&(zc(mo),mo=null),B=!0;if(!B)return m.flags&256?(Fr(m),m):(Fr(m),null)}if(Fr(m),(m.flags&128)!==0)return m.lanes=T,m;if(T=O!==null,d=d!==null&&d.memoizedState!==null,T){O=m.child,B=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(B=O.alternate.memoizedState.cachePool.pool);var G=null;O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(G=O.memoizedState.cachePool.pool),G!==B&&(O.flags|=2048)}return T!==d&&T&&(m.child.flags|=8192),um(m,m.updateQueue),Xi(m),null;case 4:return ie(),gd(d,m),d===null&&X_(m.stateNode.containerInfo),Xi(m),null;case 10:return Uo(m.type),Xi(m),null;case 19:if(x(qr),B=m.memoizedState,B===null)return Xi(m),null;if(O=(m.flags&128)!==0,G=B.rendering,G===null)if(O)Gf(B,!1);else{if(ni!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(G=Vr(d),G!==null){for(m.flags|=128,Gf(B,!1),d=G.updateQueue,m.updateQueue=d,um(m,d),m.subtreeFlags=0,d=T,T=m.child;T!==null;)Hc(T,d),T=T.sibling;return w(qr,qr.current&1|2),m.child}d=d.sibling}B.tail!==null&&Ns()>ur&&(m.flags|=128,O=!0,Gf(B,!1),m.lanes=4194304)}else{if(!O)if(d=Vr(G),d!==null){if(m.flags|=128,O=!0,d=d.updateQueue,m.updateQueue=d,um(m,d),Gf(B,!0),B.tail===null&&B.tailMode==="hidden"&&!G.alternate&&!si)return Xi(m),null}else 2*Ns()-B.renderingStartTime>ur&&T!==536870912&&(m.flags|=128,O=!0,Gf(B,!1),m.lanes=4194304);B.isBackwards?(G.sibling=m.child,m.child=G):(d=B.last,d!==null?d.sibling=G:m.child=G,B.last=G)}return B.tail!==null?(m=B.tail,B.rendering=m,B.tail=m.sibling,B.renderingStartTime=Ns(),m.sibling=null,d=qr.current,w(qr,O?d&1|2:d&1),m):(Xi(m),null);case 22:case 23:return Fr(m),zn(),O=m.memoizedState!==null,d!==null?d.memoizedState!==null!==O&&(m.flags|=8192):O&&(m.flags|=8192),O?(T&536870912)!==0&&(m.flags&128)===0&&(Xi(m),m.subtreeFlags&6&&(m.flags|=8192)):Xi(m),T=m.updateQueue,T!==null&&um(m,T.retryQueue),T=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),O=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(O=m.memoizedState.cachePool.pool),O!==T&&(m.flags|=2048),d!==null&&x(Qc),null;case 24:return T=null,d!==null&&(T=d.memoizedState.cache),m.memoizedState.cache!==T&&(m.flags|=2048),Uo(xi),Xi(m),null;case 25:return null}throw Error(r(156,m.tag))}function jS(d,m){switch(pe(m),m.tag){case 1:return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return Uo(xi),ie(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 26:case 27:case 5:return ye(m),null;case 13:if(Fr(m),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(r(340));ot()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return x(qr),null;case 4:return ie(),null;case 10:return Uo(m.type),null;case 22:case 23:return Fr(m),zn(),d!==null&&x(Qc),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 24:return Uo(xi),null;case 25:return null;default:return null}}function A_(d,m){switch(pe(m),m.tag){case 3:Uo(xi),ie();break;case 26:case 27:case 5:ye(m);break;case 4:ie();break;case 13:Fr(m);break;case 19:x(qr);break;case 10:Uo(m.type);break;case 22:case 23:Fr(m),zn(),d!==null&&x(Qc);break;case 24:Uo(xi)}}function fm(d,m){try{var T=m.updateQueue,O=T!==null?T.lastEffect:null;if(O!==null){var B=O.next;T=B;do{if((T.tag&d)===d){O=void 0;var G=T.create,oe=T.inst;O=G(),oe.destroy=O}T=T.next}while(T!==B)}}catch(me){Xn(m,m.return,me)}}function Ru(d,m,T){try{var O=m.updateQueue,B=O!==null?O.lastEffect:null;if(B!==null){var G=B.next;O=G;do{if((O.tag&d)===d){var oe=O.inst,me=oe.destroy;if(me!==void 0){oe.destroy=void 0,B=m;var Ce=T;try{me()}catch(Je){Xn(B,Ce,Je)}}}O=O.next}while(O!==G)}}catch(Je){Xn(m,m.return,Je)}}function GS(d){var m=d.updateQueue;if(m!==null){var T=d.stateNode;try{gt(m,T)}catch(O){Xn(d,d.return,O)}}}function qS(d,m,T){T.props=Ra(d.type,d.memoizedProps),T.state=d.memoizedState;try{T.componentWillUnmount()}catch(O){Xn(d,m,O)}}function qf(d,m){try{var T=d.ref;if(T!==null){var O=d.stateNode;switch(d.tag){case 26:case 27:case 5:var B=Od(O);break;default:B=O}typeof T=="function"?d.refCleanup=T(B):T.current=B}}catch(G){Xn(d,m,G)}}function Yi(d,m){var T=d.ref,O=d.refCleanup;if(T!==null)if(typeof O=="function")try{O()}catch(B){Xn(d,m,B)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof T=="function")try{T(null)}catch(B){Xn(d,m,B)}else T.current=null}function vd(d){var m=d.type,T=d.memoizedProps,O=d.stateNode;try{zM(O,m,T,d)}catch(B){Xn(d,d.return,B)}}function M_(d,m,T){try{Q_(d.stateNode,d.type,T,m,d)}catch(O){Xn(d,d.return,O)}}function R_(d){return d.tag===5||d.tag===3||(uo?d.tag===26:!1)||(Ds?d.tag===27:!1)||d.tag===4}function my(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||R_(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&(!Ds||d.tag!==27)&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function gy(d,m,T){var O=d.tag;if(O===5||O===6)d=d.stateNode,m?e1(T,d,m):nE(T,d);else if(!(O===4||Ds&&O===27)&&(d=d.child,d!==null))for(gy(d,m,T),d=d.sibling;d!==null;)gy(d,m,T),d=d.sibling}function _d(d,m,T){var O=d.tag;if(O===5||O===6)d=d.stateNode,m?J_(T,d,m):Z_(T,d);else if(!(O===4||Ds&&O===27)&&(d=d.child,d!==null))for(_d(d,m,T),d=d.sibling;d!==null;)_d(d,m,T),d=d.sibling}function WS(d,m,T){d=d.containerInfo;try{r1(d,T)}catch(O){Xn(m,m.return,O)}}function bd(d,m){for(ju(d.containerInfo),vr=m;vr!==null;)if(d=vr,m=d.child,(d.subtreeFlags&1028)!==0&&m!==null)m.return=d,vr=m;else for(;vr!==null;){d=vr;var T=d.alternate;switch(m=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((m&1024)!==0&&T!==null){m=void 0;var O=d,B=T.memoizedProps;T=T.memoizedState;var G=O.stateNode;try{var oe=Ra(O.type,B,O.elementType===O.type);m=G.getSnapshotBeforeUpdate(oe,T),G.__reactInternalSnapshotBeforeUpdate=m}catch(me){Xn(O,O.return,me)}}break;case 3:(m&1024)!==0&&Ps&&Uy(d.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(r(163))}if(m=d.sibling,m!==null){m.return=d.return,vr=m;break}vr=d.return}return oe=ah,ah=!1,oe}function yy(d,m,T){var O=T.flags;switch(T.tag){case 0:case 11:case 15:Kl(d,T),O&4&&fm(5,T);break;case 1:if(Kl(d,T),O&4)if(d=T.stateNode,m===null)try{d.componentDidMount()}catch(me){Xn(T,T.return,me)}else{var B=Ra(T.type,m.memoizedProps);m=m.memoizedState;try{d.componentDidUpdate(B,m,d.__reactInternalSnapshotBeforeUpdate)}catch(me){Xn(T,T.return,me)}}O&64&&GS(T),O&512&&qf(T,T.return);break;case 3:if(Kl(d,T),O&64&&(O=T.updateQueue,O!==null)){if(d=null,T.child!==null)switch(T.child.tag){case 27:case 5:d=Od(T.child.stateNode);break;case 1:d=T.child.stateNode}try{gt(O,d)}catch(me){Xn(T,T.return,me)}}break;case 26:if(uo){Kl(d,T),O&512&&qf(T,T.return);break}case 27:case 5:Kl(d,T),m===null&&O&4&&vd(T),O&512&&qf(T,T.return);break;case 12:Kl(d,T);break;case 13:Kl(d,T),O&4&&Ou(d,T);break;case 22:if(B=T.memoizedState!==null||as,!B){m=m!==null&&m.memoizedState!==null||cr;var G=as,oe=cr;as=B,(cr=m)&&!oe?Pu(d,T,(T.subtreeFlags&8772)!==0):Kl(d,T),as=G,cr=oe}O&512&&(T.memoizedProps.mode==="manual"?qf(T,T.return):Yi(T,T.return));break;default:Kl(d,T)}}function xd(d){var m=d.alternate;m!==null&&(d.alternate=null,xd(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&Y_(m)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function ao(d,m,T){for(T=T.child;T!==null;)vy(d,m,T),T=T.sibling}function vy(d,m,T){if(La&&typeof La.onCommitFiberUnmount=="function")try{La.onCommitFiberUnmount(Ld,T)}catch{}switch(T.tag){case 26:if(uo){cr||Yi(T,m),ao(d,m,T),T.memoizedState?f1(T.memoizedState):T.stateNode&&p1(T.stateNode);break}case 27:if(Ds){cr||Yi(T,m);var O=Rr,B=za;Rr=T.stateNode,ao(d,m,T),bE(T.stateNode),Rr=O,za=B;break}case 5:cr||Yi(T,m);case 6:if(Ps){if(O=Rr,B=za,Rr=null,ao(d,m,T),Rr=O,za=B,Rr!==null)if(za)try{Cr(Rr,T.stateNode)}catch(G){Xn(T,m,G)}else try{pa(Rr,T.stateNode)}catch(G){Xn(T,m,G)}}else ao(d,m,T);break;case 18:Ps&&Rr!==null&&(za?l1(Rr,T.stateNode):mE(Rr,T.stateNode));break;case 4:Ps?(O=Rr,B=za,Rr=T.stateNode.containerInfo,za=!0,ao(d,m,T),Rr=O,za=B):(lo&&WS(T.stateNode,T,ky()),ao(d,m,T));break;case 0:case 11:case 14:case 15:cr||Ru(2,T,m),cr||Ru(4,T,m),ao(d,m,T);break;case 1:cr||(Yi(T,m),O=T.stateNode,typeof O.componentWillUnmount=="function"&&qS(T,m,O)),ao(d,m,T);break;case 21:ao(d,m,T);break;case 22:cr||Yi(T,m),cr=(O=cr)||T.memoizedState!==null,ao(d,m,T),cr=O;break;default:ao(d,m,T)}}function Ou(d,m){if(da&&m.memoizedState===null&&(d=m.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{Vy(d)}catch(T){Xn(m,m.return,T)}}function Sd(d){switch(d.tag){case 13:case 19:var m=d.stateNode;return m===null&&(m=d.stateNode=new Vd),m;case 22:return d=d.stateNode,m=d._retryCache,m===null&&(m=d._retryCache=new Vd),m;default:throw Error(r(435,d.tag))}}function hm(d,m){var T=Sd(d);m.forEach(function(O){var B=N_.bind(null,d,O);T.has(O)||(T.add(O),O.then(B,B))})}function ua(d,m){var T=m.deletions;if(T!==null)for(var O=0;O<T.length;O++){var B=T[O],G=d,oe=m;if(Ps){var me=oe;e:for(;me!==null;){switch(me.tag){case 27:case 5:Rr=me.stateNode,za=!1;break e;case 3:Rr=me.stateNode.containerInfo,za=!0;break e;case 4:Rr=me.stateNode.containerInfo,za=!0;break e}me=me.return}if(Rr===null)throw Error(r(160));vy(G,oe,B),Rr=null,za=!1}else vy(G,oe,B);G=B.alternate,G!==null&&(G.return=null),B.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)Iu(m,d),m=m.sibling}function Iu(d,m){var T=d.alternate,O=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:ua(m,d),Oa(d),O&4&&(Ru(3,d,d.return),fm(3,d),Ru(5,d,d.return));break;case 1:ua(m,d),Oa(d),O&512&&(cr||T===null||Yi(T,T.return)),O&64&&as&&(d=d.updateQueue,d!==null&&(O=d.callbacks,O!==null&&(T=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=T===null?O:T.concat(O))));break;case 26:if(uo){var B=ma;ua(m,d),Oa(d),O&512&&(cr||T===null||Yi(T,T.return)),O&4&&(O=T!==null?T.memoizedState:null,m=d.memoizedState,T===null?m===null?d.stateNode===null?d.stateNode=h1(B,d.type,d.memoizedProps,d):d1(B,d.type,d.stateNode):d.stateNode=u1(B,m,d.memoizedProps):O!==m?(O===null?T.stateNode!==null&&p1(T.stateNode):f1(O),m===null?d1(B,d.type,d.stateNode):u1(B,m,d.memoizedProps)):m===null&&d.stateNode!==null&&M_(d,d.memoizedProps,T.memoizedProps));break}case 27:if(Ds&&O&4&&d.alternate===null){B=d.stateNode;var G=d.memoizedProps;try{HM(B),jM(d.type,G,B,d)}catch(bt){Xn(d,d.return,bt)}}case 5:if(ua(m,d),Oa(d),O&512&&(cr||T===null||Yi(T,T.return)),Ps){if(d.flags&32){m=d.stateNode;try{wm(m)}catch(bt){Xn(d,d.return,bt)}}O&4&&d.stateNode!=null&&(m=d.memoizedProps,M_(d,m,T!==null?T.memoizedProps:m)),O&1024&&(Qu=!0)}break;case 6:if(ua(m,d),Oa(d),O&4&&Ps){if(d.stateNode===null)throw Error(r(162));O=d.memoizedProps,T=T!==null?T.memoizedProps:O,m=d.stateNode;try{iE(m,T,O)}catch(bt){Xn(d,d.return,bt)}}break;case 3:if(uo?(m1(),B=ma,ma=Hy(m.containerInfo),ua(m,d),ma=B):ua(m,d),Oa(d),O&4){if(Ps&&da&&T!==null&&T.memoizedState.isDehydrated)try{Fy(m.containerInfo)}catch(bt){Xn(d,d.return,bt)}if(lo){O=m.containerInfo,T=m.pendingChildren;try{r1(O,T)}catch(bt){Xn(d,d.return,bt)}}}Qu&&(Qu=!1,O_(d));break;case 4:uo?(T=ma,ma=Hy(d.stateNode.containerInfo),ua(m,d),Oa(d),ma=T):(ua(m,d),Oa(d)),O&4&&lo&&WS(d.stateNode,d,d.stateNode.pendingChildren);break;case 12:ua(m,d),Oa(d);break;case 13:ua(m,d),Oa(d),d.child.flags&8192&&d.memoizedState!==null!=(T!==null&&T.memoizedState!==null)&&(uc=Ns()),O&4&&(O=d.updateQueue,O!==null&&(d.updateQueue=null,hm(d,O)));break;case 22:O&512&&(cr||T===null||Yi(T,T.return)),B=d.memoizedState!==null;var oe=T!==null&&T.memoizedState!==null,me=as,Ce=cr;if(as=me||B,cr=Ce||oe,ua(m,d),cr=Ce,as=me,Oa(d),m=d.stateNode,m._current=d,m._visibility&=-3,m._visibility|=m._pendingVisibility&2,O&8192&&(m._visibility=B?m._visibility&-2:m._visibility|1,B&&(m=as||cr,T===null||oe||m||Ed(d)),Ps&&(d.memoizedProps===null||d.memoizedProps.mode!=="manual"))){e:if(T=null,Ps)for(m=d;;){if(m.tag===5||uo&&m.tag===26||Ds&&m.tag===27){if(T===null){oe=T=m;try{G=oe.stateNode,B?Cm(G):t1(oe.stateNode,oe.memoizedProps)}catch(bt){Xn(oe,oe.return,bt)}}}else if(m.tag===6){if(T===null){oe=m;try{var Je=oe.stateNode;B?Ly(Je):$c(Je,oe.memoizedProps)}catch(bt){Xn(oe,oe.return,bt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===d)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break e;for(;m.sibling===null;){if(m.return===null||m.return===d)break e;T===m&&(T=null),m=m.return}T===m&&(T=null),m.sibling.return=m.return,m=m.sibling}}O&4&&(O=d.updateQueue,O!==null&&(T=O.retryQueue,T!==null&&(O.retryQueue=null,hm(d,T))));break;case 19:ua(m,d),Oa(d),O&4&&(O=d.updateQueue,O!==null&&(d.updateQueue=null,hm(d,O)));break;case 21:break;default:ua(m,d),Oa(d)}}function Oa(d){var m=d.flags;if(m&2){try{if(Ps&&(!Ds||d.tag!==27)){e:{for(var T=d.return;T!==null;){if(R_(T)){var O=T;break e}T=T.return}throw Error(r(160))}switch(O.tag){case 27:if(Ds){var B=O.stateNode,G=my(d);_d(d,G,B);break}case 5:var oe=O.stateNode;O.flags&32&&(wm(oe),O.flags&=-33);var me=my(d);_d(d,me,oe);break;case 3:case 4:var Ce=O.stateNode.containerInfo,Je=my(d);gy(d,Je,Ce);break;default:throw Error(r(161))}}}catch(bt){Xn(d,d.return,bt)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function O_(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var m=d;O_(m),m.tag===5&&m.flags&1024&&Ii(m.stateNode),d=d.sibling}}function Kl(d,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)yy(d,m.alternate,m),m=m.sibling}function Ed(d){for(d=d.child;d!==null;){var m=d;switch(m.tag){case 0:case 11:case 14:case 15:Ru(4,m,m.return),Ed(m);break;case 1:Yi(m,m.return);var T=m.stateNode;typeof T.componentWillUnmount=="function"&&qS(m,m.return,T),Ed(m);break;case 26:case 27:case 5:Yi(m,m.return),Ed(m);break;case 22:Yi(m,m.return),m.memoizedState===null&&Ed(m);break;default:Ed(m)}d=d.sibling}}function Pu(d,m,T){for(T=T&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var O=m.alternate,B=d,G=m,oe=G.flags;switch(G.tag){case 0:case 11:case 15:Pu(B,G,T),fm(4,G);break;case 1:if(Pu(B,G,T),O=G,B=O.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(Je){Xn(O,O.return,Je)}if(O=G,B=O.updateQueue,B!==null){var me=O.stateNode;try{var Ce=B.shared.hiddenCallbacks;if(Ce!==null)for(B.shared.hiddenCallbacks=null,B=0;B<Ce.length;B++)ve(Ce[B],me)}catch(Je){Xn(O,O.return,Je)}}T&&oe&64&&GS(G),qf(G,G.return);break;case 26:case 27:case 5:Pu(B,G,T),T&&O===null&&oe&4&&vd(G),qf(G,G.return);break;case 12:Pu(B,G,T);break;case 13:Pu(B,G,T),T&&oe&4&&Ou(B,G);break;case 22:G.memoizedState===null&&Pu(B,G,T),qf(G,G.return);break;default:Pu(B,G,T)}m=m.sibling}}function I_(d,m){var T=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),d=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(d=m.memoizedState.cachePool.pool),d!==T&&(d!=null&&d.refCount++,T!=null&&ir(T))}function _y(d,m){d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&ir(d))}function kc(d,m,T,O){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)by(d,m,T,O),m=m.sibling}function by(d,m,T,O){var B=m.flags;switch(m.tag){case 0:case 11:case 15:kc(d,m,T,O),B&2048&&fm(9,m);break;case 3:kc(d,m,T,O),B&2048&&(d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&ir(d)));break;case 12:if(B&2048){kc(d,m,T,O),d=m.stateNode;try{var G=m.memoizedProps,oe=G.id,me=G.onPostCommit;typeof me=="function"&&me(oe,m.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Ce){Xn(m,m.return,Ce)}}else kc(d,m,T,O);break;case 23:break;case 22:G=m.stateNode,m.memoizedState!==null?G._visibility&4?kc(d,m,T,O):Du(d,m):G._visibility&4?kc(d,m,T,O):(G._visibility|=4,js(d,m,T,O,(m.subtreeFlags&10256)!==0)),B&2048&&I_(m.alternate,m);break;case 24:kc(d,m,T,O),B&2048&&_y(m.alternate,m);break;default:kc(d,m,T,O)}}function js(d,m,T,O,B){for(B=B&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var G=d,oe=m,me=T,Ce=O,Je=oe.flags;switch(oe.tag){case 0:case 11:case 15:js(G,oe,me,Ce,B),fm(8,oe);break;case 23:break;case 22:var bt=oe.stateNode;oe.memoizedState!==null?bt._visibility&4?js(G,oe,me,Ce,B):Du(G,oe):(bt._visibility|=4,js(G,oe,me,Ce,B)),B&&Je&2048&&I_(oe.alternate,oe);break;case 24:js(G,oe,me,Ce,B),B&&Je&2048&&_y(oe.alternate,oe);break;default:js(G,oe,me,Ce,B)}m=m.sibling}}function Du(d,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var T=d,O=m,B=O.flags;switch(O.tag){case 22:Du(T,O),B&2048&&I_(O.alternate,O);break;case 24:Du(T,O),B&2048&&_y(O.alternate,O);break;default:Du(T,O)}m=m.sibling}}function ys(d){if(d.subtreeFlags&oh)for(d=d.child;d!==null;)Wf(d),d=d.sibling}function Wf(d){switch(d.tag){case 26:ys(d),d.flags&oh&&(d.memoizedState!==null?y1(ma,d.memoizedState,d.memoizedProps):dr(d.type,d.memoizedProps));break;case 5:ys(d),d.flags&oh&&dr(d.type,d.memoizedProps);break;case 3:case 4:if(uo){var m=ma;ma=Hy(d.stateNode.containerInfo),ys(d),ma=m}else ys(d);break;case 22:d.memoizedState===null&&(m=d.alternate,m!==null&&m.memoizedState!==null?(m=oh,oh=16777216,ys(d),oh=m):ys(d));break;default:ys(d)}}function xy(d){var m=d.alternate;if(m!==null&&(d=m.child,d!==null)){m.child=null;do m=d.sibling,d.sibling=null,d=m;while(d!==null)}}function Nu(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var T=0;T<m.length;T++){var O=m[T];vr=O,Lu(O,d)}xy(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)dm(d),d=d.sibling}function dm(d){switch(d.tag){case 0:case 11:case 15:Nu(d),d.flags&2048&&Ru(9,d,d.return);break;case 3:Nu(d);break;case 12:Nu(d);break;case 22:var m=d.stateNode;d.memoizedState!==null&&m._visibility&4&&(d.return===null||d.return.tag!==13)?(m._visibility&=-5,Td(d)):Nu(d);break;default:Nu(d)}}function Td(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var T=0;T<m.length;T++){var O=m[T];vr=O,Lu(O,d)}xy(d)}for(d=d.child;d!==null;){switch(m=d,m.tag){case 0:case 11:case 15:Ru(8,m,m.return),Td(m);break;case 22:T=m.stateNode,T._visibility&4&&(T._visibility&=-5,Td(m));break;default:Td(m)}d=d.sibling}}function Lu(d,m){for(;vr!==null;){var T=vr;switch(T.tag){case 0:case 11:case 15:Ru(8,T,m);break;case 23:case 22:if(T.memoizedState!==null&&T.memoizedState.cachePool!==null){var O=T.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:ir(T.memoizedState.cache)}if(O=T.child,O!==null)O.return=T,vr=O;else e:for(T=d;vr!==null;){O=vr;var B=O.sibling,G=O.return;if(xd(O),O===T){vr=null;break e}if(B!==null){B.return=G,vr=B;break e}vr=G}}}function Sy(d){var m=$_(d);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(r(364));return m}if(d=th(d),d===null)throw Error(r(362));return d.stateNode.current}function wd(d,m){var T=d.tag;switch(m.$$typeof){case Vm:if(d.type===m.value)return!0;break;case Jy:e:{for(m=m.value,d=[d,0],T=0;T<d.length;){var O=d[T++],B=O.tag,G=d[T++],oe=m[G];if(B!==5&&B!==26&&B!==27||!sc(O)){for(;oe!=null&&wd(O,oe);)G++,oe=m[G];if(G===m.length){m=!0;break e}else for(O=O.child;O!==null;)d.push(O,G),O=O.sibling}}m=!1}return m;case ev:if((T===5||T===26||T===27)&&kM(d.stateNode,m.value))return!0;break;case Si:if((T===5||T===6||T===26||T===27)&&(d=Tm(d),d!==null&&0<=d.indexOf(m.value)))return!0;break;case ti:if((T===5||T===26||T===27)&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Uu(d){switch(d.$$typeof){case Vm:return"<"+(a(d.value)||"Unknown")+">";case Jy:return":has("+(Uu(d)||"")+")";case ev:return'[role="'+d.value+'"]';case Si:return'"'+d.value+'"';case ti:return'[data-testname="'+d.value+'"]';default:throw Error(r(365))}}function $S(d,m){var T=[];d=[d,0];for(var O=0;O<d.length;){var B=d[O++],G=B.tag,oe=d[O++],me=m[oe];if(G!==5&&G!==26&&G!==27||!sc(B)){for(;me!=null&&wd(B,me);)oe++,me=m[oe];if(oe===m.length)T.push(B);else for(B=B.child;B!==null;)d.push(B,oe),B=B.sibling}}return T}function fa(d,m){if(!rc)throw Error(r(363));d=Sy(d),d=$S(d,m),m=[],d=Array.from(d);for(var T=0;T<d.length;){var O=d[T++],B=O.tag;if(B===5||B===26||B===27)sc(O)||m.push(O.stateNode);else for(O=O.child;O!==null;)d.push(O),O=O.sibling}return m}function ha(){if((Yt&2)!==0&&Fn!==0)return Fn&-Fn;if(nn.T!==null){var d=Ua;return d!==0?d:lt()}return zo()}function Zl(){Ba===0&&(Ba=(Fn&536870912)===0||si?N():536870912);var d=vo.current;return d!==null&&(d.flags|=32),Ba}function Gs(d,m,T){(d===qn&&Pi===2||d.cancelPendingCommit!==null)&&(dl(d,0),hl(d,Fn,Ba,!1)),V(d,T),((Yt&2)===0||d!==qn)&&(d===qn&&((Yt&2)===0&&(bl|=T),ni===4&&hl(d,Fn,Ba,!1)),qe(d))}function pm(d,m,T){if((Yt&6)!==0)throw Error(r(327));var O=!T&&(m&60)===0&&(m&d.expiredLanes)===0||L(d,m),B=O?ec(d,m):Ql(d,m,!0),G=O;do{if(B===0){_o&&!O&&hl(d,m,0,!1);break}else if(B===6)hl(d,m,0,!Ei);else{if(T=d.current.alternate,G&&!XS(T)){B=Ql(d,m,!1),G=!1;continue}if(B===2){if(G=m,d.errorRecoveryDisabledLanes&G)var oe=0;else oe=d.pendingLanes&-536870913,oe=oe!==0?oe:oe&536870912?536870912:0;if(oe!==0){m=oe;e:{var me=d;B=Hd;var Ce=da&&me.current.memoizedState.isDehydrated;if(Ce&&(dl(me,oe).flags|=256),oe=Ql(me,oe,!1),oe!==2){if(Jc&&!Ce){me.errorRecoveryDisabledLanes|=G,bl|=G,B=4;break e}G=xo,xo=B,G!==null&&zc(G)}B=oe}if(G=!1,B!==2)continue}}if(B===1){dl(d,0),hl(d,m,0,!0);break}e:{switch(O=d,B){case 0:case 1:throw Error(r(345));case 4:if((m&4194176)===m){hl(O,m,Ba,!Ei);break e}break;case 2:xo=null;break;case 3:case 5:break;default:throw Error(r(329))}if(O.finishedWork=T,O.finishedLanes=m,(m&62914560)===m&&(G=uc+300-Ns(),10<G)){if(hl(O,m,Ba,!Ei),D(O,0)!==0)break e;O.timeoutHandle=W_(Ey.bind(null,O,T,xo,xl,jd,m,Ba,bl,eu,Ei,2,-0,0),G);break e}Ey(O,T,xo,xl,jd,m,Ba,bl,eu,Ei,0,-0,0)}}break}while(!0);qe(d)}function zc(d){xo===null?xo=d:xo.push.apply(xo,d)}function Ey(d,m,T,O,B,G,oe,me,Ce,Je,bt,Ot,Nt){var _n=m.subtreeFlags;if((_n&8192||(_n&16785408)===16785408)&&(co(),Wf(m),m=Py(),m!==null)){d.cancelPendingCommit=m(Hi.bind(null,d,T,O,B,oe,me,Ce,1,Ot,Nt)),hl(d,G,oe,!Je);return}Hi(d,T,O,B,oe,me,Ce,bt,Ot,Nt)}function XS(d){for(var m=d;;){var T=m.tag;if((T===0||T===11||T===15)&&m.flags&16384&&(T=m.updateQueue,T!==null&&(T=T.stores,T!==null)))for(var O=0;O<T.length;O++){var B=T[O],G=B.getSnapshot;B=B.value;try{if(!fo(G(),B))return!1}catch{return!1}}if(T=m.child,m.subtreeFlags&16384&&T!==null)T.return=m,m=T;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function hl(d,m,T,O){m&=~Ks,m&=~bl,d.suspendedLanes|=m,d.pingedLanes&=~m,O&&(d.warmLanes|=m),O=d.expirationTimes;for(var B=m;0<B;){var G=31-Na(B),oe=1<<G;O[G]=-1,B&=~oe}T!==0&&F(d,T,m)}function P_(){return(Yt&6)===0?(ae(0),!1):!0}function Ia(){if(En!==null){if(Pi===0)var d=En.return;else d=En,yr=Zu=null,cl(d),oc=null,Vo=0,d=En;for(;d!==null;)A_(d.alternate,d),d=d.return;En=null}}function dl(d,m){d.finishedWork=null,d.finishedLanes=0;var T=d.timeoutHandle;T!==eh&&(d.timeoutHandle=eh,Em(T)),T=d.cancelPendingCommit,T!==null&&(d.cancelPendingCommit=null,T()),Ia(),qn=d,En=T=qs(d.current,null),Fn=m,Pi=0,Or=null,Ei=!1,_o=L(d,m),Jc=!1,eu=Ba=Ks=bl=bo=ni=0,xo=Hd=null,jd=!1,(m&8)!==0&&(m|=m&32);var O=d.entangledLanes;if(O!==0)for(d=d.entanglements,O&=m;0<O;){var B=31-Na(O),G=1<<B;m|=d[B],O&=~G}return _l=m,te(),T}function $f(d,m){On=null,nn.H=ai,m===Mi?(m=Zt(),Pi=3):m===x1?(m=Zt(),Pi=4):Pi=m===AE?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Or=m,En===null&&(ni=1,zf(d,se(m,d.current)))}function mm(){var d=vo.current;return d===null?!0:(Fn&4194176)===Fn?Ho===null:(Fn&62914560)===Fn||(Fn&536870912)!==0?d===Ho:!1}function Cd(){var d=nn.H;return nn.H=ai,d===null?ai:d}function oo(){var d=nn.A;return nn.A=Qy,d}function Pa(){ni=4,Ei||(Fn&4194176)!==Fn&&vo.current!==null||(_o=!0),(bo&134217727)===0&&(bl&134217727)===0||qn===null||hl(qn,Fn,Ba,!1)}function Ql(d,m,T){var O=Yt;Yt|=2;var B=Cd(),G=oo();(qn!==d||Fn!==m)&&(xl=null,dl(d,m)),m=!1;var oe=ni;e:do try{if(Pi!==0&&En!==null){var me=En,Ce=Or;switch(Pi){case 8:Ia(),oe=6;break e;case 3:case 2:case 6:vo.current===null&&(m=!0);var Je=Pi;if(Pi=0,Or=null,ku(d,me,Ce,Je),T&&_o){oe=0;break e}break;default:Je=Pi,Pi=0,Or=null,ku(d,me,Ce,Je)}}Jl(),oe=ni;break}catch(bt){$f(d,bt)}while(!0);return m&&d.shellSuspendCounter++,yr=Zu=null,Yt=O,nn.H=B,nn.A=G,En===null&&(qn=null,Fn=0,te()),oe}function Jl(){for(;En!==null;)D_(En)}function ec(d,m){var T=Yt;Yt|=2;var O=Cd(),B=oo();qn!==d||Fn!==m?(xl=null,ur=Ns()+500,dl(d,m)):_o=L(d,m);e:do try{if(Pi!==0&&En!==null){m=En;var G=Or;t:switch(Pi){case 1:Pi=0,Or=null,ku(d,m,G,1);break;case 2:if(Qe(G)){Pi=0,Or=null,Ty(m);break}m=function(){Pi===2&&qn===d&&(Pi=7),qe(d)},G.then(m,m);break e;case 3:Pi=7;break e;case 4:Pi=5;break e;case 7:Qe(G)?(Pi=0,Or=null,Ty(m)):(Pi=0,Or=null,ku(d,m,G,7));break;case 5:var oe=null;switch(En.tag){case 26:oe=En.memoizedState;case 5:case 27:var me=En,Ce=me.type,Je=me.pendingProps;if(oe?g1(oe):Wc(Ce,Je)){Pi=0,Or=null;var bt=me.sibling;if(bt!==null)En=bt;else{var Ot=me.return;Ot!==null?(En=Ot,gm(Ot)):En=null}break t}}Pi=0,Or=null,ku(d,m,G,5);break;case 6:Pi=0,Or=null,ku(d,m,G,6);break;case 8:Ia(),ni=6;break e;default:throw Error(r(462))}}Bc();break}catch(Nt){$f(d,Nt)}while(!0);return yr=Zu=null,nn.H=O,nn.A=B,Yt=T,En!==null?0:(qn=null,Fn=0,te(),ni)}function Bc(){for(;En!==null&&!SE();)D_(En)}function D_(d){var m=Hs(d.alternate,d,_l);d.memoizedProps=d.pendingProps,m===null?gm(d):En=m}function Ty(d){var m=d,T=m.alternate;switch(m.tag){case 15:case 0:m=Mu(T,m,m.pendingProps,m.type,void 0,Fn);break;case 11:m=Mu(T,m,m.pendingProps,m.type.render,m.ref,Fn);break;case 5:cl(m);default:A_(T,m),m=En=Hc(m,_l),m=Hs(T,m,_l)}d.memoizedProps=d.pendingProps,m===null?gm(d):En=m}function ku(d,m,T,O){yr=Zu=null,cl(m),oc=null,Vo=0;var B=m.return;try{if(py(d,B,m,T,Fn)){ni=1,zf(d,se(T,d.current)),En=null;return}}catch(G){if(B!==null)throw En=B,G;ni=1,zf(d,se(T,d.current)),En=null;return}m.flags&32768?(si||O===1?d=!0:_o||(Fn&536870912)!==0?d=!1:(Ei=d=!0,(O===2||O===3||O===6)&&(O=vo.current,O!==null&&O.tag===13&&(O.flags|=16384))),vs(m,d)):gm(m)}function gm(d){var m=d;do{if((m.flags&32768)!==0){vs(m,Ei);return}d=m.return;var T=HS(m.alternate,m,_l);if(T!==null){En=T;return}if(m=m.sibling,m!==null){En=m;return}En=m=d}while(m!==null);ni===0&&(ni=5)}function vs(d,m){do{var T=jS(d.alternate,d);if(T!==null){T.flags&=32767,En=T;return}if(T=d.return,T!==null&&(T.flags|=32768,T.subtreeFlags=0,T.deletions=null),!m&&(d=d.sibling,d!==null)){En=d;return}En=d=T}while(d!==null);ni=6,En=null}function Hi(d,m,T,O,B,G,oe,me,Ce,Je){var bt=nn.T,Ot=ss();try{Ws(2),nn.T=null,Zn(d,m,T,O,Ot,B,G,oe,me,Ce,Je)}finally{nn.T=bt,Ws(Ot)}}function Zn(d,m,T,O,B,G,oe,me){do _s();while(tu!==null);if((Yt&6)!==0)throw Error(r(327));var Ce=d.finishedWork;if(O=d.finishedLanes,Ce===null)return null;if(d.finishedWork=null,d.finishedLanes=0,Ce===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0,d.cancelPendingCommit=null;var Je=Ce.lanes|Ce.childLanes;if(Je|=kd,z(d,O,Je,G,oe,me),d===qn&&(En=qn=null,Fn=0),(Ce.subtreeFlags&10256)===0&&(Ce.flags&10256)===0||Go||(Go=!0,tv=Je,ch=T,ym(Gy,function(){return _s(),null})),T=(Ce.flags&15990)!==0,(Ce.subtreeFlags&15990)!==0||T?(T=nn.T,nn.T=null,G=ss(),Ws(2),oe=Yt,Yt|=4,bd(d,Ce),Iu(Ce,d),G_(d.containerInfo),d.current=Ce,yy(d,Ce.alternate,Ce),EE(),Yt=oe,Ws(G),nn.T=T):d.current=Ce,Go?(Go=!1,tu=d,lh=O):Fc(d,Je),Je=d.pendingLanes,Je===0&&(So=null),q(Ce.stateNode),qe(d),m!==null)for(B=d.onRecoverableError,Ce=0;Ce<m.length;Ce++)Je=m[Ce],B(Je.value,{componentStack:Je.stack});return(lh&3)!==0&&_s(),Je=d.pendingLanes,(O&4194218)!==0&&(Je&42)!==0?d===ga?uh++:(uh=0,ga=d):uh=0,ae(0),null}function Fc(d,m){(d.pooledCacheLanes&=m)===0&&(m=d.pooledCache,m!=null&&(d.pooledCache=null,ir(m)))}function _s(){if(tu!==null){var d=tu,m=tv;tv=0;var T=ee(lh),O=32>T?32:T;T=nn.T;var B=ss();try{if(Ws(O),nn.T=null,tu===null)var G=!1;else{O=ch,ch=null;var oe=tu,me=lh;if(tu=null,lh=0,(Yt&6)!==0)throw Error(r(331));var Ce=Yt;if(Yt|=4,dm(oe.current),by(oe,oe.current,me,O),Yt=Ce,ae(0,!1),La&&typeof La.onPostCommitFiberRoot=="function")try{La.onPostCommitFiberRoot(Ld,oe)}catch{}G=!0}return G}finally{Ws(B),nn.T=T,Fc(d,m)}}return!1}function wy(d,m,T){m=se(T,m),m=Cu(d.stateNode,m,2),d=At(d,m,2),d!==null&&(V(d,2),qe(d))}function Xn(d,m,T){if(d.tag===3)wy(d,d,T);else for(;m!==null;){if(m.tag===3){wy(m,d,T);break}else if(m.tag===1){var O=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(So===null||!So.has(O))){d=se(T,d),T=Vs(2),O=At(m,T,2),O!==null&&(Au(T,O,m,d),V(O,2),qe(O));break}}m=m.return}}function Cy(d,m,T){var O=d.pingCache;if(O===null){O=d.pingCache=new Yn;var B=new Set;O.set(m,B)}else B=O.get(m),B===void 0&&(B=new Set,O.set(m,B));B.has(T)||(Jc=!0,B.add(T),d=YS.bind(null,d,m,T),m.then(d,d))}function YS(d,m,T){var O=d.pingCache;O!==null&&O.delete(m),d.pingedLanes|=d.suspendedLanes&T,d.warmLanes&=~T,qn===d&&(Fn&T)===T&&(ni===4||ni===3&&(Fn&62914560)===Fn&&300>Ns()-uc?(Yt&2)===0&&dl(d,0):Ks|=T,eu===Fn&&(eu=0)),qe(d)}function Xf(d,m){m===0&&(m=P()),d=Ne(d,m),d!==null&&(V(d,m),qe(d))}function Yf(d){var m=d.memoizedState,T=0;m!==null&&(T=m.retryLane),Xf(d,T)}function N_(d,m){var T=0;switch(d.tag){case 13:var O=d.stateNode,B=d.memoizedState;B!==null&&(T=B.retryLane);break;case 19:O=d.stateNode;break;case 22:O=d.stateNode._retryCache;break;default:throw Error(r(314))}O!==null&&O.delete(m),Xf(d,T)}function ym(d,m){return Nd(d,m)}function L_(d,m,T,O){this.tag=d,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vc(d){return d=d.prototype,!(!d||!d.isReactComponent)}function qs(d,m){var T=d.alternate;return T===null?(T=t(d.tag,m,d.key,d.mode),T.elementType=d.elementType,T.type=d.type,T.stateNode=d.stateNode,T.alternate=d,d.alternate=T):(T.pendingProps=m,T.type=d.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=d.flags&31457280,T.childLanes=d.childLanes,T.lanes=d.lanes,T.child=d.child,T.memoizedProps=d.memoizedProps,T.memoizedState=d.memoizedState,T.updateQueue=d.updateQueue,m=d.dependencies,T.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},T.sibling=d.sibling,T.index=d.index,T.ref=d.ref,T.refCleanup=d.refCleanup,T}function Hc(d,m){d.flags&=31457282;var T=d.alternate;return T===null?(d.childLanes=0,d.lanes=m,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=T.childLanes,d.lanes=T.lanes,d.child=T.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=T.memoizedProps,d.memoizedState=T.memoizedState,d.updateQueue=T.updateQueue,d.type=T.type,m=T.dependencies,d.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),d}function ko(d,m,T,O,B,G){var oe=0;if(O=d,typeof d=="function")Vc(d)&&(oe=1);else if(typeof d=="string")oe=uo&&Ds?c1(d,T,xs.current)?26:Pd(d)?27:5:uo?c1(d,T,xs.current)?26:5:Ds&&Pd(d)?27:5;else e:switch(d){case Md:return jc(T.children,B,G,m);case F_:oe=8,B|=24;break;case V_:return d=t(12,T,m,B|2),d.elementType=V_,d.lanes=G,d;case My:return d=t(13,T,m,B),d.elementType=My,d.lanes=G,d;case Fu:return d=t(19,T,m,B),d.elementType=Fu,d.lanes=G,d;case bm:return Ay(T,B,G,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case QS:case tc:oe=10;break e;case Bu:oe=9;break e;case Rd:oe=11;break e;case _m:oe=14;break e;case ml:oe=16,O=null;break e}oe=29,T=Error(r(130,d===null?"null":typeof d,"")),O=null}return m=t(oe,T,m,B),m.elementType=d,m.type=O,m.lanes=G,m}function jc(d,m,T,O){return d=t(7,d,O,m),d.lanes=T,d}function Ay(d,m,T,O){d=t(22,d,O,m),d.elementType=bm,d.lanes=T;var B={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var G=B._current;if(G===null)throw Error(r(456));if((B._pendingVisibility&2)===0){var oe=Ne(G,2);oe!==null&&(B._pendingVisibility|=2,Gs(oe,G,2))}},attach:function(){var G=B._current;if(G===null)throw Error(r(456));if((B._pendingVisibility&2)!==0){var oe=Ne(G,2);oe!==null&&(B._pendingVisibility&=-3,Gs(oe,G,2))}}};return d.stateNode=B,d}function zu(d,m,T){return d=t(6,d,null,m),d.lanes=T,d}function Ad(d,m,T){return m=t(4,d.children!==null?d.children:[],d.key,m),m.lanes=T,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function Kf(d,m,T,O,B,G,oe,me){this.tag=1,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=eh,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=O,this.onUncaughtError=B,this.onCaughtError=G,this.onRecoverableError=oe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function bs(d,m,T,O,B,G,oe,me,Ce,Je,bt,Ot){return d=new Kf(d,m,T,oe,me,Ce,Je,Ot),m=1,G===!0&&(m|=24),G=t(3,null,null,m),d.current=G,G.stateNode=d,m=fi(),m.refCount++,d.pooledCache=m,m.refCount++,G.memoizedState={element:O,isDehydrated:T,cache:m},$e(G),d}function vm(d){return d?(d=nh,d):nh}function U_(d){var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=v(m),d=d!==null?_(d):null,d===null?null:Od(d.stateNode)}function KS(d,m,T,O,B,G){B=vm(B),O.context===null?O.context=B:O.pendingContext=B,O=wt(m),O.payload={element:T},G=G===void 0?null:G,G!==null&&(O.callback=G),T=At(d,O,m),T!==null&&(Gs(T,d,m),vt(T,d,m))}function ZS(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var T=d.retryLane;d.retryLane=T!==0&&T<m?T:m}}function k_(d,m){ZS(d,m),(d=d.alternate)&&ZS(d,m)}var Xt={},z_=t_(),Is=lW(),Zf=Object.assign,B_=Symbol.for("react.element"),Gc=Symbol.for("react.transitional.element"),pl=Symbol.for("react.portal"),Md=Symbol.for("react.fragment"),F_=Symbol.for("react.strict_mode"),V_=Symbol.for("react.profiler"),QS=Symbol.for("react.provider"),Bu=Symbol.for("react.consumer"),tc=Symbol.for("react.context"),Rd=Symbol.for("react.forward_ref"),My=Symbol.for("react.suspense"),Fu=Symbol.for("react.suspense_list"),_m=Symbol.for("react.memo"),ml=Symbol.for("react.lazy"),bm=Symbol.for("react.offscreen"),JS=Symbol.for("react.memo_cache_sentinel"),H_=Symbol.iterator,Qf=Symbol.for("react.client.reference"),nn=z_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ry,j_,Vu=!1,Hu=Array.isArray,Oy=e.rendererVersion,xm=e.rendererPackageName,Sm=e.extraDevToolsConfig,Od=e.getPublicInstance,Jf=e.getRootHostContext,eE=e.getChildHostContext,ju=e.prepareForCommit,G_=e.resetAfterCommit,q_=e.createInstance,nc=e.appendInitialChild,qc=e.finalizeInitialChildren,Gu=e.shouldSetTextContent,Iy=e.createTextInstance,W_=e.scheduleTimeout,Em=e.cancelTimeout,eh=e.noTimeout,ic=e.isPrimaryRenderer;e.warnsIfNotActing;var Ps=e.supportsMutation,lo=e.supportsPersistence,da=e.supportsHydration,$_=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var X_=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Ws=e.setCurrentUpdatePriority,ss=e.getCurrentUpdatePriority,zo=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var qu=e.shouldAttemptEagerTransition,Y_=e.detachDeletedInstance;e.requestPostPaintCallback;var tE=e.maySuspendCommit,Wc=e.preloadInstance,co=e.startSuspendingCommit,dr=e.suspendInstance,Py=e.waitForCommitToBeReady,Da=e.NotPendingTransition,un=e.HostTransitionContext,Ii=e.resetFormInstance;e.bindToConsole;var Gr=e.supportsMicrotasks,Dy=e.scheduleMicrotask,rc=e.supportsTestSelectors,th=e.findFiberRoot,Ny=e.getBoundingRect,Tm=e.getTextContent,sc=e.isHiddenSubtree,kM=e.matchAccessibilityRole,pr=e.setFocusIfFocusable,K_=e.setupIntersectionObserver,Z_=e.appendChild,nE=e.appendChildToContainer,iE=e.commitTextUpdate,zM=e.commitMount,Q_=e.commitUpdate,J_=e.insertBefore,e1=e.insertInContainerBefore,pa=e.removeChild,Cr=e.removeChildFromContainer,wm=e.resetTextContent,Cm=e.hideInstance,Ly=e.hideTextInstance,t1=e.unhideInstance,$c=e.unhideTextInstance,Uy=e.clearContainer,n1=e.cloneInstance,ky=e.createContainerChildSet,i1=e.appendChildToContainerChildSet,rE=e.finalizeContainerChildren,r1=e.replaceContainerChildren,s1=e.cloneHiddenInstance,a1=e.cloneHiddenTextInstance,zy=e.isSuspenseInstancePending,Am=e.isSuspenseInstanceFallback,sE=e.getSuspenseInstanceFallbackErrorDetails,BM=e.registerSuspenseInstanceRetry,aE=e.canHydrateFormStateMarker,oE=e.isFormStateMarkerMatching,o1=e.getNextHydratableSibling,By=e.getFirstHydratableChild,lE=e.getFirstHydratableChildWithinContainer,cE=e.getFirstHydratableChildWithinSuspenseInstance,uE=e.canHydrateInstance,fE=e.canHydrateTextInstance,hE=e.canHydrateSuspenseInstance,FM=e.hydrateInstance,dE=e.hydrateTextInstance,Id=e.hydrateSuspenseInstance,pE=e.getNextHydratableInstanceAfterSuspenseInstance,Fy=e.commitHydratedContainer,Vy=e.commitHydratedSuspenseInstance,mE=e.clearSuspenseBoundary,l1=e.clearSuspenseBoundaryFromContainer,gE=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var yE=e.validateHydratableInstance,vE=e.validateHydratableTextInstance,uo=e.supportsResources,c1=e.isHostHoistableType,Hy=e.getHoistableRoot,jy=e.getResource,u1=e.acquireResource,f1=e.releaseResource,h1=e.hydrateHoistable,d1=e.mountHoistable,p1=e.unmountHoistable,VM=e.createHoistableInstance,m1=e.prepareToCommitHoistables,_E=e.mayResourceSuspendCommit,g1=e.preloadResource,y1=e.suspendResource,Ds=e.supportsSingletons,v1=e.resolveSingletonInstance,HM=e.clearSingleton,jM=e.acquireSingletonInstance,bE=e.releaseSingletonInstance,Pd=e.isHostSingletonType,Mm=[],Xc=-1,nh={},Na=Math.clz32?Math.clz32:M,Rm=Math.log,xE=Math.LN2,Dd=128,Om=4194304,Nd=Is.unstable_scheduleCallback,Im=Is.unstable_cancelCallback,SE=Is.unstable_shouldYield,EE=Is.unstable_requestPaint,Ns=Is.unstable_now,_1=Is.unstable_ImmediatePriority,TE=Is.unstable_UserBlockingPriority,Gy=Is.unstable_NormalPriority,qy=Is.unstable_IdlePriority,wE=Is.log,b1=Is.unstable_setDisableYieldValue,Ld=null,La=null,fo=typeof Object.is=="function"?Object.is:Q,Wy=new WeakMap,Ki=[],mr=0,Pm=null,Dm=0,ho=[],po=0,gl=null,ac=1,Bo="",xs=E(null),Nm=E(null),yl=E(null),Ud=E(null),$s=null,Ls=null,si=!1,mo=null,Fo=!1,Lm=Error(r(519)),go=[],Wu=0,kd=0,zd=null,ih=null,Um=!1,km=!1,vl=!1,$u=0,zm=null,$y=0,Ua=0,Xu=null,Yc=!1,Bd=!1,Bm=Object.prototype.hasOwnProperty,Mi=Error(r(460)),x1=Error(r(474)),Xy={then:function(){}},rh=null,oc=null,Vo=0,Yu=Mt(!0),S1=Mt(!1),lc=E(null),yo=E(0),vo=E(null),Ho=null,qr=E(0),cc=0,On=null,yi=null,Ar=null,jo=!1,Zi=!1,Kc=!1,Fm=0,gr=0,Fd=null,CE=0,Yy=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},ai={readContext:Ee,use:De,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn};ai.useCacheRefresh=dn,ai.useMemoCache=dn,ai.useHostTransitionStatus=dn,ai.useFormState=dn,ai.useActionState=dn,ai.useOptimistic=dn;var Wr={readContext:Ee,use:De,useCallback:function(d,m){return re().memoizedState=[d,m===void 0?null:m],d},useContext:Ee,useEffect:nm,useImperativeHandle:function(d,m,T){T=T!=null?T.concat([d]):null,ad(4194308,4,ul.bind(null,m,d),T)},useLayoutEffect:function(d,m){return ad(4194308,4,d,m)},useInsertionEffect:function(d,m){ad(4,2,d,m)},useMemo:function(d,m){var T=re();m=m===void 0?null:m;var O=d();if(Kc){$(!0);try{d()}finally{$(!1)}}return T.memoizedState=[O,m],O},useReducer:function(d,m,T){var O=re();if(T!==void 0){var B=T(m);if(Kc){$(!0);try{T(m)}finally{$(!1)}}}else B=m;return O.memoizedState=O.baseState=B,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:B},O.queue=d,d=d.dispatch=so.bind(null,On,d),[O.memoizedState,d]},useRef:function(d){var m=re();return d={current:d},m.memoizedState=d},useState:function(d){d=Wn(d);var m=d.queue,T=kf.bind(null,On,m);return m.dispatch=T,[d.memoizedState,T]},useDebugValue:Tu,useDeferredValue:function(d,m){var T=re();return la(T,d,m)},useTransition:function(){var d=Wn(!1);return d=od.bind(null,On,d.queue,!0,!1),re().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,m,T){var O=On,B=re();if(si){if(T===void 0)throw Error(r(407));T=T()}else{if(T=m(),qn===null)throw Error(r(349));(Fn&60)!==0||Jt(O,m,T)}B.memoizedState=T;var G={value:T,getSnapshot:m};return B.queue=G,nm(Bn.bind(null,O,G,d),[d]),O.flags|=2048,Os(9,Gt.bind(null,O,G,T,m),{destroy:void 0},null),T},useId:function(){var d=re(),m=qn.identifierPrefix;if(si){var T=Bo,O=ac;T=(O&~(1<<32-Na(O)-1)).toString(32)+T,m=":"+m+"R"+T,T=Fm++,0<T&&(m+="H"+T.toString(32)),m+=":"}else T=CE++,m=":"+m+"r"+T.toString(32)+":";return d.memoizedState=m},useCacheRefresh:function(){return re().memoizedState=Hl.bind(null,On)}};Wr.useMemoCache=xe,Wr.useHostTransitionStatus=Fs,Wr.useFormState=ei,Wr.useActionState=ei,Wr.useOptimistic=function(d){var m=re();m.memoizedState=m.baseState=d;var T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=T,m=jl.bind(null,On,!0,T),T.dispatch=m,[d,m]};var Xs={readContext:Ee,use:De,useCallback:Uf,useContext:Ee,useEffect:Lf,useImperativeHandle:is,useInsertionEffect:hy,useLayoutEffect:dy,useMemo:Vl,useReducer:Tt,useRef:Tr,useState:function(){return Tt(st)},useDebugValue:Tu,useDeferredValue:function(d,m){var T=_e();return im(T,yi.memoizedState,d,m)},useTransition:function(){var d=Tt(st)[0],m=_e().memoizedState;return[typeof d=="boolean"?d:Le(d),m]},useSyncExternalStore:sn,useId:No};Xs.useCacheRefresh=ld,Xs.useMemoCache=xe,Xs.useHostTransitionStatus=Fs,Xs.useFormState=Er,Xs.useActionState=Er,Xs.useOptimistic=function(d,m){var T=_e();return on(T,yi,d,m)};var Ku={readContext:Ee,use:De,useCallback:Uf,useContext:Ee,useEffect:Lf,useImperativeHandle:is,useInsertionEffect:hy,useLayoutEffect:dy,useMemo:Vl,useReducer:Rt,useRef:Tr,useState:function(){return Rt(st)},useDebugValue:Tu,useDeferredValue:function(d,m){var T=_e();return yi===null?la(T,d,m):im(T,yi.memoizedState,d,m)},useTransition:function(){var d=Rt(st)[0],m=_e().memoizedState;return[typeof d=="boolean"?d:Le(d),m]},useSyncExternalStore:sn,useId:No};Ku.useCacheRefresh=ld,Ku.useMemoCache=xe,Ku.useHostTransitionStatus=Fs,Ku.useFormState=or,Ku.useActionState=or,Ku.useOptimistic=function(d,m){var T=_e();return yi!==null?on(T,yi,d,m):(T.baseState=d,[d,T.queue.dispatch])};var Ky={isMounted:function(d){return(d=d._reactInternals)?p(d)===d:!1},enqueueSetState:function(d,m,T){d=d._reactInternals;var O=ha(),B=wt(O);B.payload=m,T!=null&&(B.callback=T),m=At(d,B,O),m!==null&&(Gs(m,d,O),vt(m,d,O))},enqueueReplaceState:function(d,m,T){d=d._reactInternals;var O=ha(),B=wt(O);B.tag=1,B.payload=m,T!=null&&(B.callback=T),m=At(d,B,O),m!==null&&(Gs(m,d,O),vt(m,d,O))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var T=ha(),O=wt(T);O.tag=2,m!=null&&(O.callback=m),m=At(d,O,T),m!==null&&(Gs(m,d,T),vt(m,d,T))}},E1=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},AE=Error(r(461)),Mr=!1,Ys={dehydrated:null,treeContext:null,retryLane:0},ka=E(null),Zu=null,yr=null,ME=typeof AbortController<"u"?AbortController:function(){var d=[],m=this.signal={aborted:!1,addEventListener:function(T,O){d.push(O)}};this.abort=function(){m.aborted=!0,d.forEach(function(T){return T()})}},Zc=Is.unstable_scheduleCallback,sh=Is.unstable_NormalPriority,xi={$$typeof:tc,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Zy=nn.S;nn.S=function(d,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&ut(d,m),Zy!==null&&Zy(d,m)};var Qc=E(null),as=!1,cr=!1,Qu=!1,Vd=typeof WeakSet=="function"?WeakSet:Set,vr=null,ah=!1,Rr=null,za=!1,ma=null,oh=8192,Qy={getCacheForType:function(d){var m=Ee(xi),T=m.data.get(d);return T===void 0&&(T=d(),m.data.set(d,T)),T}},Vm=0,Jy=1,ev=2,ti=3,Si=4;if(typeof Symbol=="function"&&Symbol.for){var In=Symbol.for;Vm=In("selector.component"),Jy=In("selector.has_pseudo_class"),ev=In("selector.role"),ti=In("selector.test_id"),Si=In("selector.text")}var Yn=typeof WeakMap=="function"?WeakMap:Map,Yt=0,qn=null,En=null,Fn=0,Pi=0,Or=null,Ei=!1,_o=!1,Jc=!1,_l=0,ni=0,bo=0,bl=0,Ks=0,Ba=0,eu=0,Hd=null,xo=null,jd=!1,uc=0,ur=1/0,xl=null,So=null,Go=!1,tu=null,lh=0,tv=0,ch=null,uh=0,ga=null;return Xt.attemptContinuousHydration=function(d){if(d.tag===13){var m=Ne(d,67108864);m!==null&&Gs(m,d,67108864),k_(d,67108864)}},Xt.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var m=ha(),T=Ne(d,m);T!==null&&Gs(T,d,m),k_(d,m)}},Xt.attemptSynchronousHydration=function(d){switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=C(d.pendingLanes);if(m!==0){for(d.pendingLanes|=2,d.entangledLanes|=2;m;){var T=1<<31-Na(m);d.entanglements[1]|=T,m&=~T}qe(d),(Yt&6)===0&&(ur=Ns()+500,ae(0))}}break;case 13:m=Ne(d,2),m!==null&&Gs(m,d,2),P_(),k_(d,2)}},Xt.batchedUpdates=function(d,m){return d(m)},Xt.createComponentSelector=function(d){return{$$typeof:Vm,value:d}},Xt.createContainer=function(d,m,T,O,B,G,oe,me,Ce,Je){return bs(d,m,!1,null,T,O,G,oe,me,Ce,Je,null)},Xt.createHasPseudoClassSelector=function(d){return{$$typeof:Jy,value:d}},Xt.createHydrationContainer=function(d,m,T,O,B,G,oe,me,Ce,Je,bt,Ot,Nt){return d=bs(T,O,!0,d,B,G,me,Ce,Je,bt,Ot,Nt),d.context=vm(null),T=d.current,O=ha(),B=wt(O),B.callback=m??null,At(T,B,O),d.current.lanes=O,V(d,O),qe(d),d},Xt.createPortal=function(d,m,T){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pl,key:O==null?null:""+O,children:d,containerInfo:m,implementation:T}},Xt.createRoleSelector=function(d){return{$$typeof:ev,value:d}},Xt.createTestNameSelector=function(d){return{$$typeof:ti,value:d}},Xt.createTextSelector=function(d){return{$$typeof:Si,value:d}},Xt.defaultOnCaughtError=function(d){console.error(d)},Xt.defaultOnRecoverableError=function(d){E1(d)},Xt.defaultOnUncaughtError=function(d){E1(d)},Xt.deferredUpdates=function(d){var m=nn.T,T=ss();try{return Ws(32),nn.T=null,d()}finally{Ws(T),nn.T=m}},Xt.discreteUpdates=function(d,m,T,O,B){var G=nn.T,oe=ss();try{return Ws(2),nn.T=null,d(m,T,O,B)}finally{Ws(oe),nn.T=G,Yt===0&&(ur=Ns()+500)}},Xt.findAllNodes=fa,Xt.findBoundingRects=function(d,m){if(!rc)throw Error(r(363));m=fa(d,m),d=[];for(var T=0;T<m.length;T++)d.push(Ny(m[T]));for(m=d.length-1;0<m;m--){T=d[m];for(var O=T.x,B=O+T.width,G=T.y,oe=G+T.height,me=m-1;0<=me;me--)if(m!==me){var Ce=d[me],Je=Ce.x,bt=Je+Ce.width,Ot=Ce.y,Nt=Ot+Ce.height;if(O>=Je&&G>=Ot&&B<=bt&&oe<=Nt){d.splice(m,1);break}else if(O!==Je||T.width!==Ce.width||Nt<G||Ot>oe){if(!(G!==Ot||T.height!==Ce.height||bt<O||Je>B)){Je>O&&(Ce.width+=Je-O,Ce.x=O),bt<B&&(Ce.width=B-Je),d.splice(m,1);break}}else{Ot>G&&(Ce.height+=Ot-G,Ce.y=G),Nt<oe&&(Ce.height=oe-Ot),d.splice(m,1);break}}}return d},Xt.findHostInstance=U_,Xt.findHostInstanceWithNoPortals=function(d){return d=v(d),d=d!==null?S(d):null,d===null?null:Od(d.stateNode)},Xt.findHostInstanceWithWarning=function(d){return U_(d)},Xt.flushPassiveEffects=_s,Xt.flushSyncFromReconciler=function(d){var m=Yt;Yt|=1;var T=nn.T,O=ss();try{if(Ws(2),nn.T=null,d)return d()}finally{Ws(O),nn.T=T,Yt=m,(Yt&6)===0&&ae(0)}},Xt.flushSyncWork=P_,Xt.focusWithin=function(d,m){if(!rc)throw Error(r(363));for(d=Sy(d),m=$S(d,m),m=Array.from(m),d=0;d<m.length;){var T=m[d++],O=T.tag;if(!sc(T)){if((O===5||O===26||O===27)&&pr(T.stateNode))return!0;for(T=T.child;T!==null;)m.push(T),T=T.sibling}}return!1},Xt.getFindAllNodesFailureDescription=function(d,m){if(!rc)throw Error(r(363));var T=0,O=[];d=[Sy(d),0];for(var B=0;B<d.length;){var G=d[B++],oe=G.tag,me=d[B++],Ce=m[me];if((oe!==5&&oe!==26&&oe!==27||!sc(G))&&(wd(G,Ce)&&(O.push(Uu(Ce)),me++,me>T&&(T=me)),me<m.length))for(G=G.child;G!==null;)d.push(G,me),G=G.sibling}if(T<m.length){for(d=[];T<m.length;T++)d.push(Uu(m[T]));return`findAllNodes was able to match part of the selector:
  `+(O.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},Xt.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 27:case 5:return Od(d.child.stateNode);default:return d.child.stateNode}},Xt.injectIntoDevTools=function(){var d={bundleType:0,version:Oy,rendererPackageName:xm,currentDispatcherRef:nn,findFiberByHostInstance:$_,reconcilerVersion:"19.0.0"};if(Sm!==null&&(d.rendererConfig=Sm),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)d=!0;else{try{Ld=m.inject(d),La=m}catch{}d=!!m.checkDCE}}return d},Xt.isAlreadyRendering=function(){return!1},Xt.observeVisibleRects=function(d,m,T,O){if(!rc)throw Error(r(363));d=fa(d,m);var B=K_(d,T,O).disconnect;return{disconnect:function(){B()}}},Xt.shouldError=function(){return null},Xt.shouldSuspend=function(){return!1},Xt.startHostTransition=function(d,m,T,O){if(d.tag!==5)throw Error(r(476));var B=rm(d).queue;od(d,B,m,Da,T===null?i:function(){var G=rm(d).next.queue;return Ma(d,G,{},ha()),T(O)})},Xt.updateContainer=function(d,m,T,O){var B=m.current,G=ha();return KS(B,G,d,m,T,O),G},Xt.updateContainerSync=function(d,m,T,O){return m.tag===0&&_s(),KS(m.current,2,d,m,T,O),2},Xt},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(a3)),a3.exports}var R6;function ySe(){return R6||(R6=1,s3.exports=gSe()),s3.exports}var vSe=ySe();const _Se=$p(vSe);var O6=lW();function BL(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=BL(i,e,t);if(r)return r;i=e?null:i.sibling}}function cW(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const FL=cW(H.createContext(null));let uW=class extends H.Component{render(){return H.createElement(FL.Provider,{value:this._reactInternals},this.props.children)}};function fW(){const n=H.useContext(FL);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=H.useId();return H.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=BL(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[n,e])}const bSe=Symbol.for("react.context"),xSe=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===bSe;function SSe(){const n=fW(),[e]=H.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;xSe(i)&&i!==FL&&!e.has(i)&&e.set(i,H.use(cW(i))),t=t.return}return e}function ESe(){const n=SSe();return H.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>H.createElement(e,null,H.createElement(t.Provider,{...i,value:n.get(t)})),e=>H.createElement(uW,{...e})),[n])}function hW(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const dW=n=>n&&n.isOrthographicCamera,TSe=n=>n&&n.hasOwnProperty("current"),wSe=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),FS=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?H.useLayoutEffect:H.useEffect;function VL(n){const e=H.useRef(n);return FS(()=>void(e.current=n),[n]),e}function CSe(){const n=fW(),e=ESe();return H.useMemo(()=>({children:t})=>{const r=!!BL(n,!0,s=>s.type===H.StrictMode)?H.StrictMode:H.Fragment;return Z.jsx(r,{children:Z.jsx(e,{children:t})})},[n,e])}function ASe({set:n}){return FS(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const MSe=(n=>(n=class extends H.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function pW(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Dv(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Pr={obj:n=>n===Object(n)&&!Pr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Pr.str(n)||Pr.num(n)||Pr.boo(n))return n===e;const s=Pr.obj(n);if(s&&i==="reference")return n===e;const a=Pr.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(o in r?e:n)if(!Pr.equ(n[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:n)if(n[o]!==e[o])return!1;if(Pr.und(o)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function RSe(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const mW=["children","key","ref"];function OSe(n){const e={};for(const t in n)mW.includes(t)||(e[t]=n[t]);return e}function zC(n,e,t,i){const r=n;let s=r?.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:OSe(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function eS(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const r of i){if(typeof t!="object"||t===null){if(t!==void 0){const s=i.slice(i.indexOf(r)).join("-");return{root:t,key:s,target:void 0}}return{root:n,key:e,target:void 0}}e=r,n=t,t=t[e]}return{root:n,key:e,target:t}}const I6=/-\d+$/;function BC(n,e){if(Pr.str(e.props.attach)){if(I6.test(e.props.attach)){const r=e.props.attach.replace(I6,""),{root:s,key:a}=eS(n.object,r);Array.isArray(s[a])||(s[a]=[])}const{root:t,key:i}=eS(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Pr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function FC(n,e){if(Pr.str(e.props.attach)){const{root:t,key:i}=eS(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const RP=[...mW,"args","dispose","attach","object","onUpdate","dispose"],P6=new Map;function ISe(n){let e=P6.get(n.constructor);try{e||(e=new n.constructor,P6.set(n.constructor,e))}catch{}return e}function PSe(n,e){const t={};for(const i in e)if(!RP.includes(i)&&!Pr.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(RP.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:s}=eS(n.object,i);if(r.constructor&&r.constructor.length===0){const a=ISe(r);Pr.und(a)||(t[s]=a[s])}else t[s]=0}return t}const DSe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],NSe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function mp(n,e){var t;const i=n.__r3f,r=i&&hW(i).getState(),s=i?.eventCount;for(const o in e){let c=e[o];if(RP.includes(o))continue;if(i&&NSe.test(o)){typeof c=="function"?i.handlers[o]=c:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(c===void 0)continue;let{root:u,key:h,target:p}=eS(n,o);if(p===void 0&&(typeof u!="object"||u===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${h}".`);if(p instanceof F0&&c instanceof F0)p.mask=c.mask;else if(p instanceof Ut&&wSe(c))p.set(c);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof p.copy=="function"&&c!=null&&c.constructor&&p.constructor===c.constructor)p.copy(c);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&Array.isArray(c))typeof p.fromArray=="function"?p.fromArray(c):p.set(...c);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof c=="number")typeof p.setScalar=="function"?p.setScalar(c):p.set(c);else{var a;u[h]=c,r&&!r.linear&&DSe.includes(h)&&(a=u[h])!=null&&a.isTexture&&u[h].format===Qa&&u[h].type===wc&&(u[h].colorSpace=ba)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&s!==i.eventCount){const o=i.object,c=r.internal.interaction.indexOf(o);c>-1&&r.internal.interaction.splice(c,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&E_(i),n}function E_(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function gW(n,e){n.manual||(dW(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Yo=n=>n?.isObject3D;function ow(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function yW(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function LSe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{yW(t.capturedMap,e,i,r)})}function USe(n){function e(c){const{internal:u}=n.getState(),h=c.offsetX-u.initialClick[0],p=c.offsetY-u.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function t(c){return c.filter(u=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=u.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function i(c,u){const h=n.getState(),p=new Set,y=[],v=u?u(h.internal.interaction):h.internal.interaction;for(let x=0;x<v.length;x++){const w=Dv(v[x]);w&&(w.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(c,h);function _(x){const w=Dv(x);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var M;w.events.compute==null||w.events.compute(c,w,(M=w.previousRoot)==null?void 0:M.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(x,!0):[]}let S=v.flatMap(_).sort((x,w)=>{const M=Dv(x.object),C=Dv(w.object);return!M||!C?x.distance-w.distance:C.events.priority-M.events.priority||x.distance-w.distance}).filter(x=>{const w=ow(x);return p.has(w)?!1:(p.add(w),!0)});h.events.filter&&(S=h.events.filter(S,h));for(const x of S){let w=x.object;for(;w;){var E;(E=w.__r3f)!=null&&E.eventCount&&y.push({...x,eventObject:w}),w=w.parent}}if("pointerId"in c&&h.internal.capturedMap.has(c.pointerId))for(let x of h.internal.capturedMap.get(c.pointerId).values())p.has(ow(x.intersection))||y.push(x.intersection);return y}function r(c,u,h,p){if(c.length){const y={stopped:!1};for(const v of c){let _=Dv(v.object);if(_||v.object.traverseAncestors(S=>{const E=Dv(S);if(E)return _=E,!1}),_){const{raycaster:S,pointer:E,camera:x,internal:w}=_,M=new fe(E.x,E.y,0).unproject(x),C=P=>{var U,V;return(U=(V=w.capturedMap.get(P))==null?void 0:V.has(v.eventObject))!=null?U:!1},D=P=>{const U={intersection:v,target:u.target};w.capturedMap.has(P)?w.capturedMap.get(P).set(v.eventObject,U):w.capturedMap.set(P,new Map([[v.eventObject,U]])),u.target.setPointerCapture(P)},L=P=>{const U=w.capturedMap.get(P);U&&yW(w.capturedMap,v.eventObject,U,P)};let I={};for(let P in u){let U=u[P];typeof U!="function"&&(I[P]=U)}let N={...v,...I,pointer:E,intersections:c,stopped:y.stopped,delta:h,unprojectedPoint:M,ray:S.ray,camera:x,stopPropagation(){const P="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!P||P.has(v.eventObject))&&(N.stopped=y.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(U=>U.eventObject===v.eventObject))){const U=c.slice(0,c.indexOf(v));s([...U,v])}},target:{hasPointerCapture:C,setPointerCapture:D,releasePointerCapture:L},currentTarget:{hasPointerCapture:C,setPointerCapture:D,releasePointerCapture:L},nativeEvent:u};if(p(N),y.stopped===!0)break}}}return c}function s(c){const{internal:u}=n.getState();for(const h of u.hovered.values())if(!c.length||!c.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const y=h.eventObject.__r3f;if(u.hovered.delete(ow(h)),y!=null&&y.eventCount){const v=y.handlers,_={...h,intersections:c};v.onPointerOut==null||v.onPointerOut(_),v.onPointerLeave==null||v.onPointerLeave(_)}}}function a(c,u){for(let h=0;h<u.length;h++){const p=u[h].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(c)}}function o(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:h}=n.getState();"pointerId"in u&&h.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(u.pointerId)&&(h.capturedMap.delete(u.pointerId),s([]))})}}return function(h){const{onPointerMissed:p,internal:y}=n.getState();y.lastEvent.current=h;const v=c==="onPointerMove",_=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",E=i(h,v?t:void 0),x=_?e(h):0;c==="onPointerDown"&&(y.initialClick=[h.offsetX,h.offsetY],y.initialHits=E.map(M=>M.eventObject)),_&&!E.length&&x<=2&&(a(h,y.interaction),p&&p(h)),v&&s(E);function w(M){const C=M.eventObject,D=C.__r3f;if(!(D!=null&&D.eventCount))return;const L=D.handlers;if(v){if(L.onPointerOver||L.onPointerEnter||L.onPointerOut||L.onPointerLeave){const I=ow(M),N=y.hovered.get(I);N?N.stopped&&M.stopPropagation():(y.hovered.set(I,M),L.onPointerOver==null||L.onPointerOver(M),L.onPointerEnter==null||L.onPointerEnter(M))}L.onPointerMove==null||L.onPointerMove(M)}else{const I=L[c];I?(!_||y.initialHits.includes(C))&&(a(h,y.interaction.filter(N=>!y.initialHits.includes(N))),I(M)):_&&y.initialHits.includes(C)&&a(h,y.interaction.filter(N=>!y.initialHits.includes(N)))}}r(E,h,x,w)}}return{handlePointer:o}}const D6=n=>!!(n!=null&&n.render),HL=H.createContext(null),kSe=(n,e)=>{const t=oW((o,c)=>{const u=new fe,h=new fe,p=new fe;function y(x=c().camera,w=h,M=c().size){const{width:C,height:D,top:L,left:I}=M,N=C/D;w.isVector3?p.copy(w):p.set(...w);const P=x.getWorldPosition(u).distanceTo(p);if(dW(x))return{width:C/x.zoom,height:D/x.zoom,top:L,left:I,factor:1,distance:P,aspect:N};{const U=x.fov*Math.PI/180,V=2*Math.tan(U/2)*P,z=V*(C/D);return{width:z,height:V,top:L,left:I,factor:C/z,distance:P,aspect:N}}}let v;const _=x=>o(w=>({performance:{...w.performance,current:x}})),S=new it;return{set:o,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(x=1)=>n(c(),x),advance:(x,w)=>e(x,w,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new QN,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=c();v&&clearTimeout(v),x.performance.current!==x.performance.min&&_(x.performance.min),v=setTimeout(()=>_(c().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:x=>o(w=>({...w,events:{...w.events,...x}})),setSize:(x,w,M=0,C=0)=>{const D=c().camera,L={width:x,height:w,top:M,left:C};o(I=>({size:L,viewport:{...I.viewport,...y(D,h,L)}}))},setDpr:x=>o(w=>{const M=pW(x);return{viewport:{...w.viewport,dpr:M,initialDpr:w.viewport.initialDpr||M}}}),setFrameloop:(x="always")=>{const w=c().clock;w.stop(),w.elapsedTime=0,x!=="never"&&(w.start(),w.elapsedTime=0),o(()=>({frameloop:x}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:H.createRef(),active:!1,frames:0,priority:0,subscribe:(x,w,M)=>{const C=c().internal;return C.priority=C.priority+(w>0?1:0),C.subscribers.push({ref:x,priority:w,store:M}),C.subscribers=C.subscribers.sort((D,L)=>D.priority-L.priority),()=>{const D=c().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(w>0?1:0),D.subscribers=D.subscribers.filter(L=>L.ref!==x))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:o,size:c,viewport:u,gl:h,set:p}=t.getState();if(c.width!==r.width||c.height!==r.height||u.dpr!==s){r=c,s=u.dpr,gW(o,c),u.dpr>0&&h.setPixelRatio(u.dpr);const y=typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(c.width,c.height,y)}o!==a&&(a=o,p(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function jL(){const n=H.useContext(HL);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ws(n=t=>t,e){return jL()(n,e)}function VS(n,e=0){const t=jL(),i=t.getState().internal.subscribe,r=VL(n);return FS(()=>i(r,e,t),[e,i,t]),null}var zSe={version:"9.4.2"};function BSe(n){const e=_Se(n);return e.injectIntoDevTools(),e}const vW=0,Q0={},FSe=/^three(?=[A-Z])/,RM=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let VSe=0;const HSe=n=>typeof n=="function";function _W(n){if(HSe(n)){const e=`${VSe++}`;return Q0[e]=n,e}else Object.assign(Q0,n)}function bW(n,e){const t=RM(n),i=Q0[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function jSe(n,e,t){var i;return n=RM(n)in Q0?n:n.replace(FSe,""),bW(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,zC(e.object,t,n,e)}function GSe(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?FC(n.parent,n):Yo(n.object)&&(n.object.visible=!1),n.isHidden=!0,E_(n)}}function xW(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?BC(n.parent,n):Yo(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,E_(n)}}function GL(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,s;const a=Q0[RM(e.type)];e.object=(r=e.props.object)!=null?r:new a(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(mp(e.object,e.props),e.props.attach)BC(n,e);else if(Yo(e.object)&&Yo(n.object)){const a=n.object.children.indexOf(t?.object);if(t&&a!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const c=o<a?a-1:a;n.object.children.splice(c,0,e.object)}else e.object.parent=n.object,n.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const a of e.children)GL(e,a);E_(e)}}function c3(n,e){e&&(e.parent=n,n.children.push(e),GL(n,e))}function N6(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),GL(n,e,t)}function SW(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():O6.unstable_scheduleCallback(O6.unstable_IdlePriority,e)}}function OP(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?FC(n,e):Yo(e.object)&&Yo(n.object)&&(n.object.remove(e.object),LSe(hW(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const a=e.children[s];OP(e,a,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&SW(e.object),t===void 0&&E_(e)}function qSe(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const o2=[];function WSe(){for(const[t]of o2){const i=t.parent;if(i){t.props.attach?FC(i,t):Yo(t.object)&&Yo(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?FC(t,r):Yo(r.object)&&Yo(t.object)&&t.object.remove(r.object)}t.isHidden&&xW(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&SW(t.object)}for(const[t,i,r]of o2){t.props=i;const s=t.parent;if(s){var n,e;const a=Q0[RM(t.type)];t.object=(n=t.props.object)!=null?n:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,qSe(r,t.object),mp(t.object,t.props),t.props.attach?BC(s,t):Yo(t.object)&&Yo(s.object)&&s.object.add(t.object);for(const o of t.children)o.props.attach?BC(t,o):Yo(o.object)&&Yo(t.object)&&t.object.add(o.object);E_(t)}}o2.length=0}const u3=()=>{},L6={};let lw=vW;const $Se=0,XSe=4,VC=BSe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:jSe,removeChild:OP,appendChild:c3,appendInitialChild:c3,insertBefore:N6,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||c3(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||OP(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||N6(i,e,t)},getRootHostContext:()=>L6,getChildHostContext:()=>L6,commitUpdate(n,e,t,i,r){var s,a,o;bW(e,i);let c=!1;if((n.type==="primitive"&&t.object!==i.object||((s=i.args)==null?void 0:s.length)!==((a=t.args)==null?void 0:a.length)||(o=i.args)!=null&&o.some((h,p)=>{var y;return h!==((y=t.args)==null?void 0:y[p])}))&&(c=!0),c)o2.push([n,{...i},r]);else{const h=PSe(n,i);Object.keys(h).length&&(Object.assign(n.props,h),mp(n.object,h))}(r.sibling===null||(r.flags&XSe)===$Se)&&WSe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>zC(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:GSe,unhideInstance:xW,createTextInstance:u3,hideTextInstance:u3,unhideTextInstance:u3,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:H.createContext(null),setCurrentUpdatePriority(n){lw=n},getCurrentUpdatePriority(){return lw},resolveUpdatePriority(){var n;if(lw!==vW)return lw;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return a2.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return a2.ContinuousEventPriority;default:return a2.DefaultEventPriority}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:zSe.version}),ey=new Map,Nv={objects:"shallow",strict:!1};function YSe(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function KSe(n){const e=ey.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||kSe(DP,k6),a=t||VC.createContainer(s,a2.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||ey.set(n,{fiber:a,store:s});let o,c,u=!1,h=null;return{async configure(p={}){let y;h=new Promise(Y=>y=Y);let{gl:v,size:_,scene:S,events:E,onCreated:x,shadows:w=!1,linear:M=!1,flat:C=!1,legacy:D=!1,orthographic:L=!1,frameloop:I="always",dpr:N=[1,2],performance:P,raycaster:U,camera:V,onPointerMissed:z}=p,F=s.getState(),K=F.gl;if(!F.gl){const Y={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},le=typeof v=="function"?await v(Y):v;D6(le)?K=le:K=new NG({...Y,...v}),F.set({gl:K})}let ee=F.raycaster;ee||F.set({raycaster:ee=new iM});const{params:q,...$}=U||{};if(Pr.equ($,ee,Nv)||mp(ee,{...$}),Pr.equ(q,ee.params,Nv)||mp(ee,{params:{...ee.params,...q}}),!F.camera||F.camera===c&&!Pr.equ(c,V,Nv)){c=V;const Y=V?.isCamera,le=Y?V:L?new CS(0,0,0,0,.1,1e3):new ea(75,0,.1,1e3);Y||(le.position.z=5,V&&(mp(le,V),le.manual||("aspect"in V||"left"in V||"right"in V||"bottom"in V||"top"in V)&&(le.manual=!0,le.updateProjectionMatrix())),!F.camera&&!(V!=null&&V.rotation)&&le.lookAt(0,0,0)),F.set({camera:le}),ee.camera=le}if(!F.scene){let Y;S!=null&&S.isScene?(Y=S,zC(Y,s,"",{})):(Y=new UA,zC(Y,s,"",{}),S&&mp(Y,S)),F.set({scene:Y})}E&&!F.events.handlers&&F.set({events:E(s)});const Q=YSe(n,_);if(Pr.equ(Q,F.size,Nv)||F.setSize(Q.width,Q.height,Q.top,Q.left),N&&F.viewport.dpr!==pW(N)&&F.setDpr(N),F.frameloop!==I&&F.setFrameloop(I),F.onPointerMissed||F.set({onPointerMissed:z}),P&&!Pr.equ(P,F.performance,Nv)&&F.set(Y=>({performance:{...Y.performance,...P}})),!F.xr){var se;const Y=(ue,ie)=>{const he=s.getState();he.frameloop!=="never"&&k6(ue,!0,he,ie)},le=()=>{const ue=s.getState();ue.gl.xr.enabled=ue.gl.xr.isPresenting,ue.gl.xr.setAnimationLoop(ue.gl.xr.isPresenting?Y:null),ue.gl.xr.isPresenting||DP(ue)},pe={connect(){const ue=s.getState().gl;ue.xr.addEventListener("sessionstart",le),ue.xr.addEventListener("sessionend",le)},disconnect(){const ue=s.getState().gl;ue.xr.removeEventListener("sessionstart",le),ue.xr.removeEventListener("sessionend",le)}};typeof((se=K.xr)==null?void 0:se.addEventListener)=="function"&&pe.connect(),F.set({xr:pe})}if(K.shadowMap){const Y=K.shadowMap.enabled,le=K.shadowMap.type;if(K.shadowMap.enabled=!!w,Pr.boo(w))K.shadowMap.type=$b;else if(Pr.str(w)){var de;const pe={basic:zH,percentage:SA,soft:$b,variance:cu};K.shadowMap.type=(de=pe[w])!=null?de:$b}else Pr.obj(w)&&Object.assign(K.shadowMap,w);(Y!==K.shadowMap.enabled||le!==K.shadowMap.type)&&(K.shadowMap.needsUpdate=!0)}return ci.enabled=!D,u||(K.outputColorSpace=M?Hp:ba,K.toneMapping=C?Cf:_N),F.legacy!==D&&F.set(()=>({legacy:D})),F.linear!==M&&F.set(()=>({linear:M})),F.flat!==C&&F.set(()=>({flat:C})),v&&!Pr.fun(v)&&!D6(v)&&!Pr.equ(v,K,Nv)&&mp(K,v),o=x,u=!0,y(),this},render(p){return!u&&!h&&this.configure(),h.then(()=>{VC.updateContainer(Z.jsx(ZSe,{store:s,children:p,onCreated:o,rootElement:n}),a,null,()=>{})}),s},unmount(){EW(n)}}}function ZSe({store:n,children:e,onCreated:t,rootElement:i}){return FS(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),Z.jsx(HL.Provider,{value:n,children:e})}function EW(n,e){const t=ey.get(n),i=t?.fiber;if(i){const r=t?.store.getState();r&&(r.internal.active=!1),VC.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,a,o,c;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(c=r.gl)!=null&&c.xr&&r.xr.disconnect(),RSe(r.scene),ey.delete(n)}catch{}},500)})}}function QSe(n,e,t){return Z.jsx(JSe,{children:n,container:e,state:t})}function JSe({state:n={},children:e,container:t}){const{events:i,size:r,...s}=n,a=jL(),[o]=H.useState(()=>new iM),[c]=H.useState(()=>new it),u=VL((p,y)=>{let v;if(y.camera&&r){const _=y.camera;v=p.viewport.getCurrentViewport(_,new fe,r),_!==p.camera&&gW(_,r)}return{...p,...y,scene:t,raycaster:o,pointer:c,mouse:c,previousRoot:a,events:{...p.events,...y.events,...i},size:{...p.size,...r},viewport:{...p.viewport,...v},setEvents:_=>y.set(S=>({...S,events:{...S.events,..._}}))}}),h=H.useMemo(()=>{const p=oW((v,_)=>({...s,set:v,get:_})),y=v=>p.setState(_=>u.current(v,_));return y(a.getState()),a.subscribe(y),p},[a,t]);return Z.jsx(Z.Fragment,{children:VC.createPortal(Z.jsx(HL.Provider,{value:h,children:e}),h,null)})}const eEe=new Set,tEe=new Set,nEe=new Set;function f3(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function ux(n,e){switch(n){case"before":return f3(eEe,e);case"after":return f3(tEe,e);case"tail":return f3(nEe,e)}}let h3,d3;function IP(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),h3=e.internal.subscribers;for(let r=0;r<h3.length;r++)d3=h3[r],d3.ref.current(d3.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let HC=!1,PP=!1,p3,U6,Lv;function TW(n){U6=requestAnimationFrame(TW),HC=!0,p3=0,ux("before",n),PP=!0;for(const t of ey.values()){var e;Lv=t.store.getState(),Lv.internal.active&&(Lv.frameloop==="always"||Lv.internal.frames>0)&&!((e=Lv.gl.xr)!=null&&e.isPresenting)&&(p3+=IP(n,Lv))}if(PP=!1,ux("after",n),p3===0)return ux("tail",n),HC=!1,cancelAnimationFrame(U6)}function DP(n,e=1){var t;if(!n)return ey.forEach(i=>DP(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):PP?n.internal.frames=2:n.internal.frames=1,HC||(HC=!0,requestAnimationFrame(TW)))}function k6(n,e=!0,t,i){if(e&&ux("before",n),t)IP(n,t,i);else for(const r of ey.values())IP(n,r.store.getState());e&&ux("after",n)}const m3={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function iEe(n){const{handlePointer:e}=USe(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(m3).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(s=>({events:{...s.events,connected:t}})),r.handlers)for(const s in r.handlers){const a=r.handlers[s],[o,c]=m3[s];t.addEventListener(o,a,{passive:c})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const s=i.handlers[r],[a]=m3[r];i.connected.removeEventListener(a,s)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function z6(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function rEe({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=H.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=H.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),c=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,h=H.useRef(!1);H.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,y,v]=H.useMemo(()=>{const x=()=>{if(!o.current.element)return;const{left:w,top:M,width:C,height:D,bottom:L,right:I,x:N,y:P}=o.current.element.getBoundingClientRect(),U={left:w,top:M,width:C,height:D,bottom:L,right:I,x:N,y:P};o.current.element instanceof HTMLElement&&i&&(U.height=o.current.element.offsetHeight,U.width=o.current.element.offsetWidth),Object.freeze(U),h.current&&!lEe(o.current.lastBounds,U)&&a(o.current.lastBounds=U)};return[x,u?z6(x,u):x,c?z6(x,c):x]},[a,i,c,u]);function _(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",v,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function S(){o.current.element&&(o.current.resizeObserver=new r(v),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(x=>x.addEventListener("scroll",v,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const E=x=>{!x||x===o.current.element||(_(),o.current.element=x,o.current.scrollContainers=wW(x),S())};return aEe(v,!!e),sEe(y),H.useEffect(()=>{_(),S()},[e,v,y]),H.useEffect(()=>_,[]),[E,s,p]}function sEe(n){H.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function aEe(n,e){H.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function wW(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...wW(n.parentElement)]}const oEe=["x","y","top","bottom","left","right","width","height"],lEe=(n,e)=>oEe.every(t=>n[t]===e[t]);function cEe({ref:n,children:e,fallback:t,resize:i,style:r,gl:s,events:a=iEe,eventSource:o,eventPrefix:c,shadows:u,linear:h,flat:p,legacy:y,orthographic:v,frameloop:_,dpr:S,performance:E,raycaster:x,camera:w,scene:M,onPointerMissed:C,onCreated:D,...L}){H.useMemo(()=>_W(dde),[]);const I=CSe(),[N,P]=rEe({scroll:!0,debounce:{scroll:50,resize:0},...i}),U=H.useRef(null),V=H.useRef(null);H.useImperativeHandle(n,()=>U.current);const z=VL(C),[F,K]=H.useState(!1),[ee,q]=H.useState(!1);if(F)throw F;if(ee)throw ee;const $=H.useRef(null);FS(()=>{const se=U.current;if(P.width>0&&P.height>0&&se){$.current||($.current=KSe(se));async function de(){await $.current.configure({gl:s,scene:M,events:a,shadows:u,linear:h,flat:p,legacy:y,orthographic:v,frameloop:_,dpr:S,performance:E,raycaster:x,camera:w,size:P,onPointerMissed:(...Y)=>z.current==null?void 0:z.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(o?TSe(o)?o.current:o:V.current),c&&Y.setEvents({compute:(le,pe)=>{const ue=le[c+"X"],ie=le[c+"Y"];pe.pointer.set(ue/pe.size.width*2-1,-(ie/pe.size.height)*2+1),pe.raycaster.setFromCamera(pe.pointer,pe.camera)}}),D?.(Y)}}),$.current.render(Z.jsx(I,{children:Z.jsx(MSe,{set:q,children:Z.jsx(H.Suspense,{fallback:Z.jsx(ASe,{set:K}),children:e??null})})}))}de()}}),H.useEffect(()=>{const se=U.current;if(se)return()=>EW(se)},[]);const Q=o?"none":"auto";return Z.jsx("div",{ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...r},...L,children:Z.jsx("div",{ref:N,style:{width:"100%",height:"100%"},children:Z.jsx("canvas",{ref:U,style:{display:"block"},children:t})})})}function uEe(n){return Z.jsx(uW,{children:Z.jsx(cEe,{...n})})}function fEe(n,e,t){const i=ws(v=>v.size),r=ws(v=>v.viewport),s=typeof n=="number"?n:i.width*r.dpr,a=i.height*r.dpr,o=(typeof n=="number"?t:n)||{},{samples:c=0,depth:u,...h}=o,p=u??o.depthBuffer,y=H.useMemo(()=>{const v=new vu(s,a,{minFilter:hs,magFilter:hs,type:sy,...h});return p&&(v.depthTexture=new xS(s,a,Ro)),v.samples=c,v},[]);return H.useLayoutEffect(()=>{y.setSize(s,a),c&&(y.samples=c)},[c,y,s,a]),H.useEffect(()=>()=>y.dispose(),[]),y}const hEe=n=>typeof n=="function",dEe=H.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,children:i,makeDefault:r,...s},a)=>{const o=ws(({set:E})=>E),c=ws(({camera:E})=>E),u=ws(({size:E})=>E),h=H.useRef(null);H.useImperativeHandle(a,()=>h.current,[]);const p=H.useRef(null),y=fEe(e);H.useLayoutEffect(()=>{s.manual||h.current.updateProjectionMatrix()},[u,s]),H.useLayoutEffect(()=>{h.current.updateProjectionMatrix()}),H.useLayoutEffect(()=>{if(r){const E=c;return o(()=>({camera:h.current})),()=>o(()=>({camera:E}))}},[h,r,o]);let v=0,_=null;const S=hEe(i);return VS(E=>{S&&(t===1/0||v<t)&&(p.current.visible=!1,E.gl.setRenderTarget(y),_=E.scene.background,n&&(E.scene.background=n),E.gl.render(E.scene,h.current),E.scene.background=_,E.gl.setRenderTarget(null),p.current.visible=!0,v++)}),H.createElement(H.Fragment,null,H.createElement("orthographicCamera",Ko({left:u.width/-2,right:u.width/2,top:u.height/2,bottom:u.height/-2,ref:h},s),!S&&i),H.createElement("group",{ref:p},S&&i(y.texture)))});/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const Ir={LEFT:1,RIGHT:2,MIDDLE:4},ze=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,SCREEN_PAN:4,OFFSET:8,DOLLY:16,ZOOM:32,TOUCH_ROTATE:64,TOUCH_TRUCK:128,TOUCH_SCREEN_PAN:256,TOUCH_OFFSET:512,TOUCH_DOLLY:1024,TOUCH_ZOOM:2048,TOUCH_DOLLY_TRUCK:4096,TOUCH_DOLLY_SCREEN_PAN:8192,TOUCH_DOLLY_OFFSET:16384,TOUCH_DOLLY_ROTATE:32768,TOUCH_ZOOM_TRUCK:65536,TOUCH_ZOOM_OFFSET:131072,TOUCH_ZOOM_SCREEN_PAN:262144,TOUCH_ZOOM_ROTATE:524288}),Uv={NONE:0,IN:1,OUT:-1};function fg(n){return n.isPerspectiveCamera}function op(n){return n.isOrthographicCamera}const sp=Math.PI*2,B6=Math.PI/2,CW=1e-5,lb=Math.PI/180;function ou(n,e,t){return Math.max(e,Math.min(t,n))}function rr(n,e=CW){return Math.abs(n)<e}function Ni(n,e,t=CW){return rr(n-e,t)}function F6(n,e){return Math.round(n/e)*e}function cb(n){return isFinite(n)?n:n<0?-Number.MAX_VALUE:Number.MAX_VALUE}function ub(n){return Math.abs(n)<Number.MAX_VALUE?n:n*(1/0)}function cw(n,e,t,i,r=1/0,s){i=Math.max(1e-4,i);const a=2/i,o=a*s,c=1/(1+o+.48*o*o+.235*o*o*o);let u=n-e;const h=e,p=r*i;u=ou(u,-p,p),e=n-u;const y=(t.value+a*u)*s;t.value=(t.value-a*y)*c;let v=e+(u+y)*c;return h-n>0==v>h&&(v=h,t.value=(v-h)/s),v}function V6(n,e,t,i,r=1/0,s,a){i=Math.max(1e-4,i);const o=2/i,c=o*s,u=1/(1+c+.48*c*c+.235*c*c*c);let h=e.x,p=e.y,y=e.z,v=n.x-h,_=n.y-p,S=n.z-y;const E=h,x=p,w=y,M=r*i,C=M*M,D=v*v+_*_+S*S;if(D>C){const ee=Math.sqrt(D);v=v/ee*M,_=_/ee*M,S=S/ee*M}h=n.x-v,p=n.y-_,y=n.z-S;const L=(t.x+o*v)*s,I=(t.y+o*_)*s,N=(t.z+o*S)*s;t.x=(t.x-o*L)*u,t.y=(t.y-o*I)*u,t.z=(t.z-o*N)*u,a.x=h+(v+L)*u,a.y=p+(_+I)*u,a.z=y+(S+N)*u;const P=E-n.x,U=x-n.y,V=w-n.z,z=a.x-E,F=a.y-x,K=a.z-w;return P*z+U*F+V*K>0&&(a.x=E,a.y=x,a.z=w,t.x=(a.x-E)/s,t.y=(a.y-x)/s,t.z=(a.z-w)/s),a}function g3(n,e){e.set(0,0),n.forEach(t=>{e.x+=t.clientX,e.y+=t.clientY}),e.x/=n.length,e.y/=n.length}function y3(n,e){return op(n)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class pEe{_listeners={};addEventListener(e,t){const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e)}}}const mEe="3.1.2",uw=1/8,gEe=/Mac/.test(globalThis?.navigator?.platform);let bn,H6,fw,v3,Wo,Hn,Ci,kv,fb,sf,af,hg,j6,G6,Tl,zv,Bv,q6,_3,W6,b3,x3,hw,yEe=class NP extends pEe{static install(e){bn=e.THREE,H6=Object.freeze(new bn.Vector3(0,0,0)),fw=Object.freeze(new bn.Vector3(0,1,0)),v3=Object.freeze(new bn.Vector3(0,0,1)),Wo=new bn.Vector2,Hn=new bn.Vector3,Ci=new bn.Vector3,kv=new bn.Vector3,fb=new bn.Vector3,sf=new bn.Vector3,af=new bn.Vector3,hg=new bn.Vector3,j6=new bn.Vector3,G6=new bn.Vector3,Tl=new bn.Spherical,zv=new bn.Spherical,Bv=new bn.Box3,q6=new bn.Box3,_3=new bn.Sphere,W6=new bn.Quaternion,b3=new bn.Quaternion,x3=new bn.Matrix4,hw=new bn.Raycaster}static get ACTION(){return ze}minPolarAngle=0;maxPolarAngle=Math.PI;minAzimuthAngle=-1/0;maxAzimuthAngle=1/0;minDistance=Number.EPSILON;maxDistance=1/0;infinityDolly=!1;minZoom=.01;maxZoom=1/0;smoothTime=.25;draggingSmoothTime=.125;maxSpeed=1/0;azimuthRotateSpeed=1;polarRotateSpeed=1;dollySpeed=1;dollyDragInverted=!1;truckSpeed=2;dollyToCursor=!1;dragToOffset=!1;boundaryFriction=0;restThreshold=.01;colliderMeshes=[];mouseButtons;touches;cancel=()=>{};lockPointer;unlockPointer;_enabled=!0;_camera;_yAxisUpSpace;_yAxisUpSpaceInverse;_state=ze.NONE;_domElement;_viewport=null;_target;_targetEnd;_focalOffset;_focalOffsetEnd;_spherical;_sphericalEnd;_lastDistance;_zoom;_zoomEnd;_lastZoom;_cameraUp0;_target0;_position0;_zoom0;_focalOffset0;_dollyControlCoord;_changedDolly=0;_changedZoom=0;_nearPlaneCorners;_hasRested=!0;_boundary;_boundaryEnclosesCamera=!1;_needsUpdate=!0;_updatedLastTime=!1;_elementRect=new DOMRect;_isDragging=!1;_dragNeedsUpdate=!0;_activePointers=[];_lockedPointer=null;_interactiveArea=new DOMRect(0,0,1,1);_isUserControllingRotate=!1;_isUserControllingDolly=!1;_isUserControllingTruck=!1;_isUserControllingOffset=!1;_isUserControllingZoom=!1;_lastDollyDirection=Uv.NONE;_thetaVelocity={value:0};_phiVelocity={value:0};_radiusVelocity={value:0};_targetVelocity=new bn.Vector3;_focalOffsetVelocity=new bn.Vector3;_zoomVelocity={value:0};set verticalDragToForward(e){console.warn("camera-controls: `verticalDragToForward` was removed. Use `mouseButtons.left = CameraControls.ACTION.SCREEN_PAN` instead.")}constructor(e,t){super(),typeof bn>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new bn.Quaternion().setFromUnitVectors(this._camera.up,fw),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=ze.NONE,this._target=new bn.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new bn.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new bn.Spherical().setFromVector3(Hn.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new bn.Vector3,new bn.Vector3,new bn.Vector3,new bn.Vector3],this._updateNearPlaneCorners(),this._boundary=new bn.Box3(new bn.Vector3(-1/0,-1/0,-1/0),new bn.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new bn.Vector2,this.mouseButtons={left:ze.ROTATE,middle:ze.DOLLY,right:ze.TRUCK,wheel:fg(this._camera)?ze.DOLLY:op(this._camera)?ze.ZOOM:ze.NONE},this.touches={one:ze.TOUCH_ROTATE,two:fg(this._camera)?ze.TOUCH_DOLLY_TRUCK:op(this._camera)?ze.TOUCH_ZOOM_TRUCK:ze.NONE,three:ze.TOUCH_TRUCK};const i=new bn.Vector2,r=new bn.Vector2,s=new bn.Vector2,a=x=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const C=this._domElement.getBoundingClientRect(),D=x.clientX/C.width,L=x.clientY/C.height;if(D<this._interactiveArea.left||D>this._interactiveArea.right||L<this._interactiveArea.top||L>this._interactiveArea.bottom)return}const w=x.pointerType!=="mouse"?null:(x.buttons&Ir.LEFT)===Ir.LEFT?Ir.LEFT:(x.buttons&Ir.MIDDLE)===Ir.MIDDLE?Ir.MIDDLE:(x.buttons&Ir.RIGHT)===Ir.RIGHT?Ir.RIGHT:null;if(w!==null){const C=this._findPointerByMouseButton(w);C&&this._disposePointer(C)}if((x.buttons&Ir.LEFT)===Ir.LEFT&&this._lockedPointer)return;const M={pointerId:x.pointerId,clientX:x.clientX,clientY:x.clientY,deltaX:0,deltaY:0,mouseButton:w};this._activePointers.push(M),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.ownerDocument.addEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",c),this._isDragging=!0,y(x)},o=x=>{x.cancelable&&x.preventDefault();const w=x.pointerId,M=this._lockedPointer||this._findPointerById(w);if(M){if(M.clientX=x.clientX,M.clientY=x.clientY,M.deltaX=x.movementX,M.deltaY=x.movementY,this._state=0,x.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(x.buttons&Ir.LEFT)===Ir.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(x.buttons&Ir.MIDDLE)===Ir.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(x.buttons&Ir.RIGHT)===Ir.RIGHT&&(this._state=this._state|this.mouseButtons.right);v()}},c=x=>{const w=this._findPointerById(x.pointerId);if(!(w&&w===this._lockedPointer)){if(w&&this._disposePointer(w),x.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=ze.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=ze.NONE;_()}};let u=-1;const h=x=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===ze.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const I=this._domElement.getBoundingClientRect(),N=x.clientX/I.width,P=x.clientY/I.height;if(N<this._interactiveArea.left||N>this._interactiveArea.right||P<this._interactiveArea.top||P>this._interactiveArea.bottom)return}if(x.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===ze.ROTATE||this.mouseButtons.wheel===ze.TRUCK){const I=performance.now();u-I<1e3&&this._getClientRect(this._elementRect),u=I}const w=gEe?-1:-3,M=x.deltaMode===1&&!x.ctrlKey?x.deltaY/w:x.deltaY/(w*10),C=this.dollyToCursor?(x.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,D=this.dollyToCursor?(x.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(x.ctrlKey?ze.ZOOM:this.mouseButtons.wheel){case ze.ROTATE:{this._rotateInternal(x.deltaX,x.deltaY),this._isUserControllingRotate=!0;break}case ze.TRUCK:{this._truckInternal(x.deltaX,x.deltaY,!1,!1),this._isUserControllingTruck=!0;break}case ze.SCREEN_PAN:{this._truckInternal(x.deltaX,x.deltaY,!1,!0),this._isUserControllingTruck=!0;break}case ze.OFFSET:{this._truckInternal(x.deltaX,x.deltaY,!0,!1),this._isUserControllingOffset=!0;break}case ze.DOLLY:{this._dollyInternal(-M,C,D),this._isUserControllingDolly=!0;break}case ze.ZOOM:{this._zoomInternal(-M,C,D),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},p=x=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===NP.ACTION.NONE){const w=x instanceof PointerEvent?x.pointerId:0,M=this._findPointerById(w);M&&this._disposePointer(M),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c);return}x.preventDefault()}},y=x=>{if(!this._enabled)return;if(g3(this._activePointers,Wo),this._getClientRect(this._elementRect),i.copy(Wo),r.copy(Wo),this._activePointers.length>=2){const M=Wo.x-this._activePointers[1].clientX,C=Wo.y-this._activePointers[1].clientY,D=Math.sqrt(M*M+C*C);s.set(0,D);const L=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,I=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;r.set(L,I)}if(this._state=0,!x)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in x&&x.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(x.buttons&Ir.LEFT)===Ir.LEFT&&(this._state=this._state|this.mouseButtons.left),(x.buttons&Ir.MIDDLE)===Ir.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(x.buttons&Ir.RIGHT)===Ir.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&ze.ROTATE)===ze.ROTATE||(this._state&ze.TOUCH_ROTATE)===ze.TOUCH_ROTATE||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE||(this._state&ze.TOUCH_ZOOM_ROTATE)===ze.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&ze.TRUCK)===ze.TRUCK||(this._state&ze.SCREEN_PAN)===ze.SCREEN_PAN||(this._state&ze.TOUCH_TRUCK)===ze.TOUCH_TRUCK||(this._state&ze.TOUCH_SCREEN_PAN)===ze.TOUCH_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_ZOOM_TRUCK)===ze.TOUCH_ZOOM_TRUCK||(this._state&ze.TOUCH_ZOOM_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&ze.DOLLY)===ze.DOLLY||(this._state&ze.TOUCH_DOLLY)===ze.TOUCH_DOLLY||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&ze.ZOOM)===ze.ZOOM||(this._state&ze.TOUCH_ZOOM)===ze.TOUCH_ZOOM||(this._state&ze.TOUCH_ZOOM_TRUCK)===ze.TOUCH_ZOOM_TRUCK||(this._state&ze.TOUCH_ZOOM_SCREEN_PAN)===ze.TOUCH_ZOOM_SCREEN_PAN||(this._state&ze.TOUCH_ZOOM_OFFSET)===ze.TOUCH_ZOOM_OFFSET||(this._state&ze.TOUCH_ZOOM_ROTATE)===ze.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&ze.OFFSET)===ze.OFFSET||(this._state&ze.TOUCH_OFFSET)===ze.TOUCH_OFFSET||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET||(this._state&ze.TOUCH_ZOOM_OFFSET)===ze.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},v=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,g3(this._activePointers,Wo);const w=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,M=w?-w.deltaX:r.x-Wo.x,C=w?-w.deltaY:r.y-Wo.y;if(r.copy(Wo),((this._state&ze.ROTATE)===ze.ROTATE||(this._state&ze.TOUCH_ROTATE)===ze.TOUCH_ROTATE||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE||(this._state&ze.TOUCH_ZOOM_ROTATE)===ze.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(M,C),this._isUserControllingRotate=!0),(this._state&ze.DOLLY)===ze.DOLLY||(this._state&ze.ZOOM)===ze.ZOOM){const D=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,L=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0,I=this.dollyDragInverted?-1:1;(this._state&ze.DOLLY)===ze.DOLLY?(this._dollyInternal(I*C*uw,D,L),this._isUserControllingDolly=!0):(this._zoomInternal(I*C*uw,D,L),this._isUserControllingZoom=!0)}if((this._state&ze.TOUCH_DOLLY)===ze.TOUCH_DOLLY||(this._state&ze.TOUCH_ZOOM)===ze.TOUCH_ZOOM||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_ZOOM_TRUCK)===ze.TOUCH_ZOOM_TRUCK||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_ZOOM_SCREEN_PAN)===ze.TOUCH_ZOOM_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET||(this._state&ze.TOUCH_ZOOM_OFFSET)===ze.TOUCH_ZOOM_OFFSET||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE||(this._state&ze.TOUCH_ZOOM_ROTATE)===ze.TOUCH_ZOOM_ROTATE){const D=Wo.x-this._activePointers[1].clientX,L=Wo.y-this._activePointers[1].clientY,I=Math.sqrt(D*D+L*L),N=s.y-I;s.set(0,I);const P=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,U=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&ze.TOUCH_DOLLY)===ze.TOUCH_DOLLY||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET?(this._dollyInternal(N*uw,P,U),this._isUserControllingDolly=!0):(this._zoomInternal(N*uw,P,U),this._isUserControllingZoom=!0)}((this._state&ze.TRUCK)===ze.TRUCK||(this._state&ze.TOUCH_TRUCK)===ze.TOUCH_TRUCK||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_ZOOM_TRUCK)===ze.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(M,C,!1,!1),this._isUserControllingTruck=!0),((this._state&ze.SCREEN_PAN)===ze.SCREEN_PAN||(this._state&ze.TOUCH_SCREEN_PAN)===ze.TOUCH_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_ZOOM_SCREEN_PAN)===ze.TOUCH_ZOOM_SCREEN_PAN)&&(this._truckInternal(M,C,!1,!0),this._isUserControllingTruck=!0),((this._state&ze.OFFSET)===ze.OFFSET||(this._state&ze.TOUCH_OFFSET)===ze.TOUCH_OFFSET||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET||(this._state&ze.TOUCH_ZOOM_OFFSET)===ze.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(M,C,!0,!1),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},_=()=>{g3(this._activePointers,Wo),r.copy(Wo),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",S),this._domElement.ownerDocument.addEventListener("pointerlockerror",E),this._domElement.ownerDocument.addEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",c),y())},this.unlockPointer=()=>{this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),this._domElement?.ownerDocument.exitPointerLock(),this._domElement?.ownerDocument.removeEventListener("pointerlockchange",S),this._domElement?.ownerDocument.removeEventListener("pointerlockerror",E),this.cancel()};const S=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},E=()=>{this.unlockPointer()};this._addAllEventListeners=x=>{this._domElement=x,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",a),this._domElement.addEventListener("pointercancel",c),this._domElement.addEventListener("wheel",h,{passive:!1}),this._domElement.addEventListener("contextmenu",p)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",a),this._domElement.removeEventListener("pointercancel",c),this._domElement.removeEventListener("wheel",h,{passive:!1}),this._domElement.removeEventListener("contextmenu",p),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.ownerDocument.removeEventListener("pointerlockchange",S),this._domElement.ownerDocument.removeEventListener("pointerlockerror",E))},this.cancel=()=>{this._state!==ze.NONE&&(this._state=ze.NONE,this._activePointers.length=0,_())},t&&this.connect(t),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=ou(e.width,0,1),this._interactiveArea.height=ou(e.height,0,1),this._interactiveArea.x=ou(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=ou(e.y,0,1-this._interactiveArea.height)}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}rotate(e,t,i=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,i)}rotateAzimuthTo(e,t=!1){return this.rotateTo(e,this._sphericalEnd.phi,t)}rotatePolarTo(e,t=!1){return this.rotateTo(this._sphericalEnd.theta,e,t)}rotateTo(e,t,i=!1){this._isUserControllingRotate=!1;const r=ou(e,this.minAzimuthAngle,this.maxAzimuthAngle),s=ou(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=r,this._sphericalEnd.phi=s,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,i||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const a=!i||Ni(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Ni(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(a)}dolly(e,t=!1){return this.dollyTo(this._sphericalEnd.radius-e,t)}dollyTo(e,t=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=Uv.NONE,this._changedDolly=0,this._dollyToNoClamp(ou(e,this.minDistance,this.maxDistance),t)}_dollyToNoClamp(e,t=!1){const i=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const a=this._collisionTest(),o=Ni(a,this._spherical.radius);if(!(i>e)&&o)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,a)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const s=!t||Ni(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(s)}dollyInFixed(e,t=!1){this._targetEnd.add(this._getCameraDirection(fb).multiplyScalar(e)),t||this._target.copy(this._targetEnd);const i=!t||Ni(this._target.x,this._targetEnd.x,this.restThreshold)&&Ni(this._target.y,this._targetEnd.y,this.restThreshold)&&Ni(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}zoom(e,t=!1){return this.zoomTo(this._zoomEnd+e,t)}zoomTo(e,t=!1){this._isUserControllingZoom=!1,this._zoomEnd=ou(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const i=!t||Ni(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(i)}pan(e,t,i=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,i)}truck(e,t,i=!1){this._camera.updateMatrix(),sf.setFromMatrixColumn(this._camera.matrix,0),af.setFromMatrixColumn(this._camera.matrix,1),sf.multiplyScalar(e),af.multiplyScalar(-t);const r=Hn.copy(sf).add(af),s=Ci.copy(this._targetEnd).add(r);return this.moveTo(s.x,s.y,s.z,i)}forward(e,t=!1){Hn.setFromMatrixColumn(this._camera.matrix,0),Hn.crossVectors(this._camera.up,Hn),Hn.multiplyScalar(e);const i=Ci.copy(this._targetEnd).add(Hn);return this.moveTo(i.x,i.y,i.z,t)}elevate(e,t=!1){return Hn.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+Hn.x,this._targetEnd.y+Hn.y,this._targetEnd.z+Hn.z,t)}moveTo(e,t,i,r=!1){this._isUserControllingTruck=!1;const s=Hn.set(e,t,i).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,s,this.boundaryFriction),this._needsUpdate=!0,r||this._target.copy(this._targetEnd);const a=!r||Ni(this._target.x,this._targetEnd.x,this.restThreshold)&&Ni(this._target.y,this._targetEnd.y,this.restThreshold)&&Ni(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}lookInDirectionOf(e,t,i,r=!1){const o=Hn.set(e,t,i).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(o.x,o.y,o.z,r)}fitToBox(e,t,{cover:i=!1,paddingLeft:r=0,paddingRight:s=0,paddingBottom:a=0,paddingTop:o=0}={}){const c=[],u=e.isBox3?Bv.copy(e):Bv.setFromObject(e);u.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const h=F6(this._sphericalEnd.theta,B6),p=F6(this._sphericalEnd.phi,B6);c.push(this.rotateTo(h,p,t));const y=Hn.setFromSpherical(this._sphericalEnd).normalize(),v=W6.setFromUnitVectors(y,v3),_=Ni(Math.abs(y.y),1);_&&v.multiply(b3.setFromAxisAngle(fw,h)),v.multiply(this._yAxisUpSpaceInverse);const S=q6.makeEmpty();Ci.copy(u.min).applyQuaternion(v),S.expandByPoint(Ci),Ci.copy(u.min).setX(u.max.x).applyQuaternion(v),S.expandByPoint(Ci),Ci.copy(u.min).setY(u.max.y).applyQuaternion(v),S.expandByPoint(Ci),Ci.copy(u.max).setZ(u.min.z).applyQuaternion(v),S.expandByPoint(Ci),Ci.copy(u.min).setZ(u.max.z).applyQuaternion(v),S.expandByPoint(Ci),Ci.copy(u.max).setY(u.min.y).applyQuaternion(v),S.expandByPoint(Ci),Ci.copy(u.max).setX(u.min.x).applyQuaternion(v),S.expandByPoint(Ci),Ci.copy(u.max).applyQuaternion(v),S.expandByPoint(Ci),S.min.x-=r,S.min.y-=a,S.max.x+=s,S.max.y+=o,v.setFromUnitVectors(v3,y),_&&v.premultiply(b3.invert()),v.premultiply(this._yAxisUpSpace);const E=S.getSize(Hn),x=S.getCenter(Ci).applyQuaternion(v);if(fg(this._camera)){const w=this.getDistanceToFitBox(E.x,E.y,E.z,i);c.push(this.moveTo(x.x,x.y,x.z,t)),c.push(this.dollyTo(w,t)),c.push(this.setFocalOffset(0,0,0,t))}else if(op(this._camera)){const w=this._camera,M=w.right-w.left,C=w.top-w.bottom,D=i?Math.max(M/E.x,C/E.y):Math.min(M/E.x,C/E.y);c.push(this.moveTo(x.x,x.y,x.z,t)),c.push(this.zoomTo(D,t)),c.push(this.setFocalOffset(0,0,0,t))}return Promise.all(c)}fitToSphere(e,t){const i=[],s="isObject3D"in e?NP.createBoundingSphere(e,_3):_3.copy(e);if(i.push(this.moveTo(s.center.x,s.center.y,s.center.z,t)),fg(this._camera)){const a=this.getDistanceToFitSphere(s.radius);i.push(this.dollyTo(a,t))}else if(op(this._camera)){const a=this._camera.right-this._camera.left,o=this._camera.top-this._camera.bottom,c=2*s.radius,u=Math.min(a/c,o/c);i.push(this.zoomTo(u,t))}return i.push(this.setFocalOffset(0,0,0,t)),Promise.all(i)}setLookAt(e,t,i,r,s,a,o=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Uv.NONE,this._changedDolly=0;const c=Ci.set(r,s,a),u=Hn.set(e,t,i);this._targetEnd.copy(c),this._sphericalEnd.setFromVector3(u.sub(c).applyQuaternion(this._yAxisUpSpace)),this._needsUpdate=!0,o||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const h=!o||Ni(this._target.x,this._targetEnd.x,this.restThreshold)&&Ni(this._target.y,this._targetEnd.y,this.restThreshold)&&Ni(this._target.z,this._targetEnd.z,this.restThreshold)&&Ni(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Ni(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Ni(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(h)}lerp(e,t,i,r=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Uv.NONE,this._changedDolly=0;const s=Hn.set(...e.target);if("spherical"in e)Tl.set(...e.spherical);else{const p=Ci.set(...e.position);Tl.setFromVector3(p.sub(s).applyQuaternion(this._yAxisUpSpace))}const a=kv.set(...t.target);if("spherical"in t)zv.set(...t.spherical);else{const p=Ci.set(...t.position);zv.setFromVector3(p.sub(a).applyQuaternion(this._yAxisUpSpace))}this._targetEnd.copy(s.lerp(a,i));const o=zv.theta-Tl.theta,c=zv.phi-Tl.phi,u=zv.radius-Tl.radius;this._sphericalEnd.set(Tl.radius+u*i,Tl.phi+c*i,Tl.theta+o*i),this._needsUpdate=!0,r||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const h=!r||Ni(this._target.x,this._targetEnd.x,this.restThreshold)&&Ni(this._target.y,this._targetEnd.y,this.restThreshold)&&Ni(this._target.z,this._targetEnd.z,this.restThreshold)&&Ni(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Ni(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Ni(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(h)}lerpLookAt(e,t,i,r,s,a,o,c,u,h,p,y,v,_=!1){return this.lerp({position:[e,t,i],target:[r,s,a]},{position:[o,c,u],target:[h,p,y]},v,_)}setPosition(e,t,i,r=!1){return this.setLookAt(e,t,i,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,r)}setTarget(e,t,i,r=!1){const s=this.getPosition(Hn),a=this.setLookAt(s.x,s.y,s.z,e,t,i,r);return this._sphericalEnd.phi=ou(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),a}setFocalOffset(e,t,i,r=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,i),this._needsUpdate=!0,r||this._focalOffset.copy(this._focalOffsetEnd);const s=!r||Ni(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&Ni(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&Ni(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}setOrbitPoint(e,t,i){this._camera.updateMatrixWorld(),sf.setFromMatrixColumn(this._camera.matrixWorldInverse,0),af.setFromMatrixColumn(this._camera.matrixWorldInverse,1),hg.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const r=Hn.set(e,t,i),s=r.distanceTo(this._camera.position),a=r.sub(this._camera.position);sf.multiplyScalar(a.x),af.multiplyScalar(a.y),hg.multiplyScalar(a.z),Hn.copy(sf).add(af).add(hg),Hn.z=Hn.z+s,this.dollyTo(s,!1),this.setFocalOffset(-Hn.x,Hn.y,-Hn.z,!1),this.moveTo(e,t,i,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,t,i,r){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new bn.Vector4,typeof e=="number"?this._viewport.set(e,t,i,r):this._viewport.copy(e)}getDistanceToFitBox(e,t,i,r=!1){if(y3(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const s=e/t,a=this._camera.getEffectiveFOV()*lb,o=this._camera.aspect;return((r?s>o:s<o)?t:e/o)*.5/Math.tan(a*.5)+i*.5}getDistanceToFitSphere(e){if(y3(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*lb,i=Math.atan(Math.tan(t*.5)*this._camera.aspect)*2,r=1<this._camera.aspect?t:i;return e/Math.sin(r*.5)}getTarget(e,t=!0){return(e&&e.isVector3?e:new bn.Vector3).copy(t?this._targetEnd:this._target)}getPosition(e,t=!0){return(e&&e.isVector3?e:new bn.Vector3).setFromSpherical(t?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(t?this._targetEnd:this._target)}getSpherical(e,t=!0){return(e||new bn.Spherical).copy(t?this._sphericalEnd:this._spherical)}getFocalOffset(e,t=!0){return(e&&e.isVector3?e:new bn.Vector3).copy(t?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){return this._sphericalEnd.theta=(this._sphericalEnd.theta%sp+sp)%sp,this._sphericalEnd.theta>Math.PI&&(this._sphericalEnd.theta-=sp),this._spherical.theta+=sp*Math.round((this._sphericalEnd.theta-this._spherical.theta)/sp),this}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(e=!1){if(!Ni(this._camera.up.x,this._cameraUp0.x)||!Ni(this._camera.up.y,this._cameraUp0.y)||!Ni(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const i=this.getPosition(Hn);this.updateCameraUp(),this.setPosition(i.x,i.y,i.z)}const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(t)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,fw),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=Hn.subVectors(this._target,this._camera.position).normalize(),t=Ci.crossVectors(e,this._camera.up);this._camera.up.crossVectors(t,e).normalize(),this._camera.updateMatrixWorld();const i=this.getPosition(Hn);this.updateCameraUp(),this.setPosition(i.x,i.y,i.z)}update(e){const t=this._sphericalEnd.theta-this._spherical.theta,i=this._sphericalEnd.phi-this._spherical.phi,r=this._sphericalEnd.radius-this._spherical.radius,s=j6.subVectors(this._targetEnd,this._target),a=G6.subVectors(this._focalOffsetEnd,this._focalOffset),o=this._zoomEnd-this._zoom;if(rr(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const p=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=cw(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,p,1/0,e),this._needsUpdate=!0}if(rr(i))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const p=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=cw(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,p,1/0,e),this._needsUpdate=!0}if(rr(r))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const p=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=cw(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,p,this.maxSpeed,e),this._needsUpdate=!0}if(rr(s.x)&&rr(s.y)&&rr(s.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const p=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;V6(this._target,this._targetEnd,this._targetVelocity,p,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(rr(a.x)&&rr(a.y)&&rr(a.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const p=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;V6(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,p,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(rr(o))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const p=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=cw(this._zoom,this._zoomEnd,this._zoomVelocity,p,1/0,e)}if(this.dollyToCursor){if(fg(this._camera)&&this._changedDolly!==0){const p=this._spherical.radius-this._lastDistance,y=this._camera,v=this._getCameraDirection(fb),_=Hn.copy(v).cross(y.up).normalize();_.lengthSq()===0&&(_.x=1);const S=Ci.crossVectors(_,v),E=this._sphericalEnd.radius*Math.tan(y.getEffectiveFOV()*lb*.5),w=(this._sphericalEnd.radius-p-this._sphericalEnd.radius)/this._sphericalEnd.radius,M=kv.copy(this._targetEnd).add(_.multiplyScalar(this._dollyControlCoord.x*E*y.aspect)).add(S.multiplyScalar(this._dollyControlCoord.y*E)),C=Hn.copy(this._targetEnd).lerp(M,w),D=this._lastDollyDirection===Uv.IN&&this._spherical.radius<=this.minDistance,L=this._lastDollyDirection===Uv.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(D||L)){this._sphericalEnd.radius-=p,this._spherical.radius-=p;const N=Ci.copy(v).multiplyScalar(-p);C.add(N)}this._boundary.clampPoint(C,C);const I=Ci.subVectors(C,this._targetEnd);this._targetEnd.copy(C),this._target.add(I),this._changedDolly-=p,rr(this._changedDolly)&&(this._changedDolly=0)}else if(op(this._camera)&&this._changedZoom!==0){const p=this._zoom-this._lastZoom,y=this._camera,v=Hn.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(y.near+y.far)/(y.near-y.far)).unproject(y),_=Ci.set(0,0,-1).applyQuaternion(y.quaternion),S=kv.copy(v).add(_.multiplyScalar(-v.dot(y.up))),x=-(this._zoom-p-this._zoom)/this._zoom,w=this._getCameraDirection(fb),M=this._targetEnd.dot(w),C=Hn.copy(this._targetEnd).lerp(S,x),D=C.dot(w),L=w.multiplyScalar(D-M);C.sub(L),this._boundary.clampPoint(C,C);const I=Ci.subVectors(C,this._targetEnd);this._targetEnd.copy(C),this._target.add(I),this._changedZoom-=p,rr(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const c=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,c),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!rr(this._focalOffset.x)||!rr(this._focalOffset.y)||!rr(this._focalOffset.z))&&(this._camera.matrix.compose(this._camera.position,this._camera.quaternion,this._camera.scale),sf.setFromMatrixColumn(this._camera.matrix,0),af.setFromMatrixColumn(this._camera.matrix,1),hg.setFromMatrixColumn(this._camera.matrix,2),sf.multiplyScalar(this._focalOffset.x),af.multiplyScalar(-this._focalOffset.y),hg.multiplyScalar(this._focalOffset.z),Hn.copy(sf).add(af).add(hg),this._camera.position.add(Hn),this._camera.updateMatrixWorld()),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),Hn.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const h=this._needsUpdate;return h&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):h?(this.dispatchEvent({type:"update"}),rr(t,this.restThreshold)&&rr(i,this.restThreshold)&&rr(r,this.restThreshold)&&rr(s.x,this.restThreshold)&&rr(s.y,this.restThreshold)&&rr(s.z,this.restThreshold)&&rr(a.x,this.restThreshold)&&rr(a.y,this.restThreshold)&&rr(a.z,this.restThreshold)&&rr(o,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!h&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=h,this._needsUpdate=!1,h}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:cb(this.maxDistance),minZoom:this.minZoom,maxZoom:cb(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:cb(this.maxPolarAngle),minAzimuthAngle:cb(this.minAzimuthAngle),maxAzimuthAngle:cb(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,target:this._targetEnd.toArray(),position:Hn.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,t=!1){const i=JSON.parse(e);this.enabled=i.enabled,this.minDistance=i.minDistance,this.maxDistance=ub(i.maxDistance),this.minZoom=i.minZoom,this.maxZoom=ub(i.maxZoom),this.minPolarAngle=i.minPolarAngle,this.maxPolarAngle=ub(i.maxPolarAngle),this.minAzimuthAngle=ub(i.minAzimuthAngle),this.maxAzimuthAngle=ub(i.maxAzimuthAngle),this.smoothTime=i.smoothTime,this.draggingSmoothTime=i.draggingSmoothTime,this.dollySpeed=i.dollySpeed,this.truckSpeed=i.truckSpeed,this.dollyToCursor=i.dollyToCursor,this._target0.fromArray(i.target0),this._position0.fromArray(i.position0),this._zoom0=i.zoom0,this._focalOffset0.fromArray(i.focalOffset0),this.moveTo(i.target[0],i.target[1],i.target[2],t),Tl.setFromVector3(Hn.fromArray(i.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Tl.theta,Tl.phi,t),this.dollyTo(Tl.radius,t),this.zoomTo(i.zoom,t),this.setFocalOffset(i.focalOffset[0],i.focalOffset[1],i.focalOffset[2],t),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",mEe),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(t=>t.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(t=>t.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,t,i){const r=t.lengthSq();if(r===0)return e;const s=Ci.copy(t).add(e),o=this._boundary.clampPoint(s,kv).sub(s),c=o.lengthSq();if(c===0)return e.add(t);if(c===r)return e;if(i===0)return e.add(t).add(o);{const u=1+i*c/t.dot(o);return e.add(Ci.copy(t).multiplyScalar(u)).add(o.multiplyScalar(1-i))}}_updateNearPlaneCorners(){if(fg(this._camera)){const e=this._camera,t=e.near,i=e.getEffectiveFOV()*lb,r=Math.tan(i*.5)*t,s=r*e.aspect;this._nearPlaneCorners[0].set(-s,-r,0),this._nearPlaneCorners[1].set(s,-r,0),this._nearPlaneCorners[2].set(s,r,0),this._nearPlaneCorners[3].set(-s,r,0)}else if(op(this._camera)){const e=this._camera,t=1/e.zoom,i=e.left*t,r=e.right*t,s=e.top*t,a=e.bottom*t;this._nearPlaneCorners[0].set(i,s,0),this._nearPlaneCorners[1].set(r,s,0),this._nearPlaneCorners[2].set(r,a,0),this._nearPlaneCorners[3].set(i,a,0)}}_truckInternal=(e,t,i,r)=>{let s,a;if(fg(this._camera)){const o=Hn.copy(this._camera.position).sub(this._target),c=this._camera.getEffectiveFOV()*lb,u=o.length()*Math.tan(c*.5);s=this.truckSpeed*e*u/this._elementRect.height,a=this.truckSpeed*t*u/this._elementRect.height}else if(op(this._camera)){const o=this._camera;s=this.truckSpeed*e*(o.right-o.left)/o.zoom/this._elementRect.width,a=this.truckSpeed*t*(o.top-o.bottom)/o.zoom/this._elementRect.height}else return;r?(i?this.setFocalOffset(this._focalOffsetEnd.x+s,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(s,0,!0),this.forward(-a,!0)):i?this.setFocalOffset(this._focalOffsetEnd.x+s,this._focalOffsetEnd.y+a,this._focalOffsetEnd.z,!0):this.truck(s,a,!0)};_rotateInternal=(e,t)=>{const i=sp*this.azimuthRotateSpeed*e/this._elementRect.height,r=sp*this.polarRotateSpeed*t/this._elementRect.height;this.rotate(i,r,!0)};_dollyInternal=(e,t,i)=>{const r=Math.pow(.95,-e*this.dollySpeed),s=this._sphericalEnd.radius,a=this._sphericalEnd.radius*r,o=ou(a,this.minDistance,this.maxDistance),c=o-a;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(a,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(c,!0),this._dollyToNoClamp(o,!0)):this._dollyToNoClamp(o,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?a:o)-s,this._dollyControlCoord.set(t,i)),this._lastDollyDirection=Math.sign(-e)};_zoomInternal=(e,t,i)=>{const r=Math.pow(.95,e*this.dollySpeed),s=this._zoom,a=this._zoom*r;this.zoomTo(a,!0),this.dollyToCursor&&(this._changedZoom+=a-s,this._dollyControlCoord.set(t,i))};_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||y3(this._camera,"_collisionTest"))return e;const i=this._getTargetDirection(fb);x3.lookAt(H6,i,this._camera.up);for(let r=0;r<4;r++){const s=Ci.copy(this._nearPlaneCorners[r]);s.applyMatrix4(x3);const a=kv.addVectors(this._target,s);hw.set(a,i),hw.far=this._spherical.radius+1;const o=hw.intersectObjects(this.colliderMeshes);o.length!==0&&o[0].distance<e&&(e=o[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{const i=()=>{this.removeEventListener("rest",i),t()};this.addEventListener("rest",i)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,t=new bn.Sphere){const i=t,r=i.center;Bv.makeEmpty(),e.traverseVisible(a=>{a.isMesh&&Bv.expandByObject(a)}),Bv.getCenter(r);let s=0;return e.traverseVisible(a=>{if(!a.isMesh)return;const o=a;if(!o.geometry)return;const c=o.geometry.clone();c.applyMatrix4(o.matrixWorld);const h=c.attributes.position;for(let p=0,y=h.count;p<y;p++)Hn.fromBufferAttribute(h,p),s=Math.max(s,r.distanceToSquared(Hn))}),i.radius=Math.sqrt(s),i}};const vEe=H.forwardRef((n,e)=>{const{impl:t,camera:i,domElement:r,makeDefault:s,onControlStart:a,onControl:o,onControlEnd:c,onTransitionStart:u,onUpdate:h,onWake:p,onRest:y,onSleep:v,onStart:_,onEnd:S,onChange:E,regress:x,...w}=n,M=t??yEe;H.useMemo(()=>{const ee={Box3:na,MathUtils:{clamp:wj.clamp},Matrix4:an,Quaternion:Ta,Raycaster:iM,Sphere:ia,Spherical:CG,Vector2:it,Vector3:fe,Vector4:pi};M.install({THREE:ee}),_W({CameraControlsImpl:M})},[M]);const C=ws(ee=>ee.camera),D=ws(ee=>ee.gl),L=ws(ee=>ee.invalidate),I=ws(ee=>ee.events),N=ws(ee=>ee.setEvents),P=ws(ee=>ee.set),U=ws(ee=>ee.get),V=ws(ee=>ee.performance),z=i||C,F=r||I.connected||D.domElement,K=H.useMemo(()=>new M(z),[M,z]);return VS((ee,q)=>{K.update(q)},-1),H.useEffect(()=>(K.connect(F),()=>void K.disconnect()),[F,K]),H.useEffect(()=>{function ee(){L(),x&&V.regress()}const q=ue=>{ee(),a?.(ue),_?.(ue)},$=ue=>{ee(),o?.(ue),E?.(ue)},Q=ue=>{c?.(ue),S?.(ue)},se=ue=>{ee(),u?.(ue),E?.(ue)},de=ue=>{ee(),h?.(ue),E?.(ue)},Y=ue=>{ee(),p?.(ue),E?.(ue)},le=ue=>{y?.(ue)},pe=ue=>{v?.(ue)};return K.addEventListener("controlstart",q),K.addEventListener("control",$),K.addEventListener("controlend",Q),K.addEventListener("transitionstart",se),K.addEventListener("update",de),K.addEventListener("wake",Y),K.addEventListener("rest",le),K.addEventListener("sleep",pe),()=>{K.removeEventListener("controlstart",q),K.removeEventListener("control",$),K.removeEventListener("controlend",Q),K.removeEventListener("transitionstart",se),K.removeEventListener("update",de),K.removeEventListener("wake",Y),K.removeEventListener("rest",le),K.removeEventListener("sleep",pe)}},[K,L,N,x,V,a,o,c,u,h,p,y,v,E,_,S]),H.useEffect(()=>{if(s){const ee=U().controls;return P({controls:K}),()=>P({controls:ee})}},[s,K]),H.createElement("primitive",Ko({ref:e,object:K},w))});function _Ee({defaultScene:n,defaultCamera:e,renderPriority:t=1}){const{gl:i,scene:r,camera:s}=ws();let a;return VS(()=>{a=i.autoClear,t===1&&(i.autoClear=!0,i.render(n,e)),i.autoClear=!1,i.clearDepth(),i.render(r,s),i.autoClear=a},t),H.createElement("group",{onPointerOver:()=>null})}function bEe({children:n,renderPriority:e=1}){const{scene:t,camera:i}=ws(),[r]=H.useState(()=>new UA);return H.createElement(H.Fragment,null,QSe(H.createElement(H.Fragment,null,n,H.createElement(_Ee,{defaultScene:t,defaultCamera:i,renderPriority:e})),r,{events:{priority:e+1}}))}const AW=H.createContext({}),xEe=()=>H.useContext(AW),SEe=2*Math.PI,S3=new mi,$6=new an,[Fv,E3]=[new Ta,new Ta],X6=new fe,Y6=new fe,EEe=n=>"minPolarAngle"in n,K6=n=>"getTarget"in n,TEe=({alignment:n="bottom-right",margin:e=[80,80],renderPriority:t=1,onUpdate:i,onTarget:r,children:s})=>{const a=ws(L=>L.size),o=ws(L=>L.camera),c=ws(L=>L.controls),u=ws(L=>L.invalidate),h=H.useRef(null),p=H.useRef(null),y=H.useRef(!1),v=H.useRef(0),_=H.useRef(new fe(0,0,0)),S=H.useRef(new fe(0,0,0));H.useEffect(()=>{S.current.copy(o.up),S3.up.copy(o.up)},[o]);const E=H.useCallback(L=>{y.current=!0,(c||r)&&(_.current=r?.()||(K6(c)?c.getTarget(_.current):c?.target)),v.current=o.position.distanceTo(X6),Fv.copy(o.quaternion),Y6.copy(L).multiplyScalar(v.current).add(X6),S3.lookAt(Y6),E3.copy(S3.quaternion),u()},[c,o,r,u]);VS((L,I)=>{if(p.current&&h.current){var N;if(y.current)if(Fv.angleTo(E3)<.01)y.current=!1,EEe(c)&&o.up.copy(S.current);else{const P=I*SEe;Fv.rotateTowards(E3,P),o.position.set(0,0,1).applyQuaternion(Fv).multiplyScalar(v.current).add(_.current),o.up.set(0,1,0).applyQuaternion(Fv).normalize(),o.quaternion.copy(Fv),K6(c)&&c.setPosition(o.position.x,o.position.y,o.position.z),i?i():c&&c.update(I),u()}$6.copy(o.matrix).invert(),(N=h.current)==null||N.quaternion.setFromRotationMatrix($6)}});const x=H.useMemo(()=>({tweenCamera:E}),[E]),[w,M]=e,C=n.endsWith("-center")?0:n.endsWith("-left")?-a.width/2+w:a.width/2-w,D=n.startsWith("center-")?0:n.startsWith("top-")?a.height/2-M:-a.height/2+M;return H.createElement(bEe,{renderPriority:t},H.createElement(AW.Provider,{value:x},H.createElement(dEe,{makeDefault:!0,ref:p,position:[0,0,200]}),H.createElement("group",{ref:h,position:[C,D,0]},s)))};function T3({scale:n=[.8,.05,.05],color:e,rotation:t}){return H.createElement("group",{rotation:t},H.createElement("mesh",{position:[.4,0,0]},H.createElement("boxGeometry",{args:n}),H.createElement("meshBasicMaterial",{color:e,toneMapped:!1})))}function Vv({onClick:n,font:e,disabled:t,arcStyle:i,label:r,labelColor:s,axisHeadScale:a=1,...o}){const c=ws(S=>S.gl),u=H.useMemo(()=>{const S=document.createElement("canvas");S.width=64,S.height=64;const E=S.getContext("2d");return E.beginPath(),E.arc(32,32,16,0,2*Math.PI),E.closePath(),E.fillStyle=i,E.fill(),r&&(E.font=e,E.textAlign="center",E.fillStyle=s,E.fillText(r,32,41)),new UN(S)},[i,r,s,e]),[h,p]=H.useState(!1),y=(r?1:.75)*(h?1.2:1)*a,v=S=>{S.stopPropagation(),p(!0)},_=S=>{S.stopPropagation(),p(!1)};return H.createElement("sprite",Ko({scale:y,onPointerOver:t?void 0:v,onPointerOut:t?void 0:n||_},o),H.createElement("spriteMaterial",{map:u,"map-anisotropy":c.capabilities.getMaxAnisotropy()||1,alphaTest:.3,opacity:r?1:.75,toneMapped:!1}))}const wEe=({hideNegativeAxes:n,hideAxisHeads:e,disabled:t,font:i="18px Inter var, Arial, sans-serif",axisColors:r=["#ff2060","#20df80","#2080ff"],axisHeadScale:s=1,axisScale:a,labels:o=["X","Y","Z"],labelColor:c="#000",onClick:u,...h})=>{const[p,y,v]=r,{tweenCamera:_}=xEe(),S={font:i,disabled:t,labelColor:c,onClick:u,axisHeadScale:s,onPointerDown:t?void 0:E=>{_(E.object.position),E.stopPropagation()}};return H.createElement("group",Ko({scale:40},h),H.createElement(T3,{color:p,rotation:[0,0,0],scale:a}),H.createElement(T3,{color:y,rotation:[0,0,Math.PI/2],scale:a}),H.createElement(T3,{color:v,rotation:[0,-Math.PI/2,0],scale:a}),!e&&H.createElement(H.Fragment,null,H.createElement(Vv,Ko({arcStyle:p,position:[1,0,0],label:o[0]},S)),H.createElement(Vv,Ko({arcStyle:y,position:[0,1,0],label:o[1]},S)),H.createElement(Vv,Ko({arcStyle:v,position:[0,0,1],label:o[2]},S)),!n&&H.createElement(H.Fragment,null,H.createElement(Vv,Ko({arcStyle:p,position:[-1,0,0]},S)),H.createElement(Vv,Ko({arcStyle:y,position:[0,-1,0]},S)),H.createElement(Vv,Ko({arcStyle:v,position:[0,0,-1]},S)))))},CEe=ns(Z.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),AEe=ns(Z.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})),MEe=ns(Z.jsx("path",{d:"m10 17 5-5-5-5z"})),REe=ns(Z.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),OEe=ns(Z.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),IEe=ns(Z.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"})),PEe=ns(Z.jsx("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"})),DEe=ns(Z.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),NEe=(n,e,t,i)=>{const r=[t,{code:e,...i||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(r,"warn","react-i18next::",!0);jg(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...r):console?.warn&&console.warn(...r)},Z6={},LP=(n,e,t,i)=>{jg(t)&&Z6[t]||(jg(t)&&(Z6[t]=new Date),NEe(n,e,t,i))},MW=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},UP=(n,e,t)=>{n.loadNamespaces(e,MW(n,t))},Q6=(n,e,t,i)=>{if(jg(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return UP(n,t,i);t.forEach(r=>{n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(e,MW(n,i))},LEe=(n,e,t={})=>!e.languages||!e.languages.length?(LP(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,r)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!r(i.isLanguageChangingTo,n))return!1}}),jg=n=>typeof n=="string",UEe=n=>typeof n=="object"&&n!==null,kEe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,zEe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},BEe=n=>zEe[n],FEe=n=>n.replace(kEe,BEe);let kP={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:FEe};const VEe=(n={})=>{kP={...kP,...n}},HEe=()=>kP;let RW;const jEe=n=>{RW=n},GEe=()=>RW,qEe={type:"3rdParty",init(n){VEe(n.options.react),jEe(n)}},WEe=H.createContext();class $Ee{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const XEe=(n,e)=>{const t=H.useRef();return H.useEffect(()=>{t.current=n},[n,e]),t.current},OW=(n,e,t,i)=>n.getFixedT(e,t,i),YEe=(n,e,t,i)=>H.useCallback(OW(n,e,t,i),[n,e,t,i]),fy=(n,e={})=>{const{i18n:t}=e,{i18n:i,defaultNS:r}=H.useContext(WEe)||{},s=t||i||GEe();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new $Ee),!s){LP(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const C=(L,I)=>jg(I)?I:UEe(I)&&jg(I.defaultValue)?I.defaultValue:Array.isArray(L)?L[L.length-1]:L,D=[C,{},!1];return D.t=C,D.i18n={},D.ready=!1,D}s.options.react?.wait&&LP(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...HEe(),...s.options.react,...e},{useSuspense:o,keyPrefix:c}=a;let u=r||s.options?.defaultNS;u=jg(u)?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces?.(u);const h=(s.isInitialized||s.initializedStoreOnce)&&u.every(C=>LEe(C,s,a)),p=YEe(s,e.lng||null,a.nsMode==="fallback"?u:u[0],c),y=()=>p,v=()=>OW(s,e.lng||null,a.nsMode==="fallback"?u:u[0],c),[_,S]=H.useState(y);let E=u.join();e.lng&&(E=`${e.lng}${E}`);const x=XEe(E),w=H.useRef(!0);H.useEffect(()=>{const{bindI18n:C,bindI18nStore:D}=a;w.current=!0,!h&&!o&&(e.lng?Q6(s,e.lng,u,()=>{w.current&&S(v)}):UP(s,u,()=>{w.current&&S(v)})),h&&x&&x!==E&&w.current&&S(v);const L=()=>{w.current&&S(v)};return C&&s?.on(C,L),D&&s?.store.on(D,L),()=>{w.current=!1,s&&C&&C?.split(" ").forEach(I=>s.off(I,L)),D&&s&&D.split(" ").forEach(I=>s.store.off(I,L))}},[s,E]),H.useEffect(()=>{w.current&&h&&S(y)},[s,c,h]);const M=[_,s,h];if(M.t=_,M.i18n=s,M.ready=h,h||!h&&!o)return M;throw new Promise(C=>{e.lng?Q6(s,e.lng,u,()=>C()):UP(s,u,()=>C())})},Wp=b_({palette:{background:{paper:"#fff",form:"#f3f3f3",formInput:"#000"},text:{titleBig:"#173A5E",primary:"#fff",secondary:"#46505A",tertiary:"#171A1FFF",white:"#fff"},action:{progress:"#001E3C",success:"#1976d2",deactivate:"#d32f2f"},success:{dark:"#009688"},canvas:{canvasBackgraundColor:"#002"},buttons:{buttonHomeScreen:"#f1f1f1"},formStyles:{containerBackgroundColor:"#d1d1d1ff",cardBackgroundColor:"#f9f9f9",cardBoxShadow:"0 10px 30px rgba(0, 0, 0, 0.99)",buttonForm:"#001E3C",borderColor:"rgb(109, 109, 109)"},paletteBjj:{rojoVibrante:"#FF1E1E",azulMarino:"#002B5B",grisCarbon:"#1C1C1C",amarilloOro:"#FFC300",grisClaro:"#F5F5F5"},typography:{fontFamily:"poppins"}}}),IW=Wp.palette.buttons.buttonHomeScreen,KEe={display:"flex",alignItems:"center",textAlign:"center",position:"absolute",zIndex:10,top:"30px",right:"30px"},ZEe={width:55,height:55,backgroundColor:"transparent",border:`2px solid ${IW}`},QEe={color:IW,fontSize:"2.5rem"},w3="components.accountMenu.";function JEe(){const{user:n,isAuthenticated:e}=gde(),{t}=fy(),i=FF(),[r,s]=ar.useState(null),a=!!r,o=y=>{s(y.currentTarget),yn.setState({isNodeAddViewActive:!1})},c=()=>{s(null)},u=()=>{s(null)},h=()=>{yn.setState({isLoginWindowActive:!0}),i(aW.loginUser)},p=()=>{yn.setState({isConfigWindowActive:!0})};return Z.jsxs(ar.Fragment,{children:[Z.jsx(td,{sx:KEe,children:Z.jsx(rW,{title:t(w3+"title"),children:Z.jsx(xL,{onClick:o,size:"small","aria-controls":a?"menu-user":void 0,"aria-haspopup":"true","aria-expanded":a?"true":void 0,children:Z.jsx(KB,{sx:ZEe,children:Z.jsx(PEe,{sx:QEe})})})})}),Z.jsxs(eW,{anchorEl:r,id:"menu-user",open:a,onClose:u,slotProps:{paper:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e?Z.jsxs(Cl,{onClick:c,children:[Z.jsx(cx,{children:Z.jsx(KB,{alt:n?.name??"User",src:n?.picture??void 0})}),n?.name]}):Z.jsxs(Cl,{onClick:h,disabled:!0,children:[Z.jsx(cx,{children:Z.jsx(IEe,{fontSize:"small"})}),t(w3+"optionsMenu.login")]}),Z.jsx(Jx,{}),Z.jsxs(Cl,{onClick:p,children:[Z.jsx(cx,{children:Z.jsx(DEe,{fontSize:"small"})}),t(w3+"optionsMenu.configuration")]})]})]})}function eTe(){const n=yn(i=>i.showAlert),e=yn(i=>i.alertMessage),t=yn(i=>i.alertSeverity);return Z.jsx(cp,{sx:{width:"80%",position:"absolute",bottom:20,zIndex:9999},spacing:2,children:Z.jsx(Xq,{direction:"left",in:n,mountOnEnter:!0,unmountOnExit:!0,children:Z.jsx(IC,{in:n,children:Z.jsx(Rve,{severity:t,children:e})})})})}const C3=Wp,tTe=({buttonFunction:n,disabled:e,isPositionAbsolute:t})=>Z.jsx(BS,{disabled:e,onClick:n,sx:{...t?{position:"absolute",top:10,right:10}:{},marginRight:"1rem",backgroundColor:DS(C3.palette.formStyles.containerBackgroundColor,.4),"&:hover":{backgroundColor:C3.palette.formStyles.cardBackgroundColor,opacity:.8},color:C3.palette.action.deactivate},children:Z.jsx(OEe,{sx:{fontSize:"2em"}})}),nTe=({cameraControlsRef:n})=>Z.jsxs(Z.Fragment,{children:[Z.jsx(sAe,{cameraControlsRef:n}),Z.jsx("ambientLight",{intensity:s2.intensity}),Z.jsx("directionalLight",{position:s2.position,color:s2.colorLight}),Z.jsx(TEe,{alignment:"top-left",margin:[80,150],children:Z.jsx(wEe,{labelColor:"#fff",axisColors:["red","green","blue"]})})]}),iTe=Wp.palette,rTe=iTe.text;rTe.titleBig;function sTe(n,e,t){var i,r=1;n==null&&(n=0),e==null&&(e=0),t==null&&(t=0);function s(){var a,o=i.length,c,u=0,h=0,p=0;for(a=0;a<o;++a)c=i[a],u+=c.x||0,h+=c.y||0,p+=c.z||0;for(u=(u/o-n)*r,h=(h/o-e)*r,p=(p/o-t)*r,a=0;a<o;++a)c=i[a],u&&(c.x-=u),h&&(c.y-=h),p&&(c.z-=p)}return s.initialize=function(a){i=a},s.x=function(a){return arguments.length?(n=+a,s):n},s.y=function(a){return arguments.length?(e=+a,s):e},s.z=function(a){return arguments.length?(t=+a,s):t},s.strength=function(a){return arguments.length?(r=+a,s):r},s}function aTe(n){const e=+this._x.call(null,n);return PW(this.cover(e),e,n)}function PW(n,e,t){if(isNaN(e))return n;var i,r=n._root,s={data:t},a=n._x0,o=n._x1,c,u,h,p,y;if(!r)return n._root=s,n;for(;r.length;)if((h=e>=(c=(a+o)/2))?a=c:o=c,i=r,!(r=r[p=+h]))return i[p]=s,n;if(u=+n._x.call(null,r.data),e===u)return s.next=r,i?i[p]=s:n._root=s,n;do i=i?i[p]=new Array(2):n._root=new Array(2),(h=e>=(c=(a+o)/2))?a=c:o=c;while((p=+h)==(y=+(u>=c)));return i[y]=r,i[p]=s,n}function oTe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,t=new Float64Array(e);let i=1/0,r=-1/0;for(let s=0,a;s<e;++s)isNaN(a=+this._x.call(null,n[s]))||(t[s]=a,a<i&&(i=a),a>r&&(r=a));if(i>r)return this;this.cover(i).cover(r);for(let s=0;s<e;++s)PW(this,t[s],n[s]);return this}function lTe(n){if(isNaN(n=+n))return this;var e=this._x0,t=this._x1;if(isNaN(e))t=(e=Math.floor(n))+1;else{for(var i=t-e||1,r=this._root,s,a;e>n||n>=t;)switch(a=+(n<e),s=new Array(2),s[a]=r,r=s,i*=2,a){case 0:t=e+i;break;case 1:e=t-i;break}this._root&&this._root.length&&(this._root=r)}return this._x0=e,this._x1=t,this}function cTe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function uTe(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Fh(n,e,t){this.node=n,this.x0=e,this.x1=t}function fTe(n,e){var t,i=this._x0,r,s,a=this._x1,o=[],c=this._root,u,h;for(c&&o.push(new Fh(c,i,a)),e==null?e=1/0:(i=n-e,a=n+e);u=o.pop();)if(!(!(c=u.node)||(r=u.x0)>a||(s=u.x1)<i))if(c.length){var p=(r+s)/2;o.push(new Fh(c[1],p,s),new Fh(c[0],r,p)),(h=+(n>=p))&&(u=o[o.length-1],o[o.length-1]=o[o.length-1-h],o[o.length-1-h]=u)}else{var y=Math.abs(n-+this._x.call(null,c.data));y<e&&(e=y,i=n-y,a=n+y,t=c.data)}return t}function hTe(n){if(isNaN(c=+this._x.call(null,n)))return this;var e,t=this._root,i,r,s,a=this._x0,o=this._x1,c,u,h,p,y;if(!t)return this;if(t.length)for(;;){if((h=c>=(u=(a+o)/2))?a=u:o=u,e=t,!(t=t[p=+h]))return this;if(!t.length)break;e[p+1&1]&&(i=e,y=p)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[p]=s:delete e[p],(t=e[0]||e[1])&&t===(e[1]||e[0])&&!t.length&&(i?i[y]=t:this._root=t),this):(this._root=s,this)}function dTe(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function pTe(){return this._root}function mTe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function gTe(n){var e=[],t,i=this._root,r,s,a;for(i&&e.push(new Fh(i,this._x0,this._x1));t=e.pop();)if(!n(i=t.node,s=t.x0,a=t.x1)&&i.length){var o=(s+a)/2;(r=i[1])&&e.push(new Fh(r,o,a)),(r=i[0])&&e.push(new Fh(r,s,o))}return this}function yTe(n){var e=[],t=[],i;for(this._root&&e.push(new Fh(this._root,this._x0,this._x1));i=e.pop();){var r=i.node;if(r.length){var s,a=i.x0,o=i.x1,c=(a+o)/2;(s=r[0])&&e.push(new Fh(s,a,c)),(s=r[1])&&e.push(new Fh(s,c,o))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.x1);return this}function vTe(n){return n[0]}function _Te(n){return arguments.length?(this._x=n,this):this._x}function DW(n,e){var t=new qL(e??vTe,NaN,NaN);return n==null?t:t.addAll(n)}function qL(n,e,t){this._x=n,this._x0=e,this._x1=t,this._root=void 0}function J6(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var ol=DW.prototype=qL.prototype;ol.copy=function(){var n=new qL(this._x,this._x0,this._x1),e=this._root,t,i;if(!e)return n;if(!e.length)return n._root=J6(e),n;for(t=[{source:e,target:n._root=new Array(2)}];e=t.pop();)for(var r=0;r<2;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(2)}):e.target[r]=J6(i));return n};ol.add=aTe;ol.addAll=oTe;ol.cover=lTe;ol.data=cTe;ol.extent=uTe;ol.find=fTe;ol.remove=hTe;ol.removeAll=dTe;ol.root=pTe;ol.size=mTe;ol.visit=gTe;ol.visitAfter=yTe;ol.x=_Te;function bTe(n){const e=+this._x.call(null,n),t=+this._y.call(null,n);return NW(this.cover(e,t),e,t,n)}function NW(n,e,t,i){if(isNaN(e)||isNaN(t))return n;var r,s=n._root,a={data:i},o=n._x0,c=n._y0,u=n._x1,h=n._y1,p,y,v,_,S,E,x,w;if(!s)return n._root=a,n;for(;s.length;)if((S=e>=(p=(o+u)/2))?o=p:u=p,(E=t>=(y=(c+h)/2))?c=y:h=y,r=s,!(s=s[x=E<<1|S]))return r[x]=a,n;if(v=+n._x.call(null,s.data),_=+n._y.call(null,s.data),e===v&&t===_)return a.next=s,r?r[x]=a:n._root=a,n;do r=r?r[x]=new Array(4):n._root=new Array(4),(S=e>=(p=(o+u)/2))?o=p:u=p,(E=t>=(y=(c+h)/2))?c=y:h=y;while((x=E<<1|S)===(w=(_>=y)<<1|v>=p));return r[w]=s,r[x]=a,n}function xTe(n){var e,t,i=n.length,r,s,a=new Array(i),o=new Array(i),c=1/0,u=1/0,h=-1/0,p=-1/0;for(t=0;t<i;++t)isNaN(r=+this._x.call(null,e=n[t]))||isNaN(s=+this._y.call(null,e))||(a[t]=r,o[t]=s,r<c&&(c=r),r>h&&(h=r),s<u&&(u=s),s>p&&(p=s));if(c>h||u>p)return this;for(this.cover(c,u).cover(h,p),t=0;t<i;++t)NW(this,a[t],o[t],n[t]);return this}function STe(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var t=this._x0,i=this._y0,r=this._x1,s=this._y1;if(isNaN(t))r=(t=Math.floor(n))+1,s=(i=Math.floor(e))+1;else{for(var a=r-t||1,o=this._root,c,u;t>n||n>=r||i>e||e>=s;)switch(u=(e<i)<<1|n<t,c=new Array(4),c[u]=o,o=c,a*=2,u){case 0:r=t+a,s=i+a;break;case 1:t=r-a,s=i+a;break;case 2:r=t+a,i=s-a;break;case 3:t=r-a,i=s-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._y0=i,this._x1=r,this._y1=s,this}function ETe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function TTe(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Mo(n,e,t,i,r){this.node=n,this.x0=e,this.y0=t,this.x1=i,this.y1=r}function wTe(n,e,t){var i,r=this._x0,s=this._y0,a,o,c,u,h=this._x1,p=this._y1,y=[],v=this._root,_,S;for(v&&y.push(new Mo(v,r,s,h,p)),t==null?t=1/0:(r=n-t,s=e-t,h=n+t,p=e+t,t*=t);_=y.pop();)if(!(!(v=_.node)||(a=_.x0)>h||(o=_.y0)>p||(c=_.x1)<r||(u=_.y1)<s))if(v.length){var E=(a+c)/2,x=(o+u)/2;y.push(new Mo(v[3],E,x,c,u),new Mo(v[2],a,x,E,u),new Mo(v[1],E,o,c,x),new Mo(v[0],a,o,E,x)),(S=(e>=x)<<1|n>=E)&&(_=y[y.length-1],y[y.length-1]=y[y.length-1-S],y[y.length-1-S]=_)}else{var w=n-+this._x.call(null,v.data),M=e-+this._y.call(null,v.data),C=w*w+M*M;if(C<t){var D=Math.sqrt(t=C);r=n-D,s=e-D,h=n+D,p=e+D,i=v.data}}return i}function CTe(n){if(isNaN(h=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n)))return this;var e,t=this._root,i,r,s,a=this._x0,o=this._y0,c=this._x1,u=this._y1,h,p,y,v,_,S,E,x;if(!t)return this;if(t.length)for(;;){if((_=h>=(y=(a+c)/2))?a=y:c=y,(S=p>=(v=(o+u)/2))?o=v:u=v,e=t,!(t=t[E=S<<1|_]))return this;if(!t.length)break;(e[E+1&3]||e[E+2&3]||e[E+3&3])&&(i=e,x=E)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[E]=s:delete e[E],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[x]=t:this._root=t),this):(this._root=s,this)}function ATe(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function MTe(){return this._root}function RTe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function OTe(n){var e=[],t,i=this._root,r,s,a,o,c;for(i&&e.push(new Mo(i,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!n(i=t.node,s=t.x0,a=t.y0,o=t.x1,c=t.y1)&&i.length){var u=(s+o)/2,h=(a+c)/2;(r=i[3])&&e.push(new Mo(r,u,h,o,c)),(r=i[2])&&e.push(new Mo(r,s,h,u,c)),(r=i[1])&&e.push(new Mo(r,u,a,o,h)),(r=i[0])&&e.push(new Mo(r,s,a,u,h))}return this}function ITe(n){var e=[],t=[],i;for(this._root&&e.push(new Mo(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var r=i.node;if(r.length){var s,a=i.x0,o=i.y0,c=i.x1,u=i.y1,h=(a+c)/2,p=(o+u)/2;(s=r[0])&&e.push(new Mo(s,a,o,h,p)),(s=r[1])&&e.push(new Mo(s,h,o,c,p)),(s=r[2])&&e.push(new Mo(s,a,p,h,u)),(s=r[3])&&e.push(new Mo(s,h,p,c,u))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function PTe(n){return n[0]}function DTe(n){return arguments.length?(this._x=n,this):this._x}function NTe(n){return n[1]}function LTe(n){return arguments.length?(this._y=n,this):this._y}function LW(n,e,t){var i=new WL(e??PTe,t??NTe,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function WL(n,e,t,i,r,s){this._x=n,this._y=e,this._x0=t,this._y0=i,this._x1=r,this._y1=s,this._root=void 0}function e9(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var Po=LW.prototype=WL.prototype;Po.copy=function(){var n=new WL(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,t,i;if(!e)return n;if(!e.length)return n._root=e9(e),n;for(t=[{source:e,target:n._root=new Array(4)}];e=t.pop();)for(var r=0;r<4;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(4)}):e.target[r]=e9(i));return n};Po.add=bTe;Po.addAll=xTe;Po.cover=STe;Po.data=ETe;Po.extent=TTe;Po.find=wTe;Po.remove=CTe;Po.removeAll=ATe;Po.root=MTe;Po.size=RTe;Po.visit=OTe;Po.visitAfter=ITe;Po.x=DTe;Po.y=LTe;function UTe(n){const e=+this._x.call(null,n),t=+this._y.call(null,n),i=+this._z.call(null,n);return UW(this.cover(e,t,i),e,t,i,n)}function UW(n,e,t,i,r){if(isNaN(e)||isNaN(t)||isNaN(i))return n;var s,a=n._root,o={data:r},c=n._x0,u=n._y0,h=n._z0,p=n._x1,y=n._y1,v=n._z1,_,S,E,x,w,M,C,D,L,I,N;if(!a)return n._root=o,n;for(;a.length;)if((C=e>=(_=(c+p)/2))?c=_:p=_,(D=t>=(S=(u+y)/2))?u=S:y=S,(L=i>=(E=(h+v)/2))?h=E:v=E,s=a,!(a=a[I=L<<2|D<<1|C]))return s[I]=o,n;if(x=+n._x.call(null,a.data),w=+n._y.call(null,a.data),M=+n._z.call(null,a.data),e===x&&t===w&&i===M)return o.next=a,s?s[I]=o:n._root=o,n;do s=s?s[I]=new Array(8):n._root=new Array(8),(C=e>=(_=(c+p)/2))?c=_:p=_,(D=t>=(S=(u+y)/2))?u=S:y=S,(L=i>=(E=(h+v)/2))?h=E:v=E;while((I=L<<2|D<<1|C)===(N=(M>=E)<<2|(w>=S)<<1|x>=_));return s[N]=a,s[I]=o,n}function kTe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,t=new Float64Array(e),i=new Float64Array(e),r=new Float64Array(e);let s=1/0,a=1/0,o=1/0,c=-1/0,u=-1/0,h=-1/0;for(let p=0,y,v,_,S;p<e;++p)isNaN(v=+this._x.call(null,y=n[p]))||isNaN(_=+this._y.call(null,y))||isNaN(S=+this._z.call(null,y))||(t[p]=v,i[p]=_,r[p]=S,v<s&&(s=v),v>c&&(c=v),_<a&&(a=_),_>u&&(u=_),S<o&&(o=S),S>h&&(h=S));if(s>c||a>u||o>h)return this;this.cover(s,a,o).cover(c,u,h);for(let p=0;p<e;++p)UW(this,t[p],i[p],r[p],n[p]);return this}function zTe(n,e,t){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(t=+t))return this;var i=this._x0,r=this._y0,s=this._z0,a=this._x1,o=this._y1,c=this._z1;if(isNaN(i))a=(i=Math.floor(n))+1,o=(r=Math.floor(e))+1,c=(s=Math.floor(t))+1;else{for(var u=a-i||1,h=this._root,p,y;i>n||n>=a||r>e||e>=o||s>t||t>=c;)switch(y=(t<s)<<2|(e<r)<<1|n<i,p=new Array(8),p[y]=h,h=p,u*=2,y){case 0:a=i+u,o=r+u,c=s+u;break;case 1:i=a-u,o=r+u,c=s+u;break;case 2:a=i+u,r=o-u,c=s+u;break;case 3:i=a-u,r=o-u,c=s+u;break;case 4:a=i+u,o=r+u,s=c-u;break;case 5:i=a-u,o=r+u,s=c-u;break;case 6:a=i+u,r=o-u,s=c-u;break;case 7:i=a-u,r=o-u,s=c-u;break}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=r,this._z0=s,this._x1=a,this._y1=o,this._z1=c,this}function BTe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function FTe(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function er(n,e,t,i,r,s,a){this.node=n,this.x0=e,this.y0=t,this.z0=i,this.x1=r,this.y1=s,this.z1=a}function VTe(n,e,t,i){var r,s=this._x0,a=this._y0,o=this._z0,c,u,h,p,y,v,_=this._x1,S=this._y1,E=this._z1,x=[],w=this._root,M,C;for(w&&x.push(new er(w,s,a,o,_,S,E)),i==null?i=1/0:(s=n-i,a=e-i,o=t-i,_=n+i,S=e+i,E=t+i,i*=i);M=x.pop();)if(!(!(w=M.node)||(c=M.x0)>_||(u=M.y0)>S||(h=M.z0)>E||(p=M.x1)<s||(y=M.y1)<a||(v=M.z1)<o))if(w.length){var D=(c+p)/2,L=(u+y)/2,I=(h+v)/2;x.push(new er(w[7],D,L,I,p,y,v),new er(w[6],c,L,I,D,y,v),new er(w[5],D,u,I,p,L,v),new er(w[4],c,u,I,D,L,v),new er(w[3],D,L,h,p,y,I),new er(w[2],c,L,h,D,y,I),new er(w[1],D,u,h,p,L,I),new er(w[0],c,u,h,D,L,I)),(C=(t>=I)<<2|(e>=L)<<1|n>=D)&&(M=x[x.length-1],x[x.length-1]=x[x.length-1-C],x[x.length-1-C]=M)}else{var N=n-+this._x.call(null,w.data),P=e-+this._y.call(null,w.data),U=t-+this._z.call(null,w.data),V=N*N+P*P+U*U;if(V<i){var z=Math.sqrt(i=V);s=n-z,a=e-z,o=t-z,_=n+z,S=e+z,E=t+z,r=w.data}}return r}const HTe=(n,e,t,i,r,s)=>Math.sqrt((n-i)**2+(e-r)**2+(t-s)**2);function jTe(n,e,t,i){const r=[],s=n-i,a=e-i,o=t-i,c=n+i,u=e+i,h=t+i;return this.visit((p,y,v,_,S,E,x)=>{if(!p.length)do{const w=p.data;HTe(n,e,t,this._x(w),this._y(w),this._z(w))<=i&&r.push(w)}while(p=p.next);return y>c||v>u||_>h||S<s||E<a||x<o}),r}function GTe(n){if(isNaN(y=+this._x.call(null,n))||isNaN(v=+this._y.call(null,n))||isNaN(_=+this._z.call(null,n)))return this;var e,t=this._root,i,r,s,a=this._x0,o=this._y0,c=this._z0,u=this._x1,h=this._y1,p=this._z1,y,v,_,S,E,x,w,M,C,D,L;if(!t)return this;if(t.length)for(;;){if((w=y>=(S=(a+u)/2))?a=S:u=S,(M=v>=(E=(o+h)/2))?o=E:h=E,(C=_>=(x=(c+p)/2))?c=x:p=x,e=t,!(t=t[D=C<<2|M<<1|w]))return this;if(!t.length)break;(e[D+1&7]||e[D+2&7]||e[D+3&7]||e[D+4&7]||e[D+5&7]||e[D+6&7]||e[D+7&7])&&(i=e,L=D)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[D]=s:delete e[D],(t=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&t===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[L]=t:this._root=t),this):(this._root=s,this)}function qTe(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function WTe(){return this._root}function $Te(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function XTe(n){var e=[],t,i=this._root,r,s,a,o,c,u,h;for(i&&e.push(new er(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=e.pop();)if(!n(i=t.node,s=t.x0,a=t.y0,o=t.z0,c=t.x1,u=t.y1,h=t.z1)&&i.length){var p=(s+c)/2,y=(a+u)/2,v=(o+h)/2;(r=i[7])&&e.push(new er(r,p,y,v,c,u,h)),(r=i[6])&&e.push(new er(r,s,y,v,p,u,h)),(r=i[5])&&e.push(new er(r,p,a,v,c,y,h)),(r=i[4])&&e.push(new er(r,s,a,v,p,y,h)),(r=i[3])&&e.push(new er(r,p,y,o,c,u,v)),(r=i[2])&&e.push(new er(r,s,y,o,p,u,v)),(r=i[1])&&e.push(new er(r,p,a,o,c,y,v)),(r=i[0])&&e.push(new er(r,s,a,o,p,y,v))}return this}function YTe(n){var e=[],t=[],i;for(this._root&&e.push(new er(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var r=i.node;if(r.length){var s,a=i.x0,o=i.y0,c=i.z0,u=i.x1,h=i.y1,p=i.z1,y=(a+u)/2,v=(o+h)/2,_=(c+p)/2;(s=r[0])&&e.push(new er(s,a,o,c,y,v,_)),(s=r[1])&&e.push(new er(s,y,o,c,u,v,_)),(s=r[2])&&e.push(new er(s,a,v,c,y,h,_)),(s=r[3])&&e.push(new er(s,y,v,c,u,h,_)),(s=r[4])&&e.push(new er(s,a,o,_,y,v,p)),(s=r[5])&&e.push(new er(s,y,o,_,u,v,p)),(s=r[6])&&e.push(new er(s,a,v,_,y,h,p)),(s=r[7])&&e.push(new er(s,y,v,_,u,h,p))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function KTe(n){return n[0]}function ZTe(n){return arguments.length?(this._x=n,this):this._x}function QTe(n){return n[1]}function JTe(n){return arguments.length?(this._y=n,this):this._y}function ewe(n){return n[2]}function twe(n){return arguments.length?(this._z=n,this):this._z}function kW(n,e,t,i){var r=new $L(e??KTe,t??QTe,i??ewe,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?r:r.addAll(n)}function $L(n,e,t,i,r,s,a,o,c){this._x=n,this._y=e,this._z=t,this._x0=i,this._y0=r,this._z0=s,this._x1=a,this._y1=o,this._z1=c,this._root=void 0}function t9(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var Aa=kW.prototype=$L.prototype;Aa.copy=function(){var n=new $L(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,t,i;if(!e)return n;if(!e.length)return n._root=t9(e),n;for(t=[{source:e,target:n._root=new Array(8)}];e=t.pop();)for(var r=0;r<8;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(8)}):e.target[r]=t9(i));return n};Aa.add=UTe;Aa.addAll=kTe;Aa.cover=zTe;Aa.data=BTe;Aa.extent=FTe;Aa.find=VTe;Aa.findAllWithinRadius=jTe;Aa.remove=GTe;Aa.removeAll=qTe;Aa.root=WTe;Aa.size=$Te;Aa.visit=XTe;Aa.visitAfter=YTe;Aa.x=ZTe;Aa.y=JTe;Aa.z=twe;function Lh(n){return function(){return n}}function Ah(n){return(n()-.5)*1e-6}function nwe(n){return n.index}function n9(n,e){var t=n.get(e);if(!t)throw new Error("node not found: "+e);return t}function iwe(n){var e=nwe,t=y,i,r=Lh(30),s,a,o,c,u,h,p=1;n==null&&(n=[]);function y(x){return 1/Math.min(c[x.source.index],c[x.target.index])}function v(x){for(var w=0,M=n.length;w<p;++w)for(var C=0,D,L,I,N=0,P=0,U=0,V,z;C<M;++C)D=n[C],L=D.source,I=D.target,N=I.x+I.vx-L.x-L.vx||Ah(h),o>1&&(P=I.y+I.vy-L.y-L.vy||Ah(h)),o>2&&(U=I.z+I.vz-L.z-L.vz||Ah(h)),V=Math.sqrt(N*N+P*P+U*U),V=(V-s[C])/V*x*i[C],N*=V,P*=V,U*=V,I.vx-=N*(z=u[C]),o>1&&(I.vy-=P*z),o>2&&(I.vz-=U*z),L.vx+=N*(z=1-z),o>1&&(L.vy+=P*z),o>2&&(L.vz+=U*z)}function _(){if(a){var x,w=a.length,M=n.length,C=new Map(a.map((L,I)=>[e(L,I,a),L])),D;for(x=0,c=new Array(w);x<M;++x)D=n[x],D.index=x,typeof D.source!="object"&&(D.source=n9(C,D.source)),typeof D.target!="object"&&(D.target=n9(C,D.target)),c[D.source.index]=(c[D.source.index]||0)+1,c[D.target.index]=(c[D.target.index]||0)+1;for(x=0,u=new Array(M);x<M;++x)D=n[x],u[x]=c[D.source.index]/(c[D.source.index]+c[D.target.index]);i=new Array(M),S(),s=new Array(M),E()}}function S(){if(a)for(var x=0,w=n.length;x<w;++x)i[x]=+t(n[x],x,n)}function E(){if(a)for(var x=0,w=n.length;x<w;++x)s[x]=+r(n[x],x,n)}return v.initialize=function(x,...w){a=x,h=w.find(M=>typeof M=="function")||Math.random,o=w.find(M=>[1,2,3].includes(M))||2,_()},v.links=function(x){return arguments.length?(n=x,_(),v):n},v.id=function(x){return arguments.length?(e=x,v):e},v.iterations=function(x){return arguments.length?(p=+x,v):p},v.strength=function(x){return arguments.length?(t=typeof x=="function"?x:Lh(+x),S(),v):t},v.distance=function(x){return arguments.length?(r=typeof x=="function"?x:Lh(+x),E(),v):r},v}var rwe={value:()=>{}};function zW(){for(var n=0,e=arguments.length,t={},i;n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new l2(t)}function l2(n){this._=n}function swe(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}l2.prototype=zW.prototype={constructor:l2,on:function(n,e){var t=this._,i=swe(n+"",t),r,s=-1,a=i.length;if(arguments.length<2){for(;++s<a;)if((r=(n=i[s]).type)&&(r=awe(t[r],n.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(r=(n=i[s]).type)t[r]=i9(t[r],n.name,e);else if(e==null)for(r in t)t[r]=i9(t[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new l2(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,s;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,r=s.length;i<r;++i)s[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(e,t)}};function awe(n,e){for(var t=0,i=n.length,r;t<i;++t)if((r=n[t]).name===e)return r.value}function i9(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=rwe,n=n.slice(0,i).concat(n.slice(i+1));break}return t!=null&&n.push({name:e,value:t}),n}var J0=0,Db=0,hb=0,BW=1e3,jC,Nb,GC=0,ty=0,OM=0,tS=typeof performance=="object"&&performance.now?performance:Date,FW=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function VW(){return ty||(FW(owe),ty=tS.now()+OM)}function owe(){ty=0}function zP(){this._call=this._time=this._next=null}zP.prototype=HW.prototype={constructor:zP,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?VW():+t)+(e==null?0:+e),!this._next&&Nb!==this&&(Nb?Nb._next=this:jC=this,Nb=this),this._call=n,this._time=t,BP()},stop:function(){this._call&&(this._call=null,this._time=1/0,BP())}};function HW(n,e,t){var i=new zP;return i.restart(n,e,t),i}function lwe(){VW(),++J0;for(var n=jC,e;n;)(e=ty-n._time)>=0&&n._call.call(void 0,e),n=n._next;--J0}function r9(){ty=(GC=tS.now())+OM,J0=Db=0;try{lwe()}finally{J0=0,uwe(),ty=0}}function cwe(){var n=tS.now(),e=n-GC;e>BW&&(OM-=e,GC=n)}function uwe(){for(var n,e=jC,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:jC=t);Nb=n,BP(i)}function BP(n){if(!J0){Db&&(Db=clearTimeout(Db));var e=n-ty;e>24?(n<1/0&&(Db=setTimeout(r9,n-tS.now()-OM)),hb&&(hb=clearInterval(hb))):(hb||(GC=tS.now(),hb=setInterval(cwe,BW)),J0=1,FW(r9))}}const fwe=1664525,hwe=1013904223,s9=4294967296;function dwe(){let n=1;return()=>(n=(fwe*n+hwe)%s9)/s9}var a9=3;function A3(n){return n.x}function o9(n){return n.y}function pwe(n){return n.z}var mwe=10,gwe=Math.PI*(3-Math.sqrt(5)),ywe=Math.PI*20/(9+Math.sqrt(221));function vwe(n,e){e=e||2;var t=Math.min(a9,Math.max(1,Math.round(e))),i,r=1,s=.001,a=1-Math.pow(s,1/300),o=0,c=.6,u=new Map,h=HW(v),p=zW("tick","end"),y=dwe();n==null&&(n=[]);function v(){_(),p.call("tick",i),r<s&&(h.stop(),p.call("end",i))}function _(x){var w,M=n.length,C;x===void 0&&(x=1);for(var D=0;D<x;++D)for(r+=(o-r)*a,u.forEach(function(L){L(r)}),w=0;w<M;++w)C=n[w],C.fx==null?C.x+=C.vx*=c:(C.x=C.fx,C.vx=0),t>1&&(C.fy==null?C.y+=C.vy*=c:(C.y=C.fy,C.vy=0)),t>2&&(C.fz==null?C.z+=C.vz*=c:(C.z=C.fz,C.vz=0));return i}function S(){for(var x=0,w=n.length,M;x<w;++x){if(M=n[x],M.index=x,M.fx!=null&&(M.x=M.fx),M.fy!=null&&(M.y=M.fy),M.fz!=null&&(M.z=M.fz),isNaN(M.x)||t>1&&isNaN(M.y)||t>2&&isNaN(M.z)){var C=mwe*(t>2?Math.cbrt(.5+x):t>1?Math.sqrt(.5+x):x),D=x*gwe,L=x*ywe;t===1?M.x=C:t===2?(M.x=C*Math.cos(D),M.y=C*Math.sin(D)):(M.x=C*Math.sin(D)*Math.cos(L),M.y=C*Math.cos(D),M.z=C*Math.sin(D)*Math.sin(L))}(isNaN(M.vx)||t>1&&isNaN(M.vy)||t>2&&isNaN(M.vz))&&(M.vx=0,t>1&&(M.vy=0),t>2&&(M.vz=0))}}function E(x){return x.initialize&&x.initialize(n,y,t),x}return S(),i={tick:_,restart:function(){return h.restart(v),i},stop:function(){return h.stop(),i},numDimensions:function(x){return arguments.length?(t=Math.min(a9,Math.max(1,Math.round(x))),u.forEach(E),i):t},nodes:function(x){return arguments.length?(n=x,S(),u.forEach(E),i):n},alpha:function(x){return arguments.length?(r=+x,i):r},alphaMin:function(x){return arguments.length?(s=+x,i):s},alphaDecay:function(x){return arguments.length?(a=+x,i):+a},alphaTarget:function(x){return arguments.length?(o=+x,i):o},velocityDecay:function(x){return arguments.length?(c=1-x,i):1-c},randomSource:function(x){return arguments.length?(y=x,u.forEach(E),i):y},force:function(x,w){return arguments.length>1?(w==null?u.delete(x):u.set(x,E(w)),i):u.get(x)},find:function(){var x=Array.prototype.slice.call(arguments),w=x.shift()||0,M=(t>1?x.shift():null)||0,C=(t>2?x.shift():null)||0,D=x.shift()||1/0,L=0,I=n.length,N,P,U,V,z,F;for(D*=D,L=0;L<I;++L)z=n[L],N=w-z.x,P=M-(z.y||0),U=C-(z.z||0),V=N*N+P*P+U*U,V<D&&(F=z,D=V);return F},on:function(x,w){return arguments.length>1?(p.on(x,w),i):p.on(x)}}}function _we(){var n,e,t,i,r,s=Lh(-30),a,o=1,c=1/0,u=.81;function h(_){var S,E=n.length,x=(e===1?DW(n,A3):e===2?LW(n,A3,o9):e===3?kW(n,A3,o9,pwe):null).visitAfter(y);for(r=_,S=0;S<E;++S)t=n[S],x.visit(v)}function p(){if(n){var _,S=n.length,E;for(a=new Array(S),_=0;_<S;++_)E=n[_],a[E.index]=+s(E,_,n)}}function y(_){var S=0,E,x,w=0,M,C,D,L,I=_.length;if(I){for(M=C=D=L=0;L<I;++L)(E=_[L])&&(x=Math.abs(E.value))&&(S+=E.value,w+=x,M+=x*(E.x||0),C+=x*(E.y||0),D+=x*(E.z||0));S*=Math.sqrt(4/I),_.x=M/w,e>1&&(_.y=C/w),e>2&&(_.z=D/w)}else{E=_,E.x=E.data.x,e>1&&(E.y=E.data.y),e>2&&(E.z=E.data.z);do S+=a[E.data.index];while(E=E.next)}_.value=S}function v(_,S,E,x,w){if(!_.value)return!0;var M=[E,x,w][e-1],C=_.x-t.x,D=e>1?_.y-t.y:0,L=e>2?_.z-t.z:0,I=M-S,N=C*C+D*D+L*L;if(I*I/u<N)return N<c&&(C===0&&(C=Ah(i),N+=C*C),e>1&&D===0&&(D=Ah(i),N+=D*D),e>2&&L===0&&(L=Ah(i),N+=L*L),N<o&&(N=Math.sqrt(o*N)),t.vx+=C*_.value*r/N,e>1&&(t.vy+=D*_.value*r/N),e>2&&(t.vz+=L*_.value*r/N)),!0;if(_.length||N>=c)return;(_.data!==t||_.next)&&(C===0&&(C=Ah(i),N+=C*C),e>1&&D===0&&(D=Ah(i),N+=D*D),e>2&&L===0&&(L=Ah(i),N+=L*L),N<o&&(N=Math.sqrt(o*N)));do _.data!==t&&(I=a[_.data.index]*r/N,t.vx+=C*I,e>1&&(t.vy+=D*I),e>2&&(t.vz+=L*I));while(_=_.next)}return h.initialize=function(_,...S){n=_,i=S.find(E=>typeof E=="function")||Math.random,e=S.find(E=>[1,2,3].includes(E))||2,p()},h.strength=function(_){return arguments.length?(s=typeof _=="function"?_:Lh(+_),p(),h):s},h.distanceMin=function(_){return arguments.length?(o=_*_,h):Math.sqrt(o)},h.distanceMax=function(_){return arguments.length?(c=_*_,h):Math.sqrt(c)},h.theta=function(_){return arguments.length?(u=_*_,h):Math.sqrt(u)},h}function bwe(n,e,t,i){var r,s,a=Lh(.1),o,c;typeof n!="function"&&(n=Lh(+n)),e==null&&(e=0),t==null&&(t=0),i==null&&(i=0);function u(p){for(var y=0,v=r.length;y<v;++y){var _=r[y],S=_.x-e||1e-6,E=(_.y||0)-t||1e-6,x=(_.z||0)-i||1e-6,w=Math.sqrt(S*S+E*E+x*x),M=(c[y]-w)*o[y]*p/w;_.vx+=S*M,s>1&&(_.vy+=E*M),s>2&&(_.vz+=x*M)}}function h(){if(r){var p,y=r.length;for(o=new Array(y),c=new Array(y),p=0;p<y;++p)c[p]=+n(r[p],p,r),o[p]=isNaN(c[p])?0:+a(r[p],p,r)}}return u.initialize=function(p,...y){r=p,s=y.find(v=>[1,2,3].includes(v))||2,h()},u.strength=function(p){return arguments.length?(a=typeof p=="function"?p:Lh(+p),h(),u):a},u.radius=function(p){return arguments.length?(n=typeof p=="function"?p:Lh(+p),h(),u):n},u.x=function(p){return arguments.length?(e=+p,u):e},u.y=function(p){return arguments.length?(t=+p,u):t},u.z=function(p){return arguments.length?(i=+p,u):i},u}function xwe(n){Ewe(n);const e=Swe(n);return n.on=e.on,n.off=e.off,n.fire=e.fire,n}function Swe(n){let e=Object.create(null);return{on:function(t,i,r){if(typeof i!="function")throw new Error("callback is expected to be a function");let s=e[t];return s||(s=e[t]=[]),s.push({callback:i,ctx:r}),n},off:function(t,i){if(typeof t>"u")return e=Object.create(null),n;if(e[t])if(typeof i!="function")delete e[t];else{const a=e[t];for(let o=0;o<a.length;++o)a[o].callback===i&&a.splice(o,1)}return n},fire:function(t){const i=e[t];if(!i)return n;let r;arguments.length>1&&(r=Array.prototype.slice.call(arguments,1));for(let s=0;s<i.length;++s){const a=i[s];a.callback.apply(a.ctx,r)}return n}}}function Ewe(n){if(!n)throw new Error("Eventify cannot use falsy object as events subject");const e=["on","fire","off"];for(let t=0;t<e.length;++t)if(n.hasOwnProperty(e[t]))throw new Error("Subject cannot be eventified, since it already has property '"+e[t]+"'")}function Twe(n){if(n=n||{},"uniqueLinkId"in n&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),n.multigraph=n.uniqueLinkId),n.multigraph===void 0&&(n.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var e=new Map,t=new Map,i={},r=0,s=n.multigraph?C:M,a=[],o=$,c=$,u=$,h=$,p={version:20,addNode:S,addLink:w,removeLink:N,removeNode:x,getNode:E,getNodeCount:D,getLinkCount:L,getEdgeCount:L,getLinksCount:L,getNodesCount:D,getLinks:I,forEachNode:de,forEachLinkedNode:K,forEachLink:F,beginUpdate:u,endUpdate:h,clear:z,hasLink:U,hasNode:E,getLink:U,getLinkById:V};return xwe(p),y(),p;function y(){var Y=p.on;p.on=le;function le(){return p.beginUpdate=u=Q,p.endUpdate=h=se,o=v,c=_,p.on=Y,Y.apply(p,arguments)}}function v(Y,le){a.push({link:Y,changeType:le})}function _(Y,le){a.push({node:Y,changeType:le})}function S(Y,le){if(Y===void 0)throw new Error("Invalid node identifier");u();var pe=E(Y);return pe?(pe.data=le,c(pe,"update")):(pe=new wwe(Y,le),c(pe,"add")),e.set(Y,pe),h(),pe}function E(Y){return e.get(Y)}function x(Y){var le=E(Y);if(!le)return!1;u();var pe=le.links;return pe&&(pe.forEach(P),le.links=null),e.delete(Y),c(le,"remove"),h(),!0}function w(Y,le,pe){u();var ue=E(Y)||S(Y),ie=E(le)||S(le),he=s(Y,le,pe),ye=t.has(he.id);return t.set(he.id,he),l9(ue,he),Y!==le&&l9(ie,he),o(he,ye?"update":"add"),h(),he}function M(Y,le,pe){var ue=dw(Y,le),ie=t.get(ue);return ie?(ie.data=pe,ie):new c9(Y,le,pe,ue)}function C(Y,le,pe){var ue=dw(Y,le),ie=i.hasOwnProperty(ue);if(ie||U(Y,le)){ie||(i[ue]=0);var he="@"+ ++i[ue];ue=dw(Y+he,le+he)}return new c9(Y,le,pe,ue)}function D(){return e.size}function L(){return t.size}function I(Y){var le=E(Y);return le?le.links:null}function N(Y,le){return le!==void 0&&(Y=U(Y,le)),P(Y)}function P(Y){if(!Y||!t.get(Y.id))return!1;u(),t.delete(Y.id);var le=E(Y.fromId),pe=E(Y.toId);return le&&le.links.delete(Y),pe&&pe.links.delete(Y),o(Y,"remove"),h(),!0}function U(Y,le){if(!(Y===void 0||le===void 0))return t.get(dw(Y,le))}function V(Y){if(Y!==void 0)return t.get(Y)}function z(){u(),de(function(Y){x(Y.id)}),h()}function F(Y){if(typeof Y=="function")for(var le=t.values(),pe=le.next();!pe.done;){if(Y(pe.value))return!0;pe=le.next()}}function K(Y,le,pe){var ue=E(Y);if(ue&&ue.links&&typeof le=="function")return pe?q(ue.links,Y,le):ee(ue.links,Y,le)}function ee(Y,le,pe){for(var ue,ie=Y.values(),he=ie.next();!he.done;){var ye=he.value,Ve=ye.fromId===le?ye.toId:ye.fromId;if(ue=pe(e.get(Ve),ye),ue)return!0;he=ie.next()}}function q(Y,le,pe){for(var ue,ie=Y.values(),he=ie.next();!he.done;){var ye=he.value;if(ye.fromId===le&&(ue=pe(e.get(ye.toId),ye),ue))return!0;he=ie.next()}}function $(){}function Q(){r+=1}function se(){r-=1,r===0&&a.length>0&&(p.fire("changed",a),a.length=0)}function de(Y){if(typeof Y!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+Y);for(var le=e.values(),pe=le.next();!pe.done;){if(Y(pe.value))return!0;pe=le.next()}}}function wwe(n,e){this.id=n,this.links=null,this.data=e}function l9(n,e){n.links?n.links.add(e):n.links=new Set([e])}function c9(n,e,t,i){this.fromId=n,this.toId=e,this.data=t,this.id=i}function dw(n,e){return n.toString()+" "+e.toString()}var pw={exports:{}},Hv={exports:{}},M3,u9;function jW(){return u9||(u9=1,M3=function(e){return e===0?"x":e===1?"y":e===2?"z":"c"+(e+1)}),M3}var R3,f9;function T_(){if(f9)return R3;f9=1;const n=jW();return R3=function(t){return i;function i(r,s){let a=s&&s.indent||0,o=s&&s.join!==void 0?s.join:`
`,c=Array(a+1).join(" "),u=[];for(let h=0;h<t;++h){let p=n(h),y=h===0?"":c;u.push(y+r.replace(/{var}/g,p))}return u.join(o)}},R3}var h9;function Cwe(){if(h9)return Hv.exports;h9=1;const n=T_();Hv.exports=e,Hv.exports.generateCreateBodyFunctionBody=t,Hv.exports.getVectorCode=r,Hv.exports.getBodyCode=i;function e(s,a){let o=t(s,a),{Body:c}=new Function(o)();return c}function t(s,a){return`
${r(s,a)}
${i(s)}
return {Body: Body, Vector: Vector};
`}function i(s){let a=n(s),o=a("{var}",{join:", "});return`
function Body(${o}) {
  this.isPinned = false;
  this.pos = new Vector(${o});
  this.force = new Vector();
  this.velocity = new Vector();
  this.mass = 1;

  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.reset = function() {
  this.force.reset();
  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.setPosition = function (${o}) {
  ${a("this.pos.{var} = {var} || 0;",{indent:2})}
};`}function r(s,a){let o=n(s),c="";return a&&(c=`${o(`
	   var v{var};
	Object.defineProperty(this, '{var}', {
	  set: function(v) { 
	    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');
	    v{var} = v; 
	  },
	  get: function() { return v{var}; }
	});`)}`),`function Vector(${o("{var}",{join:", "})}) {
  ${c}
    if (typeof arguments[0] === 'object') {
      // could be another vector
      let v = arguments[0];
      ${o('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}
      ${o("this.{var} = v.{var};",{indent:4})}
    } else {
      ${o('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}
    }
  }
  
  Vector.prototype.reset = function () {
    ${o("this.{var} = ",{join:""})}0;
  };`}return Hv.exports}var Sh={exports:{}},d9;function Awe(){if(d9)return Sh.exports;d9=1;const n=T_(),e=jW();Sh.exports=t,Sh.exports.generateQuadTreeFunctionBody=i,Sh.exports.getInsertStackCode=c,Sh.exports.getQuadNodeCode=o,Sh.exports.isSamePosition=r,Sh.exports.getChildBodyCode=a,Sh.exports.setChildBodyCode=s;function t(u){let h=i(u);return new Function(h)()}function i(u){let h=n(u),p=Math.pow(2,u);return`
${c()}
${o(u)}
${r(u)}
${a(u)}
${s(u)}

function createQuadTree(options, random) {
  options = options || {};
  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;
  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;

  var gravity = options.gravity;
  var updateQueue = [];
  var insertStack = new InsertStack();
  var theta = options.theta;

  var nodesCache = [];
  var currentInCache = 0;
  var root = newNode();

  return {
    insertBodies: insertBodies,

    /**
     * Gets root node if it is present
     */
    getRoot: function() {
      return root;
    },

    updateBodyForce: update,

    options: function(newOptions) {
      if (newOptions) {
        if (typeof newOptions.gravity === 'number') {
          gravity = newOptions.gravity;
        }
        if (typeof newOptions.theta === 'number') {
          theta = newOptions.theta;
        }

        return this;
      }

      return {
        gravity: gravity,
        theta: theta
      };
    }
  };

  function newNode() {
    // To avoid pressure on GC we reuse nodes.
    var node = nodesCache[currentInCache];
    if (node) {
${S("      node.")}
      node.body = null;
      node.mass = ${h("node.mass_{var} = ",{join:""})}0;
      ${h("node.min_{var} = node.max_{var} = ",{join:""})}0;
    } else {
      node = new QuadNode();
      nodesCache[currentInCache] = node;
    }

    ++currentInCache;
    return node;
  }

  function update(sourceBody) {
    var queue = updateQueue;
    var v;
    ${h("var d{var};",{indent:4})}
    var r; 
    ${h("var f{var} = 0;",{indent:4})}
    var queueLength = 1;
    var shiftIdx = 0;
    var pushIdx = 1;

    queue[0] = root;

    while (queueLength) {
      var node = queue[shiftIdx];
      var body = node.body;

      queueLength -= 1;
      shiftIdx += 1;
      var differentBody = (body !== sourceBody);
      if (body && differentBody) {
        // If the current node is a leaf node (and it is not source body),
        // calculate the force exerted by the current node on body, and add this
        // amount to body's net force.
        ${h("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Poor man's protection against zero distance.
          ${h("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});
        }

        // This is standard gravitation force calculation but we divide
        // by r^3 to save two operations when normalizing force vector.
        v = gravity * body.mass * sourceBody.mass / (r * r * r);
        ${h("f{var} += v * d{var};",{indent:8})}
      } else if (differentBody) {
        // Otherwise, calculate the ratio s / r,  where s is the width of the region
        // represented by the internal node, and r is the distance between the body
        // and the node's center-of-mass
        ${h("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Sorry about code duplication. I don't want to create many functions
          // right away. Just want to see performance first.
          ${h("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});
        }
        // If s / r < , treat this internal node as a single body, and calculate the
        // force it exerts on sourceBody, and add this amount to sourceBody's net force.
        if ((node.max_${e(0)} - node.min_${e(0)}) / r < theta) {
          // in the if statement above we consider node's width only
          // because the region was made into square during tree creation.
          // Thus there is no difference between using width or height.
          v = gravity * node.mass * sourceBody.mass / (r * r * r);
          ${h("f{var} += v * d{var};",{indent:10})}
        } else {
          // Otherwise, run the procedure recursively on each of the current node's children.

          // I intentionally unfolded this loop, to save several CPU cycles.
${_()}
        }
      }
    }

    ${h("sourceBody.force.{var} += f{var};",{indent:4})}
  }

  function insertBodies(bodies) {
    ${h("var {var}min = Number.MAX_VALUE;",{indent:4})}
    ${h("var {var}max = Number.MIN_VALUE;",{indent:4})}
    var i = bodies.length;

    // To reduce quad tree depth we are looking for exact bounding box of all particles.
    while (i--) {
      var pos = bodies[i].pos;
      ${h("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}
      ${h("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}
    }

    // Makes the bounds square.
    var maxSideLength = -Infinity;
    ${h("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}

    currentInCache = 0;
    root = newNode();
    ${h("root.min_{var} = {var}min;",{indent:4})}
    ${h("root.max_{var} = {var}min + maxSideLength;",{indent:4})}

    i = bodies.length - 1;
    if (i >= 0) {
      root.body = bodies[i];
    }
    while (i--) {
      insert(bodies[i], root);
    }
  }

  function insert(newBody) {
    insertStack.reset();
    insertStack.push(root, newBody);

    while (!insertStack.isEmpty()) {
      var stackItem = insertStack.pop();
      var node = stackItem.node;
      var body = stackItem.body;

      if (!node.body) {
        // This is internal node. Update the total mass of the node and center-of-mass.
        ${h("var {var} = body.pos.{var};",{indent:8})}
        node.mass += body.mass;
        ${h("node.mass_{var} += body.mass * {var};",{indent:8})}

        // Recursively insert the body in the appropriate quadrant.
        // But first find the appropriate quadrant.
        var quadIdx = 0; // Assume we are in the 0's quad.
        ${h("var min_{var} = node.min_{var};",{indent:8})}
        ${h("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}

${v(8)}

        var child = getChild(node, quadIdx);

        if (!child) {
          // The node is internal but this quadrant is not taken. Add
          // subnode to it.
          child = newNode();
          ${h("child.min_{var} = min_{var};",{indent:10})}
          ${h("child.max_{var} = max_{var};",{indent:10})}
          child.body = body;

          setChild(node, quadIdx, child);
        } else {
          // continue searching in this quadrant.
          insertStack.push(child, body);
        }
      } else {
        // We are trying to add to the leaf node.
        // We have to convert current leaf into internal node
        // and continue adding two nodes.
        var oldBody = node.body;
        node.body = null; // internal nodes do not cary bodies

        if (isSamePosition(oldBody.pos, body.pos)) {
          // Prevent infinite subdivision by bumping one node
          // anywhere in this quadrant
          var retriesCount = 3;
          do {
            var offset = random.nextDouble();
            ${h("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}

            ${h("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}
            retriesCount -= 1;
            // Make sure we don't bump it out of the box. If we do, next iteration should fix it
          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));

          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {
            // This is very bad, we ran out of precision.
            // if we do not return from the method we'll get into
            // infinite loop here. So we sacrifice correctness of layout, and keep the app running
            // Next layout iteration should get larger bounding box in the first step and fix this
            return;
          }
        }
        // Next iteration should subdivide node further.
        insertStack.push(node, oldBody);
        insertStack.push(node, body);
      }
    }
  }
}
return createQuadTree;

`;function v(E){let x=[],w=Array(E+1).join(" ");for(let M=0;M<u;++M)x.push(w+`if (${e(M)} > max_${e(M)}) {`),x.push(w+`  quadIdx = quadIdx + ${Math.pow(2,M)};`),x.push(w+`  min_${e(M)} = max_${e(M)};`),x.push(w+`  max_${e(M)} = node.max_${e(M)};`),x.push(w+"}");return x.join(`
`)}function _(){let E=Array(11).join(" "),x=[];for(let w=0;w<p;++w)x.push(E+`if (node.quad${w}) {`),x.push(E+`  queue[pushIdx] = node.quad${w};`),x.push(E+"  queueLength += 1;"),x.push(E+"  pushIdx += 1;"),x.push(E+"}");return x.join(`
`)}function S(E){let x=[];for(let w=0;w<p;++w)x.push(`${E}quad${w} = null;`);return x.join(`
`)}}function r(u){let h=n(u);return`
  function isSamePosition(point1, point2) {
    ${h("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}
  
    return ${h("d{var} < 1e-8",{join:" && "})};
  }  
`}function s(u){var h=Math.pow(2,u);return`
function setChild(node, idx, child) {
  ${p()}
}`;function p(){let y=[];for(let v=0;v<h;++v){let _=v===0?"  ":"  else ";y.push(`${_}if (idx === ${v}) node.quad${v} = child;`)}return y.join(`
`)}}function a(u){return`function getChild(node, idx) {
${h()}
  return null;
}`;function h(){let p=[],y=Math.pow(2,u);for(let v=0;v<y;++v)p.push(`  if (idx === ${v}) return node.quad${v};`);return p.join(`
`)}}function o(u){let h=n(u),p=Math.pow(2,u);var y=`
function QuadNode() {
  // body stored inside this node. In quad tree only leaf nodes (by construction)
  // contain bodies:
  this.body = null;

  // Child nodes are stored in quads. Each quad is presented by number:
  // 0 | 1
  // -----
  // 2 | 3
${v("  this.")}

  // Total mass of current node
  this.mass = 0;

  // Center of mass coordinates
  ${h("this.mass_{var} = 0;",{indent:2})}

  // bounding box coordinates
  ${h("this.min_{var} = 0;",{indent:2})}
  ${h("this.max_{var} = 0;",{indent:2})}
}
`;return y;function v(_){let S=[];for(let E=0;E<p;++E)S.push(`${_}quad${E} = null;`);return S.join(`
`)}}function c(){return`
/**
 * Our implementation of QuadTree is non-recursive to avoid GC hit
 * This data structure represent stack of elements
 * which we are trying to insert into quad tree.
 */
function InsertStack () {
    this.stack = [];
    this.popIdx = 0;
}

InsertStack.prototype = {
    isEmpty: function() {
        return this.popIdx === 0;
    },
    push: function (node, body) {
        var item = this.stack[this.popIdx];
        if (!item) {
            // we are trying to avoid memory pressure: create new element
            // only when absolutely necessary
            this.stack[this.popIdx] = new InsertStackElement(node, body);
        } else {
            item.node = node;
            item.body = body;
        }
        ++this.popIdx;
    },
    pop: function () {
        if (this.popIdx > 0) {
            return this.stack[--this.popIdx];
        }
    },
    reset: function () {
        this.popIdx = 0;
    }
};

function InsertStackElement(node, body) {
    this.node = node; // QuadTree node
    this.body = body; // physical body which needs to be inserted to node
}
`}return Sh.exports}var mw={exports:{}},p9;function Mwe(){if(p9)return mw.exports;p9=1,mw.exports=e,mw.exports.generateFunctionBody=t;const n=T_();function e(i){let r=t(i);return new Function("bodies","settings","random",r)}function t(i){let r=n(i);return`
  var boundingBox = {
    ${r("min_{var}: 0, max_{var}: 0,",{indent:4})}
  };

  return {
    box: boundingBox,

    update: updateBoundingBox,

    reset: resetBoundingBox,

    getBestNewPosition: function (neighbors) {
      var ${r("base_{var} = 0",{join:", "})};

      if (neighbors.length) {
        for (var i = 0; i < neighbors.length; ++i) {
          let neighborPos = neighbors[i].pos;
          ${r("base_{var} += neighborPos.{var};",{indent:10})}
        }

        ${r("base_{var} /= neighbors.length;",{indent:8})}
      } else {
        ${r("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}
      }

      var springLength = settings.springLength;
      return {
        ${r("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}
      };
    }
  };

  function updateBoundingBox() {
    var i = bodies.length;
    if (i === 0) return; // No bodies - no borders.

    ${r("var max_{var} = -Infinity;",{indent:4})}
    ${r("var min_{var} = Infinity;",{indent:4})}

    while(i--) {
      // this is O(n), it could be done faster with quadtree, if we check the root node bounds
      var bodyPos = bodies[i].pos;
      ${r("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}
      ${r("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}
    }

    ${r("boundingBox.min_{var} = min_{var};",{indent:4})}
    ${r("boundingBox.max_{var} = max_{var};",{indent:4})}
  }

  function resetBoundingBox() {
    ${r("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}
  }
`}return mw.exports}var gw={exports:{}},m9;function Rwe(){if(m9)return gw.exports;m9=1;const n=T_();gw.exports=e,gw.exports.generateCreateDragForceFunctionBody=t;function e(i){let r=t(i);return new Function("options",r)}function t(i){return`
  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');

  return {
    update: function(body) {
      ${n(i)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}
    }
  };
`}return gw.exports}var yw={exports:{}},g9;function Owe(){if(g9)return yw.exports;g9=1;const n=T_();yw.exports=e,yw.exports.generateCreateSpringForceFunctionBody=t;function e(i){let r=t(i);return new Function("options","random",r)}function t(i){let r=n(i);return`
  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');
  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');

  return {
    /**
     * Updates forces acting on a spring
     */
    update: function (spring) {
      var body1 = spring.from;
      var body2 = spring.to;
      var length = spring.length < 0 ? options.springLength : spring.length;
      ${r("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}
      var r = Math.sqrt(${r("d{var} * d{var}",{join:" + "})});

      if (r === 0) {
        ${r("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}
        r = Math.sqrt(${r("d{var} * d{var}",{join:" + "})});
      }

      var d = r - length;
      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;

      ${r("body1.force.{var} += coefficient * d{var}",{indent:6})};
      body1.springCount += 1;
      body1.springLength += r;

      ${r("body2.force.{var} -= coefficient * d{var}",{indent:6})};
      body2.springCount += 1;
      body2.springLength += r;
    }
  };
`}return yw.exports}var vw={exports:{}},y9;function Iwe(){if(y9)return vw.exports;y9=1;const n=T_();vw.exports=e,vw.exports.generateIntegratorFunctionBody=t;function e(i){let r=t(i);return new Function("bodies","timeStep","adaptiveTimeStepWeight",r)}function t(i){let r=n(i);return`
  var length = bodies.length;
  if (length === 0) return 0;

  ${r("var d{var} = 0, t{var} = 0;",{indent:2})}

  for (var i = 0; i < length; ++i) {
    var body = bodies[i];
    if (body.isPinned) continue;

    if (adaptiveTimeStepWeight && body.springCount) {
      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);
    }

    var coeff = timeStep / body.mass;

    ${r("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}
    ${r("var v{var} = body.velocity.{var};",{indent:4})}
    var v = Math.sqrt(${r("v{var} * v{var}",{join:" + "})});

    if (v > 1) {
      // We normalize it so that we move within timeStep range. 
      // for the case when v <= 1 - we let velocity to fade out.
      ${r("body.velocity.{var} = v{var} / v;",{indent:6})}
    }

    ${r("d{var} = timeStep * body.velocity.{var};",{indent:4})}

    ${r("body.pos.{var} += d{var};",{indent:4})}

    ${r("t{var} += Math.abs(d{var});",{indent:4})}
  }

  return (${r("t{var} * t{var}",{join:" + "})})/length;
`}return vw.exports}var O3,v9;function Pwe(){if(v9)return O3;v9=1,O3=n;function n(e,t,i,r){this.from=e,this.to=t,this.length=i,this.coefficient=r}return O3}var I3,_9;function Dwe(){if(_9)return I3;_9=1,I3=n;function n(e,t){var i;if(e||(e={}),t){for(i in t)if(t.hasOwnProperty(i)){var r=e.hasOwnProperty(i),s=typeof t[i],a=!r||typeof e[i]!==s;a?e[i]=t[i]:s==="object"&&(e[i]=n(e[i],t[i]))}}return e}return I3}var P3,b9;function GW(){if(b9)return P3;b9=1;function n(i){t(i);const r=e(i);return i.on=r.on,i.off=r.off,i.fire=r.fire,i}function e(i){let r=Object.create(null);return{on:function(s,a,o){if(typeof a!="function")throw new Error("callback is expected to be a function");let c=r[s];return c||(c=r[s]=[]),c.push({callback:a,ctx:o}),i},off:function(s,a){if(typeof s>"u")return r=Object.create(null),i;if(r[s])if(typeof a!="function")delete r[s];else{const o=r[s];for(let c=0;c<o.length;++c)o[c].callback===a&&o.splice(c,1)}return i},fire:function(s){const a=r[s];if(!a)return i;let o;arguments.length>1&&(o=Array.prototype.slice.call(arguments,1));for(let c=0;c<a.length;++c){const u=a[c];u.callback.apply(u.ctx,o)}return i}}}function t(i){if(!i)throw new Error("Eventify cannot use falsy object as events subject");const r=["on","fire","off"];for(let s=0;s<r.length;++s)if(i.hasOwnProperty(r[s]))throw new Error("Subject cannot be eventified, since it already has property '"+r[s]+"'")}return P3=n,P3}var db={exports:{}},x9;function Nwe(){if(x9)return db.exports;x9=1,db.exports=n,db.exports.random=n,db.exports.randomIterator=o;function n(c){var u=typeof c=="number"?c:+new Date;return new e(u)}function e(c){this.seed=c}e.prototype.next=a,e.prototype.nextDouble=s,e.prototype.uniform=s,e.prototype.gaussian=t,e.prototype.random=s;function t(){var c,u,h;do u=this.nextDouble()*2-1,h=this.nextDouble()*2-1,c=u*u+h*h;while(c>=1||c===0);return u*Math.sqrt(-2*Math.log(c)/c)}e.prototype.levy=i;function i(){var c=1.5,u=Math.pow(r(1+c)*Math.sin(Math.PI*c/2)/(r((1+c)/2)*c*Math.pow(2,(c-1)/2)),1/c);return this.gaussian()*u/Math.pow(Math.abs(this.gaussian()),1/c)}function r(c){return Math.sqrt(2*Math.PI/c)*Math.pow(1/Math.E*(c+1/(12*c-1/(10*c))),c)}function s(){var c=this.seed;return c=c+2127912214+(c<<12)&4294967295,c=(c^3345072700^c>>>19)&4294967295,c=c+374761393+(c<<5)&4294967295,c=(c+3550635116^c<<9)&4294967295,c=c+4251993797+(c<<3)&4294967295,c=(c^3042594569^c>>>16)&4294967295,this.seed=c,(c&268435455)/268435456}function a(c){return Math.floor(this.nextDouble()*c)}function o(c,u){var h=u||n();if(typeof h.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:y,shuffle:p};function p(){var v,_,S;for(v=c.length-1;v>0;--v)_=h.next(v+1),S=c[_],c[_]=c[v],c[v]=S;return c}function y(v){var _,S,E;for(_=c.length-1;_>0;--_)S=h.next(_+1),E=c[S],c[S]=c[_],c[_]=E,v(E);c.length&&v(c[0])}}return db.exports}var D3,S9;function E9(){if(S9)return D3;S9=1,D3=o;var n=Cwe(),e=Awe(),t=Mwe(),i=Rwe(),r=Owe(),s=Iwe(),a={};function o(h){var p=Pwe(),y=Dwe(),v=GW();if(h){if(h.springCoeff!==void 0)throw new Error("springCoeff was renamed to springCoefficient");if(h.dragCoeff!==void 0)throw new Error("dragCoeff was renamed to dragCoefficient")}h=y(h,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var _=a[h.dimensions];if(!_){var S=h.dimensions;_={Body:n(S,h.debug),createQuadTree:e(S),createBounds:t(S),createDragForce:i(S),createSpringForce:r(S),integrate:s(S)},a[S]=_}var E=_.Body,x=_.createQuadTree,w=_.createBounds,M=_.createDragForce,C=_.createSpringForce,D=_.integrate,L=ie=>new E(ie),I=Nwe().random(42),N=[],P=[],U=x(h,I),V=w(N,h,I),z=C(h,I),F=M(h),K=0,ee=[],q=new Map,$=0;de("nbody",pe),de("spring",ue);var Q={bodies:N,quadTree:U,springs:P,settings:h,addForce:de,removeForce:Y,getForces:le,step:function(){for(var ie=0;ie<ee.length;++ie)ee[ie]($);var he=D(N,h.timeStep,h.adaptiveTimeStepWeight);return $+=1,he},addBody:function(ie){if(!ie)throw new Error("Body is required");return N.push(ie),ie},addBodyAt:function(ie){if(!ie)throw new Error("Body position is required");var he=L(ie);return N.push(he),he},removeBody:function(ie){if(ie){var he=N.indexOf(ie);if(!(he<0))return N.splice(he,1),N.length===0&&V.reset(),!0}},addSpring:function(ie,he,ye,Ve){if(!ie||!he)throw new Error("Cannot add null spring to force simulator");typeof ye!="number"&&(ye=-1);var Xe=new p(ie,he,ye,Ve>=0?Ve:-1);return P.push(Xe),Xe},getTotalMovement:function(){return K},removeSpring:function(ie){if(ie){var he=P.indexOf(ie);if(he>-1)return P.splice(he,1),!0}},getBestNewBodyPosition:function(ie){return V.getBestNewPosition(ie)},getBBox:se,getBoundingBox:se,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(ie){return ie!==void 0?(h.gravity=ie,U.options({gravity:ie}),this):h.gravity},theta:function(ie){return ie!==void 0?(h.theta=ie,U.options({theta:ie}),this):h.theta},random:I};return c(h,Q),v(Q),Q;function se(){return V.update(),V.box}function de(ie,he){if(q.has(ie))throw new Error("Force "+ie+" is already added");q.set(ie,he),ee.push(he)}function Y(ie){var he=ee.indexOf(q.get(ie));he<0||(ee.splice(he,1),q.delete(ie))}function le(){return q}function pe(){if(N.length!==0){U.insertBodies(N);for(var ie=N.length;ie--;){var he=N[ie];he.isPinned||(he.reset(),U.updateBodyForce(he),F.update(he))}}}function ue(){for(var ie=P.length;ie--;)z.update(P[ie])}}function c(h,p){for(var y in h)u(h,p,y)}function u(h,p,y){if(h.hasOwnProperty(y)&&typeof p[y]!="function"){var v=Number.isFinite(h[y]);v?p[y]=function(_){if(_!==void 0){if(!Number.isFinite(_))throw new Error("Value of "+y+" should be a valid number.");return h[y]=_,p}return h[y]}:p[y]=function(_){return _!==void 0?(h[y]=_,p):h[y]}}}return D3}var T9;function Lwe(){if(T9)return pw.exports;T9=1,pw.exports=e,pw.exports.simulator=E9();var n=GW();function e(i,r){if(!i)throw new Error("Graph structure cannot be undefined");var s=r&&r.createSimulator||E9(),a=s(r);if(Array.isArray(r))throw new Error("Physics settings is expected to be an object");var o=i.version>19?q:ee;r&&typeof r.nodeMass=="function"&&(o=r.nodeMass);var c=new Map,u={},h=0,p=a.settings.springTransform||t;L(),M();var y=!1,v={step:function(){if(h===0)return _(!0),!0;var $=a.step();v.lastMove=$,v.fire("step");var Q=$/h,se=Q<=.01;return _(se),se},getNodePosition:function($){return K($).pos},setNodePosition:function($){var Q=K($);Q.setPosition.apply(Q,Array.prototype.slice.call(arguments,1))},getLinkPosition:function($){var Q=u[$];if(Q)return{from:Q.from.pos,to:Q.to.pos}},getGraphRect:function(){return a.getBBox()},forEachBody:S,pinNode:function($,Q){var se=K($.id);se.isPinned=!!Q},isNodePinned:function($){return K($.id).isPinned},dispose:function(){i.off("changed",D),v.fire("disposed")},getBody:w,getSpring:x,getForceVectorLength:E,simulator:a,graph:i,lastMove:0};return n(v),v;function _($){y!==$&&(y=$,C($))}function S($){c.forEach($)}function E(){var $=0,Q=0;return S(function(se){$+=Math.abs(se.force.x),Q+=Math.abs(se.force.y)}),Math.sqrt($*$+Q*Q)}function x($,Q){var se;if(Q===void 0)typeof $!="object"?se=$:se=$.id;else{var de=i.hasLink($,Q);if(!de)return;se=de.id}return u[se]}function w($){return c.get($)}function M(){i.on("changed",D)}function C($){v.fire("stable",$)}function D($){for(var Q=0;Q<$.length;++Q){var se=$[Q];se.changeType==="add"?(se.node&&I(se.node.id),se.link&&P(se.link)):se.changeType==="remove"&&(se.node&&N(se.node),se.link&&U(se.link))}h=i.getNodesCount()}function L(){h=0,i.forEachNode(function($){I($.id),h+=1}),i.forEachLink(P)}function I($){var Q=c.get($);if(!Q){var se=i.getNode($);if(!se)throw new Error("initBody() was called with unknown node id");var de=se.position;if(!de){var Y=V(se);de=a.getBestNewBodyPosition(Y)}Q=a.addBodyAt(de),Q.id=$,c.set($,Q),z($),F(se)&&(Q.isPinned=!0)}}function N($){var Q=$.id,se=c.get(Q);se&&(c.delete(Q),a.removeBody(se))}function P($){z($.fromId),z($.toId);var Q=c.get($.fromId),se=c.get($.toId),de=a.addSpring(Q,se,$.length);p($,de),u[$.id]=de}function U($){var Q=u[$.id];if(Q){var se=i.getNode($.fromId),de=i.getNode($.toId);se&&z(se.id),de&&z(de.id),delete u[$.id],a.removeSpring(Q)}}function V($){var Q=[];if(!$.links)return Q;for(var se=Math.min($.links.length,2),de=0;de<se;++de){var Y=$.links[de],le=Y.fromId!==$.id?c.get(Y.fromId):c.get(Y.toId);le&&le.pos&&Q.push(le)}return Q}function z($){var Q=c.get($);if(Q.mass=o($),Number.isNaN(Q.mass))throw new Error("Node mass should be a number")}function F($){return $&&($.isPinned||$.data&&$.data.isPinned)}function K($){var Q=c.get($);return Q||(I($),Q=c.get($)),Q}function ee($){var Q=i.getLinks($);return Q?1+Q.length/3:1}function q($){var Q=i.getLinks($);return Q?1+Q.size/3:1}}function t(){}return pw.exports}var Uwe=Lwe();const kwe=$p(Uwe);function FP(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var zwe=typeof global=="object"&&global&&global.Object===Object&&global,Bwe=typeof self=="object"&&self&&self.Object===Object&&self,qW=zwe||Bwe||Function("return this")(),N3=function(){return qW.Date.now()},Fwe=/\s/;function Vwe(n){for(var e=n.length;e--&&Fwe.test(n.charAt(e)););return e}var Hwe=/^\s+/;function jwe(n){return n&&n.slice(0,Vwe(n)+1).replace(Hwe,"")}var qC=qW.Symbol,WW=Object.prototype,Gwe=WW.hasOwnProperty,qwe=WW.toString,pb=qC?qC.toStringTag:void 0;function Wwe(n){var e=Gwe.call(n,pb),t=n[pb];try{n[pb]=void 0;var i=!0}catch{}var r=qwe.call(n);return i&&(e?n[pb]=t:delete n[pb]),r}var $we=Object.prototype,Xwe=$we.toString;function Ywe(n){return Xwe.call(n)}var Kwe="[object Null]",Zwe="[object Undefined]",w9=qC?qC.toStringTag:void 0;function Qwe(n){return n==null?n===void 0?Zwe:Kwe:w9&&w9 in Object(n)?Wwe(n):Ywe(n)}function Jwe(n){return n!=null&&typeof n=="object"}var e2e="[object Symbol]";function t2e(n){return typeof n=="symbol"||Jwe(n)&&Qwe(n)==e2e}var C9=NaN,n2e=/^[-+]0x[0-9a-f]+$/i,i2e=/^0b[01]+$/i,r2e=/^0o[0-7]+$/i,s2e=parseInt;function A9(n){if(typeof n=="number")return n;if(t2e(n))return C9;if(FP(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=FP(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=jwe(n);var t=i2e.test(n);return t||r2e.test(n)?s2e(n.slice(2),t?2:8):n2e.test(n)?C9:+n}var a2e="Expected a function",o2e=Math.max,l2e=Math.min;function c2e(n,e,t){var i,r,s,a,o,c,u=0,h=!1,p=!1,y=!0;if(typeof n!="function")throw new TypeError(a2e);e=A9(e)||0,FP(t)&&(h=!!t.leading,p="maxWait"in t,s=p?o2e(A9(t.maxWait)||0,e):s,y="trailing"in t?!!t.trailing:y);function v(L){var I=i,N=r;return i=r=void 0,u=L,a=n.apply(N,I),a}function _(L){return u=L,o=setTimeout(x,e),h?v(L):a}function S(L){var I=L-c,N=L-u,P=e-I;return p?l2e(P,s-N):P}function E(L){var I=L-c,N=L-u;return c===void 0||I>=e||I<0||p&&N>=s}function x(){var L=N3();if(E(L))return w(L);o=setTimeout(x,S(L))}function w(L){return o=void 0,y&&i?v(L):(i=r=void 0,a)}function M(){o!==void 0&&clearTimeout(o),u=0,i=c=r=o=void 0}function C(){return o===void 0?a:w(N3())}function D(){var L=N3(),I=E(L);if(i=arguments,r=this,c=L,I){if(o===void 0)return _(c);if(p)return clearTimeout(o),o=setTimeout(x,e),v(c)}return o===void 0&&(o=setTimeout(x,e)),a}return D.cancel=M,D.flush=C,D}function M9(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function u2e(n){if(Array.isArray(n))return n}function f2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function h2e(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function d2e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],c=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(h){u=!0,r=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function p2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m2e(n,e){return u2e(n)||d2e(n,e)||g2e(n,e)||p2e()}function g2e(n,e){if(n){if(typeof n=="string")return M9(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?M9(n,e):void 0}}var y2e=h2e(function n(e,t){var i=t.default,r=i===void 0?null:i,s=t.triggerUpdate,a=s===void 0?!0:s,o=t.onChange,c=o===void 0?function(u,h){}:o;f2e(this,n),this.name=e,this.defaultVal=r,this.triggerUpdate=a,this.onChange=c});function v2e(n){var e=n.stateInit,t=e===void 0?function(){return{}}:e,i=n.props,r=i===void 0?{}:i,s=n.methods,a=s===void 0?{}:s,o=n.aliases,c=o===void 0?{}:o,u=n.init,h=u===void 0?function(){}:u,p=n.update,y=p===void 0?function(){}:p,v=Object.keys(r).map(function(_){return new y2e(_,r[_])});return function _(){for(var S=arguments.length,E=new Array(S),x=0;x<S;x++)E[x]=arguments[x];var w=!!(this instanceof _&&this.constructor),M=w?E.shift():void 0,C=E[0],D=C===void 0?{}:C,L=Object.assign({},t instanceof Function?t(D):t,{initialised:!1}),I={};function N(V){return P(V,D),U(),N}var P=function(z,F){h.call(N,z,L,F),L.initialised=!0},U=c2e(function(){L.initialised&&(y.call(N,L,I),I={})},1);return v.forEach(function(V){N[V.name]=z(V);function z(F){var K=F.name,ee=F.triggerUpdate,q=ee===void 0?!1:ee,$=F.onChange,Q=$===void 0?function(Y,le){}:$,se=F.defaultVal,de=se===void 0?null:se;return function(Y){var le=L[K];if(!arguments.length)return le;var pe=Y===void 0?de:Y;return L[K]=pe,Q.call(N,pe,L,le),!I.hasOwnProperty(K)&&(I[K]=le),q&&U(),N}}}),Object.keys(a).forEach(function(V){N[V]=function(){for(var z,F=arguments.length,K=new Array(F),ee=0;ee<F;ee++)K[ee]=arguments[ee];return(z=a[V]).call.apply(z,[N,L].concat(K))}}),Object.entries(c).forEach(function(V){var z=m2e(V,2),F=z[0],K=z[1];return N[F]=N[K]}),N.resetProps=function(){return v.forEach(function(V){N[V.name](V.defaultVal)}),N},N.resetProps(),L._rerender=U,w&&M&&N(M),N}}var di=(function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}});class R9 extends Map{constructor(e,t=x2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(O9(this,e))}has(e){return super.has(O9(this,e))}set(e,t){return super.set(_2e(this,e),t)}delete(e){return super.delete(b2e(this,e))}}function O9({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function _2e({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function b2e({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function x2e(n){return n!==null&&typeof n=="object"?n.valueOf():n}function S2e(n,e){let t;if(e===void 0)for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(t<r||t===void 0&&r>=r)&&(t=r)}return t}function E2e(n,e){let t;if(e===void 0)for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(t>r||t===void 0&&r>=r)&&(t=r)}return t}function VP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function T2e(n){if(Array.isArray(n))return n}function w2e(n){if(Array.isArray(n))return VP(n)}function $W(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function C2e(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function A2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Wa(n,e){return n.get($W(n,e))}function jv(n,e,t){C2e(n,e),e.set(n,t)}function _w(n,e,t){return n.set($W(n,e),t),t}function M2e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,k2e(i.key),i)}}function R2e(n,e,t){return e&&M2e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function O2e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function I2e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],c=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(h){u=!0,r=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function P2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N2e(n,e){return T2e(n)||I2e(n,e)||XW(n,e)||P2e()}function L2e(n){return w2e(n)||O2e(n)||XW(n)||D2e()}function U2e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function k2e(n){var e=U2e(n,"string");return typeof e=="symbol"?e:e+""}function XW(n,e){if(n){if(typeof n=="string")return VP(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?VP(n,e):void 0}}var Gv=new WeakMap,mb=new WeakMap,qv=new WeakMap,L3=new WeakMap,U3=new WeakMap,k3=new WeakMap,z2e=(function(){function n(){A2e(this,n),jv(this,Gv,new Map),jv(this,mb,new Map),jv(this,qv,function(e){return e}),jv(this,L3,function(){return{}}),jv(this,U3,function(){}),jv(this,k3,function(){})}return R2e(n,[{key:"getObj",value:function(t){return Wa(Gv,this).get(Wa(qv,this).call(this,t))}},{key:"getData",value:function(t){return Wa(mb,this).get(t)}},{key:"entries",value:function(){return L2e(Wa(mb,this).entries()).map(function(t){var i=N2e(t,2),r=i[0],s=i[1];return[s,r]})}},{key:"id",value:function(t){return _w(qv,this,di(t)),this}},{key:"onCreateObj",value:function(t){return _w(L3,this,t),this}},{key:"onUpdateObj",value:function(t){return _w(U3,this,t),this}},{key:"onRemoveObj",value:function(t){return _w(k3,this,t),this}},{key:"digest",value:function(t){var i=this;t.filter(function(s){return!Wa(Gv,i).has(Wa(qv,i).call(i,s))}).forEach(function(s){var a=Wa(L3,i).call(i,s);Wa(Gv,i).set(Wa(qv,i).call(i,s),a),Wa(mb,i).set(a,s)});var r=new Map(t.map(function(s){return[Wa(qv,i).call(i,s),s]}));return Wa(Gv,this).forEach(function(s,a){r.has(a)?Wa(U3,i).call(i,s,r.get(a)):(Wa(k3,i).call(i,s,a),Wa(Gv,i).delete(a),Wa(mb,i).delete(s))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])})();function B2e(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const I9=Symbol("implicit");function YW(){var n=new R9,e=[],t=[],i=I9;function r(s){let a=n.get(s);if(a===void 0){if(i!==I9)return i;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new R9;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return YW(e,t).unknown(i)},B2e.apply(r,arguments),r}function F2e(n){for(var e=n.length/6|0,t=new Array(e),i=0;i<e;)t[i]="#"+n.slice(i*6,++i*6);return t}const V2e=F2e("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function WC(n){"@babel/helpers - typeof";return WC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WC(n)}var H2e=/^\s+/,j2e=/\s+$/;function Kt(n,e){if(n=n||"",e=e||{},n instanceof Kt)return n;if(!(this instanceof Kt))return new Kt(n,e);var t=G2e(n);this._originalInput=n,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}Kt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,i,r,s,a,o;return t=e.r/255,i=e.g/255,r=e.b/255,t<=.03928?s=t/12.92:s=Math.pow((t+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o},setAlpha:function(e){return this._a=KW(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=D9(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=D9(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+i+"%, "+r+"%)":"hsva("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=P9(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=P9(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+i+"%, "+r+"%)":"hsla("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return N9(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return X2e(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(br(this._r,255)*100)+"%",g:Math.round(br(this._g,255)*100)+"%",b:Math.round(br(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(br(this._r,255)*100)+"%, "+Math.round(br(this._g,255)*100)+"%, "+Math.round(br(this._b,255)*100)+"%)":"rgba("+Math.round(br(this._r,255)*100)+"%, "+Math.round(br(this._g,255)*100)+"%, "+Math.round(br(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:aCe[N9(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+L9(this._r,this._g,this._b,this._a),i=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var s=Kt(e);i="#"+L9(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,r=this._a<1&&this._a>=0,s=!t&&r&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Kt(this.toString())},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(Q2e,arguments)},brighten:function(){return this._applyModification(J2e,arguments)},darken:function(){return this._applyModification(eCe,arguments)},desaturate:function(){return this._applyModification(Y2e,arguments)},saturate:function(){return this._applyModification(K2e,arguments)},greyscale:function(){return this._applyModification(Z2e,arguments)},spin:function(){return this._applyModification(tCe,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(rCe,arguments)},complement:function(){return this._applyCombination(nCe,arguments)},monochromatic:function(){return this._applyCombination(sCe,arguments)},splitcomplement:function(){return this._applyCombination(iCe,arguments)},triad:function(){return this._applyCombination(U9,[3])},tetrad:function(){return this._applyCombination(U9,[4])}};Kt.fromRatio=function(n,e){if(WC(n)=="object"){var t={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?t[i]=n[i]:t[i]=Lb(n[i]));n=t}return Kt(n,e)};function G2e(n){var e={r:0,g:0,b:0},t=1,i=null,r=null,s=null,a=!1,o=!1;return typeof n=="string"&&(n=uCe(n)),WC(n)=="object"&&(Eh(n.r)&&Eh(n.g)&&Eh(n.b)?(e=q2e(n.r,n.g,n.b),a=!0,o=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Eh(n.h)&&Eh(n.s)&&Eh(n.v)?(i=Lb(n.s),r=Lb(n.v),e=$2e(n.h,i,r),a=!0,o="hsv"):Eh(n.h)&&Eh(n.s)&&Eh(n.l)&&(i=Lb(n.s),s=Lb(n.l),e=W2e(n.h,i,s),a=!0,o="hsl"),n.hasOwnProperty("a")&&(t=n.a)),t=KW(t),{ok:a,format:n.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function q2e(n,e,t){return{r:br(n,255)*255,g:br(e,255)*255,b:br(t,255)*255}}function P9(n,e,t){n=br(n,255),e=br(e,255),t=br(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),s,a,o=(i+r)/2;if(i==r)s=a=0;else{var c=i-r;switch(a=o>.5?c/(2-i-r):c/(i+r),i){case n:s=(e-t)/c+(e<t?6:0);break;case e:s=(t-n)/c+2;break;case t:s=(n-e)/c+4;break}s/=6}return{h:s,s:a,l:o}}function W2e(n,e,t){var i,r,s;n=br(n,360),e=br(e,100),t=br(t,100);function a(u,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?u+(h-u)*6*p:p<1/2?h:p<2/3?u+(h-u)*(2/3-p)*6:u}if(e===0)i=r=s=t;else{var o=t<.5?t*(1+e):t+e-t*e,c=2*t-o;i=a(c,o,n+1/3),r=a(c,o,n),s=a(c,o,n-1/3)}return{r:i*255,g:r*255,b:s*255}}function D9(n,e,t){n=br(n,255),e=br(e,255),t=br(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),s,a,o=i,c=i-r;if(a=i===0?0:c/i,i==r)s=0;else{switch(i){case n:s=(e-t)/c+(e<t?6:0);break;case e:s=(t-n)/c+2;break;case t:s=(n-e)/c+4;break}s/=6}return{h:s,s:a,v:o}}function $2e(n,e,t){n=br(n,360)*6,e=br(e,100),t=br(t,100);var i=Math.floor(n),r=n-i,s=t*(1-e),a=t*(1-r*e),o=t*(1-(1-r)*e),c=i%6,u=[t,a,s,s,o,t][c],h=[o,t,t,a,s,s][c],p=[s,s,o,t,t,a][c];return{r:u*255,g:h*255,b:p*255}}function N9(n,e,t,i){var r=[pu(Math.round(n).toString(16)),pu(Math.round(e).toString(16)),pu(Math.round(t).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function X2e(n,e,t,i,r){var s=[pu(Math.round(n).toString(16)),pu(Math.round(e).toString(16)),pu(Math.round(t).toString(16)),pu(ZW(i))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function L9(n,e,t,i){var r=[pu(ZW(i)),pu(Math.round(n).toString(16)),pu(Math.round(e).toString(16)),pu(Math.round(t).toString(16))];return r.join("")}Kt.equals=function(n,e){return!n||!e?!1:Kt(n).toRgbString()==Kt(e).toRgbString()};Kt.random=function(){return Kt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Y2e(n,e){e=e===0?0:e||10;var t=Kt(n).toHsl();return t.s-=e/100,t.s=IM(t.s),Kt(t)}function K2e(n,e){e=e===0?0:e||10;var t=Kt(n).toHsl();return t.s+=e/100,t.s=IM(t.s),Kt(t)}function Z2e(n){return Kt(n).desaturate(100)}function Q2e(n,e){e=e===0?0:e||10;var t=Kt(n).toHsl();return t.l+=e/100,t.l=IM(t.l),Kt(t)}function J2e(n,e){e=e===0?0:e||10;var t=Kt(n).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),Kt(t)}function eCe(n,e){e=e===0?0:e||10;var t=Kt(n).toHsl();return t.l-=e/100,t.l=IM(t.l),Kt(t)}function tCe(n,e){var t=Kt(n).toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,Kt(t)}function nCe(n){var e=Kt(n).toHsl();return e.h=(e.h+180)%360,Kt(e)}function U9(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=Kt(n).toHsl(),i=[Kt(n)],r=360/e,s=1;s<e;s++)i.push(Kt({h:(t.h+s*r)%360,s:t.s,l:t.l}));return i}function iCe(n){var e=Kt(n).toHsl(),t=e.h;return[Kt(n),Kt({h:(t+72)%360,s:e.s,l:e.l}),Kt({h:(t+216)%360,s:e.s,l:e.l})]}function rCe(n,e,t){e=e||6,t=t||30;var i=Kt(n).toHsl(),r=360/t,s=[Kt(n)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,s.push(Kt(i));return s}function sCe(n,e){e=e||6;for(var t=Kt(n).toHsv(),i=t.h,r=t.s,s=t.v,a=[],o=1/e;e--;)a.push(Kt({h:i,s:r,v:s})),s=(s+o)%1;return a}Kt.mix=function(n,e,t){t=t===0?0:t||50;var i=Kt(n).toRgb(),r=Kt(e).toRgb(),s=t/100,a={r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a};return Kt(a)};Kt.readability=function(n,e){var t=Kt(n),i=Kt(e);return(Math.max(t.getLuminance(),i.getLuminance())+.05)/(Math.min(t.getLuminance(),i.getLuminance())+.05)};Kt.isReadable=function(n,e,t){var i=Kt.readability(n,e),r,s;switch(s=!1,r=fCe(t),r.level+r.size){case"AAsmall":case"AAAlarge":s=i>=4.5;break;case"AAlarge":s=i>=3;break;case"AAAsmall":s=i>=7;break}return s};Kt.mostReadable=function(n,e,t){var i=null,r=0,s,a,o,c;t=t||{},a=t.includeFallbackColors,o=t.level,c=t.size;for(var u=0;u<e.length;u++)s=Kt.readability(n,e[u]),s>r&&(r=s,i=Kt(e[u]));return Kt.isReadable(n,i,{level:o,size:c})||!a?i:(t.includeFallbackColors=!1,Kt.mostReadable(n,["#fff","#000"],t))};var HP=Kt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},aCe=Kt.hexNames=oCe(HP);function oCe(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function KW(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function br(n,e){lCe(n)&&(n="100%");var t=cCe(n);return n=Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function IM(n){return Math.min(1,Math.max(0,n))}function wl(n){return parseInt(n,16)}function lCe(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function cCe(n){return typeof n=="string"&&n.indexOf("%")!=-1}function pu(n){return n.length==1?"0"+n:""+n}function Lb(n){return n<=1&&(n=n*100+"%"),n}function ZW(n){return Math.round(parseFloat(n)*255).toString(16)}function k9(n){return wl(n)/255}var lu=(function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Eh(n){return!!lu.CSS_UNIT.exec(n)}function uCe(n){n=n.replace(H2e,"").replace(j2e,"").toLowerCase();var e=!1;if(HP[n])n=HP[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=lu.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=lu.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=lu.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=lu.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=lu.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=lu.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=lu.hex8.exec(n))?{r:wl(t[1]),g:wl(t[2]),b:wl(t[3]),a:k9(t[4]),format:e?"name":"hex8"}:(t=lu.hex6.exec(n))?{r:wl(t[1]),g:wl(t[2]),b:wl(t[3]),format:e?"name":"hex"}:(t=lu.hex4.exec(n))?{r:wl(t[1]+""+t[1]),g:wl(t[2]+""+t[2]),b:wl(t[3]+""+t[3]),a:k9(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=lu.hex3.exec(n))?{r:wl(t[1]+""+t[1]),g:wl(t[2]+""+t[2]),b:wl(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function fCe(n){var e,t;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),t=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}function jP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function hCe(n){if(Array.isArray(n))return n}function dCe(n){if(Array.isArray(n))return jP(n)}function QW(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function pCe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function JW(n,e,t){return e=e_(e),SCe(n,XL()?Reflect.construct(e,t||[],e_(n).constructor):e.apply(n,t))}function mCe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e$(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function z3(n,e){return n.get(QW(n,e))}function z9(n,e,t){mCe(n,e),e.set(n,t)}function B9(n,e,t){return n.set(QW(n,e),t),t}function t$(n,e,t){if(XL())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var r=new(n.bind.apply(n,i));return r}function gCe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,r$(i.key),i)}}function n$(n,e,t){return e&&gCe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function PM(n,e,t){return(e=r$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GP(){return GP=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,e,t){var i=ECe(n,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?n:t):r.value}},GP.apply(null,arguments)}function e_(n){return e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e_(n)}function i$(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&qP(n,e)}function XL(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XL=function(){return!!n})()}function yCe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function vCe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],c=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(h){u=!0,r=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function _Ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xCe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F9(Object(t),!0).forEach(function(i){PM(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F9(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function SCe(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pCe(n)}function qP(n,e){return qP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},qP(n,e)}function fx(n,e){return hCe(n)||vCe(n,e)||s$(n,e)||_Ce()}function ECe(n,e){for(;!{}.hasOwnProperty.call(n,e)&&(n=e_(n))!==null;);return n}function B3(n,e,t,i){var r=GP(e_(n.prototype),e,t);return typeof r=="function"?function(s){return r.apply(t,s)}:r}function uu(n){return dCe(n)||yCe(n)||s$(n)||bCe()}function TCe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function r$(n){var e=TCe(n,"string");return typeof e=="symbol"?e:e+""}function WP(n){"@babel/helpers - typeof";return WP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WP(n)}function s$(n,e){if(n){if(typeof n=="string")return jP(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?jP(n,e):void 0}}var a$=function(e){e instanceof Array?e.forEach(a$):(e.map&&e.map.dispose(),e.dispose())},o$=function(e){e.geometry&&e.geometry.dispose(),e.material&&a$(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(o$)},$P=function(e){for(;e.children.length;){var t=e.children[0];e.remove(t),o$(t)}},F3=new WeakMap,bw=new WeakMap,gb=(function(n){function e(t){var i,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.dataBindAttr,a=s===void 0?"__data":s,o=r.objBindAttr,c=o===void 0?"__threeObj":o;return e$(this,e),i=JW(this,e),PM(i,"scene",void 0),z9(i,F3,void 0),z9(i,bw,void 0),i.scene=t,B9(F3,i,a),B9(bw,i,c),i.onRemoveObj(function(){}),i}return i$(e,n),n$(e,[{key:"onCreateObj",value:function(i){var r=this;return B3(e,"onCreateObj",this)([function(s){var a=i(s);return s[z3(bw,r)]=a,a[z3(F3,r)]=s,r.scene.add(a),a}]),this}},{key:"onRemoveObj",value:function(i){var r=this;return B3(e,"onRemoveObj",this)([function(s,a){var o=B3(e,"getData",r)([s]);i(s,a),r.scene.remove(s),$P(s),delete o[z3(bw,r)]}]),this}}])})(z2e),yb=function(e){return isNaN(e)?parseInt(Kt(e).toHex(),16):e},V3=function(e){return isNaN(e)?Kt(e).getAlpha():1},wCe=YW(V2e);function V9(n,e,t){!e||typeof t!="string"||n.filter(function(i){return!i[t]}).forEach(function(i){i[t]=wCe(e(i))})}function CCe(n,e){var t=n.nodes,i=n.links,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=r.nodeFilter,a=s===void 0?function(){return!0}:s,o=r.onLoopError,c=o===void 0?function(v){throw"Invalid DAG structure! Found cycle in node path: ".concat(v.join(" -> "),".")}:o,u={};t.forEach(function(v){return u[e(v)]={data:v,out:[],depth:-1,skip:!a(v)}}),i.forEach(function(v){var _=v.source,S=v.target,E=C(_),x=C(S);if(!u.hasOwnProperty(E))throw"Missing source node with id: ".concat(E);if(!u.hasOwnProperty(x))throw"Missing target node with id: ".concat(x);var w=u[E],M=u[x];w.out.push(M);function C(D){return WP(D)==="object"?e(D):D}});var h=[];y(Object.values(u));var p=Object.assign.apply(Object,[{}].concat(uu(Object.entries(u).filter(function(v){var _=fx(v,2),S=_[1];return!S.skip}).map(function(v){var _=fx(v,2),S=_[0],E=_[1];return PM({},S,E.depth)}))));return p;function y(v){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,E=function(){var C=v[x];if(_.indexOf(C)!==-1){var D=[].concat(uu(_.slice(_.indexOf(C))),[C]).map(function(L){return e(L.data)});return h.some(function(L){return L.length===D.length&&L.every(function(I,N){return I===D[N]})})||(h.push(D),c(D)),1}S>C.depth&&(C.depth=S,y(C.out,[].concat(uu(_),[C]),S+(C.skip?0:1)))},x=0,w=v.length;x<w;x++)E()}}var hn=window.THREE?window.THREE:{Group:Dh,Mesh:es,MeshLambertMaterial:jN,Color:Ut,BufferGeometry:Dn,BufferAttribute:Fi,Matrix4:an,Vector3:fe,SphereGeometry:oy,CylinderGeometry:m_,TubeGeometry:ES,ConeGeometry:g_,Line:Zh,LineBasicMaterial:no,QuadraticBezierCurve3:WA,CubicBezierCurve3:BN,Box3:na},H9={graph:Twe,forcelayout:kwe},ACe=2,H3=new hn.BufferGeometry().setAttribute?"setAttribute":"addAttribute",xw=new hn.BufferGeometry().applyMatrix4?"applyMatrix4":"applyMatrix",MCe=v2e({props:{jsonUrl:{onChange:function(e,t){var i=this;e&&!t.fetchingJson&&(t.fetchingJson=!0,t.onLoading(),fetch(e).then(function(r){return r.json()}).then(function(r){t.fetchingJson=!1,t.onFinishLoading(r),i.graphData(r)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){t.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,t){var i=t.d3ForceLayout.force("charge");i&&i.strength(e>2?-60:-30),e<3&&r(t.graphData.nodes,"z"),e<2&&r(t.graphData.nodes,"y");function r(s,a){s.forEach(function(o){delete o[a],delete o["v".concat(a)]})}}},dagMode:{onChange:function(e,t){!e&&t.forceEngine==="d3"&&(t.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=i.fz=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},linkDirectionalParticleThreeObject:{},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,t,i){return i===void 0?e.d3ForceLayout.force(t):(e.d3ForceLayout.force(t,i),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var t=e.forceEngine!=="ngraph";return e.engineRunning&&i(),r(),s(),this;function i(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||t&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[t?"tick":"step"](),e.onEngineTick());var a=di(e.nodeThreeObjectExtend);e.nodeDataMapper.entries().forEach(function(y){var v=fx(y,2),_=v[0],S=v[1];if(S){var E=t?_:e.layout.getNodePosition(_[e.nodeId]),x=a(_);(!e.nodePositionUpdate||!e.nodePositionUpdate(x?S.children[0]:S,{x:E.x,y:E.y,z:E.z},_)||x)&&(S.position.x=E.x,S.position.y=E.y||0,S.position.z=E.z||0)}});var o=di(e.linkWidth),c=di(e.linkCurvature),u=di(e.linkCurveRotation),h=di(e.linkThreeObjectExtend);e.linkDataMapper.entries().forEach(function(y){var v=fx(y,2),_=v[0],S=v[1];if(S){var E=t?_:e.layout.getLinkPosition(e.layout.graph.getLink(_.source,_.target).id),x=E[t?"source":"from"],w=E[t?"target":"to"];if(!(!x||!w||!x.hasOwnProperty("x")||!w.hasOwnProperty("x"))){p(_);var M=h(_);if(!(e.linkPositionUpdate&&e.linkPositionUpdate(M?S.children[1]:S,{start:{x:x.x,y:x.y,z:x.z},end:{x:w.x,y:w.y,z:w.z}},_)&&!M)){var C=30,D=_.__curve,L=S.children.length?S.children[0]:S;if(L.type==="Line"){if(D){var N=D.getPoints(C);L.geometry.getAttribute("position").array.length!==N.length*3&&L.geometry[H3]("position",new hn.BufferAttribute(new Float32Array(N.length*3),3)),L.geometry.setFromPoints(N)}else{var I=L.geometry.getAttribute("position");(!I||!I.array||I.array.length!==6)&&L.geometry[H3]("position",I=new hn.BufferAttribute(new Float32Array(6),3)),I.array[0]=x.x,I.array[1]=x.y||0,I.array[2]=x.z||0,I.array[3]=w.x,I.array[4]=w.y||0,I.array[5]=w.z||0,I.needsUpdate=!0}L.geometry.computeBoundingSphere()}else if(L.type==="Mesh")if(D){L.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(L.position.set(0,0,0),L.rotation.set(0,0,0),L.scale.set(1,1,1));var ee=Math.ceil(o(_)*10)/10,q=ee/2,$=new hn.TubeGeometry(D,C,q,e.linkResolution,!1);L.geometry.dispose(),L.geometry=$}else{if(!L.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var P=Math.ceil(o(_)*10)/10,U=P/2,V=new hn.CylinderGeometry(U,U,1,e.linkResolution,1,!1);V[xw](new hn.Matrix4().makeTranslation(0,1/2,0)),V[xw](new hn.Matrix4().makeRotationX(Math.PI/2)),L.geometry.dispose(),L.geometry=V}var z=new hn.Vector3(x.x,x.y||0,x.z||0),F=new hn.Vector3(w.x,w.y||0,w.z||0),K=z.distanceTo(F);L.position.x=z.x,L.position.y=z.y,L.position.z=z.z,L.scale.z=K,L.parent.localToWorld(F),L.lookAt(F)}}}}});function p(y){var v=t?y:e.layout.getLinkPosition(e.layout.graph.getLink(y.source,y.target).id),_=v[t?"source":"from"],S=v[t?"target":"to"];if(!(!_||!S||!_.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var E=c(y);if(!E)y.__curve=null;else{var x=new hn.Vector3(_.x,_.y||0,_.z||0),w=new hn.Vector3(S.x,S.y||0,S.z||0),M=x.distanceTo(w),C,D=u(y);if(M>0){var L=S.x-_.x,I=S.y-_.y||0,N=new hn.Vector3().subVectors(w,x),P=N.clone().multiplyScalar(E).cross(L!==0||I!==0?new hn.Vector3(0,0,1):new hn.Vector3(0,1,0)).applyAxisAngle(N.normalize(),D).add(new hn.Vector3().addVectors(x,w).divideScalar(2));C=new hn.QuadraticBezierCurve3(x,P,w)}else{var U=E*70,V=-D,z=V+Math.PI/2;C=new hn.CubicBezierCurve3(x,new hn.Vector3(U*Math.cos(z),U*Math.sin(z),0).add(x),new hn.Vector3(U*Math.cos(V),U*Math.sin(V),0).add(x),w)}y.__curve=C}}}}function r(){var a=di(e.linkDirectionalArrowRelPos),o=di(e.linkDirectionalArrowLength),c=di(e.nodeVal);e.arrowDataMapper.entries().forEach(function(u){var h=fx(u,2),p=h[0],y=h[1];if(y){var v=t?p:e.layout.getLinkPosition(e.layout.graph.getLink(p.source,p.target).id),_=v[t?"source":"from"],S=v[t?"target":"to"];if(!(!_||!S||!_.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var E=Math.cbrt(Math.max(0,c(_)||1))*e.nodeRelSize,x=Math.cbrt(Math.max(0,c(S)||1))*e.nodeRelSize,w=o(p),M=a(p),C=p.__curve?function(U){return p.__curve.getPoint(U)}:function(U){var V=function(F,K,ee,q){return K[F]+(ee[F]-K[F])*q||0};return{x:V("x",_,S,U),y:V("y",_,S,U),z:V("z",_,S,U)}},D=p.__curve?p.__curve.getLength():Math.sqrt(["x","y","z"].map(function(U){return Math.pow((S[U]||0)-(_[U]||0),2)}).reduce(function(U,V){return U+V},0)),L=E+w+(D-E-x-w)*M,I=C(L/D),N=C((L-w)/D);["x","y","z"].forEach(function(U){return y.position[U]=N[U]});var P=t$(hn.Vector3,uu(["x","y","z"].map(function(U){return I[U]})));y.parent.localToWorld(P),y.lookAt(P)}}})}function s(){var a=di(e.linkDirectionalParticleSpeed),o=di(e.linkDirectionalParticleOffset);e.graphData.links.forEach(function(c){var u=e.particlesDataMapper.getObj(c),h=u&&u.children,p=c.__singleHopPhotonsObj&&c.__singleHopPhotonsObj.children;if(!((!p||!p.length)&&(!h||!h.length))){var y=t?c:e.layout.getLinkPosition(e.layout.graph.getLink(c.source,c.target).id),v=y[t?"source":"from"],_=y[t?"target":"to"];if(!(!v||!_||!v.hasOwnProperty("x")||!_.hasOwnProperty("x"))){var S=a(c),E=Math.abs(o(c)),x=c.__curve?function(M){return c.__curve.getPoint(M)}:function(M){var C=function(L,I,N,P){return I[L]+(N[L]-I[L])*P||0};return{x:C("x",v,_,M),y:C("y",v,_,M),z:C("z",v,_,M)}},w=[].concat(uu(h||[]),uu(p||[]));w.forEach(function(M,C){var D=M.parent.__linkThreeObjType==="singleHopPhotons";if(M.hasOwnProperty("__progressRatio")||(M.__progressRatio=D?0:(C+E)/h.length),M.__progressRatio+=S,M.__progressRatio>=1)if(!D)M.__progressRatio=M.__progressRatio%1;else{M.parent.remove(M),$P(M);return}var L=M.__progressRatio,I=x(L);M.geometry.type!=="SphereGeometry"&&M.lookAt(I.x,I.y,I.z),["x","y","z"].forEach(function(N){return M.position[N]=I[N]})})}}})}},emitParticle:function(e,t){if(t&&e.graphData.links.includes(t)){if(!t.__singleHopPhotonsObj){var i=new hn.Group;i.__linkThreeObjType="singleHopPhotons",t.__singleHopPhotonsObj=i,e.graphScene.add(i)}var r=di(e.linkDirectionalParticleThreeObject)(t);if(r&&e.linkDirectionalParticleThreeObject===r&&(r=r.clone()),!r){var s=di(e.linkDirectionalParticleWidth),a=Math.ceil(s(t)*10)/10/2,o=e.linkDirectionalParticleResolution,c=new hn.SphereGeometry(a,o,o),u=di(e.linkColor),h=di(e.linkDirectionalParticleColor),p=h(t)||u(t)||"#f0f0f0",y=new hn.Color(yb(p)),v=e.linkOpacity*3,_=new hn.MeshLambertMaterial({color:y,transparent:!0,opacity:v});r=new hn.Mesh(c,_)}t.__singleHopPhotonsObj.add(r)}return this},getGraphBbox:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(!e.initialised)return null;var i=(function r(s){var a=[];if(s.geometry){s.geometry.computeBoundingBox();var o=new hn.Box3;o.copy(s.geometry.boundingBox).applyMatrix4(s.matrixWorld),a.push(o)}return a.concat.apply(a,uu((s.children||[]).filter(function(c){return!c.hasOwnProperty("__graphObjType")||c.__graphObjType==="node"&&t(c.__data)}).map(r)))})(e.graphScene);return i.length?Object.assign.apply(Object,uu(["x","y","z"].map(function(r){return PM({},r,[E2e(i,function(s){return s.min[r]}),S2e(i,function(s){return s.max[r]})])}))):null}},stateInit:function(){return{d3ForceLayout:vwe().force("link",iwe()).force("charge",_we()).force("center",sTe()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,t){t.graphScene=e,t.nodeDataMapper=new gb(e,{objBindAttr:"__threeObj"}),t.linkDataMapper=new gb(e,{objBindAttr:"__lineObj"}),t.arrowDataMapper=new gb(e,{objBindAttr:"__arrowObj"}),t.particlesDataMapper=new gb(e,{objBindAttr:"__photonsObj"})},update:function(e,t){var i=function(he){return he.some(function(ye){return t.hasOwnProperty(ye)})};if(e.engineRunning=!1,typeof e.onUpdate=="function"&&e.onUpdate(),e.nodeAutoColorBy!==null&&i(["nodeAutoColorBy","graphData","nodeColor"])&&V9(e.graphData.nodes,di(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&i(["linkAutoColorBy","graphData","linkColor"])&&V9(e.graphData.links,di(e.linkAutoColorBy),e.linkColor),e._flushObjects||i(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var r=di(e.nodeThreeObject),s=di(e.nodeThreeObjectExtend),a=di(e.nodeVal),o=di(e.nodeColor),c=di(e.nodeVisibility),u={},h={};(e._flushObjects||i(["nodeThreeObject","nodeThreeObjectExtend"]))&&e.nodeDataMapper.clear(),e.nodeDataMapper.onCreateObj(function(ie){var he=r(ie),ye=s(ie);he&&e.nodeThreeObject===he&&(he=he.clone());var Ve;return he&&!ye?Ve=he:(Ve=new hn.Mesh,Ve.__graphDefaultObj=!0,he&&ye&&Ve.add(he)),Ve.__graphObjType="node",Ve}).onUpdateObj(function(ie,he){if(ie.__graphDefaultObj){var ye=a(he)||1,Ve=Math.cbrt(ye)*e.nodeRelSize,Xe=e.nodeResolution;(!ie.geometry.type.match(/^Sphere(Buffer)?Geometry$/)||ie.geometry.parameters.radius!==Ve||ie.geometry.parameters.widthSegments!==Xe)&&(u.hasOwnProperty(ye)||(u[ye]=new hn.SphereGeometry(Ve,Xe,Xe)),ie.geometry.dispose(),ie.geometry=u[ye]);var Ge=o(he),rt=new hn.Color(yb(Ge||"#ffffaa")),ot=e.nodeOpacity*V3(Ge);(ie.material.type!=="MeshLambertMaterial"||!ie.material.color.equals(rt)||ie.material.opacity!==ot)&&(h.hasOwnProperty(Ge)||(h[Ge]=new hn.MeshLambertMaterial({color:rt,transparent:!0,opacity:ot})),ie.material.dispose(),ie.material=h[Ge])}}).digest(e.graphData.nodes.filter(c))}if(e._flushObjects||i(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","linkDirectionalParticleThreeObject"])){var p=di(e.linkThreeObject),y=di(e.linkThreeObjectExtend),v=di(e.linkMaterial),_=di(e.linkVisibility),S=di(e.linkColor),E=di(e.linkWidth),x={},w={},M={},C=e.graphData.links.filter(_);if((e._flushObjects||i(["linkThreeObject","linkThreeObjectExtend","linkWidth"]))&&e.linkDataMapper.clear(),e.linkDataMapper.onRemoveObj(function(ie){var he=ie.__data&&ie.__data.__singleHopPhotonsObj;he&&(he.parent.remove(he),$P(he),delete ie.__data.__singleHopPhotonsObj)}).onCreateObj(function(ie){var he=p(ie),ye=y(ie);he&&e.linkThreeObject===he&&(he=he.clone());var Ve;if(!he||ye){var Xe=!!E(ie);if(Xe)Ve=new hn.Mesh;else{var Ge=new hn.BufferGeometry;Ge[H3]("position",new hn.BufferAttribute(new Float32Array(6),3)),Ve=new hn.Line(Ge)}}var rt;return he?ye?(rt=new hn.Group,rt.__graphDefaultObj=!0,rt.add(Ve),rt.add(he)):rt=he:(rt=Ve,rt.__graphDefaultObj=!0),rt.renderOrder=10,rt.__graphObjType="link",rt}).onUpdateObj(function(ie,he){if(ie.__graphDefaultObj){var ye=ie.children.length?ie.children[0]:ie,Ve=Math.ceil(E(he)*10)/10,Xe=!!Ve;if(Xe){var Ge=Ve/2,rt=e.linkResolution;if(!ye.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||ye.geometry.parameters.radiusTop!==Ge||ye.geometry.parameters.radialSegments!==rt){if(!x.hasOwnProperty(Ve)){var ot=new hn.CylinderGeometry(Ge,Ge,1,rt,1,!1);ot[xw](new hn.Matrix4().makeTranslation(0,1/2,0)),ot[xw](new hn.Matrix4().makeRotationX(Math.PI/2)),x[Ve]=ot}ye.geometry.dispose(),ye.geometry=x[Ve]}}var pt=v(he);if(pt)ye.material=pt;else{var te=S(he),Oe=new hn.Color(yb(te||"#f0f0f0")),Be=e.linkOpacity*V3(te),Ne=Xe?"MeshLambertMaterial":"LineBasicMaterial";if(ye.material.type!==Ne||!ye.material.color.equals(Oe)||ye.material.opacity!==Be){var Me=Xe?w:M;Me.hasOwnProperty(te)||(Me[te]=new hn[Ne]({color:Oe,transparent:Be<1,opacity:Be,depthWrite:Be>=1})),ye.material.dispose(),ye.material=Me[te]}}}}).digest(C),e.linkDirectionalArrowLength||t.hasOwnProperty("linkDirectionalArrowLength")){var D=di(e.linkDirectionalArrowLength),L=di(e.linkDirectionalArrowColor);e.arrowDataMapper.onCreateObj(function(){var ie=new hn.Mesh(void 0,new hn.MeshLambertMaterial({transparent:!0}));return ie.__linkThreeObjType="arrow",ie}).onUpdateObj(function(ie,he){var ye=D(he),Ve=e.linkDirectionalArrowResolution;if(!ie.geometry.type.match(/^Cone(Buffer)?Geometry$/)||ie.geometry.parameters.height!==ye||ie.geometry.parameters.radialSegments!==Ve){var Xe=new hn.ConeGeometry(ye*.25,ye,Ve);Xe.translate(0,ye/2,0),Xe.rotateX(Math.PI/2),ie.geometry.dispose(),ie.geometry=Xe}var Ge=L(he)||S(he)||"#f0f0f0";ie.material.color=new hn.Color(yb(Ge)),ie.material.opacity=e.linkOpacity*3*V3(Ge)}).digest(C.filter(D))}if(e.linkDirectionalParticles||t.hasOwnProperty("linkDirectionalParticles")){var I=di(e.linkDirectionalParticles),N=di(e.linkDirectionalParticleWidth),P=di(e.linkDirectionalParticleColor),U=di(e.linkDirectionalParticleThreeObject),V={},z={};e.particlesDataMapper.onCreateObj(function(){var ie=new hn.Group;return ie.__linkThreeObjType="photons",ie.__photonDataMapper=new gb(ie),ie}).onUpdateObj(function(ie,he){var ye=!!ie.children.length&&ie.children[0],Ve=U(he),Xe,Ge;if(Ve)Xe=Ve.geometry,Ge=Ve.material;else{var rt=Math.ceil(N(he)*10)/10/2,ot=e.linkDirectionalParticleResolution;ye&&ye.geometry.parameters.radius===rt&&ye.geometry.parameters.widthSegments===ot?Xe=ye.geometry:(z.hasOwnProperty(rt)||(z[rt]=new hn.SphereGeometry(rt,ot,ot)),Xe=z[rt]);var pt=P(he)||S(he)||"#f0f0f0",te=new hn.Color(yb(pt)),Oe=e.linkOpacity*3;ye&&ye.material.color.equals(te)&&ye.material.opacity===Oe?Ge=ye.material:(V.hasOwnProperty(pt)||(V[pt]=new hn.MeshLambertMaterial({color:te,transparent:!0,opacity:Oe})),Ge=V[pt])}ye&&(ye.geometry!==Xe&&ye.geometry.dispose(),ye.material!==Ge&&ye.material.dispose());var Be=Math.round(Math.abs(I(he)));ie.__photonDataMapper.id(function(Ne){return Ne.idx}).onCreateObj(function(){return new hn.Mesh(Xe,Ge)}).onUpdateObj(function(Ne){Ne.geometry=Xe,Ne.material=Ge}).digest(uu(new Array(Be)).map(function(Ne,Me){return{idx:Me}}))}).digest(C.filter(I))}}if(e._flushObjects=!1,i(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach(function(ie){ie.source=ie[e.linkSource],ie.target=ie[e.linkTarget]});var F=e.forceEngine!=="ngraph",K;if(F){(K=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var ee=e.d3ForceLayout.force("link");ee&&ee.id(function(ie){return ie[e.nodeId]}).links(e.graphData.links);var q=e.dagMode&&CCe(e.graphData,function(ie){return ie[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),$=Math.max.apply(Math,uu(Object.values(q||[]))),Q=e.dagLevelDistance||e.graphData.nodes.length/($||1)*ACe*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu","zin","zout"].includes(t.dagMode)){var se=["lr","rl"].includes(t.dagMode)?"fx":["td","bu"].includes(t.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(ie){return delete ie[se]})}if(["lr","rl","td","bu","zin","zout"].includes(e.dagMode)){var de=["rl","td","zout"].includes(e.dagMode),Y=function(he){return(q[he[e.nodeId]]-$/2)*Q*(de?-1:1)},le=["lr","rl"].includes(e.dagMode)?"fx":["td","bu"].includes(e.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(ie){return ie[le]=Y(ie)})}e.d3ForceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?bwe(function(ie){var he=q[ie[e.nodeId]]||-1;return(e.dagMode==="radialin"?$-he:he)*Q}).strength(function(ie){return e.dagNodeFilter(ie)?1:0}):null)}else{var pe=H9.graph();e.graphData.nodes.forEach(function(ie){pe.addNode(ie[e.nodeId])}),e.graphData.links.forEach(function(ie){pe.addLink(ie.source,ie.target)}),K=H9.forcelayout(pe,xCe({dimensions:e.numDimensions},e.ngraphPhysics)),K.graph=pe}for(var ue=0;ue<e.warmupTicks&&!(F&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);ue++)K[F?"tick":"step"]();e.layout=K,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}});function RCe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=(function(r){function s(){var a;e$(this,s);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return a=JW(this,s,[].concat(c)),a.__kapsuleInstance=t$(n,[].concat(uu(t?[a]:[]),c)),a}return i$(s,r),n$(s)})(e);return Object.keys(n()).forEach(function(r){return i.prototype[r]=function(){var s,a=(s=this.__kapsuleInstance)[r].apply(s,arguments);return a===this.__kapsuleInstance?this:a}}),i}var OCe=window.THREE?window.THREE:{Group:Dh},ICe=RCe(MCe,OCe.Group,!0);function PCe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],c=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;c=!1}else for(;!(c=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(h){u=!0,r=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function DCe(n,e,t){return e=VCe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function j9(n,e){return UCe(n)||PCe(n,e)||l$(n,e)||BCe()}function NCe(n){return LCe(n)||kCe(n)||l$(n)||zCe()}function LCe(n){if(Array.isArray(n))return XP(n)}function UCe(n){if(Array.isArray(n))return n}function kCe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function l$(n,e){if(n){if(typeof n=="string")return XP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return XP(n,e)}}function XP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function zCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FCe(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function VCe(n){var e=FCe(n,"string");return typeof e=="symbol"?e:String(e)}var HCe=function(e,t){var i=new Set(t);return Object.assign.apply(Object,[{}].concat(NCe(Object.entries(e).filter(function(r){var s=j9(r,1),a=s[0];return!i.has(a)}).map(function(r){var s=j9(r,2),a=s[0],o=s[1];return DCe({},a,o)}))))};function YP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function jCe(n){if(Array.isArray(n))return n}function GCe(n){if(Array.isArray(n))return YP(n)}function qCe(n,e,t){return(e=eAe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WCe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $Ce(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],c=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(h){u=!0,r=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function XCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G9(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $C(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G9(Object(t),!0).forEach(function(i){qCe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):G9(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function KCe(n,e){if(n==null)return{};var t,i,r=ZCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function ZCe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function QCe(n,e){return jCe(n)||$Ce(n,e)||c$(n,e)||XCe()}function j3(n){return GCe(n)||WCe(n)||c$(n)||YCe()}function JCe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eAe(n){var e=JCe(n,"string");return typeof e=="symbol"?e:e+""}function c$(n,e){if(n){if(typeof n=="string")return YP(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?YP(n,e):void 0}}function tAe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.methodNames,i=t===void 0?[]:t,r=e.initPropNames,s=r===void 0?[]:r;return H.forwardRef(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,c=H.useMemo(function(){return new n(Object.fromEntries(s.filter(function(y){return a.hasOwnProperty(y)}).map(function(y){return[y,a[y]]})))},[]);H.useEffect(function(){return c._destructor instanceof Function?c._destructor:void 0},[c]);var u=H.useCallback(function(y){for(var v=arguments.length,_=new Array(v>1?v-1:0),S=1;S<v;S++)_[S-1]=arguments[S];return c[y]instanceof Function?c[y].apply(c,_):void 0},[c]),h=Object.fromEntries(Object.entries(a).filter(function(y){var v=QCe(y,1),_=v[0];return!c[_]||!(c[_]instanceof Function)})),p=H.useRef({});return Object.keys(HCe(a,[].concat(j3(i),j3(s),j3(Object.keys(h))))).filter(function(y){return p.current[y]!==a[y]}).forEach(function(y){return u(y,a[y])}),p.current=a,H.useImperativeHandle(o,function(){return Object.fromEntries(i.map(function(y){return[y,function(){for(var v=arguments.length,_=new Array(v),S=0;S<v;S++)_[S]=arguments[S];return u.apply(void 0,[y].concat(_))}]}))}),H.createElement("primitive",$C($C({},h),{},{object:c}))})}var nAe=["onNodeHover","onLinkHover","onNodeClick","onLinkClick"],iAe=tAe(ICe,{initPropNames:[],methodNames:["emitParticle","getGraphBbox","d3ReheatSimulation","d3Force","resetCountdown","tickFrame","refresh"]}),q9=function(e){var t,i=e.intersections,r=function(a){return a?a.hasOwnProperty("__graphObjType")?a:r(a.parent):null};return r((t=i.find(function(s){return r(s.object)}))===null||t===void 0?void 0:t.object)},Sw=function(e){return e?.__data},rAe=H.forwardRef(function(n,e){var t=n.onNodeHover,i=n.onLinkHover,r=n.onNodeClick,s=n.onLinkClick,a=KCe(n,nAe),o=H.useRef(null),c=H.useCallback(function(h){if(!(!t&&!i)){var p=q9(h);if(p!==o.current){var y=o.current;o.current=p,y&&(!p||p.__graphObjType!==y.__graphObjType)&&({node:t,link:i}[y?.__graphObjType]||function(){})(null,Sw(y)),({node:t,link:i}[p?.__graphObjType]||function(){})(Sw(p),p?.__graphObjType===y?.__graphObjType?Sw(y):null)}}},[t,i]),u=H.useCallback(function(h){var p=q9(h),y={node:r,link:s}[p?.__graphObjType];p&&y&&(y(Sw(p),h),h.stopPropagation())},[r,s]);return H.createElement(iAe,$C($C({},a),{},{ref:e,onPointerMove:c,onClick:u}))});const sAe=({cameraControlsRef:n})=>{const e=yn(u=>u.dagModeConfig),t=yn(u=>u.dagLevelDistanceConfig),i=yn(u=>u.showFullGraph),r=H.useRef(void 0);VS(()=>r.current?.tickFrame());const s=xde(),a="system",o=H.useMemo(()=>{if(!s.nodes.length||!s.links.length)return{nodes:[],links:[]};if(i)return s;const u=s.nodes.filter(_=>_.group===a);if(!u.length)return{nodes:[],links:[]};const h=new Set(u.map(_=>_.id)),p=s.links.filter(_=>h.has(_.source)),y=new Set(p.map(_=>_.target)),v=s.nodes.filter(_=>y.has(_.id));return{nodes:[...u,...v],links:p}},[s,i]),c=H.useCallback(u=>{if(!u)return;if(!n.current){console.error("cameraControlsRef no est inicializado.");return}const h=new fe(u.x,u.y,u.z);pde(n.current,h,30),yn.setState({nodeViewData:u})},[n]);return Z.jsx(rAe,{ref:r,graphData:o,dagMode:e,dagLevelDistance:t,linkWidth:2,linkCurvature:.05,linkDirectionalParticles:4,linkDirectionalParticleWidth:2,onNodeClick:c,nodeAutoColorBy:u=>u.group?sW[u.group]:"gray",nodeThreeObject:u=>zde(u)})},aAe=ar.forwardRef(function(e,t){return Z.jsx(Xq,{direction:"up",ref:t,...e})}),of="components.navigationgestures.",oAe=()=>{const{t:n}=fy(),e=n(of+"touch.title"),t=n(of+"desk.title"),[i,r]=ar.useState(!0),[s,a]=ar.useState(!1);H.useEffect(()=>{localStorage.getItem(tr.navigationsGestures)==="true"?(r(!1),yn.setState({overlayDontShowAgain:!0})):(r(!0),yn.setState({overlayDontShowAgain:!1}))},[]);const o=()=>{yn.setState({overlayDontShowAgain:s}),r(!1)},c=u=>{const h=u.target.checked;a(h),h?localStorage.setItem(tr.navigationsGestures,"true"):localStorage.removeItem(tr.navigationsGestures)};return Z.jsx(td,{children:Z.jsxs(qq,{open:i,slots:{transition:aAe},keepMounted:!0,onClose:o,"aria-describedby":"alert-dialog-slide-description",children:[Z.jsx($q,{children:YT()==="Android"||YT()==="iOS"?e:t}),Z.jsx(Wq,{sx:{padding:"20px"},children:Z.jsx(D1e,{component:"div",id:"alert-dialog-slide-description",sx:{"& div":{marginTop:"20px"}},children:YT()==="iOS"||YT()==="Android"?Z.jsxs(Z.Fragment,{children:[Z.jsxs(cp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/one-swipe.svg",alt:"One Swipe",style:{width:30}}),Z.jsx(Qr,{variant:"h6",children:n(of+"touch.text1")})]}),Z.jsxs(cp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/two-swipe.svg",alt:"Two Swipe",style:{width:30}}),Z.jsx(Qr,{variant:"h6",children:n(of+"touch.text2")})]}),Z.jsxs(cp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/zoom-in.svg",alt:"Scroll",style:{width:30}}),Z.jsx(Qr,{variant:"h6",children:n(of+"touch.text3")})]})]}):Z.jsxs(Z.Fragment,{children:[Z.jsxs(cp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/left-click.svg",alt:"Left Click",style:{width:30}}),Z.jsx(Qr,{variant:"h6",children:"+"}),Z.jsx("img",{src:"gestures/360.svg",alt:"360",style:{width:30}}),Z.jsxs(Qr,{variant:"h6",children:["Clic izquierdo + arrastrar: Orbitar",n(of+"desk.text1")]})]}),Z.jsxs(cp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/right-click.svg",alt:"Right Click",style:{width:30}}),Z.jsx(Qr,{variant:"h6",children:"+"}),Z.jsx("img",{src:"gestures/360.svg",alt:"360",style:{width:30}}),Z.jsx(Qr,{variant:"h6",children:n(of+"desk.text2")})]}),Z.jsxs(cp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/scroll.svg",alt:"Scroll",style:{width:30}}),Z.jsx(Qr,{variant:"h6",children:n(of+"desk.text3")})]})]})})}),Z.jsxs(T1e,{sx:{justifyContent:"space-between"},children:[Z.jsx(Q1e,{control:Z.jsx($_e,{onChange:c}),label:n(of+"checkBoxLabel")}),Z.jsx(BS,{onClick:o,children:n(of+"buttonClose")})]})]})})},Th=Wp,u$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M6 2L6.09863 2.00488C6.32763 2.02757 6.54289 2.12883 6.70703 2.29297L18.207 13.793L18.2754 13.8691C18.5957 14.2619 18.5731 14.8409 18.207 15.207C17.8409 15.5731 17.2619 15.5957 16.8691 15.2754L16.793 15.207L5.58594 4H4V5.58594L15.207 16.793L15.2754 16.8691C15.5957 17.2619 15.5731 17.8409 15.207 18.207C14.8409 18.5731 14.2619 18.5957 13.8691 18.2754L13.793 18.207L2.29297 6.70703C2.10543 6.51949 2 6.26522 2 6V3L2.00488 2.89746C2.05621 2.39333 2.48232 2 3 2H6Z",fill:n}),Z.jsx("path",{d:"M18.293 12.293C18.6835 11.9024 19.3165 11.9024 19.707 12.293C20.0975 12.6835 20.0975 13.3165 19.707 13.707L13.707 19.707C13.3165 20.0976 12.6835 20.0976 12.293 19.707C11.9024 19.3165 11.9024 18.6835 12.293 18.293L18.293 12.293Z",fill:n}),Z.jsx("path",{d:"M15.293 15.293C15.6591 14.9269 16.2381 14.9043 16.6309 15.2246L16.707 15.293L20.707 19.293L20.7754 19.3691C21.0958 19.7619 21.0732 20.3409 20.707 20.707C20.3409 21.0731 19.7619 21.0957 19.3692 20.7754L19.293 20.707L15.293 16.707L15.2246 16.6309C14.9043 16.2381 14.9269 15.6591 15.293 15.293Z",fill:n}),Z.jsx("path",{d:"M20.3691 18.2246C20.7619 17.9043 21.3409 17.9269 21.707 18.293C22.0731 18.6591 22.0957 19.2381 21.7754 19.6309L21.707 19.707L19.707 21.707C19.3165 22.0976 18.6835 22.0976 18.293 21.707C17.9024 21.3165 17.9024 20.6835 18.293 20.293L20.293 18.293L20.3691 18.2246Z",fill:n}),Z.jsx("path",{d:"M21 2L21.1025 2.00488C21.6067 2.05621 22 2.48232 22 3V6C22 6.26522 21.8946 6.51949 21.707 6.70703L18.207 10.207C17.8165 10.5976 17.1835 10.5976 16.793 10.207C16.4024 9.81651 16.4024 9.18349 16.793 8.79297L20 5.58594V4H18.414L15.207 7.20703C14.8165 7.59756 14.1835 7.59756 13.793 7.20703C13.4024 6.81651 13.4024 6.18349 13.793 5.79297L17.293 2.29297L17.3662 2.22656C17.5442 2.08073 17.7679 2 18 2H21Z",fill:n}),Z.jsx("path",{d:"M4.29298 13.293C4.65909 12.9269 5.2381 12.9043 5.63087 13.2246L5.70704 13.293L9.70704 17.293L9.7754 17.3691C10.0958 17.7619 10.0732 18.3409 9.70704 18.707C9.34092 19.0731 8.76192 19.0957 8.36915 18.7754L8.29298 18.707L4.29298 14.707L4.22462 14.6309C3.90427 14.2381 3.92686 13.6591 4.29298 13.293Z",fill:n}),Z.jsx("path",{d:"M6.29295 16.293C6.68348 15.9024 7.31649 15.9024 7.70702 16.293C8.09754 16.6835 8.09754 17.3165 7.70702 17.707L4.70702 20.707C4.31649 21.0976 3.68348 21.0976 3.29295 20.707C2.90243 20.3165 2.90243 19.6835 3.29295 19.293L6.29295 16.293Z",fill:n}),Z.jsx("path",{d:"M2.29298 18.293C2.65909 17.9269 3.2381 17.9043 3.63087 18.2246L3.70704 18.293L5.70704 20.293L5.7754 20.3691C6.09575 20.7619 6.07316 21.3409 5.70704 21.707C5.34093 22.0731 4.76192 22.0957 4.36915 21.7754L4.29298 21.707L2.29298 19.707L2.22462 19.6309C1.90427 19.2381 1.92686 18.6591 2.29298 18.293Z",fill:n})]})}),f$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M19 7C19.4167 7 19.7901 7.25831 19.9365 7.64844L22.9365 15.6484C23.0927 16.0648 22.9548 16.5345 22.5986 16.8008C21.5568 17.5791 20.297 18 19 18C17.703 18 16.4432 17.5791 15.4014 16.8008C15.0452 16.5345 14.9073 16.0648 15.0635 15.6484L18.0635 7.64844L18.1289 7.50879C18.3041 7.19791 18.6353 7 19 7ZM17.2246 15.5811C17.7758 15.8544 18.3816 16 19 16C19.6181 16 20.2234 15.8541 20.7744 15.5811L19 10.8486L17.2246 15.5811Z",fill:n}),Z.jsx("path",{d:"M4.99999 7C5.41673 7 5.79007 7.25831 5.93652 7.64844L8.93652 15.6484C9.09266 16.0648 8.95478 16.5345 8.59863 16.8008C7.55684 17.5791 6.29703 18 4.99999 18C3.70296 18 2.44315 17.5791 1.40136 16.8008C1.04521 16.5345 0.907331 16.0648 1.06347 15.6484L4.06347 7.64844L4.1289 7.50879C4.30409 7.19791 4.63531 7 4.99999 7ZM3.2246 15.5811C3.7758 15.8544 4.38156 16 4.99999 16C5.61814 16 6.22342 15.8541 6.77441 15.5811L4.99999 10.8486L3.2246 15.5811Z",fill:n}),Z.jsx("path",{d:"M17 20C17.5523 20 18 20.4477 18 21C18 21.5523 17.5523 22 17 22H7C6.44772 22 6 21.5523 6 21C6 20.4477 6.44772 20 7 20H17Z",fill:n}),Z.jsx("path",{d:"M11 21V3C11 2.44772 11.4477 2 12 2C12.5523 2 13 2.44772 13 3V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21Z",fill:n}),Z.jsx("path",{d:"M11.6602 4.05956C11.9161 3.96704 12.2008 3.98224 12.4473 4.10546L12.8213 4.2871C14.7407 5.18917 17.3374 5.99999 19 5.99999H21C21.5523 5.99999 22 6.44771 22 6.99999C22 7.55228 21.5523 7.99999 21 7.99999H19C16.929 7.99999 14.0476 7.06705 12 6.10937C9.95245 7.06705 7.07096 7.99999 5 7.99999H3C2.44772 7.99999 2 7.55228 2 6.99999C2 6.44771 2.44772 5.99999 3 5.99999H5C6.77342 5.99999 9.60934 5.07716 11.5527 4.10546L11.6602 4.05956Z",fill:n})]})}),h$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M20 15C20.6738 15.6738 20.7051 15.706 20.7061 15.708L20.7051 15.709C20.7044 15.7097 20.7039 15.7112 20.7031 15.7119C20.7017 15.7133 20.6998 15.7143 20.6982 15.7158C20.695 15.719 20.6913 15.7229 20.6875 15.7266C20.6799 15.7338 20.671 15.742 20.6611 15.751C20.6412 15.7691 20.6161 15.7904 20.5869 15.8145C20.5282 15.8628 20.4504 15.9224 20.3516 15.9883C20.1536 16.1203 19.8731 16.2779 19.4961 16.4287C18.7402 16.731 17.6125 17 16 17C14.2809 17 12.8607 16.4214 11.6289 15.9287C10.3608 15.4215 9.28069 15 8 15C6.61272 15 5.74022 15.2311 5.24609 15.4287C4.99834 15.5278 4.84105 15.6203 4.75781 15.6758L4.68457 15.7285C4.68649 15.7268 4.68964 15.7242 4.69336 15.7207L4.70605 15.708L4.70508 15.707C4.41908 15.9922 3.99044 16.0784 3.61719 15.9238C3.24359 15.769 3 15.4044 3 15V3C3 2.73478 3.10543 2.48051 3.29297 2.29297L4 3C3.32619 2.32619 3.29494 2.29399 3.29395 2.29199L3.29492 2.29102C3.29565 2.2903 3.29612 2.28884 3.29688 2.28809C3.29829 2.28668 3.30022 2.28568 3.30176 2.28418C3.30504 2.28097 3.30867 2.27709 3.3125 2.27344C3.32014 2.26615 3.32902 2.25798 3.33887 2.24902C3.35878 2.23092 3.38385 2.20963 3.41309 2.18555C3.4718 2.1372 3.54963 2.07759 3.64844 2.01172C3.84641 1.87973 4.12685 1.72211 4.50391 1.57129C5.25978 1.26899 6.38752 1 8 1C9.71915 1 11.1393 1.57856 12.3711 2.07129C13.6392 2.57853 14.7193 3 16 3C17.3873 3 18.2598 2.76894 18.7539 2.57129C19.0017 2.47216 19.159 2.37971 19.2422 2.32422L19.3154 2.27148C19.3135 2.27323 19.3104 2.27575 19.3066 2.2793L19.2949 2.29102C19.5809 2.00658 20.01 1.92174 20.3828 2.07617C20.7564 2.23098 21 2.59558 21 3V15C21 15.2652 20.8946 15.5195 20.707 15.707L20 15ZM8 3C6.61272 3 5.74022 3.23106 5.24609 3.42871C5.15107 3.46673 5.06933 3.50372 5 3.53809V13.3984C5.72765 13.1743 6.70797 13 8 13C9.71915 13 11.1393 13.5786 12.3711 14.0713C13.6392 14.5785 14.7193 15 16 15C17.3873 15 18.2598 14.7689 18.7539 14.5713C18.8491 14.5332 18.9306 14.4954 19 14.4609V4.60059C18.2723 4.82481 17.2922 5 16 5C14.2809 5 12.8607 4.42144 11.6289 3.92871C10.3608 3.42147 9.28069 3 8 3Z",fill:n}),Z.jsx("path",{d:"M3 22V15C3 14.4477 3.44772 14 4 14C4.55228 14 5 14.4477 5 15V22C5 22.5523 4.55228 23 4 23C3.44772 23 3 22.5523 3 22Z",fill:n})]})}),d$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:Z.jsx("path",{d:"M13.3511 1.00426C13.6035 0.979434 13.8584 1.01916 14.0913 1.11949L14.2056 1.17516L14.315 1.23961C14.5276 1.37773 14.7014 1.56768 14.8208 1.79137L14.8765 1.90563L14.9214 2.02477C15.0012 2.26511 15.0193 2.52186 14.9732 2.77086L14.9439 2.89488C14.9403 2.90782 14.9372 2.92116 14.9331 2.93395L13.0132 8.95348L12.9966 9.00035H19.9995C20.377 8.99962 20.7472 9.10533 21.0669 9.30602C21.3874 9.50722 21.6438 9.79572 21.8072 10.1371C21.9705 10.4784 22.0342 10.8589 21.9898 11.2347C21.9509 11.5635 21.8311 11.8768 21.6421 12.1468L21.5562 12.2601L21.4976 12.3265L11.5972 22.5267L11.5962 22.5257C11.3775 22.7596 11.0908 22.9195 10.7749 22.9779C10.4404 23.0398 10.0945 22.986 9.79446 22.8255C9.49446 22.6651 9.25781 22.4067 9.12356 22.0941C8.98947 21.7816 8.96599 21.4328 9.05618 21.1048L9.06692 21.0658L10.9868 15.0463L11.0034 15.0004H3.99954V14.9994C3.62242 14.9999 3.25259 14.8942 2.93313 14.6937C2.61282 14.4926 2.35623 14.2048 2.1929 13.8636C2.02953 13.5222 1.96587 13.1409 2.01028 12.765C2.05474 12.3893 2.2055 12.0334 2.44388 11.7396L2.50247 11.6732L12.4029 1.47399C12.6216 1.23994 12.9092 1.08127 13.2251 1.02281L13.3511 1.00426ZM4.00247 13.0004H10.9995C11.3221 12.9998 11.6401 13.0771 11.9263 13.2259C12.2132 13.3752 12.4602 13.5914 12.645 13.8568C12.8299 14.1223 12.9474 14.4294 12.9878 14.7504C13.0261 15.055 12.9904 15.363 12.8902 15.6527L12.8931 15.6537L11.6265 19.6244L19.9976 11.0004H12.9995V10.9994C12.6774 10.9998 12.3596 10.9234 12.0738 10.7748C11.7868 10.6255 11.5399 10.4084 11.355 10.1429C11.1703 9.87756 11.0527 9.57115 11.0122 9.25035C10.9738 8.94533 11.0084 8.63614 11.1089 8.34606H11.107L12.3726 4.37438L4.00247 13.0004Z",fill:n})})}),p$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M11 22V2C11 1.44772 11.4477 1 12 1C12.5523 1 13 1.44772 13 2V22C13 22.5523 12.5523 23 12 23C11.4477 23 11 22.5523 11 22Z",fill:n}),Z.jsx("path",{d:"M14.293 18.293C14.6835 17.9025 15.3165 17.9025 15.707 18.293C16.0976 18.6835 16.0976 19.3166 15.707 19.7071L12.707 22.7071C12.3409 23.0732 11.7619 23.0958 11.3692 22.7754L11.293 22.7071L8.29298 19.7071L8.22462 19.6309C7.90427 19.2381 7.92686 18.6591 8.29298 18.293C8.65909 17.9269 9.2381 17.9043 9.63087 18.2247L9.70704 18.293L12 20.586L14.293 18.293Z",fill:n}),Z.jsx("path",{d:"M18.293 8.29298C18.6591 7.92686 19.2381 7.90427 19.6308 8.22462L19.707 8.29298L22.707 11.293L22.7754 11.3692C23.0744 11.7357 23.0744 12.2643 22.7754 12.6309L22.707 12.707L19.707 15.707C19.3165 16.0976 18.6835 16.0976 18.293 15.707C17.9024 15.3165 17.9024 14.6835 18.293 14.293L20.5859 12L18.293 9.70704L18.2246 9.63087C17.9042 9.2381 17.9268 8.65909 18.293 8.29298Z",fill:n}),Z.jsx("path",{d:"M22 11C22.5523 11 23 11.4477 23 12C23 12.5523 22.5523 13 22 13H2C1.44772 13 1 12.5523 1 12C1 11.4477 1.44772 11 2 11H22Z",fill:n}),Z.jsx("path",{d:"M4.29295 8.29302C4.68348 7.90249 5.31649 7.90249 5.70702 8.29302C6.09754 8.68354 6.09754 9.31655 5.70702 9.70708L3.41405 12L5.70702 14.293L5.77538 14.3692C6.09573 14.762 6.07313 15.341 5.70702 15.7071C5.3409 16.0732 4.7619 16.0958 4.36913 15.7754L4.29295 15.7071L1.29295 12.7071C0.90243 12.3166 0.90243 11.6835 1.29295 11.293L4.29295 8.29302Z",fill:n}),Z.jsx("path",{d:"M11.3691 1.22462C11.7619 0.904269 12.3409 0.926863 12.707 1.29298L15.707 4.29298L15.7754 4.36915C16.0957 4.76192 16.0731 5.34092 15.707 5.70704C15.3409 6.07316 14.7619 6.09575 14.3691 5.7754L14.293 5.70704L12 3.41407L9.70702 5.70704C9.31649 6.09757 8.68348 6.09757 8.29295 5.70704C7.90243 5.31652 7.90243 4.6835 8.29295 4.29298L11.293 1.29298L11.3691 1.22462Z",fill:n})]})}),m$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M9.00034 5.5C9.00034 4.74769 8.85652 4.07212 8.59019 3.62109C8.35769 3.22741 8.04163 3.00009 7.50034 3C6.41936 3 5.58527 3.56869 4.97398 4.52051C4.42658 5.37285 4.10152 6.48084 4.01987 7.55371L4.00034 8.01074V8.01172C3.98724 9.10357 4.19941 9.85934 4.44468 10.6592C4.69309 11.4693 5.00034 12.388 5.00034 13.6201V16L5.00523 16.0986C5.02792 16.3276 5.12918 16.5429 5.29331 16.707C5.48083 16.8945 5.73521 17 6.00034 17C6.26544 16.9999 6.51992 16.8945 6.70737 16.707C6.87143 16.5429 6.97278 16.3276 6.99546 16.0986L7.00034 16V14.1797C7.00041 12.468 7.56853 10.9122 8.05796 9.53809C8.5659 8.11204 9.00034 6.85579 9.00034 5.5ZM11.0003 5.5C11.0003 7.2541 10.4338 8.82762 9.94175 10.209C9.43125 11.6422 9.00041 12.8716 9.00034 14.1797V16L8.98569 16.2969C8.91745 16.9834 8.61354 17.6289 8.12144 18.1211C7.55891 18.6836 6.79587 18.9999 6.00034 19C5.20469 19 4.44088 18.6837 3.87827 18.1211C3.38627 17.6289 3.08324 16.9834 3.01499 16.2969L3.00034 16V13.6201C3.00034 12.7323 2.79161 12.0908 2.53257 11.2461C2.27037 10.3911 1.98349 9.3962 2.00034 7.98828C2.01714 6.47649 2.42719 4.785 3.29136 3.43945C4.17007 2.07138 5.57144 1 7.50034 1C8.82841 1.00011 9.76191 1.67264 10.3119 2.60352C10.828 3.47749 11.0003 4.55234 11.0003 5.5Z",fill:n}),Z.jsx("path",{d:"M15 20V18.1797C14.9999 16.8716 14.5681 15.6422 14.0576 14.209C13.5656 12.8277 13 11.254 13 9.5C13 8.55234 13.1714 7.47749 13.6875 6.60352C14.2375 5.67242 15.1716 5 16.5 5C18.429 5 19.8303 6.07131 20.709 7.43945C21.5731 8.785 21.9832 10.4765 22 11.9883L21.9922 12.4971C21.9449 13.6425 21.6972 14.4979 21.4678 15.2461C21.2087 16.0909 21 16.7323 21 17.6201V20C21 20.7957 20.6837 21.5585 20.1211 22.1211C19.5585 22.6837 18.7957 23 18 23C17.2043 23 16.4415 22.6837 15.8789 22.1211C15.3867 21.6289 15.0829 20.9835 15.0146 20.2969L15 20ZM15 9.5C15 10.8558 15.4344 12.112 15.9424 13.5381C16.4318 14.9122 16.9999 16.468 17 18.1797V20L17.0049 20.0986C17.0276 20.3276 17.1288 20.5429 17.293 20.707C17.4805 20.8946 17.7348 21 18 21C18.2652 21 18.5195 20.8946 18.707 20.707C18.8946 20.5195 19 20.2652 19 20V17.6201C19 16.388 19.3073 15.4693 19.5557 14.6592C19.8009 13.8594 20.0131 13.1035 20 12.0117V12.0107C19.9866 10.8029 19.6519 9.49466 19.0264 8.52051C18.4151 7.56869 17.581 7 16.5 7C15.9585 7 15.6427 7.22738 15.4102 7.62109C15.1438 8.07212 15 8.74766 15 9.5Z",fill:n}),Z.jsx("path",{d:"M20 16C20.5523 16 21 16.4477 21 17C21 17.5523 20.5523 18 20 18H16C15.4477 18 15 17.5523 15 17C15 16.4477 15.4477 16 16 16H20Z",fill:n}),Z.jsx("path",{d:"M8 12C8.55228 12 9 12.4477 9 13C9 13.5523 8.55228 14 8 14H4C3.44772 14 3 13.5523 3 13C3 12.4477 3.44772 12 4 12H8Z",fill:n})]})}),g$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:Z.jsx("path",{d:"M19 5.99955C16.6805 5.99955 13.9706 4.66296 12.1104 3.03959V3.04057C12.0796 3.01427 12.0405 2.99955 12 2.99955C11.9595 2.99955 11.9204 3.01427 11.8896 3.04057L11.8887 3.03959C10.0971 4.60157 7.48931 5.91506 5.21875 5.99564L5 5.99955V12.9996L5.00879 13.4117C5.09782 15.4371 5.8465 16.9384 6.98633 18.106C8.07404 19.22 9.55305 20.0641 11.2539 20.7232L11.9961 20.9947L12.0186 21.0015C14.0236 20.3018 15.7728 19.381 17.0137 18.1079C18.229 16.861 19 15.2354 19 12.9996V5.99955ZM21 12.9996C21 15.7637 20.021 17.8888 18.4463 19.5044C16.8988 21.0921 14.8204 22.1442 12.6689 22.8941L12.6611 22.897C12.233 23.0421 11.7688 23.0369 11.3438 22.8843V22.8853C11.3379 22.8833 11.3321 22.8805 11.3262 22.8785C11.3246 22.8779 11.3228 22.8781 11.3213 22.8775V22.8765C9.17204 22.132 7.09956 21.0847 5.55566 19.5035C4.07782 17.9898 3.12517 16.0279 3.01172 13.5113L3 12.9996V5.99955C3.00012 5.46928 3.21097 4.96045 3.58594 4.58549C3.96099 4.21056 4.46967 3.99955 5 3.99955L5.32129 3.98783C6.95847 3.86731 9.05353 2.86212 10.582 1.52689L10.5908 1.52006L10.7422 1.40092C11.1082 1.1406 11.5477 0.99955 12 0.99955C12.4523 0.99955 12.8918 1.1406 13.2578 1.40092L13.4092 1.52006L13.418 1.52689L13.7324 1.79154C15.3383 3.0868 17.4277 3.99955 19 3.99955C19.5303 3.99955 20.039 4.21056 20.4141 4.58549C20.789 4.96046 20.9999 5.46928 21 5.99955V12.9996Z",fill:n})})}),KP=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24  ",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M4 4V9H9V4H4ZM11 9C11 10.1046 10.1046 11 9 11H4C2.89543 11 2 10.1046 2 9V4C2 2.89543 2.89543 2 4 2H9C10.1046 2 11 2.89543 11 4V9Z",fill:n}),Z.jsx("path",{d:"M15 4V9H20V4H15ZM22 9C22 10.1046 21.1046 11 20 11H15C13.8954 11 13 10.1046 13 9V4C13 2.89543 13.8954 2 15 2H20C21.1046 2 22 2.89543 22 4V9Z",fill:n}),Z.jsx("path",{d:"M15 15V20H20V15H15ZM22 20C22 21.1046 21.1046 22 20 22H15C13.8954 22 13 21.1046 13 20V15C13 13.8954 13.8954 13 15 13H20C21.1046 13 22 13.8954 22 15V20Z",fill:n}),Z.jsx("path",{d:"M4 15V20H9V15H4ZM11 20C11 21.1046 10.1046 22 9 22H4C2.89543 22 2 21.1046 2 20V15C2 13.8954 2.89543 13 4 13H9C10.1046 13 11 13.8954 11 15V20Z",fill:n})]})}),y$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24  ",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M19 10C19 6.15228 15.8477 3 12 3C8.15228 3 5 6.15228 5 10C5 13.8477 8.15228 17 12 17H20C20.5523 17 21 17.4477 21 18C21 18.5523 20.5523 19 20 19H12C7.04772 19 3 14.9523 3 10C3 5.04772 7.04772 1 12 1C16.9523 1 21 5.04772 21 10C21 10.5523 20.5523 11 20 11C19.4477 11 19 10.5523 19 10Z",fill:n}),Z.jsx("path",{d:"M15.293 13.293C15.6591 12.9269 16.2381 12.9043 16.6309 13.2246L16.707 13.293L20.707 17.293L20.7754 17.3692C21.0957 17.7619 21.0731 18.3409 20.707 18.707L16.707 22.707C16.3165 23.0976 15.6835 23.0976 15.293 22.707C14.9024 22.3165 14.9024 21.6835 15.293 21.293L18.5859 18L15.293 14.707L15.2246 14.6309C14.9043 14.2381 14.9269 13.6591 15.293 13.293Z",fill:n})]})});Th.palette.text.secondary,Th.palette.text.secondary,Th.palette.text.secondary,Th.palette.text.secondary,Th.palette.text.secondary,Th.palette.text.secondary,Th.palette.text.secondary,Th.palette.text.secondary,Th.palette.text.secondary;const W9={Guard:u$,Control:f$,Pass:h$,Submission:d$,TachiWaza:m$,Defense:g$,System:KP,Switch:p$,Transition:y$,default:KP},YL=Wp.palette,DM=YL.formStyles,NM=YL.text;DM.containerBackgroundColor;DM.cardBackgroundColor;NM.secondary,YL.typography.fontFamily;DM.buttonForm,NM.primary;NM.secondary;`${DM.borderColor}`;NM.secondary;var G3,$9;function lAe(){return $9||($9=1,G3=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(!n(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=i;r--!==0;){var a=s[r];if(!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}),G3}var cAe=lAe();const uAe=$p(cAe);var Ew={exports:{}},q3,X9;function fAe(){if(X9)return q3;X9=1;var n;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return n=function(){var e={},t={};return e.on=function(i,r){var s={name:i,handler:r};return t[i]=t[i]||[],t[i].unshift(s),s},e.off=function(i){var r=t[i.name].indexOf(i);r!==-1&&t[i.name].splice(r,1)},e.trigger=function(i,r){var s=t[i],a;if(s)for(a=s.length;a--;)s[a].handler(r)},e},q3=n,q3}var Tw={exports:{}},W3,Y9;function hAe(){if(Y9)return W3;Y9=1,W3=function(r,s,a){var o=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script");typeof s=="function"&&(a=s,s={}),s=s||{},a=a||function(){},c.type=s.type||"text/javascript",c.charset=s.charset||"utf8",c.async="async"in s?!!s.async:!0,c.src=r,s.attrs&&n(c,s.attrs),s.text&&(c.text=""+s.text);var u="onload"in c?e:t;u(c,a),c.onload||e(c,a),o.appendChild(c)};function n(i,r){for(var s in r)i.setAttribute(s,r[s])}function e(i,r){i.onload=function(){this.onerror=this.onload=null,r(null,i)},i.onerror=function(){this.onerror=this.onload=null,r(new Error("Failed to load "+this.src),i)}}function t(i,r){i.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,r(null,i))}}return W3}var K9;function dAe(){return K9||(K9=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=hAe(),i=r(t);function r(s){return s&&s.__esModule?s:{default:s}}e.default=function(s){var a=new Promise(function(o){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){o(window.YT);return}else{var c=window.location.protocol==="http:"?"http:":"https:";(0,i.default)(c+"//www.youtube.com/iframe_api",function(h){h&&s.trigger("error",h)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),o(window.YT)}});return a},n.exports=e.default})(Tw,Tw.exports)),Tw.exports}var ww={exports:{}},Cw={exports:{}},Aw={exports:{}},$3,Z9;function pAe(){if(Z9)return $3;Z9=1;var n=1e3,e=n*60,t=e*60,i=t*24,r=i*365.25;$3=function(u,h){h=h||{};var p=typeof u;if(p==="string"&&u.length>0)return s(u);if(p==="number"&&isNaN(u)===!1)return h.long?o(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var h=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(h){var p=parseFloat(h[1]),y=(h[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return p*r;case"days":case"day":case"d":return p*i;case"hours":case"hour":case"hrs":case"hr":case"h":return p*t;case"minutes":case"minute":case"mins":case"min":case"m":return p*e;case"seconds":case"second":case"secs":case"sec":case"s":return p*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(u){return u>=i?Math.round(u/i)+"d":u>=t?Math.round(u/t)+"h":u>=e?Math.round(u/e)+"m":u>=n?Math.round(u/n)+"s":u+"ms"}function o(u){return c(u,i,"day")||c(u,t,"hour")||c(u,e,"minute")||c(u,n,"second")||u+" ms"}function c(u,h,p){if(!(u<h))return u<h*1.5?Math.floor(u/h)+" "+p:Math.ceil(u/h)+" "+p+"s"}return $3}var Q9;function mAe(){return Q9||(Q9=1,(function(n,e){e=n.exports=r.debug=r.default=r,e.coerce=c,e.disable=a,e.enable=s,e.enabled=o,e.humanize=pAe(),e.names=[],e.skips=[],e.formatters={};var t;function i(u){var h=0,p;for(p in u)h=(h<<5)-h+u.charCodeAt(p),h|=0;return e.colors[Math.abs(h)%e.colors.length]}function r(u){function h(){if(h.enabled){var p=h,y=+new Date,v=y-(t||y);p.diff=v,p.prev=t,p.curr=y,t=y;for(var _=new Array(arguments.length),S=0;S<_.length;S++)_[S]=arguments[S];_[0]=e.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");var E=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,function(w,M){if(w==="%%")return w;E++;var C=e.formatters[M];if(typeof C=="function"){var D=_[E];w=C.call(p,D),_.splice(E,1),E--}return w}),e.formatArgs.call(p,_);var x=h.log||e.log||console.log.bind(console);x.apply(p,_)}}return h.namespace=u,h.enabled=e.enabled(u),h.useColors=e.useColors(),h.color=i(u),typeof e.init=="function"&&e.init(h),h}function s(u){e.save(u),e.names=[],e.skips=[];for(var h=(typeof u=="string"?u:"").split(/[\s,]+/),p=h.length,y=0;y<p;y++)h[y]&&(u=h[y].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.substr(1)+"$")):e.names.push(new RegExp("^"+u+"$")))}function a(){e.enable("")}function o(u){var h,p;for(h=0,p=e.skips.length;h<p;h++)if(e.skips[h].test(u))return!1;for(h=0,p=e.names.length;h<p;h++)if(e.names[h].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}})(Aw,Aw.exports)),Aw.exports}var J9;function gAe(){return J9||(J9=1,(function(n,e){var t={};e=n.exports=mAe(),e.log=s,e.formatArgs=r,e.save=a,e.load=o,e.useColors=i,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:c(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function i(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(u){try{return JSON.stringify(u)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}};function r(u){var h=this.useColors;if(u[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+u[0]+(h?"%c ":" ")+"+"+e.humanize(this.diff),!!h){var p="color: "+this.color;u.splice(1,0,p,"color: inherit");var y=0,v=0;u[0].replace(/%[a-zA-Z%]/g,function(_){_!=="%%"&&(y++,_==="%c"&&(v=y))}),u.splice(v,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(u){try{u==null?e.storage.removeItem("debug"):e.storage.debug=u}catch{}}function o(){var u;try{u=e.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=t.DEBUG),u}e.enable(o());function c(){try{return window.localStorage}catch{}}})(Cw,Cw.exports)),Cw.exports}var Mw={exports:{}},eF;function yAe(){return eF||(eF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],n.exports=e.default})(Mw,Mw.exports)),Mw.exports}var Rw={exports:{}},tF;function vAe(){return tF||(tF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=e.default})(Rw,Rw.exports)),Rw.exports}var Ow={exports:{}},Iw={exports:{}},nF;function _Ae(){return nF||(nF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=e.default})(Iw,Iw.exports)),Iw.exports}var iF;function bAe(){return iF||(iF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=_Ae(),i=r(t);function r(s){return s&&s.__esModule?s:{default:s}}e.default={pauseVideo:{acceptableStates:[i.default.ENDED,i.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[i.default.ENDED,i.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[i.default.ENDED,i.default.PLAYING,i.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=e.default})(Ow,Ow.exports)),Ow.exports}var rF;function xAe(){return rF||(rF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=gAe(),i=h(t),r=yAe(),s=h(r),a=vAe(),o=h(a),c=bAe(),u=h(c);function h(v){return v&&v.__esModule?v:{default:v}}var p=(0,i.default)("youtube-player"),y={};y.proxyEvents=function(v){var _={},S=function(I){var N="on"+I.slice(0,1).toUpperCase()+I.slice(1);_[N]=function(P){p('event "%s"',N,P),v.trigger(I,P)}},E=!0,x=!1,w=void 0;try{for(var M=o.default[Symbol.iterator](),C;!(E=(C=M.next()).done);E=!0){var D=C.value;S(D)}}catch(L){x=!0,w=L}finally{try{!E&&M.return&&M.return()}finally{if(x)throw w}}return _},y.promisifyPlayer=function(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S={},E=function(N){_&&u.default[N]?S[N]=function(){for(var P=arguments.length,U=Array(P),V=0;V<P;V++)U[V]=arguments[V];return v.then(function(z){var F=u.default[N],K=z.getPlayerState(),ee=z[N].apply(z,U);return F.stateChangeRequired||Array.isArray(F.acceptableStates)&&F.acceptableStates.indexOf(K)===-1?new Promise(function(q){var $=function Q(){var se=z.getPlayerState(),de=void 0;typeof F.timeout=="number"&&(de=setTimeout(function(){z.removeEventListener("onStateChange",Q),q()},F.timeout)),Array.isArray(F.acceptableStates)&&F.acceptableStates.indexOf(se)!==-1&&(z.removeEventListener("onStateChange",Q),clearTimeout(de),q())};z.addEventListener("onStateChange",$)}).then(function(){return ee}):ee})}:S[N]=function(){for(var P=arguments.length,U=Array(P),V=0;V<P;V++)U[V]=arguments[V];return v.then(function(z){return z[N].apply(z,U)})}},x=!0,w=!1,M=void 0;try{for(var C=s.default[Symbol.iterator](),D;!(x=(D=C.next()).done);x=!0){var L=D.value;E(L)}}catch(I){w=!0,M=I}finally{try{!x&&C.return&&C.return()}finally{if(w)throw M}}return S},e.default=y,n.exports=e.default})(ww,ww.exports)),ww.exports}var sF;function SAe(){return sF||(sF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},i=fAe(),r=u(i),s=dAe(),a=u(s),o=xAe(),c=u(o);function u(p){return p&&p.__esModule?p:{default:p}}var h=void 0;e.default=function(p){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=(0,r.default)();if(h||(h=(0,a.default)(_)),y.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');y.events=c.default.proxyEvents(_);var S=new Promise(function(x){if((typeof p>"u"?"undefined":t(p))==="object"&&p.playVideo instanceof Function){var w=p;x(w)}else h.then(function(M){var C=new M.Player(p,y);return _.on("ready",function(){x(C)}),null})}),E=c.default.promisifyPlayer(S,v);return E.on=_.on,E.off=_.off,E},n.exports=e.default})(Ew,Ew.exports)),Ew.exports}var EAe=SAe();const TAe=$p(EAe);var wAe=Object.defineProperty,CAe=Object.defineProperties,AAe=Object.getOwnPropertyDescriptors,aF=Object.getOwnPropertySymbols,MAe=Object.prototype.hasOwnProperty,RAe=Object.prototype.propertyIsEnumerable,oF=(n,e,t)=>e in n?wAe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ZP=(n,e)=>{for(var t in e||(e={}))MAe.call(e,t)&&oF(n,t,e[t]);if(aF)for(var t of aF(e))RAe.call(e,t)&&oF(n,t,e[t]);return n},QP=(n,e)=>CAe(n,AAe(e)),OAe=(n,e,t)=>new Promise((i,r)=>{var s=c=>{try{o(t.next(c))}catch(u){r(u)}},a=c=>{try{o(t.throw(c))}catch(u){r(u)}},o=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,a);o((t=t.apply(n,e)).next())});function IAe(n,e){var t,i;if(n.videoId!==e.videoId)return!0;const r=((t=n.opts)==null?void 0:t.playerVars)||{},s=((i=e.opts)==null?void 0:i.playerVars)||{};return r.start!==s.start||r.end!==s.end}function lF(n={}){return QP(ZP({},n),{height:0,width:0,playerVars:QP(ZP({},n.playerVars),{autoplay:0,start:0,end:0})})}function PAe(n,e){return n.videoId!==e.videoId||!uAe(lF(n.opts),lF(e.opts))}function DAe(n,e){var t,i,r,s;return n.id!==e.id||n.className!==e.className||((t=n.opts)==null?void 0:t.width)!==((i=e.opts)==null?void 0:i.width)||((r=n.opts)==null?void 0:r.height)!==((s=e.opts)==null?void 0:s.height)||n.iframeClassName!==e.iframeClassName||n.title!==e.title}var NAe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},LAe={videoId:va.string,id:va.string,className:va.string,iframeClassName:va.string,style:va.object,title:va.string,loading:va.oneOf(["lazy","eager"]),opts:va.objectOf(va.any),onReady:va.func,onError:va.func,onPlay:va.func,onPause:va.func,onEnd:va.func,onStateChange:va.func,onPlaybackRateChange:va.func,onPlaybackQualityChange:va.func},c2=class extends ar.Component{constructor(n){super(n),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var t,i;return(i=(t=this.props).onReady)==null?void 0:i.call(t,e)},this.onPlayerError=e=>{var t,i;return(i=(t=this.props).onError)==null?void 0:i.call(t,e)},this.onPlayerStateChange=e=>{var t,i,r,s,a,o,c,u;switch((i=(t=this.props).onStateChange)==null||i.call(t,e),e.data){case c2.PlayerState.ENDED:(s=(r=this.props).onEnd)==null||s.call(r,e);break;case c2.PlayerState.PLAYING:(o=(a=this.props).onPlay)==null||o.call(a,e);break;case c2.PlayerState.PAUSED:(u=(c=this.props).onPause)==null||u.call(c,e);break}},this.onPlayerPlaybackRateChange=e=>{var t,i;return(i=(t=this.props).onPlaybackRateChange)==null?void 0:i.call(t,e)},this.onPlayerPlaybackQualityChange=e=>{var t,i;return(i=(t=this.props).onPlaybackQualityChange)==null?void 0:i.call(t,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=QP(ZP({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=TAe(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(t=>{this.props.title&&t.setAttribute("title",this.props.title),this.props.loading&&t.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(t=>{this.props.id?t.setAttribute("id",this.props.id):t.removeAttribute("id"),this.props.iframeClassName?t.setAttribute("class",this.props.iframeClassName):t.removeAttribute("class"),this.props.opts&&this.props.opts.width?t.setAttribute("width",this.props.opts.width.toString()):t.removeAttribute("width"),this.props.opts&&this.props.opts.height?t.setAttribute("height",this.props.opts.height.toString()):t.removeAttribute("height"),this.props.title?t.setAttribute("title",this.props.title):t.setAttribute("title","YouTube video player"),this.props.loading?t.setAttribute("loading",this.props.loading):t.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,t,i,r;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let s=!1;const a={videoId:this.props.videoId};if((t=this.props.opts)!=null&&t.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(a.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(a.endSeconds=this.props.opts.playerVars.end)),s){(i=this.internalPlayer)==null||i.loadVideoById(a);return}(r=this.internalPlayer)==null||r.cueVideoById(a)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(n){return OAe(this,null,function*(){DAe(n,this.props)&&this.updatePlayer(),PAe(n,this.props)&&(yield this.resetPlayer()),IAe(n,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return ar.createElement("div",{className:this.props.className,style:this.props.style},ar.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},LM=c2;LM.propTypes=LAe;LM.defaultProps=NAe;LM.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var UAe=LM;const kAe={position:"relative",width:"100%",paddingTop:"56.25%",background:"#000",borderRadius:"4px",overflow:"hidden",marginBottom:"25px","& iframe":{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},zAe="components.nodeConnectionViewer.",BAe=({open:n,onClose:e,nodeData:t})=>{const i=yde(t?.id??0),r=vde(i?.tab_ids),s=H.useRef(null),{t:a}=fy();return H.useLayoutEffect(()=>{if(!s.current)return;s.current.scrollTo({top:0,behavior:"auto"}),bA.timeline().to(s.current,{opacity:0,y:20,duration:.3,ease:"power1.inOut"}).set(s.current,{scrollTop:0}).to(s.current,{opacity:1,y:0,duration:.4,ease:"power2.out"}),yn.setState({connectionViewerActiveStep:null})},[t]),Z.jsxs(qq,{open:n,onClose:e,fullWidth:!0,maxWidth:"md",children:[Z.jsxs($q,{sx:{fontWeight:600,fontSize:"1.4rem"},children:[" ",MP(t?.name??"Node Name")," "]}),Z.jsxs(Wq,{dividers:!0,ref:s,sx:{overflowY:"auto"},children:[Z.jsxs(td,{sx:kAe,children:[" ",t?.videoid&&t.videoid.length>30?Z.jsx("iframe",{src:`https://drive.google.com/file/d/${t.videoid}/preview`,width:"640",height:"360",allow:"autoplay",allowFullScreen:!0}):Z.jsx(UAe,{videoId:t?.videoid})," "]}),Z.jsxs(cp,{direction:"row",spacing:1,mb:2,children:[" ",r.map(o=>Z.jsx(t_e,{label:MP(localStorage.getItem(tr.languageUser)==="es"?o.title_es||o.label:o.title_en||o.label),color:"success",size:"small",variant:"outlined"},o.id))," "]}),Z.jsx(Jx,{sx:{my:2}})," ",Z.jsx(FAe,{nodeId:t?.id?t.id:0})," ",t?.description?.summary&&Z.jsxs(td,{children:[Z.jsxs(Qr,{variant:"h4",gutterBottom:!0,children:[" ",a(zAe+"descriptionLabel")," "]}),Z.jsxs(Qr,{variant:"subtitle2",children:[" ",t.description.summary," "]}),Z.jsxs(DL,{children:[" ",t.description.points.map((o,c)=>Z.jsxs(Kq,{sx:{py:.4},children:[" ",Z.jsx(MEe,{}),Z.jsx(NL,{primary:o})]},c))," "]})]})," "]})]})},ap="components.nodeConnectionViewer.";function cF({children:n,activeTab:e,index:t}){const i=e===t;return Z.jsx(IC,{in:i,timeout:400,unmountOnExit:!0,children:Z.jsx(td,{role:"tabpanel",id:`tabpanel-${t}`,"aria-labelledby":`tab-${t}`,sx:{p:2},children:n})})}function uF(n){return{id:`tab-${n}`,"aria-controls":`tabpanel-${n}`}}function FAe({nodeId:n}){const{t:e}=fy(),t=yn(u=>u.linksData),i=yn(u=>u.connectionViewerActiveStep),r=(u,h)=>{yn.setState(p=>({connectionViewerActiveStep:p.connectionViewerActiveStep===h?null:h}))},s=u=>typeof u=="object"&&u!==null&&"id"in u,a=H.useMemo(()=>t.filter(u=>s(u.source)&&u.source.id===n||u.source===n).map(u=>u.target),[t,n]),o=H.useMemo(()=>t.filter(u=>s(u.target)&&u.target.id===n||u.target===n).map(u=>u.source),[t,n]),c=(u,h)=>u.length===0?Z.jsx(Qr,{variant:"body2",children:h}):Z.jsx(DL,{dense:!0,children:u.map((p,y)=>s(p)?Z.jsx(ar.Fragment,{children:Z.jsxs(BS,{sx:{width:"100%","& .MuiListItemText-primary, .MuiListItemText-secondary":{fontSize:"0.7rem",fontFamily:Wp.palette.typography.fontFamily}},children:[Z.jsxs(Kq,{onClick:()=>{yn.setState({nodeViewData:p})},children:[Z.jsx(cx,{children:(()=>{const v=MP(p.group||"groupEmpty"),_=W9[v]||W9.default;return Z.jsx(_,{color:"primary"})})()}),Z.jsx(NL,{primary:p.name||`${e(ap+"node")} ${p.id}`,secondary:p.group||e(ap+"groupEmpty")})]}),y<u.length-1&&Z.jsx(Jx,{variant:"inset"})]})},p.id):null)});return Z.jsxs(td,{sx:{width:"100%","& .MuiTab-root":{fontSize:"0.85rem",fontFamily:Wp.palette.typography.fontFamily}},children:[Z.jsx(td,{sx:{borderBottom:1,borderColor:"divider"},children:Z.jsxs(Gxe,{value:i??!1,onChange:r,"aria-label":"Node connection viewer tabs",centered:!0,children:[Z.jsx(p6,{icon:Z.jsx(CEe,{}),iconPosition:"start",label:e(ap+"ArrowBackToolTip"),...uF(0),onClick:()=>{i===0&&yn.setState({connectionViewerActiveStep:null})}}),Z.jsx(p6,{icon:Z.jsx(AEe,{}),iconPosition:"end",label:e(ap+"ArrowForwardToolTip"),...uF(1),onClick:()=>{i===1&&yn.setState({connectionViewerActiveStep:null})}})]})}),Z.jsxs(cF,{activeTab:i,index:0,children:[Z.jsx(Qr,{variant:"subtitle2",gutterBottom:!0,children:e(ap+"targetLabel")}),c(o,e(ap+"targetLinksLabel"))]}),Z.jsxs(cF,{activeTab:i,index:1,children:[Z.jsx(Qr,{variant:"subtitle2",gutterBottom:!0,children:e(ap+"sourceLabel")}),c(a,e(ap+"sourceLinksLabel"))]})]})}const VAe={width:"80%",padding:"2rem",backgroundColor:"white",borderRadius:"10px",display:"flex",flexDirection:"column",position:"absolute",zIndex:"10"},Pw={marginBottom:"2rem",display:"flex",flexDirection:"row","& .MuiInputBase-root, .MuiFormControl-root":{width:"100%"}},HAe={width:"100%",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)",backgroundColor:n=>n.palette.mode==="dark"?"rgba(30,30,30,0.9)":"rgba(255,255,255,0.9)",boxShadow:"inset 0 0 8px rgba(0,0,0,0.15)"},jAe=n=>({borderRadius:"10px",marginBottom:"0.25rem",transition:"all 0.25s ease",backgroundColor:n?"rgba(25, 118, 210, 0.1)":"transparent","&:hover":{backgroundColor:n?"rgba(25, 118, 210, 0.2)":"rgba(255,255,255,0.05)",transform:"translateX(4px)"},"& .MuiListItemText-root":{fontWeight:n?600:400,color:n?"primary.main":"text.primary"}}),cs="components.configWindow.",GAe=()=>{const n=yn(I=>I.languageGlobal),e=yn(I=>I.dagModeConfig),t=yn(I=>I.dagLevelDistanceConfig),i=yn(I=>I.systemBjjSelectedNodes),r=yn(I=>I.systemBjjSelectedLinks),[s,a]=H.useState(n),[o,c]=H.useState(e),[u,h]=H.useState(t),[p,y]=H.useState(i),[v,_]=H.useState(r),{t:S,i18n:E}=fy(),x=()=>{localStorage.setItem(tr.languageUser,n),yn.setState({languageGlobal:n,dagModeConfig:localStorage.getItem(tr.dagModeCache),dagLevelDistanceConfig:Number(localStorage.getItem(tr.dagLevelDistanceCache)),isConfigWindowActive:!1})},w=I=>{a(I.target.value),localStorage.setItem(tr.languageUser,I.target.value),E.changeLanguage(I.target.value)},M=I=>{const N=I.target.value;c(N),yn.setState({dagModeConfig:N})},C=I=>{const N=Number(I.target.value);!Number.isNaN(N)&&N>=0&&N<=100&&(h(N),yn.setState({dagLevelDistanceConfig:N}))},D=(I,N)=>{y(P=>P.includes(I)?P.filter(U=>U!==I):[...P,I]),_(P=>P.includes(N)?P.filter(U=>U!==N):[...P,N])},L=()=>{localStorage.setItem(tr.dagModeCache,o),localStorage.setItem(tr.dagLevelDistanceCache,String(u)),localStorage.setItem(tr.systemsCacheNameNodes,JSON.stringify(p)),localStorage.setItem(tr.systemsCacheNameLinks,JSON.stringify(v)),console.log("Node temporal systems:",p),console.log("Link temporal systems:",v),yn.setState({languageGlobal:s,dagModeConfig:o,dagLevelDistanceConfig:u,systemBjjSelectedNodes:p,systemBjjSelectedLinks:v,isConfigWindowActive:!1})};return Z.jsxs(td,{sx:VAe,children:[Z.jsx(tTe,{buttonFunction:x,isPositionAbsolute:!0}),Z.jsx(Qr,{variant:"h4",sx:{fontWeight:"600",marginBottom:"2rem"},children:S(cs+"title")}),Z.jsxs(Ib,{fullWidth:!0,sx:Pw,children:[Z.jsx(r2,{id:"language-select-label",children:S(cs+"language.label")}),Z.jsxs(kC,{labelId:"language-select-label",id:"language-select",defaultValue:n,label:S(cs+"language.label"),onChange:w,children:[Z.jsx(Cl,{value:"es",children:S(cs+"es")}),Z.jsx(Cl,{value:"en",children:S(cs+"en")})]}),Z.jsx(aw,{content:S(cs+"language.description")})]}),Z.jsxs(Ib,{fullWidth:!0,sx:Pw,children:[Z.jsx(r2,{id:"dagMode-select-label",children:S(cs+"dagMode")}),Z.jsxs(kC,{labelId:"dagMode-select-label",id:"dagMode-select",value:o,label:S(cs+"dagMode"),onChange:M,children:[Z.jsx(Cl,{value:"td",children:S(cs+"dagMode.td")}),Z.jsx(Cl,{value:"bu",children:S(cs+"dagMode.bu")}),Z.jsx(Cl,{value:"lr",children:S(cs+"dagMode.lr")}),Z.jsx(Cl,{value:"rl",children:S(cs+"dagMode.rl")}),Z.jsx(Cl,{value:"radialout",children:S(cs+"dagMode.radialout")}),Z.jsx(Cl,{value:"radialin",children:S(cs+"dagMode.radialin")}),Z.jsx(Cl,{value:null,children:S(cs+"dagMode.none")})]}),Z.jsx(aw,{content:S(cs+"dagMode.description")})]}),Z.jsxs(Ib,{fullWidth:!0,sx:Pw,children:[Z.jsx(Yxe,{id:"outlined-number",label:S(cs+"dagLevelDistance"),type:"number",value:u,onChange:C,slotProps:{inputLabel:{shrink:!0}}}),Z.jsx(aw,{content:S(cs+"dagLevelDistance.description")})]}),Z.jsx(r2,{id:"system-select-label",children:S(cs+"system.label")}),Z.jsxs(Ib,{fullWidth:!0,sx:Pw,children:[Z.jsx(US,{sx:HAe,children:Z.jsx(Qq,{dense:!0,children:v6.map(I=>Z.jsxs(Cl,{selected:p.includes(I.valueNodes),onClick:()=>D(I.valueNodes,I.valueLinks),sx:jAe(p.includes(I.valueNodes)),children:[p.includes(I.valueNodes)&&Z.jsx(cx,{children:Z.jsx(REe,{color:"primary"})}),Z.jsx(NL,{inset:!v6.some(N=>N.valueNodes===I.valueNodes),children:I.label})]},I.valueNodes))})}),Z.jsx(aw,{content:S(cs+"system.description")})]}),Z.jsx(BS,{variant:"contained",color:"primary",onClick:L,children:S(cs+"buttonClose")})]})},qAe=ar.memo(GAe),WAe=Wp.palette.typography.fontFamily,$Ae=Z.jsx(vq,{styles:{html:{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh"},body:{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh"},"#root":{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh",fontFamily:WAe}}}),XAe={display:"flex",alignItems:"center",justifyContent:"center"},YAe={width:"100vw",height:"100vh"},fF="components.app.",KAe=()=>{const n=yn(u=>u.nodeViewData),e=yn(u=>u.isNodeSceneViewActive),t=yn(u=>u.isConfigWindowActive),i=yn(u=>u.overlayDontShowAgain),r=yn(u=>u.showFullGraph),s=()=>{yn.setState({showFullGraph:!r})},{t:a}=fy(),o=H.useRef(null),c=H.useCallback(()=>{yn.setState({isNodeSceneViewActive:!1}),o.current&&mde(o.current)},[o]);return Z.jsxs(Z.Fragment,{children:[$Ae,Z.jsxs("div",{style:XAe,children:[t?Z.jsx(qAe,{}):Z.jsx(JEe,{}),Z.jsxs("div",{style:YAe,children:[Z.jsx(BS,{style:{position:"absolute",top:20,left:20,zIndex:10,backgroundColor:"white",padding:"0.5rem 1rem"},onClick:s,children:r?` ${a(fF+"collapsedNodes")}`:` ${a(fF+"expandNodes")}`}),Z.jsxs(uEe,{camera:{fov:ug.fov,near:ug.near,far:ug.far,position:ug.position},style:{backgroundColor:s2.canvasBackgraundColor},children:[Z.jsx(nTe,{cameraControlsRef:o}),Z.jsx(vEe,{ref:o,dollySpeed:ug.dollySpeed,maxDistance:ug.maxDistance,minDistance:ug.minDistance})]})]}),i?null:Z.jsx(oAe,{}),Z.jsx(eTe,{}),Z.jsx(BAe,{open:e,onClose:c,nodeData:n})]})]})};function ZAe(){const n=yn(i=>i.isConfigWindowActive),e=yn(i=>i.systemBjjSelectedNodes),{i18n:t}=fy();return H.useEffect(()=>{const i=localStorage.getItem(tr.languageUser)??tr.languageDefault;t.changeLanguage(i),yn.setState({languageGlobal:i})},[n]),H.useEffect(()=>{localStorage.setItem(tr.dagModeCache,tr.dagMode),localStorage.setItem(tr.dagLevelDistanceCache,String(tr.dagLevelDistance))},[e]),Z.jsx(yY,{children:Z.jsx(GF,{path:aW.root,element:Z.jsx(KAe,{})})})}const Tn=n=>typeof n=="string",vb=()=>{let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t},hF=n=>n==null?"":""+n,QAe=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},JAe=/###/g,dF=n=>n&&n.indexOf("###")>-1?n.replace(JAe,"."):n,pF=n=>!n||Tn(n),hx=(n,e,t)=>{const i=Tn(e)?e.split("."):e;let r=0;for(;r<i.length-1;){if(pF(n))return{};const s=dF(i[r]);!n[s]&&t&&(n[s]=new t),Object.prototype.hasOwnProperty.call(n,s)?n=n[s]:n={},++r}return pF(n)?{}:{obj:n,k:dF(i[r])}},mF=(n,e,t)=>{const{obj:i,k:r}=hx(n,e,Object);if(i!==void 0||e.length===1){i[r]=t;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=hx(n,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=hx(n,a,Object),o?.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=t},eMe=(n,e,t,i)=>{const{obj:r,k:s}=hx(n,e,Object);r[s]=r[s]||[],r[s].push(t)},XC=(n,e)=>{const{obj:t,k:i}=hx(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},tMe=(n,e,t)=>{const i=XC(n,t);return i!==void 0?i:XC(e,t)},v$=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?Tn(n[i])||n[i]instanceof String||Tn(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):v$(n[i],e[i],t):n[i]=e[i]);return n},Wv=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var nMe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const iMe=n=>Tn(n)?n.replace(/[&<>"'\/]/g,e=>nMe[e]):n;class rMe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const sMe=[" ",",","?","!",";"],aMe=new rMe(20),oMe=(n,e,t)=>{e=e||"",t=t||"";const i=sMe.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(i.length===0)return!0;const r=aMe.getRegExp(`(${i.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!r.test(n);if(!s){const a=n.indexOf(t);a>0&&!r.test(n.substring(0,a))&&(s=!0)}return s},JP=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let r=n;for(let s=0;s<i.length;){if(!r||typeof r!="object")return;let a,o="";for(let c=s;c<i.length;++c)if(c!==s&&(o+=t),o+=i[c],a=r[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<i.length-1)continue;s+=c-s+1;break}r=a}return r},nS=n=>n?.replace("_","-"),lMe={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};class YC{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||lMe,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,r){return r&&!this.debug?null:(Tn(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new YC(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new YC(this.logger,e)}}var bf=new YC;class UM{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const r=this.observers[i].get(t)||0;this.observers[i].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,s])=>{for(let a=0;a<s;a++)r(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,s])=>{for(let a=0;a<s;a++)r.apply(r,[e,...t])})}}class gF extends UM{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i,r={}){const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,a=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],i&&(Array.isArray(i)?o.push(...i):Tn(i)&&s?o.push(...i.split(s)):o.push(i)));const c=XC(this.data,o);return!c&&!t&&!i&&e.indexOf(".")>-1&&(e=o[0],t=o[1],i=o.slice(2).join(".")),c||!a||!Tn(i)?c:JP(this.data?.[e]?.[t],i,s)}addResource(e,t,i,r,s={silent:!1}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,t];i&&(o=o.concat(a?i.split(a):i)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),mF(this.data,o,r),s.silent||this.emit("added",e,t,i,r)}addResources(e,t,i,r={silent:!1}){for(const s in i)(Tn(i[s])||Array.isArray(i[s]))&&this.addResource(e,t,s,i[s],{silent:!0});r.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,r,s,a={silent:!1,skipCopy:!1}){let o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),r=i,i=t,t=o[1]),this.addNamespaces(t);let c=XC(this.data,o)||{};a.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?v$(c,i,s):c={...c,...i},mF(this.data,o,c),a.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var _$={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,r){return n.forEach(s=>{e=this.processors[s]?.process(e,t,i,r)??e}),e}};const b$=Symbol("i18next/PATH_KEY");function cMe(){const n=[],e=Object.create(null);let t;return e.get=(i,r)=>(t?.revoke?.(),r===b$?n:(n.push(r),t=Proxy.revocable(i,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function eD(n,e){const{[b$]:t}=n(cMe());return t.join(e?.keySeparator??".")}const yF={},X3=n=>!Tn(n)&&typeof n!="boolean"&&typeof n!="number";class KC extends UM{constructor(e,t={}){super(),QAe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=bf.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const i={...t};if(e==null)return!1;const r=this.resolve(e,i);if(r?.res===void 0)return!1;const s=X3(r.res);return!(i.returnObjects===!1&&s)}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const a=i&&e.indexOf(i)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!oMe(e,i,r);if(a&&!o){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Tn(s)?[s]:s};const u=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(r)}return{key:e,namespaces:Tn(s)?[s]:s}}translate(e,t,i){let r=typeof t=="object"?{...t}:t;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";typeof e=="function"&&(e=eD(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const s=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(e[e.length-1],r),u=c[c.length-1];let h=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const p=r.lng||this.language,y=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p?.toLowerCase()==="cimode")return y?s?{res:`${u}${h}${o}`,usedKey:o,exactUsedKey:o,usedLng:p,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:`${u}${h}${o}`:s?{res:o,usedKey:o,exactUsedKey:o,usedLng:p,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:o;const v=this.resolve(e,r);let _=v?.res;const S=v?.usedKey||o,E=v?.exactUsedKey||o,x=["[object Number]","[object Function]","[object RegExp]"],w=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,M=!this.i18nFormat||this.i18nFormat.handleAsObject,C=r.count!==void 0&&!Tn(r.count),D=KC.hasDefaultValue(r),L=C?this.pluralResolver.getSuffix(p,r.count,r):"",I=r.ordinal&&C?this.pluralResolver.getSuffix(p,r.count,{ordinal:!1}):"",N=C&&!r.ordinal&&r.count===0,P=N&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${L}`]||r[`defaultValue${I}`]||r.defaultValue;let U=_;M&&!_&&D&&(U=P);const V=X3(U),z=Object.prototype.toString.apply(U);if(M&&U&&V&&x.indexOf(z)<0&&!(Tn(w)&&Array.isArray(U))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,U,{...r,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(v.res=F,v.usedParams=this.getUsedParamsDetails(r),v):F}if(a){const F=Array.isArray(U),K=F?[]:{},ee=F?E:S;for(const q in U)if(Object.prototype.hasOwnProperty.call(U,q)){const $=`${ee}${a}${q}`;D&&!_?K[q]=this.translate($,{...r,defaultValue:X3(P)?P[q]:void 0,joinArrays:!1,ns:c}):K[q]=this.translate($,{...r,joinArrays:!1,ns:c}),K[q]===$&&(K[q]=U[q])}_=K}}else if(M&&Tn(w)&&Array.isArray(_))_=_.join(w),_&&(_=this.extendTranslation(_,e,r,i));else{let F=!1,K=!1;!this.isValidLookup(_)&&D&&(F=!0,_=P),this.isValidLookup(_)||(K=!0,_=o);const q=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&K?void 0:_,$=D&&P!==_&&this.options.updateMissing;if(K||F||$){if(this.logger.log($?"updateKey":"missingKey",p,u,o,$?P:_),a){const Y=this.resolve(o,{...r,keySeparator:!1});Y&&Y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Q=[];const se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&se&&se[0])for(let Y=0;Y<se.length;Y++)Q.push(se[Y]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(r.lng||this.language):Q.push(r.lng||this.language);const de=(Y,le,pe)=>{const ue=D&&pe!==_?pe:q;this.options.missingKeyHandler?this.options.missingKeyHandler(Y,u,le,ue,$,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(Y,u,le,ue,$,r),this.emit("missingKey",Y,u,le,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?Q.forEach(Y=>{const le=this.pluralResolver.getSuffixes(Y,r);N&&r[`defaultValue${this.options.pluralSeparator}zero`]&&le.indexOf(`${this.options.pluralSeparator}zero`)<0&&le.push(`${this.options.pluralSeparator}zero`),le.forEach(pe=>{de([Y],o+pe,r[`defaultValue${pe}`]||P)})}):de(Q,o,P))}_=this.extendTranslation(_,e,r,v,i),K&&_===o&&this.options.appendNamespaceToMissingKey&&(_=`${u}${h}${o}`),(K||F)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${h}${o}`:o,F?_:void 0,r))}return s?(v.res=_,v.usedParams=this.getUsedParamsDetails(r),v):_}extendTranslation(e,t,i,r,s){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const c=Tn(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const p=e.match(this.interpolator.nestingRegexp);u=p&&p.length}let h=i.replace&&!Tn(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,i.lng||this.language||r.usedLng,i),c){const p=e.match(this.interpolator.nestingRegexp),y=p&&p.length;u<y&&(i.nest=!1)}!i.lng&&r&&r.res&&(i.lng=this.language||r.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>s?.[0]===p[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):this.translate(...p,t),i)),i.interpolation&&this.interpolator.reset()}const a=i.postProcess||this.options.postProcess,o=Tn(a)?[a]:a;return e!=null&&o?.length&&i.applyPostProcessor!==!1&&(e=_$.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,t={}){let i,r,s,a,o;return Tn(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(i))return;const u=this.extractFromKey(c,t),h=u.key;r=h;let p=u.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const y=t.count!==void 0&&!Tn(t.count),v=y&&!t.ordinal&&t.count===0,_=t.context!==void 0&&(Tn(t.context)||typeof t.context=="number")&&t.context!=="",S=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);p.forEach(E=>{this.isValidLookup(i)||(o=E,!yF[`${S[0]}-${E}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(yF[`${S[0]}-${E}`]=!0,this.logger.warn(`key "${r}" for languages "${S.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(x=>{if(this.isValidLookup(i))return;a=x;const w=[h];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(w,h,x,E,t);else{let C;y&&(C=this.pluralResolver.getSuffix(x,t.count,t));const D=`${this.options.pluralSeparator}zero`,L=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(t.ordinal&&C.indexOf(L)===0&&w.push(h+C.replace(L,this.options.pluralSeparator)),w.push(h+C),v&&w.push(h+D)),_){const I=`${h}${this.options.contextSeparator||"_"}${t.context}`;w.push(I),y&&(t.ordinal&&C.indexOf(L)===0&&w.push(I+C.replace(L,this.options.pluralSeparator)),w.push(I+C),v&&w.push(I+D))}}let M;for(;M=w.pop();)this.isValidLookup(i)||(s=M,i=this.getResource(x,E,M,t))}))})}),{res:i,usedKey:r,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,i,r):this.resourceStore.getResource(e,t,i,r)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Tn(e.replace);let r=i?e.replace:e;if(i&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!i){r={...r};for(const s of t)delete r[s]}return r}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class vF{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=bf.create("languageUtils")}getScriptPartFromCode(e){if(e=nS(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=nS(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Tn(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const r=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const r=this.getScriptPartFromCode(i);if(this.isSupportedCode(r))return t=r;const s=this.getLanguagePartFromCode(i);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Tn(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),r=[],s=a=>{a&&(this.isSupportedCode(a)?r.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Tn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Tn(e)&&s(this.formatLanguageCode(e)),i.forEach(a=>{r.indexOf(a)<0&&s(this.formatLanguageCode(a))}),r}}const _F={zero:0,one:1,two:2,few:3,many:4,other:5},bF={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class uMe{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=bf.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const i=nS(e==="dev"?"en":e),r=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:i,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(i,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),bF;if(!e.match(/-|_/))return bF;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,t)}return this.pluralRulesCache[s]=a,a}needsPlural(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,i={}){return this.getSuffixes(e,i).map(r=>`${t}${r}`)}getSuffixes(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((r,s)=>_F[r]-_F[s]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,t,i={}){const r=this.getRule(e,i);return r?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const xF=(n,e,t,i=".",r=!0)=>{let s=tMe(n,e,t);return!s&&r&&Tn(t)&&(s=JP(n,t,i),s===void 0&&(s=JP(e,t,i))),s},Y3=n=>n.replace(/\$/g,"$$$$");class SF{constructor(e={}){this.logger=bf.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:r,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:c,formatSeparator:u,unescapeSuffix:h,unescapePrefix:p,nestingPrefix:y,nestingPrefixEscaped:v,nestingSuffix:_,nestingSuffixEscaped:S,nestingOptionsSeparator:E,maxReplaces:x,alwaysFormat:w}=e.interpolation;this.escape=t!==void 0?t:iMe,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?Wv(s):a||"{{",this.suffix=o?Wv(o):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=y?Wv(y):v||Wv("$t("),this.nestingSuffix=_?Wv(_):S||Wv(")"),this.nestingOptionsSeparator=E||",",this.maxReplaces=x||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>t?.source===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,i,r){let s,a,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=v=>{if(v.indexOf(this.formatSeparator)<0){const x=xF(t,c,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,i,{...r,...t,interpolationkey:v}):x}const _=v.split(this.formatSeparator),S=_.shift().trim(),E=_.join(this.formatSeparator).trim();return this.format(xF(t,c,S,this.options.keySeparator,this.options.ignoreJSONStructure),E,i,{...r,...t,interpolationkey:S})};this.resetRegExp();const h=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>Y3(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?Y3(this.escape(v)):Y3(v)}].forEach(v=>{for(o=0;s=v.regex.exec(e);){const _=s[1].trim();if(a=u(_),a===void 0)if(typeof h=="function"){const E=h(e,s,r);a=Tn(E)?E:""}else if(r&&Object.prototype.hasOwnProperty.call(r,_))a="";else if(p){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${e}`),a="";else!Tn(a)&&!this.useRawValueToEscape&&(a=hF(a));const S=v.safeValue(a);if(e=e.replace(s[0],S),p?(v.regex.lastIndex+=a.length,v.regex.lastIndex-=s[0].length):v.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t,i={}){let r,s,a;const o=(c,u)=>{const h=this.nestingOptionsSeparator;if(c.indexOf(h)<0)return c;const p=c.split(new RegExp(`${h}[ ]*{`));let y=`{${p[1]}`;c=p[0],y=this.interpolate(y,a);const v=y.match(/'/g),_=y.match(/"/g);((v?.length??0)%2===0&&!_||_.length%2!==0)&&(y=y.replace(/'/g,'"'));try{a=JSON.parse(y),u&&(a={...u,...a})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,S),`${c}${h}${y}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;r=this.nestingRegexp.exec(e);){let c=[];a={...i},a=a.replace&&!Tn(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(u!==-1&&(c=r[1].slice(u).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),r[1]=r[1].slice(0,u)),s=t(o.call(this,r[1].trim(),a),a),s&&r[0]===e&&!Tn(s))return s;Tn(s)||(s=hF(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),c.length&&(s=c.reduce((h,p)=>this.format(h,p,i.lng,{...i,interpolationkey:r[1].trim()}),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}}const fMe=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(a=>{if(a){const[o,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),h=o.trim();t[h]||(t[h]=u),u==="false"&&(t[h]=!1),u==="true"&&(t[h]=!0),isNaN(u)||(t[h]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},EF=n=>{const e={};return(t,i,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s={...s,[r.interpolationkey]:void 0});const a=i+JSON.stringify(s);let o=e[a];return o||(o=n(nS(i),r),e[a]=o),o(t)}},hMe=n=>(e,t,i)=>n(nS(t),i)(e);class dMe{constructor(e={}){this.logger=bf.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const i=t.cacheInBuiltFormats?EF:hMe;this.formats={number:i((r,s)=>{const a=new Intl.NumberFormat(r,{...s});return o=>a.format(o)}),currency:i((r,s)=>{const a=new Intl.NumberFormat(r,{...s,style:"currency"});return o=>a.format(o)}),datetime:i((r,s)=>{const a=new Intl.DateTimeFormat(r,{...s});return o=>a.format(o)}),relativetime:i((r,s)=>{const a=new Intl.RelativeTimeFormat(r,{...s});return o=>a.format(o,s.range||"day")}),list:i((r,s)=>{const a=new Intl.ListFormat(r,{...s});return o=>a.format(o)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=EF(t)}format(e,t,i,r={}){const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,c)=>{const{formatName:u,formatOptions:h}=fMe(c);if(this.formats[u]){let p=o;try{const y=r?.formatParams?.[r.interpolationkey]||{},v=y.locale||y.lng||r.locale||r.lng||i;p=this.formats[u](o,v,{...h,...r,...y})}catch(y){this.logger.warn(y)}return p}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const pMe=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class mMe extends UM{constructor(e,t,i,r={}){super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=bf.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,r.backend,r)}queueLoad(e,t,i,r){const s={},a={},o={},c={};return e.forEach(u=>{let h=!0;t.forEach(p=>{const y=`${u}|${p}`;!i.reload&&this.store.hasResourceBundle(u,p)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?a[y]===void 0&&(a[y]=!0):(this.state[y]=1,h=!1,a[y]===void 0&&(a[y]=!0),s[y]===void 0&&(s[y]=!0),c[p]===void 0&&(c[p]=!0)))}),h||(o[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(e,t,i){const r=e.split("|"),s=r[0],a=r[1];t&&this.emit("failedLoading",s,a,t),!t&&i&&this.store.addResourceBundle(s,a,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const o={};this.queue.forEach(c=>{eMe(c.loaded,[s],a),pMe(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{o[u]||(o[u]={});const h=c.loaded[u];h.length&&h.forEach(p=>{o[u][p]===void 0&&(o[u][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(e,t,i,r=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:r,wait:s,callback:a});return}this.readingCalls++;const o=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(u&&h&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,r+1,s*2,a)},s);return}a(u,h)},c=this.backend[i].bind(this.backend);if(c.length===2){try{const u=c(e,t);u&&typeof u.then=="function"?u.then(h=>o(null,h)).catch(o):o(null,u)}catch(u){o(u)}return}return c(e,t,o)}prepareLoading(e,t,i={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Tn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Tn(t)&&(t=[t]);const s=this.queueLoad(e,t,i,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e,t=""){const i=e.split("|"),r=i[0],s=i[1];this.read(r,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${s} for language ${r} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${s} for language ${r}`,o),this.loaded(e,a,o)})}saveMissing(e,t,i,r,s,a={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const c={...a,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let h;u.length===5?h=u(e,t,i,r,c):h=u(e,t,i,r),h&&typeof h.then=="function"?h.then(p=>o(null,p)).catch(o):o(null,h)}catch(h){o(h)}else u(e,t,i,r,o,c)}!e||!e[0]||this.store.addResource(e[0],t,i,r)}}}const TF=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Tn(n[1])&&(e.defaultValue=n[1]),Tn(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),wF=n=>(Tn(n.ns)&&(n.ns=[n.ns]),Tn(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Tn(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),Dw=()=>{},gMe=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class dx extends UM{constructor(e={},t){if(super(),this.options=wF(e),this.services={},this.logger=bf,this.modules={external:[]},gMe(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Tn(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=TF();this.options={...i,...this.options,...wF(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler);const r=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?bf.init(r(this.modules.logger),this.options):bf.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=dMe;const h=new vF(this.options);this.store=new gF(this.options.resources,this.options);const p=this.services;p.logger=bf,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new uMe(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(p.formatter=r(u),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new SF(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new mMe(r(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(v,..._)=>{this.emit(v,..._)}),this.modules.languageDetector&&(p.languageDetector=r(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=r(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new KC(this.services,this.options),this.translator.on("*",(v,..._)=>{this.emit(v,..._)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Dw),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...h)=>this.store[u](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...h)=>(this.store[u](...h),this)});const o=vb(),c=()=>{const u=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(p),t(h,p)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),o}loadResources(e,t=Dw){let i=t;const r=Tn(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const s=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};r?a(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>a(c)),this.options.preload?.forEach?.(o=>a(o)),this.services.backendConnector.load(s,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(o)})}else i(null)}reloadResources(e,t,i){const r=vb();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=Dw),this.services.backendConnector.reload(e,t,s=>{r.resolve(),i(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&_$.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const i=vb();this.emit("languageChanging",e);const r=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},s=(o,c)=>{c?this.isLanguageChangingTo===e&&(r(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve((...u)=>this.t(...u)),t&&t(o,(...u)=>this.t(...u))},a=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const c=Tn(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Tn(o)?[o]:o);u&&(this.language||r(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,h=>{s(h,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,t,i){const r=(s,a,...o)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([s,a].concat(o)):c={...a},c.lng=c.lng||r.lng,c.lngs=c.lngs||r.lngs,c.ns=c.ns||r.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||i||r.keyPrefix);const u=this.options.keySeparator||".";let h;return c.keyPrefix&&Array.isArray(s)?h=s.map(p=>(typeof p=="function"&&(p=eD(p,{...this.options,...a})),`${c.keyPrefix}${u}${p}`)):(typeof s=="function"&&(s=eD(s,{...this.options,...a})),h=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(h,c)};return Tn(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=i,r}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const a=(o,c)=>{const u=this.services.backendConnector.state[`${o}|${c}`];return u===-1||u===0||u===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(i,e)&&(!r||a(s,e)))}loadNamespaces(e,t){const i=vb();return this.options.ns?(Tn(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{i.resolve(),t&&t(r)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=vb();Tn(e)&&(e=[e]);const r=this.options.preload||[],s=e.filter(a=>r.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=r.concat(s),this.loadResources(a=>{i.resolve(),t&&t(a)}),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const r=new Intl.Locale(e);if(r&&r.getTextInfo){const s=r.getTextInfo();if(s&&s.direction)return s.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new vF(TF());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const i=new dx(e,t);return i.createInstance=dx.createInstance,i}cloneInstance(e={},t=Dw){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},s=new dx(r);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i){const o=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((h,p)=>(h[p]={...c[u][p]},h),c[u]),c),{});s.store=new gF(o,r),s.services.resourceStore=s.store}return e.interpolation&&(s.services.interpolator=new SF(r)),s.translator=new KC(s.services,r),s.translator.on("*",(o,...c)=>{s.emit(o,...c)}),s.init(r,t),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Do=dx.createInstance();Do.createInstance;Do.dir;Do.init;Do.loadResources;Do.reloadResources;Do.use;Do.changeLanguage;Do.getFixedT;Do.t;Do.exists;Do.setDefaultNamespace;Do.hasLoadedNamespace;Do.loadNamespaces;Do.loadLanguages;const yMe={app:{closed:"Session closed",login:"Session started",collapsedNodes:"Collapse Nodes",expandNodes:"Expand Nodes"},accountMenu:{title:"User Menu",triggerAlert:"Session closed",optionsMenu:{login:"Log in",addNode:"Add Node",configuration:"Settings",logOut:"Log out"}},configWindow:{title:"Settings","language.label":"Language","language.description":"Select the preferred application language.",es:"Spanish",en:"English",dagMode:"Hierarchy layout direction","dagMode.description":"Determines how nodes are positioned based on their hierarchy.","dagMode.td":"Top  Down","dagMode.bu":"Bottom  Up","dagMode.lr":"Left  Right","dagMode.rl":"Right  Left","dagMode.radialout":"Radial Outward","dagMode.radialin":"Radial Inward","dagMode.none":"No hierarchy",dagLevelDistance:"Level separation","dagLevelDistance.description":"Sets the spacing between each hierarchical level in the graph(0 - 100).",buttonClose:"Close and Save"},buttonAddNode:{title:"Add Nodes"},navigationgestures:{touch:{title:"Use touch gestures to navigate the scene",text1:"Swipe with one finger: Orbit",text2:"Swipe with two fingers: Pan view",text3:"Pinch with two fingers: Zoom in/out"},desk:{title:"Use the mouse to navigate the scene",text1:"Left click + drag: Orbit",text2:"Right click + drag: Pan view",text3:"Mouse wheel (scroll): Zoom in/out"},checkBoxLabel:"Do not show this again",buttonClose:"Close"},loginUser:{title:"Login to your account",loginGoogle:"Log in with Google"},nodeView:{title:"Video Player",subTitle:"View and analyze the video content below.",brandTitle:"Timestamp Controls",brandSubTitle:"Define the start and end points for specific video segments.",timeBrand:"Select video timestamps:",timeBrandPreview:"Select preview timestamps:",timeBrandInit:"Start:",timeBrandEnd:"End:",timeBrandAll:"Use full video"},nodeConnectionViewer:{ArrowBackToolTip:"Go Back",ArrowForwardToolTip:"Go Forward",groupEmpty:"Unassigned Group",node:"Node",sourceLinksLabel:"This node has no outgoing connections.",targetLinksLabel:"This node has no incoming connections.",sourceLabel:"Outgoing Connections",targetLabel:"Incoming Connections",descriptionLabel:"Description"}},vMe={components:yMe},_Me={app:{closed:"Sesin  cerrada",login:"Sesin  iniciada",collapsedNodes:"Colapsar Nodos",expandNodes:"Expandir Nodos"},accountMenu:{title:"Men Usuario",triggerAlert:"Sesin Cerrada",optionsMenu:{login:"Iniciar sesin",addNode:"Agregar Nodo",configuration:"Configuracin",logOut:"Cerrar sesin"}},configWindow:{title:"Configuracin","language.label":"Idioma","language.description":"Selecciona el idioma preferido de la aplicacin.",es:"Espaol",en:"Ingls",dagMode:"Direccin del layout jerrquico","dagMode.description":"Determina cmo se disponen los nodos en el espacio segn su jerarqua.","dagMode.td":"Arriba  Abajo","dagMode.bu":"Abajo  Arriba","dagMode.lr":"Izquierda  Derecha","dagMode.rl":"Derecha  Izquierda","dagMode.radialout":"Radial  Hacia afuera","dagMode.radialin":"Radial  Hacia adentro","dagMode.none":"Sin jerarqua",dagLevelDistance:"Separacin entre niveles","dagLevelDistance.description":"Define la distancia entre cada nivel jerrquico en el grafo(0 - 100).",buttonClose:"Cerrar y Guardar"},buttonAddNode:{title:"Agregar Nodos"},navigationgestures:{touch:{title:"Usa gestos tctiles para navegar la escena",text1:"Deslizar con un dedo: Orbitar",text2:"Deslizar con dos dedos: Desplazar vista",text3:"Pellizcar con dos dedos Acercar/Alejar (Zoom)"},desk:{title:"Usa el mouse para navegar la escena",text1:"Clic izquierdo + arrastrar: Orbitar",text2:"Clic derecho + arrastrar: Desplazar vista",text3:"Rueda del mouse (scroll): Acercar/Alejar"},checkBoxLabel:"No volver a mostrar esto",buttonClose:"Cerrar"},loginUser:{title:"Inicia sesin en tu cuenta",loginGoogle:"Iniciar sesin con Google"},nodeView:{title:"Reproductor de Video",subTitle:"Visualice y analice el contenido del video a continuacin.",brandTitle:"Controles de Marcas de Tiempo",brandSubTitle:"Defina los puntos de inicio y fin para segmentos especficos del video.",timeBrand:"Seleccionar marcas de tiempo del video:",timeBrandPreview:"Seleccionar marcas de tiempo del preview: ",timeBrandInit:"Inicio: ",timeBrandEnd:"Final: ",timeBrandAll:"Usar video completo"},nodeConnectionViewer:{ArrowBackToolTip:"Retroceder",ArrowForwardToolTip:"Avanzar",groupEmpty:"Grupo no asignado",node:"Nodo",sourceLinksLabel:"Este nodo no tiene conexiones salientes.",targetLinksLabel:"Este nodo no tiene conexiones entrantes.",sourceLabel:"Conexiones salientes",targetLabel:"Conexiones entrantes",descriptionLabel:"Descripcin"}},bMe={components:_Me},xMe={en:{translation:vMe},es:{translation:bMe}};Do.use(qEe).init({resources:xMe,fallbackLng:tr.languageDefault,debug:!1,interpolation:{escapeValue:!1}});bX.createRoot(document.getElementById("root")).render(Z.jsx(H.StrictMode,{children:Z.jsx($K,{domain:void 0,clientId:void 0,authorizationParams:{redirect_uri:window.location.origin},cacheLocation:"localstorage",useRefreshTokens:!0,children:Z.jsx(VY,{basename:"/",children:Z.jsx(ZAe,{})})})}));
